<span data-ttu-id="2ea52-101">hello 접근 방식을 tooAzure 끝점 약간 다르게 작동 hello 리소스 관리자 및 클래식 배포 모델 합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-101">hello approach tooAzure endpoints works a little differently between hello Classic and Resource Manager deployment models.</span></span> <span data-ttu-id="2ea52-102">Hello 리소스 관리자 배포 모델에서 이제 Vm 내부 및 외부로 트래픽의 hello 흐름을 제어 하는 hello 유연성 toocreate 네트워크 필터가 있는 합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-102">In hello Resource Manager deployment model, you now have hello flexibility toocreate network filters that control hello flow of traffic in and out of your VMs.</span></span> <span data-ttu-id="2ea52-103">이러한 필터를 사용 하면 toocreate 복잡 한 네트워킹 환경을 hello 클래식 배포 모델에서와 같이 간단한 끝점을 초과 합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-103">These filters allow you toocreate complex networking environments beyond a simple endpoint as in hello Classic deployment model.</span></span> <span data-ttu-id="2ea52-104">이 문서는 네트워크 보안 그룹과 클래식 끝점 사용 및 필터링 규칙 및 샘플 배포 시나리오 만들기와의 차이점을 간략히 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-104">This article provides an overview of Network Security Groups and how they differ from using Classic endpoints, creating these filtering rules, and sample deployment scenarios.</span></span>

## <a name="overview-of-resource-manager-deployments"></a><span data-ttu-id="2ea52-105">리소스 관리자 배포 개요</span><span class="sxs-lookup"><span data-stu-id="2ea52-105">Overview of Resource Manager deployments</span></span>
<span data-ttu-id="2ea52-106">Hello 클래식 배포 모델에서 끝점 네트워크 보안 그룹으로 대체 하 고 액세스 제어 목록 (ACL) 규칙입니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-106">Endpoints in hello Classic deployment model are replaced by Network Security Groups and access control list (ACL) rules.</span></span> <span data-ttu-id="2ea52-107">네트워크 보안 그룹 ACL 규칙 구현을 위한 빠른 단계는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-107">Quick steps for implementing Network Security Group ACL rules are:</span></span>

* <span data-ttu-id="2ea52-108">네트워크 보안 그룹을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-108">Create a Network Security Group.</span></span>
* <span data-ttu-id="2ea52-109">tooallow 트래픽을 거부 하거나, 네트워크 보안 그룹 ACL 규칙을 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-109">tooallow or deny traffic, define your Network Security Group ACL rules.</span></span>
* <span data-ttu-id="2ea52-110">네트워크 보안 그룹 tooa 네트워크 인터페이스 또는 가상 네트워크 서브넷을 할당 합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-110">Assign your Network Security Group tooa network interface or virtual network subnet.</span></span>

<span data-ttu-id="2ea52-111">Tooalso 부호 포트 전달을 수행, 부하 분산 장치 tooplace VM 앞에 필요 하 고 NAT 규칙을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-111">If you are wanting tooalso perform port-forwarding, you need tooplace a load balancer in front of your VM and use NAT rules.</span></span> <span data-ttu-id="2ea52-112">부하 분산 장치 및 NAT 규칙 구현을 위한 빠른 단계는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-112">Quick steps for implementing a load balancer and NAT rules would be as follows:</span></span>

* <span data-ttu-id="2ea52-113">부하 분산 장치를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-113">Create a load balancer.</span></span>
* <span data-ttu-id="2ea52-114">백 엔드 풀을 만들고 Vm toohello 풀을 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-114">Create a backend pool and add your VMs toohello pool.</span></span>
* <span data-ttu-id="2ea52-115">필요한 hello 포트 전달에 대 한 NAT 규칙을 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-115">Define your NAT rules for hello required port forwarding.</span></span>
* <span data-ttu-id="2ea52-116">NAT 규칙 tooyour Vm을 할당 합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-116">Assign your NAT rules tooyour VMs.</span></span>

## <a name="network-security-group-overview"></a><span data-ttu-id="2ea52-117">네트워크 보안 그룹 개요</span><span class="sxs-lookup"><span data-stu-id="2ea52-117">Network Security Group overview</span></span>
<span data-ttu-id="2ea52-118">네트워크 보안 그룹 Vm 서브넷 tooaccess 및 계층 있습니다 tooallow 특정 포트에 대 한 보안을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-118">Network Security Groups provide a layer of security for you tooallow specific ports and subnets tooaccess your VMs.</span></span> <span data-ttu-id="2ea52-119">일반적으로 항상 있는 Vm과 hello 외부 세계 간의 보안이 계층으로 제공 하는 네트워크 보안 그룹입니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-119">You typically always have a Network Security Group providing this layer of security between your VMs and hello outside world.</span></span> <span data-ttu-id="2ea52-120">네트워크 보안 그룹에는 적용 된 tooa 가상 네트워크 서브넷 또는 VM에 대 한 특정 네트워크 인터페이스 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-120">Network Security Groups can be applied tooa virtual network subnet or a specific network interface for a VM.</span></span> <span data-ttu-id="2ea52-121">이제는 끝점 ACL 규칙을 만드는 대신에 네트워크 보안 그룹 ACL 규칙을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-121">Rather than creating endpoint ACL rules, you now create Network Security Group ACL rules.</span></span> <span data-ttu-id="2ea52-122">이러한 ACL 규칙 단순히 끝점 tooforward 특정된 포트를 만드는 것 보다 많은 큰 제어를 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-122">These ACL rules provide much greater control than simply creating an endpoint tooforward a given port.</span></span> <span data-ttu-id="2ea52-123">자세한 내용은 [NSG(네트워크 보안 그룹)란?](../articles/virtual-network/virtual-networks-nsg.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="2ea52-123">For more information, see [What is a Network Security Group?](../articles/virtual-network/virtual-networks-nsg.md)</span></span>

> [!TIP]
> <span data-ttu-id="2ea52-124">네트워크 보안 그룹 toomultiple 서브넷 또는 네트워크 인터페이스를 할당할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-124">You can assign Network Security Groups toomultiple subnets or network interfaces.</span></span> <span data-ttu-id="2ea52-125">1:1 매핑은 없습니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-125">There is no 1:1 mapping.</span></span> <span data-ttu-id="2ea52-126">네트워크 보안 그룹 ACL 규칙의 공통 집합으로 만들고 toomultiple 서브넷 또는 네트워크 인터페이스를 적용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-126">You can create a Network Security Group with a common set of ACL rules and apply toomultiple subnets or network interfaces.</span></span> <span data-ttu-id="2ea52-127">네트워크 보안 그룹을 구독 전체에서는 tooresources 적용된 될 수 또한 (기반 [역할 기반 액세스 제어](../articles/active-directory/role-based-access-control-what-is.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-127">Further, Network Security Group can be applied tooresources across your subscription (based on [Role Based Access Controls](../articles/active-directory/role-based-access-control-what-is.md).</span></span>

## <a name="load-balancers-overview"></a><span data-ttu-id="2ea52-128">부하 분산 장치 개요</span><span class="sxs-lookup"><span data-stu-id="2ea52-128">Load Balancers overview</span></span>
<span data-ttu-id="2ea52-129">Hello 클래식 배포 모델에서 Azure 모든 hello 네트워크 주소 변환 (NAT)를 수행 하 고 포트 수에 대 한 클라우드 서비스에 전달 합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-129">In hello Classic deployment model, Azure would perform all hello Network Address Translation (NAT) and port forwarding on a Cloud Service for you.</span></span> <span data-ttu-id="2ea52-130">끝점을 만들 때 hello 내부 포트 toodirect 트래픽의 함께 hello 외부 포트 tooexpose을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-130">When creating an endpoint, you would specify hello external port tooexpose along with hello internal port toodirect traffic to.</span></span> <span data-ttu-id="2ea52-131">네트워크 보안 그룹은 단독으로 이 동일한 NAT 및 포트 전달을 수행하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-131">Network Security Groups by themselves do not perform this same NAT and port forwarding.</span></span> 

<span data-ttu-id="2ea52-132">tooallow 리소스 그룹에는 Azure 부하 분산 장치를 만들 전달, 이러한 포트에 대 한 NAT 규칙 toocreate 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-132">tooallow you toocreate NAT rules for such port forwarding, create an Azure load balancer in your resource group.</span></span> <span data-ttu-id="2ea52-133">Hello 부하 분산 장치는 세분화 된 다시 필요한 경우 충분 한 tooonly toospecific Vm을 적용 합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-133">Again, hello load balancer is granular enough tooonly apply toospecific VMs if needed.</span></span> <span data-ttu-id="2ea52-134">Azure hello 훨씬 더 많은 유연성 및 제어를 클라우드 서비스 끝점을 사용 하 여 달성 가능한 것 보다 네트워크 보안 그룹 ACL 규칙 tooprovide 함께 분산 장치 NAT 규칙 작업을 로드 합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-134">hello Azure load balancer NAT rules work alongside Network Security Group ACL rules tooprovide much more flexibility and control than was achievable using Cloud Service endpoints.</span></span> <span data-ttu-id="2ea52-135">자세한 내용은 참조 hello [부하 분산 장치 개요](../articles/load-balancer/load-balancer-overview.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-135">For more information, see hello [load balancer overview](../articles/load-balancer/load-balancer-overview.md).</span></span>

## <a name="network-security-group-acl-rules"></a><span data-ttu-id="2ea52-136">네트워크 보안 그룹 ACL 규칙</span><span class="sxs-lookup"><span data-stu-id="2ea52-136">Network Security Group ACL rules</span></span>
<span data-ttu-id="2ea52-137">ACL 규칙을 통해 특정 포트, 포트 범위 또는 프로토콜을 기반으로 하는 VM 간에 전달될 수 있는 트래픽을 정의할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-137">ACL rules let you define what traffic can flow in and out of your VM based on specific ports, port ranges, or protocols.</span></span> <span data-ttu-id="2ea52-138">규칙은 tooindividual Vm 또는 tooa 서브넷에 할당 됩니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-138">Rules are assigned tooindividual VMs or tooa subnet.</span></span> <span data-ttu-id="2ea52-139">다음 스크린 샷 hello은 일반적인 웹 서버에 대 한 ACL 규칙의 예:</span><span class="sxs-lookup"><span data-stu-id="2ea52-139">hello following screenshot is an example of ACL rules for a common webserver:</span></span>

![네트워크 보안 그룹 ACL 규칙 목록](./media/virtual-machines-common-endpoints-in-resource-manager/example-acl-rules.png)

<span data-ttu-id="2ea52-141">ACL 규칙 우선 순위 하는 메트릭을 지정-hello 값을 높게 hello, hello hello 우선 순위가 낮은에 따라 적용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-141">ACL rules are applied based on a priority metric that you specify - hello higher hello value, hello lower hello priority.</span></span> <span data-ttu-id="2ea52-142">모든 네트워크 보안 그룹에는 세 가지 기본 규칙을 명시적으로 Azure 네트워킹 트래픽을 toohandle hello 흐름 설계 `DenyAllInbound` hello 최종 원칙으로 합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-142">Every Network Security Group has three default rules that are designed toohandle hello flow of Azure networking traffic, with an explicit `DenyAllInbound` as hello final rule.</span></span> <span data-ttu-id="2ea52-143">기본 ACL 규칙은 우선 순위가 낮은 toonot 지정한에 영향을 작성 한 규칙.</span><span class="sxs-lookup"><span data-stu-id="2ea52-143">Default ACL rules are given a low priority toonot interfere with rules you create.</span></span>

## <a name="assigning-network-security-groups"></a><span data-ttu-id="2ea52-144">네트워크 보안 그룹 지정</span><span class="sxs-lookup"><span data-stu-id="2ea52-144">Assigning Network Security Groups</span></span>
<span data-ttu-id="2ea52-145">네트워크 보안 그룹 tooa 서브넷 또는 네트워크 인터페이스를 할당 합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-145">You assign a Network Security Group tooa subnet or a network interface.</span></span> <span data-ttu-id="2ea52-146">이 방법을 사용 하면 toobe tooonly가 특정 VM을 규칙에 ACL을 적용 하는 경우 필요에 따라 세분화 또는 공통 집합을 보장 액세스 제어 목록 규칙은 적용 된 tooall 서브넷의 Vm 일부:</span><span class="sxs-lookup"><span data-stu-id="2ea52-146">This approach allows you toobe as granular as needed when applying your ACL rules tooonly a specific VM, or ensure a common set of ACL rules are applied tooall VMs part of a subnet:</span></span>

![Nsg toonetwork 인터페이스 또는 서브넷을 적용](./media/virtual-machines-common-endpoints-in-resource-manager/apply-nsg-to-resources.png)

<span data-ttu-id="2ea52-148">hello 네트워크 보안 그룹의 hello 동작 tooa 서브넷 또는 네트워크 인터페이스 할당에 따라 변경 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-148">hello behavior of hello Network Security Group doesn't change depending on being assigned tooa subnet or a network interface.</span></span> <span data-ttu-id="2ea52-149">일반적인 배포 시나리오에 네트워크 보안 그룹의 모든 Vm 연결 된 toothat 서브넷 tooa 서브넷 tooensure 규정 준수를 할당 하는 hello 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-149">A common deployment scenario has hello Network Security Group assigned tooa subnet tooensure compliance of all VMs attached toothat subnet.</span></span> <span data-ttu-id="2ea52-150">자세한 내용은 참조 [tooresources 그룹화 네트워크 보안을 적용](../articles/virtual-network/virtual-networks-nsg.md#associating-nsgs)합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-150">For more information, see [applying Network Security groups tooresources](../articles/virtual-network/virtual-networks-nsg.md#associating-nsgs).</span></span>

## <a name="default-behavior-of-network-security-groups"></a><span data-ttu-id="2ea52-151">네트워크 보안 그룹의 기본 동작</span><span class="sxs-lookup"><span data-stu-id="2ea52-151">Default behavior of Network Security Groups</span></span>
<span data-ttu-id="2ea52-152">방법 및 시기를 네트워크 보안 그룹을 만드는에 따라 Windows Vm toopermit RDP 액세스 TCP 포트 3389에 대해 기본 규칙을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-152">Depending on how and when you create your Network Security Group, default rules may be created for Windows VMs toopermit RDP access on TCP port 3389.</span></span> <span data-ttu-id="2ea52-153">Linux VM에 대한 기본 규칙은 TCP 포트 22에 대한 SSH 액세스를 허용합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-153">Default rules for Linux VMs permit SSH access on TCP port 22.</span></span> <span data-ttu-id="2ea52-154">이러한 자동 ACL 규칙은 다음 조건 hello에서 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-154">These automatic ACL rules are created under hello following conditions:</span></span>

* <span data-ttu-id="2ea52-155">Hello 포털을 통해 Windows VM을 만들고 hello 기본 동작 toocreate 네트워크 보안 그룹에 동의 하는 경우 ACL 규칙 tooallow TCP 포트 3389 (RDP)이 생성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-155">If you create a Windows VM through hello portal and accept hello default action toocreate a Network Security Group, an ACL rule tooallow TCP port 3389 (RDP) is created.</span></span>
* <span data-ttu-id="2ea52-156">Hello 포털을 통해 Linux VM을 만들고 hello 기본 동작 toocreate 네트워크 보안 그룹에 동의 하는 경우에 ACL 규칙 tooallow TCP 포트 22 (SSH) 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-156">If you create a Linux VM through hello portal and accept hello default action toocreate a Network Security Group, an ACL rule tooallow TCP port 22 (SSH) is created.</span></span>

<span data-ttu-id="2ea52-157">기타 모든 조건에서는 이러한 기본 ACL 규칙이 만들어지지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-157">Under all other conditions, these default ACL rules are not created.</span></span> <span data-ttu-id="2ea52-158">Hello 적절 한 ACL 규칙을 만들지 않고 tooyour VM을 연결할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-158">You cannot connect tooyour VM without creating hello appropriate ACL rules.</span></span> <span data-ttu-id="2ea52-159">이러한 조건은 일반 동작을 수행 하는 hello를 같습니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-159">These conditions include hello following common actions:</span></span>

* <span data-ttu-id="2ea52-160">별도 작업 toocreating hello VM으로 hello 포털을 통해 네트워크 보안 그룹을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-160">Creating a Network Security Group through hello portal as a separate action toocreating hello VM.</span></span>
* <span data-ttu-id="2ea52-161">PowerShell, Azure CLI, Rest Api 등을 통해 프로그래밍 방식으로 네트워크 보안 그룹 만들기.</span><span class="sxs-lookup"><span data-stu-id="2ea52-161">Creating a Network Security Group programmatically through PowerShell, Azure CLI, Rest APIs, etc.</span></span>
* <span data-ttu-id="2ea52-162">VM을 만들고 tooan 네트워크 보안 그룹에 아직 없는 hello 적절 한 ACL 규칙 정의 하는 기존 할당 합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-162">Creating a VM and assigning it tooan existing Network Security Group that does not already have hello appropriate ACL rule defined.</span></span>

<span data-ttu-id="2ea52-163">경우 앞에 오는 모든 hello, 해야 toocreate ACL 규칙 VM tooallow hello 적절 한 원격 관리 연결에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-163">In all hello preceding cases, you need toocreate ACL rules for your VM tooallow hello appropriate remote management connections.</span></span>

## <a name="default-behavior-of-a-vm-without-a-network-security-group"></a><span data-ttu-id="2ea52-164">네트워크 보안 그룹이 없는 VM의 기본 동작</span><span class="sxs-lookup"><span data-stu-id="2ea52-164">Default behavior of a VM without a Network Security Group</span></span>
<span data-ttu-id="2ea52-165">네트워크 보안 그룹을 만들지 않고 VM을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-165">You can create a VM without creating a Network Security Group.</span></span> <span data-ttu-id="2ea52-166">이러한 상황에서는 tooyour VM을 연결할 수 있는 ACL 규칙을 만들지 않고 RDP 또는 SSH를 사용 하 여 합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-166">In these situations, you can connect tooyour VM using RDP or SSH without creating any ACL rules.</span></span> <span data-ttu-id="2ea52-167">마찬가지로, 웹 서비스를 포트 80에 설치한 경우, 해당 서비스를 원격으로 자동 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-167">Similarly, if you installed a web service on port 80, that service is automatically accessible remotely.</span></span> <span data-ttu-id="2ea52-168">hello VM에는 모든 포트가 열려 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-168">hello VM has all ports open.</span></span>

> [!NOTE]
> <span data-ttu-id="2ea52-169">모든 원격 연결에 대 한 순서는 공용 IP 주소 할당 tooa VM toohave를 보내야합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-169">You still need toohave a public IP address assigned tooa VM in order for any remote connections.</span></span> <span data-ttu-id="2ea52-170">Hello 서브넷 또는 네트워크 인터페이스에 대 한 네트워크 보안 그룹 고 다니지 않아도 hello VM tooany 외부 트래픽이 노출 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-170">Not having a Network Security Group for hello subnet or network interface doesn't expose hello VM tooany external traffic.</span></span> <span data-ttu-id="2ea52-171">hello 기본 동작은 hello 포털을 통해 VM을 만들 때에 새 공용 IP toocreate입니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-171">hello default action when creating a VM through hello portal is toocreate a new public IP.</span></span> <span data-ttu-id="2ea52-172">PowerShell, Azure CLI 또는 Resource Manager 템플릿과 같은 기타 모든 형식의 VM을 만드는 경우 명시적으로 요청하지 않으면 공용 IP를 자동으로 생성하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-172">For all other forms of creating a VM such as PowerShell, Azure CLI, or Resource Manager template, a public IP is not automatically created unless explicitly requested.</span></span> <span data-ttu-id="2ea52-173">네트워크 보안 그룹 toocreate hello 포털을 통해 hello 기본 동작 이기도합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-173">hello default action through hello portal is also toocreate a Network Security Group.</span></span> <span data-ttu-id="2ea52-174">이 기본 작업은 노출된 VM에 네트워크 필터링이 준비되지 않은 상황에 빠지지 않아야 함을 의미합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-174">This default action means you shouldn't end up in a situation with an exposed VM that has no network filtering in place.</span></span>

## <a name="understanding-load-balancers-and-nat-rules"></a><span data-ttu-id="2ea52-175">부하 분산 장치 및 NAT 규칙 이해</span><span class="sxs-lookup"><span data-stu-id="2ea52-175">Understanding Load Balancers and NAT rules</span></span>
<span data-ttu-id="2ea52-176">Hello 클래식 배포 모델에서 포트 전달도 수행 하는 끝점을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-176">In hello Classic deployment model, you could create endpoints that also performed port forwarding.</span></span> <span data-ttu-id="2ea52-177">Hello 클래식 배포 모델에는 VM을 만들 때 RDP 또는 SSH에 대 한 ACL 규칙이 자동으로 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-177">When you create a VM in hello Classic deployment model, ACL rules for RDP or SSH would be automatically created.</span></span> <span data-ttu-id="2ea52-178">이러한 규칙은 TCP 포트 3389 또는 TCP 포트 22 각각 노출 하지 외부 세계 toohello 합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-178">These rules would not expose TCP port 3389 or TCP port 22 respectively toohello outside world.</span></span> <span data-ttu-id="2ea52-179">대신, 우선 순위가 높은 TCP 포트를 노출지 않습니다 toohello 적절 한 내부 포트를 매핑하는.</span><span class="sxs-lookup"><span data-stu-id="2ea52-179">Instead, a high-value TCP port would be exposed that maps toohello appropriate internal port.</span></span> <span data-ttu-id="2ea52-180">비슷한 방식으로 사용자 고유의 ACL 규칙을 만들 수도 수, 노출 같은 TCP에 대 한 웹 서버는 외부 세계 4280 toohello 포트.</span><span class="sxs-lookup"><span data-stu-id="2ea52-180">You could also create your own ACL rules in a similar manner, such as expose a webserver on TCP port 4280 toohello outside world.</span></span> <span data-ttu-id="2ea52-181">이러한 ACL 규칙 및 hello 스크린 샷 hello 클래식 포털에서 다음에 포트 매핑을 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-181">You can see these ACL rules and port mappings in hello following screenshot from hello Classic portal:</span></span>

![클래식 끝점을 사용하여 포트 전달](./media/virtual-machines-common-endpoints-in-resource-manager/classic-endpoints-port-forwarding.png)

<span data-ttu-id="2ea52-183">네트워크 보안 그룹을 사용하는 경우 포트 전달 함수는 부하 분산 장치에서 처리합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-183">With Network Security Groups, that port-forwarding function is handled by a load balancer.</span></span> <span data-ttu-id="2ea52-184">자세한 내용은 [Azure의 부하 분산 장치](../articles/load-balancer/load-balancer-overview.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="2ea52-184">For more information, see [load balancers in Azure](../articles/load-balancer/load-balancer-overview.md).</span></span> <span data-ttu-id="2ea52-185">hello 다음 보여 주는 예제는 부하 분산 장치 NAT 규칙 tooperform 포트 전달을 TCP 포트 4222 toohello 내부 TCP 포트 22 VM:</span><span class="sxs-lookup"><span data-stu-id="2ea52-185">hello following example shows a load balancer with a NAT rule tooperform port-forwarding TCP port 4222 toohello internal TCP port 22 a VM:</span></span>

![포트 전달에 대한 부하 분산 장치 NAT 규칙](./media/virtual-machines-common-endpoints-in-resource-manager/load-balancer-nat-rules.png)

> [!NOTE]
> <span data-ttu-id="2ea52-187">부하 분산 장치를 구현할 때 일반적으로 할당 하지 않으면 hello VM 자체 공용 IP 주소입니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-187">When you implement a load balancer, you typically don't assign hello VM itself a public IP address.</span></span> <span data-ttu-id="2ea52-188">대신, hello 부하 분산 장치에 공용 IP 주소 할당 tooit 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-188">Instead, hello load balancer has a public IP address assigned tooit.</span></span> <span data-ttu-id="2ea52-189">보내야 toocreate에 네트워크 보안 그룹 및 ACL 규칙 toodefine hello 트래픽 흐름을 VM 축소 합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-189">You still need toocreate your Network Security Group and ACL rules toodefine hello flow of traffic in and out of your VM.</span></span> <span data-ttu-id="2ea52-190">hello 부하 분산 장치 NAT 규칙은 어떤 포트 hello 부하 분산 장치 및 hello 백 엔드 Vm 간에 어떻게 분포 get을 통해 허용 된 toodefine 하기만 합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-190">hello load balancer NAT rules are simply toodefine what ports are allowed through hello load balancer and how they get distributed across hello backend VMs.</span></span> <span data-ttu-id="2ea52-191">따라서 toocreate NAT 규칙 hello 부하 분산 장치를 통해 트래픽 tooflow 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-191">As such, you need toocreate a NAT rule for traffic tooflow through hello load balancer.</span></span> <span data-ttu-id="2ea52-192">tooallow hello 트래픽 tooreach hello VM을 네트워크 보안 그룹 ACL 규칙을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="2ea52-192">tooallow hello traffic tooreach hello VM, create a Network Security Group ACL rule.</span></span>
