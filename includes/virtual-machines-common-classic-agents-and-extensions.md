

<span data-ttu-id="4a2bf-101">VM 확장은 다음과 같은 작업에 도움이 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-101">VM extensions can help you:</span></span>

* <span data-ttu-id="4a2bf-102">보안 및 ID 기능 수정(예: 계정 값 재설정 및 맬웨어 방지 프로그램)</span><span class="sxs-lookup"><span data-stu-id="4a2bf-102">Modify security and identity features, such as resetting account values and using antimalware</span></span>
* <span data-ttu-id="4a2bf-103">모니터링 및 진단 시작, 중지 또는 구성</span><span class="sxs-lookup"><span data-stu-id="4a2bf-103">Start, stop, or configure monitoring and diagnostics</span></span>
* <span data-ttu-id="4a2bf-104">연결 기능 재설정 또는 설치(예: RDP 및 SSH)</span><span class="sxs-lookup"><span data-stu-id="4a2bf-104">Reset or install connectivity features, such as RDP and SSH</span></span>
* <span data-ttu-id="4a2bf-105">VM 진단, 모니터링 및 관리</span><span class="sxs-lookup"><span data-stu-id="4a2bf-105">Diagnose, monitor, and manage your VMs</span></span>

<span data-ttu-id="4a2bf-106">많은 다른 기능도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-106">There are many other features as well.</span></span> <span data-ttu-id="4a2bf-107">새 VM 확장 기능은 정기적으로 릴리스됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-107">New VM Extension features are released regularly.</span></span> <span data-ttu-id="4a2bf-108">이 문서에서는 Windows 및 Linux용 Azure VM 에이전트와, 해당 에이전트의 VM 확장 기능 지원 방법에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-108">This article describes the Azure VM Agents for Windows and Linux, and how they support VM Extension functionality.</span></span> <span data-ttu-id="4a2bf-109">기능 범주별 VM 확장 목록은 [Azure VM 확장 및 기능](../articles/virtual-machines/windows/extensions-features.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-109">For a listing of VM Extensions by feature category, see [Azure VM Extensions and Features](../articles/virtual-machines/windows/extensions-features.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

## <a name="azure-vm-agents-for-windows-and-linux"></a><span data-ttu-id="4a2bf-110">Windows 및 Linux 용 Azure VM 에이전트</span><span class="sxs-lookup"><span data-stu-id="4a2bf-110">Azure VM Agents for Windows and Linux</span></span>
<span data-ttu-id="4a2bf-111">Azure VM 에이전트(Virtual Machines 에이전트)는 Azure Virtual Machines의 인스턴스에 대한 VM 확장을 설치, 구성 및 제거하는 안전하고 가벼운 프로세스입니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-111">The Azure Virtual Machines Agent (VM Agent) is a secured, light-weight process that installs, configures, and removes VM extensions on instances of Azure Virtual Machines.</span></span> <span data-ttu-id="4a2bf-112">VM 에이전트는 Azure VM에 대해 안전한 로컬 제어 서비스 형태로 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-112">The VM Agent acts as the secure local control service for your Azure VM.</span></span> <span data-ttu-id="4a2bf-113">에이전트가 로드하는 확장은 인스턴스를 사용한 생산성을 증대하기 위한 특정 기능을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-113">The extensions that the agent loads provide specific features to increase your productivity using the instance.</span></span>

<span data-ttu-id="4a2bf-114">Windows VM용 에이전트와 Linux VM용 에이전트 등, 두 가지 Azure VM 에이전트가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-114">Two Azure VM Agents exist, one for Windows VMs and one for Linux VMs.</span></span>

<span data-ttu-id="4a2bf-115">가상 컴퓨터 인스턴스에서 하나 이상의 VM 확장을 사용하길 원하는 경우 인스턴스에 VM 에이전트가 설치되어 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-115">If you want a virtual machine instance to use one or more VM extensions, the instance must have an installed VM Agent.</span></span> <span data-ttu-id="4a2bf-116">Azure Portal 및 **Marketplace**의 이미지를 사용하여 만든 가상 컴퓨터 이미지는 생성 프로세스에서 VM 에이전트를 자동으로 설치합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-116">A virtual machine image created by using the Azure portal and an image from the **Marketplace** automatically installs a VM Agent in the creation process.</span></span> <span data-ttu-id="4a2bf-117">가상 컴퓨터 인스턴스에 VM 에이전트가 없는 경우 가상 컴퓨터 인스턴스가 만들어진 후 VM 에이전트를 설치할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-117">If a virtual machine instance lacks a VM Agent, you can install the VM Agent after the virtual machine instance is created.</span></span> <span data-ttu-id="4a2bf-118">또는 다음으로 업로드하는 사용자 지정 VM 이미지에 에이전트를 설치할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-118">Or, you can install the agent in a custom VM image that you then upload.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="4a2bf-119">이러한 VM 에이전트는 가상 컴퓨터 인스턴스의 보안 관리를 구현하는 매우 가벼운 서비스입니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-119">These VM Agents are very light-weight, services that enable secured administration of virtual machine instances.</span></span> <span data-ttu-id="4a2bf-120">VM 에이전트를 원하지 않는 경우도 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-120">There might be cases in which you do not want the VM Agent.</span></span> <span data-ttu-id="4a2bf-121">이 경우에는 Azure CLI 또는 PowerShell을 사용하여 설치된 VM 에이전트가 없는 VM을 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-121">If so, be sure to create VMs that do not have the VM Agent installed using the Azure CLI or PowerShell.</span></span> <span data-ttu-id="4a2bf-122">VM 에이전트를 물리적으로 제거할 수는 있지만 인스턴스에서 VM 확장의 동작은 정의되지 않은 상태입니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-122">Although the VM Agent can be removed physically, the behavior of VM Extensions on the instance is undefined.</span></span> <span data-ttu-id="4a2bf-123">결과적으로, 설치된 VM 에이전트의 제거는 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-123">As a result, removing an installed VM Agent is not supported.</span></span>
>

<span data-ttu-id="4a2bf-124">VM 에이전트는 다음과 같은 상황에서 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-124">The VM Agent is enabled in the following situations:</span></span>

* <span data-ttu-id="4a2bf-125">Azure Portal을 사용하고 **Marketplace**에서 이미지를 선택하여 VM의 인스턴스를 만들 때,</span><span class="sxs-lookup"><span data-stu-id="4a2bf-125">When you create an instance of a VM by using the Azure portal and selecting an image from the **Marketplace**,</span></span>
* <span data-ttu-id="4a2bf-126">[New-AzureVM](https://msdn.microsoft.com/library/azure/dn495254.aspx) 또는 [New-AzureQuickVM](https://msdn.microsoft.com/library/azure/dn495183.aspx) cmdlet을 사용하여 VM의 인스턴스를 만들 때.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-126">When you create an instance of a VM by using the [New-AzureVM](https://msdn.microsoft.com/library/azure/dn495254.aspx) or the [New-AzureQuickVM](https://msdn.microsoft.com/library/azure/dn495183.aspx) cmdlet.</span></span> <span data-ttu-id="4a2bf-127">**–DisableGuestAgent** 매개 변수를 [Add-AzureProvisioningConfig](https://msdn.microsoft.com/library/azure/dn495299.aspx) cmdlet에 추가하면 VM 에이전트 없이 VM을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-127">You can create a VM without a VM Agent by adding the **–DisableGuestAgent** parameter to the [Add-AzureProvisioningConfig](https://msdn.microsoft.com/library/azure/dn495299.aspx) cmdlet,</span></span>

* <span data-ttu-id="4a2bf-128">기존 VM 인스턴스에서 VM 에이전트를 수동으로 다운로드하여 설치하고 **ProvisionGuestAgent** 값을 **true**로 설정할 때.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-128">When you manually download and install the VM Agent on an existing VM instance, and set the **ProvisionGuestAgent** value to **true**.</span></span> <span data-ttu-id="4a2bf-129">PowerShell 명령 또는 REST를 호출을 사용하면 Windows 및 Linux 에이전트를 위한 이 명령을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-129">You can use this technique for Windows and Linux agents, by using a PowerShell command or a REST call.</span></span> <span data-ttu-id="4a2bf-130">(VM 에이전트를 수동으로 설치한 후 **ProvisionGuestAgent** 값을 설정하지 않으면 VM 에이전트의 추가 내용이 제대로 검색되지 않습니다.) 다음 코드 예제에서는 `$svc` 및 `$name` 인수가 이미 결정된 상황에서 PowerShell을 사용하여 이 작업을 수행하는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-130">(If you do not set the **ProvisionGuestAgent** value after manually installing the VM Agent, the addition of the VM Agent is not detected properly.) The following code example shows how to do this using PowerShell where the `$svc` and `$name` arguments have already been determined:</span></span>

      $vm = Get-AzureVM –ServiceName $svc –Name $name
      $vm.VM.ProvisionGuestAgent = $TRUE
      Update-AzureVM –Name $name –VM $vm.VM –ServiceName $svc

* <span data-ttu-id="4a2bf-131">설치된 VM 에이전트를 포함하는 VM 이미지를 만들 때.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-131">When you create a VM image that includes an installed VM Agent.</span></span> <span data-ttu-id="4a2bf-132">VM 에이전트가 있는 이미지가 존재하면 해당 이미지를 Azure에 업로드할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-132">Once the image with the VM Agent exists, you can upload that image to Azure.</span></span> <span data-ttu-id="4a2bf-133">Windows VM의 경우 [Windows VM 에이전트 .msi 파일](http://go.microsoft.com/fwlink/?LinkID=394789)을 다운로드하여 VM 에이전트를 설치합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-133">For a Windows VM, download the [Windows VM Agent .msi file](http://go.microsoft.com/fwlink/?LinkID=394789) and install the VM Agent.</span></span> <span data-ttu-id="4a2bf-134">Linux VM의 경우 <https://github.com/Azure/WALinuxAgent>에 있는 GitHub 리포지토리에서 VM 에이전트를 설치합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-134">For a Linux VM, install the VM Agent from the GitHub repository located at <https://github.com/Azure/WALinuxAgent>.</span></span> <span data-ttu-id="4a2bf-135">Linux에서 VM 에이전트를 설치하는 방법에 대한 자세한 내용은 [Azure Linux VM 에이전트 사용자 가이드](../articles/virtual-machines/linux/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-135">For more information on how to install the VM Agent on Linux, see the [Azure Linux VM Agent User Guide](../articles/virtual-machines/linux/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

> [!NOTE]
> <span data-ttu-id="4a2bf-136">PaaS에서는 VM 에이전트를 **WindowsAzureGuestAgent**라고 하며 웹 및 작업자 역할 VM에서 항상 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-136">In PaaS, the VM Agent is called **WindowsAzureGuestAgent**, and is always available on Web and Worker Role VMs.</span></span> <span data-ttu-id="4a2bf-137">(자세한 내용은 [Azure 역할 아키텍처](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx)를 참조하세요.) 역할 VM에 대한 VM 에이전트는 이제 영구 가상 컴퓨터와 동일한 방식으로 클라우드 서비스 VM에 확장을 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-137">(For more information, see [Azure Role Architecture](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx).) The VM Agent for Role VMs can now add extensions to the cloud service VMs in the same way that it does for persistent Virtual Machines.</span></span> <span data-ttu-id="4a2bf-138">영구 VM과 역할 VM의 VM 확장 간 가장 큰 차이점은 VM 확장을 추가할 때입니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-138">The biggest difference between VM Extensions on role VMs and persistent VMs is when the VM extensions are added.</span></span> <span data-ttu-id="4a2bf-139">역할 VM의 경우 확장은 클라우드 서비스에 처음 추가된 다음, 해당 클라우드 서비스 내 배포로 이어집니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-139">With role VMs, extensions are added first to the cloud service, then to the deployments within that cloud service.</span></span>
>
> <span data-ttu-id="4a2bf-140">사용 가능한 모든 역할 VM 확장을 나열하려면 [Get-AzureServiceAvailableExtension](https://msdn.microsoft.com/library/azure/dn722498.aspx) cmdlet을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-140">Use the [Get-AzureServiceAvailableExtension](https://msdn.microsoft.com/library/azure/dn722498.aspx) cmdlet to list all available role VM extensions.</span></span>
>
>

## <a name="find-add-update-and-remove-vm-extensions"></a><span data-ttu-id="4a2bf-141">VM 확장 찾기, 추가, 업데이트 및 제거</span><span class="sxs-lookup"><span data-stu-id="4a2bf-141">Find, Add, Update, and Remove VM Extensions</span></span>
<span data-ttu-id="4a2bf-142">이러한 작업에 대한 자세한 내용은 [Azure VM 확장 추가, 찾기, 업데이트 및 제거](../articles/virtual-machines/windows/classic/manage-extensions.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4a2bf-142">For details on these tasks, see [Add, Find, Update, and Remove Azure VM Extensions](../articles/virtual-machines/windows/classic/manage-extensions.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span></span>
