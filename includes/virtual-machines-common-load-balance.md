

<span data-ttu-id="358de-101">Azure 인프라 서비스에 사용할 수 있는 두 가지 수준의 부하 분산이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="358de-101">There are two levels of load balancing available for Azure infrastructure services:</span></span>

* <span data-ttu-id="358de-102">**DNS 수준**: 트래픽 toodifferent 클라우드 서비스에 대 한 부하 분산에 서로 다른 데이터 센터, 다른 데이터 센터 또는 tooexternal에 있는 toodifferent Azure 웹 사이트 끝점입니다.</span><span class="sxs-lookup"><span data-stu-id="358de-102">**DNS Level**:  Load balancing for traffic toodifferent cloud services located in different data centers, toodifferent Azure websites located in different data centers, or tooexternal endpoints.</span></span> <span data-ttu-id="358de-103">Azure 트래픽 관리자를 사용 하 여 이렇게 및 hello 라운드 로빈 부하 분산 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="358de-103">This is done with Azure Traffic Manager and hello Round Robin load balancing method.</span></span>
* <span data-ttu-id="358de-104">**네트워크 수준**: 부하 분산의 클라우드 서비스의 들어오는 인터넷 트래픽 toodifferent 가상 컴퓨터 또는 클라우드 서비스 또는 가상 네트워크에 가상 컴퓨터 간의 트래픽을 분산을 로드 합니다.</span><span class="sxs-lookup"><span data-stu-id="358de-104">**Network Level**:  Load balancing of incoming Internet traffic toodifferent virtual machines of a cloud service, or load balancing of traffic between virtual machines in a cloud service or virtual network.</span></span> <span data-ttu-id="358de-105">이 hello Azure 부하 분산 장치와 함께 수행 됩니다.</span><span class="sxs-lookup"><span data-stu-id="358de-105">This is done with hello Azure load balancer.</span></span>

## <a name="traffic-manager-load-balancing-for-cloud-services-and-websites"></a><span data-ttu-id="358de-106">클라우드 서비스 및 웹 사이트를 위한 트래픽 관리자 부하 분산</span><span class="sxs-lookup"><span data-stu-id="358de-106">Traffic Manager load balancing for cloud services and websites</span></span>
<span data-ttu-id="358de-107">트래픽 관리자의 클라우드 서비스, 웹 사이트, 외부 사이트 및 다른 트래픽 관리자 프로필을 포함할 수 있는 사용자 트래픽 tooendpoints toocontrol hello 배포를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="358de-107">Traffic Manager allows you toocontrol hello distribution of user traffic tooendpoints, which can include cloud services, websites, external sites, and other Traffic Manager profiles.</span></span> <span data-ttu-id="358de-108">트래픽 관리자는 인터넷 리소스의 hello 도메인 이름에 대 한는 지능적인 정책 엔진 tooDomain (DNS 이름) 쿼리를 적용 하 여 작동 합니다.</span><span class="sxs-lookup"><span data-stu-id="358de-108">Traffic Manager works by applying an intelligent policy engine tooDomain Name System (DNS) queries for hello domain names of your Internet resources.</span></span> <span data-ttu-id="358de-109">클라우드 서비스나 웹 사이트 hello 세계 다른 데이터 센터에서 실행 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="358de-109">Your cloud services or websites can be running in different datacenters across hello world.</span></span>

<span data-ttu-id="358de-110">Windows PowerShell 또는 REST tooconfigure 외부 끝점 또는 트래픽 관리자 프로필 끝점으로 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="358de-110">You must use either REST or Windows PowerShell tooconfigure external endpoints or Traffic Manager profiles as endpoints.</span></span>

<span data-ttu-id="358de-111">트래픽 관리자는 3 메서드 toodistribute 트래픽 부하 분산:</span><span class="sxs-lookup"><span data-stu-id="358de-111">Traffic Manager uses three load-balancing methods toodistribute traffic:</span></span>

* <span data-ttu-id="358de-112">**장애 조치**: 모든 트래픽을 toouse 기본 끝점을 싶지만 기본 hello를 사용할 수 없게 될 경우 백업을 제공 하는 경우이 방법을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="358de-112">**Failover**:  Use this method when you want toouse a primary endpoint for all traffic, but provide backups in case hello primary becomes unavailable.</span></span>
* <span data-ttu-id="358de-113">**성능**: 서로 다른 지리적 위치에 끝점 있고 요청 하는 "클라이언트 toouse hello 가까운" 끝점 hello 가장 짧은 대기 시간을 원하는 경우이 방법을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="358de-113">**Performance**:  Use this method when you have endpoints in different geographic locations and you want requesting clients toouse hello "closest" endpoint in terms of hello lowest latency.</span></span>
* <span data-ttu-id="358de-114">**라운드 로빈:** hello에서 toodistribute 부하의 클라우드 서비스 같은 하려는 경우이 메서드를 사용 하 여 데이터 센터 또는 클라우드 서비스 또는 다른 데이터 센터의 웹 사이트 간에 합니다.</span><span class="sxs-lookup"><span data-stu-id="358de-114">**Round Robin:**  Use this method when you want toodistribute load across a set of cloud services in hello same datacenter or across cloud services or websites in different datacenters.</span></span>

<span data-ttu-id="358de-115">자세한 내용은 [트래픽 관리자 부하 분산 방법](../articles/traffic-manager/traffic-manager-routing-methods.md)(영문)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="358de-115">For more information, see [About Traffic Manager Load Balancing Methods](../articles/traffic-manager/traffic-manager-routing-methods.md).</span></span>

<span data-ttu-id="358de-116">다음 다이어그램 hello hello 서로 다른 클라우드 서비스 간에 트래픽을 분산 시키고에 대 한 라운드 로빈 부하 분산 방법의 예를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="358de-116">hello following diagram shows an example of hello Round Robin load balancing method for distributing traffic between different cloud services.</span></span>

![loadbalancing](./media/virtual-machines-common-load-balance/TMSummary.png)

<span data-ttu-id="358de-118">hello 기본 프로세스는 hello 다음.</span><span class="sxs-lookup"><span data-stu-id="358de-118">hello basic process is hello following:</span></span>

1. <span data-ttu-id="358de-119">인터넷 클라이언트는 도메인 이름을 해당 tooa 웹 서비스를 쿼리합니다.</span><span class="sxs-lookup"><span data-stu-id="358de-119">An Internet client queries a domain name corresponding tooa web service.</span></span>
2. <span data-ttu-id="358de-120">DNS 이름 쿼리 요청 tooTraffic hello 관리자를 전달합니다.</span><span class="sxs-lookup"><span data-stu-id="358de-120">DNS forwards hello name query request tooTraffic Manager.</span></span>
3. <span data-ttu-id="358de-121">트래픽 관리자 라운드 로빈 목록 hello에 hello 다음 클라우드 서비스를 선택 하 고 다시 전송 hello DNS 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="358de-121">Traffic Manager chooses hello next cloud service in hello Round Robin list and sends back hello DNS name.</span></span> <span data-ttu-id="358de-122">hello 인터넷 클라이언트의 DNS 서버 hello 이름 tooan IP 주소를 확인 하 고 인터넷 클라이언트 toohello 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="358de-122">hello Internet client's DNS server resolves hello name tooan IP address and sends it toohello Internet client.</span></span>
4. <span data-ttu-id="358de-123">hello 인터넷 클라이언트에서 트래픽 관리자를 선택 하는 hello 클라우드 서비스와 연결 합니다.</span><span class="sxs-lookup"><span data-stu-id="358de-123">hello Internet client connects with hello cloud service chosen by Traffic Manager.</span></span>

<span data-ttu-id="358de-124">자세한 내용은 [트래픽 관리자](../articles/traffic-manager/traffic-manager-overview.md)(영문)를 참조하십시오.</span><span class="sxs-lookup"><span data-stu-id="358de-124">For more information, see [Traffic Manager](../articles/traffic-manager/traffic-manager-overview.md).</span></span>

## <a name="azure-load-balancing-for-virtual-machines"></a><span data-ttu-id="358de-125">가상 컴퓨터를 위한 Azure 부하 분산</span><span class="sxs-lookup"><span data-stu-id="358de-125">Azure load balancing for virtual machines</span></span>
<span data-ttu-id="358de-126">가상 컴퓨터에 hello 동일한 클라우드 서비스 또는 가상 네트워크와 직접 자신의 개인 IP 주소를 사용 하 여 서로 통신할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="358de-126">Virtual machines in hello same cloud service or virtual network can communicate with each other directly using their private IP addresses.</span></span> <span data-ttu-id="358de-127">클라우드 서비스 컴퓨터와 hello 외부 서비스 또는 클라우드 서비스 또는 구성 된 끝점을 사용 하 여 가상 네트워크에 가상 컴퓨터와 가상 네트워크의 통신만 가능 합니다.</span><span class="sxs-lookup"><span data-stu-id="358de-127">Computers and services outside hello cloud service or virtual network can only communicate with virtual machines in a cloud service or virtual network with a configured endpoint.</span></span> <span data-ttu-id="358de-128">끝점의 공용 IP 주소와 포트 toothat 개인 IP 주소 매핑 및 포트는 가상 컴퓨터 또는 Azure 클라우드 서비스 내에서 웹 역할은.</span><span class="sxs-lookup"><span data-stu-id="358de-128">An endpoint is a mapping of a public IP address and port toothat private IP address and port of a virtual machine or web role within an Azure cloud service.</span></span>

<span data-ttu-id="358de-129">hello Azure 부하 분산 장치는 여러 가상 컴퓨터 또는 부하 분산 된 집합 이라는 구성에서 서비스는 특정 유형의 들어오는 트래픽 임의로 분산 합니다.</span><span class="sxs-lookup"><span data-stu-id="358de-129">hello Azure Load Balancer randomly distributes a specific type of incoming traffic across multiple virtual machines or services in a configuration known as a load-balanced set.</span></span> <span data-ttu-id="358de-130">예를 들어 여러 웹 서버 또는 웹 역할에서 웹 요청 트래픽의 hello 부하를 분배할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="358de-130">For example, you can spread hello load of web request traffic across multiple web servers or web roles.</span></span>

<span data-ttu-id="358de-131">hello 다음 그림에 hello 공용 및 개인 TCP 포트 80에 대 한 세 개의 가상 컴퓨터 간에 공유 되는 표준 (암호화 되지 않은) 웹 트래픽에 대 한 부하 분산 된 끝점입니다.</span><span class="sxs-lookup"><span data-stu-id="358de-131">hello following diagram shows a load-balanced endpoint for standard (unencrypted) web traffic that is shared among three virtual machines for hello public and private TCP port of 80.</span></span> <span data-ttu-id="358de-132">이 세 대의 가상 컴퓨터는 부하 분산 집합에 속합니다.</span><span class="sxs-lookup"><span data-stu-id="358de-132">These three virtual machines are in a load-balanced set.</span></span>

![loadbalancing](./media/virtual-machines-common-load-balance/LoadBalancing.png)

<span data-ttu-id="358de-134">자세한 내용은 [Azure 부하 분산 장치](../articles/load-balancer/load-balancer-overview.md)(영문)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="358de-134">For more information, see [Azure Load Balancer](../articles/load-balancer/load-balancer-overview.md).</span></span> <span data-ttu-id="358de-135">Hello 부하 분산 집합 toocreate를 단계에 대 한 참조 [부하 분산 된 집합 구성](../articles/load-balancer/load-balancer-get-started-internet-arm-ps.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="358de-135">For hello steps toocreate a load-balanced set, see [Configure a load-balanced set](../articles/load-balancer/load-balancer-get-started-internet-arm-ps.md).</span></span>

<span data-ttu-id="358de-136">Azure는 클라우드 서비스 또는 가상 네트워크 내에서 부하를 분산할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="358de-136">Azure can also load balance within a cloud service or virtual network.</span></span> <span data-ttu-id="358de-137">이 내부 부하 분산 이라고와 hello 같은 방법으로 다음에 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="358de-137">This is known as internal load balancing and can be used in hello following ways:</span></span>

* <span data-ttu-id="358de-138">(예를 들어 웹 계층과 데이터베이스 계층) 간 다중 계층 응용 프로그램의 다양 한 계층의 서버 간 tooload 밸런스 합니다.</span><span class="sxs-lookup"><span data-stu-id="358de-138">tooload balance between servers in different tiers of a multi-tier application (for example, between web and database tiers).</span></span>
* <span data-ttu-id="358de-139">(tooload 균형 기간 업무 LOB) 응용 프로그램 추가 부하 분산 장치 하드웨어 또는 소프트웨어 없이 Azure에서 호스트 합니다.</span><span class="sxs-lookup"><span data-stu-id="358de-139">tooload balance line-of-business (LOB) applications hosted in Azure without requiring additional load balancer hardware or software.</span></span>
* <span data-ttu-id="358de-140">tooinclude 온-프레미스 서버 hello 집합이 컴퓨터 트래픽의 부하가 분산 됩니다.</span><span class="sxs-lookup"><span data-stu-id="358de-140">tooinclude on-premises servers in hello set of computers whose traffic is load balanced.</span></span>

<span data-ttu-id="358de-141">내부 부하 분산 된 집합을 구성 하 여 비슷한 tooAzure 부하 분산, 내부 부하 분산은 지원 됩니다.</span><span class="sxs-lookup"><span data-stu-id="358de-141">Similar tooAzure load balancing, internal load balancing is facilitated by configuring an internal load-balanced set.</span></span>

<span data-ttu-id="358de-142">다음 다이어그램 hello 크로스-프레미스 가상 네트워크에 3 개의 가상 컴퓨터 간에 공유 되는 기간 업무 (LOB) 응용 프로그램에 대 한 내부 부하 분산 된 끝점의 예를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="358de-142">hello following diagram shows an example of an internal load-balanced endpoint for a line of business (LOB) application that is shared among three virtual machines in a cross-premises virtual network.</span></span>

![loadbalancing](./media/virtual-machines-common-load-balance/LOBServers.png)

## <a name="load-balancer-considerations"></a><span data-ttu-id="358de-144">부하 분산 장치 고려 사항</span><span class="sxs-lookup"><span data-stu-id="358de-144">Load balancer considerations</span></span>
<span data-ttu-id="358de-145">부하 분산 장치는 기본적으로 구성 된 4 분의 유휴 세션 tootimeout 합니다.</span><span class="sxs-lookup"><span data-stu-id="358de-145">A load balancer is configured by default tootimeout an idle session in 4 minutes.</span></span> <span data-ttu-id="358de-146">응용 프로그램 부하 분산 장치 뒤 연결 유휴 4 분에 대 한 고 Keep-alive 구성 되어 있지 않습니다, hello 연결이 삭제 됩니다.</span><span class="sxs-lookup"><span data-stu-id="358de-146">If your application behind a load balancer leaves a connection idle for more than 4 minutes and it doesn't have a Keep-Alive configuration, hello connection will be dropped.</span></span> <span data-ttu-id="358de-147">부하 분산 장치 동작 tooallow hello를 변경할 수는 [Azure 부하 분산 장치에 대 한 긴 시간 제한 설정을](../articles/load-balancer/load-balancer-tcp-idle-timeout.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="358de-147">You can change hello load balancer behavior tooallow a [longer timeout setting for Azure load balancer](../articles/load-balancer/load-balancer-tcp-idle-timeout.md).</span></span>

<span data-ttu-id="358de-148">다른 고려 사항은 hello 유형의 Azure 부하 분산 장치에서 지 원하는 배포 모드입니다.</span><span class="sxs-lookup"><span data-stu-id="358de-148">Other consideration is hello type of distribution mode supported by Azure Load Balancer.</span></span> <span data-ttu-id="358de-149">원본 IP 선호도(원본 IP, 대상 IP) 또는 원본 IP 프로토콜(원본 IP, 대상 IP 및 프로토콜)을 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="358de-149">You can configure source IP affinity (source IP, destination IP) or source IP protocol (source IP , destination IP and protocol).</span></span> <span data-ttu-id="358de-150">자세한 내용은 [Azure 부하 분산 장치 배포 모드(원본 IP 선호도)](../articles/load-balancer/load-balancer-distribution-mode.md) 를 확인하세요.</span><span class="sxs-lookup"><span data-stu-id="358de-150">Check out [Azure Load Balancer distribution mode (source IP affinity)](../articles/load-balancer/load-balancer-distribution-mode.md) for more information.</span></span>

## <a name="next-steps"></a><span data-ttu-id="358de-151">다음 단계</span><span class="sxs-lookup"><span data-stu-id="358de-151">Next steps</span></span>
<span data-ttu-id="358de-152">Hello 부하 분산 집합 toocreate를 단계에 대 한 참조 [내부 부하 분산 된 집합 구성](../articles/load-balancer/load-balancer-get-started-ilb-arm-ps.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="358de-152">For hello steps toocreate a load-balanced set, see [Configure an internal load-balanced set](../articles/load-balancer/load-balancer-get-started-ilb-arm-ps.md).</span></span>

<span data-ttu-id="358de-153">자세한 내용은 [내부 부하 분산](../articles/load-balancer/load-balancer-internal-overview.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="358de-153">For more information about load balancer, see [Internal load balancing](../articles/load-balancer/load-balancer-internal-overview.md).</span></span>

