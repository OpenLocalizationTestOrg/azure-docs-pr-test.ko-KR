
<span data-ttu-id="3ec67-101">각 끝점에는 *공용 포트*와 *개인 포트*가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-101">Each endpoint has a *public port* and a *private port*:</span></span>

* <span data-ttu-id="3ec67-102">공용 포트는 Azure 부하 분산 장치가 인터넷에서 가상 컴퓨터로 들어오는 트래픽을 수신 대기하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-102">The public port is used by the Azure load balancer to listen for incoming traffic to the virtual machine from the Internet.</span></span>
* <span data-ttu-id="3ec67-103">개인 포트는 가상 컴퓨터가 일반적으로 해당 가상 컴퓨터에서 실행되는 응용 프로그램 또는 서비스를 대상으로 하는 들어오는 트래픽을 수신 대기하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-103">The private port is used by the virtual machine to listen for incoming traffic, typically destined to an application or service running on the virtual machine.</span></span>

<span data-ttu-id="3ec67-104">Azure Portal을 사용하여 끝점을 만드는 경우 잘 알려진 네트워크 프로토콜의 TCP 또는 UDP 포트 및 IP 프로토콜 기본값이 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-104">Default values for the IP protocol and TCP or UDP ports for well-known network protocols are provided when you create endpoints with the Azure portal.</span></span> <span data-ttu-id="3ec67-105">사용자 지정 끝점의 경우 올바른 IP 프로토콜(TCP 또는 UDP)과 공용 및 개인 포트를 직접 지정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-105">For custom endpoints, you'll need to specify the correct IP protocol (TCP or UDP) and the public and private ports.</span></span> <span data-ttu-id="3ec67-106">들어오는 트래픽을 여러 가상 컴퓨터에 임의로 배포하려면 여러 끝점으로 구성된 부하 분산된 집합을 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-106">To distribute incoming traffic randomly across multiple virtual machines, you'll need to create a load-balanced set consisting of multiple endpoints.</span></span>

<span data-ttu-id="3ec67-107">끝점을 만든 후 ACL(액세스 제어 목록)을 사용하여 해당 원본 IP 주소에 따라 끝점의 공용 포트로 들어오는 트래픽을 허용하거나 거부하는 규칙을 정의할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-107">After you create an endpoint, you can use an access control list (ACL) to define rules that permit or deny the incoming traffic to the public port of the endpoint based on its source IP address.</span></span> <span data-ttu-id="3ec67-108">그러나 가상 컴퓨터가 Azure 가상 네트워크에 있는 경우에는 대신 네트워크 보안 그룹을 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-108">However, if the virtual machine is in an Azure virtual network, you should use network security groups instead.</span></span> <span data-ttu-id="3ec67-109">자세한 내용은 [네트워크 보안 그룹 정보](../articles/virtual-network/virtual-networks-nsg.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="3ec67-109">For details, see [About network security groups](../articles/virtual-network/virtual-networks-nsg.md).</span></span>

> [!NOTE]
> <span data-ttu-id="3ec67-110">Azure가 자동으로 설정하는 원격 연결 끝점과 연결된 포트에 대해서는 Azure 가상 컴퓨터의 방화벽 구성이 자동으로 수행됩니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-110">Firewall configuration for Azure virtual machines is done automatically for ports associated with remote connectivity endpoints that Azure sets up automatically.</span></span> <span data-ttu-id="3ec67-111">다른 모든 끝점에 지정된 포트의 경우 가상 컴퓨터의 방화벽에 대한 구성이 자동으로 수행되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-111">For ports specified for all other endpoints, no configuration is done automatically to the firewall of the virtual machine.</span></span> <span data-ttu-id="3ec67-112">가상 컴퓨터에 대한 끝점을 만들 때 가상 컴퓨터의 방화벽에서 끝점 구성에 해당하는 프로토콜 및 개인 포트에 대한 트래픽도 허용하도록 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-112">When you create an endpoint for the virtual machine, you'll need to ensure that the firewall of the virtual machine also allows the traffic for the protocol and private port corresponding to the endpoint configuration.</span></span> <span data-ttu-id="3ec67-113">방화벽을 구성하려면 가상 컴퓨터에서 실행 중인 운영 체제의 설명서 또는 온라인 도움말을 참조하십시오.</span><span class="sxs-lookup"><span data-stu-id="3ec67-113">To configure the firewall, see the documentation or on-line help for the operating system running on the virtual machine.</span></span>
>
>

## <a name="create-an-endpoint"></a><span data-ttu-id="3ec67-114">끝점 만들기</span><span class="sxs-lookup"><span data-stu-id="3ec67-114">Create an endpoint</span></span>
1. <span data-ttu-id="3ec67-115">아직 로그인하지 않은 경우 [Azure 포털](https://portal.azure.com)에 로그인합니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-115">If you haven't already done so, sign in to the [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="3ec67-116">**가상 컴퓨터**를 클릭하고 구성하려는 가상 컴퓨터의 이름을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-116">Click **Virtual Machines**, and then click the name of the virtual machine that you want to configure.</span></span>
3. <span data-ttu-id="3ec67-117">**설정** 그룹에서 **끝점**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-117">Click **Endpoints** in the **Settings** group.</span></span> <span data-ttu-id="3ec67-118">**끝점** 페이지에는 가상 컴퓨터에 대한 모든 현재 끝점이 나열됩니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-118">The **Endpoints** page lists all the current endpoints for the virtual machine.</span></span> <span data-ttu-id="3ec67-119">(이 예제는 Windows VM입니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-119">(This example is a Windows VM.</span></span> <span data-ttu-id="3ec67-120">Linux VM에는 기본적으로 SSH용 끝점이 표시됩니다.)</span><span class="sxs-lookup"><span data-stu-id="3ec67-120">A Linux VM will by default show an endpoint for SSH.)</span></span>

   <!-- ![Endpoints](./media/virtual-machines-common-classic-setup-endpoints/endpointswindows.png) -->
   ![끝점](./media/virtual-machines-common-classic-setup-endpoints/endpointsblade.png)

4. <span data-ttu-id="3ec67-122">끝점 항목 위에 명령 모음에서 **추가**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-122">In the command bar above the endpoint entries, click **Add**.</span></span>
5. <span data-ttu-id="3ec67-123">**끝점 추가** 페이지에서 **이름**에 끝점의 이름을 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-123">On the **Add endpoint** page, type a name for the endpoint in **Name**.</span></span>
6. <span data-ttu-id="3ec67-124">**프로토콜**에서 **TCP** 또는 **UDP**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-124">In **Protocol**, choose either **TCP** or **UDP**.</span></span>
7. <span data-ttu-id="3ec67-125">**공용 포트**에 인터넷에서 들어오는 트래픽에 대한 포트 번호를 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-125">In **Public Port**, type the port number for the incoming traffic from the Internet.</span></span> <span data-ttu-id="3ec67-126">**개인 포트**에 가상 컴퓨터에서 수신 대기할 포트 번호를 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-126">In **Private Port**, type the port number on which the virtual machine is listening.</span></span> <span data-ttu-id="3ec67-127">이러한 포트 번호는 다를 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-127">These port numbers can be different.</span></span> <span data-ttu-id="3ec67-128">가상 컴퓨터의 방화벽이 프로토콜(6단계) 및 개인 포트에 해당하는 트래픽을 허용하도록 구성되었는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-128">Ensure that the firewall on the virtual machine has been configured to allow the traffic corresponding to the protocol (in step 6) and private port.</span></span>
10. <span data-ttu-id="3ec67-129">**확인**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-129">Click **Ok**.</span></span>

<span data-ttu-id="3ec67-130">새 끝점은 **끝점** 페이지에 나열됩니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-130">The new endpoint will be listed on the **Endpoints** page.</span></span>

![끝점 만들기 성공](./media/virtual-machines-common-classic-setup-endpoints/endpointcreated.png)

## <a name="manage-the-acl-on-an-endpoint"></a><span data-ttu-id="3ec67-132">끝점에 대한 ACL 관리</span><span class="sxs-lookup"><span data-stu-id="3ec67-132">Manage the ACL on an endpoint</span></span>
<span data-ttu-id="3ec67-133">트래픽을 보낼 수 있는 컴퓨터 집합을 정의하기 위해 끝점의 ACL이 원본 IP 주소에 따라 트래픽을 제한할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-133">To define the set of computers that can send traffic, the ACL on an endpoint can restrict traffic based upon source IP address.</span></span> <span data-ttu-id="3ec67-134">끝점에 대한 ACL을 추가, 수정 또는 제거하려면 다음 단계를 따르십시오.</span><span class="sxs-lookup"><span data-stu-id="3ec67-134">Follow these steps to add, modify, or remove an ACL on an endpoint.</span></span>

> [!NOTE]
> <span data-ttu-id="3ec67-135">끝점이 부하 분산 집합의 일부인 경우 끝점에 대한 ACL의 변경 내용이 집합의 모든 끝점에 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-135">If the endpoint is part of a load-balanced set, any changes you make to the ACL on an endpoint are applied to all endpoints in the set.</span></span>
>
>

<span data-ttu-id="3ec67-136">가상 컴퓨터가 Azure 가상 네트워크에 있는 경우에는 ACL 대신 네트워크 보안 그룹을 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-136">If the virtual machine is in an Azure virtual network, we recommend network security groups instead of ACLs.</span></span> <span data-ttu-id="3ec67-137">자세한 내용은 [네트워크 보안 그룹 정보](../articles/virtual-network/virtual-networks-nsg.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="3ec67-137">For details, see [About network security groups](../articles/virtual-network/virtual-networks-nsg.md).</span></span>

1. <span data-ttu-id="3ec67-138">아직 로그인하지 않은 경우 Azure 포털에 로그인합니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-138">If you haven't already done so, sign in to the Azure portal.</span></span>
2. <span data-ttu-id="3ec67-139">**가상 컴퓨터**를 클릭하고 구성하려는 가상 컴퓨터의 이름을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-139">Click **Virtual Machines**, and then click the name of the virtual machine that you want to configure.</span></span>
3. <span data-ttu-id="3ec67-140">**Endpoints**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-140">Click **Endpoints**.</span></span> <span data-ttu-id="3ec67-141">목록에서 해당 끝점을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-141">From the list, select the appropriate endpoint.</span></span> <span data-ttu-id="3ec67-142">ACL 목록은 페이지 맨 아래에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-142">The ACL list is at the bottom of the page.</span></span>

   ![ACL 세부 정보 지정](./media/virtual-machines-common-classic-setup-endpoints/aclpreentry.png)

4. <span data-ttu-id="3ec67-144">목록의 행을 사용하여 ACL에 대한 규칙을 추가, 삭제 또는 편집하고 해당 순서를 변경합니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-144">Use rows in the list to add, delete, or edit rules for an ACL and change their order.</span></span> <span data-ttu-id="3ec67-145">**원격 서브넷** 값은 인터넷에서 들어오는 트래픽에 대한 IP 주소 범위로서, Azure 부하 분산 장치는 해당 원본 IP 주소에 따라 트래픽을 허용하거나 거부하도록 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-145">The **Remote Subnet** value is an IP address range for incoming traffic from the Internet that the Azure load balancer uses to permit or deny the traffic based on its source IP address.</span></span> <span data-ttu-id="3ec67-146">주소 접두사 형식이라고도 하는 CIDR 형식으로 IP 주소 범위를 지정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-146">Be sure to specify the IP address range in CIDR format, also known as address prefix format.</span></span> <span data-ttu-id="3ec67-147">예는 `10.1.0.0/8`입니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-147">An example is `10.1.0.0/8`.</span></span>

 ![새 ACL 항목](./media/virtual-machines-common-classic-setup-endpoints/newaclentry.png)


<span data-ttu-id="3ec67-149">규칙을 사용하여 인터넷의 컴퓨터에 해당하는 특정 컴퓨터에서 들어오는 트래픽만 허용하고 알려진 특정 주소 범위에서 들어오는 트래픽을 거부할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-149">You can use rules to allow only traffic from specific computers corresponding to your computers on the Internet or to deny traffic from specific, known address ranges.</span></span>

<span data-ttu-id="3ec67-150">규칙은 첫 번째 규칙에서 시작하여 마지막 규칙까지 순서대로 평가됩니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-150">The rules are evaluated in order starting with the first rule and ending with the last rule.</span></span> <span data-ttu-id="3ec67-151">따라서 가장 제한적인 규칙까지 오름차순으로 규칙의 순서를 지정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="3ec67-151">This means that rules should be ordered from least restrictive to most restrictive.</span></span> <span data-ttu-id="3ec67-152">예제 및 자세한 내용은 [네트워크 액세스 제어 목록이란](../articles/virtual-network/virtual-networks-acl.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="3ec67-152">For examples and more information, see [What is a Network Access Control List](../articles/virtual-network/virtual-networks-acl.md).</span></span>
