<span data-ttu-id="ab0c4-101">Azure에서는 가상 컴퓨터에 대한 호스트 인프라의 안정성, 성능 및 보안을 향상시키기 위해 주기적으로 업데이트를 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-101">Azure periodically performs updates to improve the reliability, performance, and security of the host infrastructure for virtual machines.</span></span> <span data-ttu-id="ab0c4-102">이러한 업데이트는 호스팅 환경의 소프트웨어 구성 요소(운영 체제, 하이퍼바이저 및 호스트에 배포되는 다양한 에이전트) 패치, 네트워킹 구성 요소 업그레이드, 하드웨어 서비스 해제와 같은 범위를 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-102">These updates range from patching software components in the hosting environment (like operating system, hypervisor, and various agents deployed on the host), upgrading networking components, to hardware decommissioning.</span></span> <span data-ttu-id="ab0c4-103">이러한 업데이트 중 대다수는 호스트된 가상 컴퓨터에 영향을 미치지 않고 수행됩니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-103">The majority of these updates are performed without any impact to the hosted virtual machines.</span></span> <span data-ttu-id="ab0c4-104">그러나 업데이트가 다음 항목에 영향을 미치는 경우가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-104">However, there are cases where updates do have an impact:</span></span>

- <span data-ttu-id="ab0c4-105">유지 관리를 다시 부팅하지 않아도 되는 경우 Azure에서는 호스트를 업데이트하는 동안 바로 마이그레이션을 사용하여 VM을 일시 중지합니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-105">If the maintenance does not require a reboot, Azure uses in-place migration to pause the VM while the host is updated.</span></span>

- <span data-ttu-id="ab0c4-106">유지 관리를 다시 부팅해야 하는 경우 유지 관리가 계획된 시기에 대해 알림을 받을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-106">If maintenance requires a reboot, you get a notice of when the maintenance is planned.</span></span> <span data-ttu-id="ab0c4-107">이러한 경우에 사용자가 원하는 시점에 스스로 유지 관리를 시작할 수 있는 기간도 지정됩니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-107">In these cases, you'll also be given a time window where you can start the maintenance yourself, at a time that works for you.</span></span>

<span data-ttu-id="ab0c4-108">이 페이지에서는 Microsoft Azure에서 모든 종류의 유지 관리를 수행하는 방법을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-108">This page describes how Microsoft Azure performs both types of maintenance.</span></span> <span data-ttu-id="ab0c4-109">계획되지 않은 이벤트(중단)에 대한 자세한 내용은 [Windows](... / articles/virtual-machines/windows/manage-availability.md) 또는 [Linux](../articles/virtual-machines/linux/manage-availability.md)에서 가상 컴퓨터의 가용성 관리를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-109">For more information about unplanned events (outages), see Manage the availability of virtual machines for [Windows] (../articles/virtual-machines/windows/manage-availability.md) or [Linux](../articles/virtual-machines/linux/manage-availability.md).</span></span>

<span data-ttu-id="ab0c4-110">가상 컴퓨터에서 실행 중인 응용 프로그램은 [Windows](../articles/virtual-machines/windows/instance-metadata-service.md) 또는 [Linux](... / articles/virtual-machines/linux/instance-metadata-service.md)에서 Azure 메타데이터 서비스를 사용하여 예정된 업데이트에 대한 정보를 수집할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-110">Applications running in a virtual machine can gather information about upcoming updates by using the Azure Metadata Service for [Windows](../articles/virtual-machines/windows/instance-metadata-service.md) or [Linux] (../articles/virtual-machines/linux/instance-metadata-service.md).</span></span>

## <a name="in-place-vm-migration"></a><span data-ttu-id="ab0c4-111">바로 VM 마이그레이션</span><span class="sxs-lookup"><span data-stu-id="ab0c4-111">In-place VM migration</span></span>

<span data-ttu-id="ab0c4-112">업데이트에 전체 다시 부팅이 필요하지 않는 경우 바로 실시간 마이그레이션을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-112">When updates don't require a full reboot, an in-place live migration is used.</span></span> <span data-ttu-id="ab0c4-113">업데이트하는 동안 가상 컴퓨터는 30초 정도 일시 중지되며 호스팅 환경에서 필요한 업데이트 및 패치를 적용하는 동안 RAM에서 메모리를 유지합니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-113">During the update the virtual machine is paused for about 30 seconds, preserving the memory in RAM, while the hosting environment applies the necessary updates and patches.</span></span> <span data-ttu-id="ab0c4-114">그러면 가상 컴퓨터가 다시 시작되고 가상 컴퓨터의 시계가 자동으로 동기화됩니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-114">The virtual machine is then resumed and the clock of the virtual machine is automatically synchronized.</span></span>

<span data-ttu-id="ab0c4-115">가용성 집합에서 VM의 경우 업데이트 도메인은 한 번에 하나씩 업데이트됩니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-115">For VMs in availability sets, update domains are updated one at a time.</span></span> <span data-ttu-id="ab0c4-116">계획된 유지 관리가 다음 UD로 이동하기 전에 하나의 UD(업데이트 도메인)에 있는 모든 VM이 일시 중지되고 업데이트된 다음 다시 시작됩니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-116">All VMs in one update domain (UD) are paused, updated and then resumed before planned maintenance moves on to the next UD.</span></span>

<span data-ttu-id="ab0c4-117">일부 응용 프로그램은 이러한 종류의 업데이트에 영향을 받을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-117">Some applications may be impacted by these types of updates.</span></span> <span data-ttu-id="ab0c4-118">미디어 스트리밍이나 코드 변환과 같은 실시간 이벤트 처리 또는 처리량이 높은 네트워킹 시나리오를 수행하는 응용 프로그램은 30초 일시 중지를 허용할 수 있도록 설계되지 않았을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-118">Applications that perform real-time event processing, like media streaming or transcoding, or high throughput networking scenarios, may not be designed to tolerate a 30 second pause.</span></span> <!-- sooooo, what should they do? --> 


## <a name="maintenance-requiring-a-reboot"></a><span data-ttu-id="ab0c4-119">다시 부팅이 필요한 유지 관리</span><span class="sxs-lookup"><span data-stu-id="ab0c4-119">Maintenance requiring a reboot</span></span>

<span data-ttu-id="ab0c4-120">계획된 유지 관리를 위해 VM을 다시 부팅해야 하는 경우 미리 알림을 받습니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-120">When VMs need to be rebooted for planned maintenance, you are notified in advance.</span></span> <span data-ttu-id="ab0c4-121">계획된 유지 관리에는 셀프 서비스 기간과 예약된 유지 관리 기간이라는 두 단계가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-121">Planned maintenance has two phases: the self-service window and a scheduled maintenance window.</span></span>

<span data-ttu-id="ab0c4-122">**셀프 서비스 기간**을 통해 VM에 대한 유지 관리를 시작할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-122">The **self-service window** lets you initiate the maintenance on your VMs.</span></span> <span data-ttu-id="ab0c4-123">이 기간 동안 각 VM을 쿼리하여 해당 상태를 보고 최신 유지 관리 요청의 결과를 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-123">During this time, you can query each VM to see their status and check the result of your last maintenance request.</span></span>

<span data-ttu-id="ab0c4-124">셀프 서비스 유지 관리를 시작하면 이미 업데이트된 노드로 VM을 이동시키고 전원을 다시 켭니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-124">When you start self-service maintenance, your VM is moved to a node that has already been updated and then powers it back on.</span></span> <span data-ttu-id="ab0c4-125">VM이 다시 부팅되기 때문에 임시 디스크가 손실되고 가상 네트워크 인터페이스와 연결된 동적 IP 주소가 업데이트됩니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-125">Because the VM reboots, the temporary disk is lost and dynamic IP addresses associated with virtual network interface are updated.</span></span>

<span data-ttu-id="ab0c4-126">셀프 서비스 유지 관리를 시작하고 프로세스 중 오류가 발생한 경우 작업이 중지됩니다. 또한 VM이 업데이트 되지 않고 계획된 유지 관리 반복에서도 제거됩니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-126">If you start self-service maintenance and there is an error during the process, the operation is stopped, the VM is not updated and it is also removed from the planned maintenance iteration.</span></span> <span data-ttu-id="ab0c4-127">이후에 사용자에게 연락하여 새로운 일정을 알려주고 셀프 서비스 유지 관리 작업을 수행할 수 있는 새로운 기회를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-127">You will be contacted in a later time with a new schedule and offered a new opportunity to do self-service maintenance.</span></span> 

<span data-ttu-id="ab0c4-128">셀프 서비스 기간이 지난 경우 **예약된 유지 관리 기간**이 시작됩니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-128">When the self-service window has passed, the **scheduled maintenance window** begins.</span></span> <span data-ttu-id="ab0c4-129">이 기간 동안 유지 관리 기간을 계속 쿼리할 수 있지만, 더 이상 스스로 유지 관리를 시작할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-129">During this time window, you can still query for the maintenance window, but no longer be able to start the maintenance yourself.</span></span>

## <a name="availability-considerations-during-planned-maintenance"></a><span data-ttu-id="ab0c4-130">계획된 유지 관리 동안의 가용성 고려 사항</span><span class="sxs-lookup"><span data-stu-id="ab0c4-130">Availability Considerations during Planned Maintenance</span></span> 

<span data-ttu-id="ab0c4-131">계획된 유지 관리 기간까지 기다리기로 결정한 경우 VM에서 고가용성을 유지 관리하기 위해 고려해야 할 몇 가지 사항이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-131">If you decide to wait until the planned maintenance window, there are a few things to consider for maintaining the highest availabilty of your VMs.</span></span> 

### <a name="paired-regions"></a><span data-ttu-id="ab0c4-132">쌍을 이루는 지역</span><span class="sxs-lookup"><span data-stu-id="ab0c4-132">Paired Regions</span></span>

<span data-ttu-id="ab0c4-133">각 Azure 지역은 동일한 지리적 위치 내의 다른 지역과 쌍을 이루어 함께 지역 쌍을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-133">Each Azure region is paired with another region within the same geography, together they make a regional pair.</span></span> <span data-ttu-id="ab0c4-134">계획된 유지 관리 중에 Azure에서는 지역 쌍의 단일 지역에서만 VM을 업데이트합니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-134">During planned maintenance, Azure will only update the VMs in a single region of a region pair.</span></span> <span data-ttu-id="ab0c4-135">예를 들어 미국 중북부에 있는 가상 컴퓨터를 업데이트할 때 Azure는 미국 중남부의 가상 컴퓨터를 동시에 업데이트하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-135">For example, when updating the Virtual Machines in North Central US, Azure will not update any Virtual Machines in South Central US at the same time.</span></span> <span data-ttu-id="ab0c4-136">그러나 북유럽 등의 다른 지역은 미국 동부와 동시에 유지 관리될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-136">However, other regions such as North Europe can be under maintenance at the same time as East US.</span></span> <span data-ttu-id="ab0c4-137">지역 쌍의 작동 방식을 이해하면 지역에 VM을 더 잘 배포할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-137">Understanding how region pairs work can help you better distribute your VMs across regions.</span></span> <span data-ttu-id="ab0c4-138">자세한 내용은 [Azure 지역 쌍](https://docs.microsoft.com/azure/best-practices-availability-paired-regions)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-138">For more information, see [Azure region pairs](https://docs.microsoft.com/azure/best-practices-availability-paired-regions).</span></span>

### <a name="availability-sets-and-scale-sets"></a><span data-ttu-id="ab0c4-139">가용성 집합 및 확장 집합</span><span class="sxs-lookup"><span data-stu-id="ab0c4-139">Availability sets and scale sets</span></span>

<span data-ttu-id="ab0c4-140">Azure VM에서 워크로드를 배포할 때 응용 프로그램에 고가용성을 제공하기 위해 가용성 집합 내에 VM을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-140">When deploying a workload on Azure VMs, you can create the VMs within an availability set to provide high availability to your application.</span></span> <span data-ttu-id="ab0c4-141">이를 통해 가동 중단 또는 유지 관리 이벤트 중에도 하나 이상의 가상 컴퓨터를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-141">This ensures that during either an outage or maintenance events, at least one virtual machine is available.</span></span>

<span data-ttu-id="ab0c4-142">가용성 집합 내에서 개별 VM은 최대 20개의 UD(업데이트 도메인)에 걸쳐 분산됩니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-142">Within an availability set, individual VMs are spread across up to 20 update domains (UDs).</span></span> <span data-ttu-id="ab0c4-143">계획된 유지 관리 동안에는 단일 업데이트 도메인만 지정된 시간에 영향을 받습니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-143">During planned maintenance, only a single update domain is impacted at any given time.</span></span> <span data-ttu-id="ab0c4-144">영향을 받는 업데이트 도메인의 순서가 반드시 순차적으로 나열되지는 않습니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-144">Be aware that the order of update domains being impacted does not necessarily happen sequentially.</span></span> 

<span data-ttu-id="ab0c4-145">가상 컴퓨터 확장 집합은 동일한 VM 집합을 단일 리소스로 배포하고 관리할 수 있게 하는 Azure 계산 리소스입니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-145">Virtual machine scale sets are an Azure compute resource that enables you to deploy and manage a set of identical VMs as a single resource.</span></span> <span data-ttu-id="ab0c4-146">확장 집합은 가용성 집합의 VM과 같은 업데이트 도메인에 걸쳐 자동으로 배포됩니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-146">The scale set is automatically deployed across update domains, like VMs in an availability set.</span></span> <span data-ttu-id="ab0c4-147">지정된 시점에서는 가용성 집합과 마찬가지로 확장 집합에서 단일 업데이트 도메인만 영향을 받습니다.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-147">Just like with availability sets, with scale sets only a single update domain is impacted at any given time.</span></span>

<span data-ttu-id="ab0c4-148">고가용성을 위해 가상 컴퓨터를 구성하는 방법에 대한 자세한 내용은 Windows (../articles/virtual-machines/windows/manage-availability.md) 또는 [Linux](../articles/virtual-machines/linux/manage-availability.md)에서 가상 컴퓨터의 가용성 관리를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="ab0c4-148">For more information about configuring your virtual machines for high availability, see Manage the availability of your virtual machines for Windows (../articles/virtual-machines/windows/manage-availability.md) or [Linux](../articles/virtual-machines/linux/manage-availability.md).</span></span>