## <a name="sample-scenario"></a><span data-ttu-id="d0548-101">샘플 시나리오</span><span class="sxs-lookup"><span data-stu-id="d0548-101">Sample Scenario</span></span>
<span data-ttu-id="d0548-102">NSG를 관리하는 방법을 보다 잘 설명하기 위해 이 문서에서는 아래 시나리오를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="d0548-102">To better illustrate how to manage NSGs, this article uses the scenario below.</span></span>

![VNet 시나리오](./media/virtual-networks-create-nsg-scenario-include/figure1.png)

<span data-ttu-id="d0548-104">이 시나리오에서는 아래에 설명된 대로 **TestVNet** 가상 네트워크의 각 서브넷에 대한 NSG를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="d0548-104">In this scenario you will create an NSG for each subnet in the **TestVNet** virtual network, as described below:</span></span> 

* <span data-ttu-id="d0548-105">**NSG-FrontEnd**.</span><span class="sxs-lookup"><span data-stu-id="d0548-105">**NSG-FrontEnd**.</span></span> <span data-ttu-id="d0548-106">프런트 엔드 NSG는 *FrontEnd* 서브넷에 적용되며 다음 두 개의 규칙을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="d0548-106">The front end NSG will be applied to the *FrontEnd* subnet, and contain two rules:</span></span>    
  * <span data-ttu-id="d0548-107">**rdp-rule**.</span><span class="sxs-lookup"><span data-stu-id="d0548-107">**rdp-rule**.</span></span> <span data-ttu-id="d0548-108">이 규칙은 *FrontEnd* 서브넷에 대한 RDP 트래픽을 허용합니다.</span><span class="sxs-lookup"><span data-stu-id="d0548-108">This rule will allow RDP traffic to the *FrontEnd* subnet.</span></span>
  * <span data-ttu-id="d0548-109">**web-rule**.</span><span class="sxs-lookup"><span data-stu-id="d0548-109">**web-rule**.</span></span> <span data-ttu-id="d0548-110">이 규칙은 *FrontEnd* 서브넷에 대한 HTTP 트래픽을 허용합니다.</span><span class="sxs-lookup"><span data-stu-id="d0548-110">This rule will allow HTTP traffic to the *FrontEnd* subnet.</span></span>
* <span data-ttu-id="d0548-111">**NSG-BackEnd**.</span><span class="sxs-lookup"><span data-stu-id="d0548-111">**NSG-BackEnd**.</span></span> <span data-ttu-id="d0548-112">백 엔드 NSG는 *BackEnd* 서브넷에 적용되며 다음 두 개의 규칙을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="d0548-112">The back end NSG will be applied to the *BackEnd* subnet, and contain two rules:</span></span>    
  * <span data-ttu-id="d0548-113">**sql-rule**.</span><span class="sxs-lookup"><span data-stu-id="d0548-113">**sql-rule**.</span></span> <span data-ttu-id="d0548-114">이 규칙은 *FrontEnd* 서브넷의 SQL 트래픽만 허용합니다.</span><span class="sxs-lookup"><span data-stu-id="d0548-114">This rule allows SQL traffic only from the *FrontEnd* subnet.</span></span>
  * <span data-ttu-id="d0548-115">**web-rule**.</span><span class="sxs-lookup"><span data-stu-id="d0548-115">**web-rule**.</span></span> <span data-ttu-id="d0548-116">이 규칙은 *BackEnd* 서브넷의 모든 인터넷 바인딩된 트래픽을 거부합니다.</span><span class="sxs-lookup"><span data-stu-id="d0548-116">This rule denies all internet bound traffic from the *BackEnd* subnet.</span></span>

<span data-ttu-id="d0548-117">이러한 규칙의 조합은 DMZ와 비슷한 시나리오를 만듭니다. 이 경우 백 엔드 서브넷은 프런트 엔드 서브넷의 SQL 트래픽에 대해 들어오는 트래픽만 수신할 수 있고 인터넷에 액세스할 수 없는 반면 프런트 엔드 서브넷은 인터넷과 통신하고 들어오는 HTTP 요청만 수신할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d0548-117">The combination of these rules create a DMZ-like scenario, where the back end subnet can only receive incoming traffic for SQL traffic from the front end subnet, and has no access to the Internet, while the front end subnet can communicate with the Internet, and receive incoming HTTP requests only.</span></span>

<span data-ttu-id="d0548-118">위에 설명된 시나리오를 배포하려면 [이 링크](http://github.com/telmosampaio/azure-templates/tree/master/201-IaaS-WebFrontEnd-SQLBackEnd-NSG)에 따라 **Azure에 배포**를 클릭하고 필요한 경우 기본 매개 변수 값을 대체하고 포털의 지침을 따릅니다.</span><span class="sxs-lookup"><span data-stu-id="d0548-118">To deploy the scenario described above, follow [this link](http://github.com/telmosampaio/azure-templates/tree/master/201-IaaS-WebFrontEnd-SQLBackEnd-NSG), click **Deploy to Azure**, replace the default parameter values if necessary, and follow the instructions in the portal.</span></span> <span data-ttu-id="d0548-119">아래 샘플 지침에서는 리소스 그룹 이름 **RG-NSG**를 배포하는 데 템플릿을 사용했습니다.</span><span class="sxs-lookup"><span data-stu-id="d0548-119">In the sample instructions below, the template was used to deploy a resource group names **RG-NSG**.</span></span> 

