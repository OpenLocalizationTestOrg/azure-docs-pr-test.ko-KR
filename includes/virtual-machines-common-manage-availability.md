## <a name="understand-vm-reboots---maintenance-vs-downtime"></a><span data-ttu-id="b0c94-101">VM 다시 부팅 이해 - 유지 관리 및 가동 중지</span><span class="sxs-lookup"><span data-stu-id="b0c94-101">Understand VM Reboots - maintenance vs. downtime</span></span>
<span data-ttu-id="b0c94-102">영향을 받음 되 고 Azure에서 toovirtual 컴퓨터를 초래할 수 있는 세 가지 시나리오가 있습니다: 계획 되지 않은 하드웨어 유지 관리, 예기치 않은 작동 중단 및 계획 된 유지 관리 합니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-102">There are three scenarios that can lead toovirtual machine in Azure being impacted: unplanned hardware maintenance, unexpected downtime and, planned maintenance.</span></span>

* <span data-ttu-id="b0c94-103">**계획 되지 않은 하드웨어 유지 관리 이벤트** toofail에 대 한 hello 하드웨어 또는 모든 플랫폼 구성 요소 관련된 tooa 물리적 컴퓨터는 Azure 플랫폼 예측 때 hello 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-103">**Unplanned Hardware Maintenance Event** occurs when hello Azure platform predicts that hello hardware or any platform component associated tooa physical machine, is about toofail.</span></span> <span data-ttu-id="b0c94-104">Hello 플랫폼 오류가 예측 하는 경우는 계획 되지 않은 하드웨어 유지 관리 이벤트 tooreduce hello 영향 toohello 호스팅되는 가상 컴퓨터 하드웨어에서 실행 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-104">When hello platform predicts a failure, it will issue an unplanned hardware maintenance event tooreduce hello impact toohello virtual machines hosted on that hardware.</span></span> <span data-ttu-id="b0c94-105">Azure는 hello 장애가 발생 한 하드웨어 tooa 정상적인 물리적 컴퓨터에서에서 실시간 마이그레이션 기술 toomigrate hello 가상 컴퓨터를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-105">Azure uses Live Migration technology toomigrate hello Virtual Machines from hello failing hardware tooa healthy physical machine.</span></span> <span data-ttu-id="b0c94-106">실시간 마이그레이션이 VM 작업을 일시 중지만 짧은 시간에 대 한 가상 컴퓨터를 hello를 유지 합니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-106">Live Migration is a VM preserving operation that only pauses hello Virtual Machine for a short time.</span></span> <span data-ttu-id="b0c94-107">메모리, 열려 있는 파일 및 네트워크 연결 유지 되지만 앞 이나 뒤 hello 이벤트 성능이 저하 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-107">Memory, open files, and network connections are maintained, but performance might be reduced before and/or after hello event.</span></span> <span data-ttu-id="b0c94-108">실시간 마이그레이션을 사용할 수 없습니다의 경우에서 아래 설명 된 대로 hello VM 예기치 않은 작동 중단 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-108">In cases where Live Migration cannot be used, hello VM will experience Unexpected Downtime, as described below.</span></span>


* <span data-ttu-id="b0c94-109">**예기치 않은 작동 중단 시간이** 거의 어떤 방식으로든에서 hello 하드웨어 또는 가상 컴퓨터를 내부 hello 실제 인프라에 오류가 발생 하는 경우 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-109">**An Unexpected Downtime** rarely occurs when hello hardware or hello physical infrastructure underlying your virtual machine has faulted in some way.</span></span> <span data-ttu-id="b0c94-110">여기에는 로컬 네트워크 오류, 로컬 디스크 오류 또는 기타 랙 수준의 오류가 포함될 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-110">This may include local network failures, local disk failures, or other rack level failures.</span></span> <span data-ttu-id="b0c94-111">이러한 오류가 감지 되 면 hello Azure 플랫폼 자동 마이그레이션합니다 (회복) 가상 컴퓨터 tooa 정상적인 물리적 컴퓨터입니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-111">When such a failure is detected, hello Azure platform automatically migrates (heals) your virtual machine tooa healthy physical machine.</span></span> <span data-ttu-id="b0c94-112">가상 컴퓨터 복구 프로시저는 hello, 동안 가동 중지 시간 (다시 부팅)을 발생할 및 hello 임시 드라이브의 일부의 경우 손실에서 합니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-112">During hello healing procedure, virtual machines experience downtime (reboot) and in some cases loss of hello temporary drive.</span></span> <span data-ttu-id="b0c94-113">hello 연결 OS 및 데이터 디스크 항상 유지 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-113">hello attached OS and data disks are always preserved.</span></span> 

* <span data-ttu-id="b0c94-114">**유지 관리 이벤트가 예정** Azure 플랫폼 tooimprove 기본 Microsoft toohello를 통한 정기적인 업데이트는 전체 안정성, 성능 및 가상 컴퓨터에서 실행 되는 hello 플랫폼 인프라의 보안을 합니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-114">**Planned Maintenance events** are periodic updates made by Microsoft toohello underlying Azure platform tooimprove overall reliability, performance, and security of hello platform infrastructure that your virtual machines run on.</span></span> <span data-ttu-id="b0c94-115">이러한 업데이트는 대부분 Virtual Machines 또는 Cloud Services에 영향을 주지 않고 수행됩니다([VM 보존 유지 관리](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/preserving-maintenance) 참조).</span><span class="sxs-lookup"><span data-stu-id="b0c94-115">Most of these updates are performed without any impact upon your Virtual Machines or Cloud Services (see [VM Preserving Maintenance](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/preserving-maintenance)).</span></span> <span data-ttu-id="b0c94-116">Hello Azure 플랫폼의 모든 가능한 경우에서 toouse VM 유지 유지 관리 하면, 하는 경우가 드물게 이러한 업데이트에는 가상 컴퓨터 tooapply hello 필수 업데이트 toohello 기본 인프라를 다시 부팅 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-116">While hello Azure platform attempts toouse VM Preserving Maintenance in all possible occasions, there are rare instances when these updates require a reboot of your virtual machine tooapply hello required updates toohello underlying infrastructure.</span></span> <span data-ttu-id="b0c94-117">이 경우 hello 적합 한 기간에 해당 Vm에 대 한 hello 유지 관리를 시작 하 여 Azure 계획 된 유지 관리 재배포 유지 관리 작업을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-117">In this case, you can perform Azure Planned Maintenance with Maintenance-Redeploy operation by initiating hello maintenance for their VMs in hello suitable time window.</span></span> <span data-ttu-id="b0c94-118">자세한 내용은 [Virtual Machines에 대한 계획된 유지 관리](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/planned-maintenance/)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="b0c94-118">For more information, see [Planned Maintenance for Virtual Machines](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/planned-maintenance/).</span></span>


<span data-ttu-id="b0c94-119">이러한 이벤트 중 tooone 이상 인해 가동 중지 시간 tooreduce hello 영향, hello 고가용성 가상 컴퓨터에 대 한 최선의 구현 방법을 권장 합니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-119">tooreduce hello impact of downtime due tooone or more of these events, we recommend hello following high availability best practices for your virtual machines:</span></span>

* <span data-ttu-id="b0c94-120">[중복성을 위해 가용성 집합에서 여러 가상 컴퓨터 구성]</span><span class="sxs-lookup"><span data-stu-id="b0c94-120">[Configure multiple virtual machines in an availability set for redundancy]</span></span>
* <span data-ttu-id="b0c94-121">[가용성 집합의 VM에 Managed Disks 사용]</span><span class="sxs-lookup"><span data-stu-id="b0c94-121">[Use managed disks for VMs in an availability set]</span></span>
* <span data-ttu-id="b0c94-122">[예약 된 이벤트 tooproactively 응답 tooVM 이벤트에 영향을 주지 사용] (https://docs.microsoft.com/en-us/azure/virtual-machines/virtual-machines-scheduled-events)</span><span class="sxs-lookup"><span data-stu-id="b0c94-122">[Use Scheduled Events tooproactively response tooVM impacting events ] (https://docs.microsoft.com/en-us/azure/virtual-machines/virtual-machines-scheduled-events)</span></span>
* <span data-ttu-id="b0c94-123">[각 응용 프로그램 계층을 별도의 가용성 집합으로 구성]</span><span class="sxs-lookup"><span data-stu-id="b0c94-123">[Configure each application tier into separate availability sets]</span></span>
* <span data-ttu-id="b0c94-124">[가용성 집합과 부하 분산 장치 결합]</span><span class="sxs-lookup"><span data-stu-id="b0c94-124">[Combine a Load Balancer with availability sets]</span></span>

## <a name="configure-multiple-virtual-machines-in-an-availability-set-for-redundancy"></a><span data-ttu-id="b0c94-125">중복성을 위해 가용성 집합에서 여러 가상 컴퓨터 구성</span><span class="sxs-lookup"><span data-stu-id="b0c94-125">Configure multiple virtual machines in an availability set for redundancy</span></span>
<span data-ttu-id="b0c94-126">tooprovide 중복 tooyour 응용 프로그램을 가용성 집합에 두 개 이상의 가상 컴퓨터를 그룹화 할 두는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-126">tooprovide redundancy tooyour application, we recommend that you group two or more virtual machines in an availability set.</span></span> <span data-ttu-id="b0c94-127">이 구성을 사용 하면 계획 되거나 계획 되지 않은 유지 관리 이벤트 중 하나에서 하나 이상의 가상 컴퓨터를 사용할 수 있는 충족 hello 99.95% Azure SLA 합니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-127">This configuration ensures that during either a planned or unplanned maintenance event, at least one virtual machine is available and meets hello 99.95% Azure SLA.</span></span> <span data-ttu-id="b0c94-128">자세한 내용은 참조 hello [가상 컴퓨터에 대 한 SLA](https://azure.microsoft.com/support/legal/sla/virtual-machines/)합니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-128">For more information, see hello [SLA for Virtual Machines](https://azure.microsoft.com/support/legal/sla/virtual-machines/).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="b0c94-129">가용성 집합 안에 단일 인스턴스 가상 컴퓨터를 단독으로 두지 않도록 하십시오.</span><span class="sxs-lookup"><span data-stu-id="b0c94-129">Avoid leaving a single instance virtual machine in an availability set by itself.</span></span> <span data-ttu-id="b0c94-130">이러한 구성의 VM은 SLA 보증에 맞지 않으며 단일 VM이 [Azure Premium Storage](../articles/storage/common/storage-premium-storage.md)를 사용하는 경우를 제외하고 Azure 계획된 유지 관리 이벤트 중에 가동 중지하게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-130">VMs in this configuration do not qualify for a SLA guarantee and face downtime during Azure planned maintenance events, except when a single VM is using [Azure Premium Storage](../articles/storage/common/storage-premium-storage.md).</span></span> <span data-ttu-id="b0c94-131">프리미엄 저장소를 사용 하 여 단일 Vm에 대 한 Azure SLA hello 적용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-131">For single VMs using premium storage, hello Azure SLA applies.</span></span>

<span data-ttu-id="b0c94-132">각 가상 컴퓨터 가용성 집합에 할당 된 프로그램 **업데이트 도메인** 및 **장애 도메인** hello Azure 플랫폼을 기본으로 합니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-132">Each virtual machine in your availability set is assigned an **update domain** and a **fault domain** by hello underlying Azure platform.</span></span> <span data-ttu-id="b0c94-133">지정 된 가용성 집합에 대 한 5 개의 사용자를 구성할 수 없는 업데이트 도메인은 기본적으로 할당 됩니다 (리소스 관리자 배포 수 too20 업데이트 도메인을 증가 tooprovide) 가상 컴퓨터 및 기본 물리적 하드웨어 tooindicate 그룹 hello에 다시 부팅할 수 있습니다 동시 합니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-133">For a given availability set, five non-user-configurable update domains are assigned by default (Resource Manager deployments can then be increased tooprovide up too20 update domains) tooindicate groups of virtual machines and underlying physical hardware that can be rebooted at hello same time.</span></span> <span data-ttu-id="b0c94-134">Hello 여섯 번째 가상 컴퓨터 것과 같은 업데이트 도메인으로 첫 번째 가상 컴퓨터 hello hello 일곱 번째 hello로 두 번째 가상 컴퓨터를 hello 등과 같은 업데이트 도메인에 hello에 놓입니다 단일 가용성 집합 내에서 6 개 이상의 가상 컴퓨터를 구성한 경우 켜 집니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-134">When more than five virtual machines are configured within a single availability set, hello sixth virtual machine is placed into hello same update domain as hello first virtual machine, hello seventh in hello same update domain as hello second virtual machine, and so on.</span></span> <span data-ttu-id="b0c94-135">한 번에 하나의 업데이트 도메인을 다시 부팅 되 고 계속할 수 없습니다 순차적으로 계획 된 유지 관리 하는 동안 업데이트 도메인의 hello 순서를 다시 부팅 합니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-135">hello order of update domains being rebooted may not proceed sequentially during planned maintenance, but only one update domain is rebooted at a time.</span></span> <span data-ttu-id="b0c94-136">서로 다른 업데이트 도메인에서 유지 관리 시작 하기 전에 다시 부팅 된 업데이트 도메인에서 30 분 toorecover를 제공 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-136">A rebooted update domain is given 30 minutes toorecover before maintenance is initiated on a different update domain.</span></span>

<span data-ttu-id="b0c94-137">오류 도메인 hello 공통 전원 원본과 네트워크 스위치를 공유 하는 가상 컴퓨터 그룹을 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-137">Fault domains define hello group of virtual machines that share a common power source and network switch.</span></span> <span data-ttu-id="b0c94-138">기본적으로 가용성 집합 내에서 구성 된 hello 가상 컴퓨터 (클래식에 대 한 두 개의 오류 도메인) 리소스 관리자 배포에 대 한 toothree 오류 도메인을 걸쳐 분리 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-138">By default, hello virtual machines configured within your availability set are separated across up toothree fault domains for Resource Manager deployments (two fault domains for Classic).</span></span> <span data-ttu-id="b0c94-139">가용성 집합에 가상 컴퓨터 배치를 보호 하지 응용 프로그램에서 운영 체제 또는 응용 프로그램 관련 오류가 발생 하는 동안 발생할 수 있는 물리적 하드웨어 오류, 네트워크 중단 또는 전원 중단의 hello 영향을 제한지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-139">While placing your virtual machines into an availability set does not protect your application from operating system or application-specific failures, it does limit hello impact of potential physical hardware failures, network outages, or power interruptions.</span></span>

<!--Image reference-->
   ![개념도 hello 업데이트 도메인과 오류 도메인 구성](./media/virtual-machines-common-manage-availability/ud-fd-configuration.png)

## <a name="use-managed-disks-for-vms-in-an-availability-set"></a><span data-ttu-id="b0c94-141">가용성 집합에서 VM에 Managed Disks 사용</span><span class="sxs-lookup"><span data-stu-id="b0c94-141">Use managed disks for VMs in an availability set</span></span>
<span data-ttu-id="b0c94-142">관리 되지 않는 디스크가 있는 Vm을 현재 사용 중인, 하는 경우 항상 좋습니다 [toouse 관리 하는 디스크 가용성 집합의 Vm으로 변환](../articles/virtual-machines/windows/convert-unmanaged-to-managed-disks.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-142">If you are currently using VMs with unmanaged disks, we highly recommend you [convert VMs in Availability Set toouse Managed Disks](../articles/virtual-machines/windows/convert-unmanaged-to-managed-disks.md).</span></span>

<span data-ttu-id="b0c94-143">[관리 디스크](../articles/virtual-machines/windows/managed-disks-overview.md) tooavoid 단일 실패 지점을를 서로 격리 된 가용성 집합에 있는 Vm의 hello 디스크는 충분히 확인 하 여 가용성 집합에 대 한 안정성을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-143">[Managed disks](../articles/virtual-machines/windows/managed-disks-overview.md) provide better reliability for Availability Sets by ensuring that hello disks of VMs in an Availability Set are sufficiently isolated from each other tooavoid single points of failure.</span></span> <span data-ttu-id="b0c94-144">다른 저장소 클러스터에 hello 디스크를 자동으로 배치 하 여 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-144">It does this by automatically placing hello disks in different storage clusters.</span></span> <span data-ttu-id="b0c94-145">저장소 클러스터 toohardware 또는 소프트웨어 오류로 인해 실패 하면 해당 스탬프에 디스크를 사용 하 여 VM 인스턴스만 hello 실패 합니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-145">If a storage cluster fails due toohardware or software failure, only hello VM instances with disks on those stamps fail.</span></span>

![Managed Disk FD](./media/virtual-machines-common-manage-availability/md-fd.png)

> [!IMPORTANT]
> <span data-ttu-id="b0c94-147">지역-관리 되는 가용성 집합에 대 한 장애 도메인 수 hello 다릅니다 2 또는 3 / 지역당 중 하나입니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-147">hello number of fault domains for managed availability sets varies by region - either two or three per region.</span></span> <span data-ttu-id="b0c94-148">다음 테이블 / 지역당 hello 수를 표시 하는 hello</span><span class="sxs-lookup"><span data-stu-id="b0c94-148">hello following table shows hello number per region</span></span>

[!INCLUDE [managed-disks-common-fault-domain-region-list](managed-disks-common-fault-domain-region-list.md)]

<span data-ttu-id="b0c94-149">Toouse Vm을 계획 하는 경우 [디스크를 관리 되지 않는](../articles/virtual-machines/windows/about-disks-and-vhds.md#types-of-disks), 아래 저장소 계정으로 Vm의 가상 하드 디스크 (Vhd) 저장 되는 위치에 대 한 모범 사례에 따라 [페이지 blob](https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs#about-page-blobs)합니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-149">If you plan toouse VMs with [unmanaged disks](../articles/virtual-machines/windows/about-disks-and-vhds.md#types-of-disks), follow below best practices for Storage accounts where virtual hard disks (VHDs) of VMs are stored as [page blobs](https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs#about-page-blobs).</span></span>

1. <span data-ttu-id="b0c94-150">**유지 (OS 및 데이터) 관련 된 모든 디스크에 있는 VM hello에 동일한 저장소 계정**</span><span class="sxs-lookup"><span data-stu-id="b0c94-150">**Keep all disks (OS and data) associated with a VM in hello same storage account**</span></span>
2. <span data-ttu-id="b0c94-151">**검토 hello [제한](../articles/storage/common/storage-scalability-targets.md) hello 다양 한 저장소 계정에 관리 되지 않는 디스크에** 자세한 Vhd tooa 저장소 계정을 추가 하기 전에</span><span class="sxs-lookup"><span data-stu-id="b0c94-151">**Review hello [limits](../articles/storage/common/storage-scalability-targets.md) on hello number of unmanaged disks in a Storage account** before adding more VHDs tooa storage account</span></span>
3. <span data-ttu-id="b0c94-152">**가용성 집합의 각 VM마다 별도의 저장소 계정을 사용합니다.**</span><span class="sxs-lookup"><span data-stu-id="b0c94-152">**Use separate storage account for each VM in an Availability Set.**</span></span> <span data-ttu-id="b0c94-153">Hello에 여러 Vm이 포함 된 저장소 계정을 공유 하지 않으므로 동일한 가용성 집합입니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-153">Do not share Storage accounts with multiple VMs in hello same Availability Set.</span></span> <span data-ttu-id="b0c94-154">사용할 수 있기 Vm에 대 한 다른 가용성 집합 tooshare 저장소 계정에서 위에 모범 사례를 수행 하는 경우</span><span class="sxs-lookup"><span data-stu-id="b0c94-154">It is acceptable for VMs across different Availability Sets tooshare storage accounts if above best practices are followed</span></span>

## <a name="configure-each-application-tier-into-separate-availability-sets"></a><span data-ttu-id="b0c94-155">각 응용 프로그램 계층을 별도의 가용성 집합으로 구성</span><span class="sxs-lookup"><span data-stu-id="b0c94-155">Configure each application tier into separate availability sets</span></span>
<span data-ttu-id="b0c94-156">가상 컴퓨터 모두 거의 동일 하 고 hello를 사용 하는 경우 동일한 용도로 응용 프로그램에 대 한 가용성 집합을 응용 프로그램의 각 계층을 구성 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-156">If your virtual machines are all nearly identical and serve hello same purpose for your application, we recommend that you configure an availability set for each tier of your application.</span></span>  <span data-ttu-id="b0c94-157">배치 하는 경우 두 개의 서로 다른 계층 hello에 동일한 가용성 집합 모든 가상 컴퓨터가 hello 동일한 응용 프로그램 계층을 한 번에 다시 부팅할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-157">If you place two different tiers in hello same availability set, all virtual machines in hello same application tier can be rebooted at once.</span></span> <span data-ttu-id="b0c94-158">각 계층에 대해 최소 두 개의 가상 컴퓨터를 가용성 집합 안에 구성하면 각 계층에서 최소한 하나의 가상 컴퓨터는 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-158">By configuring at least two virtual machines in an availability set for each tier, you guarantee that at least one virtual machine in each tier is available.</span></span>

<span data-ttu-id="b0c94-159">예를 들어 단일 가용성 집합에 IIS, Apache Nginx를 실행 하는 응용 프로그램의 프런트 엔드 hello에서에서 모든 hello 가상 컴퓨터를 배치할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-159">For example, you could put all hello virtual machines in hello front end of your application running IIS, Apache, Nginx in a single availability set.</span></span> <span data-ttu-id="b0c94-160">사용 했는지 확인 프런트 엔드 가상 컴퓨터는 hello에 동일한 가용성 집합입니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-160">Make sure that only front-end virtual machines are placed in hello same availability set.</span></span> <span data-ttu-id="b0c94-161">마찬가지로 데이터 계층 가상 컴퓨터만 자체의 가용성 집합(예: 복제된 SQL Server 가상 컴퓨터 또는 MySQL 가상 컴퓨터)에 배치해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-161">Similarly, make sure that only data-tier virtual machines are placed in their own availability set, like your replicated SQL Server virtual machines, or your MySQL virtual machines.</span></span>

<!--Image reference-->
   ![응용 프로그램 계층](./media/virtual-machines-common-manage-availability/application-tiers.png)

## <a name="combine-a-load-balancer-with-availability-sets"></a><span data-ttu-id="b0c94-163">가용성 집합과 부하 분산 장치 결합</span><span class="sxs-lookup"><span data-stu-id="b0c94-163">Combine a load balancer with availability sets</span></span>
<span data-ttu-id="b0c94-164">Hello 결합 [Azure 부하 분산 장치](../articles/load-balancer/load-balancer-overview.md) 가용성 집합 tooget hello 대부분 응용 프로그램 복구 합니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-164">Combine hello [Azure Load Balancer](../articles/load-balancer/load-balancer-overview.md) with an availability set tooget hello most application resiliency.</span></span> <span data-ttu-id="b0c94-165">hello Azure 부하 분산 장치에는 여러 가상 컴퓨터 간에 트래픽을 분산 시킵니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-165">hello Azure Load Balancer distributes traffic between multiple virtual machines.</span></span> <span data-ttu-id="b0c94-166">이 표준 계층 가상 컴퓨터에 대 한 hello Azure 부하 분산 장치는 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-166">For our Standard tier virtual machines, hello Azure Load Balancer is included.</span></span> <span data-ttu-id="b0c94-167">일부 가상 컴퓨터 계층 hello Azure 부하 분산 장치를 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-167">Not all virtual machine tiers include hello Azure Load Balancer.</span></span> <span data-ttu-id="b0c94-168">가상 컴퓨터 부하 분산에 대한 자세한 내용은 [가상 컴퓨터 부하 분산](../articles/virtual-machines/virtual-machines-linux-load-balance.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="b0c94-168">For more information about load balancing your virtual machines, see [Load Balancing virtual machines](../articles/virtual-machines/virtual-machines-linux-load-balance.md).</span></span>

<span data-ttu-id="b0c94-169">부하 분산 장치 hello 없으면 toobalance 트래픽을 여러 가상 컴퓨터에서 구성 된 계획 된 유지 관리 이벤트 hello만 트래픽 서비스 가상 컴퓨터를 일으키는 중단 tooyour 응용 프로그램 계층에 영향을 줍니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-169">If hello load balancer is not configured toobalance traffic across multiple virtual machines, then any planned maintenance event affects hello only traffic-serving virtual machine, causing an outage tooyour application tier.</span></span> <span data-ttu-id="b0c94-170">동일한 부하 분산 장치 및 가용성 집합 사용 트래픽 toobe 지속적으로 인스턴스를 하나 이상에서 제공 하는 hello에서 동일한 계층 hello의 여러 가상 컴퓨터를 배치 합니다.</span><span class="sxs-lookup"><span data-stu-id="b0c94-170">Placing multiple virtual machines of hello same tier under hello same load balancer and availability set enables traffic toobe continuously served by at least one instance.</span></span>


<!-- Link references -->
[중복성을 위해 가용성 집합에서 여러 가상 컴퓨터 구성]: #configure-multiple-virtual-machines-in-an-availability-set-for-redundancy
[각 응용 프로그램 계층을 별도의 가용성 집합으로 구성]: #configure-each-application-tier-into-separate-availability-sets
[가용성 집합과 부하 분산 장치 결합]: #combine-a-load-balancer-with-availability-sets
[Avoid single instance virtual machines in availability sets]: #avoid-single-instance-virtual-machines-in-availability-sets
[가용성 집합의 VM에 Managed Disks 사용]: #use-managed-disks-for-vms-in-an-availability-set
