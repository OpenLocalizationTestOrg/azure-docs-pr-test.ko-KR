<span data-ttu-id="194ea-101">Azure에서 가상 컴퓨터 (VM) 부팅 또는 디스크 오류가 발생 하는 경우 문제 해결 단계는 자체 hello 가상 하드 디스크에서 tooperform을 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-101">If your virtual machine (VM) in Azure encounters a boot or disk error, you may need tooperform troubleshooting steps on hello virtual hard disk itself.</span></span> <span data-ttu-id="194ea-102">일반적인 예로 hello VM 부팅을 성공적으로 방지 하는 실패 한 응용 프로그램 업데이트는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-102">A common example would be a failed application update that prevents hello VM from booting successfully.</span></span> <span data-ttu-id="194ea-103">이 문서에서는 설명 방법을 toouse Azure 포털 tooconnect에 가상 하드 디스크 tooanother VM toofix 오류 원래 VM을 다시 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-103">This article describes how toouse Azure portal tooconnect your virtual hard disk tooanother VM toofix any errors and then re-create your original VM.</span></span>

## <a name="recovery-process-overview"></a><span data-ttu-id="194ea-104">복구 프로세스 개요</span><span class="sxs-lookup"><span data-stu-id="194ea-104">Recovery process overview</span></span>
<span data-ttu-id="194ea-105">hello 문제 해결 과정은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-105">hello troubleshooting process is as follows:</span></span>

1. <span data-ttu-id="194ea-106">Hello 문제를 발생 하는 VM을 삭제 하 않지만 hello 가상 하드 디스크를 보존 합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-106">Delete hello VM that's encountering issues, but retain hello virtual hard disks.</span></span>
2. <span data-ttu-id="194ea-107">첨부 하 고 문제 해결에 대 한 hello 가상 하드 디스크 tooanother VM에 탑재 합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-107">Attach and mount hello virtual hard disk tooanother VM for troubleshooting.</span></span>
3. <span data-ttu-id="194ea-108">Toohello VM 문제 해결을 연결 합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-108">Connect toohello troubleshooting VM.</span></span> <span data-ttu-id="194ea-109">파일을 편집 하거나 hello 원래 가상 하드 디스크에 toofix 오류 도구를 실행 합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-109">Edit files or run tools toofix errors on hello original virtual hard disk.</span></span>
4. <span data-ttu-id="194ea-110">탑재 해제 하 고 VM의 문제를 해결 하는 hello에서 hello 가상 하드 디스크를 분리 합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-110">Unmount and detach hello virtual hard disk from hello troubleshooting VM.</span></span>
5. <span data-ttu-id="194ea-111">Hello 원래 가상 하드 디스크를 사용 하 여 VM을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-111">Create a VM by using hello original virtual hard disk.</span></span>

## <a name="delete-hello-original-vm"></a><span data-ttu-id="194ea-112">삭제 hello 원본 VM</span><span class="sxs-lookup"><span data-stu-id="194ea-112">Delete hello original VM</span></span>
<span data-ttu-id="194ea-113">가상 하드 디스크와 VM은 Azure의 두 가지 별개의 리소스입니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-113">Virtual hard disks and VMs are two distinct resources in Azure.</span></span> <span data-ttu-id="194ea-114">가상 하드 디스크는 hello 운영 체제, 응용 프로그램 및 구성 저장 됩니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-114">A virtual hard disk is where hello operating system, applications, and configurations are stored.</span></span> <span data-ttu-id="194ea-115">hello VM hello 크기 또는 위치를 정의 하 고 가상 하드 디스크 또는 가상 네트워크 인터페이스 카드 (NIC) 등의 리소스를 참조 하는 메타 데이터만입니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-115">hello VM is just metadata that defines hello size or location and that references resources such as a virtual hard disk or virtual network interface card (NIC).</span></span> <span data-ttu-id="194ea-116">각 가상 하드 디스크는 해당 디스크가 연결 된 tooa VM 때 할당 된 임대를 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-116">Each virtual hard disk gets a lease assigned when that disk is attached tooa VM.</span></span> <span data-ttu-id="194ea-117">데이터 디스크를 연결 하 고 hello VM에서 실행 중인 동안에 분리 수, 있지만 hello VM 리소스는 삭제 하지 않는 한 hello OS 디스크를 분리할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-117">Although data disks can be attached and detached even while hello VM is running, hello OS disk cannot be detached unless hello VM resource is deleted.</span></span> <span data-ttu-id="194ea-118">해당 VM 중지 및 할당 취소 된 상태에 있을 경우에 hello 임대 tooassociate hello OS 디스크 tooa VM을 계속 합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-118">hello lease continues tooassociate hello OS disk tooa VM even when that VM is in a stopped and deallocated state.</span></span>

<span data-ttu-id="194ea-119">첫 번째 단계 toorecovering hello VM은 자체 toodelete hello VM 리소스입니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-119">hello first step toorecovering your VM is toodelete hello VM resource itself.</span></span> <span data-ttu-id="194ea-120">VM 삭제 hello 저장소 계정의 hello 가상 하드 디스크를 유지합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-120">Deleting hello VM leaves hello virtual hard disks in your storage account.</span></span> <span data-ttu-id="194ea-121">VM을 삭제 하는 hello, 후 hello 가상 하드 디스크 tooanother VM tootroubleshoot 연결 수 있으며 hello 오류를 해결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-121">After hello VM is deleted, you can attach hello virtual hard disk tooanother VM tootroubleshoot and resolve hello errors.</span></span> 

1. <span data-ttu-id="194ea-122">Toohello 로그인 [Azure 포털](https://portal.azure.com)합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-122">Sign in toohello [Azure portal](https://portal.azure.com).</span></span> 
2. <span data-ttu-id="194ea-123">Hello 왼쪽에 hello 메뉴를 클릭 **가상 컴퓨터 (클래식)**합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-123">On hello menu on hello left side, click **Virtual Machines (classic)**.</span></span>
3. <span data-ttu-id="194ea-124">선택 hello에 hello 문제가 VM 클릭 **디스크**, 고 hello 가상 하드 디스크의 hello 이름을 식별 합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-124">Select hello VM that has hello problem, click **Disks**, and then identify hello name of hello virtual hard disk.</span></span> 
4. <span data-ttu-id="194ea-125">Hello 운영 체제 가상 하드 디스크를 선택 하 고 hello 확인 **위치** 해당 가상 하드 디스크가 포함 된 tooidentify hello 저장소 계정입니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-125">Select hello OS virtual hard disk and check hello **Location** tooidentify hello storage account that contains that virtual hard disk.</span></span> <span data-ttu-id="194ea-126">다음 예제는 hello, 문자열을 바로 앞 hello "입니다. blob.core.windows.net" hello 저장소 계정 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-126">In hello following example, hello string immediately before ".blob.core.windows.net" is hello storage account name.</span></span>

    ```
    https://portalvhds73fmhrw5xkp43.blob.core.windows.net/vhds/SCCM2012-2015-08-28.vhd
    ```

    ![VM의 위치에 대 한 hello 이미지](./media/virtual-machines-classic-recovery-disks-portal/vm-location.png)

5. <span data-ttu-id="194ea-128">Hello VM을 마우스 오른쪽 단추로 클릭 한 다음 선택 **삭제**합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-128">Right-click hello VM and then select **Delete**.</span></span> <span data-ttu-id="194ea-129">Hello 디스크 hello VM을 삭제 하는 경우 선택 하지 않은 있는지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-129">Make sure that hello disks are not selected when you delete hello VM.</span></span>
6. <span data-ttu-id="194ea-130">새 복구 VM을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-130">Create a new recovery VM.</span></span> <span data-ttu-id="194ea-131">이 VM hello에 있어야 합니다. 동일한 지역 및 리소스 그룹 (클라우드 서비스) hello 문제 VM입니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-131">This VM must be in hello same region and resource group (Cloud Service) as hello problem VM.</span></span>
7. <span data-ttu-id="194ea-132">Hello 복구 VM을 선택한 다음 선택 **디스크** > **기존 연결**합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-132">Select hello recovery VM, and then select **Disks** > **Attach Existing**.</span></span>
8. <span data-ttu-id="194ea-133">tooselect 기존 가상 하드 디스크를 클릭 **VHD 파일**:</span><span class="sxs-lookup"><span data-stu-id="194ea-133">tooselect your existing virtual hard disk, click **VHD File**:</span></span>

    ![기존 VHD 찾아보기](./media/virtual-machines-classic-recovery-disks-portal/select-vhd-location.png)

9. <span data-ttu-id="194ea-135">Hello 저장소 계정을 선택 > VHD 컨테이너 > hello 가상 하드 디스크를 hello 클릭 **선택** tooconfirm 단추를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-135">Select hello storage account > VHD container > hello virtual hard disk, click hello **Select** button tooconfirm your choice.</span></span>

    ![기존 VHD 선택](./media/virtual-machines-classic-recovery-disks-portal/select-vhd.png)

10. <span data-ttu-id="194ea-137">이제 선택한 VHD를 선택 **확인** tooattach hello 기존 가상 하드 디스크입니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-137">With your VHD now selected, select **OK** tooattach hello existing virtual hard disk.</span></span>
11. <span data-ttu-id="194ea-138">몇 초 후 hello **디스크** VM에 대 한이 창에 데이터 디스크로 연결 된 기존 가상 하드 디스크에 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-138">After a few seconds, hello **Disks** pane for your VM will display your existing virtual hard disk connected as a data disk:</span></span>

    ![데이터 디스크로 연결된 기존 가상 하드 디스크](./media/virtual-machines-classic-recovery-disks-portal/attached-disk.png)

## <a name="fix-issues-on-hello-original-virtual-hard-disk"></a><span data-ttu-id="194ea-140">Hello 원래 가상 하드 디스크에서 문제를 수정 합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-140">Fix issues on hello original virtual hard disk</span></span>
<span data-ttu-id="194ea-141">Hello 기존 가상 하드 디스크를 탑재 하는 경우 모든 유지 관리 및 문제 해결 단계는 필요에 따라 이제 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-141">When hello existing virtual hard disk is mounted, you can now perform any maintenance and troubleshooting steps as needed.</span></span> <span data-ttu-id="194ea-142">Hello 문제를 해결 한 후 단계를 수행 하는 hello로 계속 합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-142">Once you have addressed hello issues, continue with hello following steps.</span></span>

## <a name="unmount-and-detach-hello-original-virtual-hard-disk"></a><span data-ttu-id="194ea-143">분리 및 hello 원래 가상 하드 디스크를 분리 합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-143">Unmount and detach hello original virtual hard disk</span></span>
<span data-ttu-id="194ea-144">모든 오류가 해결 되 면 탑재 해제 하 고 hello 기존 가상 하드 디스크 문제 해결 VM에서 분리 합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-144">Once any errors are resolved, unmount and detach hello existing virtual hard disk from your troubleshooting VM.</span></span> <span data-ttu-id="194ea-145">Hello 가상 하드 디스크 toohello VM 문제 해결을 연결 하는 hello 임대가 해제 될 때까지 다른 VM과 함께 가상 하드 디스크를 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-145">You cannot use your virtual hard disk together with any other VM until hello lease that attaches hello virtual hard disk toohello troubleshooting VM is released.</span></span>  

1. <span data-ttu-id="194ea-146">Toohello 로그인 [Azure 포털](https://portal.azure.com)합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-146">Sign in toohello [Azure portal](https://portal.azure.com).</span></span> 
2. <span data-ttu-id="194ea-147">Hello 왼쪽에 hello 메뉴에서 선택 **가상 컴퓨터 (클래식)**합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-147">On hello menu on hello left side, select **Virtual Machines (classic)**.</span></span>
3. <span data-ttu-id="194ea-148">Hello 복구를 VM을 찾습니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-148">Locate hello recovery VM.</span></span> <span data-ttu-id="194ea-149">디스크를 마우스 오른쪽 단추로 클릭 hello 디스크를 선택한 다음 선택 **분리**합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-149">Select Disks, right-click hello disk, and then select **Detach**.</span></span>

## <a name="create-a-vm-from-hello-original-hard-disk"></a><span data-ttu-id="194ea-150">Hello 원래 하드 디스크에서 VM 만들기</span><span class="sxs-lookup"><span data-stu-id="194ea-150">Create a VM from hello original hard disk</span></span>

<span data-ttu-id="194ea-151">원래 가상 하드 디스크에서 VM에서 사용할 toocreate [Azure 클래식 포털](https://manage.windowsazure.com)합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-151">toocreate a VM from your original virtual hard disk, use [Azure classic portal](https://manage.windowsazure.com).</span></span>

1. <span data-ttu-id="194ea-152">[Azure 클래식 포털](https://manage.windowsazure.com)에 로그인합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-152">Sign into [Azure classic portal](https://manage.windowsazure.com).</span></span>
2. <span data-ttu-id="194ea-153">Hello 포털의 hello 맨 아래에 선택 **새로** > **계산** > **가상 컴퓨터** > **갤러리에서** .</span><span class="sxs-lookup"><span data-stu-id="194ea-153">At hello bottom of hello portal, select **New** > **Compute** > **Virtual Machine** > **From Gallery**.</span></span>
3. <span data-ttu-id="194ea-154">Hello에 **이미지 선택** 섹션에서 **내 디스크**을 다음 선택 hello 원래 가상 하드 디스크 및 합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-154">In hello **Choose an Image** section, select **My disks**, and then select hello original virtual hard disk.</span></span> <span data-ttu-id="194ea-155">Hello 위치 정보를 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-155">Check hello location information.</span></span> <span data-ttu-id="194ea-156">이 hello 영역 hello VM 배포 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-156">This is hello region where hello VM must be deployed.</span></span> <span data-ttu-id="194ea-157">Hello 다음 단추를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-157">Select hello next button.</span></span>
4. <span data-ttu-id="194ea-158">Hello에 **가상 컴퓨터 구성** 섹션 hello VM 이름을 입력 하 고 hello VM 크기를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="194ea-158">In hello **Virtual machine configuration** section, type hello VM name and select a size for hello VM.</span></span>
