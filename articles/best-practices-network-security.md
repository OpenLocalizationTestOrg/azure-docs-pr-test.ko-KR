---
title: "aaaAzure 네트워크 보안 모범 사례 | Microsoft Docs"
description: "보안 네트워크 환경을 만드는 Azure toohelp에서 사용할 수 있는 hello 주요 기능 중 일부에 대해 알아봅니다"
services: virtual-network
documentationcenter: na
author: tracsman
manager: rossort
editor: 
ms.assetid: d169387a-1243-4867-a602-01d6f2d8a2a1
ms.service: virtual-network
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 01/03/2017
ms.author: jonor
ms.openlocfilehash: b851b2862428a8bd5e7525c85584fc1c14ffcabe
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="microsoft-cloud-services-and-network-security"></a><span data-ttu-id="0c4d0-103">Microsoft Cloud Services 및 네트워크 보안</span><span class="sxs-lookup"><span data-stu-id="0c4d0-103">Microsoft cloud services and network security</span></span>
<span data-ttu-id="0c4d0-104">Microsoft 클라우드 서비스는 대규모 서비스와 인프라, 엔터프라이즈급 기능 및 여러 하이브리드 연결 옵션을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-104">Microsoft cloud services deliver hyper-scale services and infrastructure, enterprise-grade capabilities, and many choices for hybrid connectivity.</span></span> <span data-ttu-id="0c4d0-105">고객 tooaccess hello 인터넷을 통해 또는 개인 네트워크 연결을 제공 하는 Azure ExpressRoute와 이러한 서비스를 선택할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-105">Customers can choose tooaccess these services either via hello Internet or with Azure ExpressRoute, which provides private network connectivity.</span></span> <span data-ttu-id="0c4d0-106">hello Microsoft Azure 플랫폼에는 고객을 tooseamlessly hello 클라우드로 인프라를 확장 하 고 다중 계층 아키텍처를 구축할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-106">hello Microsoft Azure platform allows customers tooseamlessly extend their infrastructure into hello cloud and build multi-tier architectures.</span></span> <span data-ttu-id="0c4d0-107">또한 타사 보안 서비스 및 가상 어플라이언스를 통해 향상된 기능을 구현할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-107">Additionally, third parties can enable enhanced capabilities by offering security services and virtual appliances.</span></span> <span data-ttu-id="0c4d0-108">이 백서에서는 Express 경로를 통해 액세스하는 Microsoft 클라우드 서비스 사용할 때 고객이 고려해야 하는 보안 및 아키텍처 문제에 대해 개괄적으로 설명합니다</span><span class="sxs-lookup"><span data-stu-id="0c4d0-108">This white paper provides an overview of security and architectural issues that customers should consider when using Microsoft cloud services accessed via ExpressRoute.</span></span> <span data-ttu-id="0c4d0-109">또한 Azure Virtual Network에서 더 안전한 서비스를 만드는 과정을 다룹니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-109">It also covers creating more secure services in Azure virtual networks.</span></span>

## <a name="fast-start"></a><span data-ttu-id="0c4d0-110">빠른 시작</span><span class="sxs-lookup"><span data-stu-id="0c4d0-110">Fast start</span></span>
<span data-ttu-id="0c4d0-111">다음 논리 차트 hello hello Azure 플랫폼에서 사용할 수 있는 여러 보안 방법 있습니다 tooa 구체적인 예의 hello 전달할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-111">hello following logic chart can direct you tooa specific example of hello many security techniques available with hello Azure platform.</span></span> <span data-ttu-id="0c4d0-112">빠른 참조를 hello 예제를 케이스에 가장 맞는 환경을 찾습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-112">For quick reference, find hello example that best fits your case.</span></span> <span data-ttu-id="0c4d0-113">확장 된 설명은 hello 용지를 읽는 계속 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-113">For expanded explanations, continue reading through hello paper.</span></span>
<span data-ttu-id="0c4d0-114">[![0]][0]</span><span class="sxs-lookup"><span data-stu-id="0c4d0-114">[![0]][0]</span></span>

[<span data-ttu-id="0c4d0-115">예제 1: 경계 네트워크 (DMZ, 완충 지역 또는 스크린 된 서브넷이 라고도 함) 빌드 toohelp (Nsg) 네트워크 보안 그룹으로 응용 프로그램을 보호 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-115">Example 1: Build a perimeter network (also known as DMZ, demilitarized zone, or screened subnet) toohelp protect applications with network security groups (NSGs).</span></span>](#example-1-build-a-perimeter-network-to-help-protect-applications-with-nsgs)</br><span data-ttu-id="0c4d0-116">
[예제 2: 빌드는 경계 네트워크 toohelp 방화벽 Nsg와 응용 프로그램을 보호 합니다.](#example-2-build-a-perimeter-network-to-help-protect-applications-with-a-firewall-and-nsgs)</span><span class="sxs-lookup"><span data-stu-id="0c4d0-116">
[Example 2: Build a perimeter network toohelp protect applications with a firewall and NSGs.](#example-2-build-a-perimeter-network-to-help-protect-applications-with-a-firewall-and-nsgs)</span></span></br><span data-ttu-id="0c4d0-117">
[예제 3: 빌드는 경계 네트워크 toohelp 방화벽, 사용자 정의 경로 (UDR) 및 NSG는 네트워크를 보호 합니다.](#example-3-build-a-perimeter-network-to-help-protect-networks-with-a-firewall-and-udr-and-nsg)</span><span class="sxs-lookup"><span data-stu-id="0c4d0-117">
[Example 3: Build a perimeter network toohelp protect networks with a firewall, user-defined route (UDR), and NSG.](#example-3-build-a-perimeter-network-to-help-protect-networks-with-a-firewall-and-udr-and-nsg)</span></span></br><span data-ttu-id="0c4d0-118">
[예제 4: 사이트 간 가상 어플라이언스 VPN(가상 사설망)에 하이브리드 연결 추가](#example-4-add-a-hybrid-connection-with-a-site-to-site-virtual-appliance-vpn)</span><span class="sxs-lookup"><span data-stu-id="0c4d0-118">
[Example 4: Add a hybrid connection with a site-to-site, virtual appliance virtual private network (VPN).](#example-4-add-a-hybrid-connection-with-a-site-to-site-virtual-appliance-vpn)</span></span></br><span data-ttu-id="0c4d0-119">
[예제 5: 사이트 간 Azure VPN Gateway를 통한 하이브리드 연결 추가](#example-5-add-a-hybrid-connection-with-a-site-to-site-azure-vpn-gateway)</span><span class="sxs-lookup"><span data-stu-id="0c4d0-119">
[Example 5: Add a hybrid connection with a site-to-site, Azure VPN gateway.](#example-5-add-a-hybrid-connection-with-a-site-to-site-azure-vpn-gateway)</span></span></br><span data-ttu-id="0c4d0-120">
[예제 6: ExpressRoute를 통한 하이브리드 연결 추가](#example-6-add-a-hybrid-connection-with-expressroute)</span><span class="sxs-lookup"><span data-stu-id="0c4d0-120">
[Example 6: Add a hybrid connection with ExpressRoute.](#example-6-add-a-hybrid-connection-with-expressroute)</span></span></br>
<span data-ttu-id="0c4d0-121">가상 네트워크, 높은 가용성 및 서비스 체인 간 연결 추가 대 한 예제 toothis 문서 동안 추가 hello 앞으로 몇 개월입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-121">Examples for adding connections between virtual networks, high availability, and service chaining will be added toothis document over hello next few months.</span></span>

## <a name="microsoft-compliance-and-infrastructure-protection"></a><span data-ttu-id="0c4d0-122">Microsoft 규정 준수 및 인프라 보호</span><span class="sxs-lookup"><span data-stu-id="0c4d0-122">Microsoft compliance and infrastructure protection</span></span>
<span data-ttu-id="0c4d0-123">toohelp 조직 national 지역 따르고 hello 수집 및 개인 데이터의 사용과 관련 된 특정 업계 요구 사항, Microsoft는 40 개 이상의 인증 및 증명 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-123">toohelp organizations comply with national, regional, and industry-specific requirements governing hello collection and use of individuals’ data, Microsoft offers over 40 certifications and attestations.</span></span> <span data-ttu-id="0c4d0-124">모든 클라우드 서비스 공급자의 가장 종합적인 hello 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-124">hello most comprehensive set of any cloud service provider.</span></span>

<span data-ttu-id="0c4d0-125">자세한 내용은 hello에 hello 준수 정보 참조 [Microsoft 보안 센터][TrustCenter]합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-125">For more information, see hello compliance information on hello [Microsoft Trust Center][TrustCenter].</span></span>

<span data-ttu-id="0c4d0-126">Microsoft는 포괄적인 접근 방식 tooprotect 클라우드는 데 필요한 인프라 toorun 대규모 글로벌 서비스에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-126">Microsoft has a comprehensive approach tooprotect cloud infrastructure needed toorun hyper-scale global services.</span></span> <span data-ttu-id="0c4d0-127">하드웨어, 소프트웨어, 네트워크, Microsoft 클라우드 인프라에 포함 된 관리 및 또한 toohello 물리적 데이터 센터 운영 담당자 및 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-127">Microsoft cloud infrastructure includes hardware, software, networks, and administrative and operations staff, in addition toohello physical data centers.</span></span>

<span data-ttu-id="0c4d0-128">![2]</span><span class="sxs-lookup"><span data-stu-id="0c4d0-128">![2]</span></span>

<span data-ttu-id="0c4d0-129">이 방법은 toodeploy 고객에 대 한 보다 안전한 기반 Microsoft 클라우드 hello에이 서비스를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-129">This approach provides a more secure foundation for customers toodeploy their services in hello Microsoft cloud.</span></span> <span data-ttu-id="0c4d0-130">다음 단계 hello 고객 toodesign 되며 보안 아키텍처 tooprotect 이러한 서비스를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-130">hello next step is for customers toodesign and create a security architecture tooprotect these services.</span></span>

## <a name="traditional-security-architectures-and-perimeter-networks"></a><span data-ttu-id="0c4d0-131">기존 보안 아키텍처 및 경계 네트워크</span><span class="sxs-lookup"><span data-stu-id="0c4d0-131">Traditional security architectures and perimeter networks</span></span>
<span data-ttu-id="0c4d0-132">하지만 Microsoft 연구 하 고 과도 하 게 보호 하는 hello 클라우드 인프라를 클라우드 서비스 및 리소스 그룹 고객도 보호 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-132">Although Microsoft invests heavily in protecting hello cloud infrastructure, customers must also protect their cloud services and resource groups.</span></span> <span data-ttu-id="0c4d0-133">다중 계층된 접근 방식을 toosecurity hello 최상의 철저 한 방어를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-133">A multilayered approach toosecurity provides hello best defense.</span></span> <span data-ttu-id="0c4d0-134">경계 네트워크 보안 영역은 신뢰할 수 없는 네트워크로부터 내부 네트워크 리소스를 보호합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-134">A perimeter network security zone protects internal network resources from an untrusted network.</span></span> <span data-ttu-id="0c4d0-135">경계 네트워크 toohello 모서리나 hello 인터넷 및 보호 하는 hello 엔터프라이즈 IT 인프라 사이 hello 네트워크의 부분을 참조 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-135">A perimeter network refers toohello edges or parts of hello network that sit between hello Internet and hello protected enterprise IT infrastructure.</span></span>

<span data-ttu-id="0c4d0-136">일반적인 엔터프라이즈 네트워크에서 hello 핵심 인프라는 여러 계층의 보안 장치 사용 hello 경계에서 대형 과도 하 게 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-136">In typical enterprise networks, hello core infrastructure is heavily fortified at hello perimeters, with multiple layers of security devices.</span></span> <span data-ttu-id="0c4d0-137">hello 경계 각 계층의 장치 및 정책 적용 지점으로 구성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-137">hello boundary of each layer consists of devices and policy enforcement points.</span></span> <span data-ttu-id="0c4d0-138">각 계층에는 hello 네트워크 보안 장치 뒤의 조합이 포함 될 수 있습니다: 방화벽, 서비스 거부 (DoS) 방지, 침입 감지 또는 보호 시스템 ID/IP (), 및 VPN 장치입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-138">Each layer can include a combination of hello following network security devices: firewalls, Denial of Service (DoS) prevention, Intrusion Detection or Protection Systems (IDS/IPS), and VPN devices.</span></span> <span data-ttu-id="0c4d0-139">정책 적용 hello 형태의 방화벽 정책, 액세스 제어 목록 (Acl) 또는 특정 라우팅 걸릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-139">Policy enforcement can take hello form of firewall policies, access control lists (ACLs), or specific routing.</span></span> <span data-ttu-id="0c4d0-140">hello 최전방의 방어선 hello 네트워크에서 직접 hello 인터넷에서에서 들어오는 트래픽을 수락은 hello 네트워크에 합법적인 요청이 추가 허용 하면서 이러한 메커니즘 tooblock 공격 및 유해한 트래픽이의 조합입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-140">hello first line of defense in hello network, directly accepting incoming traffic from hello Internet, is a combination of these mechanisms tooblock attacks and harmful traffic while allowing legitimate requests further into hello network.</span></span> <span data-ttu-id="0c4d0-141">이 트래픽을 라우팅합니다 hello 경계 네트워크에 직접 tooresources를 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-141">This traffic routes directly tooresources in hello perimeter network.</span></span> <span data-ttu-id="0c4d0-142">해당 리소스 수 다음와 "통신" tooresources 유효성 검사에 대 한 다음 경계 hello를 통해 전송 되는 hello 네트워크에 자세히 첫 번째입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-142">That resource may then “talk” tooresources deeper in hello network, transiting hello next boundary for validation first.</span></span> <span data-ttu-id="0c4d0-143">hello 가장 바깥쪽 레이어 hello 네트워크의이 부분에 노출 된 toohello 일종의 양쪽 모두에 대 한 보호를 사용 하 여 일반적으로 인터넷 이므로 hello 경계 네트워크를 라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-143">hello outermost layer is called hello perimeter network because this part of hello network is exposed toohello Internet, usually with some form of protection on both sides.</span></span> <span data-ttu-id="0c4d0-144">hello 다음 그림은 예 단일 서브넷 경계 네트워크의 두 개의 보안 경계와 회사 네트워크에서.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-144">hello following figure shows an example of a single subnet perimeter network in a corporate network, with two security boundaries.</span></span>

<span data-ttu-id="0c4d0-145">![3]</span><span class="sxs-lookup"><span data-stu-id="0c4d0-145">![3]</span></span>

<span data-ttu-id="0c4d0-146">경계 네트워크는 많은 아키텍처가 사용 tooimplement 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-146">There are many architectures used tooimplement a perimeter network.</span></span> <span data-ttu-id="0c4d0-147">이러한 아키텍처는 각 경계 tooblock 트래픽에서 다양 한 메커니즘으로 간단한 부하 분산 장치 tooa 다중 서브넷 경계 네트워크에서 다양 하 고 hello 회사 네트워크의 hello 더 깊은 계층을 보호할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-147">These architectures can range from a simple load balancer tooa multiple-subnet perimeter network with varied mechanisms at each boundary tooblock traffic and protect hello deeper layers of hello corporate network.</span></span> <span data-ttu-id="0c4d0-148">Hello 경계 네트워크 작성 방법은 hello hello 조직과 전반적인 위험 허용 오차의 특정 요구에 따라 달라 집니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-148">How hello perimeter network is built depends on hello specific needs of hello organization and its overall risk tolerance.</span></span>

<span data-ttu-id="0c4d0-149">고객의 이동 된 워크 로드 toopublic 클라우드 때 Azure toomeet 규정 준수 및 보안 요구 사항에 경계 네트워크 아키텍처에 대 한 중요 한 toosupport 기능 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-149">As customers move their workloads toopublic clouds, it is critical toosupport similar capabilities for perimeter network architecture in Azure toomeet compliance and security requirements.</span></span> <span data-ttu-id="0c4d0-150">이 문서는 고객이 Azure에서 보안 네트워크 환경을 빌드하는 방법에 대한 지침을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-150">This document provides guidelines on how customers can build a secure network environment in Azure.</span></span> <span data-ttu-id="0c4d0-151">Hello 경계 네트워크에 중점을 두고 하지만 네트워크 보안의 여러 측면에 대 한 포괄적인 설명은 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-151">It focuses on hello perimeter network, but also includes a comprehensive discussion of many aspects of network security.</span></span> <span data-ttu-id="0c4d0-152">hello 다음 질문이이 설명을 게 알립니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-152">hello following questions inform this discussion:</span></span>

* <span data-ttu-id="0c4d0-153">Azure에서 경계 네트워크를 빌드하는 방법</span><span class="sxs-lookup"><span data-stu-id="0c4d0-153">How can a perimeter network in Azure be built?</span></span>
* <span data-ttu-id="0c4d0-154">Hello Azure 기능 사용 가능한 toobuild hello 경계 네트워크의 일부 무엇입니까?</span><span class="sxs-lookup"><span data-stu-id="0c4d0-154">What are some of hello Azure features available toobuild hello perimeter network?</span></span>
* <span data-ttu-id="0c4d0-155">백 엔드 워크로드 보호 방법</span><span class="sxs-lookup"><span data-stu-id="0c4d0-155">How can back-end workloads be protected?</span></span>
* <span data-ttu-id="0c4d0-156">Azure에서 인터넷 통신 제어 toohello 작업은 무엇입니까?</span><span class="sxs-lookup"><span data-stu-id="0c4d0-156">How are Internet communications controlled toohello workloads in Azure?</span></span>
* <span data-ttu-id="0c4d0-157">Azure에서 배포에서 hello 온-프레미스 네트워크를 어떻게 보호 수 있습니다.?</span><span class="sxs-lookup"><span data-stu-id="0c4d0-157">How can hello on-premises networks be protected from deployments in Azure?</span></span>
* <span data-ttu-id="0c4d0-158">타사 어플라이언스나 서비스에 기본 Azure 보안 기능을 사용하는 방법</span><span class="sxs-lookup"><span data-stu-id="0c4d0-158">When should native Azure security features be used versus third-party appliances or services?</span></span>

<span data-ttu-id="0c4d0-159">다이어그램을 다음 hello 다양 한 Azure toocustomers에서 제공 하는 보안 계층을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-159">hello following diagram shows various layers of security Azure provides toocustomers.</span></span> <span data-ttu-id="0c4d0-160">이러한 계층은 모두 hello 자체 Azure 플랫폼에서에서 네이티브과 고객 정의 기능입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-160">These layers are both native in hello Azure platform itself and customer-defined features:</span></span>

<span data-ttu-id="0c4d0-161">![4]</span><span class="sxs-lookup"><span data-stu-id="0c4d0-161">![4]</span></span>

<span data-ttu-id="0c4d0-162">Azure에 대 한 대규모 공격 으로부터 보호 하는 Azure DDoS hello 인터넷에서에서 인바운드 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-162">Inbound from hello Internet, Azure DDoS helps protect against large-scale attacks against Azure.</span></span> <span data-ttu-id="0c4d0-163">hello 다음 계층은 고객이 정의한 공용 IP 주소 (끝점)는 사용 되는 toodetermine hello 클라우드 서비스 toohello 가상 네트워크를 통해 트래픽을 전달할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-163">hello next layer is customer-defined public IP addresses (endpoints), which are used toodetermine which traffic can pass through hello cloud service toohello virtual network.</span></span> <span data-ttu-id="0c4d0-164">기본 Azure Virtual Network 격리를 통해 모든 타 네트워크를 격리하고 트래픽이 사용자가 구성한 경로 및 방법을 통해서만 전달되도록 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-164">Native Azure virtual network isolation ensures complete isolation from all other networks and that traffic only flows through user configured paths and methods.</span></span> <span data-ttu-id="0c4d0-165">이러한 경로 메서드는 Nsg, UDR, 및 네트워크 가상 어플라이언스 hello 보호 네트워크 toocreate 사용 되는 보안 경계 tooprotect hello 응용 프로그램 배포를 될 수 있는 hello 다음 계층.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-165">These paths and methods are hello next layer, where NSGs, UDR, and network virtual appliances can be used toocreate security boundaries tooprotect hello application deployments in hello protected network.</span></span>

<span data-ttu-id="0c4d0-166">hello 다음 섹션에서는 Azure 가상 네트워크에 대 한 개요를 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-166">hello next section provides an overview of Azure virtual networks.</span></span> <span data-ttu-id="0c4d0-167">이러한 Virtual Network는 고객이 만들며 배포된 워크로드가 연결되는 대상입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-167">These virtual networks are created by customers, and are what their deployed workloads are connected to.</span></span> <span data-ttu-id="0c4d0-168">가상 네트워크는 모든 hello 네트워크 보안 기능의 hello 기반 필수 tooestablish Azure에서 경계 네트워크 tooprotect 고객 배포 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-168">Virtual networks are hello basis of all hello network security features required tooestablish a perimeter network tooprotect customer deployments in Azure.</span></span>

## <a name="overview-of-azure-virtual-networks"></a><span data-ttu-id="0c4d0-169">Azure Virtual Network 개요 </span><span class="sxs-lookup"><span data-stu-id="0c4d0-169">Overview of Azure virtual networks</span></span>
<span data-ttu-id="0c4d0-170">인터넷 트래픽을 toohello Azure 가상 네트워크를 가져올 수, 전에 보안 내재 된 toohello Azure 플랫폼의 두 계층 가지가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-170">Before Internet traffic can get toohello Azure virtual networks, there are two layers of security inherent toohello Azure platform:</span></span>

1.    <span data-ttu-id="0c4d0-171">**DDoS 방지**: DDoS 보호는 hello hello Azure 플랫폼 자체 대규모 인터넷 기반 공격 으로부터 보호 하는 실제 네트워크를 Azure의 계층입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-171">**DDoS protection**: DDoS protection is a layer of hello Azure physical network that protects hello Azure platform itself from large-scale Internet-based attacks.</span></span> <span data-ttu-id="0c4d0-172">이러한 공격은 시도 toooverwhelm 인터넷 서비스의에서 여러 "bot" 노드를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-172">These attacks use multiple “bot” nodes in an attempt toooverwhelm an Internet service.</span></span> <span data-ttu-id="0c4d0-173">Azure에는 모든 인바운드, 아웃바운드 및 Azure 지역 연결 간에 강력한 DDoS 방지 메시가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-173">Azure has a robust DDoS protection mesh on all inbound, outbound, and cross-Azure region connectivity.</span></span> <span data-ttu-id="0c4d0-174">이 DDoS 보호 계층에는 사용자 구성 가능 특성이 없습니다 하며 액세스할 수 있는 toohello 고객 않습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-174">This DDoS protection layer has no user configurable attributes and is not accessible toohello customer.</span></span> <span data-ttu-id="0c4d0-175">대규모 공격 으로부터 플랫폼으로 Azure를 보호 하는 hello DDoS 보호 계층, 아웃 바운드 트래픽을 캡슐화 된 트래픽과 크로스 Azure 영역의 또한 모니터링 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-175">hello DDoS protection layer protects Azure as a platform from large-scale attacks, it also monitors out-bound traffic and cross-Azure region traffic.</span></span> <span data-ttu-id="0c4d0-176">네트워크 가상 어플라이언스를 사용 하 여 hello VNet에, 추가 계층에 대 한 탄력성 hello 플랫폼 수준 보호 발생 하지 않는 보다 작은 눈금 공격 hello 고객별 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-176">Using network virtual appliances on hello VNet, additional layers of resilience can be configured by hello customer against a smaller scale attack that doesn't trip hello platform level protection.</span></span> <span data-ttu-id="0c4d0-177">작업에서 DDoS 예 경우에 인터넷 연결 IP 주소를 대규모 DDoS 공격에 의해 공격을 경우 Azure hello 공격 hello 소스를 인식 하 고 의도 한 대상에 도달 하기 전에 트래픽 잘못 된 hello를 제거 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-177">An example of DDoS in action; if an internet facing IP address was attacked by a large-scale DDoS attack, Azure would detect hello sources of hello attacks and scrub hello offending traffic before it reached its intended destination.</span></span> <span data-ttu-id="0c4d0-178">거의 모든 경우에 hello 공격 받은 끝점 영향을 받지 않습니다 hello 공격입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-178">In almost all cases, hello attacked endpoint isn't affected by hello attack.</span></span> <span data-ttu-id="0c4d0-179">끝점의 영향을 받는다는 드문 경우 hello 트래픽이 영향을 받는 tooother 끝점, 공격 hello 끝점만입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-179">In hello rare cases that an endpoint is affected, no traffic is affected tooother endpoints, only hello attacked endpoint.</span></span> <span data-ttu-id="0c4d0-180">따라서 다른 고객 및 서비스는 해당 공격으로 인한 영향을 알지 못합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-180">Thus other customers and services would see no impact from that attack.</span></span> <span data-ttu-id="0c4d0-181">것이 중요 한 toonote Azure DDoS 대규모 공격 검색만 하 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-181">It's critical toonote that Azure DDoS is only looking for large-scale attacks.</span></span> <span data-ttu-id="0c4d0-182">Hello 플랫폼 수준 보호 임계값이 초과 되기 전에 특정 서비스에 너무 없습니다 것 같습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-182">It is possible that your specific service could be overwhelmed before hello platform level protection thresholds are exceeded.</span></span> <span data-ttu-id="0c4d0-183">예를 들어 Azure 플랫폼 수준 DDoS 보호에서 위협을 등록하기 전에 DDoS 공격에 의해 단일 A0 IIS 서버의 웹 사이트가 오프라인으로 사용될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-183">For example, a web site on a single A0 IIS server, could be taken offline by a DDoS attack before Azure platform level DDoS protection registered a threat.</span></span>

2.  <span data-ttu-id="0c4d0-184">**공용 IP 주소**: 공용 IP 주소 (서비스 끝점, 공용 IP 주소, 응용 프로그램 게이트웨이 및 공용 IP 주소 toohello 인터넷 라우팅 tooyour 리소스를 제공 하는 다른 Azure 기능을 통해 사용 됨) 클라우드 서비스를 허용 또는 리소스 그룹의 toohave 공용 인터넷 IP 주소 및 노출 하는 포트입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-184">**Public IP Addresses**: Public IP addresses (enabled via service endpoints, Public IP addresses, Application Gateway, and other Azure features that present a public IP address toohello internet routed tooyour resource) allow cloud services or resource groups toohave public Internet IP addresses and ports exposed.</span></span> <span data-ttu-id="0c4d0-185">hello 끝점이 hello Azure 가상 네트워크에 네트워크 주소 변환 (NAT) tooroute 트래픽 toohello 내부 주소와 포트를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-185">hello endpoint uses Network Address Translation (NAT) tooroute traffic toohello internal address and port on hello Azure virtual network.</span></span> <span data-ttu-id="0c4d0-186">이 경로 hello 외부 트래픽이 toopass hello 가상 네트워크로에 대 한 기본 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-186">This path is hello primary way for external traffic toopass into hello virtual network.</span></span> <span data-ttu-id="0c4d0-187">hello 공용 IP 주소 구성 가능한 toodetermine 트래픽을 전달 되며 방법과 위치 toohello 가상 네트워크에 변환 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-187">hello Public IP addresses are configurable toodetermine which traffic is passed in, and how and where it's translated on toohello virtual network.</span></span>

<span data-ttu-id="0c4d0-188">트래픽 hello 가상 네트워크에 도달 하면 고려해 야 하는 기능이 많이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-188">Once traffic reaches hello virtual network, there are many features that come into play.</span></span> <span data-ttu-id="0c4d0-189">Azure 가상 네트워크의 작업량 및 기본 네트워크 수준 보안 적용 되는 고객 tooattach 하기 위한 기초 hello 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-189">Azure virtual networks are hello foundation for customers tooattach their workloads and where basic network-level security applies.</span></span> <span data-ttu-id="0c4d0-190">중인 개인 네트워크 (가상 네트워크 오버레이) Azure hello 사용 하는 고객에 대 한 기능 및 특성이 다음:</span><span class="sxs-lookup"><span data-stu-id="0c4d0-190">It is a private network (a virtual network overlay) in Azure for customers with hello following features and characteristics:</span></span>

* <span data-ttu-id="0c4d0-191">**트래픽 격리**: 가상 네트워크는 hello Azure 플랫폼에 hello 트래픽 격리 경계입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-191">**Traffic isolation**: A virtual network is hello traffic isolation boundary on hello Azure platform.</span></span> <span data-ttu-id="0c4d0-192">하나의 가상 네트워크의 가상 컴퓨터 (Vm)에 다른 가상 네트워크에서 두 가상 네트워크를 만든 경우에 tooVMs hello 동일한 고객 직접 통신할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-192">Virtual machines (VMs) in one virtual network cannot communicate directly tooVMs in a different virtual network, even if both virtual networks are created by hello same customer.</span></span> <span data-ttu-id="0c4d0-193">격리는 고객 VM과 통신이 가상 네트워크 안에서 비공개 상태를 유지하는 데 있어 중요한 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-193">Isolation is a critical property that ensures customer VMs and communication remains private within a virtual network.</span></span>

>[!NOTE]
><span data-ttu-id="0c4d0-194">트래픽 격리 참조만 tootraffic *인바운드* toohello 가상 네트워크입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-194">Traffic isolation refers only tootraffic *inbound* toohello virtual network.</span></span> <span data-ttu-id="0c4d0-195">Hello VNet toohello의 아웃 바운드 트래픽이 기본적으로 인터넷은 허용 되지만 Nsg가 원하는 막을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-195">By default outbound traffic from hello VNet toohello internet is allowed, but can be prevented if desired by NSGs.</span></span>
>
>

* <span data-ttu-id="0c4d0-196">**다중 계층 토폴로지**: 가상 네트워크 내에서 고객 수 toodefine 다중 계층 토폴로지 서브넷에 할당 하 고 다양 한 요소 또는 해당 작업의 "계층"에 대 한 별도 주소 공간을 지정 하 여 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-196">**Multi-tier topology**: Virtual networks allow customers toodefine multi-tier topology by allocating subnets and designating separate address spaces for different elements or “tiers” of their workloads.</span></span> <span data-ttu-id="0c4d0-197">이러한 논리적 그룹 및 토폴로지 hello 작업 부하 유형을 기반으로 하는 고객 toodefine 서로 다른 액세스 정책을 사용 하 고 hello 계층 간 트래픽 흐름을 제어할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-197">These logical groupings and topologies enable customers toodefine different access policy based on hello workload types, and also control traffic flows between hello tiers.</span></span>
* <span data-ttu-id="0c4d0-198">**크로스 프레미스 연결**: 고객은 Virtual Network와 다중 온-프레미스 사이트 간 또는 Azure의 다른 Virtual Network 간에 크로스 프레미스 연결을 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-198">**Cross-premises connectivity**: Customers can establish cross-premises connectivity between a virtual network and multiple on-premises sites or other virtual networks in Azure.</span></span> <span data-ttu-id="0c4d0-199">VNet 피어 링, Azure VPN 게이트웨이, 공급 업체 네트워크 가상 어플라이언스 또는 express 경로 연결 tooconstruct 고객을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-199">tooconstruct a connection, customers can use VNet Peering, Azure VPN Gateways, third-party network virtual appliances, or ExpressRoute.</span></span> <span data-ttu-id="0c4d0-200">Azure는 표준 IPsec/IKE 프로토콜 및 Express 경로 개인 연결을 사용한 사이트 간(S2S) VPN을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-200">Azure supports site-to-site (S2S) VPNs using standard IPsec/IKE protocols and ExpressRoute private connectivity.</span></span>
* <span data-ttu-id="0c4d0-201">**NSG** hello 원하는 수준의 세분성에서 고객 toocreate 규칙 (Acl)을 허용 합니다.: 네트워크 인터페이스, 개별 Vm 또는 가상 서브넷입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-201">**NSG** allows customers toocreate rules (ACLs) at hello desired level of granularity: network interfaces, individual VMs, or virtual subnets.</span></span> <span data-ttu-id="0c4d0-202">고객은 허용 또는 거부 크로스-프레미스 연결을 통해 고객의 네트워크의 시스템에서 가상 네트워크 내에서 hello 작업 간의 통신 하 여 액세스를 제어 하거나 직접 인터넷 통신 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-202">Customers can control access by permitting or denying communication between hello workloads within a virtual network, from systems on customer’s networks via cross-premises connectivity, or direct Internet communication.</span></span>
* <span data-ttu-id="0c4d0-203">**UDR** 및 **IP 전달** 고객 가상 네트워크 내에서 다양 한 계층 간의 toodefine hello 통신 경로 허용 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-203">**UDR** and **IP Forwarding** allow customers toodefine hello communication paths between different tiers within a virtual network.</span></span> <span data-ttu-id="0c4d0-204">고객은 보안 경계 정책 적용, 감사 및 검사를 위해 방화벽, IDS/IPS 및 기타 가상 어플라이언스를 배포하고 이러한 보안 어플라이언스를 통해 네트워크 트래픽을 라우팅할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-204">Customers can deploy a firewall, IDS/IPS, and other virtual appliances, and route network traffic through these security appliances for security boundary policy enforcement, auditing, and inspection.</span></span>
* <span data-ttu-id="0c4d0-205">**네트워크 가상 어플라이언스** hello Azure Marketplace의에서: 방화벽, 부하 분산 장치, 및 ID/IP와 같은 보안 어플라이언스 hello Azure 마켓플레이스에서 사용 가능 하 고 VM 이미지 갤러리 hello 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-205">**Network virtual appliances** in hello Azure Marketplace: Security appliances such as firewalls, load balancers, and IDS/IPS are available in hello Azure Marketplace and hello VM Image Gallery.</span></span> <span data-ttu-id="0c4d0-206">고객이 각자의 가상 네트워크 내부 및의 보안 경계 (hello 경계 네트워크 서브넷 포함)는 다중 계층 toocomplete 안전한 네트워크 환경에 특히, 이러한 어플라이언스를 배포할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-206">Customers can deploy these appliances into their virtual networks, and specifically, at their security boundaries (including hello perimeter network subnets) toocomplete a multi-tiered secure network environment.</span></span>

<span data-ttu-id="0c4d0-207">이러한 기능 및 기능 한 가지 예로 경계 네트워크 아키텍처를 Azure에서 구성할 수 있습니다 어떻게 다이어그램을 다음 hello 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-207">With these features and capabilities, one example of how a perimeter network architecture could be constructed in Azure is hello following diagram:</span></span>

<span data-ttu-id="0c4d0-208">![5]</span><span class="sxs-lookup"><span data-stu-id="0c4d0-208">![5]</span></span>

## <a name="perimeter-network-characteristics-and-requirements"></a><span data-ttu-id="0c4d0-209">경계 네트워크 특성 및 요구 사항</span><span class="sxs-lookup"><span data-stu-id="0c4d0-209">Perimeter network characteristics and requirements</span></span>
<span data-ttu-id="0c4d0-210">hello 경계 네트워크는 hello 프런트 엔드 hello 네트워크를 직접 조작 하는 hello 인터넷에서에서 통신 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-210">hello perimeter network is hello front end of hello network, directly interfacing communication from hello Internet.</span></span> <span data-ttu-id="0c4d0-211">들어오는 hello 패킷에 hello 백 엔드 서버에 도달 하기 전에 hello 방화벽, ID 및 ip 주소로 같은 hello 보안 어플라이언스를 통해 전달 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-211">hello incoming packets should flow through hello security appliances, such as hello firewall, IDS, and IPS, before reaching hello back-end servers.</span></span> <span data-ttu-id="0c4d0-212">Hello 워크 로드에서 인터넷에 바인딩된 패킷을 정책 적용, 검사 및 감사할 목적으로 hello 네트워크에서 없어지기 전에 hello 경계 네트워크에 hello 보안 어플라이언스를 통해 진행 될 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-212">Internet-bound packets from hello workloads can also flow through hello security appliances in hello perimeter network for policy enforcement, inspection, and auditing purposes, before leaving hello network.</span></span> <span data-ttu-id="0c4d0-213">또한 hello 경계 네트워크는 고객 가상 네트워크와 온-프레미스 네트워크 간에 크로스-프레미스 VPN 게이트웨이 호스트할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-213">Additionally, hello perimeter network can host cross-premises VPN gateways between customer virtual networks and on-premises networks.</span></span>

### <a name="perimeter-network-characteristics"></a><span data-ttu-id="0c4d0-214">경계 네트워크 특성</span><span class="sxs-lookup"><span data-stu-id="0c4d0-214">Perimeter network characteristics</span></span>
<span data-ttu-id="0c4d0-215">Hello 이전 그림을 참조 하는 뛰어난 경계 네트워크의 hello 특성 중 일부는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-215">Referencing hello previous figure, some of hello characteristics of a good perimeter network are as follows:</span></span>

* <span data-ttu-id="0c4d0-216">인터넷 연결:</span><span class="sxs-lookup"><span data-stu-id="0c4d0-216">Internet-facing:</span></span>
  * <span data-ttu-id="0c4d0-217">자체 hello 경계 네트워크 서브넷은 인터넷에 연결, 인터넷 hello와 직접 통신 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-217">hello perimeter network subnet itself is Internet-facing, directly communicating with hello Internet.</span></span>
  * <span data-ttu-id="0c4d0-218">공용 IP 주소, Vip 및/또는 서비스 끝점이 인터넷 트래픽 toohello 프런트 엔드 네트워크 및 장치를 전달합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-218">Public IP addresses, VIPs, and/or service endpoints pass Internet traffic toohello front-end network and devices.</span></span>
  * <span data-ttu-id="0c4d0-219">트래픽 hello hello 프런트 엔드 네트워크에서 다른 리소스 하기 전에 보안 장치를 통해 전달 하는 인터넷에서에서 인바운드 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-219">Inbound traffic from hello Internet passes through security devices before other resources on hello front-end network.</span></span>
  * <span data-ttu-id="0c4d0-220">아웃 바운드 보안을 사용 하는 경우 트래픽 toohello 인터넷 전달 하기 전에 보안 장치 hello 마지막 단계로, 통과 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-220">If outbound security is enabled, traffic passes through security devices, as hello final step, before passing toohello Internet.</span></span>
* <span data-ttu-id="0c4d0-221">보호되는 네트워크:</span><span class="sxs-lookup"><span data-stu-id="0c4d0-221">Protected network:</span></span>
  * <span data-ttu-id="0c4d0-222">Hello 인터넷 toohello 핵심 인프라에서 직접 경로가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-222">There is no direct path from hello Internet toohello core infrastructure.</span></span>
  * <span data-ttu-id="0c4d0-223">Nsg, 방화벽 또는 VPN 장치 등과 같은 보안 장치를 통해 채널 toohello 핵심 인프라를 트래버스해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-223">Channels toohello core infrastructure must traverse through security devices such as NSGs, firewalls, or VPN devices.</span></span>
  * <span data-ttu-id="0c4d0-224">다른 장치 인터넷 및 hello 핵심 인프라를 브리징 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-224">Other devices must not bridge Internet and hello core infrastructure.</span></span>
  * <span data-ttu-id="0c4d0-225">보안 장치 모두에 인터넷 hello 표시 되며 hello 경계 네트워크 (예를 들어 두 hello 방화벽 아이콘 hello 이전 그림에 표시)의 경계를 바라보 hello 보호 되는 네트워크 실제로 차별화 된 규칙으로 단일 가상 어플라이언스 또는 각 경계에 대 한 인터페이스입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-225">Security devices on both hello Internet-facing and hello protected network facing boundaries of hello perimeter network (for example, hello two firewall icons shown in hello previous figure) may actually be a single virtual appliance with differentiated rules or interfaces for each boundary.</span></span> <span data-ttu-id="0c4d0-226">예를 들어 하나의 물리적 장치를 논리적으로 분리 되어 hello 경계 네트워크의 경계 둘 다에 대 한 hello 부하를 처리 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-226">For example, one physical device, logically separated, handling hello load for both boundaries of hello perimeter network.</span></span>
* <span data-ttu-id="0c4d0-227">다른 일반적인 사례 및 제약 조건:</span><span class="sxs-lookup"><span data-stu-id="0c4d0-227">Other common practices and constraints:</span></span>
  * <span data-ttu-id="0c4d0-228">워크로드는 업무상 중요 정보를 저장할 수 없음</span><span class="sxs-lookup"><span data-stu-id="0c4d0-228">Workloads must not store business critical information.</span></span>
  * <span data-ttu-id="0c4d0-229">액세스 및 업데이트 tooperimeter 네트워크 구성 및 배포는 권한이 제한 된 tooonly 관리자입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-229">Access and updates tooperimeter network configurations and deployments are limited tooonly authorized administrators.</span></span>

### <a name="perimeter-network-requirements"></a><span data-ttu-id="0c4d0-230">경계 네트워크 요구 사항</span><span class="sxs-lookup"><span data-stu-id="0c4d0-230">Perimeter network requirements</span></span>
<span data-ttu-id="0c4d0-231">tooenable 이러한 특성을 가상 네트워크 요구 사항 tooimplement 성공적인 경계 네트워크에 다음이 지침을 따릅니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-231">tooenable these characteristics, follow these guidelines on virtual network requirements tooimplement a successful perimeter network:</span></span>

* <span data-ttu-id="0c4d0-232">**서브넷 아키텍처:** 지정 hello 가상 네트워크 전체 서브넷 hello 경계 네트워크와 전용 되도록 구분 된 hello에서 다른 서브넷에서 동일한 가상 네트워크입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-232">**Subnet architecture:** Specify hello virtual network such that an entire subnet is dedicated as hello perimeter network, separated from other subnets in hello same virtual network.</span></span> <span data-ttu-id="0c4d0-233">이러한 분리는 hello 경계 네트워크 및 방화벽 또는 ID/IP는 가상 어플라이언스를 통해 다른 내부 또는 개인 서브넷 계층 흐름 간에 트래픽을 hello를 보장합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-233">This separation ensures hello traffic between hello perimeter network and other internal or private subnet tiers flows through a firewall or IDS/IPS virtual appliance.</span></span>  <span data-ttu-id="0c4d0-234">서브넷은 hello 경계에서 사용자 정의 경로 tooforward이 트래픽을 toohello 가상 어플라이언스를 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-234">User-defined routes on hello boundary subnets are required tooforward this traffic toohello virtual appliance.</span></span>
* <span data-ttu-id="0c4d0-235">**NSG:** 자체 hello 경계 네트워크 서브넷 hello 인터넷 열려 tooallow 통신할 수도 있지만 고객 Nsg를 무시 해야 의미는 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-235">**NSG:** hello perimeter network subnet itself should be open tooallow communication with hello Internet, but that does not mean customers should be bypassing NSGs.</span></span> <span data-ttu-id="0c4d0-236">일반적인 보안 사례 toominimize hello 네트워크 노출 표면 toohello 인터넷을 따릅니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-236">Follow common security practices toominimize hello network surfaces exposed toohello Internet.</span></span> <span data-ttu-id="0c4d0-237">Tooaccess hello 배포 또는 hello 특정 응용 프로그램 프로토콜 및 열려 있는 포트를 허용 하는 hello 원격 주소 범위 잠글 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-237">Lock down hello remote address ranges allowed tooaccess hello deployments or hello specific application protocols and ports that are open.</span></span> <span data-ttu-id="0c4d0-238">그러나 전체 잠금이 불가능한 환경이 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-238">There may be circumstances, however, in which a complete lock-down is not possible.</span></span> <span data-ttu-id="0c4d0-239">예를 들어 고객이 Azure에서 외부 웹 사이트를 사용할 경우 hello 경계 네트워크에서 공용 IP 주소를 hello 들어오는 웹 요청을 허용 해야 하지만 hello 웹 응용 프로그램 포트를 열어야: 포트 80에 TCP 및/또는 포트 443 TCP입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-239">For example, if customers have an external website in Azure, hello perimeter network should allow hello incoming web requests from any public IP addresses, but should only open hello web application ports: TCP on port 80 and/or TCP on port 443.</span></span>
* <span data-ttu-id="0c4d0-240">**라우팅 테이블:** 자체 hello 경계 네트워크 서브넷을 직접 수 toocommunicate toohello 인터넷 여야 하지만 직접 통신 tooand hello 백 엔드 또는 온-프레미스 네트워크에서 방화벽을 통해 이동 하지 않고도 허용 해서는 안 또는 보안 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-240">**Routing table:** hello perimeter network subnet itself should be able toocommunicate toohello Internet directly, but should not allow direct communication tooand from hello back end or on-premises networks without going through a firewall or security appliance.</span></span>
* <span data-ttu-id="0c4d0-241">**보안 어플라이언스 구성:** tooroute 및 hello 경계 네트워크와 hello 나머지 보호 hello 네트워크 간에 패킷을 검사, ID, 방화벽과 같은 보안 어플라이언스 hello 및 IP 장치 다중 홈이 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-241">**Security appliance configuration:** tooroute and inspect packets between hello perimeter network and hello rest of hello protected networks, hello security appliances such as firewall, IDS, and IPS devices may be multi-homed.</span></span> <span data-ttu-id="0c4d0-242">Hello 경계 네트워크 및 hello 백 엔드 서브넷에 대 한 별도 Nic 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-242">They may have separate NICs for hello perimeter network and hello back-end subnets.</span></span> <span data-ttu-id="0c4d0-243">hello Nic hello 경계 네트워크에 직접 tooand hello 인터넷에서에서 통신, hello로 해당 Nsg hello 경계 네트워크 및 라우팅 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-243">hello NICs in hello perimeter network communicate directly tooand from hello Internet, with hello corresponding NSGs and hello perimeter network routing table.</span></span> <span data-ttu-id="0c4d0-244">Nsg와 hello 해당 백 엔드 서브넷의 라우팅 테이블 toohello 백 엔드 서브넷에 연결 하는 hello Nic 제한 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-244">hello NICs connecting toohello back-end subnets have more restricted NSGs and routing tables of hello corresponding back-end subnets.</span></span>
* <span data-ttu-id="0c4d0-245">**보안 어플라이언스 기능:** 일반적으로 hello 경계 네트워크에 배포 된 hello 보안 어플라이언스 hello 다음 기능을 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-245">**Security appliance functionality:** hello security appliances deployed in hello perimeter network typically perform hello following functionality:</span></span>
  * <span data-ttu-id="0c4d0-246">방화벽: 방화벽 규칙 또는 hello 들어오는 요청에 대 한 액세스 제어 정책을 적용 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-246">Firewall: Enforcing firewall rules or access control policies for hello incoming requests.</span></span>
  * <span data-ttu-id="0c4d0-247">위협 검색 및 방지: 검색 하 고 hello 인터넷에서에서 악의적인 공격을 완화 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-247">Threat detection and prevention: Detecting and mitigating malicious attacks from hello Internet.</span></span>
  * <span data-ttu-id="0c4d0-248">감사 및 로깅: 감사 및 분석을 위한 상세 로그 유지 관리합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-248">Auditing and logging: Maintaining detailed logs for auditing and analysis.</span></span>
  * <span data-ttu-id="0c4d0-249">역방향 프록시: toohello 해당 하는 백 엔드 서버가 요청 hello 들어오는 리디렉션.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-249">Reverse proxy: Redirecting hello incoming requests toohello corresponding back-end servers.</span></span> <span data-ttu-id="0c4d0-250">이러한 리디렉션을 매핑 및 toohello 백 엔드 서버 주소 방화벽 일반적으로 hello 프런트 엔드 장치의 hello 대상 주소 변환 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-250">This redirection involves mapping and translating hello destination addresses on hello front-end devices, typically firewalls, toohello back-end server addresses.</span></span>
  * <span data-ttu-id="0c4d0-251">프록시를 전달: NAT를 제공 하 고 hello 가상 네트워크 toohello 인터넷 내부에서 시작 하는 통신에 대 한 감사를 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-251">Forward proxy: Providing NAT and performing auditing for communication initiated from within hello virtual network toohello Internet.</span></span>
  * <span data-ttu-id="0c4d0-252">라우터: hello 가상 네트워크 내의 들어오고 서브넷 간 트래픽을 전달 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-252">Router: Forwarding incoming and cross-subnet traffic inside hello virtual network.</span></span>
  * <span data-ttu-id="0c4d0-253">VPN 장치: hello 크로스-프레미스에 대 한 VPN 게이트웨이 작동 크로스-프레미스 고객 온-프레미스 네트워크와 Azure 가상 네트워크 간에 VPN 연결 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-253">VPN device: Acting as hello cross-premises VPN gateways for cross-premises VPN connectivity between customer on-premises networks and Azure virtual networks.</span></span>
  * <span data-ttu-id="0c4d0-254">VPN 서버: tooAzure 가상 네트워크에 연결 하는 VPN 클라이언트를 수락 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-254">VPN server: Accepting VPN clients connecting tooAzure virtual networks.</span></span>

> [!TIP]
> <span data-ttu-id="0c4d0-255">다음 두 개의 그룹 별도 hello 유지: hello 개인 tooaccess hello 경계 네트워크 보안 기어 및 hello 권한이 있는 개인 응용 프로그램 개발, 배포 또는 작업 관리자 권한을 부여 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-255">Keep hello following two groups separate: hello individuals authorized tooaccess hello perimeter network security gear and hello individuals authorized as application development, deployment, or operations administrators.</span></span> <span data-ttu-id="0c4d0-256">이 그룹을 별도로 유지하면 의무를 분리하고, 한 개인이 응용 프로그램 보안과 네트워크 보안 제어를 모두 무시하지 않도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-256">Keeping these groups separate allows for a segregation of duties and prevents a single person from bypassing both applications security and network security controls.</span></span>
>
>

### <a name="questions-toobe-asked-when-building-network-boundaries"></a><span data-ttu-id="0c4d0-257">질문 toobe 네트워크 경계를 만들 때 요청</span><span class="sxs-lookup"><span data-stu-id="0c4d0-257">Questions toobe asked when building network boundaries</span></span>
<span data-ttu-id="0c4d0-258">이 섹션에서는 구체적으로 언급 하지 않는 한 hello "네트워크" 이라는 용어는 tooprivate Azure 구독 관리자가 만든 가상 네트워크입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-258">In this section, unless specifically mentioned, hello term "networks" refers tooprivate Azure virtual networks created by a subscription administrator.</span></span> <span data-ttu-id="0c4d0-259">hello 용어 toohello Azure 내에서 기본 실제 네트워크를 참조 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-259">hello term doesn't refer toohello underlying physical networks within Azure.</span></span>

<span data-ttu-id="0c4d0-260">또한 Azure 가상 네트워크는 자주 사용 되는 tooextend 기존의 온-프레미스 네트워크입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-260">Also, Azure virtual networks are often used tooextend traditional on-premises networks.</span></span> <span data-ttu-id="0c4d0-261">가능한 tooincorporate는 사이트 간 또는 express 경로 하이브리드 네트워킹 경계 네트워크 아키텍처를 가진 솔루션 중 하나입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-261">It is possible tooincorporate either site-to-site or ExpressRoute hybrid networking solutions with perimeter network architectures.</span></span> <span data-ttu-id="0c4d0-262">이 하이브리드 링크는 네트워크 보안 경계를 구성할 때 고려해야 하는 중요한 요소입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-262">This hybrid link is an important consideration in building network security boundaries.</span></span>

<span data-ttu-id="0c4d0-263">hello 다음 세 가지 질문은 중요 한 tooanswer 경계 네트워크와 여러 보안 경계를 사용 하 여 네트워크를 빌드하는 경우입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-263">hello following three questions are critical tooanswer when you're building a network with a perimeter network and multiple security boundaries.</span></span>

#### <a name="1-how-many-boundaries-are-needed"></a><span data-ttu-id="0c4d0-264">1) 필요한 경계 수는?</span><span class="sxs-lookup"><span data-stu-id="0c4d0-264">1) How many boundaries are needed?</span></span>
<span data-ttu-id="0c4d0-265">hello 첫 번째 의사 결정 점은 toodecide 개수 보안 경계가 지정된 된 시나리오에 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-265">hello first decision point is toodecide how many security boundaries are needed in a given scenario:</span></span>

* <span data-ttu-id="0c4d0-266">단일 경계: hello 가상 네트워크와 인터넷 hello hello 프런트 엔드 경계 네트워크에 하나씩 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-266">A single boundary: One on hello front-end perimeter network, between hello virtual network and hello Internet.</span></span>
* <span data-ttu-id="0c4d0-267">두 경계: hello 경계 네트워크 서브넷과 백 엔드 서브넷에 hello 간에 다른 Azure 가상 네트워크를 hello 및 hello hello 경계 네트워크의 인터넷 쪽에 하나씩 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-267">Two boundaries: One on hello Internet side of hello perimeter network, and another between hello perimeter network subnet and hello back-end subnets in hello Azure virtual networks.</span></span>
* <span data-ttu-id="0c4d0-268">세 가지 경계: hello 경계 네트워크의 인터넷 쪽 hello, hello 경계 네트워크 및 백 엔드 서브넷 간의 및 hello 백 엔드 서브넷과 hello 온-프레미스 네트워크 간의 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-268">Three boundaries: One on hello Internet side of hello perimeter network, one between hello perimeter network and back-end subnets, and one between hello back-end subnets and hello on-premises network.</span></span>
* <span data-ttu-id="0c4d0-269">N 경계 - 변수 번호입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-269">N boundaries: A variable number.</span></span> <span data-ttu-id="0c4d0-270">보안 요구 사항에 따라 제공된 된 네트워크에서 적용할 수 있는 보안 경계 수 없는 제한 toohello 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-270">Depending on security requirements, there is no limit toohello number of security boundaries that can be applied in a given network.</span></span>

<span data-ttu-id="0c4d0-271">hello 개수와 유형의 경계를 변경 하는 데 필요한 시나리오에 따라 회사의 위험 내결함성 및 hello 특정 구현 되 고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-271">hello number and type of boundaries needed vary based on a company’s risk tolerance and hello specific scenario being implemented.</span></span> <span data-ttu-id="0c4d0-272">이 의사 결정은 종종 위험 및 규정 준수 팀, 네트워크와 플랫폼 팀, 응용 프로그램 개발 팀을 포함한 조직 내 여러 그룹이 함께 결정하는 사안입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-272">This decision is often made together with multiple groups within an organization, often including a risk and compliance team, a network and platform team, and an application development team.</span></span> <span data-ttu-id="0c4d0-273">각 구현은이 의사 결정 tooensure hello 적절 한 보안 입장은 의견을 언급 해서도 기술, 관련 된 hello 데이터 보안과 hello 기술을 사용 하 고 있는 사용자가 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-273">People with knowledge of security, hello data involved, and hello technologies being used should have a say in this decision tooensure hello appropriate security stance for each implementation.</span></span>

> [!TIP]
> <span data-ttu-id="0c4d0-274">특정된 상황에 대 한 hello 보안 요구 사항을 충족 하는 경계의 hello 가장 작은 수를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-274">Use hello smallest number of boundaries that satisfy hello security requirements for a given situation.</span></span> <span data-ttu-id="0c4d0-275">자세한 경계와 운영 및 문제 해결 하기가 어려울 뿐만 수 시간이 지남에 따라 관리 hello 관리와 관련 된 오버 헤드를 여러 경계 정책을 hello 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-275">With more boundaries, operations and troubleshooting can be more difficult, as well as hello management overhead involved with managing hello multiple boundary policies over time.</span></span> <span data-ttu-id="0c4d0-276">그러나 경계가 불충분하면 위험이 커집니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-276">However, insufficient boundaries increase risk.</span></span> <span data-ttu-id="0c4d0-277">찾기 hello 분산 하는 것이 중요 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-277">Finding hello balance is critical.</span></span>
>
>

<span data-ttu-id="0c4d0-278">![6]</span><span class="sxs-lookup"><span data-stu-id="0c4d0-278">![6]</span></span>

<span data-ttu-id="0c4d0-279">hello 위의 그림은 높은 수준의 세 가지 보안 경계 네트워크입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-279">hello preceding figure shows a high-level view of a three security boundary network.</span></span> <span data-ttu-id="0c4d0-280">hello 경계 hello 경계 네트워크 및 인터넷 hello, hello Azure 프런트 엔드 및 백 엔드 개인 서브넷 및 hello Azure 백 엔드 서브넷 및 hello 온-프레미스 회사 네트워크 간에입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-280">hello boundaries are between hello perimeter network and hello Internet, hello Azure front-end and back-end private subnets, and hello Azure back-end subnet and hello on-premises corporate network.</span></span>

#### <a name="2-where-are-hello-boundaries-located"></a><span data-ttu-id="0c4d0-281">2)는 hello 경계 어디에 있습니까?</span><span class="sxs-lookup"><span data-stu-id="0c4d0-281">2) Where are hello boundaries located?</span></span>
<span data-ttu-id="0c4d0-282">Hello 경계 수를 결정 하는 한 후 tooimplement 하는 다음 의사 결정 지점을 hello 위치입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-282">Once hello number of boundaries are decided, where tooimplement them is hello next decision point.</span></span> <span data-ttu-id="0c4d0-283">일반적으로 3가지 선택 사항이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-283">There are generally three choices:</span></span>

* <span data-ttu-id="0c4d0-284">인터넷 기반 중개 서비스 사용(예: 클라우드 기반 웹 응용 프로그램 방화벽, 이 문서에서 논의하지 않음)</span><span class="sxs-lookup"><span data-stu-id="0c4d0-284">Using an Internet-based intermediary service (for example, a cloud-based Web application firewall, which is not discussed in this document)</span></span>
* <span data-ttu-id="0c4d0-285">Azure에서 기본 기능 및/또는 네트워크 가상 어플라이언스 사용</span><span class="sxs-lookup"><span data-stu-id="0c4d0-285">Using native features and/or network virtual appliances in Azure</span></span>
* <span data-ttu-id="0c4d0-286">Hello 온-프레미스 네트워크에서 물리적 장치를 사용 하 여</span><span class="sxs-lookup"><span data-stu-id="0c4d0-286">Using physical devices on hello on-premises network</span></span>

<span data-ttu-id="0c4d0-287">순수 하 게 Azure 네트워크에서 hello 옵션은 Azure에서 기본 기능 (예를 들어 Azure 부하 분산 장치) 또는에서 네트워크 가상 어플라이언스 hello (예: 검사점 방화벽) Azure의 다양 한 파트너 에코 시스템입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-287">On purely Azure networks, hello options are native Azure features (for example, Azure Load Balancers) or network virtual appliances from hello rich partner ecosystem of Azure (for example, Check Point firewalls).</span></span>

<span data-ttu-id="0c4d0-288">Azure와 온-프레미스 네트워크 경계는 필요에 따라 hello 보안 장치 hello 연결 (또는 양쪽)의 어느 쪽에 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-288">If a boundary is needed between Azure and an on-premises network, hello security devices can reside on either side of hello connection (or both sides).</span></span> <span data-ttu-id="0c4d0-289">따라서 의사 결정 hello 위치 tooplace 보안 기어에서 수행 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-289">Thus a decision must be made on hello location tooplace security gear.</span></span>

<span data-ttu-id="0c4d0-290">Hello 인터넷-경계 네트워크와 hello 앞에 백 엔드 경계 Azure 내에서 완전히 포함 된 hello 위의 그림에서 및 네트워크 가상 어플라이언스 이거나 Azure에서 기본 기능 이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-290">In hello previous figure, hello Internet-to-perimeter network and hello front-to-back-end boundaries are entirely contained within Azure, and must be either native Azure features or network virtual appliances.</span></span> <span data-ttu-id="0c4d0-291">보안 장치에서 Azure (백 엔드 서브넷) 사이의 경계 hello 및 hello Azure 측에서 또는 hello 온-프레미스 측 또는 양쪽 모두에서 장치의 조합 hello 회사 네트워크 일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-291">Security devices on hello boundary between Azure (back-end subnet) and hello corporate network could be either on hello Azure side or hello on-premises side, or even a combination of devices on both sides.</span></span> <span data-ttu-id="0c4d0-292">중요 한 장점 및 단점 tooeither 옵션 심각 하 게 고려해 야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-292">There can be significant advantages and disadvantages tooeither option that must be seriously considered.</span></span>

<span data-ttu-id="0c4d0-293">예를 들어 hello에서 기존 물리적 보안 장비를 사용 하 여 온-프레미스 네트워크 쪽 이점이 hello 없는 새 기어 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-293">For example, using existing physical security gear on hello on-premises network side has hello advantage that no new gear is needed.</span></span> <span data-ttu-id="0c4d0-294">재구성만 하면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-294">It just needs reconfiguration.</span></span> <span data-ttu-id="0c4d0-295">그러나 hello, 단점은 모든 트래픽이 Azure toohello 온-프레미스 네트워크 toobe hello 보안 기어 볼에서 다시 가져와야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-295">hello disadvantage, however, is that all traffic must come back from Azure toohello on-premises network toobe seen by hello security gear.</span></span> <span data-ttu-id="0c4d0-296">따라서 Azure-Azure 트래픽 수 상당한 대기 시간을 부과 하 고 응용 프로그램 성능과 사용자 경험에 영향을, 백 toohello를 강제 적용 된 경우 온-프레미스 네트워크 보안 정책 적용에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-296">Thus Azure-to-Azure traffic could incur significant latency, and affect application performance and user experience, if it was forced back toohello on-premises network for security policy enforcement.</span></span>

#### <a name="3-how-are-hello-boundaries-implemented"></a><span data-ttu-id="0c4d0-297">Hello 경계 구현 하는 3) 방법</span><span class="sxs-lookup"><span data-stu-id="0c4d0-297">3) How are hello boundaries implemented?</span></span>
<span data-ttu-id="0c4d0-298">각 보안 경계가 서로 다른 기능 요구 사항 (예: ID 및 hello hello 경계 네트워크 및 백 엔드 서브넷 간에 Acl만 hello 경계 네트워크의 인터넷 쪽에 방화벽 규칙)에 있을 것입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-298">Each security boundary will likely have different capability requirements (for example, IDS and firewall rules on hello Internet side of hello perimeter network, but only ACLs between hello perimeter network and back-end subnet).</span></span> <span data-ttu-id="0c4d0-299">결정에 따라 달라 집니다 toouse 어떤 장치 (또는 장치 수) hello 시나리오 및 보안 요구 사항입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-299">Deciding on which device (or how many devices) toouse depends on hello scenario and security requirements.</span></span> <span data-ttu-id="0c4d0-300">Hello 섹션 뒤, 1, 2 및 3 예제 사용 될 수 있는 몇 가지 옵션을 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-300">In hello following section, examples 1, 2, and 3 discuss some options that could be used.</span></span> <span data-ttu-id="0c4d0-301">Hello Azure 네이티브 네트워크 기능 및 hello 파트너 에코 시스템에서 Azure에서 사용할 수 있는 hello 장치 검토 거의 모든 시나리오 hello 수많은 옵션 사용 가능한 toosolve 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-301">Reviewing hello Azure native network features and hello devices available in Azure from hello partner ecosystem shows hello myriad options available toosolve virtually any scenario.</span></span>

<span data-ttu-id="0c4d0-302">또 다른 중요 한 구현 의사 결정 지점 어떻게 tooconnect hello 온-프레미스 Azure 사용 하 여 네트워크입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-302">Another key implementation decision point is how tooconnect hello on-premises network with Azure.</span></span> <span data-ttu-id="0c4d0-303">Azure 가상 게이트웨이 hello 또는 네트워크 가상 어플라이언스 언제 사용 하나요?</span><span class="sxs-lookup"><span data-stu-id="0c4d0-303">Should you use hello Azure virtual gateway or a network virtual appliance?</span></span> <span data-ttu-id="0c4d0-304">이러한 옵션은 다음 섹션 (예제 4, 5 및 6) hello에 더 자세히 설명 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-304">These options are discussed in greater detail in hello following section (examples 4, 5, and 6).</span></span>

<span data-ttu-id="0c4d0-305">또한 Azure 내부의 Virtual Network 간 트래픽이 필요할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-305">Additionally, traffic between virtual networks within Azure may be needed.</span></span> <span data-ttu-id="0c4d0-306">이러한 시나리오는 hello 앞에 추가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-306">These scenarios will be added in hello future.</span></span>

<span data-ttu-id="0c4d0-307">위의 질문 toohello hello 답변을 알게 되 면 hello [빠른 시작](#fast-start) 섹션 통해는 예는 지정된 된 시나리오에 가장 적합 한 식별할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-307">Once you know hello answers toohello previous questions, hello [Fast Start](#fast-start) section can help identify which examples are most appropriate for a given scenario.</span></span>

## <a name="examples-building-security-boundaries-with-azure-virtual-networks"></a><span data-ttu-id="0c4d0-308">예제: Azure Virtual Network와의 보안 경계 빌드</span><span class="sxs-lookup"><span data-stu-id="0c4d0-308">Examples: Building security boundaries with Azure virtual networks</span></span>
### <a name="example-1-build-a-perimeter-network-toohelp-protect-applications-with-nsgs"></a><span data-ttu-id="0c4d0-309">Nsg와 응용 프로그램을 보호 하는 예 1 빌드 경계 네트워크 toohelp</span><span class="sxs-lookup"><span data-stu-id="0c4d0-309">Example 1 Build a perimeter network toohelp protect applications with NSGs</span></span>
<span data-ttu-id="0c4d0-310">[백업 tooFast 시작](#fast-start) | [Detailed 빌드이 예제에 대 한 지침][Example1]</span><span class="sxs-lookup"><span data-stu-id="0c4d0-310">[Back tooFast start](#fast-start) | [Detailed build instructions for this example][Example1]</span></span>

<span data-ttu-id="0c4d0-311">[![7]][7]</span><span class="sxs-lookup"><span data-stu-id="0c4d0-311">[![7]][7]</span></span>

#### <a name="environment-description"></a><span data-ttu-id="0c4d0-312">환경 설명</span><span class="sxs-lookup"><span data-stu-id="0c4d0-312">Environment description</span></span>
<span data-ttu-id="0c4d0-313">이 예제에서는 hello 다음 리소스를 포함 하는 구독이입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-313">In this example, there is a subscription that contains hello following resources:</span></span>

- <span data-ttu-id="0c4d0-314">단일 리소스 그룹</span><span class="sxs-lookup"><span data-stu-id="0c4d0-314">A single resource group</span></span>
- <span data-ttu-id="0c4d0-315">두 서브넷 "프런트 엔드" 및 "백 엔드"를 사용하는 가상 네트워크</span><span class="sxs-lookup"><span data-stu-id="0c4d0-315">A virtual network with two subnets: “FrontEnd” and “BackEnd”</span></span>
- <span data-ttu-id="0c4d0-316">적용 된 tooboth 서브넷은 네트워크 보안 그룹</span><span class="sxs-lookup"><span data-stu-id="0c4d0-316">A Network Security Group that is applied tooboth subnets</span></span>
- <span data-ttu-id="0c4d0-317">응용 프로그램 웹 서버("IIS01")를 나타내는 Windows 서버</span><span class="sxs-lookup"><span data-stu-id="0c4d0-317">A Windows server that represents an application web server (“IIS01”)</span></span>
- <span data-ttu-id="0c4d0-318">응용 프로그램 백 엔드 서버("AppVM01", "AppVM02")를 나타내는 두 Windows 서버</span><span class="sxs-lookup"><span data-stu-id="0c4d0-318">Two Windows servers that represent application back-end servers (“AppVM01”, “AppVM02”)</span></span>
- <span data-ttu-id="0c4d0-319">DNS 서버("DNS01")를 나타내는 Windows Server</span><span class="sxs-lookup"><span data-stu-id="0c4d0-319">A Windows server that represents a DNS server (“DNS01”)</span></span>
- <span data-ttu-id="0c4d0-320">Hello 응용 프로그램 웹 서버와 관련 된 공용 IP</span><span class="sxs-lookup"><span data-stu-id="0c4d0-320">A public IP associated with hello application web server</span></span>

<span data-ttu-id="0c4d0-321">스크립트 및 Azure 리소스 관리자 템플릿을 참조 hello [빌드 방법을 자세히 설명][Example1]합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-321">For scripts and an Azure Resource Manager template, see hello [detailed build instructions][Example1].</span></span>

#### <a name="nsg-description"></a><span data-ttu-id="0c4d0-322">NSG 설명</span><span class="sxs-lookup"><span data-stu-id="0c4d0-322">NSG description</span></span>
<span data-ttu-id="0c4d0-323">이 예제에서는 NSG 그룹을 빌드한 후 6개의 규칙을 로드합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-323">In this example, an NSG group is built and then loaded with six rules.</span></span>

> [!TIP]
> <span data-ttu-id="0c4d0-324">일반적으로 특정 "Allow" 규칙 먼저 만들어야, 보다 일반적인 hello 이어서 "거부" 규칙입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-324">Generally speaking, you should create your specific “Allow” rules first, followed by hello more generic “Deny” rules.</span></span> <span data-ttu-id="0c4d0-325">우선 순위를 지정 하는 hello는 규칙이 먼저 평가 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-325">hello given priority dictates which rules are evaluated first.</span></span> <span data-ttu-id="0c4d0-326">트래픽 tooapply tooa 특정 규칙 발견 되 면 더 이상 규칙이 평가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-326">Once traffic is found tooapply tooa specific rule, no further rules are evaluated.</span></span> <span data-ttu-id="0c4d0-327">NSG 규칙에 적용할 수 측면에서 볼 hello hello 서브넷의 인바운드 또는 아웃 바운드 방향 hello 중 하나입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-327">NSG rules can apply in either hello inbound or outbound direction (from hello perspective of hello subnet).</span></span>
>
>

<span data-ttu-id="0c4d0-328">선언적 규칙에 따라 hello 인바운드 트래픽에 대 한 빌드 중인:</span><span class="sxs-lookup"><span data-stu-id="0c4d0-328">Declaratively, hello following rules are being built for inbound traffic:</span></span>

1. <span data-ttu-id="0c4d0-329">내부 DNS 트래픽(포트 53)이 허용됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-329">Internal DNS traffic (port 53) is allowed.</span></span>
2. <span data-ttu-id="0c4d0-330">RDP 트래픽 (포트 3389 hello 인터넷 tooany 가상 컴퓨터에서 에서) 허용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-330">RDP traffic (port 3389) from hello Internet tooany Virtual Machine is allowed.</span></span>
3. <span data-ttu-id="0c4d0-331">Hello 인터넷 tooweb 서버 (IIS01)에서 HTTP 트래픽 (포트 80)가 허용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-331">HTTP traffic (port 80) from hello Internet tooweb server (IIS01) is allowed.</span></span>
4. <span data-ttu-id="0c4d0-332">(모든 포트) IIS01 tooAppVM1에서 모든 트래픽이 허용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-332">Any traffic (all ports) from IIS01 tooAppVM1 is allowed.</span></span>
5. <span data-ttu-id="0c4d0-333">Hello 인터넷 toohello 전체 가상 네트워크 (서브넷 모두)에서 모든 트래픽 (모든 포트) 거부 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-333">Any traffic (all ports) from hello Internet toohello entire virtual network (both subnets) is denied.</span></span>
6. <span data-ttu-id="0c4d0-334">Hello 프런트 엔드 서브넷 toohello 백 엔드 서브넷에서 모든 트래픽 (모든 포트) 거부 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-334">Any traffic (all ports) from hello front-end subnet toohello back-end subnet is denied.</span></span>

<span data-ttu-id="0c4d0-335">이러한 규칙 바인딩된 tooeach 서브넷이 있는 HTTP 요청 hello 인터넷 toohello 웹 서버 로부터 언바운드 하지 않은 경우 모두 규칙 3 (허용)이 고 5 (거부) 적용 하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-335">With these rules bound tooeach subnet, if an HTTP request was inbound from hello Internet toohello web server, both rules 3 (allow) and 5 (deny) would apply.</span></span> <span data-ttu-id="0c4d0-336">규칙 3이 우선 순위가 높기 때문에 규칙 3만 적용되고 규칙 5는 진행되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-336">But because rule 3 has a higher priority, only it would apply, and rule 5 would not come into play.</span></span> <span data-ttu-id="0c4d0-337">따라서 toohello 웹 서버 hello HTTP 요청 허용 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-337">Thus hello HTTP request would be allowed toohello web server.</span></span> <span data-ttu-id="0c4d0-338">동일한 트래픽이 해당 tooreach DNS01 hello 서버를 시도 하 고, 규칙을 5 (거부)는 첫 번째 tooapply hello 및 hello 트래픽 toopass toohello 서버 허용 되지 않는 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-338">If that same traffic was trying tooreach hello DNS01 server, rule 5 (deny) would be hello first tooapply, and hello traffic would not be allowed toopass toohello server.</span></span> <span data-ttu-id="0c4d0-339">규칙 6 블록 hello 통하게 (규칙 1 및 4에서에서 허용 된 트래픽)를 제외한 toohello 백 엔드 서브넷에서 프런트 엔드 서브넷 (거부) 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-339">Rule 6 (deny) blocks hello front-end subnet from talking toohello back-end subnet (except for allowed traffic in rules 1 and 4).</span></span> <span data-ttu-id="0c4d0-340">이 규칙 집합 공격자 hello 프런트 엔드에 hello 웹 응용 프로그램 성능을 저하 하는 경우 hello 백 엔드 네트워크를 보호 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-340">This rule-set protects hello back-end network in case an attacker compromises hello web application on hello front end.</span></span> <span data-ttu-id="0c4d0-341">hello 공격자가 제한 될 수 toohello 백 엔드 "보호" 네트워크 액세스 (만 tooresources hello AppVM01 서버에서 노출).</span><span class="sxs-lookup"><span data-stu-id="0c4d0-341">hello attacker would have limited access toohello back-end “protected” network (only tooresources exposed on hello AppVM01 server).</span></span>

<span data-ttu-id="0c4d0-342">Toohello 인터넷으로 트래픽을 허용 하는 기본 아웃 바운드 규칙이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-342">There is a default outbound rule that allows traffic out toohello Internet.</span></span> <span data-ttu-id="0c4d0-343">이 예에서는 아웃바운드 트래픽을 허용하고 아웃바운드 규칙을 수정하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-343">For this example, we’re allowing outbound traffic and not modifying any outbound rules.</span></span> <span data-ttu-id="0c4d0-344">양방향에서 트래픽 아래로 toolock, 사용자 정의 된 라우팅을 필요 (예 3 참조).</span><span class="sxs-lookup"><span data-stu-id="0c4d0-344">toolock down traffic in both directions, user-defined routing is required (see example 3).</span></span>

#### <a name="conclusion"></a><span data-ttu-id="0c4d0-345">결론</span><span class="sxs-lookup"><span data-stu-id="0c4d0-345">Conclusion</span></span>
<span data-ttu-id="0c4d0-346">이 예제는 hello 백 엔드 서브넷 인바운드 트래픽에서 격리의 비교적 간단 하 고 간단한 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-346">This example is a relatively simple and straightforward way of isolating hello back-end subnet from inbound traffic.</span></span> <span data-ttu-id="0c4d0-347">자세한 내용은 참조 hello [빌드 방법을 자세히 설명][Example1]합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-347">For more information, see hello [detailed build instructions][Example1].</span></span> <span data-ttu-id="0c4d0-348">이러한 지침에는 다음이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-348">These instructions include:</span></span>

* <span data-ttu-id="0c4d0-349">어떻게 toobuild이이 경계 네트워크 클래식 PowerShell 스크립트입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-349">How toobuild this perimeter network with classic PowerShell scripts.</span></span>
* <span data-ttu-id="0c4d0-350">어떻게 toobuild이이 경계 네트워크는 Azure 리소스 관리자 템플릿을 사용 하 여 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-350">How toobuild this perimeter network with an Azure Resource Manager template.</span></span>
* <span data-ttu-id="0c4d0-351">각 NSG 명령에 대한 상세 설명</span><span class="sxs-lookup"><span data-stu-id="0c4d0-351">Detailed descriptions of each NSG command.</span></span>
* <span data-ttu-id="0c4d0-352">각 계층에서의 트래픽 허용 또는 거부 방법을 나타내는 상세 트래픽 흐름 시나리오입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-352">Detailed traffic flow scenarios, showing how traffic is allowed or denied in each layer.</span></span>


### <a name="example-2-build-a-perimeter-network-toohelp-protect-applications-with-a-firewall-and-nsgs"></a><span data-ttu-id="0c4d0-353">예제 2 빌드 경계 네트워크 toohelp 방화벽 Nsg와 응용 프로그램을 보호</span><span class="sxs-lookup"><span data-stu-id="0c4d0-353">Example 2 Build a perimeter network toohelp protect applications with a firewall and NSGs</span></span>
<span data-ttu-id="0c4d0-354">[백업 tooFast 시작](#fast-start) | [Detailed 빌드이 예제에 대 한 지침][Example2]</span><span class="sxs-lookup"><span data-stu-id="0c4d0-354">[Back tooFast start](#fast-start) | [Detailed build instructions for this example][Example2]</span></span>

<span data-ttu-id="0c4d0-355">[![8]][8]</span><span class="sxs-lookup"><span data-stu-id="0c4d0-355">[![8]][8]</span></span>

#### <a name="environment-description"></a><span data-ttu-id="0c4d0-356">환경 설명</span><span class="sxs-lookup"><span data-stu-id="0c4d0-356">Environment description</span></span>
<span data-ttu-id="0c4d0-357">이 예제에서는 hello 다음 리소스를 포함 하는 구독이입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-357">In this example, there is a subscription that contains hello following resources:</span></span>

* <span data-ttu-id="0c4d0-358">단일 리소스 그룹</span><span class="sxs-lookup"><span data-stu-id="0c4d0-358">A single resource group</span></span>
* <span data-ttu-id="0c4d0-359">두 서브넷 "프런트 엔드" 및 "백 엔드"를 사용하는 가상 네트워크</span><span class="sxs-lookup"><span data-stu-id="0c4d0-359">A virtual network with two subnets: “FrontEnd” and “BackEnd”</span></span>
* <span data-ttu-id="0c4d0-360">적용 된 tooboth 서브넷은 네트워크 보안 그룹</span><span class="sxs-lookup"><span data-stu-id="0c4d0-360">A Network Security Group that is applied tooboth subnets</span></span>
* <span data-ttu-id="0c4d0-361">이 경우에는 방화벽에서 네트워크 가상 어플라이언스 toohello 프런트 엔드 서브넷 연결</span><span class="sxs-lookup"><span data-stu-id="0c4d0-361">A network virtual appliance, in this case a firewall, connected toohello front-end subnet</span></span>
* <span data-ttu-id="0c4d0-362">응용 프로그램 웹 서버("IIS01")를 나타내는 Windows 서버</span><span class="sxs-lookup"><span data-stu-id="0c4d0-362">A Windows server that represents an application web server (“IIS01”)</span></span>
* <span data-ttu-id="0c4d0-363">응용 프로그램 백 엔드 서버("AppVM01", "AppVM02")를 나타내는 두 Windows 서버</span><span class="sxs-lookup"><span data-stu-id="0c4d0-363">Two Windows servers that represent application back-end servers (“AppVM01”, “AppVM02”)</span></span>
* <span data-ttu-id="0c4d0-364">DNS 서버("DNS01")를 나타내는 Windows Server</span><span class="sxs-lookup"><span data-stu-id="0c4d0-364">A Windows server that represents a DNS server (“DNS01”)</span></span>

<span data-ttu-id="0c4d0-365">스크립트 및 Azure 리소스 관리자 템플릿을 참조 hello [빌드 방법을 자세히 설명][Example2]합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-365">For scripts and an Azure Resource Manager template, see hello [detailed build instructions][Example2].</span></span>

#### <a name="nsg-description"></a><span data-ttu-id="0c4d0-366">NSG 설명</span><span class="sxs-lookup"><span data-stu-id="0c4d0-366">NSG description</span></span>
<span data-ttu-id="0c4d0-367">이 예제에서는 NSG 그룹을 빌드한 후 6개의 규칙을 로드합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-367">In this example, an NSG group is built and then loaded with six rules.</span></span>

> [!TIP]
> <span data-ttu-id="0c4d0-368">일반적으로 특정 "Allow" 규칙 먼저 만들어야, 보다 일반적인 hello 이어서 "거부" 규칙입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-368">Generally speaking, you should create your specific “Allow” rules first, followed by hello more generic “Deny” rules.</span></span> <span data-ttu-id="0c4d0-369">우선 순위를 지정 하는 hello는 규칙이 먼저 평가 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-369">hello given priority dictates which rules are evaluated first.</span></span> <span data-ttu-id="0c4d0-370">트래픽 tooapply tooa 특정 규칙 발견 되 면 더 이상 규칙이 평가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-370">Once traffic is found tooapply tooa specific rule, no further rules are evaluated.</span></span> <span data-ttu-id="0c4d0-371">NSG 규칙에 적용할 수 측면에서 볼 hello hello 서브넷의 인바운드 또는 아웃 바운드 방향 hello 중 하나입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-371">NSG rules can apply in either hello inbound or outbound direction (from hello perspective of hello subnet).</span></span>
>
>

<span data-ttu-id="0c4d0-372">선언적 규칙에 따라 hello 인바운드 트래픽에 대 한 빌드 중인:</span><span class="sxs-lookup"><span data-stu-id="0c4d0-372">Declaratively, hello following rules are being built for inbound traffic:</span></span>

1. <span data-ttu-id="0c4d0-373">내부 DNS 트래픽(포트 53)이 허용됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-373">Internal DNS traffic (port 53) is allowed.</span></span>
2. <span data-ttu-id="0c4d0-374">RDP 트래픽 (포트 3389 hello 인터넷 tooany 가상 컴퓨터에서 에서) 허용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-374">RDP traffic (port 3389) from hello Internet tooany Virtual Machine is allowed.</span></span>
3. <span data-ttu-id="0c4d0-375">모든 인터넷 트래픽에 (모든 포트) toohello 네트워크 가상 어플라이언스 (방화벽)가 허용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-375">Any Internet traffic (all ports) toohello network virtual appliance (firewall) is allowed.</span></span>
4. <span data-ttu-id="0c4d0-376">(모든 포트) IIS01 tooAppVM1에서 모든 트래픽이 허용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-376">Any traffic (all ports) from IIS01 tooAppVM1 is allowed.</span></span>
5. <span data-ttu-id="0c4d0-377">Hello 인터넷 toohello 전체 가상 네트워크 (서브넷 모두)에서 모든 트래픽 (모든 포트) 거부 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-377">Any traffic (all ports) from hello Internet toohello entire virtual network (both subnets) is denied.</span></span>
6. <span data-ttu-id="0c4d0-378">Hello 프런트 엔드 서브넷 toohello 백 엔드 서브넷에서 모든 트래픽 (모든 포트) 거부 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-378">Any traffic (all ports) from hello front-end subnet toohello back-end subnet is denied.</span></span>

<span data-ttu-id="0c4d0-379">이러한 규칙 바인딩된 tooeach 서브넷이 있는 HTTP 요청에 바인딩된 hello 인터넷 toohello 방화벽에서 한 경우 모두 규칙 3 (허용)이 고 5 (거부) 적용 하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-379">With these rules bound tooeach subnet, if an HTTP request was inbound from hello Internet toohello firewall, both rules 3 (allow) and 5 (deny) would apply.</span></span> <span data-ttu-id="0c4d0-380">규칙 3이 우선 순위가 높기 때문에 규칙 3만 적용되고 규칙 5는 진행되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-380">But because rule 3 has a higher priority, only it would apply, and rule 5 would not come into play.</span></span> <span data-ttu-id="0c4d0-381">따라서 toohello 방화벽 hello HTTP 요청 허용 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-381">Thus hello HTTP request would be allowed toohello firewall.</span></span> <span data-ttu-id="0c4d0-382">동일한 트래픽이 해당가 시도 하는 경우 tooreach hello IIS01 서버 hello 프런트 엔드 서브넷에도, 규칙 5 (거부) 적용 하는 것을 hello 트래픽 toopass toohello 서버 허용 되지 않는 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-382">If that same traffic was trying tooreach hello IIS01 server, even though it’s on hello front-end subnet, rule 5 (deny) would apply, and hello traffic would not be allowed toopass toohello server.</span></span> <span data-ttu-id="0c4d0-383">규칙 6 블록 hello 통하게 (규칙 1 및 4에서에서 허용 된 트래픽)를 제외한 toohello 백 엔드 서브넷에서 프런트 엔드 서브넷 (거부) 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-383">Rule 6 (deny) blocks hello front-end subnet from talking toohello back-end subnet (except for allowed traffic in rules 1 and 4).</span></span> <span data-ttu-id="0c4d0-384">이 규칙 집합 공격자 hello 프런트 엔드에 hello 웹 응용 프로그램 성능을 저하 하는 경우 hello 백 엔드 네트워크를 보호 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-384">This rule-set protects hello back-end network in case an attacker compromises hello web application on hello front end.</span></span> <span data-ttu-id="0c4d0-385">hello 공격자가 제한 될 수 toohello 백 엔드 "보호" 네트워크 액세스 (만 tooresources hello AppVM01 서버에서 노출).</span><span class="sxs-lookup"><span data-stu-id="0c4d0-385">hello attacker would have limited access toohello back-end “protected” network (only tooresources exposed on hello AppVM01 server).</span></span>

<span data-ttu-id="0c4d0-386">Toohello 인터넷으로 트래픽을 허용 하는 기본 아웃 바운드 규칙이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-386">There is a default outbound rule that allows traffic out toohello Internet.</span></span> <span data-ttu-id="0c4d0-387">이 예에서는 아웃바운드 트래픽을 허용하고 아웃바운드 규칙을 수정하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-387">For this example, we’re allowing outbound traffic and not modifying any outbound rules.</span></span> <span data-ttu-id="0c4d0-388">양방향에서 트래픽 아래로 toolock, 사용자 정의 된 라우팅을 필요 (예 3 참조).</span><span class="sxs-lookup"><span data-stu-id="0c4d0-388">toolock down traffic in both directions, user-defined routing is required (see example 3).</span></span>

#### <a name="firewall-rule-description"></a><span data-ttu-id="0c4d0-389">방화벽 규칙 설명</span><span class="sxs-lookup"><span data-stu-id="0c4d0-389">Firewall rule description</span></span>
<span data-ttu-id="0c4d0-390">Hello 방화벽에서 전달 규칙 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-390">On hello firewall, forwarding rules should be created.</span></span> <span data-ttu-id="0c4d0-391">규칙은이 예제에서는 유일한 경로 인터넷 트래픽 인바운드 toohello 방화벽 및 전달 하나만 다음 toohello 웹 서버, 네트워크 주소 변환 (NAT) 하므로 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-391">Since this example only routes Internet traffic in-bound toohello firewall and then toohello web server, only one forwarding network address translation (NAT) rule is needed.</span></span>

<span data-ttu-id="0c4d0-392">규칙을 전달 하는 hello tooreach HTTP (포트 80 또는 443을 HTTPS)을 시도 하는 hello 방화벽에 접속 하는 모든 인바운드 소스 주소를 허용 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-392">hello forwarding rule accepts any inbound source address that hits hello firewall trying tooreach HTTP (port 80 or 443 for HTTPS).</span></span> <span data-ttu-id="0c4d0-393">Hello 방화벽의 로컬 인터페이스 다르게 전송 있으며 toohello 웹 서버 hello 10.0.1.5의 IP 주소로 리디렉션됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-393">It's sent out of hello firewall’s local interface and redirected toohello web server with hello IP Address of 10.0.1.5.</span></span>

#### <a name="conclusion"></a><span data-ttu-id="0c4d0-394">결론</span><span class="sxs-lookup"><span data-stu-id="0c4d0-394">Conclusion</span></span>
<span data-ttu-id="0c4d0-395">이 예제는 비교적 간단한 방법 방화벽 응용 프로그램을 보호 하 고 hello 백 엔드 서브넷 인바운드 트래픽에서 격리입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-395">This example is a relatively straightforward way of protecting your application with a firewall and isolating hello back-end subnet from inbound traffic.</span></span> <span data-ttu-id="0c4d0-396">자세한 내용은 참조 hello [빌드 방법을 자세히 설명][Example2]합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-396">For more information, see hello [detailed build instructions][Example2].</span></span> <span data-ttu-id="0c4d0-397">이러한 지침에는 다음이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-397">These instructions include:</span></span>

* <span data-ttu-id="0c4d0-398">어떻게 toobuild이이 경계 네트워크 클래식 PowerShell 스크립트입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-398">How toobuild this perimeter network with classic PowerShell scripts.</span></span>
* <span data-ttu-id="0c4d0-399">어떻게 toobuild Azure 리소스 관리자 템플릿 사용 하 여이 예제입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-399">How toobuild this example with an Azure Resource Manager template.</span></span>
* <span data-ttu-id="0c4d0-400">각 NSG 명령 및 방화벽 규칙에 대한 상세 설명</span><span class="sxs-lookup"><span data-stu-id="0c4d0-400">Detailed descriptions of each NSG command and firewall rule.</span></span>
* <span data-ttu-id="0c4d0-401">각 계층에서의 트래픽 허용 또는 거부 방법을 나타내는 상세 트래픽 흐름 시나리오입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-401">Detailed traffic flow scenarios, showing how traffic is allowed or denied in each layer.</span></span>

### <a name="example-3-build-a-perimeter-network-toohelp-protect-networks-with-a-firewall-and-udr-and-nsg"></a><span data-ttu-id="0c4d0-402">예제 3 빌드 경계 네트워크 toohelp 방화벽 및 UDR NSG는 네트워크를 보호 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-402">Example 3 Build a perimeter network toohelp protect networks with a firewall and UDR and NSG</span></span>
<span data-ttu-id="0c4d0-403">[백업 tooFast 시작](#fast-start) | [Detailed 빌드이 예제에 대 한 지침][Example3]</span><span class="sxs-lookup"><span data-stu-id="0c4d0-403">[Back tooFast start](#fast-start) | [Detailed build instructions for this example][Example3]</span></span>

<span data-ttu-id="0c4d0-404">[![9]][9]</span><span class="sxs-lookup"><span data-stu-id="0c4d0-404">[![9]][9]</span></span>

#### <a name="environment-description"></a><span data-ttu-id="0c4d0-405">환경 설명</span><span class="sxs-lookup"><span data-stu-id="0c4d0-405">Environment description</span></span>
<span data-ttu-id="0c4d0-406">이 예제에서는 hello 다음 리소스를 포함 하는 구독이입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-406">In this example, there is a subscription that contains hello following resources:</span></span>

* <span data-ttu-id="0c4d0-407">단일 리소스 그룹</span><span class="sxs-lookup"><span data-stu-id="0c4d0-407">A single resource group</span></span>
* <span data-ttu-id="0c4d0-408">"SecNet", "FrontEnd", "BackEnd"의 세 서브넷을 포함하는 가상 네트워크</span><span class="sxs-lookup"><span data-stu-id="0c4d0-408">A virtual network with three subnets: “SecNet”, “FrontEnd”, and “BackEnd”</span></span>
* <span data-ttu-id="0c4d0-409">이 경우에는 방화벽에서 네트워크 가상 어플라이언스 toohello SecNet 서브넷 연결</span><span class="sxs-lookup"><span data-stu-id="0c4d0-409">A network virtual appliance, in this case a firewall, connected toohello SecNet subnet</span></span>
* <span data-ttu-id="0c4d0-410">응용 프로그램 웹 서버("IIS01")를 나타내는 Windows 서버</span><span class="sxs-lookup"><span data-stu-id="0c4d0-410">A Windows server that represents an application web server (“IIS01”)</span></span>
* <span data-ttu-id="0c4d0-411">응용 프로그램 백 엔드 서버("AppVM01", "AppVM02")를 나타내는 두 Windows 서버</span><span class="sxs-lookup"><span data-stu-id="0c4d0-411">Two Windows servers that represent application back-end servers (“AppVM01”, “AppVM02”)</span></span>
* <span data-ttu-id="0c4d0-412">DNS 서버("DNS01")를 나타내는 Windows Server</span><span class="sxs-lookup"><span data-stu-id="0c4d0-412">A Windows server that represents a DNS server (“DNS01”)</span></span>

<span data-ttu-id="0c4d0-413">스크립트 및 Azure 리소스 관리자 템플릿을 참조 hello [빌드 방법을 자세히 설명][Example3]합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-413">For scripts and an Azure Resource Manager template, see hello [detailed build instructions][Example3].</span></span>

#### <a name="udr-description"></a><span data-ttu-id="0c4d0-414">UDR 설명</span><span class="sxs-lookup"><span data-stu-id="0c4d0-414">UDR description</span></span>
<span data-ttu-id="0c4d0-415">기본적으로 시스템 경로 따라 hello로 정의 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-415">By default, hello following system routes are defined as:</span></span>

        Effective routes :
         Address Prefix    Next hop type    Next hop IP address Status   Source     
         --------------    -------------    ------------------- ------   ------     
         {10.0.0.0/16}     VNETLocal                            Active   Default    
         {0.0.0.0/0}       Internet                             Active   Default    
         {10.0.0.0/8}      Null                                 Active   Default    
         {100.64.0.0/10}   Null                                 Active   Default    
         {172.16.0.0/12}   Null                                 Active   Default    
         {192.168.0.0/16}  Null                                 Active   Default

<span data-ttu-id="0c4d0-416">hello VNETLocal hello 해당 특정 네트워크에 대 한 가상 네트워크를 구성 하는 하나 이상의 정의 된 주소 접두사는 항상 (즉, 변경 각 특정 가상 네트워크를 정의 하는 방법에 따라 가상 네트워크 toovirtual 네트워크에서).</span><span class="sxs-lookup"><span data-stu-id="0c4d0-416">hello VNETLocal is always one or more defined address prefixes that make up hello virtual network for that specific network (that is, it changes from virtual network toovirtual network, depending on how each specific virtual network is defined).</span></span> <span data-ttu-id="0c4d0-417">이 정적이 고 hello 표에 명시 되어 있는 대로 기본 hello 나머지 시스템 경로입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-417">hello remaining system routes are static and default as indicated in hello table.</span></span>

<span data-ttu-id="0c4d0-418">이 예제에서는 두 개의 라우팅 테이블이 만들어진 hello 프런트 엔드 및 백 엔드 서브넷에 대해 각각 하나씩 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-418">In this example, two routing tables are created, one each for hello front-end and back-end subnets.</span></span> <span data-ttu-id="0c4d0-419">각 테이블은 서브넷을 지정 하는 hello에 대 한 적절 한 고정 경로로 로드 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-419">Each table is loaded with static routes appropriate for hello given subnet.</span></span> <span data-ttu-id="0c4d0-420">이 예제에서는 각 테이블에는 모든 트래픽을 (0.0.0.0/0) 하는 세 가지 경로의 hello 방화벽을 통해 (다음 홉 = 가상 어플라이언스 IP 주소):</span><span class="sxs-lookup"><span data-stu-id="0c4d0-420">In this example, each table has three routes that direct all traffic (0.0.0.0/0) through hello firewall (Next hop = Virtual Appliance IP address):</span></span>

1. <span data-ttu-id="0c4d0-421">다음 홉으로 로컬 서브넷 트래픽을 tooallow 로컬 서브넷 트래픽을 toobypass hello 방화벽을 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-421">Local subnet traffic with no Next Hop defined tooallow local subnet traffic toobypass hello firewall.</span></span>
2. <span data-ttu-id="0c4d0-422">다음 홉이 방화벽으로 정의된 가상 네트워크 트래픽입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-422">Virtual network traffic with a Next Hop defined as firewall.</span></span> <span data-ttu-id="0c4d0-423">다음 홉이 로컬 가상 네트워크 트래픽 tooroute를 직접 허용 하는 hello 기본 규칙을 재정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-423">This next hop overrides hello default rule that allows local virtual network traffic tooroute directly.</span></span>
3. <span data-ttu-id="0c4d0-424">다음 홉 hello 방화벽으로 정의 된 모든 나머지 트래픽 (0/0).</span><span class="sxs-lookup"><span data-stu-id="0c4d0-424">All remaining traffic (0/0) with a Next Hop defined as hello firewall.</span></span>

> [!TIP]
> <span data-ttu-id="0c4d0-425">Hello UDR 나누기 로컬 서브넷 통신에에서 hello 로컬 서브넷 항목을 포함 하지입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-425">Not having hello local subnet entry in hello UDR breaks local subnet communications.</span></span>
>
> * <span data-ttu-id="0c4d0-426">이 예제에서 tooVNETLocal 가리키는 10.0.1.0/24는 중요 한!</span><span class="sxs-lookup"><span data-stu-id="0c4d0-426">In our example, 10.0.1.0/24 pointing tooVNETLocal is critical!</span></span> <span data-ttu-id="0c4d0-427">없으면 toohello NVA 전송 됩니다 hello 대상이 지정 되었으며 웹 서버 (10.0.1.4) tooanother 로컬 서버 (예) 10.0.1.25 두면 패킷 실패 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-427">Without it, packet leaving hello Web Server (10.0.1.4) destined tooanother local server (for example) 10.0.1.25 will fail as they will be sent toohello NVA.</span></span> <span data-ttu-id="0c4d0-428">hello NVA에서 것 toohello 서브넷 보내고 hello 서브넷 toohello NVA 무한 루프에 다시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-428">hello NVA will send it toohello subnet, and hello subnet will resend it toohello NVA in an infinite loop.</span></span>
> * <span data-ttu-id="0c4d0-429">hello 라우팅 루프가 발생할 가능성이 기존의 온-프레미스 어플라이언스의 자주 변경 되는 연결 된 tooseparate 서브넷에 있는 여러 개의 Nic와 어플라이언스에서 더 높습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-429">hello chances of a routing loop are typically higher on appliances with multiple NICs that are connected tooseparate subnets, which is often of traditional, on-premises appliances.</span></span>
>
>

<span data-ttu-id="0c4d0-430">Hello 라우팅 테이블을 만든 후 바인딩된 tootheir 서브넷 이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-430">Once hello routing tables are created, they must be bound tootheir subnets.</span></span> <span data-ttu-id="0c4d0-431">라우팅 테이블 프런트 엔드 서브넷 hello, 만든 and toohello 서브넷 바인딩된,이 출력은 같습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-431">hello front-end subnet routing table, once created and bound toohello subnet, would look like this output:</span></span>

        Effective routes :
         Address Prefix    Next hop type    Next hop IP address Status   Source     
         --------------    -------------    ------------------- ------   ------     
         {10.0.1.0/24}     VNETLocal                            Active
         {10.0.0.0/16}     VirtualAppliance 10.0.0.4            Active    
         {0.0.0.0/0}       VirtualAppliance 10.0.0.4            Active

> [!NOTE]
> <span data-ttu-id="0c4d0-432">UDR 적용된 toohello 게이트웨이 서브넷이 있는 hello ExpressRoute 회로 연결 되어 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-432">UDR can now be applied toohello gateway subnet on which hello ExpressRoute circuit is connected.</span></span>
>
> <span data-ttu-id="0c4d0-433">예 3 및 4에에서 어떻게 tooenable 주변은 express 경로 또는 사이트 간 네트워킹을 네트워크의 예가 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-433">Examples of how tooenable your perimeter network with ExpressRoute or site-to-site networking are shown in examples 3 and 4.</span></span>
>
>

#### <a name="ip-forwarding-description"></a><span data-ttu-id="0c4d0-434">IP 전달 설명</span><span class="sxs-lookup"><span data-stu-id="0c4d0-434">IP Forwarding description</span></span>
<span data-ttu-id="0c4d0-435">도우미 기능 tooUDR은 IP 전달 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-435">IP Forwarding is a companion feature tooUDR.</span></span> <span data-ttu-id="0c4d0-436">IP 전달은 tooreceive 트래픽을 명시적으로 toohello 기기에서 허용 하 고 다음 해당 트래픽을 tooits 최종 대상으로 전달 하는 가상 어플라이언스 설정입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-436">IP Forwarding is a setting on a virtual appliance that allows it tooreceive traffic not specifically addressed toohello appliance, and then forward that traffic tooits ultimate destination.</span></span>

<span data-ttu-id="0c4d0-437">예를 들어 AppVM01 toohello DNS01 서버 요청을 만드는 경우 UDR toohello 방화벽을이 트래픽을 라우팅합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-437">For example, if AppVM01 makes a request toohello DNS01 server, UDR would route this traffic toohello firewall.</span></span> <span data-ttu-id="0c4d0-438">IP 전달을 사용 하도록 설정와 hello DNS01 대상 (10.0.2.4)에 대 한 hello 트래픽은 hello 기기 (10.0.0.4)에서 허용 되 고 tooits 최종 대상 (10.0.2.4)를 전달 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-438">With IP Forwarding enabled, hello traffic for hello DNS01 destination (10.0.2.4) is accepted by hello appliance (10.0.0.4) and then forwarded tooits ultimate destination (10.0.2.4).</span></span> <span data-ttu-id="0c4d0-439">없이 IP 전달 hello 방화벽에서 사용 하도록 설정, 트래픽 것에서 허용 되지 hello 기기 hello 경로 테이블에 hello 다음 홉으로 hello 방화벽이 있는 경우에 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-439">Without IP Forwarding enabled on hello firewall, traffic would not be accepted by hello appliance even though hello route table has hello firewall as hello next hop.</span></span> <span data-ttu-id="0c4d0-440">가상 어플라이언스 toouse 것이 중요 한 tooremember tooenable IP UDR 함께 전달 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-440">toouse a virtual appliance, it’s critical tooremember tooenable IP Forwarding along with UDR.</span></span>

#### <a name="nsg-description"></a><span data-ttu-id="0c4d0-441">NSG 설명</span><span class="sxs-lookup"><span data-stu-id="0c4d0-441">NSG description</span></span>
<span data-ttu-id="0c4d0-442">이 예제에서는 NSG 그룹을 빌드한 후 단일 규칙을 로드합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-442">In this example, an NSG group is built and then loaded with a single rule.</span></span> <span data-ttu-id="0c4d0-443">이 그룹은 다음 toohello 프런트 엔드 및 백 엔드 서브넷만 (하지 SecNet hello)를 연결 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-443">This group is then bound only toohello front-end and back-end subnets (not hello SecNet).</span></span> <span data-ttu-id="0c4d0-444">선언적 규칙을 따르는 hello 작성 중인:</span><span class="sxs-lookup"><span data-stu-id="0c4d0-444">Declaratively hello following rule is being built:</span></span>

* <span data-ttu-id="0c4d0-445">Hello 인터넷 toohello 전체 가상 네트워크 (모든 서브넷)에서 모든 트래픽 (모든 포트) 거부 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-445">Any traffic (all ports) from hello Internet toohello entire virtual network (all subnets) is denied.</span></span>

<span data-ttu-id="0c4d0-446">이 예제에서 NSG를 사용했지만 기본 목적은 수동 구성 시 실수가 발생할 경우를 대비하여 두 번째 방어 계층을 만드는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-446">Although NSGs are used in this example, its main purpose is as a secondary layer of defense against manual misconfiguration.</span></span> <span data-ttu-id="0c4d0-447">hello ´ ֲ tooblock의 모든 인바운드 트래픽이 hello 인터넷 tooeither hello 프런트 엔드 또는 백 엔드 서브넷입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-447">hello goal is tooblock all inbound traffic from hello Internet tooeither hello front-end or back-end subnets.</span></span> <span data-ttu-id="0c4d0-448">Hello SecNet 서브넷 toohello 방화벽을 통해 트래픽 흐름만 (그리고 toohello 프런트 엔드 또는 백 엔드 서브넷에 해당 하는 경우).</span><span class="sxs-lookup"><span data-stu-id="0c4d0-448">Traffic should only flow through hello SecNet subnet toohello firewall (and then, if appropriate, on toohello front-end or back-end subnets).</span></span> <span data-ttu-id="0c4d0-449">또한 장소에 hello UDR 규칙과 함께 않은 쉽게 변환할 hello 프런트 엔드 또는 백 엔드 서브넷 하는 모든 트래픽은 전송 toohello 방화벽 (감사 tooUDR) 초과 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-449">Plus, with hello UDR rules in place, any traffic that did make it into hello front-end or back-end subnets would be directed out toohello firewall (thanks tooUDR).</span></span> <span data-ttu-id="0c4d0-450">hello 방화벽 비대칭 흐름으로이 트래픽을 볼 수 있으며 hello 아웃 바운드 트래픽을 삭제 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-450">hello firewall would see this traffic as an asymmetric flow and would drop hello outbound traffic.</span></span> <span data-ttu-id="0c4d0-451">따라서 hello 서브넷을 보호 하는 보안 계층 세 가지가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-451">Thus there are three layers of security protecting hello subnets:</span></span>

* <span data-ttu-id="0c4d0-452">FrontEnd 또는 BackEnd NIC에는 공용 IP 주소가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-452">No Public IP addresses on any FrontEnd or BackEnd NICs.</span></span>
* <span data-ttu-id="0c4d0-453">Nsg hello 인터넷에서에서 트래픽을 거부 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-453">NSGs denying traffic from hello Internet.</span></span>
* <span data-ttu-id="0c4d0-454">hello 방화벽 삭제 비대칭 트래픽입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-454">hello firewall dropping asymmetric traffic.</span></span>

<span data-ttu-id="0c4d0-455">이 예에서 NSG hello에 대 한 흥미로운 사항이 하나는 toodeny 인터넷 트래픽을 toohello 전체 가상 네트워크를 hello 보안 서브넷을 포함 하 여 규칙이 하나만 포함 되어 있는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-455">One interesting point regarding hello NSG in this example is that it contains only one rule, which is toodeny Internet traffic toohello entire virtual network, including hello Security subnet.</span></span> <span data-ttu-id="0c4d0-456">그러나 NSG는만 hello 바인딩된 toohello 프런트 엔드 및 백 엔드 서브넷 hello 규칙 트래픽에서 처리 되지 않습니다 하므로 인바운드 toohello 보안 서브넷입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-456">However, since hello NSG is only bound toohello front-end and back-end subnets, hello rule isn’t processed on traffic inbound toohello Security subnet.</span></span> <span data-ttu-id="0c4d0-457">결과적으로 트래픽 흐름 toohello 보안 서브넷을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-457">As a result, traffic flows toohello Security subnet.</span></span>

#### <a name="firewall-rules"></a><span data-ttu-id="0c4d0-458">방화벽 규칙</span><span class="sxs-lookup"><span data-stu-id="0c4d0-458">Firewall rules</span></span>
<span data-ttu-id="0c4d0-459">Hello 방화벽에서 전달 규칙 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-459">On hello firewall, forwarding rules should be created.</span></span> <span data-ttu-id="0c4d0-460">Hello 방화벽 차단 또는 모든 인바운드, 아웃 바운드 전달 및 내 가상 네트워크 트래픽을 이므로, 많은 방화벽 규칙이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-460">Since hello firewall is blocking or forwarding all inbound, outbound, and intra-virtual network traffic, many firewall rules are needed.</span></span> <span data-ttu-id="0c4d0-461">또한 모든 인바운드 트래픽 도달 hello 보안 서비스 공용 IP 주소 (서로 다른 포트의 경우)에서 toobe hello 방화벽에 의해 처리 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-461">Also, all inbound traffic hits hello Security Service public IP address (on different ports), toobe processed by hello firewall.</span></span> <span data-ttu-id="0c4d0-462">가장 좋은 방법은 toodiagram hello 서브넷을 설정 하기 전에 hello 논리 흐름 및 방화벽 규칙을 tooavoid 나중에 다시 작업 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-462">A best practice is toodiagram hello logical flows before setting up hello subnets and firewall rules, tooavoid rework later.</span></span> <span data-ttu-id="0c4d0-463">hello 다음 그림은이 예제에 대 한 hello 방화벽 규칙의 논리적 보기:</span><span class="sxs-lookup"><span data-stu-id="0c4d0-463">hello following figure is a logical view of hello firewall rules for this example:</span></span>

<span data-ttu-id="0c4d0-464">![10]</span><span class="sxs-lookup"><span data-stu-id="0c4d0-464">![10]</span></span>

> [!NOTE]
> <span data-ttu-id="0c4d0-465">Hello 관리 포트에 사용 되는 네트워크 가상 어플라이언스 hello에 따라 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-465">Based on hello Network Virtual Appliance used, hello management ports vary.</span></span> <span data-ttu-id="0c4d0-466">이 예제에서는 포트 22, 801, 807을 사용하는 Barracuda NextGen 방화벽을 참조합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-466">In this example, a Barracuda NextGen Firewall is referenced, which uses ports 22, 801, and 807.</span></span> <span data-ttu-id="0c4d0-467">Hello 어플라이언스 공급 업체 설명서 toofind hello 정확 하 게 사용 되는 포트를 사용 중인 hello 장치 관리를 참조 하십시오.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-467">Consult hello appliance vendor documentation toofind hello exact ports used for management of hello device being used.</span></span>
>
>

#### <a name="firewall-rules-description"></a><span data-ttu-id="0c4d0-468">방화벽 규칙 설명</span><span class="sxs-lookup"><span data-stu-id="0c4d0-468">Firewall rules description</span></span>
<span data-ttu-id="0c4d0-469">Hello 앞에 논리 다이어그램에서 hello 보안 서브넷 hello 방화벽은 해당 서브넷에만 리소스 hello 때문에 표시 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-469">In hello preceding logical diagram, hello security subnet is not shown because hello firewall is hello only resource on that subnet.</span></span> <span data-ttu-id="0c4d0-470">hello 방화벽 규칙 및 방법은 논리적으로 허용 하거나 거부할 트래픽 흐름을 hello 실제 라우트된 경로가 아닌 hello 다이어그램이 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-470">hello diagram is showing hello firewall rules and how they logically allow or deny traffic flows, not hello actual routed path.</span></span> <span data-ttu-id="0c4d0-471">또한 hello RDP 트래픽이 높은 범위가 지정 된 포트 (8014 – 8026) 되며 hello로 정렬 된 선택한 tooloosely에 대해 선택 하는 hello 외부 포트 마지막 두 개 8 진수가 동일한 hello 쉽게 가독성을 위해 로컬 IP 주소 (예를 들어 로컬 서버 주소 10.0.1.4 연관 된 외부 포트와 8014).</span><span class="sxs-lookup"><span data-stu-id="0c4d0-471">Also, hello external ports selected for hello RDP traffic are higher ranged ports (8014 – 8026) and were selected tooloosely align with hello last two octets of hello local IP address for easier readability (for example, local server address 10.0.1.4 is associated with external port 8014).</span></span> <span data-ttu-id="0c4d0-472">하지만 이보다 높으면서 충돌하지 않는 포트도 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-472">Any higher non-conflicting ports, however, could be used.</span></span>

<span data-ttu-id="0c4d0-473">이 예제에서는 7가지 유형의 규칙이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-473">For this example, we need seven types of rules:</span></span>

* <span data-ttu-id="0c4d0-474">외부 규칙(인바운드 트래픽용):</span><span class="sxs-lookup"><span data-stu-id="0c4d0-474">External rules (for inbound traffic):</span></span>
  1. <span data-ttu-id="0c4d0-475">방화벽 관리 규칙:이 응용 프로그램 리디렉션 규칙이 트래픽 toopass hello 네트워크 가상 어플라이언스의 toohello 관리 포트를 허용 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-475">Firewall management rule: This App Redirect rule allows traffic toopass toohello management ports of hello network virtual appliance.</span></span>
  2. <span data-ttu-id="0c4d0-476">(각 Windows server) 용 RDP 규칙: (각 서버 마다 하나씩) 이러한 4 가지 규칙 RDP 통해 개별 서버 hello에서 관리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-476">RDP rules (for each Windows server): These four rules (one for each server) allow management of hello individual servers via RDP.</span></span> <span data-ttu-id="0c4d0-477">hello 네 개의 RDP 규칙 사용 중인 hello 네트워크 가상 어플라이언스의 hello 기능에 따라 하나의 규칙으로 축소도 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-477">hello four RDP rules could also be collapsed into one rule, depending on hello capabilities of hello network virtual appliance being used.</span></span>
  3. <span data-ttu-id="0c4d0-478">응용 프로그램 트래픽 규칙: 이러한 규칙, hello 프런트 엔드 웹 트래픽에 대해 먼저 hello 및 hello 백 엔드 트래픽 (예를 들어 웹 서버 toodata 계층)에 대 한 두 번째 hello의 두 가지입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-478">Application traffic rules: There are two of these rules, hello first for hello front-end web traffic, and hello second for hello back-end traffic (for example, web server toodata tier).</span></span> <span data-ttu-id="0c4d0-479">이러한 규칙의 hello 구성 (서버 배치) hello 네트워크 아키텍처 및 트래픽 흐름 (어떤 방향이 hello 트래픽 흐름 및 사용 되는 포트)에 따라 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-479">hello configuration of these rules depends on hello network architecture (where your servers are placed) and traffic flows (which direction hello traffic flows, and which ports are used).</span></span>
     * <span data-ttu-id="0c4d0-480">첫 번째 규칙의 hello hello 실제 응용 프로그램 트래픽 tooreach hello 응용 프로그램 서버를 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-480">hello first rule allows hello actual application traffic tooreach hello application server.</span></span> <span data-ttu-id="0c4d0-481">Hello 다른 규칙에서는 보안 및 관리 하는 동안에 응용 프로그램 트래픽 규칙은 어떤 hello 응용 프로그램 외부의 사용자 또는 서비스 tooaccess입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-481">While hello other rules allow for security and management, application traffic rules are what allow external users or services tooaccess hello applications.</span></span> <span data-ttu-id="0c4d0-482">이 예제에서는 포트 80에 단일 웹 서버가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-482">For this example, there is a single web server on port 80.</span></span> <span data-ttu-id="0c4d0-483">따라서 단일 응용 프로그램 ॉ 인바운드 트래픽을 toohello 외부 IP을 toohello 웹 서버의 내부 IP 주소를 리디렉션합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-483">Thus a single firewall application rule redirects inbound traffic toohello external IP, toohello web servers internal IP address.</span></span> <span data-ttu-id="0c4d0-484">hello 리디렉션 트래픽 세션 NAT toohello 내부 서버를 통해 변환 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-484">hello redirected traffic session would be translated via NAT toohello internal server.</span></span>
     * <span data-ttu-id="0c4d0-485">hello 두 번째 규칙 모든 포트를 통해 hello 백 엔드 규칙 tooallow hello 웹 서버 tootalk toohello AppVM01 서버 (않음 하지 AppVM02)입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-485">hello second rule is hello back-end rule tooallow hello web server tootalk toohello AppVM01 server (but not AppVM02) via any port.</span></span>
* <span data-ttu-id="0c4d0-486">내부 규칙(Virtual Network 내부 트래픽용)</span><span class="sxs-lookup"><span data-stu-id="0c4d0-486">Internal rules (for intra-virtual network traffic)</span></span>
  1. <span data-ttu-id="0c4d0-487">아웃 바운드 tooInternet 규칙:이 규칙은 toopass toohello 선택한 네트워크 모든 네트워크에서 트래픽을 허용 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-487">Outbound tooInternet rule: This rule allows traffic from any network toopass toohello selected networks.</span></span> <span data-ttu-id="0c4d0-488">이 규칙은 일반적으로 기본 규칙 요소가 hello 방화벽에 있지만 사용할 수 없는 상태에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-488">This rule is usually a default rule already on hello firewall, but in a disabled state.</span></span> <span data-ttu-id="0c4d0-489">이 예제에서는 이 규칙을 사용하도록 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-489">This rule should be enabled for this example.</span></span>
  2. <span data-ttu-id="0c4d0-490">DNS 규칙:이 규칙은 DNS (포트 53) 트래픽 toopass toohello DNS 서버 에서만 허용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-490">DNS rule: This rule allows only DNS (port 53) traffic toopass toohello DNS server.</span></span> <span data-ttu-id="0c4d0-491">이 환경에 대 한 hello 프런트 엔드 toohello 백 엔드에서 대부분 트래픽이 차단 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-491">For this environment, most traffic from hello front end toohello back end is blocked.</span></span> <span data-ttu-id="0c4d0-492">이 규칙은 로컬 서브넷의 DNS만 특별히 허용합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-492">This rule specifically allows DNS from any local subnet.</span></span>
  3. <span data-ttu-id="0c4d0-493">서브넷 toosubnet 규칙:이 규칙은 tooallow hello 프런트 엔드 서브넷 (역방향 hello 하지)에 백 엔드 서브넷 tooconnect tooany 서버 hello에서 모든 서버입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-493">Subnet toosubnet rule: This rule is tooallow any server on hello back-end subnet tooconnect tooany server on hello front-end subnet (but not hello reverse).</span></span>
* <span data-ttu-id="0c4d0-494">유사 시 대기 (트래픽에 대 한 규칙 hello 이전 중 하나를 만족 하지 않는):</span><span class="sxs-lookup"><span data-stu-id="0c4d0-494">Fail-safe rule (for traffic that doesn’t meet any of hello previous):</span></span>
  1. <span data-ttu-id="0c4d0-495">모든 트래픽 규칙 거부:이 거부 규칙 항상 hello 최종 규칙 (측면에서 우선 순위) 이어야 하며 따라서 트래픽 흐름에 실패 하면 toomatch hello 규칙 앞에 오는 경우 삭제 된이 규칙에 의해 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-495">Deny all traffic rule: This deny rule should always be hello final rule (in terms of priority), and as such if a traffic flow fails toomatch any of hello preceding rules it is dropped by this rule.</span></span> <span data-ttu-id="0c4d0-496">이 규칙은 기본 규칙으로 일반적으로 준비 및 활성화되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-496">This rule is a default rule and usually in-place and active.</span></span> <span data-ttu-id="0c4d0-497">수정할 수 없습니다는 일반적으로 필요한 toothis 규칙입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-497">No modifications are usually needed toothis rule.</span></span>

> [!TIP]
> <span data-ttu-id="0c4d0-498">Hello에 두 번째 응용 프로그램 트래픽 규칙을 toosimplify이이 예제에서는 모든 포트가 허용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-498">On hello second application traffic rule, toosimplify this example, any port is allowed.</span></span> <span data-ttu-id="0c4d0-499">실제 시나리오에서는 hello 가장 구체적인 포트와 주소 범위는이 규칙의 사용된 tooreduce hello 공격 노출 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-499">In a real scenario, hello most specific port and address ranges should be used tooreduce hello attack surface of this rule.</span></span>
>
>

<span data-ttu-id="0c4d0-500">Hello 이전 규칙을 만든 후에 tooreview hello 각 규칙 tooensure 트래픽의 우선 순위 허용 또는 거부할지 필요에 따라 중요 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-500">Once hello previous rules are created, it’s important tooreview hello priority of each rule tooensure traffic is allowed or denied as desired.</span></span> <span data-ttu-id="0c4d0-501">예를 들어 hello 규칙은 우선 순위에 따라입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-501">For this example, hello rules are in priority order.</span></span>

#### <a name="conclusion"></a><span data-ttu-id="0c4d0-502">결론</span><span class="sxs-lookup"><span data-stu-id="0c4d0-502">Conclusion</span></span>
<span data-ttu-id="0c4d0-503">이 예제는 더 복잡 한 않음 방식으로 보호 하 고 이전 예제 hello 보다 hello 네트워크 격리를 완료 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-503">This example is a more complex but complete way of protecting and isolating hello network than hello previous examples.</span></span> <span data-ttu-id="0c4d0-504">(방금 hello 응용 프로그램을 보호 하는 예제 2 및 서브넷을 바로 격리 하는 예 1).</span><span class="sxs-lookup"><span data-stu-id="0c4d0-504">(Example 2 protects just hello application, and Example 1 just isolates subnets).</span></span> <span data-ttu-id="0c4d0-505">이 설계는 양방향으로 트래픽을 모니터링에 대 한 허용 및 뿐 아니라 hello 인바운드 응용 프로그램 서버를 보호 하지만이 네트워크에 있는 모든 서버에 대 한 네트워크 보안 정책을 적용 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-505">This design allows for monitoring traffic in both directions, and protects not just hello inbound application server but enforces network security policy for all servers on this network.</span></span> <span data-ttu-id="0c4d0-506">또한 hello 어플라이언스에 사용에 따라 전체 트래픽 감사 및 인식을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-506">Also, depending on hello appliance used, full traffic auditing and awareness can be achieved.</span></span> <span data-ttu-id="0c4d0-507">자세한 내용은 참조 hello [빌드 방법을 자세히 설명][Example3]합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-507">For more information, see hello [detailed build instructions][Example3].</span></span> <span data-ttu-id="0c4d0-508">이러한 지침에는 다음이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-508">These instructions include:</span></span>

* <span data-ttu-id="0c4d0-509">어떻게 toobuild이 예제에서는 경계 네트워크 클래식 PowerShell 스크립트입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-509">How toobuild this example perimeter network with classic PowerShell scripts.</span></span>
* <span data-ttu-id="0c4d0-510">어떻게 toobuild Azure 리소스 관리자 템플릿 사용 하 여이 예제입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-510">How toobuild this example with an Azure Resource Manager template.</span></span>
* <span data-ttu-id="0c4d0-511">각 UDR, NSG 명령 및 방화벽 규칙에 대한 상세 설명입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-511">Detailed descriptions of each UDR, NSG command, and firewall rule.</span></span>
* <span data-ttu-id="0c4d0-512">각 계층에서의 트래픽 허용 또는 거부 방법을 나타내는 상세 트래픽 흐름 시나리오입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-512">Detailed traffic flow scenarios, showing how traffic is allowed or denied in each layer.</span></span>

### <a name="example-4-add-a-hybrid-connection-with-a-site-to-site-virtual-appliance-vpn"></a><span data-ttu-id="0c4d0-513">예 4 사이트 간, 가상 어플라이언스 VPN에 하이브리드 연결 추가</span><span class="sxs-lookup"><span data-stu-id="0c4d0-513">Example 4 Add a hybrid connection with a site-to-site, virtual appliance VPN</span></span>
<span data-ttu-id="0c4d0-514">[백업 tooFast 시작](#fast-start) | 곧 사용할 수 있는 빌드 방법을 자세히 설명</span><span class="sxs-lookup"><span data-stu-id="0c4d0-514">[Back tooFast start](#fast-start) | Detailed build instructions available soon</span></span>

<span data-ttu-id="0c4d0-515">[![11]][11]</span><span class="sxs-lookup"><span data-stu-id="0c4d0-515">[![11]][11]</span></span>

#### <a name="environment-description"></a><span data-ttu-id="0c4d0-516">환경 설명</span><span class="sxs-lookup"><span data-stu-id="0c4d0-516">Environment description</span></span>
<span data-ttu-id="0c4d0-517">하이브리드 네트워킹 (NVA) 네트워크 가상 어플라이언스를 사용 하 여 1, 2 또는 3 예제에 설명 된 hello 경계 네트워크 유형의 tooany를 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-517">Hybrid networking using a network virtual appliance (NVA) can be added tooany of hello perimeter network types described in examples 1, 2, or 3.</span></span>

<span data-ttu-id="0c4d0-518">Hello 이전 그림에 표시 된 것과 같이 hello (사이트-사이트) 인터넷을 통한 VPN 연결이 사용 되는 tooconnect NVA 통해 Azure 가상 네트워크는 온-프레미스 네트워크 tooan 것입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-518">As shown in hello previous figure, a VPN connection over hello Internet (site-to-site) is used tooconnect an on-premises network tooan Azure virtual network via an NVA.</span></span>

> [!NOTE]
> <span data-ttu-id="0c4d0-519">ExpressRoute를 사용 하 여 hello Azure 공용 피어 링 옵션을 설정 하는 경우 고정 경로 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-519">If you use ExpressRoute with hello Azure Public Peering option enabled, a static route should be created.</span></span> <span data-ttu-id="0c4d0-520">이 고정 경로 toohello hello ExpressRoute 연결을 통해서가 아니라 회사 인터넷 아웃 NVA VPN IP 주소 라우팅해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-520">This static route should route toohello NVA VPN IP address out your corporate Internet and not via hello ExpressRoute connection.</span></span> <span data-ttu-id="0c4d0-521">hello hello ExpressRoute Azure 공용 피어 링 옵션에 필요한 NAT hello VPN 세션을 중단 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-521">hello NAT required on hello ExpressRoute Azure Public Peering option can break hello VPN session.</span></span>
>
>

<span data-ttu-id="0c4d0-522">VPN 설정 되 고 hello hello NVA 모든 네트워크 및 서브넷에 대 한 중앙 허브 hello 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-522">Once hello VPN is in place, hello NVA becomes hello central hub for all networks and subnets.</span></span> <span data-ttu-id="0c4d0-523">hello 방화벽 전달 규칙에는 어떤 트래픽 흐름이 허용 됩니다 NAT을 통해 변환, 리디렉션되는 또는 (hello 온-프레미스 네트워크와 Azure 간의 트래픽 흐름)에 삭제 됩니다 결정 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-523">hello firewall forwarding rules determine which traffic flows are allowed, are translated via NAT, are redirected, or are dropped (even for traffic flows between hello on-premises network and Azure).</span></span>

<span data-ttu-id="0c4d0-524">최적화 될 수 있습니다 또는 사용 특정 hello에 따라이 디자인 패턴에서 성능 저하 사례 때 트래픽 흐름을 신중 하 게 고려 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-524">Traffic flows should be considered carefully, as they can be optimized or degraded by this design pattern, depending on hello specific use case.</span></span>

<span data-ttu-id="0c4d0-525">예제 3, 기본 제공 hello 환경을 사용 하 고 다음 추가 사이트 간 VPN 하이브리드 네트워크 연결을 디자인 하는 hello을 생성 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-525">Using hello environment built in example 3, and then adding a site-to-site VPN hybrid network connection, produces hello following design:</span></span>

<span data-ttu-id="0c4d0-526">[![12]][12]</span><span class="sxs-lookup"><span data-stu-id="0c4d0-526">[![12]][12]</span></span>

<span data-ttu-id="0c4d0-527">hello 온-프레미스 라우터 또는 사용자 NVA VPN에 대 한 호환 되는 기타 네트워크 장치는 VPN 클라이언트 hello 것입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-527">hello on-premises router, or any other network device that is compatible with your NVA for VPN, would be hello VPN client.</span></span> <span data-ttu-id="0c4d0-528">이 물리적 장치를 시작 하 고 프로그램 NVA와 hello VPN 연결을 유지 관리 담당 것입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-528">This physical device would be responsible for initiating and maintaining hello VPN connection with your NVA.</span></span>

<span data-ttu-id="0c4d0-529">논리적으로 NVA toohello hello 네트워크 상태에 네 개의 개별 "보안 영역" hello 규칙 hello NVA 있는 것에 이러한 영역 간의 트래픽 기본 디렉터 hello:</span><span class="sxs-lookup"><span data-stu-id="0c4d0-529">Logically toohello NVA, hello network looks like four separate “security zones” with hello rules on hello NVA being hello primary director of traffic between these zones:</span></span>

<span data-ttu-id="0c4d0-530">![13]</span><span class="sxs-lookup"><span data-stu-id="0c4d0-530">![13]</span></span>

#### <a name="conclusion"></a><span data-ttu-id="0c4d0-531">결론</span><span class="sxs-lookup"><span data-stu-id="0c4d0-531">Conclusion</span></span>
<span data-ttu-id="0c4d0-532">사이트 간 VPN 하이브리드 네트워크 연결 tooan Azure 가상 네트워크의 hello 추가 안전한 방식으로 Azure로 hello 온-프레미스 네트워크를 확장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-532">hello addition of a site-to-site VPN hybrid network connection tooan Azure virtual network can extend hello on-premises network into Azure in a secure manner.</span></span> <span data-ttu-id="0c4d0-533">VPN 연결을 사용 하 여 트래픽을 암호화 되 고 라우팅합니다 hello 인터넷을 통해.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-533">In using a VPN connection, your traffic is encrypted and routes via hello Internet.</span></span> <span data-ttu-id="0c4d0-534">이 예에서 NVA hello 중앙 위치 tooenforce를 제공 하며 hello 보안 정책을 관리 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-534">hello NVA in this example provides a central location tooenforce and manage hello security policy.</span></span> <span data-ttu-id="0c4d0-535">자세한 내용은 자세한 hello를 참조 하세요. 빌드 지침 (곧 출시 예정인).</span><span class="sxs-lookup"><span data-stu-id="0c4d0-535">For more information, see hello detailed build instructions (forthcoming).</span></span> <span data-ttu-id="0c4d0-536">이러한 지침에는 다음이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-536">These instructions include:</span></span>

* <span data-ttu-id="0c4d0-537">어떻게 toobuild이 예제에서는 경계 네트워크와 PowerShell 스크립트입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-537">How toobuild this example perimeter network with PowerShell scripts.</span></span>
* <span data-ttu-id="0c4d0-538">어떻게 toobuild Azure 리소스 관리자 템플릿 사용 하 여이 예제입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-538">How toobuild this example with an Azure Resource Manager template.</span></span>
* <span data-ttu-id="0c4d0-539">이 설계에서의 트래픽 흐름을 보여 주는 상세 트래픽 흐름 시나리오입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-539">Detailed traffic flow scenarios, showing how traffic flows through this design.</span></span>

### <a name="example-5-add-a-hybrid-connection-with-a-site-to-site-azure-vpn-gateway"></a><span data-ttu-id="0c4d0-540">예제 5 사이트 간 Azure VPN Gateway를 통한 하이브리드 연결 추가</span><span class="sxs-lookup"><span data-stu-id="0c4d0-540">Example 5 Add a hybrid connection with a site-to-site, Azure VPN gateway</span></span>
<span data-ttu-id="0c4d0-541">[백업 tooFast 시작](#fast-start) | 곧 사용할 수 있는 빌드 방법을 자세히 설명</span><span class="sxs-lookup"><span data-stu-id="0c4d0-541">[Back tooFast start](#fast-start) | Detailed build instructions available soon</span></span>

<span data-ttu-id="0c4d0-542">[![14]][14]</span><span class="sxs-lookup"><span data-stu-id="0c4d0-542">[![14]][14]</span></span>

#### <a name="environment-description"></a><span data-ttu-id="0c4d0-543">환경 설명</span><span class="sxs-lookup"><span data-stu-id="0c4d0-543">Environment description</span></span>
<span data-ttu-id="0c4d0-544">Azure VPN 게이트웨이 사용 하 여 하이브리드 네트워킹 예제 1 또는 2에에서 설명 된 tooeither 경계 네트워크 형식을 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-544">Hybrid networking using an Azure VPN gateway can be added tooeither perimeter network type described in examples 1 or 2.</span></span>

<span data-ttu-id="0c4d0-545">Hello 그림 앞에 표시 된 것과 같이 hello (사이트-사이트) 인터넷을 통한 VPN 연결은 Azure VPN 게이트웨이 통해 Azure 가상 네트워크는 온-프레미스 네트워크 tooan tooconnect를 사용 하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-545">As shown in hello preceding figure, a VPN connection over hello Internet (site-to-site) is used tooconnect an on-premises network tooan Azure virtual network via an Azure VPN gateway.</span></span>

> [!NOTE]
> <span data-ttu-id="0c4d0-546">ExpressRoute를 사용 하 여 hello Azure 공용 피어 링 옵션을 설정 하는 경우 고정 경로 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-546">If you use ExpressRoute with hello Azure Public Peering option enabled, a static route should be created.</span></span> <span data-ttu-id="0c4d0-547">이 고정 경로 toohello hello ExpressRoute WAN을 통해서가 아니라 회사 인터넷 아웃 NVA VPN IP 주소 라우팅해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-547">This  static route should route toohello NVA VPN IP address out your corporate Internet and not via hello ExpressRoute WAN.</span></span> <span data-ttu-id="0c4d0-548">hello hello ExpressRoute Azure 공용 피어 링 옵션에 필요한 NAT hello VPN 세션을 중단 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-548">hello NAT required on hello ExpressRoute Azure Public Peering option can break hello VPN session.</span></span>
>
>

<span data-ttu-id="0c4d0-549">hello 다음 그림은 hello 두 네트워크 가장자리가 예제.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-549">hello following figure shows hello two network edges in this example.</span></span> <span data-ttu-id="0c4d0-550">Hello 첫 번째 가장자리에 NVA hello 및 Nsg 방법은 Azure 네트워크에 대 한와 Azure 간의 트래픽 흐름을 제어 하 고 인터넷 hello 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-550">On hello first edge, hello NVA and NSGs control traffic flows for intra-Azure networks and between Azure and hello Internet.</span></span> <span data-ttu-id="0c4d0-551">hello 두 번째 가장자리가 hello Azure VPN 게이트웨이 온-프레미스와 Azure 간 별도 및 격리 된 네트워크 가장자리입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-551">hello second edge is hello Azure VPN gateway, which is a separate and isolated network edge between on-premises and Azure.</span></span>

<span data-ttu-id="0c4d0-552">최적화 될 수 있습니다 또는 사용 특정 hello에 따라이 디자인 패턴에서 성능 저하 사례 때 트래픽 흐름을 신중 하 게 고려 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-552">Traffic flows should be considered carefully, as they can be optimized or degraded by this design pattern, depending on hello specific use case.</span></span>

<span data-ttu-id="0c4d0-553">예 1, 기본 제공 hello 환경을 사용 하 고 다음 추가 사이트 간 VPN 하이브리드 네트워크 연결을 디자인 하는 hello을 생성 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-553">Using hello environment built in example 1, and then adding a site-to-site VPN hybrid network connection, produces hello following design:</span></span>

<span data-ttu-id="0c4d0-554">[![15]][15]</span><span class="sxs-lookup"><span data-stu-id="0c4d0-554">[![15]][15]</span></span>

#### <a name="conclusion"></a><span data-ttu-id="0c4d0-555">결론</span><span class="sxs-lookup"><span data-stu-id="0c4d0-555">Conclusion</span></span>
<span data-ttu-id="0c4d0-556">사이트 간 VPN 하이브리드 네트워크 연결 tooan Azure 가상 네트워크의 hello 추가 안전한 방식으로 Azure로 hello 온-프레미스 네트워크를 확장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-556">hello addition of a site-to-site VPN hybrid network connection tooan Azure virtual network can extend hello on-premises network into Azure in a secure manner.</span></span> <span data-ttu-id="0c4d0-557">Hello 기본 Azure VPN 게이트웨이 사용 하 여 트래픽을 IPSec 암호화 이며 hello 인터넷을 통해 라우팅합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-557">Using hello native Azure VPN gateway, your traffic is IPSec encrypted and routes via hello Internet.</span></span> <span data-ttu-id="0c4d0-558">또한 hello Azure VPN 게이트웨이 사용 하 여 필요한 저렴 한 비용 옵션 (추가 라이센스가 제 3 자 NVAs와 마찬가지로 비용)을 제공할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-558">Also, using hello Azure VPN gateway can provide a lower-cost option (no additional licensing cost as with third-party NVAs).</span></span> <span data-ttu-id="0c4d0-559">이 옵션은 NVA를 사용하지 않는 예제 1에서는 가장 경제적입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-559">This option is most economical in example 1, where no NVA is used.</span></span> <span data-ttu-id="0c4d0-560">자세한 내용은 자세한 hello를 참조 하세요. 빌드 지침 (곧 출시 예정인).</span><span class="sxs-lookup"><span data-stu-id="0c4d0-560">For more information, see hello detailed build instructions (forthcoming).</span></span> <span data-ttu-id="0c4d0-561">이러한 지침에는 다음이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-561">These instructions include:</span></span>

* <span data-ttu-id="0c4d0-562">어떻게 toobuild이 예제에서는 경계 네트워크와 PowerShell 스크립트입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-562">How toobuild this example perimeter network with PowerShell scripts.</span></span>
* <span data-ttu-id="0c4d0-563">어떻게 toobuild Azure 리소스 관리자 템플릿 사용 하 여이 예제입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-563">How toobuild this example with an Azure Resource Manager template.</span></span>
* <span data-ttu-id="0c4d0-564">이 설계에서의 트래픽 흐름을 보여 주는 상세 트래픽 흐름 시나리오입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-564">Detailed traffic flow scenarios, showing how traffic flows through this design.</span></span>

### <a name="example-6-add-a-hybrid-connection-with-expressroute"></a><span data-ttu-id="0c4d0-565">예제 6 ExpressRoute를 통한 하이브리드 연결 추가</span><span class="sxs-lookup"><span data-stu-id="0c4d0-565">Example 6 Add a hybrid connection with ExpressRoute</span></span>
<span data-ttu-id="0c4d0-566">[백업 tooFast 시작](#fast-start) | 곧 사용할 수 있는 빌드 방법을 자세히 설명</span><span class="sxs-lookup"><span data-stu-id="0c4d0-566">[Back tooFast start](#fast-start) | Detailed build instructions available soon</span></span>

<span data-ttu-id="0c4d0-567">[![16]][16]</span><span class="sxs-lookup"><span data-stu-id="0c4d0-567">[![16]][16]</span></span>

#### <a name="environment-description"></a><span data-ttu-id="0c4d0-568">환경 설명</span><span class="sxs-lookup"><span data-stu-id="0c4d0-568">Environment description</span></span>
<span data-ttu-id="0c4d0-569">개인 피어 링 연결 될 수 있습니다는 ExpressRoute를 사용 하 여 하이브리드 네트워킹 예제 1 또는 2에에서 설명 된 tooeither 경계 네트워크 형식을 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-569">Hybrid networking using an ExpressRoute private peering connection can be added tooeither perimeter network type described in examples 1 or 2.</span></span>

<span data-ttu-id="0c4d0-570">Hello 앞 그림 에서처럼 개인 피어 링 express 경로 hello Azure 가상 네트워크 및 온-프레미스 네트워크 간의 직접 연결을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-570">As shown in hello preceding figure, ExpressRoute private peering provides a direct connection between your on-premises network and hello Azure virtual network.</span></span> <span data-ttu-id="0c4d0-571">트래픽은 hello 서비스 공급자 네트워크 및 인터넷 hello을 터치 하지 hello Microsoft Azure 네트워크를 자신입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-571">Traffic transits only hello service provider network and hello Microsoft Azure network, never touching hello Internet.</span></span>

> [!TIP]
> <span data-ttu-id="0c4d0-572">ExpressRoute를 사용 하 여 회사 네트워크 트래픽을 hello 인터넷 오프은 유지 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-572">Using ExpressRoute keeps corporate network traffic off hello Internet.</span></span> <span data-ttu-id="0c4d0-573">Express 공급자로부터의 Service Level Agreements(서비스 수준 약정)도 허용됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-573">It also allows for service level agreements from your ExpressRoute provider.</span></span> <span data-ttu-id="0c4d0-574">hello Azure 게이트웨이 사이트 간 Vpn과 hello Azure 게이트웨이 최대 처리량은 200mbps 반면 ExpressRoute 사용 too10 g b p s를 전달할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-574">hello Azure Gateway can pass up too10 Gbps with ExpressRoute, whereas with site-to-site VPNs, hello Azure Gateway maximum throughput is 200 Mbps.</span></span>
>
>

<span data-ttu-id="0c4d0-575">Hello 다음 다이어그램에서에서와 같이이 옵션 hello로 환경에 네트워크 가장자리를 두 개 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-575">As seen in hello following diagram, with this option hello environment now has two network edges.</span></span> <span data-ttu-id="0c4d0-576">hello NVA 및 NSG 제어 트래픽 흐름 및 Azure와 hello 인터넷 hello 게이트웨이 온-프레미스와 Azure 간 별도 및 격리 된 네트워크 경계 내 Azure 네트워크에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-576">hello NVA and NSG control traffic flows for intra-Azure networks and between Azure and hello Internet, while hello gateway is a separate and isolated network edge between on-premises and Azure.</span></span>

<span data-ttu-id="0c4d0-577">최적화 될 수 있습니다 또는 사용 특정 hello에 따라이 디자인 패턴에서 성능 저하 사례 때 트래픽 흐름을 신중 하 게 고려 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-577">Traffic flows should be considered carefully, as they can be optimized or degraded by this design pattern, depending on hello specific use case.</span></span>

<span data-ttu-id="0c4d0-578">한 다음 ExpressRoute 하이브리드 네트워크 연결을 추가 하는 예 1 작성 하는 hello 환경을 사용 하 여 hello 디자인을 생성 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-578">Using hello environment built in example 1, and then adding an ExpressRoute hybrid network connection, produces hello following design:</span></span>

<span data-ttu-id="0c4d0-579">[![17]][17]</span><span class="sxs-lookup"><span data-stu-id="0c4d0-579">[![17]][17]</span></span>

#### <a name="conclusion"></a><span data-ttu-id="0c4d0-580">결론</span><span class="sxs-lookup"><span data-stu-id="0c4d0-580">Conclusion</span></span>
<span data-ttu-id="0c4d0-581">ExpressRoute 개인 피어 링 네트워크 연결의 hello 추가 확장할 수 있습니다 hello 온-프레미스 네트워크를 Azure로 안전 하 고 더 낮은 대기 시간, 높은 방식으로 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-581">hello addition of an ExpressRoute Private Peering network connection can extend hello on-premises network into Azure in a secure, lower latency, higher performing manner.</span></span> <span data-ttu-id="0c4d0-582">이 예제와 같이 네이티브 Azure 게이트웨이 (더 추가 제 3 자 NVAs와 마찬가지로 라이선스)는 필요한 저렴 한 비용 옵션을 제공 하는 또한 hello를 사용 하 여 합니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-582">Also, using hello native Azure Gateway, as in this example, provides a lower-cost option (no additional licensing as with third-party NVAs).</span></span> <span data-ttu-id="0c4d0-583">자세한 내용은 자세한 hello를 참조 하세요. 빌드 지침 (곧 출시 예정인).</span><span class="sxs-lookup"><span data-stu-id="0c4d0-583">For more information, see hello detailed build instructions (forthcoming).</span></span> <span data-ttu-id="0c4d0-584">이러한 지침에는 다음이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-584">These instructions include:</span></span>

* <span data-ttu-id="0c4d0-585">어떻게 toobuild이 예제에서는 경계 네트워크와 PowerShell 스크립트입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-585">How toobuild this example perimeter network with PowerShell scripts.</span></span>
* <span data-ttu-id="0c4d0-586">어떻게 toobuild Azure 리소스 관리자 템플릿 사용 하 여이 예제입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-586">How toobuild this example with an Azure Resource Manager template.</span></span>
* <span data-ttu-id="0c4d0-587">이 설계에서의 트래픽 흐름을 보여 주는 상세 트래픽 흐름 시나리오입니다.</span><span class="sxs-lookup"><span data-stu-id="0c4d0-587">Detailed traffic flow scenarios, showing how traffic flows through this design.</span></span>

## <a name="references"></a><span data-ttu-id="0c4d0-588">참조</span><span class="sxs-lookup"><span data-stu-id="0c4d0-588">References</span></span>
### <a name="helpful-websites-and-documentation"></a><span data-ttu-id="0c4d0-589">유용한 웹 사이트 및 설명서</span><span class="sxs-lookup"><span data-stu-id="0c4d0-589">Helpful websites and documentation</span></span>
* <span data-ttu-id="0c4d0-590">Azure Resource Manager를 사용한 Azure 액세스:</span><span class="sxs-lookup"><span data-stu-id="0c4d0-590">Access Azure with Azure Resource Manager:</span></span>
* <span data-ttu-id="0c4d0-591">PowerShell을 통한 Azure 액세스: [https://docs.microsoft.com/powershell/azureps-cmdlets-docs/](/powershell/azure/overview)</span><span class="sxs-lookup"><span data-stu-id="0c4d0-591">Accessing Azure with PowerShell: [https://docs.microsoft.com/powershell/azureps-cmdlets-docs/](/powershell/azure/overview)</span></span>
* <span data-ttu-id="0c4d0-592">가상 네트워킹 설명서: [https://docs.microsoft.com/azure/virtual-network/](https://docs.microsoft.com/azure/virtual-network/)</span><span class="sxs-lookup"><span data-stu-id="0c4d0-592">Virtual networking documentation: [https://docs.microsoft.com/azure/virtual-network/](https://docs.microsoft.com/azure/virtual-network/)</span></span>
* <span data-ttu-id="0c4d0-593">네트워크 보안 그룹 설명서: [https://docs.microsoft.com/azure/virtual-network/virtual-networks-nsg](virtual-network/virtual-networks-nsg.md)</span><span class="sxs-lookup"><span data-stu-id="0c4d0-593">Network security group documentation: [https://docs.microsoft.com/azure/virtual-network/virtual-networks-nsg](virtual-network/virtual-networks-nsg.md)</span></span>
* <span data-ttu-id="0c4d0-594">사용자 정의 라우팅 설명서: [https://docs.microsoft.com/azure/virtual-network/virtual-networks-udr-overview](virtual-network/virtual-networks-udr-overview.md)</span><span class="sxs-lookup"><span data-stu-id="0c4d0-594">User-defined routing documentation: [https://docs.microsoft.com/azure/virtual-network/virtual-networks-udr-overview](virtual-network/virtual-networks-udr-overview.md)</span></span>
* <span data-ttu-id="0c4d0-595">Azure 가상 게이트웨이: [https://docs.microsoft.com/azure/vpn-gateway/](https://docs.microsoft.com/azure/vpn-gateway/)</span><span class="sxs-lookup"><span data-stu-id="0c4d0-595">Azure virtual gateways: [https://docs.microsoft.com/azure/vpn-gateway/](https://docs.microsoft.com/azure/vpn-gateway/)</span></span>
* <span data-ttu-id="0c4d0-596">사이트 간 VPN: [https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-create-site-to-site-rm-powershell](vpn-gateway/vpn-gateway-create-site-to-site-rm-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="0c4d0-596">Site-to-Site VPNs: [https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-create-site-to-site-rm-powershell](vpn-gateway/vpn-gateway-create-site-to-site-rm-powershell.md)</span></span>
* <span data-ttu-id="0c4d0-597">Express 경로 설명서 (hello "시작" 및 "How To" 섹션 아웃 있는지 toocheck 수): [https://docs.microsoft.com/azure/expressroute/](https://docs.microsoft.com/azure/expressroute/)</span><span class="sxs-lookup"><span data-stu-id="0c4d0-597">ExpressRoute documentation (be sure toocheck out hello “Getting Started” and “How To” sections): [https://docs.microsoft.com/azure/expressroute/](https://docs.microsoft.com/azure/expressroute/)</span></span>

<!--Image References-->
[0]: ./media/best-practices-network-security/flowchart.png "보안 옵션 순서도"
[2]: ./media/best-practices-network-security/azuresecurityfeatures.png "Azure 보안 기능"
[3]: ./media/best-practices-network-security/dmzcorporate.png "회사 네트워크의 DMZ"
[4]: ./media/best-practices-network-security/azuresecurityarchitecture.png "Azure 보안 아키텍처"
[5]: ./media/best-practices-network-security/dmzazure.png "Azure Virtual Network의 DMZ"
[6]: ./media/best-practices-network-security/dmzhybrid.png "3개의 보안 경계가 있는 하이브리드 네트워크"
[7]: ./media/best-practices-network-security/example1design.png "NSG와 인바운드 DMZ"
[8]: ./media/best-practices-network-security/example2design.png "NVA 및 NSG와 인바운드 DMZ"
[9]: ./media/best-practices-network-security/example3design.png "NVA, NSG, UDR을 사용하는 양방향 DMZ"
[10]: ./media/best-practices-network-security/example3firewalllogical.png "hello 방화벽 규칙의 논리적 보기"
[11]: ./media/best-practices-network-security/example3designoptions.png "NVA 연결 하이브리드 네트워크가 있는 DMZ"
[12]: ./media/best-practices-network-security/example4designs2s.png "사이트 간 VPN을 통해 연결된 NVA가 있는 DMZ"
[13]: ./media/best-practices-network-security/example4networklogical.png "NVA 관점에서의 논리적 네트워크"
[14]: ./media/best-practices-network-security/example5designoptions.png "사이트 간 하이브리드 네트워크를 통해 Azure 게이트웨이에 연결된 DMZ"
[15]: ./media/best-practices-network-security/example5designs2s.png "사이트 간 VPN을 사용하는 Azure 게이트웨이가 있는 DMZ"
[16]: ./media/best-practices-network-security/example6designoptions.png "Azure 게이트웨이 연결 Express 경로 하이브리드 네트워크가 있는 DMZ"
[17]: ./media/best-practices-network-security/example6designexpressroute.png "Express 경로 연결을 사용하는 Azure 게이트웨이가 있는 DMZ"

<!--Link References-->
[TrustCenter]: https://azure.microsoft.com/support/trust-center/compliance/
[Example1]: ./virtual-network/virtual-networks-dmz-nsg.md
[Example2]: ./virtual-network/virtual-networks-dmz-nsg-fw-asm.md
[Example3]: ./virtual-network/virtual-networks-dmz-nsg-fw-udr-asm.md
[Example4]: ./virtual-network/virtual-networks-hybrid-s2s-nva-asm.md
[Example5]: ./virtual-network/virtual-networks-hybrid-s2s-agw-asm.md
[Example6]: ./virtual-network/virtual-networks-hybrid-expressroute-asm.md
[Example7]: ./virtual-network/virtual-networks-vnet2vnet-direct-asm.md
[Example8]: ./virtual-network/virtual-networks-vnet2vnet-transit-asm.md
