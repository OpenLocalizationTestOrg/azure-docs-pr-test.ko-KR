---
title: "Azure Application Gateway를 사용하는 다중 테넌트 백 엔드 개요 | Microsoft Docs"
description: "이 페이지에서는 다중 테넌트 백 엔드에 대한 Application Gateway 지원의 개요를 제공합니다."
documentationcenter: na
services: application-gateway
author: georgewallace
manager: timlt
editor: 
ms.service: application-gateway
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/26/2017
ms.author: gwallace
ms.openlocfilehash: d944904db5b0bf176b214249ad59611e2b794ae0
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/29/2017
---
# <a name="application-gateway-support-for-multi-tenant-back-ends"></a><span data-ttu-id="8148d-103">Application Gateway는 다중 테넌트 백 엔드를 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="8148d-103">Application Gateway support for multi-tenant back ends</span></span>

<span data-ttu-id="8148d-104">Azure Application Gateway는 가상 컴퓨터 확장 집합, 네트워크 인터페이스, 공개/개인 IP 또는 FQDN(정규화된 도메인 이름)을 백 엔드 풀의 일부로 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="8148d-104">Azure Application Gateway supports virtual machine scale sets, network interfaces, public/private IP, or fully qualified domain name (FQDN) as part of its back end pools.</span></span> <span data-ttu-id="8148d-105">기본적으로 응용 프로그램 게이트웨이는 클라이언트에서 들어오는 HTTP 호스트 헤더를 변경하지 않으며 변경되지 않은 헤더를 백 엔드로 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="8148d-105">By default, application gateway does not change the incoming HTTP host header from the client and sends the header unaltered to the back end.</span></span> <span data-ttu-id="8148d-106">[Azure Web Apps](../app-service-web/app-service-web-overview.md) 및 [API Management](../api-management/api-management-key-concepts.md)처럼 기본적으로 다중 테넌트이고 특정 호스트 헤더 또는 SNI 확장을 사용하여 올바른 끝점을 확인하는 여러 서비스가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8148d-106">There are many services like [Azure Web Apps](../app-service-web/app-service-web-overview.md) and [API Management](../api-management/api-management-key-concepts.md) that are multi-tenant in nature and rely on a specific host header or SNI extension to resolve to the correct endpoint.</span></span> <span data-ttu-id="8148d-107">이제 Application Gateway는 사용자가 백 엔드 HTTP 설정에 따라 들어오는 HTTP 호스트 헤더를 덮어쓰는 기능을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="8148d-107">Application Gateway now supports the ability for users to overwrite the incoming HTTP host header based on the back end HTTP settings.</span></span> <span data-ttu-id="8148d-108">이 기능을 사용하면 다중 테넌트 백 엔드 Azure 웹앱 및 API 관리를 지원할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8148d-108">This capability enables support for multi-tenant back ends Azure web apps and API management.</span></span> <span data-ttu-id="8148d-109">이 기능은 표준 및 WAF SKU에 모두 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="8148d-109">This capability is available for both the standard and WAF SKU.</span></span> <span data-ttu-id="8148d-110">다중 테넌트 백 엔드 지원은 SSL 종료 및 종단 간 SSL 시나리오에서도 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="8148d-110">Multi-tenant back end support also works with SSL termination and end to end SSL scenarios.</span></span>

![웹앱 시나리오](./media/application-gateway-web-app-overview/scenario.png)

<span data-ttu-id="8148d-112">호스트 재정의를 지정하는 기능은 HTTP 설정에서 정의되며 규칙을 만드는 동안 모든 백 엔드 풀에 적용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8148d-112">The ability to specify a host override is defined at the HTTP settings and can be applied to any back end pool during rule creation.</span></span> <span data-ttu-id="8148d-113">다중 테넌트 백 엔드는 호스트 헤더 및 SNI 확장을 재정의하는 다음과 같은 두 가지 방법을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="8148d-113">Multi-tenant back ends support the following two ways of overriding host header and SNI extension.</span></span>

1. <span data-ttu-id="8148d-114">호스트 이름을 HTTP 설정에서 고정된 값으로 설정하는 기능.</span><span class="sxs-lookup"><span data-stu-id="8148d-114">The ability to set the host name to a fixed value in the HTTP settings.</span></span> <span data-ttu-id="8148d-115">이 기능을 사용하면 HTTP 설정이 적용되는 백 엔드 풀의 모든 트래픽에서 호스트 헤더가 이 값으로 재정의됩니다.</span><span class="sxs-lookup"><span data-stu-id="8148d-115">This capability ensures that the host header is overridden to this value for all traffic to the back end pool where the HTTP settings are applied.</span></span> <span data-ttu-id="8148d-116">종단 간 SSL을 사용하면 이 재정의된 호스트 이름이 SNI 확장에 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="8148d-116">When using end to end SSL, this overridden host name is used in the SNI extension.</span></span> <span data-ttu-id="8148d-117">이 기능은 백 엔드 풀 팜이 들어오는 고객 호스트 헤더와 다른 호스트 헤더를 예상하는 시나리오를 지원할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8148d-117">This capability enables scenarios where a back end pool farm expects a host header that is different from the incoming customer host header.</span></span>

2. <span data-ttu-id="8148d-118">백 엔드 풀 멤버의 IP 또는 FQDN에서 호스트 이름을 파생하는 기능.</span><span class="sxs-lookup"><span data-stu-id="8148d-118">The ability to derive the host name from the IP or FQDN of the back end pool members.</span></span> <span data-ttu-id="8148d-119">HTTP 설정은 개별 백 엔드 풀 멤버에서 호스트 이름을 파생하는 옵션을 사용하여 구성할 경우 백 엔드 풀 멤버의 FQDN에서 호스트 이름을 선택하는 옵션도 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="8148d-119">HTTP settings also provide an option to pick the host name from a back end pool member's FQDN if configured with the option to derive host name from an individual back end pool member.</span></span> <span data-ttu-id="8148d-120">종단 간 SSL을 사용하면 이 호스트 이름이 FQDN에서 파생되며 SNI 확장에 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="8148d-120">When using end to end SSL, this host name is derived from the FQDN and is used in the SNI extension.</span></span> <span data-ttu-id="8148d-121">이 기능을 사용하면 백 엔드 풀이 Azure 웹앱 같은 다중 테넌트 PaaS 서비스를 두 개 이상 가질 수 있고 각 멤버에 대한 요청의 호스트 헤더에 FQDN에서 파생된 호스트 이름이 포함되는 시나리오를 지원할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8148d-121">This capability enables scenarios where a back end pool can have two or more multi-tenant PaaS services like Azure web apps and the request's host header to each member contains the host name derived from its FQDN.</span></span>

> [!NOTE]
> <span data-ttu-id="8148d-122">위의 두 사례 모두에서 설정은 실시간 트래픽 동작에만 영향을 주고 상태 프로브 동작에는 영향을 주지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="8148d-122">In both of the preceding cases the settings only affect the live traffic behavior and not the health probe behavior.</span></span> <span data-ttu-id="8148d-123">사용자 지정 프로브는 이미 프로브 구성에서 호스트 헤더를 지정하는 기능을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="8148d-123">Custom probes already support the ability to specify a host header in the probe configuration.</span></span> <span data-ttu-id="8148d-124">이제 사용자 지정 프로브는 현재 구성된 HTTP 설정에서 호스트 헤더 동작을 파생하는 기능도 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="8148d-124">Custom probes now also support the ability to derive the host header behavior from the currently configured HTTP settings.</span></span> <span data-ttu-id="8148d-125">이 구성은 프로브 구성의 `PickHostNameFromback endAddress` 매개 변수를 사용하여 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8148d-125">This configuration can be specified by using the `PickHostNameFromback endAddress` parameter in the probe configuration.</span></span> <span data-ttu-id="8148d-126">종단 간 기능이 작동하려면 올바른 구성을 반영하도록 프로브와 HTTP 설정을 모두 수정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="8148d-126">For end to end functionality to work, both the probe and the HTTP settings must be modified to reflect the correct configuration.</span></span>

<span data-ttu-id="8148d-127">이 기능을 사용하여 고객이 HTTP 설정 및 사용자 지정 프로브의 옵션을 적절한 구성으로 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="8148d-127">With this capability, customers specify the options in the HTTP settings and custom probes to the appropriate configuration.</span></span> <span data-ttu-id="8148d-128">그러면 규칙을 사용하여 이 설정이 수신기와 백 엔드 풀에 연결됩니다.</span><span class="sxs-lookup"><span data-stu-id="8148d-128">This setting is then tied to a listener and a back end pool by using a rule.</span></span>

## <a name="next-steps"></a><span data-ttu-id="8148d-129">다음 단계</span><span class="sxs-lookup"><span data-stu-id="8148d-129">Next steps</span></span>

<span data-ttu-id="8148d-130">[Application Gateway를 사용하여 App Service Web Apps 구성](application-gateway-web-app-powershell.md)을 방문하여 웹앱을 백 엔드 풀 멤버로 사용하여 응용 프로그램 게이트웨이를 설정하는 방법을 알아봅니다.</span><span class="sxs-lookup"><span data-stu-id="8148d-130">Learn how to set up an application gateway with a web app as a back end pool member by visiting: [Configure App Service web apps with Application Gateway](application-gateway-web-app-powershell.md)</span></span>
