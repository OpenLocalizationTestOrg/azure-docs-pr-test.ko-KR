---
title: "Azure 응용 프로그램 게이트웨이 aaaIntroduction tooweb 응용 프로그램 방화벽 (WAF) | Microsoft Docs"
description: "이 페이지에서는 Application Gateway용 WAF(웹 응용 프로그램 방화벽)의 개요를 제공합니다."
documentationcenter: na
services: application-gateway
author: amsriva
manager: rossort
editor: amsriva
ms.assetid: 04b362bc-6653-4765-86f6-55ee8ec2a0ff
ms.service: application-gateway
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/03/2017
ms.author: amsriva
ms.openlocfilehash: 5a42ce0fb2bd12a391844099e2de8fa2571195e6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="web-application-firewall-waf"></a><span data-ttu-id="10e3d-103">WAF(웹 응용 프로그램 방화벽)</span><span class="sxs-lookup"><span data-stu-id="10e3d-103">Web application firewall (WAF)</span></span>

<span data-ttu-id="10e3d-104">WAF(웹 응용 프로그램 방화벽)는 일반적인 악용 및 취약점으로부터 웹 응용 프로그램에 대해 중앙 집중화된 보호를 제공하는 Application Gateway의 기능입니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-104">Web application firewall (WAF) is a feature of Application Gateway that provides centralized protection of your web applications from common exploits and vulnerabilities.</span></span> 

<span data-ttu-id="10e3d-105">웹 응용 프로그램 방화벽 hello에서 규칙을 기반 [OWASP 코어 규칙 집합](https://www.owasp.org/index.php/Category:OWASP_ModSecurity_Core_Rule_Set_Project) 3.0 또는 2.2.9 퀵 합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-105">Web application firewall is based on rules from hello [OWASP core rule sets](https://www.owasp.org/index.php/Category:OWASP_ModSecurity_Core_Rule_Set_Project) 3.0 or 2.2.9.</span></span> <span data-ttu-id="10e3d-106">웹 응용 프로그램의 널리 알려진 취약점을 악용하는 악의적인 공격이 점점 많아지고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-106">Web applications are increasingly targets of malicious attacks that exploit common known vulnerabilities.</span></span> <span data-ttu-id="10e3d-107">이러한 익스플로잇 간에 공통적으로 적용은 SQL 삽입 공격, tooname 몇 가지 공격 교차 사이트 스크립팅 합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-107">Common among these exploits are SQL injection attacks, cross site scripting attacks tooname a few.</span></span> <span data-ttu-id="10e3d-108">응용 프로그램 코드에서 이러한 공격 방지 하기가 어려울 수 있습니다 및 엄격한 유지 관리, 패치 및 hello 응용 프로그램 토폴로지의 여러 계층에서 모니터링 해야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-108">Preventing such attacks in application code can be challenging and may require rigorous maintenance, patching and monitoring at multiple layers of hello application topology.</span></span> <span data-ttu-id="10e3d-109">중앙 집중식된 웹 응용 프로그램 방화벽은 보안 관리를 훨씬 더 간단 하 게 하면 하 고 더 나은 보증 위협 또는 침입 tooapplication 관리자를 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-109">A centralized web application firewall helps make security management much simpler and gives better assurance tooapplication administrators against threats or intrusions.</span></span> <span data-ttu-id="10e3d-110">WAF 솔루션와 각각의 개별 웹 응용 프로그램 보안을 중앙 위치에서 알려진된 취약점의 패치를 적용 하 여 tooa 보안 위협이 더 빠르게 반응 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-110">A WAF solution can also react tooa security threat faster by patching a known vulnerability at a central location versus securing each of individual web applications.</span></span> <span data-ttu-id="10e3d-111">기존 응용 프로그램 게이트웨이 변환 된 tooa 웹 응용 프로그램 방화벽을 사용 응용 프로그램 게이트웨이 쉽게 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-111">Existing application gateways can be converted tooa web application firewall enabled application gateway easily.</span></span>

![imageURLroute](./media/application-gateway-web-application-firewall-overview/WAF1.png)

<span data-ttu-id="10e3d-113">응용 프로그램 게이트웨이 여러 웹 사이트 및 보안 향상 된 기능은 응용 프로그램 배달 컨트롤러 및 제안 SSL 종료, 쿠키 기반 세션 선호도, 라운드 로빈 부하 분산, 콘텐츠 기반 라우팅, 기능 toohost로 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-113">Application Gateway operates as an application delivery controller and offers SSL termination, cookie-based session affinity, round-robin load distribution, content-based routing, ability toohost multiple websites and security enhancements.</span></span> <span data-ttu-id="10e3d-114">응용 프로그램 게이트웨이에서 제공 하는 향상 된 보안 SSL 정책 관리, SSL 지원 끝 tooend 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-114">Security enhancements offered by Application Gateway include SSL policy management, end tooend SSL support.</span></span> <span data-ttu-id="10e3d-115">응용 프로그램 보안은 이제 WAF (웹 응용 프로그램 방화벽) hello ADC 서비스에 직접 통합 하 여 강화 됩니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-115">Application security is now strengthened by WAF (web application firewall) being directly integrated into hello ADC offering.</span></span> <span data-ttu-id="10e3d-116">쉽게 tooconfigure 중앙 위치 toomanage를 제공할 수 있으며 일반적인 웹 취약점 으로부터 웹 응용 프로그램을 보호 합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-116">This provides an easy tooconfigure central location toomanage and protect your web applications against common web vulnerabilities.</span></span>

## <a name="benefits"></a><span data-ttu-id="10e3d-117">이점</span><span class="sxs-lookup"><span data-stu-id="10e3d-117">Benefits</span></span>

<span data-ttu-id="10e3d-118">hello 다음은 응용 프로그램 게이트웨이 및 웹 응용 프로그램 방화벽 제공 하는 hello 핵심적인 이점입니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-118">hello following are hello core benefits that Application Gateway and web application firewall provide:</span></span>

### <a name="protection"></a><span data-ttu-id="10e3d-119">보호</span><span class="sxs-lookup"><span data-stu-id="10e3d-119">Protection</span></span>

* <span data-ttu-id="10e3d-120">웹 응용 프로그램 웹 취약점 및 toobackend 코드를 수정 하지 않고 공격 으로부터 보호 합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-120">Protect your web application from web vulnerabilities and attacks without modification toobackend code.</span></span>

* <span data-ttu-id="10e3d-121">보호 여러 웹 응용 프로그램 게이트웨이 뒤 시간이 hello에서 응용 프로그램입니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-121">Protect multiple web applications at hello same time behind an application gateway.</span></span> <span data-ttu-id="10e3d-122">응용 프로그램 게이트웨이 호스팅 WAF와 웹 공격 으로부터 보호 되어야 수 있는 단일 게이트웨이 뒤 too20 웹 사이트를 지원 합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-122">Application gateway supports hosting up too20 websites behind a single gateway that could all be protected against web attacks with WAF.</span></span>

### <a name="monitoring"></a><span data-ttu-id="10e3d-123">모니터링</span><span class="sxs-lookup"><span data-stu-id="10e3d-123">Monitoring</span></span>

* <span data-ttu-id="10e3d-124">실시간 WAF 로그를 사용하여 공격으로부터 웹 응용 프로그램을 모니터링합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-124">Monitor your web application against attacks using a real-time WAF log.</span></span> <span data-ttu-id="10e3d-125">이 로그와 통합 되어 [Azure 모니터](../monitoring-and-diagnostics/monitoring-overview.md) tootrack WAF 경고 기록 및 쉽게 추세를 모니터링 합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-125">This log is integrated with [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md) tootrack WAF alerts and logs and easily monitor trends.</span></span>

* <span data-ttu-id="10e3d-126">WAF는 곧 Azure Security Center와 통합됩니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-126">WAF will be integrated with Azure Security Center soon.</span></span> <span data-ttu-id="10e3d-127">Azure 보안 센터 모든 Azure 리소스의 hello 보안 상태를 전반적으로 살펴볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-127">Azure Security Center allows for a central view of hello security state of all your Azure resources.</span></span>

### <a name="customization"></a><span data-ttu-id="10e3d-128">사용자 지정</span><span class="sxs-lookup"><span data-stu-id="10e3d-128">Customization</span></span>

* <span data-ttu-id="10e3d-129">hello 기능 toocustomize WAF 규칙 및 규칙에는 응용 프로그램 요구 사항 toosuit를 그룹화 하 고 거짓 긍정 제거.</span><span class="sxs-lookup"><span data-stu-id="10e3d-129">hello ability toocustomize WAF rules and rule groups toosuit your application requirements and eliminate false positives.</span></span>

## <a name="features"></a><span data-ttu-id="10e3d-130">기능</span><span class="sxs-lookup"><span data-stu-id="10e3d-130">Features</span></span>

<span data-ttu-id="10e3d-131">웹 응용 프로그램 방화벽 기본적으로 미리 구성 된 CRS 3.0 제공 되는지, 아니면 toouse 2.2.9 퀵을 선택할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-131">Web application firewall comes preconfigured with CRS 3.0 by default or you can choose toouse 2.2.9.</span></span> <span data-ttu-id="10e3d-132">CRS 3.0 제품은 2.2.9를 통해 거짓 긍정을 줄입니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-132">CRS 3.0 offers reduced false positives over 2.2.9.</span></span> <span data-ttu-id="10e3d-133">기능을 너무 hello[규칙 toosuit 요구에 맞게 사용자 지정](application-gateway-customize-waf-rules-portal.md) 제공 됩니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-133">hello ability too[customize rules toosuit your needs](application-gateway-customize-waf-rules-portal.md) is provided.</span></span> <span data-ttu-id="10e3d-134">Hello 일반적인 웹 취약점 으로부터 보호 하는 웹 응용 프로그램 방화벽 중 일부에 다음이 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-134">Some of hello common web vulnerabilities which web application firewall protects against includes:</span></span>

* <span data-ttu-id="10e3d-135">SQL 삽입 공격 보호</span><span class="sxs-lookup"><span data-stu-id="10e3d-135">SQL injection protection</span></span>
* <span data-ttu-id="10e3d-136">교차 사이트 스크립팅 공격 보호</span><span class="sxs-lookup"><span data-stu-id="10e3d-136">Cross site scripting protection</span></span>
* <span data-ttu-id="10e3d-137">명령 삽입, HTTP 요청 밀반입, HTTP 응답 분할, 원격 파일 포함 공격 등의 일반 웹 공격 보호</span><span class="sxs-lookup"><span data-stu-id="10e3d-137">Common Web Attacks Protection such as command injection, HTTP request smuggling, HTTP response splitting, and remote file inclusion attack</span></span>
* <span data-ttu-id="10e3d-138">HTTP 프로토콜 위반 보호</span><span class="sxs-lookup"><span data-stu-id="10e3d-138">Protection against HTTP protocol violations</span></span>
* <span data-ttu-id="10e3d-139">누락된 호스트 사용자-에이전트 및 수락 헤더 같은 HTTP 프로토콜 이상 보호</span><span class="sxs-lookup"><span data-stu-id="10e3d-139">Protection against HTTP protocol anomalies such as missing host user-agent and accept headers</span></span>
* <span data-ttu-id="10e3d-140">보트, 크롤러 및 스캐너 방지</span><span class="sxs-lookup"><span data-stu-id="10e3d-140">Prevention against bots, crawlers, and scanners</span></span>
* <span data-ttu-id="10e3d-141">일반적인 응용 프로그램 구성 오류(예: Apache, IIS 등) 검색</span><span class="sxs-lookup"><span data-stu-id="10e3d-141">Detection of common application misconfigurations (i.e. Apache, IIS, etc.)</span></span>

<span data-ttu-id="10e3d-142">해당 보호 및 더 자세한 규칙 목록이 참조 hello 다음 [규칙 집합 핵심](#core-rule-sets)합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-142">For a more detailed list of rules and their protections see hello following [Core rule sets](#core-rule-sets).</span></span>

### <a name="core-rule-sets"></a><span data-ttu-id="10e3d-143">핵심 규칙 집합</span><span class="sxs-lookup"><span data-stu-id="10e3d-143">Core rule sets</span></span>

<span data-ttu-id="10e3d-144">Application Gateway는 CRS 3.0 및 CRS 2.2.9라는 두 개의 규칙 집합을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-144">Application Gateway supports two rule sets, CRS 3.0, and CRS 2.2.9.</span></span> <span data-ttu-id="10e3d-145">이러한 핵심 규칙 집합은 악의적인 활동으로부터 웹 응용 프로그램을 보호하는 규칙의 컬렉션입니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-145">These core rules sets are collections of rules that protect your web applications for malicious activity.</span></span>

#### <a name="owasp30"></a><span data-ttu-id="10e3d-146">OWASP_3.0</span><span class="sxs-lookup"><span data-stu-id="10e3d-146">OWASP_3.0</span></span>

<span data-ttu-id="10e3d-147">다음 표에 hello와 같이 제공 된 hello 3.0 코어 규칙 집합에 13 규칙 그룹이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-147">hello 3.0 core rule set provided has 13 rule groups as shown in hello following table.</span></span> <span data-ttu-id="10e3d-148">이러한 규칙 그룹은 각각 비활성화할 수 있는 여러 개의 규칙을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-148">Each of these rule groups contains multiple rules, which can be disabled.</span></span>

|<span data-ttu-id="10e3d-149">RuleGroup</span><span class="sxs-lookup"><span data-stu-id="10e3d-149">RuleGroup</span></span>|<span data-ttu-id="10e3d-150">설명</span><span class="sxs-lookup"><span data-stu-id="10e3d-150">Description</span></span>|
|---|---|
|<span data-ttu-id="10e3d-151">**[REQUEST-910-IP-REPUTATION](application-gateway-crs-rulegroups-rules.md#crs910)**</span><span class="sxs-lookup"><span data-stu-id="10e3d-151">**[REQUEST-910-IP-REPUTATION](application-gateway-crs-rulegroups-rules.md#crs910)**</span></span>|<span data-ttu-id="10e3d-152">알려진된 스팸 또는 악의적인 활동에 대해 규칙 tooprotect 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-152">Contains rules tooprotect against known spammers or malicious activity.</span></span>|
|<span data-ttu-id="10e3d-153">**[REQUEST-911-METHOD-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs911)**</span><span class="sxs-lookup"><span data-stu-id="10e3d-153">**[REQUEST-911-METHOD-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs911)**</span></span>|<span data-ttu-id="10e3d-154">포함 규칙 toolock 다운 메서드에서 (PUT, PATCH <..)</span><span class="sxs-lookup"><span data-stu-id="10e3d-154">Contains rules toolock down methods (PUT, PATCH< ..)</span></span>|
|<span data-ttu-id="10e3d-155">**[REQUEST-912-DOS-PROTECTION](application-gateway-crs-rulegroups-rules.md#crs912)**</span><span class="sxs-lookup"><span data-stu-id="10e3d-155">**[REQUEST-912-DOS-PROTECTION](application-gateway-crs-rulegroups-rules.md#crs912)**</span></span>| <span data-ttu-id="10e3d-156">서비스 거부 (DoS) 공격에 대 한 규칙 tooprotect 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-156">Contains rules tooprotect against Denial of Service (DoS) attacks.</span></span>|
|<span data-ttu-id="10e3d-157">**[REQUEST-913-SCANNER-DETECTION](application-gateway-crs-rulegroups-rules.md#crs913)**</span><span class="sxs-lookup"><span data-stu-id="10e3d-157">**[REQUEST-913-SCANNER-DETECTION](application-gateway-crs-rulegroups-rules.md#crs913)**</span></span>| <span data-ttu-id="10e3d-158">포트 및 환경 스캐너에 대 한 규칙 tooprotect 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-158">Contains rules tooprotect against port and environment scanners.</span></span>|
|<span data-ttu-id="10e3d-159">**[REQUEST-920-PROTOCOL-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs920)**</span><span class="sxs-lookup"><span data-stu-id="10e3d-159">**[REQUEST-920-PROTOCOL-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs920)**</span></span>|<span data-ttu-id="10e3d-160">프로토콜 및 인코딩 문제에 대 한 규칙 tooprotect 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-160">Contains rules tooprotect against protocol and encoding issues.</span></span>|
|<span data-ttu-id="10e3d-161">**[REQUEST-921-PROTOCOL-ATTACK](application-gateway-crs-rulegroups-rules.md#crs921)**</span><span class="sxs-lookup"><span data-stu-id="10e3d-161">**[REQUEST-921-PROTOCOL-ATTACK](application-gateway-crs-rulegroups-rules.md#crs921)**</span></span>|<span data-ttu-id="10e3d-162">헤더 주입, smuggling, 요청 및 응답 분할에 대 한 규칙 tooprotect 포함</span><span class="sxs-lookup"><span data-stu-id="10e3d-162">Contains rules tooprotect against header injection, request smuggling, and response splitting</span></span>|
|<span data-ttu-id="10e3d-163">**[REQUEST-930-APPLICATION-ATTACK-LFI](application-gateway-crs-rulegroups-rules.md#crs930)**</span><span class="sxs-lookup"><span data-stu-id="10e3d-163">**[REQUEST-930-APPLICATION-ATTACK-LFI](application-gateway-crs-rulegroups-rules.md#crs930)**</span></span>|<span data-ttu-id="10e3d-164">파일 및 경로 공격에 대 한 규칙 tooprotect 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-164">Contains rules tooprotect against file and path attacks.</span></span>|
|<span data-ttu-id="10e3d-165">**[REQUEST-931-APPLICATION-ATTACK-RFI](application-gateway-crs-rulegroups-rules.md#crs931)**</span><span class="sxs-lookup"><span data-stu-id="10e3d-165">**[REQUEST-931-APPLICATION-ATTACK-RFI](application-gateway-crs-rulegroups-rules.md#crs931)**</span></span>|<span data-ttu-id="10e3d-166">포함 규칙 tooprotect에 대해 포함 RFI (Remote File)</span><span class="sxs-lookup"><span data-stu-id="10e3d-166">Contains rules tooprotect against Remote File Inclusion (RFI)</span></span>|
|<span data-ttu-id="10e3d-167">**[REQUEST-932-APPLICATION-ATTACK-RCE](application-gateway-crs-rulegroups-rules.md#crs932)**</span><span class="sxs-lookup"><span data-stu-id="10e3d-167">**[REQUEST-932-APPLICATION-ATTACK-RCE](application-gateway-crs-rulegroups-rules.md#crs932)**</span></span>|<span data-ttu-id="10e3d-168">포함 규칙 tooprotect 다시 한 원격 코드 실행 합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-168">Contains rules tooprotect again Remote Code Execution.</span></span>|
|<span data-ttu-id="10e3d-169">**[REQUEST-933-APPLICATION-ATTACK-PHP](application-gateway-crs-rulegroups-rules.md#crs933)**</span><span class="sxs-lookup"><span data-stu-id="10e3d-169">**[REQUEST-933-APPLICATION-ATTACK-PHP](application-gateway-crs-rulegroups-rules.md#crs933)**</span></span>|<span data-ttu-id="10e3d-170">규칙 tooprotect PHP 삽입 공격을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-170">Contains rules tooprotect against PHP injection attacks.</span></span>|
|<span data-ttu-id="10e3d-171">**[REQUEST-941-APPLICATION-ATTACK-XSS](application-gateway-crs-rulegroups-rules.md#crs941)**</span><span class="sxs-lookup"><span data-stu-id="10e3d-171">**[REQUEST-941-APPLICATION-ATTACK-XSS](application-gateway-crs-rulegroups-rules.md#crs941)**</span></span>|<span data-ttu-id="10e3d-172">사이트 간 스크립팅으로부터 보호하기 위한 규칙을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-172">Contains rules for protecting against cross site scripting.</span></span>|
|<span data-ttu-id="10e3d-173">**[REQUEST-942-APPLICATION-ATTACK-SQLI](application-gateway-crs-rulegroups-rules.md#crs942)**</span><span class="sxs-lookup"><span data-stu-id="10e3d-173">**[REQUEST-942-APPLICATION-ATTACK-SQLI](application-gateway-crs-rulegroups-rules.md#crs942)**</span></span>|<span data-ttu-id="10e3d-174">SQL 주입 공격으로부터 보호하기 위한 규칙을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-174">Contains rules for protecting against SQL injection attacks.</span></span>|
|<span data-ttu-id="10e3d-175">**[REQUEST-943-APPLICATION-ATTACK-SESSION-FIXATION](application-gateway-crs-rulegroups-rules.md#crs943)**</span><span class="sxs-lookup"><span data-stu-id="10e3d-175">**[REQUEST-943-APPLICATION-ATTACK-SESSION-FIXATION](application-gateway-crs-rulegroups-rules.md#crs943)**</span></span>|<span data-ttu-id="10e3d-176">세션 고정 공격에 대 한 규칙 tooprotect 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-176">Contains rules tooprotect against Session Fixation Attacks.</span></span>|

#### <a name="owasp229"></a><span data-ttu-id="10e3d-177">OWASP_2.2.9</span><span class="sxs-lookup"><span data-stu-id="10e3d-177">OWASP_2.2.9</span></span>

<span data-ttu-id="10e3d-178">제공 된 hello 2.2.9 퀵 코어 규칙 집합 hello 다음 표에서 같이 10 규칙 그룹에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-178">hello 2.2.9 core rule set provided has 10 rule groups as shown in hello following table.</span></span> <span data-ttu-id="10e3d-179">이러한 규칙 그룹은 각각 비활성화할 수 있는 여러 개의 규칙을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-179">Each of these rule groups contains multiple rules, which can be disabled.</span></span>

|<span data-ttu-id="10e3d-180">RuleGroup</span><span class="sxs-lookup"><span data-stu-id="10e3d-180">RuleGroup</span></span>|<span data-ttu-id="10e3d-181">설명</span><span class="sxs-lookup"><span data-stu-id="10e3d-181">Description</span></span>|
|---|---|
|<span data-ttu-id="10e3d-182">**[crs_20_protocol_violations](application-gateway-crs-rulegroups-rules.md#crs20)**</span><span class="sxs-lookup"><span data-stu-id="10e3d-182">**[crs_20_protocol_violations](application-gateway-crs-rulegroups-rules.md#crs20)**</span></span>|<span data-ttu-id="10e3d-183">프로토콜 위반 (잘못 된 문자를 요청 본문 등과 함께 GET.)에 대 한 규칙 tooprotect 포함</span><span class="sxs-lookup"><span data-stu-id="10e3d-183">Contains rules tooprotect against protocol violations (invalid characters, GET with a request body, etc.)</span></span>|
|<span data-ttu-id="10e3d-184">**[crs_21_protocol_anomalies](application-gateway-crs-rulegroups-rules.md#crs21)**</span><span class="sxs-lookup"><span data-stu-id="10e3d-184">**[crs_21_protocol_anomalies](application-gateway-crs-rulegroups-rules.md#crs21)**</span></span>|<span data-ttu-id="10e3d-185">잘못 된 헤더 정보에 대 한 규칙 tooprotect 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-185">Contains rules tooprotect against incorrect header information.</span></span>|
|<span data-ttu-id="10e3d-186">**[crs_23_request_limits](application-gateway-crs-rulegroups-rules.md#crs23)**</span><span class="sxs-lookup"><span data-stu-id="10e3d-186">**[crs_23_request_limits](application-gateway-crs-rulegroups-rules.md#crs23)**</span></span>|<span data-ttu-id="10e3d-187">형식 정의 나 한계를 초과 하는 파일에 대 한 규칙 tooprotect 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-187">Contains rules tooprotect against arguments or files that exceed limitations.</span></span>|
|<span data-ttu-id="10e3d-188">**[crs_30_http_policy](application-gateway-crs-rulegroups-rules.md#crs30)**</span><span class="sxs-lookup"><span data-stu-id="10e3d-188">**[crs_30_http_policy](application-gateway-crs-rulegroups-rules.md#crs30)**</span></span>|<span data-ttu-id="10e3d-189">제한 된 메서드, 헤더 및 파일 형식에 대해 규칙 tooprotect 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-189">Contains rules tooprotect against restricted methods, headers, and file types.</span></span> |
|<span data-ttu-id="10e3d-190">**[crs_35_bad_robots](application-gateway-crs-rulegroups-rules.md#crs35)**</span><span class="sxs-lookup"><span data-stu-id="10e3d-190">**[crs_35_bad_robots](application-gateway-crs-rulegroups-rules.md#crs35)**</span></span>|<span data-ttu-id="10e3d-191">웹 크롤러 및 스캐너에 대 한 규칙 tooprotect 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-191">Contains rules tooprotect against web crawlers and scanners.</span></span>|
|<span data-ttu-id="10e3d-192">**[crs_40_generic_attacks](application-gateway-crs-rulegroups-rules.md#crs40)**</span><span class="sxs-lookup"><span data-stu-id="10e3d-192">**[crs_40_generic_attacks](application-gateway-crs-rulegroups-rules.md#crs40)**</span></span>|<span data-ttu-id="10e3d-193">제네릭 공격 (고정 세션, 원격 파일 포함, PHP 주입 등)에 대 한 규칙 tooprotect 포함</span><span class="sxs-lookup"><span data-stu-id="10e3d-193">Contains rules tooprotect against generic attacks (session fixation, remote file inclusion, PHP injection, etc.)</span></span>|
|<span data-ttu-id="10e3d-194">**[crs_41_sql_injection_attacks](application-gateway-crs-rulegroups-rules.md#crs41sql)**</span><span class="sxs-lookup"><span data-stu-id="10e3d-194">**[crs_41_sql_injection_attacks](application-gateway-crs-rulegroups-rules.md#crs41sql)**</span></span>|<span data-ttu-id="10e3d-195">SQL 삽입 공격 으로부터 규칙 tooprotect 포함</span><span class="sxs-lookup"><span data-stu-id="10e3d-195">Contains rules tooprotect against SQL injection attacks</span></span>|
|<span data-ttu-id="10e3d-196">**[crs_41_xss_attacks](application-gateway-crs-rulegroups-rules.md#crs41xss)**</span><span class="sxs-lookup"><span data-stu-id="10e3d-196">**[crs_41_xss_attacks](application-gateway-crs-rulegroups-rules.md#crs41xss)**</span></span>|<span data-ttu-id="10e3d-197">교차 사이트 스크립팅 으로부터 규칙 tooprotect 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-197">Contains rules tooprotect against cross site scripting.</span></span>|
|<span data-ttu-id="10e3d-198">**[crs_42_tight_security](application-gateway-crs-rulegroups-rules.md#crs42)**</span><span class="sxs-lookup"><span data-stu-id="10e3d-198">**[crs_42_tight_security](application-gateway-crs-rulegroups-rules.md#crs42)**</span></span>|<span data-ttu-id="10e3d-199">경로 탐색 공격에 대 한 규칙 tooprotect 포함</span><span class="sxs-lookup"><span data-stu-id="10e3d-199">Contains a rule tooprotect against path traversal attacks</span></span>|
|<span data-ttu-id="10e3d-200">**[crs_45_trojans](application-gateway-crs-rulegroups-rules.md#crs45)**</span><span class="sxs-lookup"><span data-stu-id="10e3d-200">**[crs_45_trojans](application-gateway-crs-rulegroups-rules.md#crs45)**</span></span>|<span data-ttu-id="10e3d-201">백도어 트로이 목마에 대 한 규칙 tooprotect 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-201">Contains rules tooprotect against backdoor Trojans.</span></span>|

### <a name="waf-modes"></a><span data-ttu-id="10e3d-202">WAF 모드</span><span class="sxs-lookup"><span data-stu-id="10e3d-202">WAF Modes</span></span>

<span data-ttu-id="10e3d-203">응용 프로그램 게이트웨이 WAF hello 다음 두 가지 모드에서에서 구성 된 toorun 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-203">Application Gateway WAF can be configured toorun in hello following two modes:</span></span>

* <span data-ttu-id="10e3d-204">**검색 모드** – 응용 프로그램 게이트웨이 WAF 검색 모드로 구성 된 toorun를 모니터링 하 고 모든 위협 경고 tooa 로그 파일에 기록 하는 경우.</span><span class="sxs-lookup"><span data-stu-id="10e3d-204">**Detection mode** – When configured toorun in detection mode, Application Gateway WAF monitors and logs all threat alerts in tooa log file.</span></span> <span data-ttu-id="10e3d-205">응용 프로그램 게이트웨이에 대 한 진단 내용을 로깅하를 설정 해야 hello를 사용 하 여 **진단** 섹션.</span><span class="sxs-lookup"><span data-stu-id="10e3d-205">Logging diagnostics for Application Gateway should be turned on using hello **Diagnostics** section.</span></span> <span data-ttu-id="10e3d-206">또한 WAF hello tooensure 해야 로그를 선택 하 고 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-206">You also need tooensure that hello WAF log is selected and turned on.</span></span> <span data-ttu-id="10e3d-207">웹 응용 프로그램 방화벽을 감지 모드로 실행하면 들어오는 요청을 차단하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-207">When running in detection mode web application firewall does not block incoming requests.</span></span>
* <span data-ttu-id="10e3d-208">**방지 모드** – 응용 프로그램 게이트웨이 방지 모드로 구성 된 toorun 침입 및 해당 규칙에서 검색 하는 공격을 적극적으로 차단 하는 경우.</span><span class="sxs-lookup"><span data-stu-id="10e3d-208">**Prevention mode** – When configured toorun in prevention mode, Application Gateway actively blocks intrusions and attacks detected by its rules.</span></span> <span data-ttu-id="10e3d-209">hello 공격자가 403 무단된 액세스 예외가 받아 hello 연결이 종료 됩니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-209">hello attacker receives a 403 unauthorized access exception and hello connection is terminated.</span></span> <span data-ttu-id="10e3d-210">방지 모드 hello WAF 로그의 toolog 이러한 공격을 계속합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-210">Prevention mode continues toolog such attacks in hello WAF logs.</span></span>

### <span data-ttu-id="10e3d-211"><a name="application-gateway-waf-reports"></a>WAF 모니터링</span><span class="sxs-lookup"><span data-stu-id="10e3d-211"><a name="application-gateway-waf-reports"></a>WAF Monitoring</span></span>

<span data-ttu-id="10e3d-212">응용 프로그램 게이트웨이의 hello 상태를 모니터링 하는 것이 중요 합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-212">Monitoring hello health of your application gateway is important.</span></span> <span data-ttu-id="10e3d-213">웹 응용 프로그램의 응용 프로그램 방화벽 및 hello를 보호 하는 hello 상태 모니터링 로깅 및 Azure 모니터, Azure 보안 센터 (출시 예정), 및 로그 분석 통합을 통해 제공 됩니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-213">Monitoring hello health of your web application firewall and hello applications that it protects are provided through logging and integration with Azure Monitor, Azure Security Center (coming soon), and Log Analytics.</span></span>

![진단](./media/application-gateway-web-application-firewall-overview/diagnostics.png)

#### <a name="azure-monitor"></a><span data-ttu-id="10e3d-215">Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="10e3d-215">Azure Monitor</span></span>

<span data-ttu-id="10e3d-216">각 Application Gateway 로그는 [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md)와 통합됩니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-216">Each application gateway log is integrated with [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md).</span></span>  <span data-ttu-id="10e3d-217">이렇게 하면 WAF 경고 및 로그를 포함 하 여 tootrack 진단 정보가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-217">This allows you tootrack diagnostic information including WAF alerts and logs.</span></span>  <span data-ttu-id="10e3d-218">이 기능은 hello hello 포털 hello에서 응용 프로그램 게이트웨이 리소스 내 **진단** 탭 또는 hello Azure 모니터를 통해 직접를 서비스 합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-218">This capability is provided within hello Application Gateway resource in hello portal under hello **Diagnostics** tab or through hello Azure Monitor service directly.</span></span> <span data-ttu-id="10e3d-219">응용 프로그램 게이트웨이에 대 한 진단 로그를 사용 하도록 설정 하는 방법에 대 한 내용은 방문 toolearn [응용 프로그램 게이트웨이 진단](application-gateway-diagnostics.md)</span><span class="sxs-lookup"><span data-stu-id="10e3d-219">toolearn more about enabling diagnostic logs for application gateway visit [Application Gateway diagnostics](application-gateway-diagnostics.md)</span></span>

#### <a name="azure-security-center"></a><span data-ttu-id="10e3d-220">Azure 보안 센터</span><span class="sxs-lookup"><span data-stu-id="10e3d-220">Azure Security Center</span></span>

<span data-ttu-id="10e3d-221">[Azure 보안 센터](../security-center/security-center-intro.md) 사용 방지를 감지 하 고 및 toothreats 파악할을 사용 하 여 응답을 제어할 수 hello Azure 리소스의 보안 합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-221">[Azure Security Center](../security-center/security-center-intro.md) helps you prevent, detect, and respond toothreats with increased visibility into and control over hello security of your Azure resources.</span></span> <span data-ttu-id="10e3d-222">이제 Application Gateway는 [Azure Security Center로 통합](application-gateway-integration-security-center.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-222">Application gateway now [integrates into Azure Security Center](application-gateway-integration-security-center.md).</span></span> <span data-ttu-id="10e3d-223">Azure 보안 센터 환경 toodetect 보호 되지 않은 상태로 웹 응용 프로그램을 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-223">Azure Security Center scans your environment toodetect unprotected web applications.</span></span> <span data-ttu-id="10e3d-224">이제 응용 프로그램 게이트웨이 WAF tooprotect 취약 한 리소스인 권장할 수 있습니다 것입니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-224">It can now recommend application gateway WAF tooprotect these vulnerable resources.</span></span> <span data-ttu-id="10e3d-225">Hello Azure 보안 센터에서에서 응용 프로그램 게이트웨이 WAF를 직접 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-225">You can directly create application gateway WAF from hello Azure Security Center.</span></span>  <span data-ttu-id="10e3d-226">이러한 WAF 인스턴스 Azure 보안 센터와 통합 되어 있으며 경고 및 상태 정보 보고에 대 한 보안 센터 tooAzure 다시 보내집니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-226">These WAF instances are integrated with Azure Security Center and will send alerts and health information back tooAzure Security Center for reporting.</span></span>

![그림 1](./media/application-gateway-web-application-firewall-overview/figure1.png)

#### <a name="logging"></a><span data-ttu-id="10e3d-228">로깅</span><span class="sxs-lookup"><span data-stu-id="10e3d-228">Logging</span></span>

<span data-ttu-id="10e3d-229">Application Gateway WAF는 감지된 각 위협에 대한 상세 보고를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-229">Application Gateway WAF provides detailed reporting on each threat it detects.</span></span> <span data-ttu-id="10e3d-230">로깅은 Azure 진단 로그에 통합되고 경고는 json 형식으로 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-230">Logging is integrated with Azure Diagnostics logs and alerts are recorded in a json format.</span></span> <span data-ttu-id="10e3d-231">이러한 로그는 [Log Analytics](../log-analytics/log-analytics-azure-networking-analytics.md)와 통합될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-231">These logs can be integrated with [Log Analytics](../log-analytics/log-analytics-azure-networking-analytics.md).</span></span>

![imageURLroute](./media/application-gateway-web-application-firewall-overview/waf2.png)

```json
{
  "resourceId": "/SUBSCRIPTIONS/{subscriptionId}/RESOURCEGROUPS/{resourceGroupId}/PROVIDERS/MICROSOFT.NETWORK/APPLICATIONGATEWAYS/{appGatewayName}",
  "operationName": "ApplicationGatewayFirewall",
  "time": "2017-03-20T15:52:09.1494499Z",
  "category": "ApplicationGatewayFirewallLog",
  "properties": {
    "instanceId": "ApplicationGatewayRole_IN_0",
    "clientIp": "104.210.252.3",
    "clientPort": "4835",
    "requestUri": "/?a=%3Cscript%3Ealert(%22Hello%22);%3C/script%3E",
    "ruleSetType": "OWASP",
    "ruleSetVersion": "3.0",
    "ruleId": "941320",
    "message": "Possible XSS Attack Detected - HTML Tag Handler",
    "action": "Blocked",
    "site": "Global",
    "details": {
      "message": "Warning. Pattern match \"<(a|abbr|acronym|address|applet|area|audioscope|b|base|basefront|bdo|bgsound|big|blackface|blink|blockquote|body|bq|br|button|caption|center|cite|code|col|colgroup|comment|dd|del|dfn|dir|div|dl|dt|em|embed|fieldset|fn|font|form|frame|frameset|h1|head|h ...\" at ARGS:a.",
      "data": "Matched Data: <script> found within ARGS:a: <script>alert(\\x22hello\\x22);</script>",
      "file": "rules/REQUEST-941-APPLICATION-ATTACK-XSS.conf",
      "line": "865"
    }
  }
} 

```

## <a name="application-gateway-waf-sku-pricing"></a><span data-ttu-id="10e3d-233">Application Gateway WAF SKU 가격 책정</span><span class="sxs-lookup"><span data-stu-id="10e3d-233">Application Gateway WAF SKU pricing</span></span>

<span data-ttu-id="10e3d-234">새 WAF SKU 아래에서 웹 응용 프로그램 방화벽을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-234">Web application firewall is available under a new a WAF SKU.</span></span> <span data-ttu-id="10e3d-235">이 SKU가 hello 클래식 배포 모델에 포함 되지 않은 Azure 리소스 관리자 프로 비전 모델에만 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-235">This SKU is available only in Azure Resource Manager provisioning model and not under hello classic deployment model.</span></span> <span data-ttu-id="10e3d-236">또한 WAF SKU는 중간 규모 및 대규모 Application Gateway 인스턴스 크기로만 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-236">Additionally WAF SKU comes only in medium and large application gateway instance sizes.</span></span> <span data-ttu-id="10e3d-237">응용 프로그램 게이트웨이에 대 한 모든 hello 제한도 toohello WAF SKU를 적용 합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-237">All hello limits for application gateway also apply toohello WAF SKU.</span></span> <span data-ttu-id="10e3d-238">가격 책정은 시간 당 게이트웨이 인스턴스 요금 및 데이터 처리 충전을 기반으로 합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-238">Pricing is based on per hour gateway instance charge and data processing charge.</span></span> <span data-ttu-id="10e3d-239">WAF SKU 시간 당 게이트웨이 가격 책정은 표준 SKU 요금과 다르며 [Application Gateway 가격 책정 세부 정보](https://azure.microsoft.com/pricing/details/application-gateway/)에서 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-239">Per hour gateway pricing for WAF SKU is different from Standard SKU charges and can be found at [Application Gateway pricing details](https://azure.microsoft.com/pricing/details/application-gateway/).</span></span> <span data-ttu-id="10e3d-240">데이터 처리 요금이 계속 hello 동일 합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-240">Data processing charges remain hello same.</span></span> <span data-ttu-id="10e3d-241">규칙 또는 규칙 그룹 당 요금은 없습니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-241">There is no per rule or rule group charges.</span></span> <span data-ttu-id="10e3d-242">여러 웹 응용 프로그램을 보호할 수 있는 여러 응용 프로그램을 지원 하기 위한 추가 요금이 청구 되지 및 동일한 웹 응용 프로그램 방화벽 뒤에 hello 합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-242">You can protect multiple web applications behind hello same web application firewall and there are no additional charges for supporting multiple applications.</span></span> 

<span data-ttu-id="10e3d-243">결제 WAF에 대 한 시작 후 hello WAF SKU 게이트웨이 계속 toobe 표준 요율로 요금이 부과 될 때까지 효과적으로 5/5/2017 년 1.</span><span class="sxs-lookup"><span data-stu-id="10e3d-243">Billing for WAF starts effectively 5/5/2017, until then hello WAF SKU gateways continues toobe charged at standard rates.</span></span>

## <a name="next-steps"></a><span data-ttu-id="10e3d-244">다음 단계</span><span class="sxs-lookup"><span data-stu-id="10e3d-244">Next steps</span></span>

<span data-ttu-id="10e3d-245">WAF의 hello 기능에 대해 학습 한 후 방문 [어떻게 tooconfigure 웹 응용 프로그램 방화벽에서 응용 프로그램 게이트웨이](application-gateway-web-application-firewall-portal.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="10e3d-245">After learning more about hello capabilities of WAF, visit [How tooconfigure web application firewall on Application Gateway](application-gateway-web-application-firewall-portal.md).</span></span>

