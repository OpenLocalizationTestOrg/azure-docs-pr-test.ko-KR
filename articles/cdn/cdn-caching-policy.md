---
title: "Azure Media Services에서 Azure CDN 캐싱 정책 관리 | Microsoft Docs"
description: "Azure Media Services에서 Azure CDN 캐싱 정책을 관리하는 방법을 알아봅니다."
services: media-services,cdn
documentationcenter: .NET
author: juliako
manager: erikre
editor: 
ms.assetid: be33aecc-6dbe-43d7-a056-10ba911e0e94
ms.service: media-services
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/04/2017
ms.author: juliako
ms.openlocfilehash: 0c479a58f4158bb1a72dc43432507160f65d2791
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/11/2017
---
# <a name="manage-azure-cdn-caching-policy-in-azure-media-services"></a><span data-ttu-id="92761-103">Azure Media Services에서 Azure CDN 캐싱 정책 관리</span><span class="sxs-lookup"><span data-stu-id="92761-103">Manage Azure CDN caching policy in Azure Media Services</span></span>
<span data-ttu-id="92761-104">Azure 미디어 서비스는 HTTP 기반 적응 스트리밍 및 점진적 다운로드를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="92761-104">Azure Media Services provides HTTP based Adaptive Streaming and progressive download.</span></span> <span data-ttu-id="92761-105">HTTP 기반 스트리밍은 클라이언트 쪽 캐싱뿐만 아니라 프록시 및 CDN 계층의 캐싱을 활용하므로 확장성이 뛰어납니다.</span><span class="sxs-lookup"><span data-stu-id="92761-105">HTTP based streaming is highly scalable with benefits of caching in proxy and CDN layers as well as client side caching.</span></span> <span data-ttu-id="92761-106">스트리밍 끝점은 일반적인 스트리밍 기능 및 HTTP 캐시 헤더에 대한 구성을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="92761-106">Streaming endpoints provides general streaming capabilities and also configuration for HTTP cache headers.</span></span> <span data-ttu-id="92761-107">스트리밍 끝점은 HTTP Cache-Control: max-age 및 Expires 헤더를 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="92761-107">Streaming endpoints sets HTTP Cache-Control: max-age and Expires headers.</span></span> <span data-ttu-id="92761-108">HTTP 캐시 헤더에 대한 자세한 내용은 [W3.org](http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html)에서 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="92761-108">You can get more information for HTTP cache headers from [W3.org](http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html).</span></span>

## <a name="default-caching-headers"></a><span data-ttu-id="92761-109">기본 캐싱 헤더</span><span class="sxs-lookup"><span data-stu-id="92761-109">Default Caching headers</span></span>
<span data-ttu-id="92761-110">기본적으로 스트리밍 끝점은 주문형 스트리밍 데이터(실제 미디어 조각/청크) 및 매니페스트(재생 목록)에 대해 3일 캐시 헤더를 적용합니다.</span><span class="sxs-lookup"><span data-stu-id="92761-110">By default streaming-endpoints apply 3 day cache headers for on-demand streaming data (actual media fragments/chunks) and manifest(playlist).</span></span> <span data-ttu-id="92761-111">라이브 스트리밍의 경우 스트리밍 끝점은 데이터(실제 미디어 조각/청크)에 대해 3일 캐시 헤드를 적용하고, 매니페스트(재생 목록) 요청에 대해 2초 캐시 헤더를 적용합니다.</span><span class="sxs-lookup"><span data-stu-id="92761-111">For live streaming, streaming endpoints apply 3 day cache headers for data (actual media fragments/chunks) and 2 seconds cache header for manifest(playlist) requests.</span></span> <span data-ttu-id="92761-112">라이브 프로그램이 주문형(라이브 보관 파일)으로 바뀐 경우에는 주문형 스트리밍 캐시 헤더가 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="92761-112">When live program turns to on-demand (live archive) then on-demand streaming cache headers apply.</span></span>

## <a name="azure-cdn-integration"></a><span data-ttu-id="92761-113">Azure CDN 통합</span><span class="sxs-lookup"><span data-stu-id="92761-113">Azure CDN integration</span></span>
<span data-ttu-id="92761-114">Azure 미디어 서비스는 스트리밍 끝점에 대한 [CDN 통합](https://azure.microsoft.com/updates/azure-media-services-now-fully-integrated-with-azure-cdn/) 을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="92761-114">Azure Media Services provides [integrated CDN](https://azure.microsoft.com/updates/azure-media-services-now-fully-integrated-with-azure-cdn/) for streaming-endpoints.</span></span> <span data-ttu-id="92761-115">Cache-control 헤더는 CDN 사용 스트리밍 끝점에 스트리밍 끝점과 동일한 방식으로 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="92761-115">Cache-control headers applies in the same way as streaming endpoints to CDN enabled streaming endpoints.</span></span> <span data-ttu-id="92761-116">Azure CDN은 스트리밍 끝점에 구성된 캐시 값을 사용하여 내부적으로 캐시된 개체의 수명을 정의하며, 이 값을 사용하여 배달 캐시 헤더도 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="92761-116">Azure CDN uses streaming endpoint configured cache values to define the life time of the internally cached objects and also uses this value to set the delivery cache headers.</span></span> <span data-ttu-id="92761-117">CDN 사용 스트리밍 끝점을 사용하는 경우에는 작은 캐시 값을 설정하지 않는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="92761-117">When using CDN enabled streaming endpoints it is not recommended to set small cache values.</span></span> <span data-ttu-id="92761-118">작은 값을 설정하면 성능이 저하되고 CDN의 이점이 줄어듭니다.</span><span class="sxs-lookup"><span data-stu-id="92761-118">Setting small values will decrease the performance and reduce the benefit of CDN.</span></span> <span data-ttu-id="92761-119">CDN 사용 스트리밍 끝점의 경우 캐시 헤더를 600초보다 작게 설정할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="92761-119">It is not allowed to set cache headers smaller than 600 seconds for CDN enabled streaming endpoints.</span></span>

> [!IMPORTANT]
><span data-ttu-id="92761-120">Azure Media Services는 Azure CDN과 완전하게 통합됩니다.</span><span class="sxs-lookup"><span data-stu-id="92761-120">Azure Media Services has complete integration with Azure CDN.</span></span> <span data-ttu-id="92761-121">한 번의 클릭으로 사용 가능한 모든 Azure CDN 공급자(Akamai 및 Verizon)를 CDN 표준 및 프리미엄 제품을 포함하는 스트리밍 끝점에 통합할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="92761-121">With a single click you can integrate all the available Azure CDN providers (Akamai and Verizon) to your streaming endpoint including CDN Standard and Premium products.</span></span> <span data-ttu-id="92761-122">자세한 내용은 이 [공지](https://azure.microsoft.com/blog/standardstreamingendpoint/)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="92761-122">For more information, see this [announcement](https://azure.microsoft.com/blog/standardstreamingendpoint/).</span></span>
> 
> <span data-ttu-id="92761-123">스트리밍 끝점에서 CDN으로의 데이터 요금은 스트리밍 끝점 API 또는 Azure 관리 포털의 스트리밍 끝점 섹션을 통해 CDN이 사용되도록 설정되는 경우에만 사용되지 않도록 설정됩니다.</span><span class="sxs-lookup"><span data-stu-id="92761-123">Data charges from streaming endpoint to CDN only gets disabled if the CDN is enabled over streaming endpoint APIs or using Azure management portal's streaming endpoint section.</span></span> <span data-ttu-id="92761-124">수동 통합이나 CDN API 또는 포털 섹션을 통해 CDN 끝점을 직접 만드는 경우에는 데이터 요금이 사용되지 않도록 설정되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="92761-124">Manual integration or directly creating a CDN endpoint using CDN APIs or portal section will not disable the data charges.</span></span>

## <a name="configuring-cache-headers-with-azure-media-services"></a><span data-ttu-id="92761-125">Azure 미디어 서비스를 사용하여 캐시 헤더 구성</span><span class="sxs-lookup"><span data-stu-id="92761-125">Configuring cache headers with Azure Media Services</span></span>
<span data-ttu-id="92761-126">Azure 관리 포털 또는 Azure 미디어 서비스 API를 사용하여 캐시 헤더 값을 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="92761-126">You can use Azure Management portal or Azure Media Services APIs to configure cache header values.</span></span>

1. <span data-ttu-id="92761-127">관리 포털을 사용하여 캐시 헤더를 구성하려면 스트리밍 끝점 구성에서 [스트리밍 끝점을 관리하는 방법](../media-services/media-services-portal-manage-streaming-endpoints.md) 섹션을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="92761-127">To configure cache headers using management portal please refer to [How to Manage Streaming Endpoints](../media-services/media-services-portal-manage-streaming-endpoints.md) section Configuring the Streaming Endpoint.</span></span>
2. <span data-ttu-id="92761-128">Azure 미디어 서비스 REST API, [StreamingEndpoint](https://msdn.microsoft.com/library/azure/dn783468.aspx#StreamingEndpointCacheControl)</span><span class="sxs-lookup"><span data-stu-id="92761-128">Azure Media Services REST API, [StreamingEndpoint](https://msdn.microsoft.com/library/azure/dn783468.aspx#StreamingEndpointCacheControl).</span></span>
3. <span data-ttu-id="92761-129">Azure 미디어 서비스 .NET SDK, [StreamingEndpointCacheControl 속성](http://go.microsoft.com/fwlink/?LinkId=615302)</span><span class="sxs-lookup"><span data-stu-id="92761-129">Azure Media Services .NET SDK, [StreamingEndpointCacheControl Properties](http://go.microsoft.com/fwlink/?LinkId=615302).</span></span>

## <a name="cache-configuration-precedence-order"></a><span data-ttu-id="92761-130">캐시 구성 우선 순위</span><span class="sxs-lookup"><span data-stu-id="92761-130">Cache configuration precedence order</span></span>
1. <span data-ttu-id="92761-131">Azure 미디어 서비스에서 구성된 캐시 값은 기본값을 재정의합니다.</span><span class="sxs-lookup"><span data-stu-id="92761-131">Azure Media Services configured cache value overrides default value.</span></span>
2. <span data-ttu-id="92761-132">수동 구성이 없으면 기본값이 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="92761-132">If there is no manual configuration, default values applies.</span></span>
3. <span data-ttu-id="92761-133">라이브 스트리밍에는 Azure 미디어 또는 Azure 저장소 구성에 상관없이 기본적으로 2초 캐시 헤더가 적용되며, 이 값은 재정의할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="92761-133">By default 2 seconds cache headers applies to live streaming manifest(playlist) regardless of Azure Media or Azure Storage configuration and overriding of this value is not available.</span></span>

