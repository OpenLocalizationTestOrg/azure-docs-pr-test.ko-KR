---
title: "Azure Search 서비스의 사용량 및 통계 모니터링 | Microsoft Docs"
description: "Microsoft Azure에서 호스팅되는 검색 서비스인 Azure 검색에 대해 리소스 소비 및 인덱스 크기를 추적합니다."
services: search
documentationcenter: 
author: bernitorres
manager: jlembicz
editor: 
tags: azure-portal
ms.assetid: 122948de-d29a-426e-88b4-58cbcee4bc23
ms.service: search
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: required
ms.date: 05/01/2017
ms.author: betorres
ms.openlocfilehash: 16cb5a1e16a59200f0e731622398efcf24c3f777
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/11/2017
---
# <a name="monitoring-an-azure-search-service"></a><span data-ttu-id="e83e6-103">Azure Search 서비스 모니터링</span><span class="sxs-lookup"><span data-stu-id="e83e6-103">Monitoring an Azure Search service</span></span>

<span data-ttu-id="e83e6-104">Azure Search는 검색 서비스의 사용량 및 성능을 추적하기 위한 다양한 리소스를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-104">Azure Search offers various resources for tracking usage and performance of search services.</span></span> <span data-ttu-id="e83e6-105">Power BI에서 메트릭, 로그, 인덱스 통계 및 확장된 모니터링 기능에 액세스할 수 있게 해줍니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-105">It gives you access to metrics, logs, index statistics, and extended monitoring capabilities on Power BI.</span></span> <span data-ttu-id="e83e6-106">이 문서에서는 여러 모니터링 전략을 사용하는 방법 및 결과 데이터를 해석하는 방법을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-106">This article describes how to enable the different monitoring strategies and how to interpret the resulting data.</span></span>

## <a name="azure-search-metrics"></a><span data-ttu-id="e83e6-107">Azure Search 메트릭</span><span class="sxs-lookup"><span data-stu-id="e83e6-107">Azure Search metrics</span></span>
<span data-ttu-id="e83e6-108">메트릭은 거의 실시간으로 검색 서비스에 대한 고급 정보를 제공하며, 추가 설치 없이 모든 서비스에 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-108">Metrics give you near real-time visibility into your search service and are available for every service, with no additional setup.</span></span> <span data-ttu-id="e83e6-109">최대 30일까지 서비스 성능을 추적할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-109">They let you track the performance of your service for up to 30 days.</span></span>

<span data-ttu-id="e83e6-110">Azure Search는 다음 세 가지 메트릭에 대한 데이터를 수집합니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-110">Azure Search collects data for three different metrics:</span></span>

* <span data-ttu-id="e83e6-111">검색 대기 시간: 검색 쿼리를 처리하는 데 필요한 검색 서비스의 시간을 1분마다 집계합니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-111">Search latency: Time the search service needed to process search queries, aggregated per minute.</span></span>
* <span data-ttu-id="e83e6-112">QPS(초당 검색 쿼리 수): 초당 수신된 검색 쿼리 수를 1분마다 집계합니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-112">Search queries per second (QPS): Number of search queries received per second, aggregated per minute.</span></span>
* <span data-ttu-id="e83e6-113">제한된 검색 쿼리 백분율: 제한된 검색 쿼리의 비율을 1분마다 집계합니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-113">Throttled search queries percentage: Percentage of search queries that were throttled, aggregated per minute.</span></span>

![QPS 활동의 스크린 샷][1]

### <a name="set-up-alerts"></a><span data-ttu-id="e83e6-115">경고 설정</span><span class="sxs-lookup"><span data-stu-id="e83e6-115">Set up alerts</span></span>
<span data-ttu-id="e83e6-116">메트릭 세부 정보 페이지에서, 메트릭이 정의된 임계값을 초과하면 전자 메일 알림 또는 자동화된 작업을 트리거하도록 경고를 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-116">From the metric detail page, you can configure alerts to trigger an email notification or an automated action when a metric crosses a threshold that you have defined.</span></span>

<span data-ttu-id="e83e6-117">메트릭에 대한 자세한 내용은 Azure Monitor에 대한 전체 설명서를 확인하세요.</span><span class="sxs-lookup"><span data-stu-id="e83e6-117">For more information about metrics, check the full documentation on Azure Monitor.</span></span>  

## <a name="how-to-track-resource-usage"></a><span data-ttu-id="e83e6-118">리소스 사용량을 추적하는 방법</span><span class="sxs-lookup"><span data-stu-id="e83e6-118">How to track resource usage</span></span>
<span data-ttu-id="e83e6-119">인덱스 및 문서 크기의 증가를 추적하면 서비스에 규정한 상한에 도달하기 전에 용량을 조정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-119">Tracking the growth of indexes and document size can help you proactively adjust capacity before hitting the upper limit you've established for your service.</span></span> <span data-ttu-id="e83e6-120">이 작업은 포털에서 수행하거나 REST API를 사용하여 프로그래밍 방식으로 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-120">You can do this on the portal or programmatically using the REST API.</span></span>

### <a name="using-the-portal"></a><span data-ttu-id="e83e6-121">포털 사용</span><span class="sxs-lookup"><span data-stu-id="e83e6-121">Using the portal</span></span>

<span data-ttu-id="e83e6-122">리소스 사용량을 모니터링하려면 [포털](https://portal.azure.com)에서 서비스에 대한 개수와 통계를 봅니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-122">To monitor resource usage, view the counts and statistics for your service in the [portal](https://portal.azure.com).</span></span>

1. <span data-ttu-id="e83e6-123">[포털](https://portal.azure.com)에 로그인합니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-123">Sign in to the [portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="e83e6-124">Azure 검색 서비스의 서비스 대시보드를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-124">Open the service dashboard of your Azure Search service.</span></span> <span data-ttu-id="e83e6-125">홈페이지에서 서비스에 대한 타일을 찾거나 표시줄에 있는 찾아보기에서 서비스를 탐색할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-125">Tiles for the service can be found on the Home page, or you can browse to the service from Browse on the JumpBar.</span></span>

<span data-ttu-id="e83e6-126">사용 섹션에는 사용 가능한 리소스의 어떤 부분이 현재 사용 중인지 알려주는 측정기가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-126">The Usage section includes a meter that tells you what portion of available resources are currently in use.</span></span> <span data-ttu-id="e83e6-127">인덱스, 문서, 저장소에 대한 서비스당 제한에 대한 정보는 [서비스 제한](search-limits-quotas-capacity.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="e83e6-127">For information on per-service limits for indexes, documents, and storage, see [Service limits](search-limits-quotas-capacity.md).</span></span>

  ![사용량 타일][2]

> [!NOTE]
> <span data-ttu-id="e83e6-129">위의 스크린샷은 무료 서비스의 경우로 여기에는 하나의 복제본과 각각의 파티션의 최대값이 있으며, 3개의 인덱스, 10,000개의 문서 또는 50MB의 데이터 중 먼저 도달하는 것까지만 호스팅할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-129">The screenshot above is for the Free service, which has a maximum of one replica and partition each, and can only host 3 indexes, 10,000 documents, or 50 MB of data, whichever comes first.</span></span> <span data-ttu-id="e83e6-130">기본 또는 표준 계층에서 만든 서비스는 훨씬 더 큰 서비스 제한이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-130">Services created at a Basic or Standard tier have much larger service limits.</span></span> <span data-ttu-id="e83e6-131">계층 선택에 대한 자세한 내용은 [계층 또는 SKU 선택](search-sku-tier.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="e83e6-131">For more information on choosing a tier, see [Choose a tier or SKU](search-sku-tier.md).</span></span>
>
>

### <a name="using-the-rest-api"></a><span data-ttu-id="e83e6-132">REST API 사용</span><span class="sxs-lookup"><span data-stu-id="e83e6-132">Using the REST API</span></span>
<span data-ttu-id="e83e6-133">Azure 검색 REST API와 .NET SDK는 모두 서비스 메트릭에 대한 프로그래밍 방식 액세스를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-133">Both the Azure Search REST API and the .NET SDK provide programmatic access to service metrics.</span></span>  <span data-ttu-id="e83e6-134">[인덱서](https://msdn.microsoft.com/library/azure/dn946891.aspx)를 사용하여 Azure SQL Database나 Azure Cosmos DB에서 인덱스를 로드하는 경우, 추가 API를 사용하여 필요한 숫자를 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-134">If you are using [indexers](https://msdn.microsoft.com/library/azure/dn946891.aspx) to load an index from Azure SQL Database or Azure Cosmos DB, an additional API is available to get the numbers you require.</span></span>

* [<span data-ttu-id="e83e6-135">인덱스 통계 가져오기</span><span class="sxs-lookup"><span data-stu-id="e83e6-135">Get Index Statistics</span></span>](/rest/api/searchservice/get-index-statistics)
* [<span data-ttu-id="e83e6-136">문서 수 계산</span><span class="sxs-lookup"><span data-stu-id="e83e6-136">Count Documents</span></span>](/rest/api/searchservice/count-documents)
* [<span data-ttu-id="e83e6-137">인덱서 상태 가져오기</span><span class="sxs-lookup"><span data-stu-id="e83e6-137">Get Indexer Status</span></span>](/rest/api/searchservice/get-indexer-status)

## <a name="how-to-export-logs-and-metrics"></a><span data-ttu-id="e83e6-138">로그 및 메트릭을 내보내는 방법</span><span class="sxs-lookup"><span data-stu-id="e83e6-138">How to export logs and metrics</span></span>

<span data-ttu-id="e83e6-139">이전 섹션에서 설명한 것처럼 서비스의 작업 로그와 메트릭의 원시 데이터를 내보낼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-139">You can export the operation logs for your service and the raw data for the metrics described in the preceding section.</span></span> <span data-ttu-id="e83e6-140">작업 로그를 통해 서비스가 사용되는 방식을 파악할 수 있으며 저장소 계정에 데이터를 복사할 때 Power BI에서 작업 로그를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-140">Operation logs let you know how the service is being used and can be consumed from Power BI when data is copied to a storage account.</span></span> <span data-ttu-id="e83e6-141">Azure Search는 이 목적을 위해 모니터링 Power BI 콘텐츠 팩을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-141">Azure search provides a monitoring Power BI content pack for this purpose.</span></span>


### <a name="enabling-monitoring"></a><span data-ttu-id="e83e6-142">모니터링 사용</span><span class="sxs-lookup"><span data-stu-id="e83e6-142">Enabling monitoring</span></span>
<span data-ttu-id="e83e6-143">모니터링 사용 옵션 아래에 있는 [Azure Portal](http://portal.azure.com)에서 Azure Search 서비스를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-143">Open your Azure Search service in the [Azure portal](http://portal.azure.com) under the Enable Monitoring option.</span></span>

<span data-ttu-id="e83e6-144">내보낼 데이터를 선택합니다(로그, 메트릭 또는 둘 다).</span><span class="sxs-lookup"><span data-stu-id="e83e6-144">Choose the data you want to export: Logs, Metrics or both.</span></span> <span data-ttu-id="e83e6-145">데이터를 저장소 계정에 복사하고, 이벤트 허브로 전송하거나 Log Analytics로 내보낼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-145">You can copy it to a storage account, send it to an event hub or export it to Log Analytics.</span></span>

![포털에서 모니터링을 사용하는 방법][3]

<span data-ttu-id="e83e6-147">PowerShell 또는 Azure CLI를 사용하려면 [여기](https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview-of-diagnostic-logs#how-to-enable-collection-of-diagnostic-logs) 설명서를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="e83e6-147">To enable using PowerShell or the Azure CLI, see the documentation [here](https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview-of-diagnostic-logs#how-to-enable-collection-of-diagnostic-logs).</span></span>

### <a name="logs-and-metrics-schemas"></a><span data-ttu-id="e83e6-148">로그 및 메트릭 스키마</span><span class="sxs-lookup"><span data-stu-id="e83e6-148">Logs and metrics schemas</span></span>
<span data-ttu-id="e83e6-149">데이터가 저장소 계정에 복사될 때 해당 데이터는 JSON 형식으로 다음 두 컨테이너에 저장됩니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-149">When the data is copied to a storage account, the data is formatted as JSON and it's place in two containers:</span></span>

* <span data-ttu-id="e83e6-150">insights-logs-operationlogs: 검색 트래픽 로그인 경우</span><span class="sxs-lookup"><span data-stu-id="e83e6-150">insights-logs-operationlogs: for search traffic logs</span></span>
* <span data-ttu-id="e83e6-151">insights-metrics-pt1m: 메트릭인 경우</span><span class="sxs-lookup"><span data-stu-id="e83e6-151">insights-metrics-pt1m: for metrics</span></span>

<span data-ttu-id="e83e6-152">시간 및 컨테이너당 하나의 Blob가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-152">There is one blob, per hour, per container.</span></span>

<span data-ttu-id="e83e6-153">경로 예: `resourceId=/subscriptions/<subscriptionID>/resourcegroups/<resourceGroupName>/providers/microsoft.search/searchservices/<searchServiceName>/y=2015/m=12/d=25/h=01/m=00/name=PT1H.json`</span><span class="sxs-lookup"><span data-stu-id="e83e6-153">Example path: `resourceId=/subscriptions/<subscriptionID>/resourcegroups/<resourceGroupName>/providers/microsoft.search/searchservices/<searchServiceName>/y=2015/m=12/d=25/h=01/m=00/name=PT1H.json`</span></span>

#### <a name="log-schema"></a><span data-ttu-id="e83e6-154">로그 스키마</span><span class="sxs-lookup"><span data-stu-id="e83e6-154">Log schema</span></span>
<span data-ttu-id="e83e6-155">로그 Blob는 검색 서비스 트래픽 로그를 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-155">The logs blobs contain your search service traffic logs.</span></span>
<span data-ttu-id="e83e6-156">각 Blob는 **레코드** 라는 하나의 루트 개체를 포함하며 여기에는 로그 개체의 배열이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-156">Each blob has one root object called **records** that contains an array of log objects.</span></span>
<span data-ttu-id="e83e6-157">각 Blob에는 같은 시간 중에 발생한 모든 작업에 대한 레코드가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-157">Each blob has records on all the operation that took place during the same hour.</span></span>

| <span data-ttu-id="e83e6-158">이름</span><span class="sxs-lookup"><span data-stu-id="e83e6-158">Name</span></span> | <span data-ttu-id="e83e6-159">형식</span><span class="sxs-lookup"><span data-stu-id="e83e6-159">Type</span></span> | <span data-ttu-id="e83e6-160">예</span><span class="sxs-lookup"><span data-stu-id="e83e6-160">Example</span></span> | <span data-ttu-id="e83e6-161">참고 사항</span><span class="sxs-lookup"><span data-stu-id="e83e6-161">Notes</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="e83e6-162">실시간</span><span class="sxs-lookup"><span data-stu-id="e83e6-162">time</span></span> |<span data-ttu-id="e83e6-163">datetime</span><span class="sxs-lookup"><span data-stu-id="e83e6-163">datetime</span></span> |<span data-ttu-id="e83e6-164">"2015-12-07T00:00:43.6872559Z"</span><span class="sxs-lookup"><span data-stu-id="e83e6-164">"2015-12-07T00:00:43.6872559Z"</span></span> |<span data-ttu-id="e83e6-165">작업 타임스탬프</span><span class="sxs-lookup"><span data-stu-id="e83e6-165">Timestamp of the operation</span></span> |
| <span data-ttu-id="e83e6-166">resourceId</span><span class="sxs-lookup"><span data-stu-id="e83e6-166">resourceId</span></span> |<span data-ttu-id="e83e6-167">string</span><span class="sxs-lookup"><span data-stu-id="e83e6-167">string</span></span> |<span data-ttu-id="e83e6-168">"/SUBSCRIPTIONS/11111111-1111-1111-1111-111111111111/</span><span class="sxs-lookup"><span data-stu-id="e83e6-168">"/SUBSCRIPTIONS/11111111-1111-1111-1111-111111111111/</span></span><br/><span data-ttu-id="e83e6-169">RESOURCEGROUPS/DEFAULT/PROVIDERS/</span><span class="sxs-lookup"><span data-stu-id="e83e6-169">RESOURCEGROUPS/DEFAULT/PROVIDERS/</span></span><br/> <span data-ttu-id="e83e6-170">MICROSOFT.SEARCH/SEARCHSERVICES/SEARCHSERVICE"</span><span class="sxs-lookup"><span data-stu-id="e83e6-170">MICROSOFT.SEARCH/SEARCHSERVICES/SEARCHSERVICE"</span></span> |<span data-ttu-id="e83e6-171">ResourceId</span><span class="sxs-lookup"><span data-stu-id="e83e6-171">Your ResourceId</span></span> |
| <span data-ttu-id="e83e6-172">operationName</span><span class="sxs-lookup"><span data-stu-id="e83e6-172">operationName</span></span> |<span data-ttu-id="e83e6-173">string</span><span class="sxs-lookup"><span data-stu-id="e83e6-173">string</span></span> |<span data-ttu-id="e83e6-174">"Query.Search"</span><span class="sxs-lookup"><span data-stu-id="e83e6-174">"Query.Search"</span></span> |<span data-ttu-id="e83e6-175">작업 이름</span><span class="sxs-lookup"><span data-stu-id="e83e6-175">The name of the operation</span></span> |
| <span data-ttu-id="e83e6-176">operationVersion</span><span class="sxs-lookup"><span data-stu-id="e83e6-176">operationVersion</span></span> |<span data-ttu-id="e83e6-177">string</span><span class="sxs-lookup"><span data-stu-id="e83e6-177">string</span></span> |<span data-ttu-id="e83e6-178">"2015-02-28"</span><span class="sxs-lookup"><span data-stu-id="e83e6-178">"2015-02-28"</span></span> |<span data-ttu-id="e83e6-179">사용된 api-version</span><span class="sxs-lookup"><span data-stu-id="e83e6-179">The api-version used</span></span> |
| <span data-ttu-id="e83e6-180">카테고리</span><span class="sxs-lookup"><span data-stu-id="e83e6-180">category</span></span> |<span data-ttu-id="e83e6-181">string</span><span class="sxs-lookup"><span data-stu-id="e83e6-181">string</span></span> |<span data-ttu-id="e83e6-182">"OperationLogs"</span><span class="sxs-lookup"><span data-stu-id="e83e6-182">"OperationLogs"</span></span> |<span data-ttu-id="e83e6-183">constant</span><span class="sxs-lookup"><span data-stu-id="e83e6-183">constant</span></span> |
| <span data-ttu-id="e83e6-184">resultType</span><span class="sxs-lookup"><span data-stu-id="e83e6-184">resultType</span></span> |<span data-ttu-id="e83e6-185">string</span><span class="sxs-lookup"><span data-stu-id="e83e6-185">string</span></span> |<span data-ttu-id="e83e6-186">"Success"</span><span class="sxs-lookup"><span data-stu-id="e83e6-186">"Success"</span></span> |<span data-ttu-id="e83e6-187">가능한 값: Success 또는 Failure</span><span class="sxs-lookup"><span data-stu-id="e83e6-187">Possible values: Success or Failure</span></span> |
| <span data-ttu-id="e83e6-188">resultSignature</span><span class="sxs-lookup"><span data-stu-id="e83e6-188">resultSignature</span></span> |<span data-ttu-id="e83e6-189">int</span><span class="sxs-lookup"><span data-stu-id="e83e6-189">int</span></span> |<span data-ttu-id="e83e6-190">200</span><span class="sxs-lookup"><span data-stu-id="e83e6-190">200</span></span> |<span data-ttu-id="e83e6-191">HTTP 결과 코드</span><span class="sxs-lookup"><span data-stu-id="e83e6-191">HTTP result code</span></span> |
| <span data-ttu-id="e83e6-192">durationMS</span><span class="sxs-lookup"><span data-stu-id="e83e6-192">durationMS</span></span> |<span data-ttu-id="e83e6-193">int</span><span class="sxs-lookup"><span data-stu-id="e83e6-193">int</span></span> |<span data-ttu-id="e83e6-194">50</span><span class="sxs-lookup"><span data-stu-id="e83e6-194">50</span></span> |<span data-ttu-id="e83e6-195">밀리초 단위의 작업 기간</span><span class="sxs-lookup"><span data-stu-id="e83e6-195">Duration of the operation in milliseconds</span></span> |
| <span data-ttu-id="e83e6-196">properties</span><span class="sxs-lookup"><span data-stu-id="e83e6-196">properties</span></span> |<span data-ttu-id="e83e6-197">object</span><span class="sxs-lookup"><span data-stu-id="e83e6-197">object</span></span> |<span data-ttu-id="e83e6-198">다음 테이블 참조</span><span class="sxs-lookup"><span data-stu-id="e83e6-198">see the following table</span></span> |<span data-ttu-id="e83e6-199">데이터별 작업을 포함하는 개체</span><span class="sxs-lookup"><span data-stu-id="e83e6-199">Object containing operation-specific data</span></span> |

<span data-ttu-id="e83e6-200">**속성 스키마**</span><span class="sxs-lookup"><span data-stu-id="e83e6-200">**Properties schema**</span></span>
| <span data-ttu-id="e83e6-201">이름</span><span class="sxs-lookup"><span data-stu-id="e83e6-201">Name</span></span> | <span data-ttu-id="e83e6-202">형식</span><span class="sxs-lookup"><span data-stu-id="e83e6-202">Type</span></span> | <span data-ttu-id="e83e6-203">예</span><span class="sxs-lookup"><span data-stu-id="e83e6-203">Example</span></span> | <span data-ttu-id="e83e6-204">참고 사항</span><span class="sxs-lookup"><span data-stu-id="e83e6-204">Notes</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="e83e6-205">설명</span><span class="sxs-lookup"><span data-stu-id="e83e6-205">Description</span></span> |<span data-ttu-id="e83e6-206">string</span><span class="sxs-lookup"><span data-stu-id="e83e6-206">string</span></span> |<span data-ttu-id="e83e6-207">"GET /indexes('content')/docs"</span><span class="sxs-lookup"><span data-stu-id="e83e6-207">"GET /indexes('content')/docs"</span></span> |<span data-ttu-id="e83e6-208">작업의 끝점</span><span class="sxs-lookup"><span data-stu-id="e83e6-208">The operation's endpoint</span></span> |
| <span data-ttu-id="e83e6-209">쿼리</span><span class="sxs-lookup"><span data-stu-id="e83e6-209">Query</span></span> |<span data-ttu-id="e83e6-210">string</span><span class="sxs-lookup"><span data-stu-id="e83e6-210">string</span></span> |<span data-ttu-id="e83e6-211">"?search=AzureSearch&$count=true&api-version=2015-02-28"</span><span class="sxs-lookup"><span data-stu-id="e83e6-211">"?search=AzureSearch&$count=true&api-version=2015-02-28"</span></span> |<span data-ttu-id="e83e6-212">쿼리 매개 변수</span><span class="sxs-lookup"><span data-stu-id="e83e6-212">The query parameters</span></span> |
| <span data-ttu-id="e83e6-213">문서</span><span class="sxs-lookup"><span data-stu-id="e83e6-213">Documents</span></span> |<span data-ttu-id="e83e6-214">int</span><span class="sxs-lookup"><span data-stu-id="e83e6-214">int</span></span> |<span data-ttu-id="e83e6-215">42</span><span class="sxs-lookup"><span data-stu-id="e83e6-215">42</span></span> |<span data-ttu-id="e83e6-216">처리된 문서 수</span><span class="sxs-lookup"><span data-stu-id="e83e6-216">Number of documents processed</span></span> |
| <span data-ttu-id="e83e6-217">IndexName</span><span class="sxs-lookup"><span data-stu-id="e83e6-217">IndexName</span></span> |<span data-ttu-id="e83e6-218">string</span><span class="sxs-lookup"><span data-stu-id="e83e6-218">string</span></span> |<span data-ttu-id="e83e6-219">"testindex"</span><span class="sxs-lookup"><span data-stu-id="e83e6-219">"testindex"</span></span> |<span data-ttu-id="e83e6-220">작업과 연결된 인덱스의 이름</span><span class="sxs-lookup"><span data-stu-id="e83e6-220">Name of the index associated with the operation</span></span> |

#### <a name="metrics-schema"></a><span data-ttu-id="e83e6-221">메트릭 스키마</span><span class="sxs-lookup"><span data-stu-id="e83e6-221">Metrics schema</span></span>
| <span data-ttu-id="e83e6-222">이름</span><span class="sxs-lookup"><span data-stu-id="e83e6-222">Name</span></span> | <span data-ttu-id="e83e6-223">형식</span><span class="sxs-lookup"><span data-stu-id="e83e6-223">Type</span></span> | <span data-ttu-id="e83e6-224">예</span><span class="sxs-lookup"><span data-stu-id="e83e6-224">Example</span></span> | <span data-ttu-id="e83e6-225">참고 사항</span><span class="sxs-lookup"><span data-stu-id="e83e6-225">Notes</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="e83e6-226">resourceId</span><span class="sxs-lookup"><span data-stu-id="e83e6-226">resourceId</span></span> |<span data-ttu-id="e83e6-227">string</span><span class="sxs-lookup"><span data-stu-id="e83e6-227">string</span></span> |<span data-ttu-id="e83e6-228">"/SUBSCRIPTIONS/11111111-1111-1111-1111-111111111111/</span><span class="sxs-lookup"><span data-stu-id="e83e6-228">"/SUBSCRIPTIONS/11111111-1111-1111-1111-111111111111/</span></span><br/><span data-ttu-id="e83e6-229">RESOURCEGROUPS/DEFAULT/PROVIDERS/</span><span class="sxs-lookup"><span data-stu-id="e83e6-229">RESOURCEGROUPS/DEFAULT/PROVIDERS/</span></span><br/><span data-ttu-id="e83e6-230">MICROSOFT.SEARCH/SEARCHSERVICES/SEARCHSERVICE"</span><span class="sxs-lookup"><span data-stu-id="e83e6-230">MICROSOFT.SEARCH/SEARCHSERVICES/SEARCHSERVICE"</span></span> |<span data-ttu-id="e83e6-231">리소스 ID</span><span class="sxs-lookup"><span data-stu-id="e83e6-231">your resource id</span></span> |
| <span data-ttu-id="e83e6-232">metricName</span><span class="sxs-lookup"><span data-stu-id="e83e6-232">metricName</span></span> |<span data-ttu-id="e83e6-233">string</span><span class="sxs-lookup"><span data-stu-id="e83e6-233">string</span></span> |<span data-ttu-id="e83e6-234">"Latency"</span><span class="sxs-lookup"><span data-stu-id="e83e6-234">"Latency"</span></span> |<span data-ttu-id="e83e6-235">메트릭 이름</span><span class="sxs-lookup"><span data-stu-id="e83e6-235">the name of the metric</span></span> |
| <span data-ttu-id="e83e6-236">실시간</span><span class="sxs-lookup"><span data-stu-id="e83e6-236">time</span></span> |<span data-ttu-id="e83e6-237">datetime</span><span class="sxs-lookup"><span data-stu-id="e83e6-237">datetime</span></span> |<span data-ttu-id="e83e6-238">"2015-12-07T00:00:43.6872559Z"</span><span class="sxs-lookup"><span data-stu-id="e83e6-238">"2015-12-07T00:00:43.6872559Z"</span></span> |<span data-ttu-id="e83e6-239">작업의 타임스탬프</span><span class="sxs-lookup"><span data-stu-id="e83e6-239">the operation's timestamp</span></span> |
| <span data-ttu-id="e83e6-240">average</span><span class="sxs-lookup"><span data-stu-id="e83e6-240">average</span></span> |<span data-ttu-id="e83e6-241">int</span><span class="sxs-lookup"><span data-stu-id="e83e6-241">int</span></span> |<span data-ttu-id="e83e6-242">64</span><span class="sxs-lookup"><span data-stu-id="e83e6-242">64</span></span> |<span data-ttu-id="e83e6-243">메트릭 시간 간격에 원시 샘플의 평균 값</span><span class="sxs-lookup"><span data-stu-id="e83e6-243">The average value of the raw samples in the metric time interval</span></span> |
| <span data-ttu-id="e83e6-244">minimum</span><span class="sxs-lookup"><span data-stu-id="e83e6-244">minimum</span></span> |<span data-ttu-id="e83e6-245">int</span><span class="sxs-lookup"><span data-stu-id="e83e6-245">int</span></span> |<span data-ttu-id="e83e6-246">37</span><span class="sxs-lookup"><span data-stu-id="e83e6-246">37</span></span> |<span data-ttu-id="e83e6-247">메트릭 시간 간격에 원시 샘플의 최소 값</span><span class="sxs-lookup"><span data-stu-id="e83e6-247">The minimum value of the raw samples in the metric time interval</span></span> |
| <span data-ttu-id="e83e6-248">maximum</span><span class="sxs-lookup"><span data-stu-id="e83e6-248">maximum</span></span> |<span data-ttu-id="e83e6-249">int</span><span class="sxs-lookup"><span data-stu-id="e83e6-249">int</span></span> |<span data-ttu-id="e83e6-250">78</span><span class="sxs-lookup"><span data-stu-id="e83e6-250">78</span></span> |<span data-ttu-id="e83e6-251">메트릭 시간 간격에 원시 샘플의 최대 값</span><span class="sxs-lookup"><span data-stu-id="e83e6-251">The maximum value of the raw samples in the metric time interval</span></span> |
| <span data-ttu-id="e83e6-252">total</span><span class="sxs-lookup"><span data-stu-id="e83e6-252">total</span></span> |<span data-ttu-id="e83e6-253">int</span><span class="sxs-lookup"><span data-stu-id="e83e6-253">int</span></span> |<span data-ttu-id="e83e6-254">258</span><span class="sxs-lookup"><span data-stu-id="e83e6-254">258</span></span> |<span data-ttu-id="e83e6-255">메트릭 시간 간격에 원시 샘플의 총 값</span><span class="sxs-lookup"><span data-stu-id="e83e6-255">The total value of the raw samples in the metric time interval</span></span> |
| <span data-ttu-id="e83e6-256">count</span><span class="sxs-lookup"><span data-stu-id="e83e6-256">count</span></span> |<span data-ttu-id="e83e6-257">int</span><span class="sxs-lookup"><span data-stu-id="e83e6-257">int</span></span> |<span data-ttu-id="e83e6-258">4</span><span class="sxs-lookup"><span data-stu-id="e83e6-258">4</span></span> |<span data-ttu-id="e83e6-259">메트릭을 생성하는 데 사용되는 원시 샘플 수</span><span class="sxs-lookup"><span data-stu-id="e83e6-259">The number of raw samples used to generate the metric</span></span> |
| <span data-ttu-id="e83e6-260">timegrain</span><span class="sxs-lookup"><span data-stu-id="e83e6-260">timegrain</span></span> |<span data-ttu-id="e83e6-261">string</span><span class="sxs-lookup"><span data-stu-id="e83e6-261">string</span></span> |<span data-ttu-id="e83e6-262">"PT1M"</span><span class="sxs-lookup"><span data-stu-id="e83e6-262">"PT1M"</span></span> |<span data-ttu-id="e83e6-263">ISO 8601에서 메트릭의 시간 조직</span><span class="sxs-lookup"><span data-stu-id="e83e6-263">The time grain of the metric in ISO 8601</span></span> |

<span data-ttu-id="e83e6-264">모든 메트릭은 1 분 간격으로 보고됩니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-264">All metrics are reported in one-minute intervals.</span></span> <span data-ttu-id="e83e6-265">각 메트릭은 분당 최소, 최대 및 평균 값을 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-265">Every metric exposes minimum, maximum and average values per minute.</span></span>

<span data-ttu-id="e83e6-266">SearchQueriesPerSecond 메트릭의 경우, 최소값은 해당 분 동안 등록된 초당 검색 쿼리 수에 대한 가장 낮은 값입니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-266">For the SearchQueriesPerSecond metric, minimum is the lowest value for search queries per second that was registered during that minute.</span></span> <span data-ttu-id="e83e6-267">최대값도 마찬가지입니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-267">The same applies to the maximum value.</span></span> <span data-ttu-id="e83e6-268">평균은 전체 분에 대한 집계입니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-268">Average, is the aggregate across the entire minute.</span></span>
<span data-ttu-id="e83e6-269">1분 동안 이 시나리오에 관한 생각: SearchQueriesPerSecond에 대한 최대값 만큼 부하가 매우 높은 1초가 지난 후 58초 동안 중간 부하 상태가 계속되다가 마지막으로 최소값인 쿼리 한 개만 있는 1초가 이어집니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-269">Think about this scenario during one minute: one second of high load that is the maximum for SearchQueriesPerSecond, followed by 58 seconds of average load, and finally one second with only one query, which is the minimum.</span></span>

<span data-ttu-id="e83e6-270">ThrottledSearchQueriesPercentage의 경우, 최소값, 최대값, 평균 및 합계가 모두 같은 값이며, 이 값은 1분 동안 총 검색 쿼리 수에서 제한된 검색 쿼리의 비율입니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-270">For ThrottledSearchQueriesPercentage, minimum, maximum, average and total, all have the same value: the percentage of search queries that were throttled, from the total number of search queries during one minute.</span></span>

## <a name="analyzing-your-data-with-power-bi"></a><span data-ttu-id="e83e6-271">Power BI를 사용하여 데이터 분석</span><span class="sxs-lookup"><span data-stu-id="e83e6-271">Analyzing your data With Power BI</span></span>

<span data-ttu-id="e83e6-272">[Power BI](https://powerbi.microsoft.com)를 사용하여 데이터를 탐색하고 시각화하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-272">We recommend using [Power BI](https://powerbi.microsoft.com) to explore and visualize your data.</span></span> <span data-ttu-id="e83e6-273">Azure Storage 계정에 쉽게 연결하고 데이터 분석을 신속하게 시작할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-273">You can easily connect it to your Azure Storage Account and quickly start analyzing your data.</span></span>

<span data-ttu-id="e83e6-274">Azure Search는 미리 정의된 차트와 테이블을 사용하여 검색 트래픽을 모니터링하고 이해할 수 있는 [Power BI 콘텐츠 팩](https://app.powerbi.com/getdata/services/azure-search)을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-274">Azure Search provides a [Power BI Content Pack](https://app.powerbi.com/getdata/services/azure-search) that allows you to monitor and understand your search traffic with predefined charts and tables.</span></span> <span data-ttu-id="e83e6-275">자동으로 데이터를 연결하고 검색 서비스에 대한 시각적 정보를 제공하는 Power BI 보고서 집합을 포함하고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e83e6-275">It contains a set of Power BI reports that automatically connect to your data and provide visual insights about your search service.</span></span> <span data-ttu-id="e83e6-276">자세한 내용은 [콘텐츠 팩 도움말 페이지](https://powerbi.microsoft.com/documentation/powerbi-content-pack-azure-search/)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="e83e6-276">For more information, see the [content pack help page](https://powerbi.microsoft.com/documentation/powerbi-content-pack-azure-search/).</span></span>

![Azure Search에 대한 Power BI 대시보드][4]

## <a name="next-steps"></a><span data-ttu-id="e83e6-278">다음 단계</span><span class="sxs-lookup"><span data-stu-id="e83e6-278">Next steps</span></span>
<span data-ttu-id="e83e6-279">기존 서비스에 대해 파티션과 복제본의 할당 균형을 조정하는 방법에 대한 지침은 [복제본 및 파티션 확장](search-limits-quotas-capacity.md)을 검토하세요.</span><span class="sxs-lookup"><span data-stu-id="e83e6-279">Review [Scale replicas and partitions](search-limits-quotas-capacity.md) for guidance on how to balance the allocation of partitions and replicas for an existing service.</span></span>

<span data-ttu-id="e83e6-280">서비스 관리에 대한 자세한 내용은 [Microsoft Azure에서 검색 서비스 관리](search-manage.md) 또는 튜닝 지침은 [성능 및 최적화](search-performance-optimization.md)를 방문하십시오.</span><span class="sxs-lookup"><span data-stu-id="e83e6-280">Visit [Manage your Search service on Microsoft Azure](search-manage.md) for more information on service administration, or [Performance and optimization](search-performance-optimization.md) for tuning guidance.</span></span>

<span data-ttu-id="e83e6-281">놀라운 보고서 만들기에 대해 자세히 알아보세요.</span><span class="sxs-lookup"><span data-stu-id="e83e6-281">Learn more about creating amazing reports.</span></span> <span data-ttu-id="e83e6-282">자세한 내용은 [Power BI Desktop 시작](https://powerbi.microsoft.com/documentation/powerbi-desktop-getting-started/)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="e83e6-282">See [Getting started with Power BI Desktop](https://powerbi.microsoft.com/documentation/powerbi-desktop-getting-started/) for details</span></span>

<!--Image references-->
[1]: ./media/search-monitor-usage/AzSearch-Monitor-BarChart.PNG
[2]: ./media/search-monitor-usage/AzureSearch-Monitor1.PNG
[3]: ./media/search-monitor-usage/AzureSearch-Enable-Monitoring.PNG
[4]: ./media/search-monitor-usage/AzureSearch-PowerBI-Dashboard.png
