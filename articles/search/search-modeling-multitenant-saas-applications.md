---
title: "Azure 검색의 다중 테 넌 트 aaaModeling | Microsoft Docs"
description: "Azure 검색을 사용할 때의 다중 테넌트 SaaS 응용 프로그램에 대한 일반적인 디자인 패턴에 대해 알아봅니다."
services: search
manager: jhubbard
author: ashmaka
documentationcenter: 
ms.assetid: 72e9696a-553b-47dc-9e05-a82db0ebf094
ms.service: search
ms.devlang: NA
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 10/26/2016
ms.author: ashmaka
ms.openlocfilehash: dd46cda772d32566b9aaa18d407f12fdf178bd43
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="design-patterns-for-multitenant-saas-applications-and-azure-search"></a><span data-ttu-id="9bee4-103">다중 테넌트 SaaS 응용 프로그램 및 Azure 검색에 대한 디자인 패턴</span><span class="sxs-lookup"><span data-stu-id="9bee4-103">Design patterns for multitenant SaaS applications and Azure Search</span></span>
<span data-ttu-id="9bee4-104">Hello를 제공 하는 다중 테 넌 트 응용 프로그램은 다른 테 넌 트의 hello 데이터를 공유 하거나 볼 수 있는 테 넌 트가 동일한 서비스와 기능 tooany 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-104">A multitenant application is one that provides hello same services and capabilities tooany number of tenants who cannot see or share hello data of any other tenant.</span></span> <span data-ttu-id="9bee4-105">이 문서에서는 Azure 검색을 사용하여 작성된 다중 테넌트 응용 프로그램에 대한 테넌트 격리 전략에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-105">This document discusses tenant isolation strategies for multitenant applications built with Azure Search.</span></span>

## <a name="azure-search-concepts"></a><span data-ttu-id="9bee4-106">Azure 검색 개념</span><span class="sxs-lookup"><span data-stu-id="9bee4-106">Azure Search concepts</span></span>
<span data-ttu-id="9bee4-107">검색-as a service 솔루션으로 Azure 검색 개발자 tooadd 풍부한 검색 모든 인프라를 관리 하거나 검색 전문가가 되 고 하지 않고 tooapplications 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-107">As a search-as-a-service solution, Azure Search allows developers tooadd rich search experiences tooapplications without managing any infrastructure or becoming an expert in search.</span></span> <span data-ttu-id="9bee4-108">데이터는 toohello 서비스를 업로드 하 고 다음 hello 클라우드에 저장 합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-108">Data is uploaded toohello service and then stored in hello cloud.</span></span> <span data-ttu-id="9bee4-109">간단한 요청 toohello Azure 검색 API를 사용 하 여 hello 데이터 다음 수정 및 검색할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-109">Using simple requests toohello Azure Search API, hello data can then be modified and searched.</span></span> <span data-ttu-id="9bee4-110">hello 서비스의 개요를 확인할 수 있습니다 [이 여기서](http://aka.ms/whatisazsearch)합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-110">An overview of hello service can be found in [this article](http://aka.ms/whatisazsearch).</span></span> <span data-ttu-id="9bee4-111">디자인 패턴을 설명 하기 전에 중요 한 toounderstand 몇 가지 개념에 대해 Azure 검색 합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-111">Before discussing design patterns, it is important toounderstand some concepts in Azure Search.</span></span>

### <a name="search-services-indexes-fields-and-documents"></a><span data-ttu-id="9bee4-112">검색 서비스, 인덱스, 필드 및 문서</span><span class="sxs-lookup"><span data-stu-id="9bee4-112">Search services, indexes, fields, and documents</span></span>
<span data-ttu-id="9bee4-113">Tooa 구독 한 Azure 검색을 사용할 경우 *검색 서비스*합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-113">When using Azure Search, one subscribes tooa *search service*.</span></span> <span data-ttu-id="9bee4-114">에 저장 된 데이터를 업로드 tooAzure 검색으로는 *인덱스* hello 검색 서비스 내에서.</span><span class="sxs-lookup"><span data-stu-id="9bee4-114">As data is uploaded tooAzure Search, it is stored in an *index* within hello search service.</span></span> <span data-ttu-id="9bee4-115">하나의 서비스 내에 많은 수의 인덱스가 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-115">There can be a number of indexes within a single service.</span></span> <span data-ttu-id="9bee4-116">데이터베이스의 toouse hello 같은 익숙한 개념을 hello 검색 서비스 수 비유할 tooa 데이터베이스 hello 인덱스 서비스 내에서 데이터베이스 내에서 tootables 비유할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-116">toouse hello familiar concepts of databases, hello search service can be likened tooa database while hello indexes within a service can be likened tootables within a database.</span></span>

<span data-ttu-id="9bee4-117">검색 서비스 내의 각 인덱스는 많은 수의 사용자 지정 가능 *필드*로 정의되는 고유 스키마를 갖습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-117">Each index within a search service has its own schema, which is defined by a number of customizable *fields*.</span></span> <span data-ttu-id="9bee4-118">데이터가 개별 hello 형태로 tooan Azure 검색 인덱스 추가 *문서*합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-118">Data is added tooan Azure Search index in hello form of individual *documents*.</span></span> <span data-ttu-id="9bee4-119">각 문서 업로드 tooa 특정 인덱스 및 해당 인덱스의 스키마에 포함 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-119">Each document must be uploaded tooa particular index and must fit that index's schema.</span></span> <span data-ttu-id="9bee4-120">Azure 검색을 사용 하 여 데이터를 검색할 때는 hello 전체 텍스트 검색 쿼리는 특정 인덱스에 대해 실행 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-120">When searching data using Azure Search, hello full-text search queries are issued against a particular index.</span></span>  <span data-ttu-id="9bee4-121">toocompare 데이터베이스의 이러한 개념 toothose 필드를 테이블에 비유할 toocolumns 수 및 문서에 비유할 toorows 일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-121">toocompare these concepts toothose of a database, fields can be likened toocolumns in a table and documents can be likened toorows.</span></span>

### <a name="scalability"></a><span data-ttu-id="9bee4-122">확장성</span><span class="sxs-lookup"><span data-stu-id="9bee4-122">Scalability</span></span>
<span data-ttu-id="9bee4-123">모든 Azure 검색 서비스에 표준 hello [가격 책정 계층](https://azure.microsoft.com/pricing/details/search/) 2 차원에서 크기를 조정할 수: 저장소 및 가용성입니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-123">Any Azure Search service in hello Standard [pricing tier](https://azure.microsoft.com/pricing/details/search/) can scale in two dimensions: storage and availability.</span></span>

* <span data-ttu-id="9bee4-124">*파티션* 검색 서비스의 tooincrease hello 저장소를 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-124">*Partitions* can be added tooincrease hello storage of a search service.</span></span>
* <span data-ttu-id="9bee4-125">*복제본* tooa 서비스 tooincrease hello 처리량 검색 서비스가 처리할 수 있는 요청을 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-125">*Replicas* can be added tooa service tooincrease hello throughput of requests that a search service can handle.</span></span>

<span data-ttu-id="9bee4-126">추가 및 제거 파티션과 복제본에는 데이터 캡슐화 된 트래픽과 hello 응용 프로그램 수요 hello 양의 hello 검색 서비스 toogrow의 hello 용량을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-126">Adding and removing partitions and replicas at will allow hello capacity of hello search service toogrow with hello amount of data and traffic hello application demands.</span></span> <span data-ttu-id="9bee4-127">순서로 검색 서비스 tooachieve에 대 한 읽기 [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), 두 개의 복제본 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-127">In order for a search service tooachieve a read [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), it requires two replicas.</span></span> <span data-ttu-id="9bee4-128">요청 서비스 tooachieve에 대 한 읽기 / 쓰기 [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), 세 개의 복제본 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-128">In order for a service tooachieve a read-write [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), it requires three replicas.</span></span>

### <a name="service-and-index-limits-in-azure-search"></a><span data-ttu-id="9bee4-129">Azure 검색의 서비스 및 인덱스 제한 사항</span><span class="sxs-lookup"><span data-stu-id="9bee4-129">Service and index limits in Azure Search</span></span>
<span data-ttu-id="9bee4-130">다른 몇 가지 [가격대](https://azure.microsoft.com/pricing/details/search/) Azure 검색에서는 각 hello 계층에 다른 [제한 및 할당량](search-limits-quotas-capacity.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-130">There are a few different [pricing tiers](https://azure.microsoft.com/pricing/details/search/) in Azure Search, each of hello tiers has different [limits and quotas](search-limits-quotas-capacity.md).</span></span> <span data-ttu-id="9bee4-131">이러한 제한 중 일부는 hello 서비스 수준에, 일부는 hello 인덱스 수준에서 고 hello 파티션 수준입니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-131">Some of these limits are at hello service-level, some are at hello index-level, and some are at hello partition-level.</span></span>

|  | <span data-ttu-id="9bee4-132">Basic</span><span class="sxs-lookup"><span data-stu-id="9bee4-132">Basic</span></span> | <span data-ttu-id="9bee4-133">Standard1</span><span class="sxs-lookup"><span data-stu-id="9bee4-133">Standard1</span></span> | <span data-ttu-id="9bee4-134">Standard2</span><span class="sxs-lookup"><span data-stu-id="9bee4-134">Standard2</span></span> | <span data-ttu-id="9bee4-135">Standard3</span><span class="sxs-lookup"><span data-stu-id="9bee4-135">Standard3</span></span> | <span data-ttu-id="9bee4-136">Standard3 HD</span><span class="sxs-lookup"><span data-stu-id="9bee4-136">Standard3 HD</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="9bee4-137">서비스당 최대 복제본</span><span class="sxs-lookup"><span data-stu-id="9bee4-137">Maximum Replicas per Service</span></span> |<span data-ttu-id="9bee4-138">3</span><span class="sxs-lookup"><span data-stu-id="9bee4-138">3</span></span> |<span data-ttu-id="9bee4-139">12</span><span class="sxs-lookup"><span data-stu-id="9bee4-139">12</span></span> |<span data-ttu-id="9bee4-140">12</span><span class="sxs-lookup"><span data-stu-id="9bee4-140">12</span></span> |<span data-ttu-id="9bee4-141">12</span><span class="sxs-lookup"><span data-stu-id="9bee4-141">12</span></span> |<span data-ttu-id="9bee4-142">12</span><span class="sxs-lookup"><span data-stu-id="9bee4-142">12</span></span> |
| <span data-ttu-id="9bee4-143">서비스당 최대 파티션</span><span class="sxs-lookup"><span data-stu-id="9bee4-143">Maximum Partitions per Service</span></span> |<span data-ttu-id="9bee4-144">1</span><span class="sxs-lookup"><span data-stu-id="9bee4-144">1</span></span> |<span data-ttu-id="9bee4-145">12</span><span class="sxs-lookup"><span data-stu-id="9bee4-145">12</span></span> |<span data-ttu-id="9bee4-146">12</span><span class="sxs-lookup"><span data-stu-id="9bee4-146">12</span></span> |<span data-ttu-id="9bee4-147">12</span><span class="sxs-lookup"><span data-stu-id="9bee4-147">12</span></span> |<span data-ttu-id="9bee4-148">1</span><span class="sxs-lookup"><span data-stu-id="9bee4-148">1</span></span> |
| <span data-ttu-id="9bee4-149">서비스당 최대 검색 단위(복제본*파티션)</span><span class="sxs-lookup"><span data-stu-id="9bee4-149">Maximum Search Units (Replicas*Partitions) per Service</span></span> |<span data-ttu-id="9bee4-150">3</span><span class="sxs-lookup"><span data-stu-id="9bee4-150">3</span></span> |<span data-ttu-id="9bee4-151">36</span><span class="sxs-lookup"><span data-stu-id="9bee4-151">36</span></span> |<span data-ttu-id="9bee4-152">36</span><span class="sxs-lookup"><span data-stu-id="9bee4-152">36</span></span> |<span data-ttu-id="9bee4-153">36</span><span class="sxs-lookup"><span data-stu-id="9bee4-153">36</span></span> |<span data-ttu-id="9bee4-154">36(파티션 최대 3개)</span><span class="sxs-lookup"><span data-stu-id="9bee4-154">36 (max 3 partitions)</span></span> |
| <span data-ttu-id="9bee4-155">서비스당 최대 문서</span><span class="sxs-lookup"><span data-stu-id="9bee4-155">Maximum Documents per Service</span></span> |<span data-ttu-id="9bee4-156">1백만</span><span class="sxs-lookup"><span data-stu-id="9bee4-156">1 million</span></span> |<span data-ttu-id="9bee4-157">1억 8천만</span><span class="sxs-lookup"><span data-stu-id="9bee4-157">180 million</span></span> |<span data-ttu-id="9bee4-158">7억 2천만</span><span class="sxs-lookup"><span data-stu-id="9bee4-158">720 million</span></span> |<span data-ttu-id="9bee4-159">14억</span><span class="sxs-lookup"><span data-stu-id="9bee4-159">1.4 billion</span></span> |<span data-ttu-id="9bee4-160">6억</span><span class="sxs-lookup"><span data-stu-id="9bee4-160">600 million</span></span> |
| <span data-ttu-id="9bee4-161">서비스당 최대 저장소</span><span class="sxs-lookup"><span data-stu-id="9bee4-161">Maximum Storage per Service</span></span> |<span data-ttu-id="9bee4-162">2 GB</span><span class="sxs-lookup"><span data-stu-id="9bee4-162">2 GB</span></span> |<span data-ttu-id="9bee4-163">300GB</span><span class="sxs-lookup"><span data-stu-id="9bee4-163">300 GB</span></span> |<span data-ttu-id="9bee4-164">1.2TB</span><span class="sxs-lookup"><span data-stu-id="9bee4-164">1.2 TB</span></span> |<span data-ttu-id="9bee4-165">2.4TB</span><span class="sxs-lookup"><span data-stu-id="9bee4-165">2.4 TB</span></span> |<span data-ttu-id="9bee4-166">600GB</span><span class="sxs-lookup"><span data-stu-id="9bee4-166">600 GB</span></span> |
| <span data-ttu-id="9bee4-167">파티션당 최대 문서</span><span class="sxs-lookup"><span data-stu-id="9bee4-167">Maximum Documents per Partition</span></span> |<span data-ttu-id="9bee4-168">1백만</span><span class="sxs-lookup"><span data-stu-id="9bee4-168">1 million</span></span> |<span data-ttu-id="9bee4-169">1천 5백만</span><span class="sxs-lookup"><span data-stu-id="9bee4-169">15 million</span></span> |<span data-ttu-id="9bee4-170">6천만</span><span class="sxs-lookup"><span data-stu-id="9bee4-170">60 million</span></span> |<span data-ttu-id="9bee4-171">1억 2천만</span><span class="sxs-lookup"><span data-stu-id="9bee4-171">120 million</span></span> |<span data-ttu-id="9bee4-172">2억</span><span class="sxs-lookup"><span data-stu-id="9bee4-172">200 million</span></span> |
| <span data-ttu-id="9bee4-173">파티션당 최대 저장소</span><span class="sxs-lookup"><span data-stu-id="9bee4-173">Maximum Storage per Partition</span></span> |<span data-ttu-id="9bee4-174">2 GB</span><span class="sxs-lookup"><span data-stu-id="9bee4-174">2 GB</span></span> |<span data-ttu-id="9bee4-175">25GB</span><span class="sxs-lookup"><span data-stu-id="9bee4-175">25 GB</span></span> |<span data-ttu-id="9bee4-176">100GB</span><span class="sxs-lookup"><span data-stu-id="9bee4-176">100 GB</span></span> |<span data-ttu-id="9bee4-177">200GB</span><span class="sxs-lookup"><span data-stu-id="9bee4-177">200 GB</span></span> |<span data-ttu-id="9bee4-178">200GB</span><span class="sxs-lookup"><span data-stu-id="9bee4-178">200 GB</span></span> |
| <span data-ttu-id="9bee4-179">서비스당 최대 인덱스</span><span class="sxs-lookup"><span data-stu-id="9bee4-179">Maximum Indexes per Service</span></span> |<span data-ttu-id="9bee4-180">5</span><span class="sxs-lookup"><span data-stu-id="9bee4-180">5</span></span> |<span data-ttu-id="9bee4-181">50</span><span class="sxs-lookup"><span data-stu-id="9bee4-181">50</span></span> |<span data-ttu-id="9bee4-182">200</span><span class="sxs-lookup"><span data-stu-id="9bee4-182">200</span></span> |<span data-ttu-id="9bee4-183">200</span><span class="sxs-lookup"><span data-stu-id="9bee4-183">200</span></span> |<span data-ttu-id="9bee4-184">3000(인덱서/파티션 최대 1000)</span><span class="sxs-lookup"><span data-stu-id="9bee4-184">3000 (max 1000 indexes/partition)</span></span> |

#### <a name="s3-high-density"></a><span data-ttu-id="9bee4-185">S3 고밀도</span><span class="sxs-lookup"><span data-stu-id="9bee4-185">S3 High Density'</span></span>
<span data-ttu-id="9bee4-186">Azure 검색의 S3 가격 책정 계층은 다음과 같이 다중 테 넌 트 시나리오용으로 특별히 설계 된 hello 높은 밀도 (HD) 모드에 대 한 옵션입니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-186">In Azure Search’s S3 pricing tier, there is an option for hello High Density (HD) mode designed specifically for multitenant scenarios.</span></span> <span data-ttu-id="9bee4-187">대부분의 경우에서 필요한 toosupport 단순성 및 비용 효율성의 단일 서비스 tooachieve hello 이점에서 테 넌 트를 더 작은 많은 것합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-187">In many cases, it is necessary toosupport a large number of smaller tenants under a single service tooachieve hello benefits of simplicity and cost efficiency.</span></span>

<span data-ttu-id="9bee4-188">S3 HD hello 많은 작은 인덱스 toobe 단일 검색 서비스의 hello 관리에서 사용 하 여 인덱스 파티션 기능 toohost hello에 대 한 단일 서비스에서 더 많은 인덱스 아웃 hello 기능 tooscale 거래 하 여 압축을 허용 합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-188">S3 HD allows for hello many small indexes toobe packed under hello management of a single search service by trading hello ability tooscale out indexes using partitions for hello ability toohost more indexes in a single service.</span></span>

<span data-ttu-id="9bee4-189">구체적으로 S3 서비스 too1.4 십억 문서를 함께 호스팅할 수 있었던 인덱스 1 자에서 200 사이 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-189">Concretely, an S3 service could have between 1 and 200 indexes that together could host up too1.4 billion documents.</span></span> <span data-ttu-id="9bee4-190">S3 HD hello에 다른 손을 사용 하면 개별 인덱스 tooonly too1 백만 문서 위로 이동 하지만 파티션당 200 백만 총 문서 수와 함께 서비스 당 too3000) (위쪽 파티션당 too1000 인덱스를 처리할 수 있습니다 (too600를 서비스 당 백만).</span><span class="sxs-lookup"><span data-stu-id="9bee4-190">An S3 HD on hello other hand would allow individual indexes tooonly go up too1 million documents, but it can handle up too1000 indexes per partition (up too3000 per service) with a total document count of 200 million per partition (up too600 million per service).</span></span>

## <a name="considerations-for-multitenant-applications"></a><span data-ttu-id="9bee4-191">다중 테넌트 응용 프로그램에 대한 고려 사항</span><span class="sxs-lookup"><span data-stu-id="9bee4-191">Considerations for multitenant applications</span></span>
<span data-ttu-id="9bee4-192">다중 테 넌 트 응용 프로그램 효과적으로 배포 해야 hello 테 넌 트 간에 리소스 일정 수준의 hello 간의 개인 정보 보호를 유지 하면서 다양 한 테 넌 트가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-192">Multitenant applications must effectively distribute resources among hello tenants while preserving some level of privacy between hello various tenants.</span></span> <span data-ttu-id="9bee4-193">이러한 응용 프로그램에 대 한 hello 아키텍처를 설계할 때 몇 가지 고려해 야 할 사항이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-193">There are a few considerations when designing hello architecture for such an application:</span></span>

* <span data-ttu-id="9bee4-194">*테 넌 트 격리:* 응용 프로그램 개발자는 테 넌 트가 없는 권한이 없음 했거나 다른 테 넌 트의 데이터에 액세스 toohello 원치 않는 tootake 적절 한 조치 tooensure 개발 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-194">*Tenant isolation:* Application developers need tootake appropriate measures tooensure that no tenants have unauthorized or unwanted access toohello data of other tenants.</span></span> <span data-ttu-id="9bee4-195">데이터 프라이버시의 hello 관점 외 테 넌 트 격리 전략 시끄러운 이웃에서 보호 및 공유 리소스를 효과적으로 관리를 해야합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-195">Beyond hello perspective of data privacy, tenant isolation strategies require effective management of shared resources and protection from noisy neighbors.</span></span>
* <span data-ttu-id="9bee4-196">*클라우드 리소스 비용:* 다른 응용 프로그램과 마찬가지로, 소프트웨어 솔루션은 다중 테넌트 응용 프로그램의 구성 요소로서 비용 경쟁력을 유지해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-196">*Cloud resource cost:* As with any other application, software solutions must remain cost competitive as a component of a multitenant application.</span></span>
* <span data-ttu-id="9bee4-197">*작업의 용이성:* 다중 테 넌 트 아키텍처를 개발할 때 hello hello 응용 프로그램의 작업에 미치는 영향 및 복잡도 매우 중요 합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-197">*Ease of Operations:* When developing a multitenant architecture, hello impact on hello application's operations and complexity is an important consideration.</span></span> <span data-ttu-id="9bee4-198">Azure Search는 [99.9% SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/)를 보장합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-198">Azure Search has a [99.9% SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span></span>
* <span data-ttu-id="9bee4-199">*전역 공간:* tooeffectively serve 테 넌 트 hello 전 세계에 분산 되어 있는 다중 테 넌 트 응용 프로그램 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-199">*Global footprint:* Multitenant applications may need tooeffectively serve tenants which are distributed across hello globe.</span></span>
* <span data-ttu-id="9bee4-200">*확장성:* 응용 프로그램 개발자 들이 충분히 낮은 수준의 응용 프로그램 복잡성을 유지 하 고 테 넌 트 수를 사용 하 여 hello 응용 프로그램 tooscale 디자인 간에 조정 방법을 tooconsider 필요 하며 테 넌 트의 데이터 크기의 hello 및 작업입니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-200">*Scalability:* Application developers need tooconsider how they reconcile between maintaining a sufficiently low level of application complexity and designing hello application tooscale with number of tenants and hello size of tenants' data and workload.</span></span>

<span data-ttu-id="9bee4-201">Azure 검색에서는 사용 되는 tooisolate 테 넌 트의 데이터 및 작업 수 있는 몇 가지 경계를 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-201">Azure Search offers a few boundaries that can be used tooisolate tenants’ data and workload.</span></span>

## <a name="modeling-multitenancy-with-azure-search"></a><span data-ttu-id="9bee4-202">Azure 검색을 사용한 다중 테넌트 모델링</span><span class="sxs-lookup"><span data-stu-id="9bee4-202">Modeling multitenancy with Azure Search</span></span>
<span data-ttu-id="9bee4-203">다중 테 넌 트 시나리오의 경우 hello 서비스, 인덱스, 또는 둘 다에서 해당 테 넌 트를 분할 하 hello 응용 프로그램 개발자 하나 이상의 검색 서비스를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-203">In hello case of a multitenant scenario, hello application developer consumes one or more search services and divide their tenants among services, indexes, or both.</span></span> <span data-ttu-id="9bee4-204">Azure 검색에서는 다중 테넌트 시나리오를 모델링할 때 몇 가지 일반적인 패턴을 따릅니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-204">Azure Search has a few common patterns when modeling a multitenant scenario:</span></span>

1. <span data-ttu-id="9bee4-205">*테넌트당 인덱스:* 각 테넌트는 다른 테넌트와 공유되는 검색 서비스 내의 자체 인덱스를 갖습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-205">*Index per tenant:* Each tenant has its own index within a search service that is shared with other tenants.</span></span>
2. <span data-ttu-id="9bee4-206">*테넌트당 서비스:* 각 테넌트는 자체 전용 Azure Search 서비스를 갖습니다. 이 검색 서비스는 가장 높은 수준의 데이터 및 워크로드 분리를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-206">*Service per tenant:* Each tenant has its own dedicated Azure Search service, offering highest level of data and workload separation.</span></span>
3. <span data-ttu-id="9bee4-207">*두 가지 조합:* 좀 더 작은 테넌트에는 공유 서비스 내에서 개별 인덱스가 할당되지만, 좀 더 큰 활성 테넌트에는 전용 서비스가 할당됩니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-207">*Mix of both:* Larger, more-active tenants are assigned dedicated services while smaller tenants are assigned individual indexes within shared services.</span></span>

## <a name="1-index-per-tenant"></a><span data-ttu-id="9bee4-208">1. 테넌트당 인덱스</span><span class="sxs-lookup"><span data-stu-id="9bee4-208">1. Index per tenant</span></span>
![Hello 인덱스 당-테 넌 트 모델을 묘사](./media/search-modeling-multitenant-saas-applications/azure-search-index-per-tenant.png)

<span data-ttu-id="9bee4-210">테넌트당 인덱스 모델에서 여러 테넌트가 단일 Azure 검색 서비스에 포함되며, 각 테넌트는 고유 인덱스를 갖습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-210">In an index-per-tenant model, multiple tenants occupy a single Azure Search service where each tenant has their own index.</span></span>

<span data-ttu-id="9bee4-211">모든 검색 요청 및 문서 작업은 Azure 검색의 인덱스 수준에서 실행되므로 테넌트의 데이터 격리가 구현됩니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-211">Tenants achieve data isolation because all search requests and document operations are issued at an index level in Azure Search.</span></span> <span data-ttu-id="9bee4-212">Hello 응용 프로그램 계층 toodirect 다양 한 테 넌 트의 트래픽 toohello 적절 한 인덱스를 모든 테 넌 트 간에 hello 서비스 수준에서 리소스를 관리 하면서 hello hello 요구 인식이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-212">In hello application layer, there is hello need awareness toodirect hello various tenants’ traffic toohello proper indexes while also managing resources at hello service level across all tenants.</span></span>

<span data-ttu-id="9bee4-213">Hello 테 넌 인덱스 당 모델의 주요 특성은 hello 응용 프로그램의 테 넌 트 간에 검색 서비스의 hello 응용 프로그램 개발자 toooversubscribe hello 용량에 대 한 hello 기능입니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-213">A key attribute of hello index-per-tenant model is hello ability for hello application developer toooversubscribe hello capacity of a search service among hello application’s tenants.</span></span> <span data-ttu-id="9bee4-214">에 배포할 수는 작업 부하의 불균등 한 배포, 테 넌 트 수의 hello 최적 조합을 hello 테 넌 트가 있는 경우 검색 서비스의 인덱스 tooaccommodate 매우 진행 중, 리소스 사용량이 테 넌 트의 숫자의 긴 꼬리를 동시에 처리 하는 동안 덜 활성화 테 넌 트입니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-214">If hello tenants have an uneven distribution of workload, hello optimal combination of tenants can be distributed across a search service’s indexes tooaccommodate a number of highly active, resource-intensive tenants while simultaneously serving a long tail of less active tenants.</span></span> <span data-ttu-id="9bee4-215">hello 대신 hello 없어서 hello 모델 toohandle 중요시 각 테 넌 트 동시에 매우 활성화 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-215">hello trade-off is hello inability of hello model toohandle situations where each tenant is concurrently highly active.</span></span>

<span data-ttu-id="9bee4-216">hello 테 넌 인덱스 당 모델에서는 전체 Azure 검색 서비스 선불 구입 되는 가변 비용 모델에 대 한 hello 기초를 제공 테 넌 트와 이후에 채워집니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-216">hello index-per-tenant model provides hello basis for a variable cost model, where an entire Azure Search service is bought up-front and then subsequently filled with tenants.</span></span> <span data-ttu-id="9bee4-217">따라서 사용 되지 않는 용량 toobe 평가판 및 무료 계정에 대 한 지정 된 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-217">This allows for unused capacity toobe designated for trials and free accounts.</span></span>

<span data-ttu-id="9bee4-218">전역 사용 공간 응용 프로그램에 대 한 hello 테 넌 인덱스 당 모델 hello 가장 효율적인 아닐 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-218">For applications with a global footprint, hello index-per-tenant model may not be hello most efficient.</span></span> <span data-ttu-id="9bee4-219">응용 프로그램의 테 넌 트 hello 전 세계에 분산 하는 경우 별도 서비스에서 각각의 비용을 복제할 수 있습니다는 각 지역에 대해 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-219">If an application's tenants are distributed across hello globe, a separate service may be necessary for each region which may duplicate costs across each of them.</span></span>

<span data-ttu-id="9bee4-220">Azure 검색의 hello 개별 인덱스와 인덱스 toogrow의 총 hello hello 눈금에 대 한 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-220">Azure Search allows for hello scale of both hello individual indexes and hello total number of indexes toogrow.</span></span> <span data-ttu-id="9bee4-221">적절 한 가격 경우 파티션 및 복제본 추가할 수 있습니다 때 hello 서비스 내에서 개별 인덱스 toohello 전체 검색 서비스 저장소 또는 트래픽 측면에서 너무 커져 계층 선택 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-221">If an appropriate pricing tier is chosen, partitions and replicas can be added toohello entire search service when an individual index within hello service grows too large in terms of storage or traffic.</span></span>

<span data-ttu-id="9bee4-222">단일 서비스에 대 한 인덱스의 총 hello 너무 커지면, 다른 서비스를 프로 비전 toobe tooaccommodate hello 새 테 넌 트에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-222">If hello total number of indexes grows too large for a single service, another service has toobe provisioned tooaccommodate hello new tenants.</span></span> <span data-ttu-id="9bee4-223">Hello 인덱스에서 hello 데이터에 다른 인덱스 한 개 toohello에서 수동으로 복사한 toobe 인덱스 새로운 서비스를 추가할 때 검색 서비스 간에 이동 toobe 있으면 Azure 검색에서 이동 하는 인덱스 toobe에 대 한 허용 하지 않으므로 합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-223">If indexes have toobe moved between search services as new services are added, hello data from hello index has toobe manually copied from one index toohello other as Azure Search does not allow for an index toobe moved.</span></span>

## <a name="2-service-per-tenant"></a><span data-ttu-id="9bee4-224">2. 테넌트당 서비스</span><span class="sxs-lookup"><span data-stu-id="9bee4-224">2. Service per tenant</span></span>
![Hello 테 넌 당 서비스 모델을 묘사](./media/search-modeling-multitenant-saas-applications/azure-search-service-per-tenant.png)

<span data-ttu-id="9bee4-226">테넌트당 서비스 아키텍처에서 각 테넌트에는 자체 검색 서비스가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-226">In a service-per-tenant architecture, each tenant has its own search service.</span></span>

<span data-ttu-id="9bee4-227">이 모델에서는 hello 응용 프로그램에는 hello 최대 해당 테 넌 트에 대 한 격리 수준을 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-227">In this model, hello application achieves hello maximum level of isolation for its tenants.</span></span> <span data-ttu-id="9bee4-228">각 서비스에는 별도의 API 키 외에도, 검색 요청을 처리하기 위한 전용 저장소 및 처리량을 갖습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-228">Each service has dedicated storage and throughput for handling search request as well as separate API keys.</span></span>

<span data-ttu-id="9bee4-229">각 테 넌 트에는 큰 사용 공간이 위치나 hello 워크 로드가 테 넌 트 tootenant에서 거의 가변성 응용 프로그램의 경우 hello 서비스 당 테 넌 model은 효과적 리소스 다양 한 테 넌 트의 워크 로드 간에 공유 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-229">For applications where each tenant has a large footprint or hello workload has little variability from tenant tootenant, hello service-per-tenant model is an effective choice as resources are not shared across various tenants’ workloads.</span></span>

<span data-ttu-id="9bee4-230">또한 테 넌 트 모델에 대해 서비스는 예측 가능 하 고 고정 비용 모델의 hello 혜택을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-230">A service per tenant model also offers hello benefit of a predictable, fixed cost model.</span></span> <span data-ttu-id="9bee4-231">그러나 테 넌 트 toofill 있을 때까지 전체 검색 서비스에 없는 선행 투자는, hello 비용 당-테 넌 트 보다 크면 인덱스 당-테 넌 트 모델입니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-231">There is no up-front investment in an entire search service until there is a tenant toofill it, however hello cost-per-tenant is higher than an index-per-tenant model.</span></span>

<span data-ttu-id="9bee4-232">hello 서비스 당 테 넌 모델은 전역 사용 공간 응용 프로그램에 사용 하면 효율적인 옵션입니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-232">hello service-per-tenant model is an efficient choice for applications with a global footprint.</span></span> <span data-ttu-id="9bee4-233">지리적으로 분산 테 넌 트와 것은 쉽게 toohave 각 테 넌 트의 서비스 hello 적절 한 영역입니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-233">With geographically-distributed tenants, it is easy toohave each tenant's service in hello appropriate region.</span></span>

<span data-ttu-id="9bee4-234">이 패턴의 크기를 조정 hello 과제 개별 테 넌 트가 해당 서비스 보다 커지는 경우 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-234">hello challenges in scaling this pattern arise when individual tenants outgrow their service.</span></span> <span data-ttu-id="9bee4-235">Azure 검색은 모든 데이터는 수동으로 복사 toobe tooa 새 서비스를 갖도록의 가격 책정 검색 서비스의 계층 업그레이드 hello를 현재 지원 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-235">Azure Search does not currently support upgrading hello pricing tier of a search service, so all data would have toobe manually copied tooa new service.</span></span>

## <a name="3-mixing-both-models"></a><span data-ttu-id="9bee4-236">3. 두 모델 조합</span><span class="sxs-lookup"><span data-stu-id="9bee4-236">3. Mixing both models</span></span>
<span data-ttu-id="9bee4-237">다중 테넌트를 모델링하기 위한 또 다른 패턴은 테넌트당 인덱스 및 테넌트당 서비스 전략을 조합하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-237">Another pattern for modeling multitenancy is mixing both index-per-tenant and service-per-tenant strategies.</span></span>

<span data-ttu-id="9bee4-238">Hello 두 패턴을 혼합 하 여 hello 덜 활성, 더 작은 테 넌 트의 긴 꼬리 공유 서비스에서 인덱스를 차지할 수 하는 동안 응용 프로그램의 가장 큰 테 넌 트 전용된 서비스를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-238">By mixing hello two patterns, an application's largest tenants can occupy dedicated services while hello long tail of less active, smaller tenants can occupy indexes in a shared service.</span></span> <span data-ttu-id="9bee4-239">이 모델 hello 가장 큰 테 넌 트 일관 되 게 고성능 hello 서비스에서 동시에 모든 시끄러운 이웃에서 더 작은 테 넌 트 hello tooprotect 수 있는지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-239">This model ensures that hello largest tenants have consistently high performance from hello service while helping tooprotect hello smaller tenants from any noisy neighbors.</span></span>

<span data-ttu-id="9bee4-240">그러나 이 전략을 구현하려면 공유 서비스의 인덱스 대비, 전용 서비스를 요구하는 테넌트를 예측해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-240">However, implementing this strategy relies foresight in predicting which tenants will require a dedicated service versus an index in a shared service.</span></span> <span data-ttu-id="9bee4-241">응용 프로그램 복잡성 hello 필요 toomanage 모두 이러한 다중 테 넌 트 모델에 따라 카운터가 증가 합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-241">Application complexity increases with hello need toomanage both of these multitenancy models.</span></span>

## <a name="achieving-even-finer-granularity"></a><span data-ttu-id="9bee4-242">훨씬 더 미세한 세밀성 달성</span><span class="sxs-lookup"><span data-stu-id="9bee4-242">Achieving even finer granularity</span></span>
<span data-ttu-id="9bee4-243">디자인 패턴 toomodel Azure 검색의 다중 테 넌 트 시나리오가 위의 hello 각 테 넌 트 응용 프로그램의 전체 인스턴스에 인 동일한 범위를 가정 합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-243">hello above design patterns toomodel multitenant scenarios in Azure Search assume a uniform scope where each tenant is a whole instance of an application.</span></span> <span data-ttu-id="9bee4-244">그러나 응용 프로그램은 경우에 따라 좀 더 작은 여러 범위를 처리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-244">However, applications can sometimes handle many smaller scopes.</span></span>

<span data-ttu-id="9bee4-245">서비스 당-테 넌 트 및 테 넌 인덱스 당 모델 그리 크지 범위를 없는 경우 가능한 toomodel 인덱스 tooachieve는 훨씬 더 세밀 수준의 세분성입니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-245">If service-per-tenant and index-per-tenant models are not sufficiently small scopes, it is possible toomodel an index tooachieve an even finer degree of granularity.</span></span>

<span data-ttu-id="9bee4-246">다른 클라이언트 끝점에 대 한 단일 인덱스로 동작이 toohave, 필드 가능한 각 클라이언트에 대 한 특정 값을 지정 하는 추가 된 tooan 인덱스 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-246">toohave a single index behave differently for different client endpoints, a field can be added tooan index which designates a certain value for each possible client.</span></span> <span data-ttu-id="9bee4-247">Hello 클라이언트 응용 프로그램에서 hello 코드 hello Azure 검색을 사용 하 여 해당 필드에 대 한 적절 한 값을 지정 하 고, 클라이언트가 Azure 검색 tooquery를 호출 하거나 인덱스를 수정 될 때마다 [필터](https://msdn.microsoft.com/library/azure/dn798921.aspx) 쿼리 시 기능입니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-247">Each time a client calls Azure Search tooquery or modify an index, hello code from hello client application specifies hello appropriate value for that field using Azure Search's [filter](https://msdn.microsoft.com/library/azure/dn798921.aspx) capability at query time.</span></span>

<span data-ttu-id="9bee4-248">이 메서드는 별도 사용자 계정, 별도 사용 권한 수준 및 완전히 별도 응용 프로그램의 기능을 사용 하는 tooachieve 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-248">This method can be used tooachieve functionality of separate user accounts, separate permission levels, and even completely separate applications.</span></span>

> [!NOTE]
> <span data-ttu-id="9bee4-249">Hello 방식을 사용 하 여 위에서 설명한 tooconfigure 단일 인덱스 tooserve 검색 결과 관련성 hello 여러 테 넌 트에 영향을 줍니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-249">Using hello approach described above tooconfigure a single index tooserve multiple tenants affects hello relevance of search results.</span></span> <span data-ttu-id="9bee4-250">검색 관련성 점수는 모든 테 넌 트의 데이터는 hello 관련성 점수 용어 빈도 같은 기본 통계에 포함 되므로 테 넌 트 수준 범위 인덱스 수준 범위에서 계산 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-250">Search relevance scores are computed at an index-level scope, not a tenant-level scope, so all tenants' data is incorporated in hello relevance scores' underlying statistics such as term frequency.</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="9bee4-251">다음 단계</span><span class="sxs-lookup"><span data-stu-id="9bee4-251">Next steps</span></span>
<span data-ttu-id="9bee4-252">Azure 검색은 많은 응용 프로그램에 대 한 눈에 띄는 선택 [hello 서비스의 강력한 기능에 대 한 자세한 내용을 읽어보십시오](http://aka.ms/whatisazsearch)합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-252">Azure Search is a compelling choice for many applications, [read more about hello service's robust capabilities](http://aka.ms/whatisazsearch).</span></span> <span data-ttu-id="9bee4-253">때 평가 hello 다양 한 다중 테 넌 트 응용 프로그램 패턴을 디자인, hello는 것이 좋습니다 [다양 한 가격 책정 계층](https://azure.microsoft.com/pricing/details/search/) 및 각각 hello [제한 서비스](search-limits-quotas-capacity.md) toobest Azure 검색 toofit 조정 응용 프로그램 작업 및 모든 규모의 아키텍처입니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-253">When evaluating hello various design patterns for multitenant applications, consider hello [various pricing tiers](https://azure.microsoft.com/pricing/details/search/) and hello respective [service limits](search-limits-quotas-capacity.md) toobest tailor Azure Search toofit application workloads and architectures of all sizes.</span></span>

<span data-ttu-id="9bee4-254">Azure 검색 및 다중 테 넌 트 시나리오에 대 한 질문을 전송할 수 tooazuresearch_contact@microsoft.com합니다.</span><span class="sxs-lookup"><span data-stu-id="9bee4-254">Any questions about Azure Search and multitenant scenarios can be directed tooazuresearch_contact@microsoft.com.</span></span>

