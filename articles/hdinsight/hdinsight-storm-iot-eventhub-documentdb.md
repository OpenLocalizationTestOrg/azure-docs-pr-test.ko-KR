---
title: "HDInsight의 Apache Storm를 사용 하 여 aaaProcess 차량 센서 데이터 | Microsoft Docs"
description: "자세한 내용은 방법 HDInsight의 Apache Storm를 사용 하 여 이벤트 허브에서 tooprocess 자동차 센서 데이터입니다. Azure Cosmos DB에서 모델 데이터를 추가 하 고 출력 toostorage를 저장 합니다."
services: hdinsight,documentdb,notification-hubs
documentationcenter: 
author: Blackmist
manager: jhubbard
editor: cgronlun
ms.assetid: 78980635-8bef-4c33-96c3-fae50e932e31
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: java
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 05/03/2017
ms.author: larryfr
ms.openlocfilehash: 8f7b1dbb9072e095ea32160bb731bedd071288af
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="process-vehicle-sensor-data-from-azure-event-hubs-using-apache-storm-on-hdinsight"></a><span data-ttu-id="857c2-104">HDInsight의 Apache Storm을 사용하여 Azure 이벤트 허브에서 차량 센서 데이터를 처리하는 방법에 대해 알아봅니다.</span><span class="sxs-lookup"><span data-stu-id="857c2-104">Process vehicle sensor data from Azure Event Hubs using Apache Storm on HDInsight</span></span>

<span data-ttu-id="857c2-105">자세한 내용은 방법 HDInsight의 Apache Storm를 사용 하 여 Azure 이벤트 허브에서 tooprocess 자동차 센서 데이터입니다.</span><span class="sxs-lookup"><span data-stu-id="857c2-105">Learn how tooprocess vehicle sensor data from Azure Event Hubs using Apache Storm on HDInsight.</span></span> <span data-ttu-id="857c2-106">이 예제에서는 Azure 이벤트 허브에서 센서 데이터를 읽고, Azure Cosmos DB에 저장 된 데이터를 참조 하 여 hello 데이터를 강화 합니다.</span><span class="sxs-lookup"><span data-stu-id="857c2-106">This example reads sensor data from Azure Event Hubs, enriches hello data by referencing data stored in Azure Cosmos DB.</span></span> <span data-ttu-id="857c2-107">hello 데이터는 Hadoop 파일 시스템 (HDFS) hello를 사용 하 여 Azure 저장소에 저장 됩니다.</span><span class="sxs-lookup"><span data-stu-id="857c2-107">hello data is stored into Azure Storage using hello Hadoop File System (HDFS).</span></span>

![HDInsight 및 hello 인터넷 IoT (사물) 아키텍처 다이어그램](./media/hdinsight-storm-iot-eventhub-documentdb/iot.png)

## <a name="overview"></a><span data-ttu-id="857c2-109">개요</span><span class="sxs-lookup"><span data-stu-id="857c2-109">Overview</span></span>

<span data-ttu-id="857c2-110">센서 toovehicles 추가 기록 데이터 추세를 기반으로 toopredict 장비 문제가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="857c2-110">Adding sensors toovehicles allows you toopredict equipment problems based on historical data trends.</span></span> <span data-ttu-id="857c2-111">Toomake 개선 사용량 패턴 분석에 따라 toofuture 버전을 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="857c2-111">It also allows you toomake improvements toofuture versions based on usage pattern analysis.</span></span> <span data-ttu-id="857c2-112">수 tooquickly를 여야 하며 효율적으로 hello 데이터 로드 모든 차량에서 Hadoop MapReduce 처리가 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="857c2-112">You must be able tooquickly and efficiently load hello data from all vehicles into Hadoop before MapReduce processing can occur.</span></span> <span data-ttu-id="857c2-113">또한 중요 한 경로 (엔진 온도, brakes, 등)에 대 한 toodo 분석 실시간으로 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="857c2-113">Additionally, you may wish toodo analysis for critical failure paths (engine temperature, brakes, etc.) in real time.</span></span>

<span data-ttu-id="857c2-114">Azure 이벤트 허브는 센서에 의해 생성 된 데이터의 toohandle hello 대규모 볼륨을 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="857c2-114">Azure Event Hubs is built toohandle hello massive volume of data generated by sensors.</span></span> <span data-ttu-id="857c2-115">Apache Storm HDFS에 저장 되기 전에 사용 되는 tooload 및 hello 데이터 처리를 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="857c2-115">Apache Storm can be used tooload and process hello data before storing it into HDFS.</span></span>

## <a name="solution"></a><span data-ttu-id="857c2-116">해결 방법</span><span class="sxs-lookup"><span data-stu-id="857c2-116">Solution</span></span>

<span data-ttu-id="857c2-117">엔진 온도, 주변 온도 및 차량 속도에 대한 원격 분석 데이터는 센서에서 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="857c2-117">Telemetry data for engine temperature, ambient temperature, and vehicle speed is recorded by sensors.</span></span> <span data-ttu-id="857c2-118">데이터는 tooEvent 허브 hello 자동차의 자동차를 움직일 식별 번호 (VIN) 및 타임 스탬프와 함께 전송 됩니다.</span><span class="sxs-lookup"><span data-stu-id="857c2-118">Data is then sent tooEvent Hubs along with hello car's Vehicle Identification Number (VIN) and a time stamp.</span></span> <span data-ttu-id="857c2-119">여기에서 HDInsight 클러스터에는 Apache Storm에서 실행 되는 스톰 토폴로지 hello 데이터를 읽고, 처리 한 HDFS에 저장 합니다.</span><span class="sxs-lookup"><span data-stu-id="857c2-119">From there, a Storm Topology running on an Apache Storm on HDInsight cluster reads hello data, processes it, and stores it into HDFS.</span></span>

<span data-ttu-id="857c2-120">처리 하는 동안 hello VIN Cosmos DB에서 사용 되는 tooretrieve 모델 정보입니다.</span><span class="sxs-lookup"><span data-stu-id="857c2-120">During processing, hello VIN is used tooretrieve model information from Cosmos DB.</span></span> <span data-ttu-id="857c2-121">이 데이터는 저장 되기 전에 toohello 데이터 스트림을 추가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="857c2-121">This data is added toohello data stream before it is stored.</span></span>

<span data-ttu-id="857c2-122">Storm 토폴로지 hello에 사용 된 hello 구성 요소입니다.</span><span class="sxs-lookup"><span data-stu-id="857c2-122">hello components used in hello Storm Topology are:</span></span>

* <span data-ttu-id="857c2-123">**EventHubSpout** - Azure 이벤트 허브에서 데이터를 읽습니다.</span><span class="sxs-lookup"><span data-stu-id="857c2-123">**EventHubSpout** - reads data from Azure Event Hubs</span></span>
* <span data-ttu-id="857c2-124">**TypeConversionBolt** -변환 hello 같은 센서 데이터가 포함 된 튜플로 이벤트 허브에서 JSON 문자열 hello:</span><span class="sxs-lookup"><span data-stu-id="857c2-124">**TypeConversionBolt** - converts hello JSON string from Event Hubs into a tuple containing hello following sensor data:</span></span>
    * <span data-ttu-id="857c2-125">엔진 온도</span><span class="sxs-lookup"><span data-stu-id="857c2-125">Engine temperature</span></span>
    * <span data-ttu-id="857c2-126">주변 온도</span><span class="sxs-lookup"><span data-stu-id="857c2-126">Ambient temperature</span></span>
    * <span data-ttu-id="857c2-127">속도</span><span class="sxs-lookup"><span data-stu-id="857c2-127">Speed</span></span>
    * <span data-ttu-id="857c2-128">VIN</span><span class="sxs-lookup"><span data-stu-id="857c2-128">VIN</span></span>
    * <span data-ttu-id="857c2-129">Timestamp</span><span class="sxs-lookup"><span data-stu-id="857c2-129">Timestamp</span></span>
* <span data-ttu-id="857c2-130">**DataReferencBolt** -hello VIN를 사용 하 여 Cosmos DB에서 hello 차량 모델을 조회 합니다.</span><span class="sxs-lookup"><span data-stu-id="857c2-130">**DataReferencBolt** - looks up hello vehicle model from Cosmos DB using hello VIN</span></span>
* <span data-ttu-id="857c2-131">**WasbStoreBolt** -저장소 hello 데이터 tooHDFS (Azure 저장소)</span><span class="sxs-lookup"><span data-stu-id="857c2-131">**WasbStoreBolt** - stores hello data tooHDFS (Azure Storage)</span></span>

<span data-ttu-id="857c2-132">hello 다음 이미지는이 솔루션의 다이어그램:</span><span class="sxs-lookup"><span data-stu-id="857c2-132">hello following image is a diagram of this solution:</span></span>

![Storm 토폴로지](./media/hdinsight-storm-iot-eventhub-documentdb/iottopology.png)

## <a name="implementation"></a><span data-ttu-id="857c2-134">구현</span><span class="sxs-lookup"><span data-stu-id="857c2-134">Implementation</span></span>

<span data-ttu-id="857c2-135">완전 한 자동화 된 방법으로이 시나리오를 사용할 수 없으면 hello의 일부로 [예제-스톰-HDInsight](https://github.com/hdinsight/hdinsight-storm-examples) GitHub의 리포지토리 합니다.</span><span class="sxs-lookup"><span data-stu-id="857c2-135">A complete, automated solution for this scenario is available as part of hello [HDInsight-Storm-Examples](https://github.com/hdinsight/hdinsight-storm-examples) repository on GitHub.</span></span> <span data-ttu-id="857c2-136">toouse hello에 hello 단계 수행이이 예제에서는 [IoTExample 추가 정보입니다. MD](https://github.com/hdinsight/hdinsight-storm-examples/blob/master/IotExample/README.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="857c2-136">toouse this example, follow hello steps in hello [IoTExample README.MD](https://github.com/hdinsight/hdinsight-storm-examples/blob/master/IotExample/README.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="857c2-137">다음 단계</span><span class="sxs-lookup"><span data-stu-id="857c2-137">Next Steps</span></span>

<span data-ttu-id="857c2-138">Storm 토폴로지에 대한 자세한 내용은 [HDInsight의 Storm에 대한 예제 토폴로지](hdinsight-storm-example-topology.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="857c2-138">For more example Storm topologies, see [Example topologies for Storm on HDInsight](hdinsight-storm-example-topology.md).</span></span>

