---
title: "Azure Data Lake Store 계정으로 여러 HDInsight 클러스터 사용 - Azure | Microsoft Docs"
description: "단일 Data Lake Store 계정으로 하나 이상의 HDInsight 클러스터를 사용하는 방법에 대해 알아봅니다"
keywords: "hdinsight 저장소, hdfs, 구조화된 데이터, 구조화되지 않은 데이터, Data Lake Store"
services: hdinsight,storage
documentationcenter: 
tags: azure-portal
author: nitinme
manager: jhubbard
editor: cgronlun
ms.service: hdinsight
ms.custom: hdinsightactive
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/02/2017
ms.author: nitinme
ms.openlocfilehash: 043141e8496a947f54564d29a1d7fb724fac5cda
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/11/2017
---
# <a name="use-multiple-hdinsight-clusters-with-an-azure-data-lake-store-account"></a><span data-ttu-id="4eb54-104">Azure Data Lake Store 계정으로 여러 HDInsight 클러스터 사용</span><span class="sxs-lookup"><span data-stu-id="4eb54-104">Use multiple HDInsight clusters with an Azure Data Lake Store account</span></span>

<span data-ttu-id="4eb54-105">HDInsight 버전 3.5 이상에서는 기본 파일 시스템으로 Azure Data Lake Store 계정을 사용하여 HDInsight 클러스터를 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-105">Starting with HDInsight version 3.5, you can create HDInsight clusters with  Azure Data Lake Store accounts as the default filesystem.</span></span>
<span data-ttu-id="4eb54-106">Data Lake Store는 많은 양의 데이터 호스팅 뿐만 아니라 단일 Data Lake Store 계정을 공유하는 여러 HDInsight 클러스터 호스팅에 적합하도록 만드는 제한되지 않은 저장소를 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-106">Data Lake Store supports unlimited storage that makes it ideal not only for hosting large amounts of data; but also for hosting multiple HDInsight clusters that share a single Data Lake Store Account.</span></span> <span data-ttu-id="4eb54-107">저장소로 Data Lake Store를 사용하여 HDInsight 클러스터를 만드는 방법에 대한 지침은 [Data Lake Store를 사용하여 HDInsight 클러스터 만들기](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4eb54-107">For instructionson how to create an HDInsight cluster with Data Lake Store as the storage, see [Create HDInsight clusters with Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span></span>

<span data-ttu-id="4eb54-108">이 문서에서는 Data Lake Store 관리자에게 여러 **활성** HDInsight 클러스터에서 사용할 수 있는 단일 및 공유 Data Lake Store 계정 설정에 대한 권장 사항을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-108">This article provides recommendations to the Data Lake store administrator for setting up a single and shared Data Lake Store Account that can be used across multiple **active** HDInsight clusters.</span></span> <span data-ttu-id="4eb54-109">이러한 권장 사항은 여러 보안 호스팅 뿐만 아니라 공유 Data Lake Store 계정에서 비보안 Hadoop 클러스터에도 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-109">These recommendations apply to hosting multiple secure as well as non-secure Hadoop clusters on a shared Data Lake store account.</span></span>


## <a name="data-lake-store-file-and-folder-level-acls"></a><span data-ttu-id="4eb54-110">Data Lake Store 파일 및 폴더 수준 ACL</span><span class="sxs-lookup"><span data-stu-id="4eb54-110">Data Lake Store file and folder level ACLs</span></span>

<span data-ttu-id="4eb54-111">이 문서의 나머지 부분에서는 [Azure Data Lake Store에서 액세스 제어](../data-lake-store/data-lake-store-access-control.md)에 자세히 설명되어 있는 Azure Data Lake Store의 파일 및 폴더 수준 ACL에 대해 잘 알고 있다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-111">The rest of this article assumes that you have a good knowledge of file and folder level ACLs in Azure Data Lake Store, which is described in detail at [Access control in Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span></span>

## <a name="data-lake-store-setup-for-multiple-hdinsight-clusters"></a><span data-ttu-id="4eb54-112">여러 HDInsight 클러스터에 대한 Data Lake Store 설정</span><span class="sxs-lookup"><span data-stu-id="4eb54-112">Data Lake Store setup for multiple HDInsight clusters</span></span>
<span data-ttu-id="4eb54-113">Data Lake Store 계정으로 여러 HDInsight 클러스터 사용에 대한 권장 사항을 설명하는 두 수준의 폴더 계층 구조를 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-113">Let us take a two-level folder hierarchy to explain the recommendations for using mutilple HDInsight clusters with a Data Lake Store account.</span></span> <span data-ttu-id="4eb54-114">**/클러스터/재무** 폴더 구조의 Data Lake Store 계정이 있는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-114">Consider you have a Data Lake Store account with the folder structure **/clusters/finance**.</span></span> <span data-ttu-id="4eb54-115">이 구조로 재무 부서에 필요한 모든 클러스터는 저장소 위치로 /클러스터/재무를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-115">With this structure, all the clusters required by the Finance organization can use /clusters/finance as the storage location.</span></span> <span data-ttu-id="4eb54-116">향후 다른 조직에서(예: 마케팅) 동일한 Data Lake Store 계정을 사용하여 HDInsight 클러스터를 만들려는 경우 /클러스터/마케팅을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-116">In the future, if another organization, say Marketing, wants to create HDInsight clusters using the same Data Lake Store account, they could create /clusters/marketing.</span></span> <span data-ttu-id="4eb54-117">이제 **/클러스터/재무**를 사용해보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-117">For now, let's just use **/clusters/finance**.</span></span>

<span data-ttu-id="4eb54-118">HDInsight 클러스터에서 이 폴더 구조를 효과적으로 사용하려면 Data Lake Store 관리자는 테이블에 설명된 대로 적절한 권한을 할당해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-118">To enable this folder structure to be effectively used by HDInsight clusters, the Data Lake Store administrator must assign appropriate permissions, as described in the table.</span></span> <span data-ttu-id="4eb54-119">테이블에 표시된 사용 권한은 액세스-ACL에 해당하며 기본 ACL에 해당하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-119">The permissions shown in the table correspond to Access-ACLs, and not Default-ACLs.</span></span> 


|<span data-ttu-id="4eb54-120">폴더</span><span class="sxs-lookup"><span data-stu-id="4eb54-120">Folder</span></span>  |<span data-ttu-id="4eb54-121">권한</span><span class="sxs-lookup"><span data-stu-id="4eb54-121">Permissions</span></span>  |<span data-ttu-id="4eb54-122">소유 사용자</span><span class="sxs-lookup"><span data-stu-id="4eb54-122">Owning user</span></span>  |<span data-ttu-id="4eb54-123">소유 그룹</span><span class="sxs-lookup"><span data-stu-id="4eb54-123">Owning group</span></span>  | <span data-ttu-id="4eb54-124">명명된 사용자</span><span class="sxs-lookup"><span data-stu-id="4eb54-124">Named user</span></span> | <span data-ttu-id="4eb54-125">명명된 사용자 권한</span><span class="sxs-lookup"><span data-stu-id="4eb54-125">Named user permissions</span></span> | <span data-ttu-id="4eb54-126">명명된 그룹</span><span class="sxs-lookup"><span data-stu-id="4eb54-126">Named group</span></span> | <span data-ttu-id="4eb54-127">명명된 그룹 권한</span><span class="sxs-lookup"><span data-stu-id="4eb54-127">Named group permissions</span></span> |
|---------|---------|---------|---------|---------|---------|---------|---------|
|/ | <span data-ttu-id="4eb54-128">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="4eb54-128">rwxr-x--x</span></span>  |<span data-ttu-id="4eb54-129">관리자</span><span class="sxs-lookup"><span data-stu-id="4eb54-129">admin</span></span> |<span data-ttu-id="4eb54-130">관리자</span><span class="sxs-lookup"><span data-stu-id="4eb54-130">admin</span></span>  |<span data-ttu-id="4eb54-131">서비스 주체</span><span class="sxs-lookup"><span data-stu-id="4eb54-131">Service principal</span></span> |<span data-ttu-id="4eb54-132">--x</span><span class="sxs-lookup"><span data-stu-id="4eb54-132">--x</span></span>  |<span data-ttu-id="4eb54-133">FINGRP</span><span class="sxs-lookup"><span data-stu-id="4eb54-133">FINGRP</span></span>   |<span data-ttu-id="4eb54-134">r-x</span><span class="sxs-lookup"><span data-stu-id="4eb54-134">r-x</span></span>         |
|<span data-ttu-id="4eb54-135">/클러스터</span><span class="sxs-lookup"><span data-stu-id="4eb54-135">/clusters</span></span> | <span data-ttu-id="4eb54-136">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="4eb54-136">rwxr-x--x</span></span> |<span data-ttu-id="4eb54-137">관리자</span><span class="sxs-lookup"><span data-stu-id="4eb54-137">admin</span></span> |<span data-ttu-id="4eb54-138">관리자</span><span class="sxs-lookup"><span data-stu-id="4eb54-138">admin</span></span> |<span data-ttu-id="4eb54-139">서비스 주체</span><span class="sxs-lookup"><span data-stu-id="4eb54-139">Service principal</span></span> |<span data-ttu-id="4eb54-140">--x</span><span class="sxs-lookup"><span data-stu-id="4eb54-140">--x</span></span>  |<span data-ttu-id="4eb54-141">FINGRP</span><span class="sxs-lookup"><span data-stu-id="4eb54-141">FINGRP</span></span> |<span data-ttu-id="4eb54-142">r-x</span><span class="sxs-lookup"><span data-stu-id="4eb54-142">r-x</span></span>         |
|<span data-ttu-id="4eb54-143">/클러스터/재무</span><span class="sxs-lookup"><span data-stu-id="4eb54-143">/clusters/finance</span></span> | <span data-ttu-id="4eb54-144">rwxr-x--t</span><span class="sxs-lookup"><span data-stu-id="4eb54-144">rwxr-x--t</span></span> |<span data-ttu-id="4eb54-145">관리자</span><span class="sxs-lookup"><span data-stu-id="4eb54-145">admin</span></span> |<span data-ttu-id="4eb54-146">FINGRP</span><span class="sxs-lookup"><span data-stu-id="4eb54-146">FINGRP</span></span>  |<span data-ttu-id="4eb54-147">서비스 주체</span><span class="sxs-lookup"><span data-stu-id="4eb54-147">Service principal</span></span> |<span data-ttu-id="4eb54-148">rwx</span><span class="sxs-lookup"><span data-stu-id="4eb54-148">rwx</span></span>  |-  |-     |

<span data-ttu-id="4eb54-149">테이블에서,</span><span class="sxs-lookup"><span data-stu-id="4eb54-149">In the table,</span></span>

- <span data-ttu-id="4eb54-150">**관리자**는 Data Lake Store 계정의 작성자 및 관리자입니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-150">**admin** is the creator and administrator of the Data Lake Store account.</span></span>
- <span data-ttu-id="4eb54-151">**서비스 주체**는 계정과 연결된 AAD(Azure Active Directory) 서비스 주체입니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-151">**Service principal** is the Azure Active Directory (AAD) service principal associated with the account.</span></span>
- <span data-ttu-id="4eb54-152">**FINGRP**는 재무 부서의 사용자를 포함하는 AAD에서 만든 사용자 그룹입니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-152">**FINGRP** is a user group created in AAD that contains users from the Finance organization.</span></span>

<span data-ttu-id="4eb54-153">AAD 응용 프로그램을 만드는 방법에 대한 지침은(서비스 주체도 만듦) [AAD 응용 프로그램을 만들기](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4eb54-153">For instructions on how to create an AAD application (that also creates a Service Principal), see [Create an AAD application](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span></span> <span data-ttu-id="4eb54-154">AAD에서 사용자 그룹을 만드는 방법에 대한 자세한 내용은 [Azure Active Directory에서 그룹 관리](../active-directory/active-directory-accessmanagement-manage-groups.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4eb54-154">For instructions on how to create a user group in AAD, see [Managing groups in Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span></span>

<span data-ttu-id="4eb54-155">몇 가지 고려할 주요 사항은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-155">Some key points to consider.</span></span>

- <span data-ttu-id="4eb54-156">두 수준 폴더 구조(**/클러스터/재무/**)는 클러스터에 대한 저장소 계정을 사용하기 **전에** Data Lake Store 관리자에 의해 적절한 권한으로 생성 및 프로비전되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-156">The two level folder structure (**/clusters/finance/**) must be created and provisioned with appropriate permissions by the Data Lake Store admin **before** using the storage account for clusters.</span></span> <span data-ttu-id="4eb54-157">이 구조는 클러스터를 만드는 동안 자동으로 생성되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-157">This structure is not created automatically while creating clusters.</span></span>
- <span data-ttu-id="4eb54-158">위의 예제에서는 **FINGRP**로 **/클러스터/재무**의 소유 그룹 설정 및 루트에서 시작하는 전체 폴더 계층에 대한 FINGRP에 **r-x** 액세스 허용을 권장합니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-158">The example above recommends setting the owning group of **/clusters/finance** as **FINGRP** and permitting **r-x** access to FINGRP to the entire folder hierarchy starting from the root.</span></span> <span data-ttu-id="4eb54-159">이렇게 하면 FINGRP의 멤버는 루트에서 시작하는 폴더 구조를 탐색할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-159">This ensures that the members of FINGRP can navigate the folder structure starting from root.</span></span>
- <span data-ttu-id="4eb54-160">다른 AAD 서비스 주체에서 **/클러스터/재무**에 클러스터를 만들 수 있는 경우, 고정 비트(**재무** 폴더에서 설정된 경우)를 통해 하나의 서비스 주체에서 만든 폴더는 다른 서비스 주체에서 삭제할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-160">In the case when different AAD Service Principals can create clusters under **/clusters/finance**, the sticky-bit (when set on the **finance** folder) ensures that folders created by one Service Principal cannot be deleted by the other.</span></span>
- <span data-ttu-id="4eb54-161">폴더 구조 및 사용 권한이 준비되면 HDInsight 클러스터 생성 프로세스는 **/클러스터/재무/** 아래에 클러스터 특정 저장소 위치를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-161">Once the folder structure and permissions are in place, HDInsight cluster creation process creates a cluster-specific storage loaction under **/clusters/finance/**.</span></span> <span data-ttu-id="4eb54-162">예를 들어 fincluster01이라는 이름의 클러스터에 대한 저장소는 **/클러스터/재무/fincluster01**이 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-162">For example, the storage for a cluster with the name fincluster01 could be **/clusters/finance/fincluster01**.</span></span> <span data-ttu-id="4eb54-163">HDInsight 클러스터에 의해 생성된 폴더에 대한 소유권 및 권한은 테이블에 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-163">The ownership and permissions for the folders created by HDInsight cluster is shown in the table here.</span></span>

    |<span data-ttu-id="4eb54-164">폴더</span><span class="sxs-lookup"><span data-stu-id="4eb54-164">Folder</span></span>  |<span data-ttu-id="4eb54-165">권한</span><span class="sxs-lookup"><span data-stu-id="4eb54-165">Permissions</span></span>  |<span data-ttu-id="4eb54-166">소유 사용자</span><span class="sxs-lookup"><span data-stu-id="4eb54-166">Owning user</span></span>  |<span data-ttu-id="4eb54-167">소유 그룹</span><span class="sxs-lookup"><span data-stu-id="4eb54-167">Owning group</span></span>  | <span data-ttu-id="4eb54-168">명명된 사용자</span><span class="sxs-lookup"><span data-stu-id="4eb54-168">Named user</span></span> | <span data-ttu-id="4eb54-169">명명된 사용자 권한</span><span class="sxs-lookup"><span data-stu-id="4eb54-169">Named user permissions</span></span> | <span data-ttu-id="4eb54-170">명명된 그룹</span><span class="sxs-lookup"><span data-stu-id="4eb54-170">Named group</span></span> | <span data-ttu-id="4eb54-171">명명된 그룹 권한</span><span class="sxs-lookup"><span data-stu-id="4eb54-171">Named group permissions</span></span> |
    |---------|---------|---------|---------|---------|---------|---------|---------|
    |<span data-ttu-id="4eb54-172">/클러스터/재무/fincluster01</span><span class="sxs-lookup"><span data-stu-id="4eb54-172">/clusters/finanace/ fincluster01</span></span> | <span data-ttu-id="4eb54-173">rwxr-x---</span><span class="sxs-lookup"><span data-stu-id="4eb54-173">rwxr-x---</span></span>  |<span data-ttu-id="4eb54-174">서비스 주체</span><span class="sxs-lookup"><span data-stu-id="4eb54-174">Service Principal</span></span> |<span data-ttu-id="4eb54-175">FINGRP</span><span class="sxs-lookup"><span data-stu-id="4eb54-175">FINGRP</span></span>  |- |-  |-   |-  | 
   


## <a name="recommendations-for-job-input-and-output-data"></a><span data-ttu-id="4eb54-176">작업 입력 및 출력 데이터에 대한 권장 사항</span><span class="sxs-lookup"><span data-stu-id="4eb54-176">Recommendations for job input and output data</span></span>

<span data-ttu-id="4eb54-177">작업에 대한 입력 데이터 및 작업의 출력은 **/클러스터** 외부의 폴더에 저장하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-177">We recommend that input data to a job, and the outputs from a job be stored in a folder outside **/clusters**.</span></span> <span data-ttu-id="4eb54-178">이렇게 하면 클러스터 특정 폴더가 일부 저장소 공간을 확보하도록 삭제되는 경우에도 작업 입력 및 출력을 나중에 계속 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-178">This ensures that even if the cluster-specific folder is deleted to reclaim some storage space,the job inputs and outputs are still available for future use.</span></span> <span data-ttu-id="4eb54-179">이 경우 작업 입력 및 출력을 저장하기 위한 폴더 계층 구조가 서비스 주체에 대한 적절한 수준의 액세스를 허용하는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-179">In such a case, ensure that the folder hierarchy for storing the job inputs and outputs allows appropriate level of access for the Service Principal.</span></span>

## <a name="limit-on-clusters-sharing-a-single-storage-account"></a><span data-ttu-id="4eb54-180">단일 저장소 계정을 공유하는 클러스터에 대한 제한</span><span class="sxs-lookup"><span data-stu-id="4eb54-180">Limit on clusters sharing a single storage account</span></span>

<span data-ttu-id="4eb54-181">단일 Data Lake Store 계정을 공유할 수 있는 클러스터 수에 대한 제한은 해당 클러스터에서 실행되는 작업에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-181">The limit on the number of clusters that can share a single Data Lake Store account depends on the workload being run on those clusters.</span></span> <span data-ttu-id="4eb54-182">클러스터가 너무 많거나 저장소 계정을 공유하는 클러스터에 작업이 매우 많으면 저장소 계정 송/수신에 제한이 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-182">Having too many clusters or very heavy workloads on the clusters that share a storage account might cause the storage account ingress/egress to get throttled.</span></span>

## <a name="support-for-default-acls"></a><span data-ttu-id="4eb54-183">기본 ACL에 대한 지원</span><span class="sxs-lookup"><span data-stu-id="4eb54-183">Support for Default-ACLs</span></span>

<span data-ttu-id="4eb54-184">명명된 사용자 액세스 권한이 있는 서비스 주체를 만들 때(위의 테이블에 나와 있는 대로) 기본 ACL로 명명된 사용자를 추가하지 **않는** 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-184">When creating a Service Principal with named-user access (as shown in the table above), we recommend **not** adding the named-user with a default-ACL.</span></span> <span data-ttu-id="4eb54-185">기본 ACL을 사용하여 명명된 사용자 액세스를 프로비전하면 소유 사용자, 소유 그룹 및 다른 사용자에 대한 770 사용 권한 할당이 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-185">Provisioning named-user access using default-ACLs results in the assignment of 770 permissions for owning-user, owning-group, and others.</span></span> <span data-ttu-id="4eb54-186">770의 기본값은 소유 사용자(7) 또는 소유 그룹(7)에서 권한을 가져가지 않는 반면 다른 사용자(0)에 대한 모든 권한을 가져갑니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-186">While this default value of 770 does not take away permissions from owning-user (7) or owning-group (7), it takes away all permissions for others (0).</span></span> <span data-ttu-id="4eb54-187">이로 인해 [알려진 문제 및 해결 방법](#known-issues-and-workarounds) 섹션에서 자세히 설명되어 있는 하나의 특정 사용 사례로 알려진 문제가 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-187">This results in a known issue with one particular use-case that is discussed in detail in the [Known issues and workarounds](#known-issues-and-workarounds) section.</span></span>

## <a name="known-issues-and-workarounds"></a><span data-ttu-id="4eb54-188">알려진 문제 및 해결 방법</span><span class="sxs-lookup"><span data-stu-id="4eb54-188">Known issues and workarounds</span></span>

<span data-ttu-id="4eb54-189">이 섹션에서는 Data Lake Store로 HDInsight 사용에 대한 알려진 문제 및 해당 해결 방법을 나열합니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-189">This section lists the known issues for using HDInsight with Data Lake Store, and their workarounds.</span></span>

### <a name="publicly-visible-localized-yarn-resources"></a><span data-ttu-id="4eb54-190">공개적으로 표시되는 지역화된 YARN 리소스</span><span class="sxs-lookup"><span data-stu-id="4eb54-190">Publicly visible localized YARN resources</span></span>

<span data-ttu-id="4eb54-191">새 Azure Data Lake Store 계정이 만들어질 때 루트 디렉터리는 770으로 설정된 액세스-ACL 사용 권한 비트로 자동으로 프로비전됩니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-191">When a new Azure Data Lake store account is created, the root directory is automatically provisioned with Access-ACL permission bits set to 770.</span></span> <span data-ttu-id="4eb54-192">루트 폴더의 소유 사용자는 계정(Data Lake Store 관리자)을 만든 사용자로 설정되고 소유 그룹은 계정을 만든 사용자의 주 그룹으로 설정됩니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-192">The root folder’s owning user is set to the user that created the account (the Data Lake Store admin) and the owning group is set to the primary group of the user that created the account.</span></span> <span data-ttu-id="4eb54-193">"다른 사용자"에 대한 액세스는 제공되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-193">No access is provided for "others".</span></span>

<span data-ttu-id="4eb54-194">이러한 설정은 [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247)에서 캡처된 하나의 특정 HDInsight 사용 사례에 영향을 줄 것으로 알려졌습니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-194">These settings are known to affect one specific HDInsight use-case captured in [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span></span> <span data-ttu-id="4eb54-195">작업 제출은 다음과 유사한 오류 메시지와 함께 실패할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-195">Job submissions could fail with an error message similar to this:</span></span>

    Resource XXXX is not publicly accessible and as such cannot be part of the public cache.

<span data-ttu-id="4eb54-196">이전에 연결된 YARN JIRA에 명시된 대로 공용 리소스를 지역화하는 동안 지역화 담당자는 원격 파일 시스템에서 해당 사용 권한을 확인하여 요청된 모든 리소스가 실제로 공용인지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-196">As stated in the YARN JIRA linked earlier, while localizing public resources, the localizer validates that all the requested resources are indeed public by checking their permissions on the remote file-system.</span></span> <span data-ttu-id="4eb54-197">지역화를 위해 해당 조건에 맞지 않는 모든 LocalResource는 거부됩니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-197">Any LocalResource that does not fit that condition is rejected for localization.</span></span> <span data-ttu-id="4eb54-198">사용 권한에 대한 확인은 "다른 사용자"에 대한 파일에 읽기 액세스를 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-198">The check for permissions, includes read-access to the file for "others".</span></span> <span data-ttu-id="4eb54-199">Azure Data Lake는 루트 폴더 수준에서 "다른 사용자"에 대한 모든 액세스를 거부하므로 이 시나리오는 Azure Data Lake에서 HDInsight 클러스터를 호스팅할 때 기본으로 작동하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4eb54-199">This scenario does not work out-of-the-box when hosting HDInsight clusters on Azure Data Lake, since Azure Data Lake denies all access to "others" at root folder level.</span></span>

#### <a name="workaround"></a><span data-ttu-id="4eb54-200">해결 방법</span><span class="sxs-lookup"><span data-stu-id="4eb54-200">Workaround</span></span>
<span data-ttu-id="4eb54-201">계층을 통해 **다른 사용자**에 대한 읽기-실행 권한을 설정합니다(예: **/**에서 위의 테이블에 나와 있는 것처럼 **/클러스터** 및 **/클러스터/재무**).</span><span class="sxs-lookup"><span data-stu-id="4eb54-201">Set read-execute permissions for **others** through the hierarchy, for example,  at **/**, **/clusters** and **/clusters/finance** as shown in the table above.</span></span>

## <a name="see-also"></a><span data-ttu-id="4eb54-202">참고 항목</span><span class="sxs-lookup"><span data-stu-id="4eb54-202">See also</span></span>

* [<span data-ttu-id="4eb54-203">Data Lake 저장소를 저장소로 사용하여 HDInsight 클러스터 만들기</span><span class="sxs-lookup"><span data-stu-id="4eb54-203">Create an HDInsight cluster with Data Lake Store as storage</span></span>](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md)


