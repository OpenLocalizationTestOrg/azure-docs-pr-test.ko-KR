---
title: "Azure 데이터 레이크 저장소 계정-Azure로 여러 HDInsight 클러스터 aaaUse | Microsoft Docs"
description: "단일 데이터 레이크 저장소 계정을 사용 하 여 클러스터 toouse 두 개 이상의 하나의 HDInsight에 알아봅니다"
keywords: "hdinsight 저장소, hdfs, 구조화된 데이터, 구조화되지 않은 데이터, Data Lake Store"
services: hdinsight,storage
documentationcenter: 
tags: azure-portal
author: nitinme
manager: jhubbard
editor: cgronlun
ms.service: hdinsight
ms.custom: hdinsightactive
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/02/2017
ms.author: nitinme
ms.openlocfilehash: 3a125b91fcc1e436270a1bd349f7a2d8f27e06fb
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="use-multiple-hdinsight-clusters-with-an-azure-data-lake-store-account"></a><span data-ttu-id="71167-104">Azure Data Lake Store 계정으로 여러 HDInsight 클러스터 사용</span><span class="sxs-lookup"><span data-stu-id="71167-104">Use multiple HDInsight clusters with an Azure Data Lake Store account</span></span>

<span data-ttu-id="71167-105">HDInsight 버전 3.5 이상에서는 HDInsight 클러스터에 Azure 데이터 레이크 저장소 계정으로 hello 기본 파일 시스템으로 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="71167-105">Starting with HDInsight version 3.5, you can create HDInsight clusters with  Azure Data Lake Store accounts as hello default filesystem.</span></span>
<span data-ttu-id="71167-106">Data Lake Store는 많은 양의 데이터 호스팅 뿐만 아니라 단일 Data Lake Store 계정을 공유하는 여러 HDInsight 클러스터 호스팅에 적합하도록 만드는 제한되지 않은 저장소를 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="71167-106">Data Lake Store supports unlimited storage that makes it ideal not only for hosting large amounts of data; but also for hosting multiple HDInsight clusters that share a single Data Lake Store Account.</span></span> <span data-ttu-id="71167-107">Hello 저장소로 데이터 레이크 저장소 인 toocreate HDInsight 클러스터를 어떻게 instructionson, 참조 [데이터 레이크 저장소와 만들 HDInsight 클러스터](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="71167-107">For instructionson how toocreate an HDInsight cluster with Data Lake Store as hello storage, see [Create HDInsight clusters with Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span></span>

<span data-ttu-id="71167-108">이 문서는 단일 및 공유 데이터 레이크 저장소 계정 여러 사용할 수 있는 설정에 대 한 권장 사항을 toohello 데이터 레이크 저장소 관리자에서는 **활성** HDInsight 클러스터에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="71167-108">This article provides recommendations toohello Data Lake store administrator for setting up a single and shared Data Lake Store Account that can be used across multiple **active** HDInsight clusters.</span></span> <span data-ttu-id="71167-109">이러한 권장 사항은 toohosting 여러 보안 뿐만 아니라 안전 하지 않은 Hadoop 클러스터는 공유 데이터 레이크 저장소 계정에 적용 합니다.</span><span class="sxs-lookup"><span data-stu-id="71167-109">These recommendations apply toohosting multiple secure as well as non-secure Hadoop clusters on a shared Data Lake store account.</span></span>


## <a name="data-lake-store-file-and-folder-level-acls"></a><span data-ttu-id="71167-110">Data Lake Store 파일 및 폴더 수준 ACL</span><span class="sxs-lookup"><span data-stu-id="71167-110">Data Lake Store file and folder level ACLs</span></span>

<span data-ttu-id="71167-111">hello이 문서의 나머지 부분 가정에서 자세히 설명 되어 있는 Azure 데이터 레이크 저장소의 파일 및 폴더 수준 Acl에 대해 잘 알고 있다고 [Azure 데이터 레이크 저장소의 액세스 제어](../data-lake-store/data-lake-store-access-control.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="71167-111">hello rest of this article assumes that you have a good knowledge of file and folder level ACLs in Azure Data Lake Store, which is described in detail at [Access control in Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span></span>

## <a name="data-lake-store-setup-for-multiple-hdinsight-clusters"></a><span data-ttu-id="71167-112">여러 HDInsight 클러스터에 대한 Data Lake Store 설정</span><span class="sxs-lookup"><span data-stu-id="71167-112">Data Lake Store setup for multiple HDInsight clusters</span></span>
<span data-ttu-id="71167-113">주세요 두 수준의 폴더 계층 구조를 HDInsight 클러스터에 여러 데이터 레이크 저장소 계정으로 사용 하기 위한 tooexplain hello 권장 사항을 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="71167-113">Let us take a two-level folder hierarchy tooexplain hello recommendations for using mutilple HDInsight clusters with a Data Lake Store account.</span></span> <span data-ttu-id="71167-114">Hello 폴더 구조와 데이터 레이크 저장소 계정이 있어야 하는 것이 좋습니다. **/클러스터/finance**합니다.</span><span class="sxs-lookup"><span data-stu-id="71167-114">Consider you have a Data Lake Store account with hello folder structure **/clusters/finance**.</span></span> <span data-ttu-id="71167-115">이 구조와 hello 재무 부서에 필요한 모든 hello 클러스터 hello 저장소 위치로 /clusters/finance를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="71167-115">With this structure, all hello clusters required by hello Finance organization can use /clusters/finance as hello storage location.</span></span> <span data-ttu-id="71167-116">Hello, 다른 조직의 마케팅 예를 들어, toocreate HDInsight 클러스터를 사용 하 여 hello 동일한 데이터 레이크 저장소 계정, /clusters/marketing을 일으킬가 경우에 향후에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="71167-116">In hello future, if another organization, say Marketing, wants toocreate HDInsight clusters using hello same Data Lake Store account, they could create /clusters/marketing.</span></span> <span data-ttu-id="71167-117">이제 **/클러스터/재무**를 사용해보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="71167-117">For now, let's just use **/clusters/finance**.</span></span>

<span data-ttu-id="71167-118">tooenable이 폴더 구조 toobe HDInsight 클러스터에서 효과적으로 사용, 데이터 레이크 저장소 관리자에 게 적절 한 권한을 할당 하 해야 hello 표에 설명 된 대로 합니다.</span><span class="sxs-lookup"><span data-stu-id="71167-118">tooenable this folder structure toobe effectively used by HDInsight clusters, hello Data Lake Store administrator must assign appropriate permissions, as described in hello table.</span></span> <span data-ttu-id="71167-119">hello 표에 표시 된 hello 사용 권한이 tooAccess Acl 및 하지 기본 Acl에 해당 합니다.</span><span class="sxs-lookup"><span data-stu-id="71167-119">hello permissions shown in hello table correspond tooAccess-ACLs, and not Default-ACLs.</span></span> 


|<span data-ttu-id="71167-120">폴더</span><span class="sxs-lookup"><span data-stu-id="71167-120">Folder</span></span>  |<span data-ttu-id="71167-121">권한</span><span class="sxs-lookup"><span data-stu-id="71167-121">Permissions</span></span>  |<span data-ttu-id="71167-122">소유 사용자</span><span class="sxs-lookup"><span data-stu-id="71167-122">Owning user</span></span>  |<span data-ttu-id="71167-123">소유 그룹</span><span class="sxs-lookup"><span data-stu-id="71167-123">Owning group</span></span>  | <span data-ttu-id="71167-124">명명된 사용자</span><span class="sxs-lookup"><span data-stu-id="71167-124">Named user</span></span> | <span data-ttu-id="71167-125">명명된 사용자 권한</span><span class="sxs-lookup"><span data-stu-id="71167-125">Named user permissions</span></span> | <span data-ttu-id="71167-126">명명된 그룹</span><span class="sxs-lookup"><span data-stu-id="71167-126">Named group</span></span> | <span data-ttu-id="71167-127">명명된 그룹 권한</span><span class="sxs-lookup"><span data-stu-id="71167-127">Named group permissions</span></span> |
|---------|---------|---------|---------|---------|---------|---------|---------|
|/ | <span data-ttu-id="71167-128">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="71167-128">rwxr-x--x</span></span>  |<span data-ttu-id="71167-129">관리자</span><span class="sxs-lookup"><span data-stu-id="71167-129">admin</span></span> |<span data-ttu-id="71167-130">관리자</span><span class="sxs-lookup"><span data-stu-id="71167-130">admin</span></span>  |<span data-ttu-id="71167-131">서비스 주체</span><span class="sxs-lookup"><span data-stu-id="71167-131">Service principal</span></span> |<span data-ttu-id="71167-132">--x</span><span class="sxs-lookup"><span data-stu-id="71167-132">--x</span></span>  |<span data-ttu-id="71167-133">FINGRP</span><span class="sxs-lookup"><span data-stu-id="71167-133">FINGRP</span></span>   |<span data-ttu-id="71167-134">r-x</span><span class="sxs-lookup"><span data-stu-id="71167-134">r-x</span></span>         |
|<span data-ttu-id="71167-135">/클러스터</span><span class="sxs-lookup"><span data-stu-id="71167-135">/clusters</span></span> | <span data-ttu-id="71167-136">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="71167-136">rwxr-x--x</span></span> |<span data-ttu-id="71167-137">관리자</span><span class="sxs-lookup"><span data-stu-id="71167-137">admin</span></span> |<span data-ttu-id="71167-138">관리자</span><span class="sxs-lookup"><span data-stu-id="71167-138">admin</span></span> |<span data-ttu-id="71167-139">서비스 주체</span><span class="sxs-lookup"><span data-stu-id="71167-139">Service principal</span></span> |<span data-ttu-id="71167-140">--x</span><span class="sxs-lookup"><span data-stu-id="71167-140">--x</span></span>  |<span data-ttu-id="71167-141">FINGRP</span><span class="sxs-lookup"><span data-stu-id="71167-141">FINGRP</span></span> |<span data-ttu-id="71167-142">r-x</span><span class="sxs-lookup"><span data-stu-id="71167-142">r-x</span></span>         |
|<span data-ttu-id="71167-143">/클러스터/재무</span><span class="sxs-lookup"><span data-stu-id="71167-143">/clusters/finance</span></span> | <span data-ttu-id="71167-144">rwxr-x--t</span><span class="sxs-lookup"><span data-stu-id="71167-144">rwxr-x--t</span></span> |<span data-ttu-id="71167-145">관리자</span><span class="sxs-lookup"><span data-stu-id="71167-145">admin</span></span> |<span data-ttu-id="71167-146">FINGRP</span><span class="sxs-lookup"><span data-stu-id="71167-146">FINGRP</span></span>  |<span data-ttu-id="71167-147">서비스 주체</span><span class="sxs-lookup"><span data-stu-id="71167-147">Service principal</span></span> |<span data-ttu-id="71167-148">rwx</span><span class="sxs-lookup"><span data-stu-id="71167-148">rwx</span></span>  |-  |-     |

<span data-ttu-id="71167-149">Hello 표에</span><span class="sxs-lookup"><span data-stu-id="71167-149">In hello table,</span></span>

- <span data-ttu-id="71167-150">**관리자** hello 만든이 및 관리자의 hello Data Lake 저장소 계정이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="71167-150">**admin** is hello creator and administrator of hello Data Lake Store account.</span></span>
- <span data-ttu-id="71167-151">**서비스 사용자** hello Azure Active Directory (AAD) 서비스 사용자 hello 계정과 연결 된 됩니다.</span><span class="sxs-lookup"><span data-stu-id="71167-151">**Service principal** is hello Azure Active Directory (AAD) service principal associated with hello account.</span></span>
- <span data-ttu-id="71167-152">**FINGRP** hello 금융 기관에서에서 사용자가 포함 된 AAD에서 만든 사용자 그룹입니다.</span><span class="sxs-lookup"><span data-stu-id="71167-152">**FINGRP** is a user group created in AAD that contains users from hello Finance organization.</span></span>

<span data-ttu-id="71167-153">Toocreate (서비스 사용자.dgml 파일) 하는 AAD 응용 프로그램을 확인 하는 방법에 대 한 지침은 [AAD 응용 프로그램을 만들려면](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application)합니다.</span><span class="sxs-lookup"><span data-stu-id="71167-153">For instructions on how toocreate an AAD application (that also creates a Service Principal), see [Create an AAD application](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span></span> <span data-ttu-id="71167-154">Toocreate AAD의 사용자 그룹 확인 하려면 어떻게 해야에 대 한 지침은 [Azure Active Directory에서 그룹 관리](../active-directory/active-directory-accessmanagement-manage-groups.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="71167-154">For instructions on how toocreate a user group in AAD, see [Managing groups in Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span></span>

<span data-ttu-id="71167-155">몇 가지 주요 사항 tooconsider 합니다.</span><span class="sxs-lookup"><span data-stu-id="71167-155">Some key points tooconsider.</span></span>

- <span data-ttu-id="71167-156">hello 두 수준 폴더 구조 (**클러스터/finance / /**) 만들고 hello 데이터 레이크 저장소 관리자가 적절 한 권한이 있는 사용자를 프로 비전 해야 합니다 **전에** hello 저장소 계정을 사용 하 여 클러스터에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="71167-156">hello two level folder structure (**/clusters/finance/**) must be created and provisioned with appropriate permissions by hello Data Lake Store admin **before** using hello storage account for clusters.</span></span> <span data-ttu-id="71167-157">이 구조는 클러스터를 만드는 동안 자동으로 생성되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="71167-157">This structure is not created automatically while creating clusters.</span></span>
- <span data-ttu-id="71167-158">위의 hello 예제에서 권장 하는 그룹을 소유 하는 hello **/클러스터/finance** 으로 **FINGRP** 허용 **r-x** tooFINGRP toohello 하 던 전체 폴더 계층 구조에 액세스 hello 루트에서 시작 합니다.</span><span class="sxs-lookup"><span data-stu-id="71167-158">hello example above recommends setting hello owning group of **/clusters/finance** as **FINGRP** and permitting **r-x** access tooFINGRP toohello entire folder hierarchy starting from hello root.</span></span> <span data-ttu-id="71167-159">이렇게 하면 FINGRP의 hello 멤버가 루트에서 시작 하는 hello 폴더 구조를 탐색할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="71167-159">This ensures that hello members of FINGRP can navigate hello folder structure starting from root.</span></span>
- <span data-ttu-id="71167-160">다른 AAD 서비스 주체에서 클러스터를 만든 경우 hello **/클러스터/finance**, hello 스티커 비트 (hello에 설정 된 경우 **재무** 폴더) 하나의 서비스 폴더가 만들어졌는지 확인 보안 주체는 다른 hello 하 여 삭제할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="71167-160">In hello case when different AAD Service Principals can create clusters under **/clusters/finance**, hello sticky-bit (when set on hello **finance** folder) ensures that folders created by one Service Principal cannot be deleted by hello other.</span></span>
- <span data-ttu-id="71167-161">HDInsight 클러스터 만들기 프로세스에서 클러스터 전용 저장소 loaction 만듭니다 hello 폴더 구조와 사용 권한을 적용 되 면 **클러스터/finance / /**합니다.</span><span class="sxs-lookup"><span data-stu-id="71167-161">Once hello folder structure and permissions are in place, HDInsight cluster creation process creates a cluster-specific storage loaction under **/clusters/finance/**.</span></span> <span data-ttu-id="71167-162">예를 들어 이름 fincluster01 hello 사용 하 여 클러스터에 대 한 hello 저장 될 수 **/clusters/finance/fincluster01**합니다.</span><span class="sxs-lookup"><span data-stu-id="71167-162">For example, hello storage for a cluster with hello name fincluster01 could be **/clusters/finance/fincluster01**.</span></span> <span data-ttu-id="71167-163">hello 소유권 및 HDInsight 클러스터에서 만들어진 hello 폴더에 대 한 사용 권한 표에 나와 hello 여기 합니다.</span><span class="sxs-lookup"><span data-stu-id="71167-163">hello ownership and permissions for hello folders created by HDInsight cluster is shown in hello table here.</span></span>

    |<span data-ttu-id="71167-164">폴더</span><span class="sxs-lookup"><span data-stu-id="71167-164">Folder</span></span>  |<span data-ttu-id="71167-165">권한</span><span class="sxs-lookup"><span data-stu-id="71167-165">Permissions</span></span>  |<span data-ttu-id="71167-166">소유 사용자</span><span class="sxs-lookup"><span data-stu-id="71167-166">Owning user</span></span>  |<span data-ttu-id="71167-167">소유 그룹</span><span class="sxs-lookup"><span data-stu-id="71167-167">Owning group</span></span>  | <span data-ttu-id="71167-168">명명된 사용자</span><span class="sxs-lookup"><span data-stu-id="71167-168">Named user</span></span> | <span data-ttu-id="71167-169">명명된 사용자 권한</span><span class="sxs-lookup"><span data-stu-id="71167-169">Named user permissions</span></span> | <span data-ttu-id="71167-170">명명된 그룹</span><span class="sxs-lookup"><span data-stu-id="71167-170">Named group</span></span> | <span data-ttu-id="71167-171">명명된 그룹 권한</span><span class="sxs-lookup"><span data-stu-id="71167-171">Named group permissions</span></span> |
    |---------|---------|---------|---------|---------|---------|---------|---------|
    |<span data-ttu-id="71167-172">/클러스터/재무/fincluster01</span><span class="sxs-lookup"><span data-stu-id="71167-172">/clusters/finanace/ fincluster01</span></span> | <span data-ttu-id="71167-173">rwxr-x---</span><span class="sxs-lookup"><span data-stu-id="71167-173">rwxr-x---</span></span>  |<span data-ttu-id="71167-174">서비스 주체</span><span class="sxs-lookup"><span data-stu-id="71167-174">Service Principal</span></span> |<span data-ttu-id="71167-175">FINGRP</span><span class="sxs-lookup"><span data-stu-id="71167-175">FINGRP</span></span>  |- |-  |-   |-  | 
   


## <a name="recommendations-for-job-input-and-output-data"></a><span data-ttu-id="71167-176">작업 입력 및 출력 데이터에 대한 권장 사항</span><span class="sxs-lookup"><span data-stu-id="71167-176">Recommendations for job input and output data</span></span>

<span data-ttu-id="71167-177">에서는 데이터 tooa 작업 입력 및 출력 작업에서 hello 하는 권장 되는 외부 폴더에 저장 **클러스터/**합니다.</span><span class="sxs-lookup"><span data-stu-id="71167-177">We recommend that input data tooa job, and hello outputs from a job be stored in a folder outside **/clusters**.</span></span> <span data-ttu-id="71167-178">그러면는 hello 클러스터 특정 폴더는 삭제 된 tooreclaim 하는 경우에 일부 저장소 공간에서 hello 작업 입력 및 출력 나중에 계속 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="71167-178">This ensures that even if hello cluster-specific folder is deleted tooreclaim some storage space,hello job inputs and outputs are still available for future use.</span></span> <span data-ttu-id="71167-179">이러한 경우 hello 작업 입력 및 출력을 저장 하기 위한 hello 폴더 계층을 허용 하는지 hello에 대 한 액세스를 적절 한 수준의 서비스 사용자를 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="71167-179">In such a case, ensure that hello folder hierarchy for storing hello job inputs and outputs allows appropriate level of access for hello Service Principal.</span></span>

## <a name="limit-on-clusters-sharing-a-single-storage-account"></a><span data-ttu-id="71167-180">단일 저장소 계정을 공유하는 클러스터에 대한 제한</span><span class="sxs-lookup"><span data-stu-id="71167-180">Limit on clusters sharing a single storage account</span></span>

<span data-ttu-id="71167-181">데이터 레이크 저장소 계정 하나를 공유할 수 있는 클러스터의 hello 수 제한을 15 hello 해당 클러스터에서 실행 되 고 hello 작업 부하에 따라 달라 집니다.</span><span class="sxs-lookup"><span data-stu-id="71167-181">hello limit on hello number of clusters that can share a single Data Lake Store account depends on hello workload being run on those clusters.</span></span> <span data-ttu-id="71167-182">너무 많은 클러스터 또는 매우 많은 작업에 대 한 저장소 계정을 공유 하는 hello 클러스터 보유 hello 저장소 계정 송/수신 tooget 제한 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="71167-182">Having too many clusters or very heavy workloads on hello clusters that share a storage account might cause hello storage account ingress/egress tooget throttled.</span></span>

## <a name="support-for-default-acls"></a><span data-ttu-id="71167-183">기본 ACL에 대한 지원</span><span class="sxs-lookup"><span data-stu-id="71167-183">Support for Default-ACLs</span></span>

<span data-ttu-id="71167-184">권장 (표와 같이 hello 위의) 명명 된 사용자 액세스 권한이 있는 서비스 사용자를 만들 때 **하지** 기본-ACL로 hello 명명 된 사용자를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="71167-184">When creating a Service Principal with named-user access (as shown in hello table above), we recommend **not** adding hello named-user with a default-ACL.</span></span> <span data-ttu-id="71167-185">사용자 소유, 소유 그룹 및 다른 사용자에 대 한 hello 770 사용 권한 할당의 기본 Acl 결과 사용 하 여 명명 된 사용자 액세스를 프로 비전 합니다.</span><span class="sxs-lookup"><span data-stu-id="71167-185">Provisioning named-user access using default-ACLs results in hello assignment of 770 permissions for owning-user, owning-group, and others.</span></span> <span data-ttu-id="71167-186">770의 기본값은 소유 사용자(7) 또는 소유 그룹(7)에서 권한을 가져가지 않는 반면 다른 사용자(0)에 대한 모든 권한을 가져갑니다.</span><span class="sxs-lookup"><span data-stu-id="71167-186">While this default value of 770 does not take away permissions from owning-user (7) or owning-group (7), it takes away all permissions for others (0).</span></span> <span data-ttu-id="71167-187">이 인해 한 특정 사용 사례 hello에 자세히 설명 하는 알려진된 문제로 [알려진 문제 및 대안](#known-issues-and-workarounds) 섹션.</span><span class="sxs-lookup"><span data-stu-id="71167-187">This results in a known issue with one particular use-case that is discussed in detail in hello [Known issues and workarounds](#known-issues-and-workarounds) section.</span></span>

## <a name="known-issues-and-workarounds"></a><span data-ttu-id="71167-188">알려진 문제 및 해결 방법</span><span class="sxs-lookup"><span data-stu-id="71167-188">Known issues and workarounds</span></span>

<span data-ttu-id="71167-189">이 섹션에서는 hello 알려진 데이터 레이크 저장소 및 해결 방법을 HDInsight 사용을 위한 문제를 나열 합니다.</span><span class="sxs-lookup"><span data-stu-id="71167-189">This section lists hello known issues for using HDInsight with Data Lake Store, and their workarounds.</span></span>

### <a name="publicly-visible-localized-yarn-resources"></a><span data-ttu-id="71167-190">공개적으로 표시되는 지역화된 YARN 리소스</span><span class="sxs-lookup"><span data-stu-id="71167-190">Publicly visible localized YARN resources</span></span>

<span data-ttu-id="71167-191">새 Azure 데이터 레이크 저장소 계정이 만들어질 때 hello 루트 디렉터리 ACL 액세스 권한 비트 집합 too770와 자동으로 프로 비전 됩니다.</span><span class="sxs-lookup"><span data-stu-id="71167-191">When a new Azure Data Lake store account is created, hello root directory is automatically provisioned with Access-ACL permission bits set too770.</span></span> <span data-ttu-id="71167-192">hello 루트 폴더는 사용자가 만든 hello 계정 (데이터 레이크 저장소 admin 님 안녕하세요) toohello 사용자 설정 및 hello 소유 그룹 toohello hello 계정을 만든 hello 사용자의 주 그룹 설정 소유 합니다.</span><span class="sxs-lookup"><span data-stu-id="71167-192">hello root folder’s owning user is set toohello user that created hello account (hello Data Lake Store admin) and hello owning group is set toohello primary group of hello user that created hello account.</span></span> <span data-ttu-id="71167-193">"다른 사용자"에 대한 액세스는 제공되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="71167-193">No access is provided for "others".</span></span>

<span data-ttu-id="71167-194">이러한 설정은 tooaffect 하나의 특정 HDInsight 사용 사례에서 캡처된 알려진 [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247)합니다.</span><span class="sxs-lookup"><span data-stu-id="71167-194">These settings are known tooaffect one specific HDInsight use-case captured in [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span></span> <span data-ttu-id="71167-195">작업 제출을 오류 메시지와 비슷한 toothis와 함께 실패할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="71167-195">Job submissions could fail with an error message similar toothis:</span></span>

    Resource XXXX is not publicly accessible and as such cannot be part of hello public cache.

<span data-ttu-id="71167-196">로컬라이저의 hello 모두 유효성을 검사 YARN JIRA 지역화 하는 동안 공용 리소스 hello 이전에 연결 하는 hello에 명시 된 대로 hello 원격 파일 시스템에 해당 사용 권한을 확인 하 여 요청 된 리소스는 실제로 공용입니다.</span><span class="sxs-lookup"><span data-stu-id="71167-196">As stated in hello YARN JIRA linked earlier, while localizing public resources, hello localizer validates that all hello requested resources are indeed public by checking their permissions on hello remote file-system.</span></span> <span data-ttu-id="71167-197">지역화를 위해 해당 조건에 맞지 않는 모든 LocalResource는 거부됩니다.</span><span class="sxs-lookup"><span data-stu-id="71167-197">Any LocalResource that does not fit that condition is rejected for localization.</span></span> <span data-ttu-id="71167-198">사용 권한에 대 한 검사 hello, "기타"에 대 한 읽기 액세스 toohello 파일을 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="71167-198">hello check for permissions, includes read-access toohello file for "others".</span></span> <span data-ttu-id="71167-199">Azure 데이터 레이크 너무 모든 액세스를 거부 때문에 Azure 데이터 레이크 HDInsight 클러스터를 호스트 하는 경우이 시나리오의 기본 작동 하지 않습니다 "기타" 루트 폴더 수준입니다.</span><span class="sxs-lookup"><span data-stu-id="71167-199">This scenario does not work out-of-the-box when hosting HDInsight clusters on Azure Data Lake, since Azure Data Lake denies all access too"others" at root folder level.</span></span>

#### <a name="workaround"></a><span data-ttu-id="71167-200">해결 방법</span><span class="sxs-lookup"><span data-stu-id="71167-200">Workaround</span></span>
<span data-ttu-id="71167-201">에 대 한 권한을 설정 읽기-실행 **다른** hello 계층 구조를 통해에서 예를 들어  **/** , **클러스터/** 및   **/클러스터/재무**  위의 hello 표에 나와 있는 것 처럼 합니다.</span><span class="sxs-lookup"><span data-stu-id="71167-201">Set read-execute permissions for **others** through hello hierarchy, for example,  at **/**, **/clusters** and **/clusters/finance** as shown in hello table above.</span></span>

## <a name="see-also"></a><span data-ttu-id="71167-202">참고 항목</span><span class="sxs-lookup"><span data-stu-id="71167-202">See also</span></span>

* [<span data-ttu-id="71167-203">Data Lake 저장소를 저장소로 사용하여 HDInsight 클러스터 만들기</span><span class="sxs-lookup"><span data-stu-id="71167-203">Create an HDInsight cluster with Data Lake Store as storage</span></span>](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md)


