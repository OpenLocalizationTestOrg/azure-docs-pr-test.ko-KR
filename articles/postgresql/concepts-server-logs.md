---
title: "PostgreSQL용 Azure 데이터베이스의 서버 로그 | Microsoft Docs"
description: "PostgreSQL용 Azure 데이터베이스에서 쿼리 및 오류 로그를 생성합니다."
services: postgresql
author: SaloniSonpal
ms.author: salonis
manager: jhubbard
editor: jasonwhowell
ms.service: postgresql
ms.topic: article
ms.date: 05/10/2017
ms.openlocfilehash: 10f6c490a4fdb4c70cb80b035eaebb9d2ad2e699
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/29/2017
---
# <a name="server-logs-in-azure-database-for-postgresql"></a><span data-ttu-id="fba9d-103">PostgreSQL용 Azure 데이터베이스의 서버 로그</span><span class="sxs-lookup"><span data-stu-id="fba9d-103">Server Logs in Azure Database for PostgreSQL</span></span> 
<span data-ttu-id="fba9d-104">PostgreSQL용 Azure 데이터베이스에서는 쿼리 및 오류 로그를 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="fba9d-104">Azure Database for PostgreSQL generates query and error logs.</span></span> <span data-ttu-id="fba9d-105">그러나 트랜잭션 로그에 대한 액세스는 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="fba9d-105">However, access to transaction logs is not supported.</span></span> <span data-ttu-id="fba9d-106">이러한 로그는 구성 오류 및 최적 상태가 아닌 성능 문제를 식별하고, 문제를 해결하고, 복구하는 데 사용될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fba9d-106">These logs can be used to identify, troubleshoot, and repair configuration errors and sub-optimal performance.</span></span> <span data-ttu-id="fba9d-107">자세한 내용은 [오류 보고 및 로깅](https://www.postgresql.org/docs/9.6/static/runtime-config-logging.html)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="fba9d-107">For more information, see [Error Reporting and Logging](https://www.postgresql.org/docs/9.6/static/runtime-config-logging.html).</span></span>

## <a name="access-server-logs"></a><span data-ttu-id="fba9d-108">서버 로그 액세스</span><span class="sxs-lookup"><span data-stu-id="fba9d-108">Access server logs</span></span>
<span data-ttu-id="fba9d-109">Azure Portal, [Azure CLI](howto-configure-server-logs-using-cli.md) 및 Azure REST API를 사용하여 Azure PostgreSQL 서버 오류 로그를 나열하고 다운로드할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fba9d-109">You can list and download Azure PostgreSQL server error logs using the Azure Portal, [Azure CLI](howto-configure-server-logs-using-cli.md) and Azure REST APIs.</span></span>

## <a name="log-retention"></a><span data-ttu-id="fba9d-110">로그 보존</span><span class="sxs-lookup"><span data-stu-id="fba9d-110">Log retention</span></span>
<span data-ttu-id="fba9d-111">서버에 연결된 **log\_retention\_period** 매개 변수를 사용하여 시스템 로그의 보존 기간을 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fba9d-111">You can set the retention period for system logs using the **log\_retention\_period** parameter associated with your server.</span></span> <span data-ttu-id="fba9d-112">이 매개 변수의 단위는 일(확인 필요)입니다.</span><span class="sxs-lookup"><span data-stu-id="fba9d-112">The unit for this parameter is days (need to confirm).</span></span> <span data-ttu-id="fba9d-113">기본값은 3일입니다.</span><span class="sxs-lookup"><span data-stu-id="fba9d-113">The default value is three days.</span></span> <span data-ttu-id="fba9d-114">최대값은 7일입니다.</span><span class="sxs-lookup"><span data-stu-id="fba9d-114">The maximum value is 7 days.</span></span> <span data-ttu-id="fba9d-115">서버에 보존된 로그 파일을 포함할만큼 충분한 저장소가 할당되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="fba9d-115">Note that your server must have enough allocated storage to contain the retained log files.</span></span>
<span data-ttu-id="fba9d-116">로그 파일은 1시간마다 또는 100MB 크기가 될 때마다(둘 중 먼저 도달할 때) 순환됩니다.</span><span class="sxs-lookup"><span data-stu-id="fba9d-116">The log files will rotate every 1 hour or 100MB size, whichever comes first.</span></span>

## <a name="configure-logging-for-azure-postgresql-server"></a><span data-ttu-id="fba9d-117">Azure PostgreSQL 서버에 대한 로깅 구성</span><span class="sxs-lookup"><span data-stu-id="fba9d-117">Configure logging for Azure PostgreSQL server</span></span>
<span data-ttu-id="fba9d-118">서버에 대한 쿼리 로깅 및 오류 로그를 사용하도록 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fba9d-118">You can enable query logging and error logging for your server.</span></span> <span data-ttu-id="fba9d-119">오류 로그에는 자동 진공, 연결 및 검사점 정보가 포함될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fba9d-119">Error logs can contain auto-vacuum, connection and checkpoints information.</span></span>

<span data-ttu-id="fba9d-120">두 개의 서버 매개 변수인 log\_statement 및 log\_min\_duration\_statement를 설정하여 PostgreSQL DB 인스턴스에 대한 쿼리 로깅을 사용하도록 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fba9d-120">You can enable query logging for your PostgreSQL DB instance by setting two server parameters: log\_statement and log\_min\_duration\_statement.</span></span>

<span data-ttu-id="fba9d-121">**log\_statement** 매개 변수는 로깅되는 SQL 문을 제어합니다.</span><span class="sxs-lookup"><span data-stu-id="fba9d-121">The **log\_statement** parameter controls which SQL statements are logged.</span></span> <span data-ttu-id="fba9d-122">모든 문을 로깅하려면 이 매개 변수를 ***all***로 설정하는 것이 좋습니다. 기본값은 none입니다(확인 필요).</span><span class="sxs-lookup"><span data-stu-id="fba9d-122">We recommend setting this parameter to ***all*** to log all statements; the default value is none (need to confirm).</span></span>

<span data-ttu-id="fba9d-123">**log\_min\_duration\_statement** 매개 변수는 로깅할 문에 대한 제한(밀리초)을 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="fba9d-123">The **log\_min\_duration\_statement** parameter sets the limit in milliseconds of a statement to be logged.</span></span> <span data-ttu-id="fba9d-124">이 매개 변수 설정보다 오래 실행되는 모든 SQL 문은 로깅됩니다.</span><span class="sxs-lookup"><span data-stu-id="fba9d-124">All SQL statements that run longer than the parameter setting are logged.</span></span> <span data-ttu-id="fba9d-125">이 매개 변수는 사용되지 않도록 설정되어 있으며, 기본적으로 -1(확인 필요)로 설정됩니다.</span><span class="sxs-lookup"><span data-stu-id="fba9d-125">This parameter is disabled and set to minus 1 (-1) by default (need to confirm).</span></span> <span data-ttu-id="fba9d-126">이 매개 변수를 사용하도록 설정하면 응용 프로그램에서 최적화되지 않은 쿼리를 추적하는 데 도움이 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fba9d-126">Enabling this parameter can be helpful in tracking down unoptimized queries in your applications.</span></span>

<span data-ttu-id="fba9d-127">**log\_min\_messages**를 사용하여 서버 로그에 기록되는 메시지 수준을 제어할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fba9d-127">The **log\_min\_messages** allows you to control which message levels are written to the server log.</span></span> <span data-ttu-id="fba9d-128">기본값은 WARNING입니다.</span><span class="sxs-lookup"><span data-stu-id="fba9d-128">The default is WARNING.</span></span> <span data-ttu-id="fba9d-129">(확인 필요)</span><span class="sxs-lookup"><span data-stu-id="fba9d-129">(need to confirm)</span></span>

<span data-ttu-id="fba9d-130">이러한 설정에 대한 자세한 내용은 [오류 보고 및 로깅](https://www.postgresql.org/docs/9.6/static/runtime-config-logging.html) 설명서를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="fba9d-130">For more information on these settings, see [Error Reporting and Logging](https://www.postgresql.org/docs/9.6/static/runtime-config-logging.html) documentation.</span></span> <span data-ttu-id="fba9d-131">특히 PostgreSQL용 Azure 데이터베이스의 서버 매개 변수를 구성하는 경우 [PostgreSQL용 Azure 데이터베이스의 서버 로그](concepts-server-logs.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="fba9d-131">For particularly configuring Azure Database for PostgreSQL server parameters, see [Server Logs in Azure Database for PostgreSQL](concepts-server-logs.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="fba9d-132">다음 단계</span><span class="sxs-lookup"><span data-stu-id="fba9d-132">Next steps</span></span>
- <span data-ttu-id="fba9d-133">Azure CLI 명령줄 인터페이스를 사용하여 로그에 액세스하려면 [Azure CLI를 사용하여 서버 로그 구성 및 액세스](howto-configure-server-logs-using-cli.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="fba9d-133">To access logs using Azure CLI command line interface, see [Configure and access server logs using Azure CLI](howto-configure-server-logs-using-cli.md)</span></span>
- <span data-ttu-id="fba9d-134">서버 매개 변수에 대한 자세한 내용은 [Azure CLI를 사용하여 서버 구성 매개 변수 사용자 지정](howto-configure-server-parameters-using-cli.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="fba9d-134">For more information on server parameters, see [Customize server configuration parameters using Azure CLI](howto-configure-server-parameters-using-cli.md).</span></span>