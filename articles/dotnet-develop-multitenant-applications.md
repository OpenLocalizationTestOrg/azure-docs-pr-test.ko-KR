---
title: "다중 테넌트 웹 응용 프로그램 패턴 | Microsoft 문서"
description: "Azure에서 다중 테넌트 웹 응용 프로그램을 구현하는 방법에 대해 설명하는 아키텍처 개요 및 디자인 패턴을 찾습니다."
services: 
documentationcenter: .net
author: wadepickett
manager: wpickett
editor: 
ms.assetid: 4f0281d2-1555-42b0-a99d-1222fade0b0f
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 06/05/2015
ms.author: wpickett
ms.openlocfilehash: 57ba0e46139bda2d74c9f7db0ffab2f2122b0df2
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/03/2017
---
# <a name="multitenant-applications-in-azure"></a><span data-ttu-id="52c19-103">Azure의 다중 테넌트 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="52c19-103">Multitenant Applications in Azure</span></span>
<span data-ttu-id="52c19-104">다중 테넌트 응용 프로그램은 개별 사용자, 즉 "테넌트"가 자신의 고유 항목처럼 응용 프로그램을 볼 수 있게 하는 공유 리소스입니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-104">A multitenant application is a shared resource that allows separate users, or "tenants," to view the application as though it was their own.</span></span> <span data-ttu-id="52c19-105">다중 테넌트 응용 프로그램이 적합한 일반적인 시나리오는 모든 응용 프로그램 사용자가 사용자 환경을 사용자 지정하려고 하지만 기본적인 비즈니스 요구 사항을 동일하게 준수해야 하는 상황입니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-105">A typical scenario that lends itself to a multitenant application is one in which all users of the application may wish to customize the user experience but otherwise have the same basic business requirements.</span></span> <span data-ttu-id="52c19-106">대규모 다중 테넌트 응용 프로그램의 예로는 Office 365, Outlook.com 및 visualstudio.com이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-106">Examples of large multitenant applications are Office 365, Outlook.com, and visualstudio.com.</span></span>

<span data-ttu-id="52c19-107">응용 프로그램 공급자의 관점에서 다중 테넌트 지원의 이점은 주로 운영 및 비용 효율성과 관련이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-107">From an application provider's perspective, the benefits of multitenancy mostly relate to operational and cost efficiencies.</span></span> <span data-ttu-id="52c19-108">모니터링, 성능 조정, 소프트웨어 유지 관리, 데이터 백업과 같은 시스템 관리 작업을 통합할 수 있어, 한 버전의 응용 프로그램으로 다수의 테넌트/고객의 요구 사항을 충족할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-108">One version of your application can meet the needs of many tenants/customers, allowing consolidation of system administration tasks such as monitoring, performance tuning, software maintenance, and data backups.</span></span>

<span data-ttu-id="52c19-109">다음은 공급자의 관점에서 볼 때 가장 중요한 목표와 요구 사항의 목록입니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-109">The following provides a list of the most significant goals and requirements from a provider's perspective.</span></span>

* <span data-ttu-id="52c19-110">**프로비전**: 응용 프로그램의 새 테넌트를 프로비전할 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-110">**Provisioning**: You must be able to provision new tenants for the application.</span></span>  <span data-ttu-id="52c19-111">테넌트가 많은 다중 테넌트 응용 프로그램의 경우 셀프 서비스 프로비전을 사용하여 이 프로세스를 자동화해야 하는 경우가 많습니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-111">For multitenant applications with a large number of tenants, it is usually necessary to automate this process by enabling self-service provisioning.</span></span>
* <span data-ttu-id="52c19-112">**유지 관리**: 응용 프로그램을 업그레이드하고 다중 테넌트에서 응용 프로그램을 사용하는 동안 다른 유지 관리 작업을 수행할 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-112">**Maintainability**: You must be able to upgrade the application and perform other maintenance tasks while multiple tenants are using it.</span></span>
* <span data-ttu-id="52c19-113">**모니터링**: 문제를 식별하고 해결할 수 있도록 항상 응용 프로그램을 모니터링할 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-113">**Monitoring**: You must be able to monitor the application at all times to identify any problems and to troubleshoot them.</span></span> <span data-ttu-id="52c19-114">각 테넌트가 응용 프로그램을 사용하는 방식도 모니터링합니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-114">This includes monitoring how each tenant is using the application.</span></span>

<span data-ttu-id="52c19-115">올바르게 구현된 다중 테넌트 응용 프로그램을 통해 사용자가 얻는 이점은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-115">A properly implemented multitenant application provides the following benefits to users.</span></span>

* <span data-ttu-id="52c19-116">**격리**:개별 테넌트의 활동이 다른 테넌트의 응용 프로그램 사용에 영향을 미치지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-116">**Isolation**: The activities of individual tenants do not affect the use of the application by other tenants.</span></span> <span data-ttu-id="52c19-117">테넌트는 서로의 데이터에 액세스할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-117">Tenants cannot access each other's data.</span></span> <span data-ttu-id="52c19-118">단일 테넌트의 입장에서 응용 프로그램을 배타적으로 사용하는 것으로 보입니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-118">It appears to the tenant as though they have exclusive use of the application.</span></span>
* <span data-ttu-id="52c19-119">**가용성**: 개별 테넌트는 가능하면 SLA에 정의된 보증에 따라 응용 프로그램을 지속적으로 사용할 수 있기를 바랍니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-119">**Availability**: Individual tenants want the application to be constantly available, perhaps with guarantees defined in an SLA.</span></span> <span data-ttu-id="52c19-120">또한 다른 테넌트의 활동이 응용 프로그램의 가용성에 영향을 미쳐서는 안 됩니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-120">Again, the activities of other tenants should not affect the availability of the application.</span></span>
* <span data-ttu-id="52c19-121">**확장성**:개별 테넌트의 요구를 충족할 수 있도록 응용 프로그램이 확장됩니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-121">**Scalability**: The application scales to meet the demand of individual tenants.</span></span> <span data-ttu-id="52c19-122">다른 테넌트의 존재와 동작이 응용 프로그램의 성능에 영향을 미쳐서는 안 됩니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-122">The presence and actions of other tenants should not affect the performance of the application.</span></span>
* <span data-ttu-id="52c19-123">**비용**: 다중 테넌트 지원은 리소스 공유를 가능하게 하므로 전용 단일 테넌트 응용 프로그램을 실행하는 것보다 비용이 낮습니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-123">**Costs**: Costs are lower than running a dedicated, single-tenant application because multi-tenancy enables the sharing of resources.</span></span>
* <span data-ttu-id="52c19-124">**사용자 지정 가능**:</span><span class="sxs-lookup"><span data-stu-id="52c19-124">**Customizability**.</span></span> <span data-ttu-id="52c19-125">기능 추가 또는 제거, 색 및 로고 변경, 고유 코드 또는 스크립트 추가 등과 같은 다양한 방식으로 개별 테넌트에 맞게 응용 프로그램을 사용자 지정하는 기능입니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-125">The ability to customize the application for an individual tenant in various ways such as adding or removing features, changing colors and logos, or even adding their own code or script.</span></span>

<span data-ttu-id="52c19-126">다시 말해서, 확장성이 뛰어난 서비스를 제공하기 위해 고려해야 할 점이 많이 있지만 다수의 다중 테넌트 응용 프로그램에 공통적인 목표와 요구 사항도 많습니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-126">In short, while there are many considerations that you must take into account to provide a highly scalable service, there are also a number of the goals and requirements that are common to many multitenant applications.</span></span> <span data-ttu-id="52c19-127">일부는 특정 시나리오에서 적절하지 않을 수 있으며, 개별 목표와 요구 사항의 중요성은 시나리오별로 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-127">Some may not be relevant in specific scenarios, and the importance of individual goals and requirements will differ in each scenario.</span></span> <span data-ttu-id="52c19-128">다중 테넌트 응용 프로그램 공급자에게는 테넌트의 목표와 요구 사항 충족, 수익성, 청구, 여러 서비스 수준, 프로비전, 유지 관리 모니터링, 자동화와 같은 목표와 요구 사항도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-128">As a provider of the multitenant application, you will also have goals and requirements such as, meeting the tenants' goals and requirements, profitability, billing, multiple service levels, provisioning, maintainability monitoring, and automation.</span></span>

<span data-ttu-id="52c19-129">다중 테넌트 응용 프로그램 설계와 관련된 추가 고려 사항에 대한 자세한 내용은 [Azure에서 다중 테넌트 응용 프로그램 호스트][Hosting a Multi-Tenant Application on Azure]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="52c19-129">For more information on additional design considerations of a multitenant application, see [Hosting a Multi-Tenant Application on Azure][Hosting a Multi-Tenant Application on Azure].</span></span> <span data-ttu-id="52c19-130">다중 테넌트 SaaS(software-as-a-service) 데이터베이스 응용 프로그램의 일반적인 데이터 아키텍처 패턴에 대한 정보는 [Azure SQL 데이터베이스를 사용한 다중 테넌트 SaaS 응용 프로그램의 설계 패턴](sql-database/sql-database-design-patterns-multi-tenancy-saas-applications.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="52c19-130">For information on common data architecture patterns of multi-tenant software-as-a-service (SaaS) database applications, see [Design Patterns for Multi-tenant SaaS Applications with Azure SQL Database](sql-database/sql-database-design-patterns-multi-tenancy-saas-applications.md).</span></span> 

<span data-ttu-id="52c19-131">Azure에는 다중 테넌트 시스템을 설계할 때 발생하는 주요 문제를 해결할 수 있는 많은 기능이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-131">Azure provides many features that allow you to address the key problems encountered when designing a multitenant system.</span></span>

<span data-ttu-id="52c19-132">**격리**</span><span class="sxs-lookup"><span data-stu-id="52c19-132">**Isolation**</span></span>

* <span data-ttu-id="52c19-133">호스트 헤더로 웹 사이트 테넌트 분할(SSL 통신을 사용하거나 사용하지 않음)</span><span class="sxs-lookup"><span data-stu-id="52c19-133">Segment Website Tenants by Host Headers with or without SSL communication</span></span>
* <span data-ttu-id="52c19-134">쿼리 매개 변수로 웹 사이트 테넌트 분할</span><span class="sxs-lookup"><span data-stu-id="52c19-134">Segment Website Tenants by Query Parameters</span></span>
* <span data-ttu-id="52c19-135">작업자 역할의 웹 서비스</span><span class="sxs-lookup"><span data-stu-id="52c19-135">Web Services in Worker Roles</span></span>
  * <span data-ttu-id="52c19-136">작업자 역할.</span><span class="sxs-lookup"><span data-stu-id="52c19-136">Worker Roles.</span></span> <span data-ttu-id="52c19-137">일반적으로 응용 프로그램 백 엔드에서 데이터를 처리함</span><span class="sxs-lookup"><span data-stu-id="52c19-137">that typically process data on the backend of an application.</span></span>
  * <span data-ttu-id="52c19-138">웹 역할. 일반적으로 응용 프로그램의 프런트 엔드 역할을 합니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-138">Web Roles that typically act as the frontend for applications.</span></span>

<span data-ttu-id="52c19-139">**저장소**</span><span class="sxs-lookup"><span data-stu-id="52c19-139">**Storage**</span></span>

<span data-ttu-id="52c19-140">Azure SQL 데이터베이스와 같은 데이터 관리나 Azure 저장소 서비스가 있습니다. Azure 저장소 서비스에는 구조화되지 않은 대량의 데이터를 저장하는 서비스를 제공하는 테이블 서비스 및 구조화되지 않은 대량의 텍스트나 이진 데이터(예: 비디오, 오디오, 이미지)를 저장하는 서비스를 제공하는 Blob 서비스가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-140">Data management such as Azure SQL Database or Azure Storage services such as the Table service which provides services for storage of large amounts of unstructured data and the Blob service which provides services to store large amounts of unstructured text or binary data such as video, audio and images.</span></span>

* <span data-ttu-id="52c19-141">SQL 데이터베이스의 다중 테넌트 데이터 보호 - 테넌트별 SQL Server 로그인에 적합합니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-141">Securing Multitenant Data in SQL Database appropriate per-tenant SQL Server logins.</span></span>
* <span data-ttu-id="52c19-142">응용 프로그램 리소스에 Azure 테이블 사용 - 컨테이너 수준 액세스 정책을 지정하면 공유 액세스 서명으로 보호되는 리소스에 대해 새 URL을 생성하지 않고도 권한을 조정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-142">Using Azure Tables for Application Resources By specifying a container level access policy, you can the ability to adjust permissions without having to issue new URL's for the resources protected with shared access signatures.</span></span>
* <span data-ttu-id="52c19-143">응용 프로그램 리소스의 Azure 큐 - Azure 큐는 일반적으로 테넌트를 대신하여 처리를 구동하는 데 사용되지만 프로비전 또는 관리에 필요한 작업을 분산하는 데에도 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-143">Azure Queues for Application Resources Azure queues are commonly used to drive processing on behalf of tenants, but may also be used to distribute work required for provisioning or management.</span></span>
* <span data-ttu-id="52c19-144">응용 프로그램 리소스의 서비스 버스 큐 - 공유 서비스에 작업을 밀어 넣습니다. 각 전송 테넌트는 이 큐에 밀어 넣는 권한(ACS에서 발급한 클레임에서 파생)만 가지고 있고, 서비스로부터 수신하는 테넌트만 다중 테넌트에서 제공되는 데이터를 큐에서 끌어오는 권한을 가지는 단일 큐를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-144">Service Bus Queues for Application Resources that pushes work to a shared a service, you can use a single queue where each tenant sender only has permissions (as derived from claims issued from ACS) to push to that queue, while only the receivers from the service have permission to pull from the queue the data coming from multiple tenants.</span></span>

<span data-ttu-id="52c19-145">**연결 및 보안 서비스**</span><span class="sxs-lookup"><span data-stu-id="52c19-145">**Connection and Security Services**</span></span>

* <span data-ttu-id="52c19-146">응용 프로그램 사이에 배치되어 높은 확장성과 복원력을 위해 느슨한 결합 방식을 사용하여 메시지를 교환할 수 있게 하는 메시징 인프라인 Azure 서비스 버스가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-146">Azure Service Bus, a messaging infrastructure that sits between applications allowing them to exchange messages in a loosely coupled way for improved scale and resiliency.</span></span>

<span data-ttu-id="52c19-147">**네트워킹 서비스**</span><span class="sxs-lookup"><span data-stu-id="52c19-147">**Networking Services**</span></span>

<span data-ttu-id="52c19-148">Azure에서는 몇 가지 네트워킹 서비스를 통해 인증을 지원하고 호스트된 응용 프로그램의 관리 효율성을 향상합니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-148">Azure provides several networking services that support authentication, and improve manageability of your hosted applications.</span></span> <span data-ttu-id="52c19-149">다음과 같은 서비스가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-149">These services include the following:</span></span>

* <span data-ttu-id="52c19-150">Azure 가상 네트워크를 사용하여 Azure에서 VPN(가상 사설망)을 프로비전하고 관리하며 온-프레미스 IT 인프라와 안전하게 연결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-150">Azure Virtual Network lets you provision and manage virtual private networks (VPNs) in Azure as well as securely link these with on-premises IT infrastructure.</span></span>
* <span data-ttu-id="52c19-151">가상 네트워크 트래픽 관리자를 사용하면 같은 데이터 센터에서 또는 세계적으로 서로 다른 데이터 센터에서 실행 중인 들어오는 트래픽의 부하를 여러 Azure 호스티드 서비스에 분산할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-151">Virtual Network Traffic Manager allows you to load balance incoming traffic across multiple hosted Azure services whether they're running in the same datacenter or across different datacenters around the world.</span></span>
* <span data-ttu-id="52c19-152">Azure AD(Azure Active Directory)는 클라우드 응용 프로그램과 관련하여 ID를 관리하고 액세스를 제어할 수 있게 하는 최신 REST 기반 서비스입니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-152">Azure Active Directory (Azure AD) is a modern, REST-based service that provides identity management and access control capabilities for your cloud applications.</span></span> <span data-ttu-id="52c19-153">응용 프로그램 리소스에 Azure AD를 사용하면 코드에서 인증 및 권한 부여 기능을 팩터링하도록 허용하는 동시에 사용자가 웹 응용 프로그램 및 서비스에 액세스하도록 손쉽게 인증하고 권한을 부여할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-153">Using Azure AD for Application Resources Azure AD to provides an easy way of authenticating and authorizing users to gain access to your web applications and services while allowing the features of authentication and authorization to be factored out of your code.</span></span>
* <span data-ttu-id="52c19-154">Azure 서비스 버스는 분산 및 하이브리드 응용 프로그램에 대해 복잡한 방화벽 및 보안 인프라 없이도 Azure 호스트된 응용 프로그램과 온-프레미스 응용 프로그램 및 서비스 사이의 통신과 같은 보안 메시징 및 데이터 흐름 기능을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-154">Azure Service Bus provides a secure messaging and data flow capability for distributed and hybrid applications, such as communication between Azure hosted applications and on-premises applications and services, without requiring complex firewall and security infrastructures.</span></span> <span data-ttu-id="52c19-155">응용 프로그램 리소스의 서비스 버스 릴레이를 사용합니다. 끝점으로 노출되는 서비스는 테넌트에 속할 수 있으며(예를 들어 온-프레미스와 같이 시스템 외부에서 호스트됨) 또는 테넌트용으로 특별히 프로비전된(중요한 테넌트 특정 데이터가 전송되므로) 서비스일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-155">Using Service Bus Relay for Application Resources to The services that are exposed as endpoints may belong to the tenant (for example, hosted outside of the system, such as on-premises), or they may be services provisioned specifically for the tenant (because sensitive, tenant-specific data travels across them).</span></span>

<span data-ttu-id="52c19-156">**리소스 프로비전**</span><span class="sxs-lookup"><span data-stu-id="52c19-156">**Provisioning Resources**</span></span>

<span data-ttu-id="52c19-157">Azure에는 응용 프로그램의 새 테넌트를 프로비전하는 방법이 많습니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-157">Azure provides a number of ways provision new tenants for the application.</span></span> <span data-ttu-id="52c19-158">테넌트가 많은 다중 테넌트 응용 프로그램의 경우 셀프 서비스 프로비전을 사용하여 이 프로세스를 자동화해야 하는 경우가 많습니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-158">For multitenant applications with a large number of tenants, it is usually necessary to automate this process by enabling self-service provisioning.</span></span>

* <span data-ttu-id="52c19-159">작업자 역할은 테넌트 리소스별로 프로비전하고 프로비전을 해제(예: 새 테넌트 등록 또는 취소 시)하며, 계량 용도로 메트릭을 수집하고, 특정 일정에 따르거나 핵심 성과 지표 임계값 초과에 대한 대응으로 확장을 관리할 수 있게 합니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-159">Worker roles allow you to provision and de-provision per tenant resources (such as when a new tenant signs-up or cancels), collect metrics for metering use, and manage scale following a certain schedule or in response to the crossing of thresholds of key performance indicators.</span></span> <span data-ttu-id="52c19-160">이 역할은 업데이트 및 업그레이드를 솔루션에 밀어 넣는 데에도 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-160">This same role may also be used to push out updates and upgrades to the solution.</span></span>
* <span data-ttu-id="52c19-161">Azure Blob을 사용하여 새 테넌트용으로 계산 또는 미리 초기화된 저장소 리소스를 프로비전할 수 있으며 동시에 계산 서비스 패키지, VHD 이미지, 기타 리소스를 보호하는 컨테이너 수준 액세스 정책을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-161">Azure Blobs can be used to provision compute or pre-initialized storage resources for new tenants while providing container level access policies to protect the compute service Packages, VHD images and other resources.</span></span>
* <span data-ttu-id="52c19-162">테넌트용으로 SQL 데이터베이스 리소스를 프로비전하는 옵션에는 다음이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="52c19-162">Options for provisioning SQL Database resources for a tenant include:</span></span>
  
  * <span data-ttu-id="52c19-163">DDL을 스크립트에 사용하거나 어셈블리 내 리소스로 포함</span><span class="sxs-lookup"><span data-stu-id="52c19-163">DDL in scripts or embedded as resources within assemblies</span></span>
  * <span data-ttu-id="52c19-164">SQL Server 2008 R2 DAC 패키지를 프로그래밍 방식으로 배포</span><span class="sxs-lookup"><span data-stu-id="52c19-164">SQL Server 2008 R2 DAC Packages deployed programmatically.</span></span>
  * <span data-ttu-id="52c19-165">마스터 참조 데이터베이스에서 복사</span><span class="sxs-lookup"><span data-stu-id="52c19-165">Copying from a master reference database</span></span>
  * <span data-ttu-id="52c19-166">데이터베이스 가져오기 및 내보내기를 사용하여 파일에서 새 데이터베이스 프로비전</span><span class="sxs-lookup"><span data-stu-id="52c19-166">Using database Import and Export to provision new databases from a file.</span></span>

<!--links-->

[Hosting a Multi-Tenant Application on Azure]: http://msdn.microsoft.com/library/hh534480.aspx
[Designing Multitenant Applications on Azure]: http://msdn.microsoft.com/library/windowsazure/hh689716
