---
title: "응용 프로그램 프록시 문제 해결 | Microsoft Docs"
description: "Azure AD 응용 프로그램 프록시에서 오류를 해결하는 방법을 설명합니다."
services: active-directory
documentationcenter: 
author: kgremban
manager: femila
ms.assetid: 970caafb-40b8-483c-bb46-c8b032a4fb74
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/21/2017
ms.author: kgremban
ms.reviewer: harshja
ms.custom: H1Hack27Feb2017; it-pro
ms.openlocfilehash: 3ef74c8d5d5b75eb2bca4e6c994f4718b5226db8
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/03/2017
---
# <a name="troubleshoot-application-proxy-problems-and-error-messages"></a><span data-ttu-id="128c7-103">응용 프로그램 프록시 문제 및 오류 메시지 문제 해결</span><span class="sxs-lookup"><span data-stu-id="128c7-103">Troubleshoot Application Proxy problems and error messages</span></span>
<span data-ttu-id="128c7-104">게시된 응용 프로그램에 액세스할 때나 응용 프로그램을 게시할 때 오류가 발생한다면 다음 옵션을 확인하여 Microsoft Azure AD 응용 프로그램 프록시가 올바르게 작동하는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-104">If errors occur in accessing a published application or in publishing applications, check the following options to see if Microsoft Azure AD Application Proxy is working correctly:</span></span>

* <span data-ttu-id="128c7-105">Windows 서비스 콘솔을 열고 **Microsoft AAD 응용 프로그램 프록시 커넥터** 서비스가 활성화되어 있고 실행 중인지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-105">Open the Windows Services console and verify that the **Microsoft AAD Application Proxy Connector** service is enabled and running.</span></span> <span data-ttu-id="128c7-106">또한 다음 그림에 표시된 것처럼 응용 프로그램 프록시 서비스 속성 페이지에서 확인할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-106">You may also want to look at the Application Proxy service properties page, as shown in the following image:</span></span>  
  <span data-ttu-id="128c7-107">![Microsoft AAD 응용 프로그램 프록시 커넥터 속성 창 스크린샷](./media/active-directory-application-proxy-troubleshoot/connectorproperties.png)</span><span class="sxs-lookup"><span data-stu-id="128c7-107">![Microsoft AAD Application Proxy Connector Properties window screenshot](./media/active-directory-application-proxy-troubleshoot/connectorproperties.png)</span></span>
* <span data-ttu-id="128c7-108">이벤트 뷰어를 열고 **응용 프로그램 및 서비스 로그** > **Microsoft** > **AadApplicationProxy** > **커넥터** > **관리**에서 응용 프로그램 프록시 커넥터 이벤트를 찾습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-108">Open Event Viewer and look for Application Proxy connector events in **Applications and Services Logs** > **Microsoft** > **AadApplicationProxy** > **Connector** > **Admin**.</span></span>
* <span data-ttu-id="128c7-109">필요한 경우 [응용 프로그램 프록시 커넥터 세션 로그를 켜면](application-proxy-understand-connectors.md#under-the-hood) 더 자세한 로그를 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-109">If needed, more detailed logs are available by [turning on the Application Proxy connector session logs](application-proxy-understand-connectors.md#under-the-hood).</span></span>

<span data-ttu-id="128c7-110">Azure AD 문제 해결 도구에 대한 자세한 내용은 [커넥터 네트워킹 필수 조건을 검사하는 문제 해결 도구](https://blogs.technet.microsoft.com/applicationproxyblog/2015/09/03/troubleshooting-tool-to-validate-connector-networking-prerequisites)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="128c7-110">For more information about the Azure AD Troubleshooting tool, see [Troubleshooting tool to validate connector networking prerequisites](https://blogs.technet.microsoft.com/applicationproxyblog/2015/09/03/troubleshooting-tool-to-validate-connector-networking-prerequisites).</span></span>

## <a name="the-page-is-not-rendered-correctly"></a><span data-ttu-id="128c7-111">페이지가 제대로 렌더링되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-111">The page is not rendered correctly</span></span>
<span data-ttu-id="128c7-112">특정 오류 메시지를 수신하지 않고도 응용 프로그램 렌더링 또는 기능이 제대로 이뤄지지 않는 문제가 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-112">You may have problems with your application rendering or functioning incorrectly without receiving specific error messages.</span></span> <span data-ttu-id="128c7-113">문서 경로를 게시했지만 응용 프로그램에 해당 경로 밖에 있는 콘텐츠가 필요한 경우에 이 문제가 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-113">This can occur if you published the article path, but the application requires content that exists outside that path.</span></span>

<span data-ttu-id="128c7-114">예를 들어, https://yourapp/app 경로를 게시하는 경우 응용 프로그램은 https://yourapp/media의 이미지를 호출하지만 렌더링하지는 않습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-114">For example, if you publish the path https://yourapp/app but the application calls images in https://yourapp/media, they won't be rendered.</span></span> <span data-ttu-id="128c7-115">모든 관련 콘텐츠를 포함해야 하는 가장 높은 수준의 경로를 사용하여 응용 프로그램을 게시하는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-115">Make sure that you publish the application using the highest level path you need to include all relevant content.</span></span> <span data-ttu-id="128c7-116">이 예에서는 http://yourapp/입니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-116">In this example, it would be http://yourapp/.</span></span>

<span data-ttu-id="128c7-117">참조된 콘텐츠를 포함하도록 경로를 변경하지만, 여전히 사용자가 경로에서 더 깊은 링크로 이동해야 하는 경우, [Azure AD 액세스 패널과 Office 365 앱 시작 관리자에서 응용 프로그램 프록시 응용 프로그램에 대한 올바른 링크 설정](https://blogs.technet.microsoft.com/applicationproxyblog/2016/04/06/setting-the-right-link-for-application-proxy-applications-in-the-azure-ad-access-panel-and-office-365-app-launcher/)블로그 게시물을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="128c7-117">If you change your path to include referenced content, but still need users to land on a deeper link in the path, see the blog post [Setting the right link for Application Proxy applications in the Azure AD access panel and Office 365 app launcher](https://blogs.technet.microsoft.com/applicationproxyblog/2016/04/06/setting-the-right-link-for-application-proxy-applications-in-the-azure-ad-access-panel-and-office-365-app-launcher/).</span></span>

## <a name="connector-errors"></a><span data-ttu-id="128c7-118">커넥터 오류</span><span class="sxs-lookup"><span data-stu-id="128c7-118">Connector errors</span></span>

<span data-ttu-id="128c7-119">[Azure AD 응용 프로그램 프록시 커넥터 포트 테스트 도구](https://aadap-portcheck.connectorporttest.msappproxy.net/)를 사용하여 커넥터가 응용 프로그램 프록시 서비스에 연결할 수 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-119">Use the [Azure AD Application Proxy Connector Ports Test Tool](https://aadap-portcheck.connectorporttest.msappproxy.net/) to verify that your connector can reach the Application Proxy service.</span></span> <span data-ttu-id="128c7-120">최소한 미국 중부 하위 지역 및 사용자에게 가까운 지역에는 모두 녹색 확인 표시가 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-120">At a minimum, make sure that the Central US region and the region closest to you have all green checkmarks.</span></span> <span data-ttu-id="128c7-121">그 외의 항목에도 녹색 확인 표시가 있으면 복원력이 더 뛰어난 것입니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-121">Beyond that, more green checkmarks means greater resiliency.</span></span> 

<span data-ttu-id="128c7-122">커넥터 마법사를 설치하는 동안 등록에 실패하는 경우 실패한 이유를 확인하는 두 가지 방법이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-122">If registration fails during the Connector wizard installation, there are two ways to view the reason for the failure.</span></span> <span data-ttu-id="128c7-123">**Applications and Services Logs\Microsoft\AadApplicationProxy\Connector\Admin**에서 이벤트 로그를 확인하거나 다음 Windows PowerShell 명령을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-123">Either look in the event log under **Applications and Services Logs\Microsoft\AadApplicationProxy\Connector\Admin**, or run the following Windows PowerShell command:</span></span>

    Get-EventLog application –source “Microsoft AAD Application Proxy Connector” –EntryType “Error” –Newest 1

<span data-ttu-id="128c7-124">이벤트 로그에서 커넥터 오류를 찾으면 일반적인 오류 테이블을 사용하여 문제를 해결합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-124">Once you find the Connector error from the event log, use this table of common errors to resolve the problem:</span></span>

| <span data-ttu-id="128c7-125">오류</span><span class="sxs-lookup"><span data-stu-id="128c7-125">Error</span></span> | <span data-ttu-id="128c7-126">권장되는 단계</span><span class="sxs-lookup"><span data-stu-id="128c7-126">Recommended steps</span></span> |
| ----- | ----------------- |
| <span data-ttu-id="128c7-127">커넥터를 등록하지 못함: Azure 관리 포털에서 응용 프로그램 프록시를 활성화했으며 Active Directory 사용자 이름과 암호를 올바르게 입력했는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-127">Connector registration failed: Make sure you enabled Application Proxy in the Azure Management Portal and that you entered your Active Directory user name and password correctly.</span></span> <span data-ttu-id="128c7-128">오류: '하나 이상의 오류가 발생했습니다.'</span><span class="sxs-lookup"><span data-stu-id="128c7-128">Error: 'One or more errors occurred.'</span></span> | <span data-ttu-id="128c7-129">Azure AD에 로그인하지 않고 등록 창을 닫은 경우 커넥터 마법사를 다시 실행하고 커넥터를 등록합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-129">If you closed the registration window without signing in to Azure AD, run the Connector wizard again and register the Connector.</span></span> <br><br> <span data-ttu-id="128c7-130">등록 창이 열리고 로그인을 허용하지 않고 즉시 창이 닫히는 경우 이 오류가 나타날 것입니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-130">If the registration window opens and then immediately closes without allowing you to log in, you will probably get this error.</span></span> <span data-ttu-id="128c7-131">시스템에 네트워킹 오류가 있을 때 이 오류가 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-131">This error occurs when there is a networking error on your system.</span></span> <span data-ttu-id="128c7-132">브라우저에서 공용 웹사이트에 연결할 수 있으며 포트가 [응용 프로그램 프록시 사전 요구 사항](active-directory-application-proxy-enable.md)에 지정된대로 열려 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-132">Make sure that it is possible to connect from a browser to a public website and that the ports are open as specified in [Application Proxy prerequisites](active-directory-application-proxy-enable.md).</span></span> |
| <span data-ttu-id="128c7-133">등록 창에 명확한 오류가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-133">Clear error is presented in the registration window.</span></span> <span data-ttu-id="128c7-134">설치를 진행할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-134">Cannot proceed</span></span> | <span data-ttu-id="128c7-135">이 오류가 표시되고 창이 닫힌 경우 잘못된 사용자 이름 또는 암호를 입력했습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-135">If you see this error and then the window closes, you entered the wrong username or password.</span></span> <span data-ttu-id="128c7-136">다시 시도하세요.</span><span class="sxs-lookup"><span data-stu-id="128c7-136">Try again.</span></span> |
| <span data-ttu-id="128c7-137">커넥터를 등록하지 못함: Azure 관리 포털에서 응용 프로그램 프록시를 활성화했으며 Active Directory 사용자 이름과 암호를 올바르게 입력했는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-137">Connector registration failed: Make sure you enabled Application Proxy in the Azure Management Portal and that you entered your Active Directory user name and password correctly.</span></span> <span data-ttu-id="128c7-138">오류: 'AADSTS50059: 테넌트를 식별하는 정보가 요청에서 찾을 수 없거나 제공된 자격 증명으로 암시되지 않으며, 서비스 주체 URI에 의한 검색이 실패했습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-138">Error: 'AADSTS50059: No tenant-identifying information found in either the request or implied by any provided credentials and search by service principal URI has failed.</span></span> | <span data-ttu-id="128c7-139">액세스하고자 하는 디렉터리의 조직 ID 일부인 도메인이 아닌 Microsoft 계정을 사용하여 로그인을 시도하고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-139">You are trying to sign in using a Microsoft Account and not a domain that is part of the organization ID of the directory you are trying to access.</span></span> <span data-ttu-id="128c7-140">관리자가 테넌트 도메인과 동일한 도메인 이름의 일부인지 확인하세요. 예를 들어, Azure AD 도메인이 contoso.com이라면 관리자는 admin@contoso.com여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-140">Make sure that the admin is part of the same domain name as the tenant domain, for example, if the Azure AD domain is contoso.com, the admin should be admin@contoso.com.</span></span> |
| <span data-ttu-id="128c7-141">PowerShell 스크립트의 실행을 위한 현재 실행 정책을 검색하지 못했습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-141">Failed to retrieve the current execution policy for running PowerShell scripts.</span></span> | <span data-ttu-id="128c7-142">커넥터 설치에 실패한다면 PowerShell 실행 정책이 비활성화되어 있지 않은지 확인하세요.</span><span class="sxs-lookup"><span data-stu-id="128c7-142">If the Connector installation fails, check to make sure that PowerShell execution policy is not disabled.</span></span> <br><br><span data-ttu-id="128c7-143">1. 그룹 정책 편집기를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-143">1. Open the Group Policy Editor.</span></span><br><span data-ttu-id="128c7-144">2. **컴퓨터 구성** > **관리 템플릿** > **Windows 구성 요소** > **Windows PowerShell**로 이동한 다음 **스크립트 실행 켜기**를 두 번 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-144">2. Go to **Computer Configuration** > **Administrative Templates** > **Windows Components** > **Windows PowerShell** and double-click **Turn on Script Execution**.</span></span><br><span data-ttu-id="128c7-145">3. 실행 정책은 **구성 안 함** 또는 **사용**으로 설정될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-145">3. The execution policy can be set to either **Not Configured** or **Enabled**.</span></span> <span data-ttu-id="128c7-146">**사용**으로 설정했다면 옵션에 있는 실행 정책을 **로컬 스크립트 및 원격 서명된 스크립트 허용** 또는 **모든 스크립트 허용**으로 설정했는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-146">If set to **Enabled**, make sure that under Options, the Execution Policy is set to either **Allow local scripts and remote signed scripts** or to **Allow all scripts**.</span></span> |
| <span data-ttu-id="128c7-147">커넥터에서 구성을 다운로드하지 못했습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-147">Connector failed to download the configuration.</span></span> | <span data-ttu-id="128c7-148">인증에 사용되는 커넥터의 클라이언트 인증서가 만료되었습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-148">The Connector’s client certificate, which is used for authentication, expired.</span></span> <span data-ttu-id="128c7-149">이것은 커넥터가 프록시 뒤에 설치되어 있는 경우 발생할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-149">This may also occur if you have the Connector installed behind a proxy.</span></span> <span data-ttu-id="128c7-150">이 경우 커넥터는 인터넷에 액세스할 수 없으며 원격 사용자에게 응용 프로그램을 제공할 수 없게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-150">In this case, the Connector cannot access the Internet and will not be able to provide applications to remote users.</span></span> <span data-ttu-id="128c7-151">`Register-AppProxyConnector` Windows PowerShell에서 cmdlet을 사용하여 트러스트를 수동으로 갱신합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-151">Renew trust manually using the `Register-AppProxyConnector` cmdlet in Windows PowerShell.</span></span> <span data-ttu-id="128c7-152">커넥터가 프록시 뒤에 있는 경우 커넥터 계정 "네트워크 서비스" 및 "로컬 시스템"에 인터넷 액세스 권한을 부여해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-152">If your Connector is behind a proxy, it is necessary to grant Internet access to the Connector accounts “network services” and “local system.”</span></span> <span data-ttu-id="128c7-153">이것은 프록시에 대한 액세스 권한을 부여하거나 프록시를 우회하도록 설정하여 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-153">This can be accomplished either by granting them access to the Proxy or by setting them to bypass the proxy.</span></span> |
| <span data-ttu-id="128c7-154">커넥터를 등록하지 못함: 커넥터를 등록하려면 Active Directory의 전역 관리자여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-154">Connector registration failed: Make sure you are a Global Administrator of your Active Directory to register the Connector.</span></span> <span data-ttu-id="128c7-155">오류: '등록 요청이 거부되었습니다.'</span><span class="sxs-lookup"><span data-stu-id="128c7-155">Error: 'The registration request was denied.'</span></span> | <span data-ttu-id="128c7-156">로그인하고자 하는 별칭이 이 도메인에서 관리자가 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-156">The alias you're trying to log in with isn't an admin on this domain.</span></span> <span data-ttu-id="128c7-157">커넥터는 항상 사용자의 도메인을 소유하는 디렉터리에 대해 설치됩니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-157">Your Connector is always installed for the directory that owns the user’s domain.</span></span> <span data-ttu-id="128c7-158">로그인하고자 하는 관리자 계정이 Azure AD 테넌트에 대한 전역 사용 권한을 가지고 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-158">Make sure that the admin account you are trying to sign in with has global permissions to the Azure AD tenant.</span></span> |

## <a name="kerberos-errors"></a><span data-ttu-id="128c7-159">Kerberos 오류</span><span class="sxs-lookup"><span data-stu-id="128c7-159">Kerberos errors</span></span>

<span data-ttu-id="128c7-160">이 테이블은 Kerberos 설정 및 구성에서 발생한 일반적인 오류에 대해 설명하고 해결하기 위한 제안을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-160">This table covers the more common errors that come from Kerberos setup and configuration, and includes suggestions for resolution.</span></span>

| <span data-ttu-id="128c7-161">오류</span><span class="sxs-lookup"><span data-stu-id="128c7-161">Error</span></span> | <span data-ttu-id="128c7-162">권장되는 단계</span><span class="sxs-lookup"><span data-stu-id="128c7-162">Recommended steps</span></span> |
| ----- | ----------------- |
| <span data-ttu-id="128c7-163">PowerShell 스크립트의 실행을 위한 현재 실행 정책을 검색하지 못했습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-163">Failed to retrieve the current execution policy for running PowerShell scripts.</span></span> | <span data-ttu-id="128c7-164">커넥터 설치에 실패한다면 PowerShell 실행 정책이 비활성화되어 있지 않은지 확인하세요.</span><span class="sxs-lookup"><span data-stu-id="128c7-164">If the Connector installation fails, check to make sure that PowerShell execution policy is not disabled.</span></span><br><br><span data-ttu-id="128c7-165">1. 그룹 정책 편집기를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-165">1. Open the Group Policy Editor.</span></span><br><span data-ttu-id="128c7-166">2. **컴퓨터 구성** > **관리 템플릿** > **Windows 구성 요소** > **Windows PowerShell**로 이동한 다음 **스크립트 실행 켜기**를 두 번 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-166">2. Go to **Computer Configuration** > **Administrative Templates** > **Windows Components** > **Windows PowerShell** and double-click **Turn on Script Execution**.</span></span><br><span data-ttu-id="128c7-167">3. 실행 정책은 **구성 안 함** 또는 **사용**으로 설정될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-167">3. The execution policy can be set to either **Not Configured** or **Enabled**.</span></span> <span data-ttu-id="128c7-168">**사용**으로 설정했다면 옵션에 있는 실행 정책을 **로컬 스크립트 및 원격 서명된 스크립트 허용** 또는 **모든 스크립트 허용**으로 설정했는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-168">If set to **Enabled**, make sure that under Options, the Execution Policy is set to either **Allow local scripts and remote signed scripts** or to **Allow all scripts**.</span></span> |
| <span data-ttu-id="128c7-169">12008-Azure AD가 백 엔드 서버에 허용되는 Kerberos 인증 시도의 최대 횟수를 초과합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-169">12008 - Azure AD exceeded the maximum number of permitted Kerberos authentication attempts to the backend server.</span></span> | <span data-ttu-id="128c7-170">이 오류는 Azure AD와 백 엔드 응용 프로그램 서버 간의 잘못된 구성 또는 두 컴퓨터 모두에서 날짜 및 시간 구성에 문제가 있음을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-170">This error may indicate incorrect configuration between Azure AD and the backend application server, or a problem in time and date configuration on both machines.</span></span> <span data-ttu-id="128c7-171">백 엔드 서버가 Azure AD에서 생성한 Kerberos 티켓을 거부했습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-171">The backend server declined the Kerberos ticket created by Azure AD.</span></span> <span data-ttu-id="128c7-172">Azure AD 및 백 엔드 응용 프로그램 서버가 올바르게 구성되어 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-172">Verify that Azure AD and the backend application server are configured correctly.</span></span> <span data-ttu-id="128c7-173">Azure AD 및 백 엔드 응용 프로그램 서버상의 시간 및 날짜 구성이 동기화되었는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-173">Make sure that the time and date configuration on the Azure AD and the backend application server are synchronized.</span></span> |
| <span data-ttu-id="128c7-174">13016 - 에지 토큰이나 액세스 토큰에 UPN이 없기 때문에 Azure AD에서 사용자를 대신해서 Kerberos 티켓을 검색할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-174">13016 - Azure AD cannot retrieve a Kerberos ticket on behalf of the user because there is no UPN in the edge token or in the access cookie.</span></span> | <span data-ttu-id="128c7-175">STS 구성에 문제가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-175">There is a problem with the STS configuration.</span></span> <span data-ttu-id="128c7-176">STS에서 UPN 클레임 구성을 수정합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-176">Fix the UPN claim configuration in the STS.</span></span> |
| <span data-ttu-id="128c7-177">13019 - 다음과 같은 일반적인 API 오류로 인해 Azure AD에서 사용자를 대신해서 Kerberos 티켓을 검색할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-177">13019 - Azure AD cannot retrieve a Kerberos ticket on behalf of the user because of the following general API error.</span></span> | <span data-ttu-id="128c7-178">이 이벤트는 Azure AD와 도메인 컨트롤러 서버 간의 잘못된 구성 또는 두 컴퓨터 모두에서 날짜 및 시간 구성에 문제가 있음을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-178">This event may indicate incorrect configuration between Azure AD and the domain controller server, or a problem in time and date configuration on both machines.</span></span> <span data-ttu-id="128c7-179">도메인 컨트롤러가 Azure AD에서 생성한 Kerberos 티켓을 거부했습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-179">The domain controller declined the Kerberos ticket created by Azure AD.</span></span> <span data-ttu-id="128c7-180">Azure AD 및 백 엔드 응용 프로그램 서버, 특히 SPN 구성이 올바르게 구성되어 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-180">Verify that Azure AD and the backend application server are configured correctly, especially the SPN configuration.</span></span> <span data-ttu-id="128c7-181">Azure AD가 도메인 컨트롤러와 동일한 도메인에 도메인 가입되어 있는지 확인하여 도메인 컨트롤러가 Azure AD와 신뢰를 구축할 수 있게 하세요.</span><span class="sxs-lookup"><span data-stu-id="128c7-181">Make sure the Azure AD is domain joined to the same domain as the domain controller to ensure that the domain controller establishes trust with Azure AD.</span></span> <span data-ttu-id="128c7-182">Azure AD 및 도메인 컨트롤러상의 시간 및 날짜 구성이 동기화되었는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-182">Make sure that the time and date configuration on the Azure AD and the domain controller are synchronized.</span></span> |
| <span data-ttu-id="128c7-183">13020 - 백 엔드 서버 SPN이 정의되어 있지 않기 때문에 Azure AD에서 사용자를 대신해서 Kerberos 티켓을 검색할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-183">13020 - Azure AD cannot retrieve a Kerberos ticket on behalf of the user because the backend server SPN is not defined.</span></span> | <span data-ttu-id="128c7-184">이 이벤트는 Azure AD와 도메인 컨트롤러 서버 간의 잘못된 구성 또는 두 컴퓨터 모두에서 날짜 및 시간 구성에 문제가 있음을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-184">This event may indicate incorrect configuration between Azure AD and the domain controller server, or a problem in time and date configuration on both machines.</span></span> <span data-ttu-id="128c7-185">도메인 컨트롤러가 Azure AD에서 생성한 Kerberos 티켓을 거부했습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-185">The domain controller declined the Kerberos ticket created by Azure AD.</span></span> <span data-ttu-id="128c7-186">Azure AD 및 백 엔드 응용 프로그램 서버, 특히 SPN 구성이 올바르게 구성되어 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-186">Verify that Azure AD and the backend application server are configured correctly, especially the SPN configuration.</span></span> <span data-ttu-id="128c7-187">Azure AD가 도메인 컨트롤러와 동일한 도메인에 도메인 가입되어 있는지 확인하여 도메인 컨트롤러가 Azure AD와 신뢰를 구축할 수 있게 하세요.</span><span class="sxs-lookup"><span data-stu-id="128c7-187">Make sure the Azure AD is domain joined to the same domain as the domain controller to ensure that the domain controller establishes trust with Azure AD.</span></span> <span data-ttu-id="128c7-188">Azure AD 및 도메인 컨트롤러상의 시간 및 날짜 구성이 동기화되었는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-188">Make sure that the time and date configuration on the Azure AD and the domain controller are synchronized.</span></span> |
| <span data-ttu-id="128c7-189">13022 - 백 엔드 서버가 HTTP 401 오류와 함께 Kerberos 인증 시도에 응답하기 때문에 Azure AD에서 사용자를 인증할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-189">13022 - Azure AD cannot authenticate the user because the backend server responds to Kerberos authentication attempts with an HTTP 401 error.</span></span> | <span data-ttu-id="128c7-190">이 이벤트는 Azure AD와 백 엔드 응용 프로그램 서버 간의 잘못된 구성 또는 두 컴퓨터 모두에서 날짜 및 시간 구성에 문제가 있음을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-190">This event may indicate incorrect configuration between Azure AD and the backend application server, or a problem in time and date configuration on both machines.</span></span> <span data-ttu-id="128c7-191">백 엔드 서버가 Azure AD에서 생성한 Kerberos 티켓을 거부했습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-191">The backend server declined the Kerberos ticket created by Azure AD.</span></span> <span data-ttu-id="128c7-192">Azure AD 및 백 엔드 응용 프로그램 서버가 올바르게 구성되어 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-192">Verify that Azure AD and the backend application server are configured correctly.</span></span> <span data-ttu-id="128c7-193">Azure AD 및 백 엔드 응용 프로그램 서버상의 시간 및 날짜 구성이 동기화되었는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-193">Make sure that the time and date configuration on the Azure AD and the backend application server are synchronized.</span></span> |

## <a name="end-user-errors"></a><span data-ttu-id="128c7-194">최종 사용자 오류</span><span class="sxs-lookup"><span data-stu-id="128c7-194">End-user errors</span></span>

<span data-ttu-id="128c7-195">이 목록에서는 최종 사용자가 앱에 액세스하는 데 실패한 경우 발생할 수 있는 오류에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-195">This list covers errors that your end users might encounter when they try to access the app and fail.</span></span> 

| <span data-ttu-id="128c7-196">오류</span><span class="sxs-lookup"><span data-stu-id="128c7-196">Error</span></span> | <span data-ttu-id="128c7-197">권장되는 단계</span><span class="sxs-lookup"><span data-stu-id="128c7-197">Recommended steps</span></span> |
| ----- | ----------------- |
| <span data-ttu-id="128c7-198">웹 사이트에서 페이지를 표시할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-198">The website cannot display the page.</span></span> | <span data-ttu-id="128c7-199">응용 프로그램이 IWA 응용 프로그램인 경우 게시된 앱에 사용자가 액세스를 시도하는 경우 이 오류가 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-199">Your user may get this error when trying to access the app you published if the application is an IWA application.</span></span> <span data-ttu-id="128c7-200">이 응용 프로그램에 대해 정의된 SPN이 올바르지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-200">The defined SPN for this application may be incorrect.</span></span> <span data-ttu-id="128c7-201">IWA 앱의 경우 이 응용 프로그램에 대해 구성된 SPN이 올바른지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-201">For IWA apps, make sure that the SPN configured for this application is correct.</span></span> |
| <span data-ttu-id="128c7-202">웹 사이트에서 페이지를 표시할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-202">The website cannot display the page.</span></span> | <span data-ttu-id="128c7-203">응용 프로그램이 OWA 응용 프로그램인 경우 게시된 앱에 사용자가 액세스를 시도하는 경우 이 오류가 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-203">Your user may get this error when trying to access the app you published if the application is an OWA application.</span></span> <span data-ttu-id="128c7-204">이는 다음 중 하나 때문일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-204">This could be caused by one of the following:</span></span><br><li><span data-ttu-id="128c7-205">이 응용 프로그램에 대해 정의된 SPN이 올바르지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-205">The defined SPN for this application is incorrect.</span></span> <span data-ttu-id="128c7-206">이 응용 프로그램에 대해 구성된 SPN이 올바른지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-206">Make sure that the SPN configured for this application is correct.</span></span></li><li><span data-ttu-id="128c7-207">이 응용 프로그램에 액세스하려고 하는 사용자가 적절한 기업 계정이 아닌 Microsoft 계정을 사용하거나 사용자가 게스트 사용자입니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-207">The user who tried to access the application is using a Microsoft account rather than the proper corporate account to sign in, or the user is a guest user.</span></span> <span data-ttu-id="128c7-208">사용자가 게시된 응용 프로그램의 도메인과 일치하는 기업 계정을 사용하여 로그인하는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-208">Make sure the user signs in using their corporate account that matches the domain of the published application.</span></span> <span data-ttu-id="128c7-209">Microsoft 계정 사용자 및 게스트가 IWA 응용 프로그램에 액세스할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-209">Microsoft Account users and guest cannot access IWA applications.</span></span></li><li><span data-ttu-id="128c7-210">이 응용 프로그램에 액세스하려고 하는 사용자가 온-프레미스 쪽에서 응용 프로그램에 대해 제대로 정의되지 않았습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-210">The user who tried to access the application is not properly defined for this application on the on-prem side.</span></span> <span data-ttu-id="128c7-211">이 사용자에게 온-프레미스 컴퓨터에서 이 백 엔드 응용 프로그램에 대해 정의된 대로 적절한 권한이 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-211">Make sure that this user has the proper permissions as defined for this backend application on the on-prem machine.</span></span> |
| <span data-ttu-id="128c7-212">이 회사 앱에 액세스할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-212">This corporate app can’t be accessed.</span></span> <span data-ttu-id="128c7-213">이 응용 프로그램에 액세스할 수 있는 권한이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-213">You are not authorized to access this application.</span></span> <span data-ttu-id="128c7-214">권한 부여에 실패했습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-214">Authorization failed.</span></span> <span data-ttu-id="128c7-215">이 응용 프로그램에 액세스할 수 있는 사용자를 할당할 수 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-215">Make sure to assign the user with access to this application.</span></span> | <span data-ttu-id="128c7-216">사용자가 자신의 회사 계정 대신 Microsoft 계정을 로그인에 사용하는 경우 게시된 앱에 액세스하려고 할 때 이 오류가 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-216">Your users may get this error when trying to access the app you published if they use Microsoft accounts instead of their corporate account to sign in.</span></span> <span data-ttu-id="128c7-217">게스트 사용자에게 이 오류가 발생할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-217">Guest users may also get this error.</span></span> <span data-ttu-id="128c7-218">Microsoft 계정 사용자 및 게스트가 IWA 응용 프로그램에 액세스할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-218">Microsoft Account users and guests cannot access IWA applications.</span></span> <span data-ttu-id="128c7-219">사용자가 게시된 응용 프로그램의 도메인과 일치하는 기업 계정을 사용하여 로그인하는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-219">Make sure the user signs in using their corporate account that matches the domain of the published application.</span></span><br><br><span data-ttu-id="128c7-220">이 응용 프로그램에 사용자를 할당하지 않았을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-220">You may not have assigned the user for this application.</span></span> <span data-ttu-id="128c7-221">**응용 프로그램** 탭으로 이동하고 **사용자 및 그룹**에서 이 사용자나 사용자 그룹을 이 응용 프로그램에 할당합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-221">Go to the **Application** tab, and under **Users and Groups**, assign this user or user group to this application.</span></span> |
| <span data-ttu-id="128c7-222">현재 이 회사 앱에 액세스할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-222">This corporate app can’t be accessed right now.</span></span> <span data-ttu-id="128c7-223">나중에 다시 시도하세요. 커넥터 제한 시간이 초과되었습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-223">Please try again later…The connector timed out.</span></span> | <span data-ttu-id="128c7-224">사용자가 온-프레미스 쪽에서 이 응용 프로그램에 대해 적절히 정의되지 않은 경우 게시된 앱에 액세스를 시도할 때 이 오류가 나타날 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-224">Your users may get this error when trying to access the app you published if they are not properly defined for this application on the on-prem side.</span></span> <span data-ttu-id="128c7-225">사용자에게 온-프레미스 컴퓨터에서 이 백 엔드 응용 프로그램에 대해 정의된 대로 적절한 권한이 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-225">Make sure that your users have the proper permissions as defined for this backend application on the on-prem machine.</span></span> |
| <span data-ttu-id="128c7-226">이 회사 앱에 액세스할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-226">This corporate app can’t be accessed.</span></span> <span data-ttu-id="128c7-227">이 응용 프로그램에 액세스할 수 있는 권한이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-227">You are not authorized to access this application.</span></span> <span data-ttu-id="128c7-228">권한 부여에 실패했습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-228">Authorization failed.</span></span> <span data-ttu-id="128c7-229">사용자에게 Azure Active Directory Premium 또는 Basic에 대한 라이선스가 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-229">Make sure that the user has a license for Azure Active Directory Premium or Basic.</span></span> | <span data-ttu-id="128c7-230">구독자의 관리자가 사용자에게 Premium/Basic 라이선스를 명시적으로 할당하지 않은 경우 사용자가 게시된 앱에 액세스를 시도할 때 이 오류가 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-230">Your users may get this error when trying to access the app you published if they weren't explicitly assigned with a Premium/Basic license by the subscriber’s administrator.</span></span> <span data-ttu-id="128c7-231">구독자의 Active Directory **라이선스** 탭으로 이동하고 이 사용자나 사용자 그룹에 Premium 또는 Basic 라이선스가 할당되어 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-231">Go to the subscriber’s Active Directory **Licenses** tab and make sure that this user or user group is assigned a Premium or Basic license.</span></span> |

## <a name="my-error-wasnt-listed-here"></a><span data-ttu-id="128c7-232">내 오류가 여기에 나열되지 않았습니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-232">My error wasn't listed here</span></span>

<span data-ttu-id="128c7-233">Azure AD 응용 프로그램 프록시에 이 문제 해결 가이드에 나열되지 않은 오류 또는 문제가 발생한 경우 알려주시기 바랍니다.</span><span class="sxs-lookup"><span data-stu-id="128c7-233">If you encounter an error or problem with Azure AD Application Proxy that isn't listed in this troubleshooting guide, we'd like to hear about it.</span></span> <span data-ttu-id="128c7-234">발생한 오류의 세부 정보를 [피드백 팀](mailto:aadapfeedback@microsoft.com)에게 전자 메일로 보내 주세요.</span><span class="sxs-lookup"><span data-stu-id="128c7-234">Send an email to our [feedback team](mailto:aadapfeedback@microsoft.com) with the details of the error you encountered.</span></span>

## <a name="see-also"></a><span data-ttu-id="128c7-235">참고 항목</span><span class="sxs-lookup"><span data-stu-id="128c7-235">See also</span></span>
* [<span data-ttu-id="128c7-236">Azure Active Directory에 대한 응용 프로그램 프록시 사용</span><span class="sxs-lookup"><span data-stu-id="128c7-236">Enable Application Proxy for Azure Active Directory</span></span>](active-directory-application-proxy-enable.md)
* [<span data-ttu-id="128c7-237">응용 프로그램 프록시를 사용하여 응용 프로그램 게시</span><span class="sxs-lookup"><span data-stu-id="128c7-237">Publish applications with Application Proxy</span></span>](active-directory-application-proxy-publish.md)
* [<span data-ttu-id="128c7-238">Single Sign-On 사용</span><span class="sxs-lookup"><span data-stu-id="128c7-238">Enable single sign-on</span></span>](active-directory-application-proxy-sso-using-kcd.md)
* [<span data-ttu-id="128c7-239">조건부 액세스 사용</span><span class="sxs-lookup"><span data-stu-id="128c7-239">Enable conditional access</span></span>](active-directory-application-proxy-conditional-access.md)


<!--Image references-->
[1]: ./media/active-directory-application-proxy-troubleshoot/connectorproperties.png
[2]: ./media/active-directory-application-proxy-troubleshoot/sessionlog.png
