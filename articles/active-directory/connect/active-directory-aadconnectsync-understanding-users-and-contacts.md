---
title: "Azure AD Connect 동기화: 사용자 및 연락처 이해 | Microsoft Docs"
description: "Azure AD Connect 동기화의 사용자 및 연락처에 대해 설명합니다."
services: active-directory
documentationcenter: 
author: MarkusVi
manager: femila
ms.assetid: 8d204647-213a-4519-bd62-49563c421602
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/12/2017
ms.author: markvi;andkjell
ms.openlocfilehash: 495e926a1975128707212ba571d47cfc7c9507b3
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/03/2017
---
# <a name="azure-ad-connect-sync-understanding-users-and-contacts"></a><span data-ttu-id="842ea-103">Azure AD Connect Sync: 사용자 및 연락처 이해</span><span class="sxs-lookup"><span data-stu-id="842ea-103">Azure AD Connect sync: Understanding Users and Contacts</span></span>
<span data-ttu-id="842ea-104">여러 Active Directory 포리스트를 가져야 하는 이유와 배포 토폴로지는 여러 가지가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-104">There are several different reasons why you would have multiple Active Directory forests and there are several different deployment topologies.</span></span> <span data-ttu-id="842ea-105">일반적인 모델에는 합병 & 인수 후 계정 리소스 배포 및 GAL 동기화 포리스트가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-105">Common models include an account-resource deployment and GAL sync’ed forests after a merger & acquisition.</span></span> <span data-ttu-id="842ea-106">하지만 순수 모델이 있어도 하이브리드 모델도 일반적입니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-106">But even if there are pure models, hybrid models are common as well.</span></span> <span data-ttu-id="842ea-107">Azure AD Connect 동기화의 기본 구성은 어느 특정 모델을 가정하지는 않지만 설치 가이드에서 사용자 일치가 어떻게 선택되어 있는지에 따라 다양한 동작을 관찰할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-107">The default configuration in Azure AD Connect sync does not assume any particular model but depending on how user matching was selected in the installation guide, different behaviors can be observed.</span></span>

<span data-ttu-id="842ea-108">이 항목에서는 기본 구성이 특정 토폴로지에서 어떻게 동작하는지 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-108">In this topic, we will go through how the default configuration behaves in certain topologies.</span></span> <span data-ttu-id="842ea-109">구성을 살펴보고 동기화 규칙 편집기를 사용하여 구성을 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-109">We will go through the configuration and the Synchronization Rules Editor can be used to look at the configuration.</span></span>

<span data-ttu-id="842ea-110">구성을 가정하는 몇 가지 일반적인 규칙이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-110">There are a few general rules the configuration assumes:</span></span>

* <span data-ttu-id="842ea-111">원본 Active Directory에서 가져오는 순서와 관계없이 최종 결과는 항상 동일해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-111">Regardless of which order we import from the source Active Directories, the end result should always be the same.</span></span>
* <span data-ttu-id="842ea-112">활성 계정은 항상 **userPrincipalName** 및**sourceAnchor**를 포함한 로그인 정보를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-112">An active account will always contribute sign-in information, including **userPrincipalName** and **sourceAnchor**.</span></span>
* <span data-ttu-id="842ea-113">활성화된 계정이 없는 경우 비활성화된 계정이 연결된 사서함이 아니라면 userPrincipalName 및 sourceAnchor를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-113">A disabled account will contribute userPrincipalName and sourceAnchor, unless it is a linked mailbox, if there is no active account to be found.</span></span>
* <span data-ttu-id="842ea-114">연결된 사서함이 있는 계정은 userPrincipalName 및 sourceAnchor에 대 해 사용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-114">An account with a linked mailbox will never be used for userPrincipalName and sourceAnchor.</span></span> <span data-ttu-id="842ea-115">활성 계정이 나중에 검색되는 것으로 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-115">It is assumed that an active account will be found later.</span></span>
* <span data-ttu-id="842ea-116">연락처 개체를 Azure AD에 사용자 또는 연락처로 프로비전할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-116">A contact object might be provisioned to Azure AD as a contact or as a user.</span></span> <span data-ttu-id="842ea-117">모든 원본 Active Directory 포리스트가 처리 될 때까지 실제로 알지 못합니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-117">You don’t really know until all source Active Directory forests have been processed.</span></span>

## <a name="contacts"></a><span data-ttu-id="842ea-118">연락처</span><span class="sxs-lookup"><span data-stu-id="842ea-118">Contacts</span></span>
<span data-ttu-id="842ea-119">연락처가 다른 포리스트의 사용자를 나타내게 하는 것은 GALSync 솔루션이 둘 이상의 Exchange 포리스트 사이를 연결하는 M&A 후에 일반적입니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-119">Having contacts representing a user in a different forest is common after a merger & acquisition where a GALSync solution is bridging two or more Exchange forests.</span></span> <span data-ttu-id="842ea-120">연락처 개체는 항상 메일 특성을 사용하여 커넥터 공간에서 메타 버스로 조인됩니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-120">The contact object is always joining from the connector space to the metaverse using the mail attribute.</span></span> <span data-ttu-id="842ea-121">이미 연락처 개체나 동일한 메일 주소를 가진 사용자 개체가 있다면 이들 개체가 함께 조인됩니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-121">If there is already a contact object or user object with the same mail address, the objects are joined together.</span></span> <span data-ttu-id="842ea-122">이것은 **In from AD – 연락처 조인**규칙에서 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-122">This is configured in the rule **In from AD – Contact Join**.</span></span> <span data-ttu-id="842ea-123">**AD에서 들어오기 – 연락처 일반**이라는 규칙도 있는데 **sourceObjectType** 메타 버스 특성에 대한 특성 흐름과 **연락처** 상수를 가지고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-123">There is also a rule named **In from AD – Contact Common** with an attribute flow to the metaverse attribute **sourceObjectType** with the constant **Contact**.</span></span> <span data-ttu-id="842ea-124">이 규칙은 우선 순위가 매우 낮으므로 어떤 사용자 개체가 동일한 메타버스 개체에 조인된 경우에는 **In from AD – 사용자 일반** 규칙이 User 값을 이 특성에 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-124">This rule has very low precedence so if any user object is joined to the same metaverse object, then the rule **In from AD – User Common** will contribute the value User to this attribute.</span></span> <span data-ttu-id="842ea-125">이 규칙을 사용할 경우 조인된 사용자가 없으면 이 특성이 연락처 값을 갖게 되며, 최소 1명의 사용자가 발견되면 사용자 값을 갖습니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-125">With this rule, this attribute will have the value Contact if no user has been joined and the value User if at least one user has been found.</span></span>

<span data-ttu-id="842ea-126">Azure AD에 개체를 프로비전하는 경우에는 메타버스 특성 **sourceObjectType**이 **연락처**로 설정되면 아웃바운드 규칙 **AAD로 나가기 – 연락처 조인**이 연락처 개체를 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-126">For provisioning an object to Azure AD, the outbound rule **Out to AAD – Contact Join** will create a contact object if the metaverse attribute **sourceObjectType** is set to **Contact**.</span></span> <span data-ttu-id="842ea-127">이 특성이 **User**로 설정되면 **AAD로 나가기 – 사용자 조인** 규칙이 대신 사용자 개체를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-127">If this attribute is set to **User**, then the rule **Out to AAD – User Join** will create a user object instead.</span></span>
<span data-ttu-id="842ea-128">추가 원본 Active Directory를 가져와서 동기화하면 개체가 사용자에게 연락처로부터 승격될 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-128">It is possible that an object is promoted from Contact to User when more source Active Directories are imported and synchronized.</span></span>

<span data-ttu-id="842ea-129">예를 들어 GALSync 토폴로지에서 첫번째 포리스트를 가져올 때 두번째 포리스트의 모두를 위해 연락처 개체를 찾습니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-129">For example, in a GALSync topology we will find contact objects for everyone in the second forest when we import the first forest.</span></span> <span data-ttu-id="842ea-130">그러면 AAD 커넥터에 새 연락처 개체를 준비합니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-130">This will stage new contact objects in the AAD Connector.</span></span> <span data-ttu-id="842ea-131">나중에 두번째 포리스트를 가져오고 동기화할 때 실제 사용자를 찾아서 기존 메타 버스 개체에 조인시킵니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-131">When we later import and synchronize the second forest, we will find the real users and join them to the existing metaverse objects.</span></span> <span data-ttu-id="842ea-132">그런 다음 AAD에서 연락처 개체를 삭제하고 대신 새 사용자 개체를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-132">We will then delete the contact object in AAD and create a new user object instead.</span></span>

<span data-ttu-id="842ea-133">사용자가 연락처로 표시되는 토폴로지의 경우 반드시 설치 가이드의 메일 특성에 대해 사용자를 일치시키도록 선택해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-133">If you have a topology where users are represented as contacts, make sure you select to match users on the mail attribute in the installation guide.</span></span> <span data-ttu-id="842ea-134">다른 옵션을 선택하면 주문에 종속된 구성이 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-134">If you select another option, then you will have an order dependent configuration.</span></span> <span data-ttu-id="842ea-135">연락처 개체는 항상 메일 특성에 조인되지만 설치 가이드에서 이 옵션을 선택한 경우에는 사용자 개체가 메일 특성에만 조인됩니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-135">Contact objects will always join on the mail attribute, but user objects will only join on the mail attribute if this option was selected in the installation guide.</span></span> <span data-ttu-id="842ea-136">그러면 사용자 개체 전에 연락처 개체를 가져온 경우 메타 버스 내의 2개의 다른 개체가 동일한 메일 특성을 갖게 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-136">You could then end up with two different objects in the metaverse with the same mail attribute if the contact object was imported before the user object.</span></span> <span data-ttu-id="842ea-137">Azure AD로 내보내기 중 오류가 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-137">During export to Azure AD, an error will be thrown.</span></span> <span data-ttu-id="842ea-138">이 동작은 디자인에 의한 것이며 잘못된 데이터 또는 설치 중에 토폴로지가 올바르게 식별되지 않았음을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-138">This behavior is by design and would indicate bad data or that the topology was not correctly identified during the installation.</span></span>

## <a name="disabled-accounts"></a><span data-ttu-id="842ea-139">비활성화된 계정</span><span class="sxs-lookup"><span data-stu-id="842ea-139">Disabled accounts</span></span>
<span data-ttu-id="842ea-140">비활성화된 계정도 Azure AD에 동기화됩니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-140">Disabled accounts are synchronized as well to Azure AD.</span></span> <span data-ttu-id="842ea-141">비활성화된 계정은 Exchange 내 리소스를 나타내는 것이 일반적입니다(예: 회의실).</span><span class="sxs-lookup"><span data-stu-id="842ea-141">Disabled accounts are common to represent resources in Exchange, for example conference rooms.</span></span> <span data-ttu-id="842ea-142">예외는 앞서 언급한 것처럼 연결된 사서함이 있는 사용자이며, 이것은 Azure AD에 계정을 프로비전하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-142">The exception is users with a linked mailbox; as previously mentioned, these will never provision an account to Azure AD.</span></span>

<span data-ttu-id="842ea-143">비활성화된 사용자 계정이 발견된 경우에는 나중에 다른 활성 계정을 찾지 못하며 개체가 발견된 userPrincipalName 및 sourceAnchor가 있는 Azure AD로 프로비전된다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-143">The assumption is that if a disabled user account is found, then we will not find another active account later and the object is provisioned to Azure AD with the userPrincipalName and sourceAnchor found.</span></span> <span data-ttu-id="842ea-144">다른 활성 계정이 동일한 메타 버스 개체에 조인되는 경우에는 해당 userPrincipalName 및 sourceAnchor가 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-144">In case another active account will join to the same metaverse object, then its userPrincipalName and sourceAnchor will be used.</span></span>

## <a name="changing-sourceanchor"></a><span data-ttu-id="842ea-145">sourceAnchor 변경</span><span class="sxs-lookup"><span data-stu-id="842ea-145">Changing sourceAnchor</span></span>
<span data-ttu-id="842ea-146">개체를 Azure AD로 내보내면 더 이상 sourceAnchor를 변경할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-146">When an object has been exported to Azure AD then it is not allowed to change the sourceAnchor anymore.</span></span> <span data-ttu-id="842ea-147">개체가 내보내지면 메타버스 특성 **cloudSourceAnchor**가 Azure AD에서 허용한 **sourceAnchor** 값으로 설정됩니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-147">When the object has been exported the metaverse attribute **cloudSourceAnchor** is set with the **sourceAnchor** value accepted by Azure AD.</span></span> <span data-ttu-id="842ea-148">**sourceAnchor**가 변경되어 **cloudSourceAnchor**와 일치하지 않으면 **AAD로 나가기 – 사용자 조인** 규칙에서 **sourceAnchor 특성이 변경되었습니다**라는 오류가 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-148">If **sourceAnchor** is changed and not match **cloudSourceAnchor**, the rule **Out to AAD – User Join** will throw the error **sourceAnchor attribute has changed**.</span></span> <span data-ttu-id="842ea-149">이 경우 개체를 다시 동기화하기 전에 동일한 sourceAnchor가 메타 버스에 다시 나타나도록 구성 또는 데이터를 수정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="842ea-149">In this case, the configuration or data must be corrected so the same sourceAnchor is present in the metaverse again before the object can be synchronized again.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="842ea-150">추가 리소스</span><span class="sxs-lookup"><span data-stu-id="842ea-150">Additional Resources</span></span>
* [<span data-ttu-id="842ea-151">Azure AD Connect Sync: 사용자 지정 동기화 옵션</span><span class="sxs-lookup"><span data-stu-id="842ea-151">Azure AD Connect Sync: Customizing Synchronization options</span></span>](active-directory-aadconnectsync-whatis.md)
* [<span data-ttu-id="842ea-152">Azure Active Directory와 온-프레미스 ID 통합</span><span class="sxs-lookup"><span data-stu-id="842ea-152">Integrating your on-premises identities with Azure Active Directory</span></span>](active-directory-aadconnect.md)

