---
title: "Azure AD Connect 동기화: Azure AD Connect 동기화의 구성 변경 | Microsoft Docs"
description: "Azure AD Connect 동기화의 구성을 변경하는 방법을 안내합니다."
services: active-directory
documentationcenter: 
author: andkjell
manager: femila
editor: 
ms.assetid: 7b9df836-e8a5-4228-97da-2faec9238b31
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/12/2017
ms.author: billmath
ms.openlocfilehash: 63a7ae9d39e1a74294637172efd607ee41b2d69b
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/03/2017
---
# <a name="azure-ad-connect-sync-how-to-make-a-change-to-the-default-configuration"></a><span data-ttu-id="a34a8-103">Azure AD Connect 동기화: 기본 구성을 변경하는 방법</span><span class="sxs-lookup"><span data-stu-id="a34a8-103">Azure AD Connect sync: How to make a change to the default configuration</span></span>
<span data-ttu-id="a34a8-104">이 항목의 목적은 Azure AD Connect 동기화에서 기본 구성을 변경하는 방법을 안내하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-104">The purpose of this topic is to walk you through how to make changes to the default configuration in Azure AD Connect sync.</span></span> <span data-ttu-id="a34a8-105">몇 가지 일반적인 시나리오를 위한 단계를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-105">It provides steps for some common scenarios.</span></span> <span data-ttu-id="a34a8-106">이러한 지식을 바탕으로 사용자의 고유한 비즈니스 규칙에 따라 자체 구성에 대해 몇 가지 간단한 내용을 변경할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-106">With this knowledge, you should be able to make some simple changes to your own configuration based on your own business rules.</span></span>

## <a name="synchronization-rules-editor"></a><span data-ttu-id="a34a8-107">동기화 규칙 편집기</span><span class="sxs-lookup"><span data-stu-id="a34a8-107">Synchronization Rules Editor</span></span>
<span data-ttu-id="a34a8-108">동기화 규칙 편집기는 기본 구성을 확인하고 변경하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-108">The Synchronization Rules Editor is used to see and change the default configuration.</span></span> <span data-ttu-id="a34a8-109">**Azure AD Connect** 그룹 아래에 있는 시작 메뉴에서 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-109">You can find it in the Start Menu under the **Azure AD Connect** group.</span></span>  
<span data-ttu-id="a34a8-110">![동기화 규칙 편집기를 사용 하여 메뉴 시작](./media/active-directory-aadconnectsync-change-the-configuration/startmenu2.png)</span><span class="sxs-lookup"><span data-stu-id="a34a8-110">![Start Menu with Sync Rule Editor](./media/active-directory-aadconnectsync-change-the-configuration/startmenu2.png)</span></span>

<span data-ttu-id="a34a8-111">이를 열면 기본 규칙이 나타납니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-111">When you open it, you see the default out-of-box rules.</span></span>

![동기화 규칙 편집기](./media/active-directory-aadconnectsync-change-the-configuration/sre2.png)

### <a name="navigating-in-the-editor"></a><span data-ttu-id="a34a8-113">편집기에서 탐색</span><span class="sxs-lookup"><span data-stu-id="a34a8-113">Navigating in the editor</span></span>
<span data-ttu-id="a34a8-114">편집기 맨 위에 있는 드롭다운 메뉴를 사용하여 특정 규칙을 빠르게 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-114">The drop-downs at the top of the editor allow you to quickly find a particular rule.</span></span> <span data-ttu-id="a34a8-115">예를 들어 proxyAddresses 특성을 포함하는 규칙을 보려는 경우 드롭다운을 다음과 같이 변경합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-115">For example, if you want to see the rules where the attribute proxyAddresses is included, you would change the drop-downs to the following:</span></span>  
<span data-ttu-id="a34a8-116">![SRE 필터링](./media/active-directory-aadconnectsync-change-the-configuration/filtering.png)</span><span class="sxs-lookup"><span data-stu-id="a34a8-116">![SRE filtering](./media/active-directory-aadconnectsync-change-the-configuration/filtering.png)</span></span>  
<span data-ttu-id="a34a8-117">필터링을 다시 설정하고 새로운 구성을 로드하려면 키보드에서 **F5**를 누릅니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-117">To reset filtering and load a fresh configuration, press **F5** on the keyboard.</span></span>

<span data-ttu-id="a34a8-118">오른쪽 맨 위에는 **새 규칙 추가**단추가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-118">To the top right, you have a button **Add new rule**.</span></span> <span data-ttu-id="a34a8-119">이 단추를 사용하여 사용자 지정 규칙을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-119">This button is used to create your own custom rule.</span></span>

<span data-ttu-id="a34a8-120">아래에는 선택된 동기화 규칙에 대한 작업을 수행하는 단추가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-120">At the bottom, you have buttons for acting on a selected sync rule.</span></span> <span data-ttu-id="a34a8-121">**편집** 및 **삭제** 단추를 누르면 해당 작업이 수행됩니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-121">**Edit** and **Delete** do what you expect them to.</span></span> <span data-ttu-id="a34a8-122">**내보내기** 는 동기화 규칙을 다시 만들기 위해 PowerShell 스크립트를 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-122">**Export** produces a PowerShell script for recreating the sync rule.</span></span> <span data-ttu-id="a34a8-123">이 절차를 통해 동기화 규칙을 한 서버에서 다른 서버로 이동할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-123">This procedure allows you to move a sync rule from one server to another.</span></span>

## <a name="create-your-first-custom-rule"></a><span data-ttu-id="a34a8-124">첫 번째 사용자 지정 규칙 만들기</span><span class="sxs-lookup"><span data-stu-id="a34a8-124">Create your first custom rule</span></span>
<span data-ttu-id="a34a8-125">가장 일반적인 변경은 특성 흐름을 변경하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-125">The most common change is changes to the attribute flows.</span></span> <span data-ttu-id="a34a8-126">원본 디렉터리의 데이터는 Azure AD에서와 같지 않을 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-126">The data in your source directory might not be as in Azure AD.</span></span> <span data-ttu-id="a34a8-127">이 섹션의 예제에서는 지정된 사용자의 이름이 항상 **적절한 대/소문자**로 표시되는지 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-127">In the example in this section, you want to make sure the given name of a user is always in **Proper case**.</span></span>

### <a name="disable-the-scheduler"></a><span data-ttu-id="a34a8-128">스케줄러 사용 안 함</span><span class="sxs-lookup"><span data-stu-id="a34a8-128">Disable the scheduler</span></span>
<span data-ttu-id="a34a8-129">[스케줄러](active-directory-aadconnectsync-feature-scheduler.md) 는 기본적으로 30분마다 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-129">The [scheduler](active-directory-aadconnectsync-feature-scheduler.md) runs every 30 minutes by default.</span></span> <span data-ttu-id="a34a8-130">변경을 수행하고 새 규칙의 문제를 해결하는 동안 스케줄러가 시작되지 않도록 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-130">You want to make sure it is not starting while you are making changes and troubleshoot your new rules.</span></span> <span data-ttu-id="a34a8-131">스케줄러를 일시적으로 사용하지 않으려면 PowerShell을 시작하고 `Set-ADSyncScheduler -SyncCycleEnabled $false`</span><span class="sxs-lookup"><span data-stu-id="a34a8-131">To temporarily disable the scheduler, start PowerShell, and run `Set-ADSyncScheduler -SyncCycleEnabled $false`</span></span>

![스케줄러 사용 안 함](./media/active-directory-aadconnectsync-change-the-configuration/schedulerdisable.png)  

### <a name="create-the-rule"></a><span data-ttu-id="a34a8-133">규칙 만들기</span><span class="sxs-lookup"><span data-stu-id="a34a8-133">Create the rule</span></span>
1. <span data-ttu-id="a34a8-134">**새 규칙 추가**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-134">Click **Add new rule**.</span></span>
2. <span data-ttu-id="a34a8-135">**설명** 페이지에서 다음을 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-135">On the **Description** page enter the following:</span></span>  
   <span data-ttu-id="a34a8-136">![인바운드 규칙 필터링](./media/active-directory-aadconnectsync-change-the-configuration/description2.png)</span><span class="sxs-lookup"><span data-stu-id="a34a8-136">![Inbound rule filtering](./media/active-directory-aadconnectsync-change-the-configuration/description2.png)</span></span>  
   * <span data-ttu-id="a34a8-137">이름: 규칙에 설명이 포함된 이름을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-137">Name: Give the rule a descriptive name.</span></span>
   * <span data-ttu-id="a34a8-138">설명: 다른 사용자가 어떤 규칙인지 이해할 수 있도록 하기 위한 간단한 설명입니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-138">Description: Some clarification so someone else can understand what the rule is for.</span></span>
   * <span data-ttu-id="a34a8-139">연결된 시스템: 개체를 찾을 수 있는 시스템입니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-139">Connected system: The system the object can be found in.</span></span> <span data-ttu-id="a34a8-140">이 경우 Active Directory Connector를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-140">In this case, select the Active Directory Connector.</span></span>
   * <span data-ttu-id="a34a8-141">연결된 시스템/메타버스 개체 유형: **사용자**와 **사람**을 각각 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-141">Connected System/Metaverse Object Type: Select **User** and **Person** respectively.</span></span>
   * <span data-ttu-id="a34a8-142">링크 형식:이 값을 **조인**으로 변경합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-142">Link Type: Change this value to **Join**.</span></span>
   * <span data-ttu-id="a34a8-143">우선 순위: 시스템에서 고유한 값을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-143">Precedence: Provide a value that is unique in the system.</span></span> <span data-ttu-id="a34a8-144">숫자 값이 낮을수록 높은 우선 순위를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-144">A lower numeric value indicates higher precedence.</span></span>
   * <span data-ttu-id="a34a8-145">태그: 비워 둡니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-145">Tag: Leave empty.</span></span> <span data-ttu-id="a34a8-146">Microsoft의 기본 규칙으로만 이 상자에 값을 채워야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-146">Only out-of-box rules from Microsoft should have this box populated with a value.</span></span>
3. <span data-ttu-id="a34a8-147">**범위 지정 필터** 페이지에서 **givenName ISNOTNULL**을 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-147">On the **Scoping filter** page, enter **givenName ISNOTNULL**.</span></span>  
   <span data-ttu-id="a34a8-148">![인바운드 규칙 범위 지정 필터](./media/active-directory-aadconnectsync-change-the-configuration/scopingfilter.png)</span><span class="sxs-lookup"><span data-stu-id="a34a8-148">![Inbound rule scoping filter](./media/active-directory-aadconnectsync-change-the-configuration/scopingfilter.png)</span></span>  
   <span data-ttu-id="a34a8-149">이 섹션은 규칙을 적용해야 개체를 정의하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-149">This section is used to define which objects the rule should apply to.</span></span> <span data-ttu-id="a34a8-150">이를 비워 두면 규칙은 모든 사용자 개체에 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-150">If left empty, the rule would apply to all user objects.</span></span> <span data-ttu-id="a34a8-151">하지만 여기에는 회의실, 서비스 계정 및 기타 사람이 아닌 사용자 개체가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-151">But that would include conference rooms, service accounts, and other non-people user objects.</span></span>
4. <span data-ttu-id="a34a8-152">**조인 규칙**에서는 이를 비워 둡니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-152">On the **Join rules**, leave it empty.</span></span>
5. <span data-ttu-id="a34a8-153">**변환** 페이지에서 FlowType을 **식**으로 변경합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-153">On the **Transformations** page, change the FlowType to **Expression**.</span></span> <span data-ttu-id="a34a8-154">대상 특성 **givenName**을 선택하고, 소스에 `PCase([givenName])`을(를) 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-154">Select the Target Attribute **givenName**, and in Source enter `PCase([givenName])`.</span></span>
   <span data-ttu-id="a34a8-155">![인바운드 규칙 변환](./media/active-directory-aadconnectsync-change-the-configuration/transformations.png)</span><span class="sxs-lookup"><span data-stu-id="a34a8-155">![Inbound rule transformations](./media/active-directory-aadconnectsync-change-the-configuration/transformations.png)</span></span>  
   <span data-ttu-id="a34a8-156">동기화 엔진은 함수 이름과 특성의 이름에서 대/소문자를 구분합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-156">The sync engine is case-sensitive both on the function name and the name of the attribute.</span></span> <span data-ttu-id="a34a8-157">잘못 입력한 경우 규칙을 추가할 때 경고가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-157">If you type something wrong, you see a warning when you add the rule.</span></span> <span data-ttu-id="a34a8-158">규칙을 다시 열고 수정할 수 있도록 편집기를 사용하여 저장하고 계속합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-158">The editor allows you to save and continue, so you would have to reopen the rule and correct the rule.</span></span>
6. <span data-ttu-id="a34a8-159">**추가** 를 클릭하여 규칙을 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-159">Click **Add** to save the rule.</span></span>

<span data-ttu-id="a34a8-160">새 사용자 지정 규칙은 시스템의 다른 동기화 규칙과 함께 표시되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-160">Your new custom rule should be visible with the other sync rules in the system.</span></span>

### <a name="verify-the-change"></a><span data-ttu-id="a34a8-161">변경 확인</span><span class="sxs-lookup"><span data-stu-id="a34a8-161">Verify the change</span></span>
<span data-ttu-id="a34a8-162">이 새로운 변경으로 예상한 대로 작동하고 어떠한 오류도 발생하지 않는 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-162">With this new change, you want to make sure it is working as expected and is not throwing any errors.</span></span> <span data-ttu-id="a34a8-163">개체 수에 따라 이 단계를 수행하는 두 가지 방식이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-163">Depending on the number of objects you have, there are two different ways to do this step.</span></span>

1. <span data-ttu-id="a34a8-164">모든 개체에서 전체 동기화 실행</span><span class="sxs-lookup"><span data-stu-id="a34a8-164">Run a full sync on all objects</span></span>
2. <span data-ttu-id="a34a8-165">단일 개체에서 미리 보기 및 전체 동기화 실행</span><span class="sxs-lookup"><span data-stu-id="a34a8-165">Run a preview and full sync on a single object</span></span>

<span data-ttu-id="a34a8-166">시작 메뉴에서 **동기화 서비스** 를 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-166">Start **Synchronization Service** from the start menu.</span></span> <span data-ttu-id="a34a8-167">이 섹션의 단계는 이 도구에 모두 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-167">The steps in this section are all in this tool.</span></span>

1. <span data-ttu-id="a34a8-168">**모든 개체에서 전체 동기화**</span><span class="sxs-lookup"><span data-stu-id="a34a8-168">**Full sync on all objects**</span></span>  
   <span data-ttu-id="a34a8-169">위쪽에 있는 **커넥터**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-169">Select **Connectors** at the top.</span></span> <span data-ttu-id="a34a8-170">이전 섹션에서 변경 사항을 적용할 커넥터를 식별합니다. 이 경우 Active Directory 도메인 서비스를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-170">Identify the Connector you made a change to in the previous section, in this case the Active Directory Domain Services, and select it.</span></span> <span data-ttu-id="a34a8-171">작업에서 **실행**을 선택하고 **전체 동기화**와 **확인**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-171">Select **Run** from Actions and select **Full Synchronization** and **OK**.</span></span>
   <span data-ttu-id="a34a8-172">![전체 동기화](./media/active-directory-aadconnectsync-change-the-configuration/fullsync.png)</span><span class="sxs-lookup"><span data-stu-id="a34a8-172">![Full sync](./media/active-directory-aadconnectsync-change-the-configuration/fullsync.png)</span></span>  
   <span data-ttu-id="a34a8-173">개체는 이제 메타버스에 업데이트됩니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-173">The objects are now updated in the metaverse.</span></span> <span data-ttu-id="a34a8-174">이제 메타 버스의 개체를 보려 합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-174">You now want to look at the object in the metaverse.</span></span>
2. <span data-ttu-id="a34a8-175">**단일 개체에서 미리 보기 및 전체 동기화**</span><span class="sxs-lookup"><span data-stu-id="a34a8-175">**Preview and full sync on a single object**</span></span>  
   <span data-ttu-id="a34a8-176">위쪽에 있는 **커넥터**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-176">Select **Connectors** at the top.</span></span> <span data-ttu-id="a34a8-177">이전 섹션에서 변경 사항을 적용할 커넥터를 식별합니다. 이 경우 Active Directory 도메인 서비스를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-177">Identify the Connector you made a change to in the previous section, in this case the Active Directory Domain Services, and select it.</span></span> <span data-ttu-id="a34a8-178">**커넥터 공간 검색**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-178">Select **Search Connector Space**.</span></span> <span data-ttu-id="a34a8-179">범위를 사용하여 변경 사항을 테스트하려는 개체를 찾습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-179">Use scope to find an object you want to use to test the change.</span></span> <span data-ttu-id="a34a8-180">개체를 선택하고 **미리 보기**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-180">Select the object and click **Preview**.</span></span> <span data-ttu-id="a34a8-181">새 화면에서 **커밋 미리 보기**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-181">In the new screen, select **Commit Preview**.</span></span>  
   <span data-ttu-id="a34a8-182">![커밋 미리 보기](./media/active-directory-aadconnectsync-change-the-configuration/commitpreview.png)</span><span class="sxs-lookup"><span data-stu-id="a34a8-182">![Commit preview](./media/active-directory-aadconnectsync-change-the-configuration/commitpreview.png)</span></span>  
   <span data-ttu-id="a34a8-183">이제 변경 사항이 메타버스에 커밋됩니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-183">The change is now committed to the metaverse.</span></span>

<span data-ttu-id="a34a8-184">**메타 버스의 개체 보기**</span><span class="sxs-lookup"><span data-stu-id="a34a8-184">**Look at the object in the metaverse**</span></span>  
<span data-ttu-id="a34a8-185">이제 값을 예상하고 규칙을 적용하기 위해 몇 가지 샘플 개체를 선택해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-185">You now want to pick a few sample objects to make sure the value is expected and that the rule applied.</span></span> <span data-ttu-id="a34a8-186">위쪽에서 **메타 버스 검색** 을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-186">Select **Metaverse Search** from the top.</span></span> <span data-ttu-id="a34a8-187">관련 개체를 찾기 위해 필요한 모든 필터를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-187">Add any filter you need to find the relevant objects.</span></span> <span data-ttu-id="a34a8-188">검색 결과에서 개체를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-188">From the search result, open an object.</span></span> <span data-ttu-id="a34a8-189">특성 값을 살펴보고 **동기화 규칙** 열에서 규칙이 예상대로 적용되었는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-189">Look at the attribute values and also verify in the **Sync Rules** column that the rule applied as expected.</span></span>  
<span data-ttu-id="a34a8-190">![Metaverse search](./media/active-directory-aadconnectsync-change-the-configuration/mvsearch.png)</span><span class="sxs-lookup"><span data-stu-id="a34a8-190">![Metaverse search](./media/active-directory-aadconnectsync-change-the-configuration/mvsearch.png)</span></span>  

### <a name="enable-the-scheduler"></a><span data-ttu-id="a34a8-191">스케줄러 사용</span><span class="sxs-lookup"><span data-stu-id="a34a8-191">Enable the scheduler</span></span>
<span data-ttu-id="a34a8-192">모든 것이 예상대로 적용된 경우 스케줄러를 다시 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-192">If everything is as expected, you can enable the scheduler again.</span></span> <span data-ttu-id="a34a8-193">PowerShell에서 `Set-ADSyncScheduler -SyncCycleEnabled $true`을(를) 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-193">From PowerShell, run `Set-ADSyncScheduler -SyncCycleEnabled $true`.</span></span>

## <a name="other-common-attribute-flow-changes"></a><span data-ttu-id="a34a8-194">기타 일반적인 특성 흐름 변경</span><span class="sxs-lookup"><span data-stu-id="a34a8-194">Other common attribute flow changes</span></span>
<span data-ttu-id="a34a8-195">이전 섹션에서는 특성 흐름을 변경하는 방법을 설명하였습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-195">The previous section described how to make changes to an attribute flow.</span></span> <span data-ttu-id="a34a8-196">이 섹션에서는 몇 가지 추가 예제가 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-196">In this section, some additional examples are provided.</span></span> <span data-ttu-id="a34a8-197">동기화 규칙을 만드는 방법에 대한 단계가 간략하게 설명되어 있지만 이전 섹션에서 전체 단계를 찾아볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-197">The steps for how to create the sync rule is abbreviated, but you can find the full steps in the previous section.</span></span>

### <a name="use-another-attribute-than-the-default"></a><span data-ttu-id="a34a8-198">기본값과 다른 특성 사용</span><span class="sxs-lookup"><span data-stu-id="a34a8-198">Use another attribute than the default</span></span>
<span data-ttu-id="a34a8-199">Fabrikam에는 지정된 이름, 성 및 표시 이름에 로컬 알파벳이 사용된 포리스트가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-199">At Fabrikam, there is a forest where the local alphabet is used for given name, surname, and display name.</span></span> <span data-ttu-id="a34a8-200">이러한 특성의 라틴 문자 표현은 확장 특성에서 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-200">The Latin character representation of these attributes can be found in the extension attributes.</span></span> <span data-ttu-id="a34a8-201">Azure AD 및 Office 365에서 전체 주소 목록을 빌드할 때 조직이 이러한 특성을 대신 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-201">When building the global address list in Azure AD and Office 365, the organization wants these attributes to be used instead.</span></span>

<span data-ttu-id="a34a8-202">기본 구성을 사용하면 로컬 포리스트의 개체는 다음과 같이 나타납니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-202">With a default configuration, an object from the local forest looks like this:</span></span>  
![특성 흐름 1](./media/active-directory-aadconnectsync-change-the-configuration/attributeflowjp1.png)

<span data-ttu-id="a34a8-204">다른 특성 흐름으로 규칙을 만들려면 다음을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-204">To create a rule with other attribute flows, do the following:</span></span>

* <span data-ttu-id="a34a8-205">시작 메뉴에서 **동기화 규칙 편집기** 를 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-205">Start **Synchronization Rule Editor** from the start menu.</span></span>
* <span data-ttu-id="a34a8-206">왼쪽에서 **인바운드**를 선택한 상태에서 **새 규칙 추가** 단추를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-206">With **Inbound** still selected to the left, click the button **Add new rule**.</span></span>
* <span data-ttu-id="a34a8-207">규칙에 이름 및 설명을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-207">Give the rule a name and description.</span></span> <span data-ttu-id="a34a8-208">온-프레미스 Active Directory 및 관련 개체 형식을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-208">Select the on-premises Active Directory and the relevant object types.</span></span> <span data-ttu-id="a34a8-209">**링크 형식**에서 **조인**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-209">In **Link Type**, select **Join**.</span></span> <span data-ttu-id="a34a8-210">우선 순위로 다른 규칙에서 사용하지 않은 숫자를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-210">For precedence, pick a number that is not used by another rule.</span></span> <span data-ttu-id="a34a8-211">기본 규칙이 100에서 시작하므로 값 50을 다음 예제에서 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-211">The out-of-box rules start with 100, so the value 50 can be used in this example.</span></span>
  <span data-ttu-id="a34a8-212">![특성 흐름 2](./media/active-directory-aadconnectsync-change-the-configuration/attributeflowjp2.png)</span><span class="sxs-lookup"><span data-stu-id="a34a8-212">![Attribute flow 2](./media/active-directory-aadconnectsync-change-the-configuration/attributeflowjp2.png)</span></span>
* <span data-ttu-id="a34a8-213">범위를 비워 둡니다(즉, 포리스트의 모든 사용자 개체에 적용해야 합니다).</span><span class="sxs-lookup"><span data-stu-id="a34a8-213">Leave scope empty (that is, should apply to all user objects in the forest).</span></span>
* <span data-ttu-id="a34a8-214">조인 규칙을 비워 둡니다(즉, 기본 규칙이 모든 연결을 처리할 수 있도록 합니다).</span><span class="sxs-lookup"><span data-stu-id="a34a8-214">Leave join rules empty (that is, let the out-of-box rule handle any joins).</span></span>
* <span data-ttu-id="a34a8-215">변환에서 다음 흐름을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-215">In Transformations, create the following flows:</span></span>  
  ![특성 흐름 3](./media/active-directory-aadconnectsync-change-the-configuration/attributeflowjp3.png)
* <span data-ttu-id="a34a8-217">**추가** 를 클릭하여 규칙을 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-217">Click **Add** to save the rule.</span></span>
* <span data-ttu-id="a34a8-218">**Synchronization Service Manager**로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-218">Go to **Synchronization Service Manager**.</span></span> <span data-ttu-id="a34a8-219">**커넥터**에서 규칙을 추가한 커넥터를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-219">On **Connectors**, select the Connector where we added the rule.</span></span> <span data-ttu-id="a34a8-220">**실행**을 선택한 다음 **전체 동기화**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-220">Select **Run**, and **Full Synchronization**.</span></span> <span data-ttu-id="a34a8-221">전체 동기화는 현재 규칙을 사용하여 모든 개체를 다시 계산합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-221">A Full Synchronization recalculates all objects using the current rules.</span></span>

<span data-ttu-id="a34a8-222">이 사용자 지정 규칙이 있는 동일한 개체에 대한 결과는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-222">This is the result for the same object with this custom rule:</span></span>  
![특성 흐름 4](./media/active-directory-aadconnectsync-change-the-configuration/attributeflowjp4.png)

### <a name="length-of-attributes"></a><span data-ttu-id="a34a8-224">특성의 길이</span><span class="sxs-lookup"><span data-stu-id="a34a8-224">Length of attributes</span></span>
<span data-ttu-id="a34a8-225">문자열 특성은 기본적으로 인덱싱 가능하게 설정되고 최대 길이는 448자입니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-225">String attributes are by default set to be indexable and the maximum length is 448 characters.</span></span> <span data-ttu-id="a34a8-226">더 포함할 수 있는 문자열 특성을 사용한다면 특성 흐름에 반드시 다음을 포함하십시오.</span><span class="sxs-lookup"><span data-stu-id="a34a8-226">If you are working with string attributes that might contain more, then make sure to include the following in the attribute flow:</span></span>  
`attributeName` <- `Left([attributeName],448)`

### <a name="changing-the-userprincipalsuffix"></a><span data-ttu-id="a34a8-227">userPrincipalSuffix 변경</span><span class="sxs-lookup"><span data-stu-id="a34a8-227">Changing the userPrincipalSuffix</span></span>
<span data-ttu-id="a34a8-228">Active Directory의 userPrincipalName 특성을 항상 사용자가 알 수 있는 것은 아니며 로그인 ID로 적절하지 않을 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-228">The userPrincipalName attribute in Active Directory is not always known by the users and might not be suitable as the sign-in ID.</span></span> <span data-ttu-id="a34a8-229">Azure AD Connect Sync 설치 마법사를 통해 여러 특성을 선택할 수 있습니다(예: 메일).</span><span class="sxs-lookup"><span data-stu-id="a34a8-229">The Azure AD Connect sync installation wizard allows picking a different attribute, for example mail.</span></span> <span data-ttu-id="a34a8-230">하지만 일부 경우에는 특성을 계산해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-230">But in some cases the attribute must be calculated.</span></span> <span data-ttu-id="a34a8-231">예를 들어 회사 Contoso에는 2개의 Azure AD 디렉터리가 있습니다. 하나는 프로덕션용이고 하나는 테스트용입니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-231">For example, the company Contoso has two Azure AD directories, one for production and one for testing.</span></span> <span data-ttu-id="a34a8-232">테스트 테넌트의 사용자가 로그인 ID에 다른 접미사를 사용하도록 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-232">They want the users in their test tenant to use another suffix in the sign-in ID.</span></span>  
`userPrincipalName` <- `Word([userPrincipalName],1,"@") & "@contosotest.com"`

<span data-ttu-id="a34a8-233">이 식에서는 첫 번째 @-sign(Word) 왼쪽에 있는 모든 것을 고정된 문자열과 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-233">In this expression, take everything left of the first @-sign (Word) and concatenate with a fixed string.</span></span>

### <a name="convert-a-multi-value-to-a-single-value"></a><span data-ttu-id="a34a8-234">다중 값을 단일 값으로 변환</span><span class="sxs-lookup"><span data-stu-id="a34a8-234">Convert a multi-value to a single-value</span></span>
<span data-ttu-id="a34a8-235">Active Directory 내의 일부 특성은 Active Directory 사용자 및 컴퓨터에서 단일 값으로 보이더라도 스키마에서는 다중 값입니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-235">Some attributes in Active Directory are multi-valued in the schema even though they look single valued in Active Directory Users and Computers.</span></span> <span data-ttu-id="a34a8-236">그 예는 설명 특성입니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-236">An example is the description attribute.</span></span>  
`description` <- `IIF(IsNullOrEmpty([description]),NULL,Left(Trim(Item([description],1)),448))`

<span data-ttu-id="a34a8-237">이 식에서 특성에 값이 있는 경우 해당 특성 내 첫 번째 항목(항목)에서 선행 및 후행 공백을 제거한 다음(트리밍), 문자열에 처음 448개의 문자(왼쪽)를 유지합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-237">In this expression in case the attribute has a value, take the first item (Item) in the attribute, remove leading and trailing spaces (Trim), and then keep the first 448 characters (Left) in the string.</span></span>

### <a name="do-not-flow-an-attribute"></a><span data-ttu-id="a34a8-238">특성을 전달하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-238">Do not flow an attribute</span></span>
<span data-ttu-id="a34a8-239">이 섹션에 대한 시나리오의 배경은 [특성 흐름 프로세스 제어](active-directory-aadconnectsync-understanding-declarative-provisioning.md#control-the-attribute-flow-process)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="a34a8-239">For background on the scenario for this section, see [Control the attribute flow process](active-directory-aadconnectsync-understanding-declarative-provisioning.md#control-the-attribute-flow-process).</span></span>

<span data-ttu-id="a34a8-240">특성을 전달하지 않는 방법에는 다음 두 가지가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-240">There are two ways to not flow an attribute.</span></span> <span data-ttu-id="a34a8-241">첫 번째 방법은 설치 마법사를 사용하여 [선택한 특성을 제거합니다](active-directory-aadconnect-get-started-custom.md#azure-ad-app-and-attribute-filtering).</span><span class="sxs-lookup"><span data-stu-id="a34a8-241">The first is available in the installation wizard and allows you to [remove selected attributes](active-directory-aadconnect-get-started-custom.md#azure-ad-app-and-attribute-filtering).</span></span> <span data-ttu-id="a34a8-242">이 옵션은 전에 특성을 동기화하지 않은 경우에만 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-242">This option works if you have never synchronized the attribute before.</span></span> <span data-ttu-id="a34a8-243">하지만 이 특성을 동기화한 다음 이후에 이 기능을 사용하여 제거한 경우 동기화 엔진은 이 특성을 관리하는 것을 중지하고 Azure AD에 기존 값이 남아 있게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-243">However, if you have started to synchronize this attribute and later remove it with this feature, then the sync engine stops managing the attribute and the existing values are left in Azure AD.</span></span>

<span data-ttu-id="a34a8-244">특성 값을 제거하고 나중에 이 값이 전달되지 않는지 확인하려면 대신 사용자 지정 규칙을 생성해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-244">If you want to remove the value of an attribute and make sure it does not flow in the future, you need create a custom rule instead.</span></span>

<span data-ttu-id="a34a8-245">Fabrikam에서는 클라우드에 동기화된 특성 중 일부라도 클라우드에 남아 있지 않아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-245">At Fabrikam, we have realized that some of the attributes we synchronize to the cloud should not be there.</span></span> <span data-ttu-id="a34a8-246">Azure AD에서 이들 특성이 제거되었는지 확인하려 합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-246">We want to make sure these attributes are removed from Azure AD.</span></span>  
![잘못된 확장 특성](./media/active-directory-aadconnectsync-change-the-configuration/badextensionattribute.png)

* <span data-ttu-id="a34a8-248">새 인바운드 동기화 규칙 만들기 및 설명 ![설명](./media/active-directory-aadconnectsync-change-the-configuration/syncruledescription.png)</span><span class="sxs-lookup"><span data-stu-id="a34a8-248">Create a new inbound Synchronization Rule and populate the description ![Descriptions](./media/active-directory-aadconnectsync-change-the-configuration/syncruledescription.png)</span></span>
* <span data-ttu-id="a34a8-249">소스 **AuthoritativeNull**을 포함하는 유형 **식**의 특성 흐름을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-249">Create attribute flows of type **Expression** and with the source **AuthoritativeNull**.</span></span> <span data-ttu-id="a34a8-250">리터럴 **AuthoritativeNull** 은 심지어 우선 순위가 더 낮은 동기화 규칙이 그 값을 채우려고 해도 MV에서 그 값이 비어 있어야 함을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-250">The literal **AuthoritativeNull** indicates that the value should be empty in the MV even if a lower precedence sync rule tries to populate the value.</span></span>
  <span data-ttu-id="a34a8-251">![확장 특성을 위한 변환](./media/active-directory-aadconnectsync-change-the-configuration/syncruletransformations.png)</span><span class="sxs-lookup"><span data-stu-id="a34a8-251">![Transformation for Extension Attributes](./media/active-directory-aadconnectsync-change-the-configuration/syncruletransformations.png)</span></span>
* <span data-ttu-id="a34a8-252">해당 동기화 규칙을 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-252">Save the Sync Rule.</span></span> <span data-ttu-id="a34a8-253">**동기화 서비스**를 시작하여 커넥터를 찾고 **실행**을 선택한 다음 **전체 동기화**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-253">Start **Synchronization Service**, find the Connector, select **Run**, and **Full Synchronization**.</span></span> <span data-ttu-id="a34a8-254">이 단계는 모든 특성 흐름을 다시 계산합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-254">This step recalculates all attribute flows.</span></span>
* <span data-ttu-id="a34a8-255">의도한 변경 내용을 커넥터 공간을 검색하여 내보낼 수 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-255">Verify that the intended changes are about to be exported by searching the connector space.</span></span>
  <span data-ttu-id="a34a8-256">![단계적 삭제](./media/active-directory-aadconnectsync-change-the-configuration/deletetobeexported.png)</span><span class="sxs-lookup"><span data-stu-id="a34a8-256">![Staged delete](./media/active-directory-aadconnectsync-change-the-configuration/deletetobeexported.png)</span></span>

## <a name="create-rules-with-powershell"></a><span data-ttu-id="a34a8-257">PowerShell로 규칙 만들기</span><span class="sxs-lookup"><span data-stu-id="a34a8-257">Create rules with PowerShell</span></span>
<span data-ttu-id="a34a8-258">동기화 규칙 편집기를 사용하면 몇 가지만 변경하는 경우에만 제대로 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-258">Using the sync rule editor works fine when you only have a few changes to make.</span></span> <span data-ttu-id="a34a8-259">많은 사항을 변경해야 할 경우 PowerShell 방법이 더 나을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-259">If you need to make many changes, then PowerShell might be a better option.</span></span> <span data-ttu-id="a34a8-260">일부 고급 기능은 PowerShell에서만 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-260">Some advanced features are only available with PowerShell.</span></span>

### <a name="get-the-powershell-script-for-an-out-of-box-rule"></a><span data-ttu-id="a34a8-261">기본 규칙에 대한 PowerShell 스크립트 가져오기</span><span class="sxs-lookup"><span data-stu-id="a34a8-261">Get the PowerShell script for an out-of-box rule</span></span>
<span data-ttu-id="a34a8-262">기본 규칙을 만든 PowerShell 스크립트를 보려면 동기화 규칙 편집기에 규칙을 선택하고 **내보내기**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-262">To see the PowerShell script that created an out-of-box rule, select the rule in the sync rules editor and click **Export**.</span></span> <span data-ttu-id="a34a8-263">이 작업으로 규칙을 만든 PowerShell 스크립트을 제공 받을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-263">This action gives you the PowerShell script that created the rule.</span></span>

### <a name="advanced-precedence"></a><span data-ttu-id="a34a8-264">고급 우선 순위</span><span class="sxs-lookup"><span data-stu-id="a34a8-264">Advanced precedence</span></span>
<span data-ttu-id="a34a8-265">기본 동기화 규칙의 우선 순위 값은 100에서 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-265">The out-of-box sync rules start with a precedence value of 100.</span></span> <span data-ttu-id="a34a8-266">포리스트가 많고 많은 사용자 지정 사항을 변경해야 할 경우 99가지 동기화 규칙이 충분하지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-266">If you have many forests and you need to make many custom changes, then 99 sync rules might not be enough.</span></span>

<span data-ttu-id="a34a8-267">기본 규칙 앞에 추가 규칙을 삽입하겠다고 동기화 엔진에 지시할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-267">You can instruct the Sync Engine that you want additional rules inserted before the out-of-box rules.</span></span> <span data-ttu-id="a34a8-268">이 동작을 가져오려면 다음 단계를 따르십시오.</span><span class="sxs-lookup"><span data-stu-id="a34a8-268">To get this behavior, follow these steps:</span></span>

1. <span data-ttu-id="a34a8-269">동기화 규칙 편집기에서 첫 번째 기본 동기화 규칙(**In from AD-User Join**)을 표시하고 **내보내기**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-269">Mark the first out-of-box sync rule (this rule is the **In from AD-User Join**) in the sync rule editor and select **Export**.</span></span> <span data-ttu-id="a34a8-270">SR 식별자 값을 복사합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-270">Copy the SR Identifier value.</span></span>  
<span data-ttu-id="a34a8-271">![변경 전 PowerShell](./media/active-directory-aadconnectsync-change-the-configuration/powershell1.png)</span><span class="sxs-lookup"><span data-stu-id="a34a8-271">![PowerShell before change](./media/active-directory-aadconnectsync-change-the-configuration/powershell1.png)</span></span>  
2. <span data-ttu-id="a34a8-272">새 동기화 규칙을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-272">Create the new sync rule.</span></span> <span data-ttu-id="a34a8-273">동기화 규칙 편집기를 사용하여 규칙을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-273">You can use the sync rule editor to create it.</span></span> <span data-ttu-id="a34a8-274">규칙을 PowerShell 스크립트로 내보냅니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-274">Export the rule to a PowerShell script.</span></span>
3. <span data-ttu-id="a34a8-275">**PrecedenceBefore** 속성에서 기본 규칙의 식별자 값을 삽입합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-275">In the property **PrecedenceBefore**, insert the identifier value from the out-of-box rule.</span></span> <span data-ttu-id="a34a8-276">**우선 순위**를 **0**으로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-276">Set the **Precedence** to **0**.</span></span> <span data-ttu-id="a34a8-277">식별자 특성은 고유한지 그리고 다른 규칙의 GUID를 다시 사용하고 있지 않은지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-277">Make sure the Identifier attribute is unique and you are not reusing a GUID from another rule.</span></span> <span data-ttu-id="a34a8-278">또한 **ImmutableTag** 속성이 설정되지 않았는지 확인합니다. 이 속성은 기본 규칙에 대해서만 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-278">Also make sure that the **ImmutableTag** property is not set; this property should only be set for an out-of-box rule.</span></span> <span data-ttu-id="a34a8-279">PowerShell 스크립트를 저장하고 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-279">Save the PowerShell script and run it.</span></span> <span data-ttu-id="a34a8-280">그렇게 하면 사용자 지정 규칙이 우선 순위 값 100에 할당되고 다른 모든 기본 규칙이 증가합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-280">The result is that your custom rule is assigned the precedence value of 100 and all other out-of-box rules are incremented.</span></span>  
<span data-ttu-id="a34a8-281">![변경 후 PowerShell](./media/active-directory-aadconnectsync-change-the-configuration/powershell2.png)</span><span class="sxs-lookup"><span data-stu-id="a34a8-281">![PowerShell after change](./media/active-directory-aadconnectsync-change-the-configuration/powershell2.png)</span></span>  

<span data-ttu-id="a34a8-282">동일한 **PrecedenceBefore** 값을 사용하는 사용자 지정 동기화 규칙이 많이 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-282">You can have many custom sync rules using the same **PrecedenceBefore** value when needed.</span></span>


## <a name="enable-synchronization-of-preferreddatalocation"></a><span data-ttu-id="a34a8-283">PreferredDataLocation 동기화 사용</span><span class="sxs-lookup"><span data-stu-id="a34a8-283">Enable synchronization of PreferredDataLocation</span></span>
<span data-ttu-id="a34a8-284">Azure AD Connect는 1.1.524.0 이상 버전의 **User** 개체에 대한 **PreferredDataLocation** 특성의 동기화를 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-284">Azure AD Connect supports synchronization of the **PreferredDataLocation** attribute for **User** objects in version 1.1.524.0 and after.</span></span> <span data-ttu-id="a34a8-285">구체적으로 다음과 같은 변경 내용이 도입되었습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-285">More specifically, following changes have been introduced:</span></span>

* <span data-ttu-id="a34a8-286">Azure AD 커넥터의 **User** 개체 형식의 스키마가 문자열 형식의 단일 값인 PreferredDataLocation 특성을 포함하도록 확장되었습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-286">The schema of the object type **User** in the Azure AD Connector is extended to include PreferredDataLocation attribute, which is of type string and is single-valued.</span></span>

* <span data-ttu-id="a34a8-287">메타버스의 **Person** 개체 형식의 스키마가 문자열 형식의 단일 값인 PreferredDataLocation 특성을 포함하도록 확장되었습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-287">The schema of the object type **Person** in the Metaverse is extended to include PreferredDataLocation attribute, which is of type string and is single-valued.</span></span>

<span data-ttu-id="a34a8-288">기본적으로 PreferredDataLocation 특성이 온-프레미스 Active Directory에 없기 때문에 동기화에 대해 PreferredDataLocation 특성을 사용하도록 설정되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-288">By default, the PreferredDataLocation attribute is not enabled for synchronization because there is no corresponding PreferredDataLocation attribute in on-premises Active Directory.</span></span> <span data-ttu-id="a34a8-289">동기화를 사용하도록 수동으로 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-289">You must manually enable synchronization.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="a34a8-290">현재 Azure AD를 사용하면 Azure AD PowerShell을 사용하여 동기화된 User 개체와 클라우드 User 개체 모두의 PreferredDataLocation 특성을 직접 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-290">Currently, Azure AD allows the PreferredDataLocation attribute on both synchronized User objects and cloud User objects to be directly configured using Azure AD PowerShell.</span></span> <span data-ttu-id="a34a8-291">PreferredDataLocation 특성의 동기화를 사용하도록 설정한 후에는 Azure AD Connect에서 온-프레미스 Active Directory의 원본 특성 값에 따라 **동기화된 User 개체**를 재정의하므로 Azure AD PowerShell을 사용하여 이러한 개체의 특성을 구성하는 것을 중지해야 합니다 .</span><span class="sxs-lookup"><span data-stu-id="a34a8-291">Once you have enabled synchronization of the PreferredDataLocation attribute, you must stop using Azure AD PowerShell to configure the attribute on **synchronized User objects** as Azure AD Connect will override them based on the source attribute values in on-premises Active Directory.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="a34a8-292">2017년 9월 1일부터 Azure AD는 더 이상 Azure AD PowerShell을 사용하여 **동기화된 User 개체**의 PreferredDataLocation 특성을 직접 구성하도록 허용하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-292">On September 1 2017, Azure AD will no longer allow the PreferredDataLocation attribute on **synchronized User objects** to be directly configured using Azure AD PowerShell.</span></span> <span data-ttu-id="a34a8-293">동기화된 User 개체에 PreferredLocation 특성을 구성하려면 Azure AD Connect만 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-293">To configure PreferredLocation attribute on synchronized User objects, you must use Azure AD Connect only.</span></span>

<span data-ttu-id="a34a8-294">PreferredDataLocation 특성의 동기화를 사용하도록 설정하기 전에 다음을 수행해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-294">Before enabling synchronization of the PreferredDataLocation attribute, you must:</span></span>

 * <span data-ttu-id="a34a8-295">먼저 온-프레미스 Active Directory 특성을 원본 특성으로 사용할지 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-295">First, decide which on-premises Active Directory attribute to be used as the source attribute.</span></span> <span data-ttu-id="a34a8-296">이 특성은 **문자열** 형식의 **단일 값**이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-296">It should be of type **string** and is **single-valued**.</span></span>

 * <span data-ttu-id="a34a8-297">이전에 Azure AD PowerShell을 사용하여 Azure AD의 동기화된 기존 User 개체에 PreferredDataLocation 특성을 구성한 경우, 특성 값을 온-프레미스 Active Directory의 해당 User 개체로 **백포팅**해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-297">If you have previously configured the PreferredDataLocation attribute on existing synchronized User objects in Azure AD using Azure AD PowerShell, you must **backport** the attribute values to the corresponding User objects in on-premises Active Directory.</span></span>
 
    > [!IMPORTANT]
    > <span data-ttu-id="a34a8-298">특성 값을 온-프레미스 Active Directory의 해당 User 개체로 백포팅하지 않으면, PreferredDataLocation 특성에 대한 동기화를 사용하도록 설정할 때 Azure AD Connect에서 Azure AD의 기존 특성 값을 제거합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-298">If you do not backport the attribute values to the corresponding User objects in on-premises Active Directory, Azure AD Connect will remove the existing attribute values in Azure AD when synchronization for the PreferredDataLocation attribute is enabled.</span></span>

 * <span data-ttu-id="a34a8-299">이제 두 개 이상의 온-프레미스 AD User 개체에 원본 특성을 구성하는 것이 좋습니다. 이러한 개체는 나중에 확인하는 데 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-299">It is recommended you configure the source attribute on at least a couple of on-premises AD User objects now, which can be used for verification later.</span></span>
 
<span data-ttu-id="a34a8-300">PreferredDataLocation 특성의 동기화를 사용하도록 설정하는 단계는 다음과 같이 요약할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-300">The steps to enable synchronization of the PreferredDataLocation attribute can be summarized as:</span></span>

1. <span data-ttu-id="a34a8-301">동기화 스케줄러를 비활성화하고 진행 중인 동기화가 없는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-301">Disable sync scheduler and verify there is no synchronization in progress</span></span>

2. <span data-ttu-id="a34a8-302">온-프레미스 AD 커넥터 스키마에 원본 특성 추가</span><span class="sxs-lookup"><span data-stu-id="a34a8-302">Add the source attribute to the on-premises AD Connector schema</span></span>

3. <span data-ttu-id="a34a8-303">Azure AD 커넥터 스키마에 PreferredDataLocation 추가</span><span class="sxs-lookup"><span data-stu-id="a34a8-303">Add PreferredDataLocation to the Azure AD Connector schema</span></span>

4. <span data-ttu-id="a34a8-304">온-프레미스 Active Directory에서 특성 값을 전달하는 인바운드 동기화 규칙 만들기</span><span class="sxs-lookup"><span data-stu-id="a34a8-304">Create an inbound synchronization rule to flow the attribute value from on-premises Active Directory</span></span>

5. <span data-ttu-id="a34a8-305">Azure AD로 특성 값을 전달하는 아웃바운드 동기화 규칙 만들기</span><span class="sxs-lookup"><span data-stu-id="a34a8-305">Create an outbound synchronization rule to flow the attribute value to Azure AD</span></span>

6. <span data-ttu-id="a34a8-306">전체 동기화 주기 실행</span><span class="sxs-lookup"><span data-stu-id="a34a8-306">Run Full Synchronization cycle</span></span>

7. <span data-ttu-id="a34a8-307">동기화 스케줄러를 사용하도록 설정</span><span class="sxs-lookup"><span data-stu-id="a34a8-307">Enable sync scheduler</span></span>

> [!NOTE]
> <span data-ttu-id="a34a8-308">이 섹션의 나머지 부분에서는 이러한 단계에 대해 자세히 설명하며,</span><span class="sxs-lookup"><span data-stu-id="a34a8-308">The rest of this section covers these steps in details.</span></span> <span data-ttu-id="a34a8-309">단일 포리스트 토폴로지를 사용하고 사용자 지정 동기화 규칙이 없는 Azure AD 배포와 관련됩니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-309">They are described in the context of an Azure AD deployment with single-forest topology and without custom synchronization rules.</span></span> <span data-ttu-id="a34a8-310">다중 포리스트 토폴로지, 사용자 지정 동기화 규칙이 구성되어 있거나 스테이징 서버가 있으면 이에 따라 단계를 조정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-310">If you have multi-forest topology, custom synchronization rules configured or have a staging server, you need to adjust the steps accordingly.</span></span>

### <a name="step-1-disable-sync-scheduler-and-verify-there-is-no-synchronization-in-progress"></a><span data-ttu-id="a34a8-311">1단계: 동기화 스케줄러 비활성화 및 진행 중인 동기화가 없는지 확인</span><span class="sxs-lookup"><span data-stu-id="a34a8-311">Step 1: Disable sync scheduler and verify there is no synchronization in progress</span></span>
<span data-ttu-id="a34a8-312">Azure AD로 의도하지 않은 변경 내용을 내보내지 않도록 동기화 규칙을 업데이트하는 중에 동기화가 수행되지 않도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-312">Ensure no synchronization takes place while you are in the middle of updating synchronization rules to avoid unintended changes being exported to Azure AD.</span></span> <span data-ttu-id="a34a8-313">기본 제공 동기화 스케줄러를 비활성화하려면</span><span class="sxs-lookup"><span data-stu-id="a34a8-313">To disable the built-in sync scheduler:</span></span>

 1. <span data-ttu-id="a34a8-314">Azure AD Connect 서버에서 PowerShell 세션을 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-314">Start PowerShell session on the Azure AD Connect server.</span></span>

 2. <span data-ttu-id="a34a8-315">cmdlet을 실행하여 예약된 동기화 비활성화: `Set-ADSyncScheduler -SyncCycleEnabled $false`</span><span class="sxs-lookup"><span data-stu-id="a34a8-315">Disable scheduled synchronization by running cmdlet: `Set-ADSyncScheduler -SyncCycleEnabled $false`</span></span>
 
 3. <span data-ttu-id="a34a8-316">시작 → 동기화 서비스로 이동하여 **Synchronization Service Manager**를 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-316">Start the **Synchronization Service Manager** by going to START → Synchronization Service.</span></span>
 
 4. <span data-ttu-id="a34a8-317">**작업** 탭으로 이동하고 상태가 *“진행 중”*인 작업이 없는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-317">Go to the **Operations** tab and confirm there is no operation whose status is *“in progress.”*</span></span>

![동기화 서비스 관리자 - 진행 중인 작업이 없는지 확인](./media/active-directory-aadconnectsync-change-the-configuration/preferredDataLocation-step1.png)

### <a name="step-2-add-the-source-attribute-to-the-on-premises-ad-connector-schema"></a><span data-ttu-id="a34a8-319">2단계: 온-프레미스 AD 커넥터 스키마에 원본 특성 추가</span><span class="sxs-lookup"><span data-stu-id="a34a8-319">Step 2: Add the source attribute to the on-premises AD Connector schema</span></span>
<span data-ttu-id="a34a8-320">모든 AD 특성을 온-프레미스 AD 커넥터 공간으로 가져오지는 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-320">Not all AD attributes are imported into the on-premises AD Connector Space.</span></span> <span data-ttu-id="a34a8-321">가져온 특성 목록에 원본 특성을 추가하려면 다음을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-321">To add the source attribute to the list of the imported attributes:</span></span>

 1. <span data-ttu-id="a34a8-322">Synchronization Service Manager에 있는 **커넥터** 탭으로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-322">Go to the **Connectors** tab in the Synchronization Service Manager.</span></span>
 
 2. <span data-ttu-id="a34a8-323">**온-프레미스 AD 커넥터**를 마우스 오른쪽 단추로 클릭하고 **속성**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-323">Right-click on the **on-premises AD Connector** and select **Properties**.</span></span>
 
 3. <span data-ttu-id="a34a8-324">팝업 대화 상자에서 **특성 선택** 탭으로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-324">In the pop-up dialog, go to the **Select Attributes** tab.</span></span>
 
 4. <span data-ttu-id="a34a8-325">특성 목록에서 원본 특성이 선택되어 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-325">Make sure the source attribute is checked in the attribute list.</span></span>
 
 5. <span data-ttu-id="a34a8-326">**확인**을 클릭하여 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-326">Click **OK** to save.</span></span>

![온-프레미스 AD 커넥터 스키마에 원본 특성 추가](./media/active-directory-aadconnectsync-change-the-configuration/preferredDataLocation-step2.png)

### <a name="step-3-add-preferreddatalocation-to-the-azure-ad-connector-schema"></a><span data-ttu-id="a34a8-328">3단계: Azure AD 커넥터 스키마에 PreferredDataLocation 추가</span><span class="sxs-lookup"><span data-stu-id="a34a8-328">Step 3: Add PreferredDataLocation to the Azure AD Connector schema</span></span>
<span data-ttu-id="a34a8-329">기본적으로 PreferredDataLocation 특성은 Azure AD Connect 공간으로 가져오지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-329">By default, the PreferredDataLocation attribute is not imported into the Azure AD Connect Space.</span></span> <span data-ttu-id="a34a8-330">가져온 특성 목록에 PreferredDataLocation 특성을 추가하려면 다음을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-330">To add the PreferredDataLocation attribute to the list of imported attributes:</span></span>

 1. <span data-ttu-id="a34a8-331">Synchronization Service Manager에 있는 **커넥터** 탭으로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-331">Go to the **Connectors** tab in the Synchronization Service Manager.</span></span>

 2. <span data-ttu-id="a34a8-332">**Azure AD 커넥터**를 마우스 오른쪽 단추로 클릭하고 **속성**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-332">Right-click on the **Azure AD Connector** and select **Properties**.</span></span>

 3. <span data-ttu-id="a34a8-333">팝업 대화 상자에서 **특성 선택** 탭으로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-333">In the pop-up dialog, go to the **Select Attributes** tab.</span></span>

 4. <span data-ttu-id="a34a8-334">특성 목록에서 PreferredDataLocation 특성이 선택되어 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-334">Make sure the PreferredDataLocation attribute is checked in the attribute list.</span></span>

 5. <span data-ttu-id="a34a8-335">**확인**을 클릭하여 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-335">Click **OK** to save.</span></span>

![Azure AD 커넥터 스키마에 원본 특성 추가](./media/active-directory-aadconnectsync-change-the-configuration/preferredDataLocation-step3.png)

### <a name="step-4-create-an-inbound-synchronization-rule-to-flow-the-attribute-value-from-on-premises-active-directory"></a><span data-ttu-id="a34a8-337">4단계: 온-프레미스 Active Directory에서 특성 값을 전달하는 인바운드 동기화 규칙 만들기</span><span class="sxs-lookup"><span data-stu-id="a34a8-337">Step 4: Create an inbound synchronization rule to flow the attribute value from on-premises Active Directory</span></span>
<span data-ttu-id="a34a8-338">인바운드 동기화 규칙은 온-프레미스 Active Directory의 원본 특성에서 메타버스로 특성 값을 전달하도록 허용합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-338">The inbound synchronization rule permits the attribute value to flow from the source attribute from on-premises Active Directory to the Metaverse:</span></span>

1. <span data-ttu-id="a34a8-339">시작 → 동기화 규칙 편집기로 이동하여 **동기화 규칙 편집기**를 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-339">Start the **Synchronization Rules Editor** by going to START → Synchronization Rules Editor.</span></span>

2. <span data-ttu-id="a34a8-340">**방향** 검색 필터를 **인바운드**로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-340">Set the search filter **Direction** to be **Inbound**.</span></span>

3. <span data-ttu-id="a34a8-341">**새 규칙 추가** 단추를 클릭하여 새 인바운드 규칙을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-341">Click **Add new rule** button to create a new inbound rule.</span></span>

4. <span data-ttu-id="a34a8-342">**설명 탭** 아래에서 다음 구성을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-342">Under the **Description** tab, provide the following configuration:</span></span>
 
    | <span data-ttu-id="a34a8-343">특성</span><span class="sxs-lookup"><span data-stu-id="a34a8-343">Attribute</span></span> | <span data-ttu-id="a34a8-344">값</span><span class="sxs-lookup"><span data-stu-id="a34a8-344">Value</span></span> | <span data-ttu-id="a34a8-345">세부 정보</span><span class="sxs-lookup"><span data-stu-id="a34a8-345">Details</span></span> |
    | --- | --- | --- |
    | <span data-ttu-id="a34a8-346">이름</span><span class="sxs-lookup"><span data-stu-id="a34a8-346">Name</span></span> | <span data-ttu-id="a34a8-347">*이름 제공*</span><span class="sxs-lookup"><span data-stu-id="a34a8-347">*Provide a name*</span></span> | <span data-ttu-id="a34a8-348">예: *"AD에서 인바운드 - 사용자 PreferredDataLocation"*</span><span class="sxs-lookup"><span data-stu-id="a34a8-348">For example, *“In from AD – User PreferredDataLocation”*</span></span> |
    | <span data-ttu-id="a34a8-349">설명</span><span class="sxs-lookup"><span data-stu-id="a34a8-349">Description</span></span> | <span data-ttu-id="a34a8-350">*설명 제공*</span><span class="sxs-lookup"><span data-stu-id="a34a8-350">*Provide a description*</span></span> |  |
    | <span data-ttu-id="a34a8-351">연결된 시스템</span><span class="sxs-lookup"><span data-stu-id="a34a8-351">Connected System</span></span> | <span data-ttu-id="a34a8-352">*온-프레미스 AD 커넥터 선택*</span><span class="sxs-lookup"><span data-stu-id="a34a8-352">*Pick the on-premises AD connector*</span></span> |  |
    | <span data-ttu-id="a34a8-353">연결된 시스템 개체 유형</span><span class="sxs-lookup"><span data-stu-id="a34a8-353">Connected System Object Type</span></span> | <span data-ttu-id="a34a8-354">**User**</span><span class="sxs-lookup"><span data-stu-id="a34a8-354">**User**</span></span> |  |
    | <span data-ttu-id="a34a8-355">메타버스 개체 유형</span><span class="sxs-lookup"><span data-stu-id="a34a8-355">Metaverse Object Type</span></span> | <span data-ttu-id="a34a8-356">**Person**</span><span class="sxs-lookup"><span data-stu-id="a34a8-356">**Person**</span></span> |  |
    | <span data-ttu-id="a34a8-357">링크 형식</span><span class="sxs-lookup"><span data-stu-id="a34a8-357">Link Type</span></span> | <span data-ttu-id="a34a8-358">**Join**</span><span class="sxs-lookup"><span data-stu-id="a34a8-358">**Join**</span></span> |  |
    | <span data-ttu-id="a34a8-359">우선 순위</span><span class="sxs-lookup"><span data-stu-id="a34a8-359">Precedence</span></span> | <span data-ttu-id="a34a8-360">*1-99 사이의 숫자 선택*</span><span class="sxs-lookup"><span data-stu-id="a34a8-360">*Choose a number between 1 – 99*</span></span> | <span data-ttu-id="a34a8-361">1-99는 사용자 지정 동기화 규칙을 위해 예약되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-361">1 – 99 is reserved for custom sync rules.</span></span> <span data-ttu-id="a34a8-362">다른 동기화 규칙에서 사용하는 값은 선택하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-362">Do not pick a value that is used by another synchronization rule.</span></span> |

5. <span data-ttu-id="a34a8-363">**범위 지정 필터** 탭으로 이동하여 **다음 절이 있는 단일 범위 지정 필터 그룹**을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-363">Go to the **Scoping filter** tab and add a **single scoping filter group with the following clause**:</span></span>
 
    | <span data-ttu-id="a34a8-364">특성</span><span class="sxs-lookup"><span data-stu-id="a34a8-364">Attribute</span></span> | <span data-ttu-id="a34a8-365">연산자</span><span class="sxs-lookup"><span data-stu-id="a34a8-365">Operator</span></span> | <span data-ttu-id="a34a8-366">값</span><span class="sxs-lookup"><span data-stu-id="a34a8-366">Value</span></span> |
    | --- | --- | --- |
    | <span data-ttu-id="a34a8-367">adminDescription</span><span class="sxs-lookup"><span data-stu-id="a34a8-367">adminDescription</span></span> | <span data-ttu-id="a34a8-368">NOTSTARTWITH</span><span class="sxs-lookup"><span data-stu-id="a34a8-368">NOTSTARTWITH</span></span> | <span data-ttu-id="a34a8-369">사용자\_</span><span class="sxs-lookup"><span data-stu-id="a34a8-369">User\_</span></span> | 
 
    <span data-ttu-id="a34a8-370">범위 지정 필터는 이 인바운드 동기화 규칙이 적용되는 온-프레미스 AD 개체를 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-370">Scoping filter determines which on-premises AD objects this inbound synchronization rule is applied to.</span></span> <span data-ttu-id="a34a8-371">이 예제에서는 *"AD에서 인바운드 - 사용자 일반"* OOB 동기화 규칙과 동일한 범위 지정 필터를 사용하며, Azure AD User 쓰기 저장 기능을 통해 만든 User 개체에 동기화 규칙이 적용되지 않도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-371">In this example, we use the same scoping filter used as *“In from AD – User Common”* OOB synchronization rule, which prevents the synchronization rule from being applied to User objects created through Azure AD User writeback feature.</span></span> <span data-ttu-id="a34a8-372">Azure AD Connect 배포에 따라 범위 지정 필터를 조정해야 할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-372">You may need to tweak the scoping filter according to your Azure AD Connect deployment.</span></span>

6. <span data-ttu-id="a34a8-373">**변환 탭**으로 이동하여 다음 변환 규칙을 구현합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-373">Go to the **Transformation tab** and implement the following transformation rule:</span></span>
 
    | <span data-ttu-id="a34a8-374">흐름 형식</span><span class="sxs-lookup"><span data-stu-id="a34a8-374">Flow Type</span></span> | <span data-ttu-id="a34a8-375">대상 특성</span><span class="sxs-lookup"><span data-stu-id="a34a8-375">Target Attribute</span></span> | <span data-ttu-id="a34a8-376">원본</span><span class="sxs-lookup"><span data-stu-id="a34a8-376">Source</span></span> | <span data-ttu-id="a34a8-377">한 번 적용</span><span class="sxs-lookup"><span data-stu-id="a34a8-377">Apply Once</span></span> | <span data-ttu-id="a34a8-378">병합 종류</span><span class="sxs-lookup"><span data-stu-id="a34a8-378">Merge Type</span></span> |
    | --- | --- | --- | --- | --- |
    | <span data-ttu-id="a34a8-379">직접</span><span class="sxs-lookup"><span data-stu-id="a34a8-379">Direct</span></span> | <span data-ttu-id="a34a8-380">PreferredDataLocation</span><span class="sxs-lookup"><span data-stu-id="a34a8-380">PreferredDataLocation</span></span> | <span data-ttu-id="a34a8-381">원본 특성 선택</span><span class="sxs-lookup"><span data-stu-id="a34a8-381">Pick the source attribute</span></span> | <span data-ttu-id="a34a8-382">선택 취소됨</span><span class="sxs-lookup"><span data-stu-id="a34a8-382">Unchecked</span></span> | <span data-ttu-id="a34a8-383">업데이트</span><span class="sxs-lookup"><span data-stu-id="a34a8-383">Update</span></span> |

7. <span data-ttu-id="a34a8-384">**추가**를 클릭하여 인바운드 규칙을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-384">Click **Add** to create the inbound rule.</span></span>

![인바운드 동기화 규칙 만들기](./media/active-directory-aadconnectsync-change-the-configuration/preferredDataLocation-step4.png)

### <a name="step-5-create-an-outbound-synchronization-rule-to-flow-the-attribute-value-to-azure-ad"></a><span data-ttu-id="a34a8-386">5단계: Azure AD로 특성 값을 전달하는 아웃바운드 동기화 규칙 만들기</span><span class="sxs-lookup"><span data-stu-id="a34a8-386">Step 5: Create an outbound synchronization rule to flow the attribute value to Azure AD</span></span>
<span data-ttu-id="a34a8-387">아웃바운드 동기화 규칙은 메타버스에서 Azure AD의 PreferredDataLocation 특성으로 특성 값을 전달하도록 허용합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-387">The outbound synchronization rule permits the attribute value to flow from the Metaverse to the PreferredDataLocation attribute in Azure AD:</span></span>

1. <span data-ttu-id="a34a8-388">**동기화 규칙** 편집기로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-388">Go to the **Synchronization Rules** Editor.</span></span>

2. <span data-ttu-id="a34a8-389">**방향** 검색 필터를 **아웃바운드**로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-389">Set the search filter **Direction** to be **Outbound**.</span></span>

3. <span data-ttu-id="a34a8-390">**새 규칙 추가** 단추를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-390">Click **Add new rule** button.</span></span>

4. <span data-ttu-id="a34a8-391">**설명 탭** 아래에서 다음 구성을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-391">Under the **Description** tab, provide the following configuration:</span></span>

    | <span data-ttu-id="a34a8-392">특성</span><span class="sxs-lookup"><span data-stu-id="a34a8-392">Attribute</span></span> | <span data-ttu-id="a34a8-393">값</span><span class="sxs-lookup"><span data-stu-id="a34a8-393">Value</span></span> | <span data-ttu-id="a34a8-394">세부 정보</span><span class="sxs-lookup"><span data-stu-id="a34a8-394">Details</span></span> |
    | --- | --- | --- |
    | <span data-ttu-id="a34a8-395">이름</span><span class="sxs-lookup"><span data-stu-id="a34a8-395">Name</span></span> | <span data-ttu-id="a34a8-396">*이름 제공*</span><span class="sxs-lookup"><span data-stu-id="a34a8-396">*Provide a name*</span></span> | <span data-ttu-id="a34a8-397">예: "AAD로 아웃바운드 - 사용자 PreferredDataLocation"</span><span class="sxs-lookup"><span data-stu-id="a34a8-397">For example, “Out to AAD – User PreferredDataLocation”</span></span> |
    | <span data-ttu-id="a34a8-398">설명</span><span class="sxs-lookup"><span data-stu-id="a34a8-398">Description</span></span> | <span data-ttu-id="a34a8-399">*설명 제공*</span><span class="sxs-lookup"><span data-stu-id="a34a8-399">*Provide a description*</span></span> |
    | <span data-ttu-id="a34a8-400">연결된 시스템</span><span class="sxs-lookup"><span data-stu-id="a34a8-400">Connected System</span></span> | <span data-ttu-id="a34a8-401">*AAD 커넥터 선택*</span><span class="sxs-lookup"><span data-stu-id="a34a8-401">*Select the AAD connector*</span></span> |
    | <span data-ttu-id="a34a8-402">연결된 시스템 개체 유형</span><span class="sxs-lookup"><span data-stu-id="a34a8-402">Connected System Object Type</span></span> | <span data-ttu-id="a34a8-403">사용자</span><span class="sxs-lookup"><span data-stu-id="a34a8-403">User</span></span> ||
    | <span data-ttu-id="a34a8-404">메타버스 개체 유형</span><span class="sxs-lookup"><span data-stu-id="a34a8-404">Metaverse Object Type</span></span> | <span data-ttu-id="a34a8-405">**Person**</span><span class="sxs-lookup"><span data-stu-id="a34a8-405">**Person**</span></span> ||
    | <span data-ttu-id="a34a8-406">링크 형식</span><span class="sxs-lookup"><span data-stu-id="a34a8-406">Link Type</span></span> | <span data-ttu-id="a34a8-407">**Join**</span><span class="sxs-lookup"><span data-stu-id="a34a8-407">**Join**</span></span> ||
    | <span data-ttu-id="a34a8-408">우선 순위</span><span class="sxs-lookup"><span data-stu-id="a34a8-408">Precedence</span></span> | <span data-ttu-id="a34a8-409">*1-99 사이의 숫자 선택*</span><span class="sxs-lookup"><span data-stu-id="a34a8-409">*Choose a number between 1 – 99*</span></span> | <span data-ttu-id="a34a8-410">1-99는 사용자 지정 동기화 규칙을 위해 예약되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-410">1 – 99 is reserved for custom sync rules.</span></span> <span data-ttu-id="a34a8-411">다른 동기화 규칙에서 사용하는 값은 선택하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-411">YDo not pick a value that is used by another synchronization rule.</span></span> |

5. <span data-ttu-id="a34a8-412">**범위 지정 필터** 탭으로 이동하여 **다음 두 절이 있는 단일 범위 지정 필터 그룹**을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-412">Go to the **Scoping filter** tab and add a **single scoping filter group with two clauses**:</span></span>
 
    | <span data-ttu-id="a34a8-413">특성</span><span class="sxs-lookup"><span data-stu-id="a34a8-413">Attribute</span></span> | <span data-ttu-id="a34a8-414">연산자</span><span class="sxs-lookup"><span data-stu-id="a34a8-414">Operator</span></span> | <span data-ttu-id="a34a8-415">값</span><span class="sxs-lookup"><span data-stu-id="a34a8-415">Value</span></span> |
    | --- | --- | --- |
    | <span data-ttu-id="a34a8-416">sourceObjectType</span><span class="sxs-lookup"><span data-stu-id="a34a8-416">sourceObjectType</span></span> | <span data-ttu-id="a34a8-417">EQUAL</span><span class="sxs-lookup"><span data-stu-id="a34a8-417">EQUAL</span></span> | <span data-ttu-id="a34a8-418">사용자</span><span class="sxs-lookup"><span data-stu-id="a34a8-418">User</span></span> |
    | <span data-ttu-id="a34a8-419">cloudMastered</span><span class="sxs-lookup"><span data-stu-id="a34a8-419">cloudMastered</span></span> | <span data-ttu-id="a34a8-420">NOTEQUAL</span><span class="sxs-lookup"><span data-stu-id="a34a8-420">NOTEQUAL</span></span> | <span data-ttu-id="a34a8-421">True</span><span class="sxs-lookup"><span data-stu-id="a34a8-421">True</span></span> |

    <span data-ttu-id="a34a8-422">범위 지정 필터는 이 아웃바운드 동기화 규칙이 적용되는 Azure AD 개체를 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-422">Scoping filter determines which Azure AD objects this outbound synchronization rule is applied to.</span></span> <span data-ttu-id="a34a8-423">이 예제에서는 "AD로 아웃바운드 - 사용자 ID" OOB 동기화 규칙과 동일한 범위 지정 필터를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-423">In this example, we use the same scoping filter from “Out to AD – User Identity” OOB synchronization rule.</span></span> <span data-ttu-id="a34a8-424">온-프레미스 Active Directory와 동기화되지 않은 User 개체에 동기화 규칙이 적용되지 않도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-424">It prevents the synchronization rule from being applied to User objects which are not synchronized from on-premises Active Directory.</span></span> <span data-ttu-id="a34a8-425">Azure AD Connect 배포에 따라 범위 지정 필터를 조정해야 할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-425">You may need to tweak the scoping filter according to your Azure AD Connect deployment.</span></span>
    
6. <span data-ttu-id="a34a8-426">**변환 탭**으로 이동하여 다음 변환 규칙을 구현합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-426">Go to the **Transformation** tab and implement the following transformation rule:</span></span>

    | <span data-ttu-id="a34a8-427">흐름 형식</span><span class="sxs-lookup"><span data-stu-id="a34a8-427">Flow Type</span></span> | <span data-ttu-id="a34a8-428">대상 특성</span><span class="sxs-lookup"><span data-stu-id="a34a8-428">Target Attribute</span></span> | <span data-ttu-id="a34a8-429">원본</span><span class="sxs-lookup"><span data-stu-id="a34a8-429">Source</span></span> | <span data-ttu-id="a34a8-430">한 번 적용</span><span class="sxs-lookup"><span data-stu-id="a34a8-430">Apply Once</span></span> | <span data-ttu-id="a34a8-431">병합 종류</span><span class="sxs-lookup"><span data-stu-id="a34a8-431">Merge Type</span></span> |
    | --- | --- | --- | --- | --- |
    | <span data-ttu-id="a34a8-432">직접</span><span class="sxs-lookup"><span data-stu-id="a34a8-432">Direct</span></span> | <span data-ttu-id="a34a8-433">PreferredDataLocation</span><span class="sxs-lookup"><span data-stu-id="a34a8-433">PreferredDataLocation</span></span> | <span data-ttu-id="a34a8-434">PreferredDataLocation</span><span class="sxs-lookup"><span data-stu-id="a34a8-434">PreferredDataLocation</span></span> | <span data-ttu-id="a34a8-435">선택 취소됨</span><span class="sxs-lookup"><span data-stu-id="a34a8-435">Unchecked</span></span> | <span data-ttu-id="a34a8-436">업데이트</span><span class="sxs-lookup"><span data-stu-id="a34a8-436">Update</span></span> |

7. <span data-ttu-id="a34a8-437">**추가**를 클릭하여 아웃바운드 규칙을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-437">Close **Add** to create the outbound rule.</span></span>

![아웃바운드 동기화 규칙 만들기](./media/active-directory-aadconnectsync-change-the-configuration/preferredDataLocation-step5.png)

### <a name="step-6-run-full-synchronization-cycle"></a><span data-ttu-id="a34a8-439">6단계: 전체 동기화 주기 실행</span><span class="sxs-lookup"><span data-stu-id="a34a8-439">Step 6: Run Full Synchronization cycle</span></span>
<span data-ttu-id="a34a8-440">일반적으로 AD 및 Azure AD 커넥터 스키마 모두에 새 특성을 추가하고 사용자 지정 동기화 규칙을 도입했으므로 전체 동기화 주기가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-440">In general, full synchronization cycle is required since we have added new attributes to both the AD and Azure AD Connector schema, and introduced custom synchronization rules.</span></span> <span data-ttu-id="a34a8-441">Azure AD로 내보내기 전에 변경 내용을 확인하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-441">It is recommended that you verify the changes before exporting them to Azure AD.</span></span> <span data-ttu-id="a34a8-442">다음 단계를 사용하여 전체 동기화 주기를 구성하는 단계를 수동으로 실행하는 동안 변경 내용을 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-442">You can use the following steps to verify the changes while manually running the steps that make up a full synchronization cycle.</span></span> 

1. <span data-ttu-id="a34a8-443">**온-프레미스 AD 커넥터**에서 다음과 같이 **전체 가져오기** 단계를 실행합니다</span><span class="sxs-lookup"><span data-stu-id="a34a8-443">Run **Full import** step on the **on-premises AD Connector**:</span></span>

   1. <span data-ttu-id="a34a8-444">Synchronization Service Manager에 있는 **작업** 탭으로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-444">Go to the **Operations** tab in the Synchronization Service Manager.</span></span>

   2. <span data-ttu-id="a34a8-445">**온-프레미스 AD 커넥터**를 마우스 오른쪽 단추로 클릭하고 **실행...**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-445">Right-click on the **on-premises AD Connector** and select **Run...**</span></span>

   3. <span data-ttu-id="a34a8-446">팝업 대화 상자에서 **전체 가져오기**를 선택하고 **확인**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-446">In the pop-up dialog, select **Full Import** and click **OK**.</span></span>
    
   4. <span data-ttu-id="a34a8-447">작업이 완료될 때까지 기다립니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-447">Wait for operation to complete.</span></span>

    > [!NOTE]
    > <span data-ttu-id="a34a8-448">원본 특성이 가져온 특성 목록에 이미 포함되어 있으면 온-프레미스 AD 커넥터에서 전체 가져오기를 건너뛸 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-448">You can skip Full Import on the on-premises AD Connector if the source attribute is already included in the list of imported attributes.</span></span> <span data-ttu-id="a34a8-449">즉 [2단계: 온-프레미스 AD 커넥터 스키마에 원본 특성 추가](#step-2-add-the-source-attribute-to-the-on-premises-ad-connector-schema)에서 변경하지 않아도 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-449">In other words, you did not have to make any change during [Step 2: Add the source attribute to the on-premises AD Connector schema](#step-2-add-the-source-attribute-to-the-on-premises-ad-connector-schema).</span></span>

2. <span data-ttu-id="a34a8-450">**Azure AD 커넥터**에서 다음과 같이 **전체 가져오기** 단계를 실행합니다</span><span class="sxs-lookup"><span data-stu-id="a34a8-450">Run **Full import** step on the **Azure AD Connector**:</span></span>

   1. <span data-ttu-id="a34a8-451">**Azure AD 커넥터**를 마우스 오른쪽 단추로 클릭하고 **실행...**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-451">Right-click on the **Azure AD Connector** and select **Run...**</span></span>

   2. <span data-ttu-id="a34a8-452">팝업 대화 상자에서 **전체 가져오기**를 선택하고 **확인**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-452">In the pop-up dialog, select **Full Import** and click **OK**.</span></span>
   
   3. <span data-ttu-id="a34a8-453">작업이 완료될 때까지 기다립니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-453">Wait for operation to complete.</span></span>

3. <span data-ttu-id="a34a8-454">기존 User 개체에 대한 동기화 규칙 변경 내용을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-454">Verify the synchronization rule changes on an existing User object:</span></span>

<span data-ttu-id="a34a8-455">온-프레미스 Active Directory의 원본 특성과 Azure AD의 PreferredDataLocation을 각각의 커넥터 공간으로 가져왔습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-455">The source attribute from on-premises Active Directory and PreferredDataLocation from Azure AD have been imported into the respective Connecter Space.</span></span> <span data-ttu-id="a34a8-456">전체 동기화 단계를 진행하기 전에 온-프레미스 AD 커넥터 공간에 있는 기존 User 개체에 대해 **미리 보기**를 수행하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-456">Before proceeding with Full Synchronization step, it is recommended that you do a **Preview** on an existing User object in the on-premises AD Connector Space.</span></span> <span data-ttu-id="a34a8-457">선택한 개체에 원본 특성이 채워져야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-457">The object you picked should have the source attribute populated.</span></span> <span data-ttu-id="a34a8-458">PreferredDataLocation이 메타버스에 채워진 성공적인 **미리 보기**는 동기화 규칙을 올바르게 구성했음을 나타내는 좋은 지표입니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-458">A successful **Preview** with the PreferredDataLocation populated in the Metaverse is a good indicator that you have configured the synchronization rules correctly.</span></span> <span data-ttu-id="a34a8-459">**미리 보기**를 수행하는 방법에 대한 자세한 내용은 [변경 확인](#verify-the-change) 섹션을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="a34a8-459">For information about how to do a **Preview**, refer to section [Verify the change](#verify-the-change).</span></span>

4. <span data-ttu-id="a34a8-460">**온-프레미스 AD 커넥터**에서 다음과 같이 **전체 동기화** 단계를 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-460">Run **Full Synchronization** step on the **on-premises AD Connector**:</span></span>

   1. <span data-ttu-id="a34a8-461">**온-프레미스 AD 커넥터**를 마우스 오른쪽 단추로 클릭하고 **실행...**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-461">Right-click on the **on-premises AD Connector** and select **Run...**</span></span>
  
   2. <span data-ttu-id="a34a8-462">팝업 대화 상자에서 **전체 동기화**를 선택하고 **확인**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-462">In the pop-up dialog, select **Full Synchronization** and click **OK**.</span></span>
   
   3. <span data-ttu-id="a34a8-463">작업이 완료될 때까지 기다립니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-463">Wait for operation to complete.</span></span>

5. <span data-ttu-id="a34a8-464">Azure AD로의 **보류 중인 내보내기**를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-464">Verify **Pending Exports** to Azure AD:</span></span>

   1. <span data-ttu-id="a34a8-465">**Azure AD 커넥터**를 마우스 오른쪽 단추로 클릭하고 **커넥터 공간 검색**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-465">Right-click on the **Azure AD Connector** and select **Search Connector Space**.</span></span>

   2. <span data-ttu-id="a34a8-466">[커넥터 공간 검색] 팝업 대화 상자에서</span><span class="sxs-lookup"><span data-stu-id="a34a8-466">In the Search Connector Space pop-up dialog:</span></span>

      1. <span data-ttu-id="a34a8-467">**범위**를 **보류 중인 내보내기**로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-467">Set **Scope** to **Pending Export**.</span></span>
      
      2. <span data-ttu-id="a34a8-468">**추가, 수정 및 삭제**를 포함한 세 개의 확인란을 모두 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-468">Check all three checkboxes, including **Add, Modify, and Delete**.</span></span>
      
      3. <span data-ttu-id="a34a8-469">**검색** 단추를 클릭하여 내보낼 변경 내용이 있는 개체의 목록을 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-469">Click the **Search** button to get the list of objects with changes to be exported.</span></span> <span data-ttu-id="a34a8-470">지정된 개체에 대한 변경 내용을 검사하려면 해당 개체를 두 번 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-470">To examine the changes for a given object, double-click the object.</span></span>
      
      4. <span data-ttu-id="a34a8-471">필요한 변경 내용인지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-471">Verify the changes are expected.</span></span>

6. <span data-ttu-id="a34a8-472">**Azure AD 커넥터**에서 **내보내기** 단계를 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-472">Run **Export** step on the **Azure AD Connector**</span></span>
      
   1. <span data-ttu-id="a34a8-473">**Azure AD 커넥터**를 마우스 오른쪽 단추로 클릭하고 **실행...**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-473">Right-click the **Azure AD Connector** and select **Run...**</span></span>
   
   2. <span data-ttu-id="a34a8-474">[커넥터 실행] 팝업 대화 상자에서 **내보내기**를 선택하고 **확인**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-474">In the Run Connector pop-up dialog, select **Export** and click **OK**.</span></span>
   
   3. <span data-ttu-id="a34a8-475">Azure AD로 내보내기가 완료될 때까지 기다립니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-475">Wait for Export to Azure AD to complete.</span></span>

> [!NOTE]
> <span data-ttu-id="a34a8-476">Azure AD 커넥터에 전체 동기화 단계 및 내보내기 단계가 포함되지 않은 단계가 나타날 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-476">You may notice that the steps do not include the Full Synchronization step and Export step on the Azure AD Connector.</span></span> <span data-ttu-id="a34a8-477">특성 값이 온-프레미스 Active Directory에서 Azure AD로만 전달되기 때문에 이러한 단계가 필요하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-477">The steps are not required since the attribute values are flowing from on-premises Active Directory to Azure AD only.</span></span>

### <a name="step-7-re-enable-sync-scheduler"></a><span data-ttu-id="a34a8-478">7단계: 동기화 스케줄러를 다시 사용하도록 설정</span><span class="sxs-lookup"><span data-stu-id="a34a8-478">Step 7: Re-enable sync scheduler</span></span>
<span data-ttu-id="a34a8-479">기본 제공 동기화 스케줄러를 다시 사용하도록 설정하려면</span><span class="sxs-lookup"><span data-stu-id="a34a8-479">Re-enable the built-in sync scheduler:</span></span>

1. <span data-ttu-id="a34a8-480">PowerShell 세션을 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-480">Start PowerShell session.</span></span>

2. <span data-ttu-id="a34a8-481">cmdlet을 실행하여 예약된 동기화 다시 활성화: `Set-ADSyncScheduler -SyncCycleEnabled $true`</span><span class="sxs-lookup"><span data-stu-id="a34a8-481">Re-enable scheduled synchronization by running cmdlet: `Set-ADSyncScheduler -SyncCycleEnabled $true`</span></span>



## <a name="next-steps"></a><span data-ttu-id="a34a8-482">다음 단계</span><span class="sxs-lookup"><span data-stu-id="a34a8-482">Next steps</span></span>
* <span data-ttu-id="a34a8-483">[선언적 프로비전 이해](active-directory-aadconnectsync-understanding-declarative-provisioning.md)에서 구성 모델에 대해 자세히 알아봅니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-483">Read more about the configuration model in [Understanding Declarative Provisioning](active-directory-aadconnectsync-understanding-declarative-provisioning.md).</span></span>
* <span data-ttu-id="a34a8-484">[선언적 프로비전 식 이해](active-directory-aadconnectsync-understanding-declarative-provisioning-expressions.md)에서 식 언어에 대해 자세히 알아봅니다.</span><span class="sxs-lookup"><span data-stu-id="a34a8-484">Read more about the expression language in [Understanding Declarative Provisioning Expressions](active-directory-aadconnectsync-understanding-declarative-provisioning-expressions.md).</span></span>

<span data-ttu-id="a34a8-485">**개요 항목**</span><span class="sxs-lookup"><span data-stu-id="a34a8-485">**Overview topics**</span></span>

* [<span data-ttu-id="a34a8-486">Azure AD Connect 동기화: 동기화의 이해 및 사용자 지정</span><span class="sxs-lookup"><span data-stu-id="a34a8-486">Azure AD Connect sync: Understand and customize synchronization</span></span>](active-directory-aadconnectsync-whatis.md)
* [<span data-ttu-id="a34a8-487">Azure Active Directory와 온-프레미스 ID 통합</span><span class="sxs-lookup"><span data-stu-id="a34a8-487">Integrating your on-premises identities with Azure Active Directory</span></span>](active-directory-aadconnect.md)
