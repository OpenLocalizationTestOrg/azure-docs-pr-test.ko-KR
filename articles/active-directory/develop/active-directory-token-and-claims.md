---
title: "hello 다른 토큰 및 클레임 유형 Azure AD에서 지 원하는 대해서 aaaLearn | Microsoft Docs"
description: "이해 및 평가 hello SAML 2.0 및에서 Azure Active Directory (AAD)를 발급 하는 JSON 웹 토큰 (JWT) 토큰의 클레임을 hello에 대 한 가이드"
documentationcenter: na
author: dstrockis
services: active-directory
manager: mbaldwin
editor: 
ms.assetid: 166aa18e-1746-4c5e-b382-68338af921e2
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 02/08/2017
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: c512894476613e94d86a994c32a8459d6cf00fbd
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-token-reference"></a><span data-ttu-id="0af06-103">Azure AD 토큰 참조</span><span class="sxs-lookup"><span data-stu-id="0af06-103">Azure AD token reference</span></span>
<span data-ttu-id="0af06-104">Azure Active Directory (Azure AD) 여러 유형의 각 인증 흐름의 hello 처리의 보안 토큰을 내보냅니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-104">Azure Active Directory (Azure AD) emits several types of security tokens in hello processing of each authentication flow.</span></span> <span data-ttu-id="0af06-105">이 문서에서는 hello 형식, 보안 특성 및 각 유형의 토큰의 내용을 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-105">This document describes hello format, security characteristics, and contents of each type of token.</span></span>

## <a name="types-of-tokens"></a><span data-ttu-id="0af06-106">토큰 형식</span><span class="sxs-lookup"><span data-stu-id="0af06-106">Types of tokens</span></span>
<span data-ttu-id="0af06-107">Azure AD에서는 hello 지원 [OAuth 2.0 권한 부여 프로토콜](active-directory-protocols-oauth-code.md)를 사용 하는 access_tokens와 refresh_tokens 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-107">Azure AD supports hello [OAuth 2.0 authorization protocol](active-directory-protocols-oauth-code.md), which makes use of both access_tokens and refresh_tokens.</span></span>  <span data-ttu-id="0af06-108">또한 인증 및 로그인을 통해 지원 [OpenID Connect](active-directory-protocols-openid-connect-code.md), 세 번째 유형의 토큰을 hello id_token 도입 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-108">It also supports authentication and sign-in via [OpenID Connect](active-directory-protocols-openid-connect-code.md), which introduces a third type of token, hello id_token.</span></span>  <span data-ttu-id="0af06-109">이러한 토큰은 각각 "전달자 토큰"으로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-109">Each of these tokens is represented as a "bearer token".</span></span>

<span data-ttu-id="0af06-110">전달자 토큰은 보호 된 리소스를 부여 "전달자" 액세스 tooa hello 하는 경량 보안 토큰입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-110">A bearer token is a lightweight security token that grants hello “bearer” access tooa protected resource.</span></span> <span data-ttu-id="0af06-111">이 전반에 "bearer" hello hello 토큰을 제공할 수 있는 당사자입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-111">In this sense, hello “bearer” is any party that can present hello token.</span></span> <span data-ttu-id="0af06-112">Azure ad는 인증에 필요 하지만 tooreceive 전달자 토큰을 요청, 단계를 수행 해야 toosecure hello 토큰, tooprevent 인터 셉 션 의도 하지 않은 당사자가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-112">Though authentication with Azure AD is required in order tooreceive a bearer token, steps must be taken toosecure hello token, tooprevent interception by an unintended party.</span></span> <span data-ttu-id="0af06-113">전달자 토큰을 사용 하 여 기본 제공 메커니즘 tooprevent 권한이 없는 당사자 없으므로 전송 계층 보안 (HTTPS)와 같은 보안 채널에서 전송 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-113">Because bearer tokens do not have a built-in mechanism tooprevent unauthorized parties from using them, they must be transported in a secure channel such as transport layer security (HTTPS).</span></span> <span data-ttu-id="0af06-114">전달자 토큰 지우기 hello에 전송 되기 매뉴얼에 hello 중간 공격의 사용된 tooacquire hello 토큰 수 있으며이 무단된 액세스 tooa 보호 된 리소스를 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-114">If a bearer token is transmitted in hello clear, a man-in hello middle attack can be used tooacquire hello token and gain unauthorized access tooa protected resource.</span></span> <span data-ttu-id="0af06-115">hello 저장 하거나 나중에 사용 하기 위해 전달자 토큰을 캐시 하는 경우 동일한 보안 원칙이 적용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-115">hello same security principles apply when storing or caching bearer tokens for later use.</span></span> <span data-ttu-id="0af06-116">항상 앱이 안전한 방식으로 전달자 토큰을 전송하고 저장하도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-116">Always ensure that your app transmits and stores bearer tokens in a secure manner.</span></span> <span data-ttu-id="0af06-117">전달자 토큰의 보안 고려 사항을 자세히 알아보려면 [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0af06-117">For more security considerations on bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="0af06-118">다양 한 Azure AD에서 발급 한 hello 토큰 JSON 웹 토큰 또는 Jwt로 구현 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-118">Many of hello tokens issued by Azure AD are implemented as JSON Web Tokens, or JWTs.</span></span>  <span data-ttu-id="0af06-119">JWT는 두 요소 간에 정보를 전송하는 URL로부터 안전한 간단한 수단입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-119">A JWT is a compact, URL-safe means of transferring information between two parties.</span></span>  <span data-ttu-id="0af06-120">Jwt에 포함 된 hello 정보 hello 전달자 및 hello 토큰의 주체에 대 한 한 정보 어설션 또는 "클레임"으로 알려져 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-120">hello information contained in JWTs are known as "claims", or assertions of information about hello bearer and subject of hello token.</span></span>  <span data-ttu-id="0af06-121">Jwt의 hello 클레임은 JSON 개체 인코딩되고 전송을 위해 serialize 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-121">hello claims in JWTs are JSON objects encoded and serialized for transmission.</span></span>  <span data-ttu-id="0af06-122">Azure AD에서 발급 하는 hello Jwt는 서명 되었지만 암호화 되지, 이후 디버깅을 위해 JWT의 hello 내용의 쉽게 검사할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-122">Since hello JWTs issued by Azure AD are signed, but not encrypted, you can easily inspect hello contents of a JWT for debugging purposes.</span></span>  <span data-ttu-id="0af06-123">[jwt.calebb.net](http://jwt.calebb.net)등 이러한 작업에 사용할 수 있는 여러 도구가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-123">There are several tools available for doing so, such as [jwt.calebb.net](http://jwt.calebb.net).</span></span> <span data-ttu-id="0af06-124">Jwt에 대 한 자세한 내용은 toohello를 참조할 수 있습니다 [JWT 사양의](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html)합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-124">For more information on JWTs, you can refer toohello [JWT specification](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span></span>

## <a name="idtokens"></a><span data-ttu-id="0af06-125">Id_tokens</span><span class="sxs-lookup"><span data-stu-id="0af06-125">Id_tokens</span></span>
<span data-ttu-id="0af06-126">id_token은 [OpenID Connect](active-directory-protocols-openid-connect-code.md)를 사용하여 인증을 수행할 때 앱이 받는 로그인 보안 토큰의 한 형태입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-126">Id_tokens are a form of sign-in security token that your app receives when performing authentication using [OpenID Connect](active-directory-protocols-openid-connect-code.md).</span></span>  <span data-ttu-id="0af06-127">으로 표현 됩니다 [Jwt](#types-of-tokens), 응용 프로그램에 hello 사용자를 로그인에 사용할 수 있는 클레임을 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-127">They are represented as [JWTs](#types-of-tokens), and contain claims that you can use for signing hello user into your app.</span></span>  <span data-ttu-id="0af06-128">계정 정보를 표시 하거나 응용 프로그램의 액세스 제어 결정에 사용 되는 일반적으로 나타나며로 id_token에 hello 클레임을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-128">You can use hello claims in an id_token as you see fit - commonly they are used for displaying account information or making access control decisions in an app.</span></span>

<span data-ttu-id="0af06-129">지금은 Id_token이 서명되었지만 암호화되지 않았습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-129">Id_tokens are signed, but not encrypted at this time.</span></span>  <span data-ttu-id="0af06-130">앱 프로그램 id_token를 받으면 다음 조건을 충족 해야 [hello 서명 유효성 검사](#validating-tokens) tooprove 토큰의 신뢰성을 hello 및 값이 유효한 토큰 tooprove hello에에서 몇 가지 클레임 유효성을 검사 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-130">When your app receives an id_token, it must [validate hello signature](#validating-tokens) tooprove hello token's authenticity and validate a few claims in hello token tooprove its validity.</span></span>  <span data-ttu-id="0af06-131">hello 응용 프로그램에서 유효성을 검사 하는 클레임 시나리오 요구 사항에 따라 다르지만 일부 [일반 클레임 유효성 검사](#validating-tokens) 앱 모든 시나리오에서 수행 해야 하는 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-131">hello claims validated by an app vary depending on scenario requirements, but there are some [common claim validations](#validating-tokens) that your app must perform in every scenario.</span></span>

<span data-ttu-id="0af06-132">Hello 샘플 id_token: id_tokens 클레임에 다음 정보에 대 한 단원을 참조 하십시오.</span><span class="sxs-lookup"><span data-stu-id="0af06-132">See hello following section for information on id_tokens claims, as well as a sample id_token.</span></span>  <span data-ttu-id="0af06-133">Hello 클레임 id_tokens에서 특정 순서로 반환 되지 않습니다는 참고 사항</span><span class="sxs-lookup"><span data-stu-id="0af06-133">Note that hello claims in id_tokens are not returned in any particular order.</span></span>  <span data-ttu-id="0af06-134">또한 언제든지 id_token에 새 클레임이 도입될 수 있으므로 새 클레임이 도입될 때 앱이 손상되지 않아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-134">In addition, new claims can be introduced into id_tokens at any point in time - your app should not break as new claims are introduced.</span></span>  <span data-ttu-id="0af06-135">hello 다음 목록에 포함 되어 앱이이 작성 hello 시점에 안정적으로 해석할 수 있는 hello 클레임입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-135">hello following list includes hello claims that your app can reliably interpret at hello time of this writing.</span></span>  <span data-ttu-id="0af06-136">하는 경우 필요에 따라 더 많은 세부 정보에서에서 확인할 수 있습니다 hello [OpenID Connect 사양](http://openid.net/specs/openid-connect-core-1_0.html)합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-136">If necessary, even more detail can be found in hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>

#### <a name="sample-idtoken"></a><span data-ttu-id="0af06-137">샘플 id_token</span><span class="sxs-lookup"><span data-stu-id="0af06-137">Sample id_token</span></span>
```
eyJ0eXAiOiJKV1QiLCJhbGciOiJub25lIn0.eyJhdWQiOiIyZDRkMTFhMi1mODE0LTQ2YTctODkwYS0yNzRhNzJhNzMwOWUiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC83ZmU4MTQ0Ny1kYTU3LTQzODUtYmVjYi02ZGU1N2YyMTQ3N2UvIiwiaWF0IjoxMzg4NDQwODYzLCJuYmYiOjEzODg0NDA4NjMsImV4cCI6MTM4ODQ0NDc2MywidmVyIjoiMS4wIiwidGlkIjoiN2ZlODE0NDctZGE1Ny00Mzg1LWJlY2ItNmRlNTdmMjE0NzdlIiwib2lkIjoiNjgzODlhZTItNjJmYS00YjE4LTkxZmUtNTNkZDEwOWQ3NGY1IiwidXBuIjoiZnJhbmttQGNvbnRvc28uY29tIiwidW5pcXVlX25hbWUiOiJmcmFua21AY29udG9zby5jb20iLCJzdWIiOiJKV3ZZZENXUGhobHBTMVpzZjd5WVV4U2hVd3RVbTV5elBtd18talgzZkhZIiwiZmFtaWx5X25hbWUiOiJNaWxsZXIiLCJnaXZlbl9uYW1lIjoiRnJhbmsifQ.
```

> [!TIP]
> <span data-ttu-id="0af06-138">연습에 붙여 넣어 하 여 hello 샘플 id_token의 hello 클레임을 검사를 시도 [calebb.net](http://jwt.calebb.net)합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-138">For practice, try inspecting hello claims in hello sample id_token by pasting it into [calebb.net](http://jwt.calebb.net).</span></span>
> 
> 

#### <a name="claims-in-idtokens"></a><span data-ttu-id="0af06-139">id_token의 클레임</span><span class="sxs-lookup"><span data-stu-id="0af06-139">Claims in id_tokens</span></span>
> [!div class="mx-codeBreakAll"]
| <span data-ttu-id="0af06-140">JWT 클레임</span><span class="sxs-lookup"><span data-stu-id="0af06-140">JWT Claim</span></span> | <span data-ttu-id="0af06-141">Name</span><span class="sxs-lookup"><span data-stu-id="0af06-141">Name</span></span> | <span data-ttu-id="0af06-142">설명</span><span class="sxs-lookup"><span data-stu-id="0af06-142">Description</span></span> |
| --- | --- | --- |
| `appid` |<span data-ttu-id="0af06-143">응용 프로그램 UI</span><span class="sxs-lookup"><span data-stu-id="0af06-143">Application ID</span></span> |<span data-ttu-id="0af06-144">Hello 토큰 tooaccess 리소스를 사용 하는 hello 응용 프로그램을 식별 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-144">Identifies hello application that is using hello token tooaccess a resource.</span></span> <span data-ttu-id="0af06-145">hello 응용 프로그램은 자체적으로 또는 사용자를 대신 하 여 작동할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-145">hello application can act as itself or on behalf of a user.</span></span> <span data-ttu-id="0af06-146">hello 응용 프로그램 ID를 일반적으로 응용 프로그램 개체를 나타내지만 Azure AD에서 서비스 사용자 개체를 나타낼 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-146">hello application ID typically represents an application object, but it can also represent a service principal object in Azure AD.</span></span> <br><br> <span data-ttu-id="0af06-147">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-147">**Example JWT Value**:</span></span> <br> `"appid":"15CB020F-3984-482A-864D-1D92265E8268"` |
| `aud` |<span data-ttu-id="0af06-148">대상</span><span class="sxs-lookup"><span data-stu-id="0af06-148">Audience</span></span> |<span data-ttu-id="0af06-149">hello는 hello 토큰의 올바른 받는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-149">hello intended recipient of hello token.</span></span> <span data-ttu-id="0af06-150">hello 토큰을 수신 하는 hello 응용 프로그램 hello 대상 그룹 값이 올바른지와 다른 대상 그룹을 위한 토큰을 거부 있는지 확인 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-150">hello application that receives hello token must verify that hello audience value is correct and reject any tokens intended for a different audience.</span></span> <br><br> <span data-ttu-id="0af06-151">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-151">**Example SAML Value**:</span></span> <br> `<AudienceRestriction>`<br>`<Audience>`<br>`https://contoso.com`<br>`</Audience>`<br>`</AudienceRestriction>` <br><br> <span data-ttu-id="0af06-152">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-152">**Example JWT Value**:</span></span> <br> `"aud":"https://contoso.com"` |
| `appidacr` |<span data-ttu-id="0af06-153">응용 프로그램 인증 컨텍스트 클래스 참조</span><span class="sxs-lookup"><span data-stu-id="0af06-153">Application Authentication Context Class Reference</span></span> |<span data-ttu-id="0af06-154">Hello 클라이언트 인증 된 방법을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-154">Indicates how hello client was authenticated.</span></span> <span data-ttu-id="0af06-155">공용 클라이언트 hello 값은 0입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-155">For a public client, hello value is 0.</span></span> <span data-ttu-id="0af06-156">클라이언트 ID 및 클라이언트 암호를 사용 하는 경우 hello 값은 1입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-156">If client ID and client secret are used, hello value is 1.</span></span> <br><br> <span data-ttu-id="0af06-157">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-157">**Example JWT Value**:</span></span> <br> `"appidacr": "0"` |
| `acr` |<span data-ttu-id="0af06-158">인증 컨텍스트 클래스 참조</span><span class="sxs-lookup"><span data-stu-id="0af06-158">Authentication Context Class Reference</span></span> |<span data-ttu-id="0af06-159">Hello 응용 프로그램 인증 컨텍스트 클래스 참조 클레임에 대 한 것과 반대로 toohello 클라이언트로으로 hello 주체가 인증 된는 방법을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-159">Indicates how hello subject was authenticated, as opposed toohello client in hello Application Authentication Context Class Reference claim.</span></span> <span data-ttu-id="0af06-160">값이 "0" hello 최종 사용자 인증이 ISO/IEC 29115의 hello 요구 사항을 충족 하지 않는 것을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-160">A value of "0" indicates hello end-user authentication did not meet hello requirements of ISO/IEC 29115.</span></span> <br><br> <span data-ttu-id="0af06-161">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-161">**Example JWT Value**:</span></span> <br> `"acr": "0"` |
| <span data-ttu-id="0af06-162">인증 인스턴트</span><span class="sxs-lookup"><span data-stu-id="0af06-162">Authentication Instant</span></span> |<span data-ttu-id="0af06-163">레코드에는 날짜 및 인증 발생 했을 때 hello 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-163">Records hello date and time when authentication occurred.</span></span> <br><br> <span data-ttu-id="0af06-164">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-164">**Example SAML Value**:</span></span> <br> `<AuthnStatement AuthnInstant="2011-12-29T05:35:22.000Z">` | |
| `amr` |<span data-ttu-id="0af06-165">인증 방법</span><span class="sxs-lookup"><span data-stu-id="0af06-165">Authentication Method</span></span> |<span data-ttu-id="0af06-166">Hello 토큰의 주체 hello 인증 된 방법을 식별 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-166">Identifies how hello subject of hello token was authenticated.</span></span> <br><br> <span data-ttu-id="0af06-167">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-167">**Example SAML Value**:</span></span> <br> `<AuthnContextClassRef>`<br>`http://schemas.microsoft.com/ws/2008/06/identity/claims/authenticationmethod/password`<br>`</AuthnContextClassRef>` <br><br> <span data-ttu-id="0af06-168">**JWT 값 예제**: `“amr”: ["pwd"]`</span><span class="sxs-lookup"><span data-stu-id="0af06-168">**Example JWT Value**: `“amr”: ["pwd"]`</span></span> |
| `given_name` |<span data-ttu-id="0af06-169">이름</span><span class="sxs-lookup"><span data-stu-id="0af06-169">First Name</span></span> |<span data-ttu-id="0af06-170">Hello Azure AD 사용자 개체에 설정 된 대로 먼저 또는 "지정 된" hello 사용자의 이름 hello를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-170">Provides hello first or "given" name of hello user, as set on hello Azure AD user object.</span></span> <br><br> <span data-ttu-id="0af06-171">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-171">**Example SAML Value**:</span></span> <br> `<Attribute Name=”http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname”>`<br>`<AttributeValue>Frank<AttributeValue>` <br><br> <span data-ttu-id="0af06-172">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-172">**Example JWT Value**:</span></span> <br> `"given_name": "Frank"` |
| `groups` |<span data-ttu-id="0af06-173">그룹</span><span class="sxs-lookup"><span data-stu-id="0af06-173">Groups</span></span> |<span data-ttu-id="0af06-174">Hello 주체의 그룹 멤버 자격을 나타내는 개체 Id를 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-174">Provides object IDs that represent hello subject's group memberships.</span></span> <span data-ttu-id="0af06-175">이러한 값이 고유 (개체 ID 참조) 되어 권한 부여 tooaccess 리소스를 적용 하는 등의 액세스를 관리 하기 위한 안전 하 게 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-175">These values are unique (see Object ID) and can be safely used for managing access, such as enforcing authorization tooaccess a resource.</span></span> <span data-ttu-id="0af06-176">hello 그룹 클레임에 포함 된 hello 그룹 hello 응용 프로그램 매니페스트의 "groupMembershipClaims" 속성 hello 통해 응용 프로그램 단위 별로 구성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-176">hello groups included in hello groups claim are configured on a per-application basis, through hello "groupMembershipClaims" property of hello application manifest.</span></span> <span data-ttu-id="0af06-177">Null 값은 모든 그룹을 제외하고, "SecurityGroup" 값은 Active Directory 보안 그룹 멤버 자격만 포함하고, "All" 값은 보안 그룹과 Office 365 메일 그룹을 모두 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-177">A value of null will exclude all groups, a value of "SecurityGroup" will include only Active Directory Security Group memberships, and a value of "All" will include both Security Groups and Office 365 Distribution Lists.</span></span> <br><br> <span data-ttu-id="0af06-178">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-178">**Example SAML Value**:</span></span> <br> `<Attribute Name="http://schemas.microsoft.com/ws/2008/06/identity/claims/groups">`<br>`<AttributeValue>07dd8a60-bf6d-4e17-8844-230b77145381</AttributeValue>` <br><br> <span data-ttu-id="0af06-179">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-179">**Example JWT Value**:</span></span> <br> `“groups”: ["0e129f5b-6b0a-4944-982d-f776045632af", … ]` |
| `idp` |<span data-ttu-id="0af06-180">ID 공급자</span><span class="sxs-lookup"><span data-stu-id="0af06-180">Identity Provider</span></span> |<span data-ttu-id="0af06-181">Hello 토큰의 hello 주체를 인증 하는 레코드 hello id 공급자입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-181">Records hello identity provider that authenticated hello subject of hello token.</span></span> <span data-ttu-id="0af06-182">이 값은 동일한 toohello hello hello 사용자 계정을 hello 발급자는 다른 테 넌 트에 있지 않으면 발급자 클레임 값입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-182">This value is identical toohello value of hello Issuer claim unless hello user account is in a different tenant than hello issuer.</span></span> <br><br> <span data-ttu-id="0af06-183">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-183">**Example SAML Value**:</span></span> <br> `<Attribute Name=” http://schemas.microsoft.com/identity/claims/identityprovider”>`<br>`<AttributeValue>https://sts.windows.net/cbb1a5ac-f33b-45fa-9bf5-f37db0fed422/<AttributeValue>` <br><br> <span data-ttu-id="0af06-184">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-184">**Example JWT Value**:</span></span> <br> `"idp":”https://sts.windows.net/cbb1a5ac-f33b-45fa-9bf5-f37db0fed422/”` |
| `iat` |<span data-ttu-id="0af06-185">IssuedAt</span><span class="sxs-lookup"><span data-stu-id="0af06-185">IssuedAt</span></span> |<span data-ttu-id="0af06-186">Hello는 hello 토큰 발급 된 시간을 저장 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-186">Stores hello time at which hello token was issued.</span></span> <span data-ttu-id="0af06-187">것이 사용 되는 toomeasure 토큰 새로 고침입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-187">It is often used toomeasure token freshness.</span></span> <br><br> <span data-ttu-id="0af06-188">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-188">**Example SAML Value**:</span></span> <br> `<Assertion ID="_d5ec7a9b-8d8f-4b44-8c94-9812612142be" IssueInstant="2014-01-06T20:20:23.085Z" Version="2.0" xmlns="urn:oasis:names:tc:SAML:2.0:assertion">` <br><br> <span data-ttu-id="0af06-189">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-189">**Example JWT Value**:</span></span> <br> `"iat": 1390234181` |
| `iss` |<span data-ttu-id="0af06-190">발급자</span><span class="sxs-lookup"><span data-stu-id="0af06-190">Issuer</span></span> |<span data-ttu-id="0af06-191">Hello 보안 토큰 서비스 (STS)를 생성 하 고 hello 토큰을 반환 하는 식별 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-191">Identifies hello security token service (STS) that constructs and returns hello token.</span></span> <span data-ttu-id="0af06-192">Azure AD에서 반환 하는 hello 토큰, hello 발급자는 sts.windows.net입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-192">In hello tokens that Azure AD returns, hello issuer is sts.windows.net.</span></span> <span data-ttu-id="0af06-193">hello GUID hello 발급자 클레임 값에는 hello Azure AD 디렉터리의 hello 테 넌 트 ID입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-193">hello GUID in hello Issuer claim value is hello tenant ID of hello Azure AD directory.</span></span> <span data-ttu-id="0af06-194">hello 테 넌 트 ID는 hello 디렉터리의 사용 되는 신뢰할 수 있는 변경할 수 없는 식별자입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-194">hello tenant ID is an immutable and reliable identifier of hello directory.</span></span> <br><br> <span data-ttu-id="0af06-195">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-195">**Example SAML Value**:</span></span> <br> `<Issuer>https://sts.windows.net/cbb1a5ac-f33b-45fa-9bf5-f37db0fed422/</Issuer>` <br><br> <span data-ttu-id="0af06-196">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-196">**Example JWT Value**:</span></span> <br>  `"iss":”https://sts.windows.net/cbb1a5ac-f33b-45fa-9bf5-f37db0fed422/”` |
| `family_name` |<span data-ttu-id="0af06-197">성</span><span class="sxs-lookup"><span data-stu-id="0af06-197">Last Name</span></span> |<span data-ttu-id="0af06-198">Hello Azure AD 사용자 개체에 정의 된 hello 마지막 이름, 성 또는 hello 사용자의 성을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-198">Provides hello last name, surname, or family name of hello user as defined in hello Azure AD user object.</span></span> <br><br> <span data-ttu-id="0af06-199">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-199">**Example SAML Value**:</span></span> <br> `<Attribute Name=” http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname”>`<br>`<AttributeValue>Miller<AttributeValue>` <br><br> <span data-ttu-id="0af06-200">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-200">**Example JWT Value**:</span></span> <br> `"family_name": "Miller"` |
| `unique_name` |<span data-ttu-id="0af06-201">이름</span><span class="sxs-lookup"><span data-stu-id="0af06-201">Name</span></span> |<span data-ttu-id="0af06-202">Hello 토큰의 hello 주체를 식별 하는 사람이 읽을 수 있는 값을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-202">Provides a human readable value that identifies hello subject of hello token.</span></span> <span data-ttu-id="0af06-203">이 값은 정확 하지 toobe 테 넌 트 내에서 고유 않으며 설계 된 toobe 표시 용도로 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-203">This value is not guaranteed toobe unique within a tenant and is designed toobe used only for display purposes.</span></span> <br><br> <span data-ttu-id="0af06-204">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-204">**Example SAML Value**:</span></span> <br> `<Attribute Name=”http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name”>`<br>`<AttributeValue>frankm@contoso.com<AttributeValue>` <br><br> <span data-ttu-id="0af06-205">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-205">**Example JWT Value**:</span></span> <br> `"unique_name": "frankm@contoso.com"` |
| `oid` |<span data-ttu-id="0af06-206">개체 ID</span><span class="sxs-lookup"><span data-stu-id="0af06-206">Object ID</span></span> |<span data-ttu-id="0af06-207">Azure AD 개체의 고유 식별자를 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-207">Contains a unique identifier of an object in Azure AD.</span></span> <span data-ttu-id="0af06-208">이 값은 변경할 수 없으며 재할당 또는 재사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-208">This value is immutable and cannot be reassigned or reused.</span></span> <span data-ttu-id="0af06-209">쿼리 tooAzure AD에서에서 hello 개체 ID tooidentify 개체를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-209">Use hello object ID tooidentify an object in queries tooAzure AD.</span></span> <br><br> <span data-ttu-id="0af06-210">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-210">**Example SAML Value**:</span></span> <br> `<Attribute Name="http://schemas.microsoft.com/identity/claims/objectidentifier">`<br>`<AttributeValue>528b2ac2-aa9c-45e1-88d4-959b53bc7dd0<AttributeValue>` <br><br> <span data-ttu-id="0af06-211">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-211">**Example JWT Value**:</span></span> <br> `"oid":"528b2ac2-aa9c-45e1-88d4-959b53bc7dd0"` |
| `roles` |<span data-ttu-id="0af06-212">역할</span><span class="sxs-lookup"><span data-stu-id="0af06-212">Roles</span></span> |<span data-ttu-id="0af06-213">액세스 제어를 받는 hello 하는 모든 응용 프로그램 역할 그룹 멤버 자격을 통해 직접 / 간접적으로 부여 된 및 역할 기반 사용된 tooenforce 수를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-213">Represents all application roles that hello subject has been granted both directly and indirectly through group membership and can be used tooenforce role-based access control.</span></span> <span data-ttu-id="0af06-214">Hello 통해 응용 프로그램 별로 응용 프로그램 역할을 정의 `appRoles` hello 응용 프로그램 매니페스트의 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-214">Application roles are defined on a per-application basis, through hello `appRoles` property of hello application manifest.</span></span> <span data-ttu-id="0af06-215">hello `value` 각 응용 프로그램 역할의 속성은 hello 역할 클레임에 표시 되는 hello 값입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-215">hello `value` property of each application role is hello value that appears in hello roles claim.</span></span> <br><br> <span data-ttu-id="0af06-216">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-216">**Example SAML Value**:</span></span> <br> `<Attribute Name="http://schemas.microsoft.com/ws/2008/06/identity/claims/role">`<br>`<AttributeValue>Admin</AttributeValue>` <br><br> <span data-ttu-id="0af06-217">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-217">**Example JWT Value**:</span></span> <br> `“roles”: ["Admin", … ]` |
| `scp` |<span data-ttu-id="0af06-218">범위</span><span class="sxs-lookup"><span data-stu-id="0af06-218">Scope</span></span> |<span data-ttu-id="0af06-219">Hello 가장 권한이 부여 된 toohello 클라이언트 응용 프로그램을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-219">Indicates hello impersonation permissions granted toohello client application.</span></span> <span data-ttu-id="0af06-220">hello 기본 권한은 `user_impersonation`합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-220">hello default permission is `user_impersonation`.</span></span> <span data-ttu-id="0af06-221">리소스를 보호 하는 hello hello 소유자는 Azure AD에 추가 값을 등록할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-221">hello owner of hello secured resource can register additional values in Azure AD.</span></span> <br><br> <span data-ttu-id="0af06-222">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-222">**Example JWT Value**:</span></span> <br> `"scp": "user_impersonation"` |
| `sub` |<span data-ttu-id="0af06-223">제목</span><span class="sxs-lookup"><span data-stu-id="0af06-223">Subject</span></span> |<span data-ttu-id="0af06-224">Hello 보안 주체는 hello에 대 한 토큰 어설션 응용 프로그램의 hello 사용자 등의 정보를 식별 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-224">Identifies hello principal about which hello token asserts information, such as hello user of an application.</span></span> <span data-ttu-id="0af06-225">이 값은 변경할 수 없습니다 및 할당할 수 없습니다 또는 계속 사용 하므로 것이 권한 부여 확인을 사용 하는 tooperform 안전 하 게 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-225">This value is immutable and cannot be reassigned or reused, so it can be used tooperform authorization checks safely.</span></span> <span data-ttu-id="0af06-226">Hello 주체는 항상에 있기 때문에 hello hello Azure AD에서 발급 토큰, 범용 권한 부여 시스템에서이 값을 사용 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-226">Because hello subject is always present in hello tokens hello Azure AD issues, we recommended using this value in a general purpose authorization system.</span></span> <br> <span data-ttu-id="0af06-227">`SubjectConfirmation` 클레임이 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-227">`SubjectConfirmation` is not a claim.</span></span> <span data-ttu-id="0af06-228">Hello 토큰의 주체 hello 확인 하는 방법을 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-228">It describes how hello subject of hello token is verified.</span></span> <span data-ttu-id="0af06-229">`Bearer`hello 제목 hello 토큰 소유 여부를 통해 확인 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-229">`Bearer` indicates that hello subject is confirmed by their possession of hello token.</span></span> <br><br> <span data-ttu-id="0af06-230">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-230">**Example SAML Value**:</span></span> <br> `<Subject>`<br>`<NameID>S40rgb3XjhFTv6EQTETkEzcgVmToHKRkZUIsJlmLdVc</NameID>`<br>`<SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer" />`<br>`</Subject>` <br><br> <span data-ttu-id="0af06-231">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-231">**Example JWT Value**:</span></span> <br> `"sub":"92d0312b-26b9-4887-a338-7b00fb3c5eab"` |
| `tid` |<span data-ttu-id="0af06-232">테넌트 ID</span><span class="sxs-lookup"><span data-stu-id="0af06-232">Tenant ID</span></span> |<span data-ttu-id="0af06-233">Hello 토큰을 발급 한 hello 디렉터리 테 넌 트를 식별 하는 변경할 수 없는, 비-다시 사용할 수 있는 식별자입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-233">An immutable, non-reusable identifier that identifies hello directory tenant that issued hello token.</span></span> <span data-ttu-id="0af06-234">다중 테 넌 트 응용 프로그램에서이 값 tooaccess 테 넌 트 별 디렉터리 리소스를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-234">You can use this value tooaccess tenant-specific directory resources in a multi-tenant application.</span></span> <span data-ttu-id="0af06-235">예를 들어 호출 toohello Graph API에서에서이 값 tooidentify hello 테 넌 트를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-235">For example, you can use this value tooidentify hello tenant in a call toohello Graph API.</span></span> <br><br> <span data-ttu-id="0af06-236">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-236">**Example SAML Value**:</span></span> <br> `<Attribute Name=”http://schemas.microsoft.com/identity/claims/tenantid”>`<br>`<AttributeValue>cbb1a5ac-f33b-45fa-9bf5-f37db0fed422<AttributeValue>` <br><br> <span data-ttu-id="0af06-237">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-237">**Example JWT Value**:</span></span> <br> `"tid":"cbb1a5ac-f33b-45fa-9bf5-f37db0fed422"` |
| <span data-ttu-id="0af06-238">`nbf`, `exp`</span><span class="sxs-lookup"><span data-stu-id="0af06-238">`nbf`, `exp`</span></span> |<span data-ttu-id="0af06-239">토큰 수명</span><span class="sxs-lookup"><span data-stu-id="0af06-239">Token Lifetime</span></span> |<span data-ttu-id="0af06-240">Hello 유효한 시간 간격을 토큰을 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-240">Defines hello time interval within which a token is valid.</span></span> <span data-ttu-id="0af06-241">hello 토큰의 유효성을 검사 하는 hello 서비스는 hello hello 토큰 수명, 다른 hello 토큰을 거부 해야 내인지 현재 날짜를 확인 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-241">hello service that validates hello token should verify that hello current date is within hello token lifetime, else it should reject hello token.</span></span> <span data-ttu-id="0af06-242">hello 서비스 수에 대 한 hello 토큰 수명 범위 tooaccount toofive 분까지 시계 시간 ("시간 불일치")에서 모든 차이점에 대 한를 Azure AD 간의 및 hello 서비스입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-242">hello service might allow for up toofive minutes beyond hello token lifetime range tooaccount for any differences in clock time ("time skew") between Azure AD and hello service.</span></span> <br><br> <span data-ttu-id="0af06-243">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-243">**Example SAML Value**:</span></span> <br> `<Conditions`<br>`NotBefore="2013-03-18T21:32:51.261Z"`<br>`NotOnOrAfter="2013-03-18T22:32:51.261Z"`<br>`>` <br><br> <span data-ttu-id="0af06-244">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-244">**Example JWT Value**:</span></span> <br> `"nbf":1363289634, "exp":1363293234` |
| `upn` |<span data-ttu-id="0af06-245">사용자 계정 이름</span><span class="sxs-lookup"><span data-stu-id="0af06-245">User Principal Name</span></span> |<span data-ttu-id="0af06-246">저장소 hello hello 사용자 계정이의 사용자 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-246">Stores hello user name of hello user principal.</span></span><br><br> <span data-ttu-id="0af06-247">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-247">**Example JWT Value**:</span></span> <br> `"upn": frankm@contoso.com` |
| `ver` |<span data-ttu-id="0af06-248">버전</span><span class="sxs-lookup"><span data-stu-id="0af06-248">Version</span></span> |<span data-ttu-id="0af06-249">Hello 토큰의 hello 버전 번호를 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-249">Stores hello version number of hello token.</span></span> <br><br> <span data-ttu-id="0af06-250">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="0af06-250">**Example JWT Value**:</span></span> <br> `"ver": "1.0"` |

## <a name="access-tokens"></a><span data-ttu-id="0af06-251">액세스 토큰</span><span class="sxs-lookup"><span data-stu-id="0af06-251">Access tokens</span></span>
<span data-ttu-id="0af06-252">인증 성공 시 Azure AD 액세스 토큰을 사용 하는 tooaccess 보호 된 리소스 수를 반환 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-252">Upon successful authentication, Azure AD returns an access token, which can be used tooaccess protected resources.</span></span> <span data-ttu-id="0af06-253">hello 액세스 토큰이 base 64 인코딩 JSON 웹 토큰 (JWT) 및 디코더를 통해 실행 하 여 해당 내용을 검사할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-253">hello access token is a base 64 encoded JSON Web Token (JWT) and its contents can be inspected by running it through a decoder.</span></span>

<span data-ttu-id="0af06-254">하는 경우 앱에만 *사용 하 여* 액세스 토큰 tooget 액세스 tooAPIs, 있습니다 수 (및 해야) 액세스 토큰으로 처리 완전히 불투명-는 앱에서 HTTP 요청 tooresources를 전달할 수 있는 정당한 문자열입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-254">If your app only *uses* access tokens tooget access tooAPIs, you can (and should) treat access tokens as completely opaque - they are just strings which your app can pass tooresources in HTTP requests.</span></span>

<span data-ttu-id="0af06-255">액세스 토큰을 요청 하는 경우 Azure AD 응용 프로그램의 사용에 대 한 hello 액세스 토큰에 대 한 몇 가지 메타 데이터도 반환 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-255">When you request an access token, Azure AD also returns some metadata about hello access token for your app's consumption.</span></span>  <span data-ttu-id="0af06-256">이 정보에는 hello 액세스 토큰 및을 유효한 hello 범위 hello 만료 시간이 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-256">This information includes hello expiry time of hello access token and hello scopes for which it is valid.</span></span>  <span data-ttu-id="0af06-257">그러면 앱 tooperform tooparse 자체 hello 액세스 토큰을 열 필요 없이 액세스 토큰의 캐싱과 지능형 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-257">This allows your app tooperform intelligent caching of access tokens without having tooparse open hello access token itself.</span></span>

<span data-ttu-id="0af06-258">HTTP 요청에서 액세스 토큰을 필요로 하는 Azure AD로 보호 되는 API 앱을 사용 하는 경우 다음 수행 해야 유효성 검사 및 표시 하는 hello 토큰의 검사 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-258">If your app is an API protected with Azure AD that expects access tokens in HTTP requests, then you should perform validation and inspection of hello tokens you receive.</span></span> <span data-ttu-id="0af06-259">앱은 tooaccess 리소스를 사용 하기 전에 hello 액세스 토큰의 유효성 검사를 수행 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-259">Your app should perform validation of hello access token before using it tooaccess resources.</span></span> <span data-ttu-id="0af06-260">유효성 검사에 대한 자세한 내용은 [토큰 유효성 검사](#validating-tokens)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0af06-260">For more information on validation, please see [Validating Tokens](#validating-tokens).</span></span>  
<span data-ttu-id="0af06-261">Toodo.net이 참조에 대 한 내용은 [Azure AD에서 전달자 토큰을 사용 하 여 Web API 보호](active-directory-devquickstarts-webapi-dotnet.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-261">For details on how toodo this with .NET, see [Protect a Web API using Bearer tokens from Azure AD](active-directory-devquickstarts-webapi-dotnet.md).</span></span>

## <a name="refresh-tokens"></a><span data-ttu-id="0af06-262">새로 고침 토큰</span><span class="sxs-lookup"><span data-stu-id="0af06-262">Refresh tokens</span></span>

<span data-ttu-id="0af06-263">새로 고침 토큰은 응용 프로그램에서 사용할 수 있는 보안 토큰 tooacquire 새로운 액세스는 OAuth 2.0 흐름 토큰입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-263">Refresh tokens are security tokens, which your app can use tooacquire new access tokens in an OAuth 2.0 flow.</span></span>  <span data-ttu-id="0af06-264">사용자를 대신 하 여 응용 프로그램 tooachieve 장기 액세스 tooresources를 hello 사용자 상호 작용 없이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-264">It allows your app tooachieve long-term access tooresources on behalf of a user without requiring interaction by hello user.</span></span>

<span data-ttu-id="0af06-265">새로 고침 토큰은 다중 리소스입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-265">Refresh tokens are multi-resource.</span></span>  <span data-ttu-id="0af06-266">새로 고침 토큰 액세스 토큰 tooa 완전히 다른 리소스에 대 한 하나의 자원만 회수할 수에 대 한 토큰 요청 중에 받은 toosay입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-266">That is toosay that a refresh token received during a token request for one resource can be redeemed for access tokens tooa completely different resource.</span></span> <span data-ttu-id="0af06-267">toodo이, 집합 hello `resource` hello 요청 toohello에서 매개 변수 대상 리소스를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-267">toodo this, set hello `resource` parameter in hello request toohello targeted resource.</span></span>

<span data-ttu-id="0af06-268">새로 고침 토큰은 완전히 불투명 tooyour 앱.</span><span class="sxs-lookup"><span data-stu-id="0af06-268">Refresh tokens are completely opaque tooyour app.</span></span> <span data-ttu-id="0af06-269">수명이 긴 하지만 앱 새로 고침 토큰은 특정 기간에 대 한 지속 됩니다 tooexpect 작성 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-269">They are long-lived, but your app should not be written tooexpect that a refresh token will last for any period of time.</span></span>  <span data-ttu-id="0af06-270">다양한 이유로 언제든지 새로 고침 토큰이 무효화될 수 있기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-270">Refresh tokens can be invalidated at any moment in time for a variety of reasons.</span></span>  <span data-ttu-id="0af06-271">새로 고침 토큰이 유효한 경우 응용 프로그램 tooknow 프로그램에 대 한 방법은 tooattempt tooredeem만 hello 토큰 요청 tooAzure AD 토큰 끝점 함으로써 것입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-271">hello only way for your app tooknow if a refresh token is valid is tooattempt tooredeem it by making a token request tooAzure AD token endpoint.</span></span>

<span data-ttu-id="0af06-272">새 액세스 토큰에 대 한 새로 고침 토큰을 교환할 때 hello 토큰 응답에 새 새로 고침 토큰을 받습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-272">When you redeem a refresh token for a new access token, you will receive a new refresh token in hello token response.</span></span>  <span data-ttu-id="0af06-273">Hello hello 요청에 사용 되는 대체 새로 발급 하는 hello 새로 고침 토큰을 저장 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-273">You should save hello newly issued refresh token, replacing hello one you used in hello request.</span></span>  <span data-ttu-id="0af06-274">이렇게 하면 새로 고침 토큰이 최대한 오랫동안 유효한 상태로 유지됩니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-274">This will guarantee that your refresh tokens remain valid for as long as possible.</span></span>

## <a name="validating-tokens"></a><span data-ttu-id="0af06-275">토큰 유효성 검사</span><span class="sxs-lookup"><span data-stu-id="0af06-275">Validating tokens</span></span>

<span data-ttu-id="0af06-276">순서 toovalidate id_token 또는 access_token 응용 프로그램 서명 및 hello 클레임을 모두 hello 토큰의 유효성을 검사 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-276">In order toovalidate an id_token or an access_token, your app should validate both hello token's signature and hello claims.</span></span> <span data-ttu-id="0af06-277">순서 toovalidate 액세스 토큰이 앱 hello 여러 hello 조건 및 토큰을 서명 하는 hello 확인 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-277">In order toovalidate access tokens, your app should also validate hello issuer, hello audience and hello signing tokens.</span></span> <span data-ttu-id="0af06-278">이러한 toobe hello OpenID 검색 문서에서 hello 값에 대해 유효성을 검사 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-278">These need toobe validated against hello values in hello OpenID discovery document.</span></span> <span data-ttu-id="0af06-279">예를 들어 hello 테 넌 트 독립적 버전의 hello 문서에 위치한 [https://login.microsoftonline.com/common/.well-known/openid-configuration](https://login.microsoftonline.com/common/.well-known/openid-configuration)합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-279">For example, hello tenant independent version of hello document is located at [https://login.microsoftonline.com/common/.well-known/openid-configuration](https://login.microsoftonline.com/common/.well-known/openid-configuration).</span></span> <span data-ttu-id="0af06-280">Azure AD 미들웨어 액세스 토큰의 유효성 검사에 대 한 기본 제공 기능을가지고 있으며 탐색할 수 있습니다이 [샘플](https://docs.microsoft.com/en-us/azure/active-directory/active-directory-code-samples) toofind 하나 hello 언어를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-280">Azure AD middleware has built-in capabilities for validating access tokens, and you can browse through our [samples](https://docs.microsoft.com/en-us/azure/active-directory/active-directory-code-samples) toofind one in hello language of your choice.</span></span> <span data-ttu-id="0af06-281">Tooexplicitly JWT 토큰을 확인 하는 방법에 대 한 자세한 내용은 hello를 참조 하십시오 [수동 JWT 유효성 검사 샘플](https://github.com/Azure-Samples/active-directory-dotnet-webapi-manual-jwt-validation)합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-281">For more information on how tooexplicitly validate a JWT token, please see hello [manual JWT validation sample](https://github.com/Azure-Samples/active-directory-dotnet-webapi-manual-jwt-validation).</span></span>  

<span data-ttu-id="0af06-282">라이브러리 및 tooeasily 토큰 유효성 검사 기능을 처리 하는 방법을 보여 주는 코드 예제가 제공 아래 정보는 hello 단순히 ´ ë ç toounderstand hello 프로세스 내부에 원하는 사용자에 게 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-282">We provide libraries and code samples that show how tooeasily handle token validation - hello below information is simply provided for those who wish toounderstand hello underlying process.</span></span>  <span data-ttu-id="0af06-283">JWT 유효성 검사에 사용할 수 있는 여러 타사 오픈 소스 라이브러리도 있습니다. 거의 모든 플랫폼 및 언어에 대해 옵션이 하나 이상 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-283">There are also several third party open source libraries available for JWT validation - there is at least one option for almost every platform and language out there.</span></span> <span data-ttu-id="0af06-284">Azure AD 인증 라이브러리 및 코드 샘플에 대한 자세한 내용은 [Azure AD 인증 라이브러리](active-directory-authentication-libraries.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0af06-284">For more information about Azure AD authentication libraries and code samples, please see [Azure AD authentication libraries](active-directory-authentication-libraries.md).</span></span>

#### <a name="validating-hello-signature"></a><span data-ttu-id="0af06-285">Hello 서명의 유효성을 검사</span><span class="sxs-lookup"><span data-stu-id="0af06-285">Validating hello signature</span></span>

<span data-ttu-id="0af06-286">Hello로 구분 되는 세 개의 세그먼트를 포함 하는 JWT `.` 문자입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-286">A JWT contains three segments, which are separated by hello `.` character.</span></span>  <span data-ttu-id="0af06-287">hello 첫 번째 세그먼트 hello 라고 **헤더**, hello로 두 번째 hello **본문**, 및 hello로 세 번째 hello **서명**합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-287">hello first segment is known as hello **header**, hello second as hello **body**, and hello third as hello **signature**.</span></span>  <span data-ttu-id="0af06-288">앱에서 신뢰할 수 있도록 hello 서명 세그먼트 hello 토큰의 사용된 toovalidate hello 신뢰성을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-288">hello signature segment can be used toovalidate hello authenticity of hello token so that it can be trusted by your app.</span></span>

<span data-ttu-id="0af06-289">Azure AD에서 발급된 토큰은 RSA 256 등의 업계 표준 비대칭 암호화 알고리즘을 사용하여 서명됩니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-289">Tokens issued by Azure AD are signed using industry standard asymmetric encryption algorithms, such as RSA 256.</span></span> <span data-ttu-id="0af06-290">hello JWT의 hello 헤더 hello 키에 대 한 정보를 포함 하 고 toosign hello 토큰을 사용 하는 암호화 방법.</span><span class="sxs-lookup"><span data-stu-id="0af06-290">hello header of hello JWT contains information about hello key and encryption method used toosign hello token:</span></span>

```
{
  "typ": "JWT",
  "alg": "RS256",
  "x5t": "kriMPdmBvx68skT8-mPAB3BseeA"
}
```

<span data-ttu-id="0af06-291">hello `alg` hello 하는 동안 사용 되는 toosign hello 토큰 했던 hello 알고리즘 나타냅니다 `x5t` 클레임 hello 특정 공개 키를 사용 하는 toosign hello 토큰을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-291">hello `alg` claim indicates hello algorithm that was used toosign hello token, while hello `x5t` claim indicates hello particular public key that was used toosign hello token.</span></span>

<span data-ttu-id="0af06-292">특정 시점에 Azure AD는 공개-개인 키 쌍의 특정 집합 중 하나를 사용하여 id_token에 서명할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-292">At any given point in time, Azure AD may sign an id_token using any one of a certain set of public-private key pairs.</span></span> <span data-ttu-id="0af06-293">Azure AD 앱에 이러한 키를 자동으로 변경 toohandle 작성 해야 하므로 hello 가능한 키 집합을 정기적으로 회전 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-293">Azure AD rotates hello possible set of keys on a periodic basis, so your app should be written toohandle those key changes automatically.</span></span>  <span data-ttu-id="0af06-294">Azure AD에서 사용 되는 업데이트 toohello 공개 키에 대 한 적절 한 주파수 toocheck 매 24 시간입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-294">A reasonable frequency toocheck for updates toohello public keys used by Azure AD is every 24 hours.</span></span>

<span data-ttu-id="0af06-295">Hello OpenID Connect 메타 데이터 문서에 있는 사용 하 여 필요한 toovalidate hello 서명 키 데이터를 서명 하는 hello를 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-295">You can acquire hello signing key data necessary toovalidate hello signature by using hello OpenID Connect metadata document located at:</span></span>

```
https://login.microsoftonline.com/common/.well-known/openid-configuration
```

> [!TIP]
> <span data-ttu-id="0af06-296">브라우저에서 이 URL을 사용해 보세요!</span><span class="sxs-lookup"><span data-stu-id="0af06-296">Try this URL in a browser!</span></span>
> 
> 

<span data-ttu-id="0af06-297">이 메타 데이터 문서는 몇 가지 유용한 hello OpenID Connect 인증을 수행 하는 데 필요한 다양 한 끝점의 hello 위치와 같은 정보를 포함 하는 JSON 개체입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-297">This metadata document is a JSON object containing several useful pieces of information, such as hello location of hello various endpoints required for performing OpenID Connect authentication.</span></span>  

<span data-ttu-id="0af06-298">또한 포함 한 `jwks_uri`, toosign 토큰에 사용 되는 공개 키의 hello 설정 hello 위치를 제공 하는 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-298">It also includes a `jwks_uri`, which gives hello location of hello set of public keys used toosign tokens.</span></span>  <span data-ttu-id="0af06-299">hello에 있는 hello JSON 문서 `jwks_uri` 모든 해당 특정 시점에 사용 중인 hello 공개 키 정보를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-299">hello JSON document located at hello `jwks_uri` contains all of hello public key information in use at that particular moment in time.</span></span>  <span data-ttu-id="0af06-300">앱 hello צ ְ ײ `kid` hello JWT 헤더 tooselect이이 문서에는 공개 키를 사용 하는 toosign 되었습니다에서 특정 토큰 클레임입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-300">Your app can use hello `kid` claim in hello JWT header tooselect which public key in this document has been used toosign a particular token.</span></span>  <span data-ttu-id="0af06-301">Hello 올바른 공개 키와 hello 표시 된 알고리즘을 사용 하 여 서명 유효성 검사를 수행한 다음 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-301">It can then perform signature validation using hello correct public key and hello indicated algorithm.</span></span>

<span data-ttu-id="0af06-302">서명 유효성 검사를 수행 합니다.이 문서의 외부 hello 범위-는 필요한 경우 이렇게 하는 데 사용할 수 있는 여러 오픈 소스 라이브러리입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-302">Performing signature validation is outside hello scope of this document - there are many open source libraries available for helping you do so if necessary.</span></span>

#### <a name="validating-hello-claims"></a><span data-ttu-id="0af06-303">Hello 클레임 유효성 검사</span><span class="sxs-lookup"><span data-stu-id="0af06-303">Validating hello claims</span></span>

<span data-ttu-id="0af06-304">앱 (사용자 로그인 시 id_token 또는 hello HTTP 요청에서 전달자 토큰으로 액세스 토큰) 토큰을 수신 하는 경우 hello 토큰에서 클레임 hello에 대 한 몇 가지 검사를 수행 해야 것입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-304">When your app receives a token (either an id_token upon user sign-in, or an access token as a bearer token in hello HTTP request) it should also perform a few checks against hello claims in hello token.</span></span>  <span data-ttu-id="0af06-305">포함하지만 다음과 같이 제한되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-305">These include but are not limited to:</span></span>

* <span data-ttu-id="0af06-306">hello **Audience** 클레임-토큰 hello tooverify가 의도 한 toobe tooyour 응용 프로그램을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-306">hello **Audience** claim - tooverify that hello token was intended toobe given tooyour app.</span></span>
* <span data-ttu-id="0af06-307">hello **날짜부터** 및 **만료 시간** 클레임-토큰 hello tooverify 만료 되지 않았습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-307">hello **Not Before** and **Expiration Time** claims - tooverify that hello token has not expired.</span></span>
* <span data-ttu-id="0af06-308">hello **발급자** 클레임-Azure AD에서 토큰 hello tooverify tooyour 앱을 실제로 발급 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-308">hello **Issuer** claim - tooverify that hello token was indeed issued tooyour app by Azure AD.</span></span>
* <span data-ttu-id="0af06-309">hello **Nonce** -toomitigate 토큰 재생 공격입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-309">hello **Nonce** -  toomitigate a token replay attack.</span></span>
* <span data-ttu-id="0af06-310">공유할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-310">and more...</span></span>

<span data-ttu-id="0af06-311">ID 토큰에 대 한 응용 프로그램을 수행 해야 하는 클레임 유효성 검사 목록은 전체 참조 toohello [OpenID Connect 사양](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation)합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-311">For a full list of claim validations your app should perform for ID Tokens, refer toohello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span></span> <span data-ttu-id="0af06-312">이러한 클레임에 대 한 hello 예상 값의 세부 정보는 hello 앞에 포함 된 [id_token 섹션](#id-tokens) 섹션.</span><span class="sxs-lookup"><span data-stu-id="0af06-312">Details of hello expected values for these claims are included in hello preceding [id_token section](#id-tokens) section.</span></span>

## <a name="sample-tokens"></a><span data-ttu-id="0af06-313">샘플 토큰</span><span class="sxs-lookup"><span data-stu-id="0af06-313">Sample Tokens</span></span>

<span data-ttu-id="0af06-314">이 섹션에서는 Azure AD가 반환하는 SAML 및 JWT 토큰 샘플을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-314">This section displays samples of SAML and JWT tokens that Azure AD returns.</span></span> <span data-ttu-id="0af06-315">이러한 샘플 컨텍스트에서 hello 클레임을 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-315">These samples let you see hello claims in context.</span></span>

### <a name="saml-token"></a><span data-ttu-id="0af06-316">SAML 토큰</span><span class="sxs-lookup"><span data-stu-id="0af06-316">SAML Token</span></span>

<span data-ttu-id="0af06-317">다음은 일반적인 SAML 토큰 샘플입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-317">This is a sample of a typical SAML token.</span></span>

    <?xml version="1.0" encoding="UTF-8"?>
    <t:RequestSecurityTokenResponse xmlns:t="http://schemas.xmlsoap.org/ws/2005/02/trust">
      <t:Lifetime>
        <wsu:Created xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">2014-12-24T05:15:47.060Z</wsu:Created>
        <wsu:Expires xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">2014-12-24T06:15:47.060Z</wsu:Expires>
      </t:Lifetime>
      <wsp:AppliesTo xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy">
        <EndpointReference xmlns="http://www.w3.org/2005/08/addressing">
          <Address>https://contoso.onmicrosoft.com/MyWebApp</Address>
        </EndpointReference>
      </wsp:AppliesTo>
      <t:RequestedSecurityToken>
        <Assertion xmlns="urn:oasis:names:tc:SAML:2.0:assertion" ID="_3ef08993-846b-41de-99df-b7f3ff77671b" IssueInstant="2014-12-24T05:20:47.060Z" Version="2.0">
          <Issuer>https://sts.windows.net/b9411234-09af-49c2-b0c3-653adc1f376e/</Issuer>
          <ds:Signature xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
            <ds:SignedInfo>
              <ds:CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#" />
              <ds:SignatureMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#rsa-sha256" />
              <ds:Reference URI="#_3ef08993-846b-41de-99df-b7f3ff77671b">
                <ds:Transforms>
                  <ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature" />
                  <ds:Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#" />
                </ds:Transforms>
                <ds:DigestMethod Algorithm="http://www.w3.org/2001/04/xmlenc#sha256" />
                <ds:DigestValue>cV1J580U1pD24hEyGuAxrbtgROVyghCqI32UkER/nDY=</ds:DigestValue>
              </ds:Reference>
            </ds:SignedInfo>
            <ds:SignatureValue>j+zPf6mti8Rq4Kyw2NU2nnu0pbJU1z5bR/zDaKaO7FCTdmjUzAvIVfF8pspVR6CbzcYM3HOAmLhuWmBkAAk6qQUBmKsw+XlmF/pB/ivJFdgZSLrtlBs1P/WBV3t04x6fRW4FcIDzh8KhctzJZfS5wGCfYw95er7WJxJi0nU41d7j5HRDidBoXgP755jQu2ZER7wOYZr6ff+ha+/Aj3UMw+8ZtC+WCJC3yyENHDAnp2RfgdElJal68enn668fk8pBDjKDGzbNBO6qBgFPaBT65YvE/tkEmrUxdWkmUKv3y7JWzUYNMD9oUlut93UTyTAIGOs5fvP9ZfK2vNeMVJW7Xg==</ds:SignatureValue>
            <KeyInfo xmlns="http://www.w3.org/2000/09/xmldsig#">
              <X509Data>
                <X509Certificate>MIIDPjCCAabcAwIBAgIQsRiM0jheFZhKk49YD0SK1TAJBgUrDgMCHQUAMC0xKzApBgNVBAMTImFjY291bnRzLmFjY2Vzc2NvbnRyb2wud2luZG93cy5uZXQwHhcNMTQwMTAxMDcwMDAwWhcNMTYwMTAxMDcwMDAwWjAtMSswKQYDVQQDEyJhY2NvdW50cy5hY2Nlc3Njb250cm9sLndpbmRvd3MubmV0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAkSCWg6q9iYxvJE2NIhSyOiKvqoWCO2GFipgH0sTSAs5FalHQosk9ZNTztX0ywS/AHsBeQPqYygfYVJL6/EgzVuwRk5txr9e3n1uml94fLyq/AXbwo9yAduf4dCHTP8CWR1dnDR+Qnz/4PYlWVEuuHHONOw/blbfdMjhY+C/BYM2E3pRxbohBb3x//CfueV7ddz2LYiH3wjz0QS/7kjPiNCsXcNyKQEOTkbHFi3mu0u13SQwNddhcynd/GTgWN8A+6SN1r4hzpjFKFLbZnBt77ACSiYx+IHK4Mp+NaVEi5wQtSsjQtI++XsokxRDqYLwus1I1SihgbV/STTg5enufuwIDAQABo2IwYDBeBgNVHQEEVzBVgBDLebM6bK3BjWGqIBrBNFeNoS8wLTErMCkGA1UEAxMiYWNjb3VudHMuYWNjZXNzY29udHJvbC53aW5kb3dzLm5ldIIQsRiM0jheFZhKk49YD0SK1TAJBgUrDgMCHQUAA4IBAQCJ4JApryF77EKC4zF5bUaBLQHQ1PNtA1uMDbdNVGKCmSp8M65b8h0NwlIjGGGy/unK8P6jWFdm5IlZ0YPTOgzcRZguXDPj7ajyvlVEQ2K2ICvTYiRQqrOhEhZMSSZsTKXFVwNfW6ADDkN3bvVOVbtpty+nBY5UqnI7xbcoHLZ4wYD251uj5+lo13YLnsVrmQ16NCBYq2nQFNPuNJw6t3XUbwBHXpF46aLT1/eGf/7Xx6iy8yPJX4DyrpFTutDz882RWofGEO5t4Cw+zZg70dJ/hH/ODYRMorfXEW+8uKmXMKmX2wyxMKvfiPbTy5LmAU8Jvjs2tLg4rOBcXWLAIarZ</X509Certificate>
              </X509Data>
            </KeyInfo>
          </ds:Signature>
          <Subject>
            <NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:persistent">m_H3naDei2LNxUmEcWd0BZlNi_jVET1pMLR6iQSuYmo</NameID>
            <SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer" />
          </Subject>
          <Conditions NotBefore="2014-12-24T05:15:47.060Z" NotOnOrAfter="2014-12-24T06:15:47.060Z">
            <AudienceRestriction>
              <Audience>https://contoso.onmicrosoft.com/MyWebApp</Audience>
            </AudienceRestriction>
          </Conditions>
          <AttributeStatement>
            <Attribute Name="http://schemas.microsoft.com/identity/claims/objectidentifier">
              <AttributeValue>a1addde8-e4f9-4571-ad93-3059e3750d23</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.microsoft.com/identity/claims/tenantid">
              <AttributeValue>b9411234-09af-49c2-b0c3-653adc1f376e</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name">
              <AttributeValue>sample.admin@contoso.onmicrosoft.com</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname">
              <AttributeValue>Admin</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname">
              <AttributeValue>Sample</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.microsoft.com/ws/2008/06/identity/claims/groups">
              <AttributeValue>5581e43f-6096-41d4-8ffa-04e560bab39d</AttributeValue>
              <AttributeValue>07dd8a89-bf6d-4e81-8844-230b77145381</AttributeValue>
              <AttributeValue>0e129f4g-6b0a-4944-982d-f776000632af</AttributeValue>
              <AttributeValue>3ee07328-52ef-4739-a89b-109708c22fb5</AttributeValue>
              <AttributeValue>329k14b3-1851-4b94-947f-9a4dacb595f4</AttributeValue>
              <AttributeValue>6e32c650-9b0a-4491-b429-6c60d2ca9a42</AttributeValue>
              <AttributeValue>f3a169a7-9a58-4e8f-9d47-b70029v07424</AttributeValue>
              <AttributeValue>8e2c86b2-b1ad-476d-9574-544d155aa6ff</AttributeValue>
              <AttributeValue>1bf80264-ff24-4866-b22c-6212e5b9a847</AttributeValue>
              <AttributeValue>4075f9c3-072d-4c32-b542-03e6bc678f3e</AttributeValue>
              <AttributeValue>76f80527-f2cd-46f4-8c52-8jvd8bc749b1</AttributeValue>
              <AttributeValue>0ba31460-44d0-42b5-b90c-47b3fcc48e35</AttributeValue>
              <AttributeValue>edd41703-8652-4948-94a7-2d917bba7667</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.microsoft.com/identity/claims/identityprovider">
              <AttributeValue>https://sts.windows.net/b9411234-09af-49c2-b0c3-653adc1f376e/</AttributeValue>
            </Attribute>
          </AttributeStatement>
          <AuthnStatement AuthnInstant="2014-12-23T18:51:11.000Z">
            <AuthnContext>
              <AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</AuthnContextClassRef>
            </AuthnContext>
          </AuthnStatement>
        </Assertion>
      </t:RequestedSecurityToken>
      <t:RequestedAttachedReference>
        <SecurityTokenReference xmlns="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:d3p1="http://docs.oasis-open.org/wss/oasis-wss-wssecurity-secext-1.1.xsd" d3p1:TokenType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV2.0">
          <KeyIdentifier ValueType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLID">_3ef08993-846b-41de-99df-b7f3ff77671b</KeyIdentifier>
        </SecurityTokenReference>
      </t:RequestedAttachedReference>
      <t:RequestedUnattachedReference>
        <SecurityTokenReference xmlns="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:d3p1="http://docs.oasis-open.org/wss/oasis-wss-wssecurity-secext-1.1.xsd" d3p1:TokenType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV2.0">
          <KeyIdentifier ValueType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLID">_3ef08993-846b-41de-99df-b7f3ff77671b</KeyIdentifier>
        </SecurityTokenReference>
      </t:RequestedUnattachedReference>
      <t:TokenType>http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV2.0</t:TokenType>
      <t:RequestType>http://schemas.xmlsoap.org/ws/2005/02/trust/Issue</t:RequestType>
      <t:KeyType>http://schemas.xmlsoap.org/ws/2005/05/identity/NoProofKey</t:KeyType>
    </t:RequestSecurityTokenResponse>

### <a name="jwt-token---user-impersonation"></a><span data-ttu-id="0af06-318">JWT 토큰 - 사용자 가장</span><span class="sxs-lookup"><span data-stu-id="0af06-318">JWT Token - User Impersonation</span></span>
<span data-ttu-id="0af06-319">다음은 권한 부여 코드 부여 흐름에 사용되는 일반적인 JWT(JSON 웹 토큰) 샘플입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-319">This is a sample of a typical JSON web token (JWT) used in an authorization code grant flow.</span></span>
<span data-ttu-id="0af06-320">또한 tooclaims hello 토큰의 버전 번호가 포함 됩니다. **ver** 및 **appidacr**, hello 인증 컨텍스트 클래스 참조 hello 클라이언트 인증 된 방법을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-320">In addition tooclaims, hello token includes a version number in **ver** and **appidacr**, hello authentication context class reference, which indicates how hello client was authenticated.</span></span> <span data-ttu-id="0af06-321">공용 클라이언트 hello 값은 0입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-321">For a public client, hello value is 0.</span></span> <span data-ttu-id="0af06-322">클라이언트 ID 및 클라이언트 암호 사용 된 경우 hello 값은 1입니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-322">If a client ID or client secret was used, hello value is 1.</span></span>

    {
     typ: "JWT",
     alg: "RS256",
     x5t: "kriMPdmBvx68skT8-mPAB3BseeA"
    }.
    {
     aud: "https://contoso.onmicrosoft.com/scratchservice",
     iss: "https://sts.windows.net/b9411234-09af-49c2-b0c3-653adc1f376e/",
     iat: 1416968588,
     nbf: 1416968588,
     exp: 1416972488,
     ver: "1.0",
     tid: "b9411234-09af-49c2-b0c3-653adc1f376e",
     amr: [
      "pwd"
     ],
     roles: [
      "Admin"
     ],
     oid: "6526e123-0ff9-4fec-ae64-a8d5a77cf287",
     upn: "sample.user@contoso.onmicrosoft.com",
     unique_name: "sample.user@contoso.onmicrosoft.com",
     sub: "yf8C5e_VRkR1egGxJSDt5_olDFay6L5ilBA81hZhQEI",
     family_name: "User",
     given_name: "Sample",
     groups: [
      "0e129f6b-6b0a-4944-982d-f776000632af",
      "323b13b3-1851-4b94-947f-9a4dacb595f4",
      "6e32c250-9b0a-4491-b429-6c60d2ca9a42",
      "f3a161a7-9a58-4e8f-9d47-b70022a07424",
      "8d4c81b2-b1ad-476d-9574-544d155aa6ff",
      "1bf80164-ff24-4866-b19c-6212e5b9a847",
      "76f80127-f2cd-46f4-8c52-8edd8bc749b1",
      "0ba27160-44d0-42b5-b90c-47b3fcc48e35"
     ],
     appid: "b075ddef-0efa-123b-997b-de1337c29185",
     appidacr: "1",
     scp: "user_impersonation",
     acr: "1"
    }.

## <a name="related-content"></a><span data-ttu-id="0af06-323">관련 콘텐츠</span><span class="sxs-lookup"><span data-stu-id="0af06-323">Related content</span></span>
* <span data-ttu-id="0af06-324">Hello Azure AD 그래프를 참조 하십시오. [정책 작업](https://msdn.microsoft.com/library/azure/ad/graph/api/policy-operations) 및 hello [정책 엔터티에](https://msdn.microsoft.com/library/azure/ad/graph/api/entity-and-complex-type-reference#policy-entity), toolearn hello Azure AD Graph API 통해 토큰 수명 정책을 관리 하는 방법에 대 한 자세한 합니다.</span><span class="sxs-lookup"><span data-stu-id="0af06-324">See hello Azure AD Graph [Policy operations](https://msdn.microsoft.com/library/azure/ad/graph/api/policy-operations) and hello [Policy entity](https://msdn.microsoft.com/library/azure/ad/graph/api/entity-and-complex-type-reference#policy-entity), toolearn more about managing token lifetime policy via hello Azure AD Graph API.</span></span>
* <span data-ttu-id="0af06-325">자세한 내용과 예제를 포함하여, PowerShell cmdlet를 통한 정책 관리 방법에 대한 샘플은 [Azure AD에서 구성 가능한 토큰 수명](../active-directory-configurable-token-lifetimes.md)을 참조하십시오.</span><span class="sxs-lookup"><span data-stu-id="0af06-325">For more information and samples on managing policies via PowerShell cmdlets, including samples, see [Configurable token lifetimes in Azure AD](../active-directory-configurable-token-lifetimes.md).</span></span> 
