---
title: "Azure AD에서 지원하는 다른 토큰 및 클레임 유형에 대해 알아보기 | Microsoft Docs"
description: "AAD(Azure Active Directory)에서 발급하는 SAML 2.0 및 JWT(JSON 웹 토큰)를 이해하고 평가하기 위한 가이드입니다."
documentationcenter: na
author: dstrockis
services: active-directory
manager: mbaldwin
editor: 
ms.assetid: 166aa18e-1746-4c5e-b382-68338af921e2
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 02/08/2017
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: c211c59b00d445a62ebe3ae9334101c983e05c57
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/03/2017
---
# <a name="azure-ad-token-reference"></a><span data-ttu-id="dc68c-103">Azure AD 토큰 참조</span><span class="sxs-lookup"><span data-stu-id="dc68c-103">Azure AD token reference</span></span>
<span data-ttu-id="dc68c-104">Azure AD(Azure Active Directory)는 각 인증 흐름의 처리 과정에서 여러 유형의 보안 토큰을 내보냅니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-104">Azure Active Directory (Azure AD) emits several types of security tokens in the processing of each authentication flow.</span></span> <span data-ttu-id="dc68c-105">이 문서에서는 각 토큰 유형의 형식, 보안 특성 및 내용을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-105">This document describes the format, security characteristics, and contents of each type of token.</span></span>

## <a name="types-of-tokens"></a><span data-ttu-id="dc68c-106">토큰 형식</span><span class="sxs-lookup"><span data-stu-id="dc68c-106">Types of tokens</span></span>
<span data-ttu-id="dc68c-107">Azure AD는 access_tokens 및 refresh_tokens 둘 다를 활용하는 [OAuth 2.0 인증 프로토콜](active-directory-protocols-oauth-code.md)을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-107">Azure AD supports the [OAuth 2.0 authorization protocol](active-directory-protocols-oauth-code.md), which makes use of both access_tokens and refresh_tokens.</span></span>  <span data-ttu-id="dc68c-108">또한 세 번째 토큰 유형인 id_token을 도입하는 [OpenID Connect](active-directory-protocols-openid-connect-code.md)를 통해 인증 및 로그인을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-108">It also supports authentication and sign-in via [OpenID Connect](active-directory-protocols-openid-connect-code.md), which introduces a third type of token, the id_token.</span></span>  <span data-ttu-id="dc68c-109">이러한 토큰은 각각 "전달자 토큰"으로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-109">Each of these tokens is represented as a "bearer token".</span></span>

<span data-ttu-id="dc68c-110">전달자 토큰은 보호된 리소스에 대한 "전달자" 액세스 권한을 부여하는 간단한 보안 토큰입니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-110">A bearer token is a lightweight security token that grants the “bearer” access to a protected resource.</span></span> <span data-ttu-id="dc68c-111">이런 의미에서, "전달자"는 토큰을 제공할 수 있는 당사자입니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-111">In this sense, the “bearer” is any party that can present the token.</span></span> <span data-ttu-id="dc68c-112">전달자 토큰을 수신하기 위해 Azure AD 인증이 필요한 경우에 의도하지 않은 당사자가 가로채기를 방지하기 위해 토큰 보안 설정 단계를 수행해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-112">Though authentication with Azure AD is required in order to receive a bearer token, steps must be taken to secure the token, to prevent interception by an unintended party.</span></span> <span data-ttu-id="dc68c-113">전달자 토큰에는 권한이 없는 제삼자의 사용을 방지하기 위한 기본 제공 메커니즘이 없으므로 전송 계층 보안(HTTPS)과 같은 보안 채널에서 전달자 토큰을 전송해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-113">Because bearer tokens do not have a built-in mechanism to prevent unauthorized parties from using them, they must be transported in a secure channel such as transport layer security (HTTPS).</span></span> <span data-ttu-id="dc68c-114">전달자 토큰이 일반 텍스트 상태로 전송되는 경우 메시지 가로채기 공격을 사용해서 토큰을 획득하고 보호된 리소스에 무단으로 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-114">If a bearer token is transmitted in the clear, a man-in the middle attack can be used to acquire the token and gain unauthorized access to a protected resource.</span></span> <span data-ttu-id="dc68c-115">나중에 사용하기 위해 전달자 토큰을 저장하거나 캐싱할 때도 동일한 보안 원칙이 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-115">The same security principles apply when storing or caching bearer tokens for later use.</span></span> <span data-ttu-id="dc68c-116">항상 앱이 안전한 방식으로 전달자 토큰을 전송하고 저장하도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-116">Always ensure that your app transmits and stores bearer tokens in a secure manner.</span></span> <span data-ttu-id="dc68c-117">전달자 토큰의 보안 고려 사항을 자세히 알아보려면 [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="dc68c-117">For more security considerations on bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="dc68c-118">Azure AD에서 발급된 토큰은 대부분 JSON 웹 토큰, 즉 JWT로 구현됩니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-118">Many of the tokens issued by Azure AD are implemented as JSON Web Tokens, or JWTs.</span></span>  <span data-ttu-id="dc68c-119">JWT는 두 요소 간에 정보를 전송하는 URL로부터 안전한 간단한 수단입니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-119">A JWT is a compact, URL-safe means of transferring information between two parties.</span></span>  <span data-ttu-id="dc68c-120">JWT에 포함된 정보를 "클레임" 또는 토큰의 전달자 및 주체에 대한 정보 어설션이라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-120">The information contained in JWTs are known as "claims", or assertions of information about the bearer and subject of the token.</span></span>  <span data-ttu-id="dc68c-121">JWT의 클레임은 전송을 위해 인코드 및 직렬화된 JSON 개체입니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-121">The claims in JWTs are JSON objects encoded and serialized for transmission.</span></span>  <span data-ttu-id="dc68c-122">Azure AD에서 발급된 JWT가 서명되었지만 암호화되지 않았으므로 디버깅을 위해 JWT의 내용을 쉽게 검사할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-122">Since the JWTs issued by Azure AD are signed, but not encrypted, you can easily inspect the contents of a JWT for debugging purposes.</span></span>  <span data-ttu-id="dc68c-123">[jwt.calebb.net](http://jwt.calebb.net)등 이러한 작업에 사용할 수 있는 여러 도구가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-123">There are several tools available for doing so, such as [jwt.calebb.net](http://jwt.calebb.net).</span></span> <span data-ttu-id="dc68c-124">JWT에 대한 자세한 내용은 [JWT 사양](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="dc68c-124">For more information on JWTs, you can refer to the [JWT specification](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span></span>

## <a name="idtokens"></a><span data-ttu-id="dc68c-125">Id_tokens</span><span class="sxs-lookup"><span data-stu-id="dc68c-125">Id_tokens</span></span>
<span data-ttu-id="dc68c-126">id_token은 [OpenID Connect](active-directory-protocols-openid-connect-code.md)를 사용하여 인증을 수행할 때 앱이 받는 로그인 보안 토큰의 한 형태입니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-126">Id_tokens are a form of sign-in security token that your app receives when performing authentication using [OpenID Connect](active-directory-protocols-openid-connect-code.md).</span></span>  <span data-ttu-id="dc68c-127">[JWT](#types-of-tokens)로 표시되며 사용자를 앱에 로그인하는 데 사용할 수 있는 클레임을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-127">They are represented as [JWTs](#types-of-tokens), and contain claims that you can use for signing the user into your app.</span></span>  <span data-ttu-id="dc68c-128">id_token의 클레임을 적절하게 사용할 수 있습니다. 일반적으로 계정 정보를 표시하거나 앱에서 액세스 제어 결정을 내리는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-128">You can use the claims in an id_token as you see fit - commonly they are used for displaying account information or making access control decisions in an app.</span></span>

<span data-ttu-id="dc68c-129">지금은 Id_token이 서명되었지만 암호화되지 않았습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-129">Id_tokens are signed, but not encrypted at this time.</span></span>  <span data-ttu-id="dc68c-130">앱이 id_token을 받으면 [서명의 유효성을 검사](#validating-tokens)하여 토큰의 신뢰성을 입증하고 토큰에 있는 몇 개 클레임의 유효성을 검사하여 유효성을 입증해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-130">When your app receives an id_token, it must [validate the signature](#validating-tokens) to prove the token's authenticity and validate a few claims in the token to prove its validity.</span></span>  <span data-ttu-id="dc68c-131">앱에서 유효성을 검사하는 클레임은 시나리오 요구 사항에 따라 다르지만 앱이 모든 시나리오에서 수행해야 하는 몇 가지 [일반적인 클레임 유효성 검사](#validating-tokens) 가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-131">The claims validated by an app vary depending on scenario requirements, but there are some [common claim validations](#validating-tokens) that your app must perform in every scenario.</span></span>

<span data-ttu-id="dc68c-132">샘플 id_token 뿐만 아니라 id_tokens 클레임에 대한 자세한 내용은 다음 섹션을 참조합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-132">See the following section for information on id_tokens claims, as well as a sample id_token.</span></span>  <span data-ttu-id="dc68c-133">id_token의 클레임은 특정 순서로 반환되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-133">Note that the claims in id_tokens are not returned in any particular order.</span></span>  <span data-ttu-id="dc68c-134">또한 언제든지 id_token에 새 클레임이 도입될 수 있으므로 새 클레임이 도입될 때 앱이 손상되지 않아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-134">In addition, new claims can be introduced into id_tokens at any point in time - your app should not break as new claims are introduced.</span></span>  <span data-ttu-id="dc68c-135">다음 목록에는 이 문서가 작성될 때 앱이 안정적으로 해석할 수 있는 클레임이 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-135">The following list includes the claims that your app can reliably interpret at the time of this writing.</span></span>  <span data-ttu-id="dc68c-136">필요한 경우 [OpenID Connect 사양](http://openid.net/specs/openid-connect-core-1_0.html)에서 자세한 내용을 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-136">If necessary, even more detail can be found in the [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>

#### <a name="sample-idtoken"></a><span data-ttu-id="dc68c-137">샘플 id_token</span><span class="sxs-lookup"><span data-stu-id="dc68c-137">Sample id_token</span></span>
```
eyJ0eXAiOiJKV1QiLCJhbGciOiJub25lIn0.eyJhdWQiOiIyZDRkMTFhMi1mODE0LTQ2YTctODkwYS0yNzRhNzJhNzMwOWUiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC83ZmU4MTQ0Ny1kYTU3LTQzODUtYmVjYi02ZGU1N2YyMTQ3N2UvIiwiaWF0IjoxMzg4NDQwODYzLCJuYmYiOjEzODg0NDA4NjMsImV4cCI6MTM4ODQ0NDc2MywidmVyIjoiMS4wIiwidGlkIjoiN2ZlODE0NDctZGE1Ny00Mzg1LWJlY2ItNmRlNTdmMjE0NzdlIiwib2lkIjoiNjgzODlhZTItNjJmYS00YjE4LTkxZmUtNTNkZDEwOWQ3NGY1IiwidXBuIjoiZnJhbmttQGNvbnRvc28uY29tIiwidW5pcXVlX25hbWUiOiJmcmFua21AY29udG9zby5jb20iLCJzdWIiOiJKV3ZZZENXUGhobHBTMVpzZjd5WVV4U2hVd3RVbTV5elBtd18talgzZkhZIiwiZmFtaWx5X25hbWUiOiJNaWxsZXIiLCJnaXZlbl9uYW1lIjoiRnJhbmsifQ.
```

> [!TIP]
> <span data-ttu-id="dc68c-138">연습을 위해 샘플 id_token에 있는 클레임을 [calebb.net](http://jwt.calebb.net)에 붙여넣어 검사하세요.</span><span class="sxs-lookup"><span data-stu-id="dc68c-138">For practice, try inspecting the claims in the sample id_token by pasting it into [calebb.net](http://jwt.calebb.net).</span></span>
> 
> 

#### <a name="claims-in-idtokens"></a><span data-ttu-id="dc68c-139">id_token의 클레임</span><span class="sxs-lookup"><span data-stu-id="dc68c-139">Claims in id_tokens</span></span>
> [!div class="mx-codeBreakAll"]
| <span data-ttu-id="dc68c-140">JWT 클레임</span><span class="sxs-lookup"><span data-stu-id="dc68c-140">JWT Claim</span></span> | <span data-ttu-id="dc68c-141">Name</span><span class="sxs-lookup"><span data-stu-id="dc68c-141">Name</span></span> | <span data-ttu-id="dc68c-142">설명</span><span class="sxs-lookup"><span data-stu-id="dc68c-142">Description</span></span> |
| --- | --- | --- |
| `appid` |<span data-ttu-id="dc68c-143">응용 프로그램 UI</span><span class="sxs-lookup"><span data-stu-id="dc68c-143">Application ID</span></span> |<span data-ttu-id="dc68c-144">토큰을 사용하여 리소스에 액세스하는 응용 프로그램을 식별합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-144">Identifies the application that is using the token to access a resource.</span></span> <span data-ttu-id="dc68c-145">응용 프로그램은 자체적으로 작동할 수도 있고 사용자를 대신하여 작동할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-145">The application can act as itself or on behalf of a user.</span></span> <span data-ttu-id="dc68c-146">응용 프로그램 ID는 일반적으로 응용 프로그램 개체를 나타내지만 Azure AD의 서비스 사용자 개체를 나타낼 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-146">The application ID typically represents an application object, but it can also represent a service principal object in Azure AD.</span></span> <br><br> <span data-ttu-id="dc68c-147">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-147">**Example JWT Value**:</span></span> <br> `"appid":"15CB020F-3984-482A-864D-1D92265E8268"` |
| `aud` |<span data-ttu-id="dc68c-148">대상</span><span class="sxs-lookup"><span data-stu-id="dc68c-148">Audience</span></span> |<span data-ttu-id="dc68c-149">토큰의 의도한 수신자입니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-149">The intended recipient of the token.</span></span> <span data-ttu-id="dc68c-150">토큰을 받는 응용 프로그램에서는 대상 값이 올바른지 확인하여 대상이 다른 모든 토큰을 거부해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-150">The application that receives the token must verify that the audience value is correct and reject any tokens intended for a different audience.</span></span> <br><br> <span data-ttu-id="dc68c-151">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-151">**Example SAML Value**:</span></span> <br> `<AudienceRestriction>`<br>`<Audience>`<br>`https://contoso.com`<br>`</Audience>`<br>`</AudienceRestriction>` <br><br> <span data-ttu-id="dc68c-152">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-152">**Example JWT Value**:</span></span> <br> `"aud":"https://contoso.com"` |
| `appidacr` |<span data-ttu-id="dc68c-153">응용 프로그램 인증 컨텍스트 클래스 참조</span><span class="sxs-lookup"><span data-stu-id="dc68c-153">Application Authentication Context Class Reference</span></span> |<span data-ttu-id="dc68c-154">클라이언트가 인증된 방법을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-154">Indicates how the client was authenticated.</span></span> <span data-ttu-id="dc68c-155">공용 클라이언트의 경우 값이 0입니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-155">For a public client, the value is 0.</span></span> <span data-ttu-id="dc68c-156">클라이언트 ID 및 클라이언트 암호가 사용되면 값이 1입니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-156">If client ID and client secret are used, the value is 1.</span></span> <br><br> <span data-ttu-id="dc68c-157">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-157">**Example JWT Value**:</span></span> <br> `"appidacr": "0"` |
| `acr` |<span data-ttu-id="dc68c-158">인증 컨텍스트 클래스 참조</span><span class="sxs-lookup"><span data-stu-id="dc68c-158">Authentication Context Class Reference</span></span> |<span data-ttu-id="dc68c-159">응용 프로그램 인증 컨텍스트 클래스 참조 클레임의 클라이언트와는 반대로 주체가 인증된 방법을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-159">Indicates how the subject was authenticated, as opposed to the client in the Application Authentication Context Class Reference claim.</span></span> <span data-ttu-id="dc68c-160">값 "0"은 최종 사용자 인증이 ISO/IEC 29115 요구 사항을 충족하지 못했다는 뜻입니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-160">A value of "0" indicates the end-user authentication did not meet the requirements of ISO/IEC 29115.</span></span> <br><br> <span data-ttu-id="dc68c-161">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-161">**Example JWT Value**:</span></span> <br> `"acr": "0"` |
| <span data-ttu-id="dc68c-162">인증 인스턴트</span><span class="sxs-lookup"><span data-stu-id="dc68c-162">Authentication Instant</span></span> |<span data-ttu-id="dc68c-163">인증이 발생한 날짜 및 시간을 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-163">Records the date and time when authentication occurred.</span></span> <br><br> <span data-ttu-id="dc68c-164">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-164">**Example SAML Value**:</span></span> <br> `<AuthnStatement AuthnInstant="2011-12-29T05:35:22.000Z">` | |
| `amr` |<span data-ttu-id="dc68c-165">인증 방법</span><span class="sxs-lookup"><span data-stu-id="dc68c-165">Authentication Method</span></span> |<span data-ttu-id="dc68c-166">토큰의 주체가 인증된 방법을 식별합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-166">Identifies how the subject of the token was authenticated.</span></span> <br><br> <span data-ttu-id="dc68c-167">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-167">**Example SAML Value**:</span></span> <br> `<AuthnContextClassRef>`<br>`http://schemas.microsoft.com/ws/2008/06/identity/claims/authenticationmethod/password`<br>`</AuthnContextClassRef>` <br><br> <span data-ttu-id="dc68c-168">**JWT 값 예제**: `“amr”: ["pwd"]`</span><span class="sxs-lookup"><span data-stu-id="dc68c-168">**Example JWT Value**: `“amr”: ["pwd"]`</span></span> |
| `given_name` |<span data-ttu-id="dc68c-169">이름</span><span class="sxs-lookup"><span data-stu-id="dc68c-169">First Name</span></span> |<span data-ttu-id="dc68c-170">Azure AD 사용자 개체에 설정된 대로 사용자의 이름 또는 "지정된 이름"을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-170">Provides the first or "given" name of the user, as set on the Azure AD user object.</span></span> <br><br> <span data-ttu-id="dc68c-171">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-171">**Example SAML Value**:</span></span> <br> `<Attribute Name=”http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname”>`<br>`<AttributeValue>Frank<AttributeValue>` <br><br> <span data-ttu-id="dc68c-172">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-172">**Example JWT Value**:</span></span> <br> `"given_name": "Frank"` |
| `groups` |<span data-ttu-id="dc68c-173">그룹</span><span class="sxs-lookup"><span data-stu-id="dc68c-173">Groups</span></span> |<span data-ttu-id="dc68c-174">주체의 그룹 멤버 자격을 나타내는 개체 ID를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-174">Provides object IDs that represent the subject's group memberships.</span></span> <span data-ttu-id="dc68c-175">이러한 값은 고유하며(개체 ID 참조) 리소스 액세스 시 강제로 인증하게 하는 경우처럼 액세스 관리에 안전하게 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-175">These values are unique (see Object ID) and can be safely used for managing access, such as enforcing authorization to access a resource.</span></span> <span data-ttu-id="dc68c-176">그룹 클레임에 포함된 그룹은 응용 프로그램 매니페스트의 "groupMembershipClaims" 속성을 통해 응용 프로그램별로 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-176">The groups included in the groups claim are configured on a per-application basis, through the "groupMembershipClaims" property of the application manifest.</span></span> <span data-ttu-id="dc68c-177">Null 값은 모든 그룹을 제외하고, "SecurityGroup" 값은 Active Directory 보안 그룹 멤버 자격만 포함하고, "All" 값은 보안 그룹과 Office 365 메일 그룹을 모두 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-177">A value of null will exclude all groups, a value of "SecurityGroup" will include only Active Directory Security Group memberships, and a value of "All" will include both Security Groups and Office 365 Distribution Lists.</span></span> <br><br> <span data-ttu-id="dc68c-178">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-178">**Example SAML Value**:</span></span> <br> `<Attribute Name="http://schemas.microsoft.com/ws/2008/06/identity/claims/groups">`<br>`<AttributeValue>07dd8a60-bf6d-4e17-8844-230b77145381</AttributeValue>` <br><br> <span data-ttu-id="dc68c-179">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-179">**Example JWT Value**:</span></span> <br> `“groups”: ["0e129f5b-6b0a-4944-982d-f776045632af", … ]` |
| `idp` |<span data-ttu-id="dc68c-180">ID 공급자</span><span class="sxs-lookup"><span data-stu-id="dc68c-180">Identity Provider</span></span> |<span data-ttu-id="dc68c-181">토큰의 주체를 인증한 ID 공급자를 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-181">Records the identity provider that authenticated the subject of the token.</span></span> <span data-ttu-id="dc68c-182">이 값은 사용자 계정이 발급자가 아닌 다른 테넌트에 있는 경우를 제외하고 발급자 클레임의 값과 동일합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-182">This value is identical to the value of the Issuer claim unless the user account is in a different tenant than the issuer.</span></span> <br><br> <span data-ttu-id="dc68c-183">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-183">**Example SAML Value**:</span></span> <br> `<Attribute Name=” http://schemas.microsoft.com/identity/claims/identityprovider”>`<br>`<AttributeValue>https://sts.windows.net/cbb1a5ac-f33b-45fa-9bf5-f37db0fed422/<AttributeValue>` <br><br> <span data-ttu-id="dc68c-184">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-184">**Example JWT Value**:</span></span> <br> `"idp":”https://sts.windows.net/cbb1a5ac-f33b-45fa-9bf5-f37db0fed422/”` |
| `iat` |<span data-ttu-id="dc68c-185">IssuedAt</span><span class="sxs-lookup"><span data-stu-id="dc68c-185">IssuedAt</span></span> |<span data-ttu-id="dc68c-186">토큰이 발급된 시간을 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-186">Stores the time at which the token was issued.</span></span> <span data-ttu-id="dc68c-187">토큰 만료 전 시간을 측정하는 데 주로 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-187">It is often used to measure token freshness.</span></span> <br><br> <span data-ttu-id="dc68c-188">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-188">**Example SAML Value**:</span></span> <br> `<Assertion ID="_d5ec7a9b-8d8f-4b44-8c94-9812612142be" IssueInstant="2014-01-06T20:20:23.085Z" Version="2.0" xmlns="urn:oasis:names:tc:SAML:2.0:assertion">` <br><br> <span data-ttu-id="dc68c-189">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-189">**Example JWT Value**:</span></span> <br> `"iat": 1390234181` |
| `iss` |<span data-ttu-id="dc68c-190">발급자</span><span class="sxs-lookup"><span data-stu-id="dc68c-190">Issuer</span></span> |<span data-ttu-id="dc68c-191">토큰을 생성하고 반환하는 STS(보안 토큰 서비스)를 식별합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-191">Identifies the security token service (STS) that constructs and returns the token.</span></span> <span data-ttu-id="dc68c-192">Azure AD가 반환하는 토큰에서 발급자는 sts.windows.net입니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-192">In the tokens that Azure AD returns, the issuer is sts.windows.net.</span></span> <span data-ttu-id="dc68c-193">발급자 클레임 값의 GUID는 Azure AD 디렉터리의 테넌트 ID입니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-193">The GUID in the Issuer claim value is the tenant ID of the Azure AD directory.</span></span> <span data-ttu-id="dc68c-194">테넌트 ID는 디렉터리의 변경 불가능하고 안정적인 식별자입니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-194">The tenant ID is an immutable and reliable identifier of the directory.</span></span> <br><br> <span data-ttu-id="dc68c-195">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-195">**Example SAML Value**:</span></span> <br> `<Issuer>https://sts.windows.net/cbb1a5ac-f33b-45fa-9bf5-f37db0fed422/</Issuer>` <br><br> <span data-ttu-id="dc68c-196">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-196">**Example JWT Value**:</span></span> <br>  `"iss":”https://sts.windows.net/cbb1a5ac-f33b-45fa-9bf5-f37db0fed422/”` |
| `family_name` |<span data-ttu-id="dc68c-197">성</span><span class="sxs-lookup"><span data-stu-id="dc68c-197">Last Name</span></span> |<span data-ttu-id="dc68c-198">Azure AD 사용자 개체에 정의된 사용자의 성을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-198">Provides the last name, surname, or family name of the user as defined in the Azure AD user object.</span></span> <br><br> <span data-ttu-id="dc68c-199">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-199">**Example SAML Value**:</span></span> <br> `<Attribute Name=” http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname”>`<br>`<AttributeValue>Miller<AttributeValue>` <br><br> <span data-ttu-id="dc68c-200">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-200">**Example JWT Value**:</span></span> <br> `"family_name": "Miller"` |
| `unique_name` |<span data-ttu-id="dc68c-201">이름</span><span class="sxs-lookup"><span data-stu-id="dc68c-201">Name</span></span> |<span data-ttu-id="dc68c-202">토큰의 주체를 식별하는, 사람이 인식할 수 있는 값을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-202">Provides a human readable value that identifies the subject of the token.</span></span> <span data-ttu-id="dc68c-203">이 값은 테넌트 내에서 반드시 고유한 것은 아니며 표시 용도로만 사용하도록 디자인되었습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-203">This value is not guaranteed to be unique within a tenant and is designed to be used only for display purposes.</span></span> <br><br> <span data-ttu-id="dc68c-204">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-204">**Example SAML Value**:</span></span> <br> `<Attribute Name=”http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name”>`<br>`<AttributeValue>frankm@contoso.com<AttributeValue>` <br><br> <span data-ttu-id="dc68c-205">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-205">**Example JWT Value**:</span></span> <br> `"unique_name": "frankm@contoso.com"` |
| `oid` |<span data-ttu-id="dc68c-206">개체 ID</span><span class="sxs-lookup"><span data-stu-id="dc68c-206">Object ID</span></span> |<span data-ttu-id="dc68c-207">Azure AD 개체의 고유 식별자를 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-207">Contains a unique identifier of an object in Azure AD.</span></span> <span data-ttu-id="dc68c-208">이 값은 변경할 수 없으며 재할당 또는 재사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-208">This value is immutable and cannot be reassigned or reused.</span></span> <span data-ttu-id="dc68c-209">Azure AD에 대한 쿼리의 개체를 식별할 개체 ID를 사용하세요.</span><span class="sxs-lookup"><span data-stu-id="dc68c-209">Use the object ID to identify an object in queries to Azure AD.</span></span> <br><br> <span data-ttu-id="dc68c-210">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-210">**Example SAML Value**:</span></span> <br> `<Attribute Name="http://schemas.microsoft.com/identity/claims/objectidentifier">`<br>`<AttributeValue>528b2ac2-aa9c-45e1-88d4-959b53bc7dd0<AttributeValue>` <br><br> <span data-ttu-id="dc68c-211">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-211">**Example JWT Value**:</span></span> <br> `"oid":"528b2ac2-aa9c-45e1-88d4-959b53bc7dd0"` |
| `roles` |<span data-ttu-id="dc68c-212">역할</span><span class="sxs-lookup"><span data-stu-id="dc68c-212">Roles</span></span> |<span data-ttu-id="dc68c-213">주체가 그룹 멤버 자격을 통해 직간접적으로 부여받은 모든 응용 프로그램 역할을 나타내며 역할 기반 액세스 제어를 적용하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-213">Represents all application roles that the subject has been granted both directly and indirectly through group membership and can be used to enforce role-based access control.</span></span> <span data-ttu-id="dc68c-214">응용 프로그램 역할은 응용 프로그램 매니페스트의 `appRoles` 속성을 통해 응용 프로그램별로 정의됩니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-214">Application roles are defined on a per-application basis, through the `appRoles` property of the application manifest.</span></span> <span data-ttu-id="dc68c-215">각 응용 프로그램 역할의 `value` 속성은 역할 클레임에 표시되는 값입니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-215">The `value` property of each application role is the value that appears in the roles claim.</span></span> <br><br> <span data-ttu-id="dc68c-216">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-216">**Example SAML Value**:</span></span> <br> `<Attribute Name="http://schemas.microsoft.com/ws/2008/06/identity/claims/role">`<br>`<AttributeValue>Admin</AttributeValue>` <br><br> <span data-ttu-id="dc68c-217">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-217">**Example JWT Value**:</span></span> <br> `“roles”: ["Admin", … ]` |
| `scp` |<span data-ttu-id="dc68c-218">범위</span><span class="sxs-lookup"><span data-stu-id="dc68c-218">Scope</span></span> |<span data-ttu-id="dc68c-219">클라이언트 응용 프로그램에 부여된 권한을 가장함을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-219">Indicates the impersonation permissions granted to the client application.</span></span> <span data-ttu-id="dc68c-220">기본 권한은 `user_impersonation`입니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-220">The default permission is `user_impersonation`.</span></span> <span data-ttu-id="dc68c-221">보안 리소스의 소유자는 Azure AD에서 추가 값을 등록할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-221">The owner of the secured resource can register additional values in Azure AD.</span></span> <br><br> <span data-ttu-id="dc68c-222">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-222">**Example JWT Value**:</span></span> <br> `"scp": "user_impersonation"` |
| `sub` |<span data-ttu-id="dc68c-223">제목</span><span class="sxs-lookup"><span data-stu-id="dc68c-223">Subject</span></span> |<span data-ttu-id="dc68c-224">응용 프로그램 사용자 등 토큰에서 정보를 어설션하는 보안 주체를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-224">Identifies the principal about which the token asserts information, such as the user of an application.</span></span> <span data-ttu-id="dc68c-225">이 값은 변경할 수 없으며 재할당 또는 재사용할 수 없습니다. 따라서 이 값을 사용하면 안전하게 인증 검사를 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-225">This value is immutable and cannot be reassigned or reused, so it can be used to perform authorization checks safely.</span></span> <span data-ttu-id="dc68c-226">Azure AD에서 발급하는 토큰에는 항상 주체가 있기 때문에 이 값을 일반 용도의 인증 시스템에 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-226">Because the subject is always present in the tokens the Azure AD issues, we recommended using this value in a general purpose authorization system.</span></span> <br> <span data-ttu-id="dc68c-227">`SubjectConfirmation` 클레임이 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-227">`SubjectConfirmation` is not a claim.</span></span> <span data-ttu-id="dc68c-228">SubjectConfirmation은 토큰의 주체를 확인하는 방법을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-228">It describes how the subject of the token is verified.</span></span> <span data-ttu-id="dc68c-229">`Bearer` 주체가 소유한 토큰을 통해 주체를 확인한다는 뜻입니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-229">`Bearer` indicates that the subject is confirmed by their possession of the token.</span></span> <br><br> <span data-ttu-id="dc68c-230">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-230">**Example SAML Value**:</span></span> <br> `<Subject>`<br>`<NameID>S40rgb3XjhFTv6EQTETkEzcgVmToHKRkZUIsJlmLdVc</NameID>`<br>`<SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer" />`<br>`</Subject>` <br><br> <span data-ttu-id="dc68c-231">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-231">**Example JWT Value**:</span></span> <br> `"sub":"92d0312b-26b9-4887-a338-7b00fb3c5eab"` |
| `tid` |<span data-ttu-id="dc68c-232">테넌트 ID</span><span class="sxs-lookup"><span data-stu-id="dc68c-232">Tenant ID</span></span> |<span data-ttu-id="dc68c-233">토큰을 발급한 디렉터리 테넌트를 식별하는 변경할 수 없고 다시 사용할 수 없는 식별자입니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-233">An immutable, non-reusable identifier that identifies the directory tenant that issued the token.</span></span> <span data-ttu-id="dc68c-234">이 값을 사용하여 다중 테넌트 응용 프로그램의 테넌트별 디렉터리 리소스에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-234">You can use this value to access tenant-specific directory resources in a multi-tenant application.</span></span> <span data-ttu-id="dc68c-235">예를 들어 이 값을 사용하여 Graph API 호출의 테넌트를 식별할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-235">For example, you can use this value to identify the tenant in a call to the Graph API.</span></span> <br><br> <span data-ttu-id="dc68c-236">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-236">**Example SAML Value**:</span></span> <br> `<Attribute Name=”http://schemas.microsoft.com/identity/claims/tenantid”>`<br>`<AttributeValue>cbb1a5ac-f33b-45fa-9bf5-f37db0fed422<AttributeValue>` <br><br> <span data-ttu-id="dc68c-237">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-237">**Example JWT Value**:</span></span> <br> `"tid":"cbb1a5ac-f33b-45fa-9bf5-f37db0fed422"` |
| <span data-ttu-id="dc68c-238">`nbf`, `exp`</span><span class="sxs-lookup"><span data-stu-id="dc68c-238">`nbf`, `exp`</span></span> |<span data-ttu-id="dc68c-239">토큰 수명</span><span class="sxs-lookup"><span data-stu-id="dc68c-239">Token Lifetime</span></span> |<span data-ttu-id="dc68c-240">토큰이 유효한 시간 간격을 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-240">Defines the time interval within which a token is valid.</span></span> <span data-ttu-id="dc68c-241">토큰의 유효성을 검사하는 서비스에서는 현재 날짜가 토큰 수명 내에 있는지 확인하고 수명 내에 없으면 토큰을 거부합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-241">The service that validates the token should verify that the current date is within the token lifetime, else it should reject the token.</span></span> <span data-ttu-id="dc68c-242">Azure AD와 서비스 간의 시계 시간 차이("시간차")를 고려하여 서비스에서 토큰 수명 범위를 벗어나 최대 5분까지 여유 시간을 허용 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-242">The service might allow for up to five minutes beyond the token lifetime range to account for any differences in clock time ("time skew") between Azure AD and the service.</span></span> <br><br> <span data-ttu-id="dc68c-243">**SAML 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-243">**Example SAML Value**:</span></span> <br> `<Conditions`<br>`NotBefore="2013-03-18T21:32:51.261Z"`<br>`NotOnOrAfter="2013-03-18T22:32:51.261Z"`<br>`>` <br><br> <span data-ttu-id="dc68c-244">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-244">**Example JWT Value**:</span></span> <br> `"nbf":1363289634, "exp":1363293234` |
| `upn` |<span data-ttu-id="dc68c-245">사용자 계정 이름</span><span class="sxs-lookup"><span data-stu-id="dc68c-245">User Principal Name</span></span> |<span data-ttu-id="dc68c-246">사용자 계정의 사용자 이름을 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-246">Stores the user name of the user principal.</span></span><br><br> <span data-ttu-id="dc68c-247">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-247">**Example JWT Value**:</span></span> <br> `"upn": frankm@contoso.com` |
| `ver` |<span data-ttu-id="dc68c-248">버전</span><span class="sxs-lookup"><span data-stu-id="dc68c-248">Version</span></span> |<span data-ttu-id="dc68c-249">토큰의 버전 번호를 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-249">Stores the version number of the token.</span></span> <br><br> <span data-ttu-id="dc68c-250">**JWT 값 예제**:</span><span class="sxs-lookup"><span data-stu-id="dc68c-250">**Example JWT Value**:</span></span> <br> `"ver": "1.0"` |

## <a name="access-tokens"></a><span data-ttu-id="dc68c-251">액세스 토큰</span><span class="sxs-lookup"><span data-stu-id="dc68c-251">Access tokens</span></span>
<span data-ttu-id="dc68c-252">인증 성공 시 Azure AD는 보호된 리소스에 액세스하는 데 사용할 수 있는 액세스 토큰을 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-252">Upon successful authentication, Azure AD returns an access token, which can be used to access protected resources.</span></span> <span data-ttu-id="dc68c-253">액세스 토큰은 base 64 인코딩 JWT(JSON Web Token)이며 디코더를 통해 실행하여 해당 콘텐츠를 검사할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-253">The access token is a base 64 encoded JSON Web Token (JWT) and its contents can be inspected by running it through a decoder.</span></span>

<span data-ttu-id="dc68c-254">앱이 액세스 토큰만 *사용하여* API에 액세스하는 경우, 액세스 토큰은 앱이 HTTP 요청의 리소스에 전달할 수 있는 문자열에 불과하므로 완전히 불투명한 것으로 간주할 수 있으며 이와 같이 간주해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-254">If your app only *uses* access tokens to get access to APIs, you can (and should) treat access tokens as completely opaque - they are just strings which your app can pass to resources in HTTP requests.</span></span>

<span data-ttu-id="dc68c-255">액세스 토큰을 요청하는 경우 Azure AD는 사용할 수 있도록 액세스 토큰에 대한 일부 메타데이터도 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-255">When you request an access token, Azure AD also returns some metadata about the access token for your app's consumption.</span></span>  <span data-ttu-id="dc68c-256">이 정보에는 액세스 토큰의 만료 시간 및 유효한 범위가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-256">This information includes the expiry time of the access token and the scopes for which it is valid.</span></span>  <span data-ttu-id="dc68c-257">따라서 앱이 액세스 토큰 자체를 구문 분석하지 않아도 액세스 토큰의 지능형 캐싱을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-257">This allows your app to perform intelligent caching of access tokens without having to parse open the access token itself.</span></span>

<span data-ttu-id="dc68c-258">앱이 HTTP 요청에서 액세스 토큰을 필요로 하는 Azure AD로 보호된 API이면 수신하는 토큰의 유효성을 검사하고 조사해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-258">If your app is an API protected with Azure AD that expects access tokens in HTTP requests, then you should perform validation and inspection of the tokens you receive.</span></span> <span data-ttu-id="dc68c-259">리소스를 액세스하는 데 토큰을 사용하기 전에 앱에서 액세스 토큰의 유효성 검사를 수행해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-259">Your app should perform validation of the access token before using it to access resources.</span></span> <span data-ttu-id="dc68c-260">유효성 검사에 대한 자세한 내용은 [토큰 유효성 검사](#validating-tokens)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="dc68c-260">For more information on validation, please see [Validating Tokens](#validating-tokens).</span></span>  
<span data-ttu-id="dc68c-261">.NET에서 이 작업을 수행하는 방법에 대한 자세한 내용은 [Azure AD에서 전달자 토큰을 사용하여 Web API 보호](active-directory-devquickstarts-webapi-dotnet.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="dc68c-261">For details on how to do this with .NET, see [Protect a Web API using Bearer tokens from Azure AD](active-directory-devquickstarts-webapi-dotnet.md).</span></span>

## <a name="refresh-tokens"></a><span data-ttu-id="dc68c-262">새로 고침 토큰</span><span class="sxs-lookup"><span data-stu-id="dc68c-262">Refresh tokens</span></span>

<span data-ttu-id="dc68c-263">새로 고침 토큰은 앱이 OAuth 2.0 흐름에서 새 액세스 토큰을 획득하는 데 사용할 수 있는 보안 토큰입니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-263">Refresh tokens are security tokens, which your app can use to acquire new access tokens in an OAuth 2.0 flow.</span></span>  <span data-ttu-id="dc68c-264">새로 고침 토큰을 통해 앱은 사용자 조작을 요구하지 않고 사용자 대신 리소스에 장기적으로 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-264">It allows your app to achieve long-term access to resources on behalf of a user without requiring interaction by the user.</span></span>

<span data-ttu-id="dc68c-265">새로 고침 토큰은 다중 리소스입니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-265">Refresh tokens are multi-resource.</span></span>  <span data-ttu-id="dc68c-266">즉, 한 리소스에 대한 토큰 요청 중에 받은 새로 고침 토큰을 완전히 다른 리소스에 대한 액세스 토큰으로 교환할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-266">That is to say that a refresh token received during a token request for one resource can be redeemed for access tokens to a completely different resource.</span></span> <span data-ttu-id="dc68c-267">이를 수행하려면 요청의 `resource` 매개 변수를 대상 리소스로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-267">To do this, set the `resource` parameter in the request to the targeted resource.</span></span>

<span data-ttu-id="dc68c-268">새로 고침 토큰은 앱에 완전히 불투명합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-268">Refresh tokens are completely opaque to your app.</span></span> <span data-ttu-id="dc68c-269">또한 새로 고침 토큰은 수명이 길지만 일정 기간 지속될 것으로 예상하도록 앱을 작성해서는 안 됩니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-269">They are long-lived, but your app should not be written to expect that a refresh token will last for any period of time.</span></span>  <span data-ttu-id="dc68c-270">다양한 이유로 언제든지 새로 고침 토큰이 무효화될 수 있기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-270">Refresh tokens can be invalidated at any moment in time for a variety of reasons.</span></span>  <span data-ttu-id="dc68c-271">앱에서 새로 고침 토큰이 유효한지 확인하는 유일한 방법은 Azure AD 토큰 끝점에 대한 토큰 요청을 수행하여 교환하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-271">The only way for your app to know if a refresh token is valid is to attempt to redeem it by making a token request to Azure AD token endpoint.</span></span>

<span data-ttu-id="dc68c-272">새로 고침 토큰을 새 액세스 토큰으로 교환할 때 앱에 토큰 응답에 새로운 새로 고침 토큰을 받게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-272">When you redeem a refresh token for a new access token, you will receive a new refresh token in the token response.</span></span>  <span data-ttu-id="dc68c-273">새로 발급된 새로 고침 토큰을 저장하고 요청에 사용한 토큰을 대체해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-273">You should save the newly issued refresh token, replacing the one you used in the request.</span></span>  <span data-ttu-id="dc68c-274">이렇게 하면 새로 고침 토큰이 최대한 오랫동안 유효한 상태로 유지됩니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-274">This will guarantee that your refresh tokens remain valid for as long as possible.</span></span>

## <a name="validating-tokens"></a><span data-ttu-id="dc68c-275">토큰 유효성 검사</span><span class="sxs-lookup"><span data-stu-id="dc68c-275">Validating tokens</span></span>

<span data-ttu-id="dc68c-276">id_token 또는 access_token의 유효성을 검사하려면 앱이 토큰의 서명과 클레임의 유효성을 모두 검사해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-276">In order to validate an id_token or an access_token, your app should validate both the token's signature and the claims.</span></span> <span data-ttu-id="dc68c-277">액세스 토큰의 유효성을 검사하려면 앱에서 발급자, 대상 그룹 및 서명 토큰의 유효성을 검사해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-277">In order to validate access tokens, your app should also validate the issuer, the audience and the signing tokens.</span></span> <span data-ttu-id="dc68c-278">OpenID 검색 문서에 있는 값에 대해 유효성 검사를 수행해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-278">These need to be validated against the values in the OpenID discovery document.</span></span> <span data-ttu-id="dc68c-279">예를 들어 테넌트 독립적인 문서 버전은 [https://login.microsoftonline.com/common/.well-known/openid-configuration](https://login.microsoftonline.com/common/.well-known/openid-configuration)에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-279">For example, the tenant independent version of the document is located at [https://login.microsoftonline.com/common/.well-known/openid-configuration](https://login.microsoftonline.com/common/.well-known/openid-configuration).</span></span> <span data-ttu-id="dc68c-280">Azure AD 미들웨어에는 액세스 토큰의 유효성을 검사하는 기본 제공 기능이 있으며 [샘플](https://docs.microsoft.com/en-us/azure/active-directory/active-directory-code-samples)을 탐색하여 원하는 언어로 기능을 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-280">Azure AD middleware has built-in capabilities for validating access tokens, and you can browse through our [samples](https://docs.microsoft.com/en-us/azure/active-directory/active-directory-code-samples) to find one in the language of your choice.</span></span> <span data-ttu-id="dc68c-281">JWT 토큰의 유효성 검사를 명시적으로 수행하는 방법은 [수동 JWT 유효성 검사 샘플](https://github.com/Azure-Samples/active-directory-dotnet-webapi-manual-jwt-validation)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="dc68c-281">For more information on how to explicitly validate a JWT token, please see the [manual JWT validation sample](https://github.com/Azure-Samples/active-directory-dotnet-webapi-manual-jwt-validation).</span></span>  

<span data-ttu-id="dc68c-282">토큰 유효성 검사를 쉽게 처리하는 방법을 보여 주는 라이브러리 및 코드 샘플이 제공됩니다. 아래 정보는 단순히 기본 프로세스를 이해하려는 사용자를 위한 것입니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-282">We provide libraries and code samples that show how to easily handle token validation - the below information is simply provided for those who wish to understand the underlying process.</span></span>  <span data-ttu-id="dc68c-283">JWT 유효성 검사에 사용할 수 있는 여러 타사 오픈 소스 라이브러리도 있습니다. 거의 모든 플랫폼 및 언어에 대해 옵션이 하나 이상 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-283">There are also several third party open source libraries available for JWT validation - there is at least one option for almost every platform and language out there.</span></span> <span data-ttu-id="dc68c-284">Azure AD 인증 라이브러리 및 코드 샘플에 대한 자세한 내용은 [Azure AD 인증 라이브러리](active-directory-authentication-libraries.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="dc68c-284">For more information about Azure AD authentication libraries and code samples, please see [Azure AD authentication libraries](active-directory-authentication-libraries.md).</span></span>

#### <a name="validating-the-signature"></a><span data-ttu-id="dc68c-285">서명 유효성 검사</span><span class="sxs-lookup"><span data-stu-id="dc68c-285">Validating the signature</span></span>

<span data-ttu-id="dc68c-286">JWT에는 `.` 문자로 구분된 세 개의 세그먼트가 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-286">A JWT contains three segments, which are separated by the `.` character.</span></span>  <span data-ttu-id="dc68c-287">첫 번째 세그먼트는 **헤더**, 두 번째 세그먼트는 **본문**, 세 번째 세그먼트는 **서명**이라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-287">The first segment is known as the **header**, the second as the **body**, and the third as the **signature**.</span></span>  <span data-ttu-id="dc68c-288">서명 세그먼트는 앱이 신뢰할 수 있도록 토큰의 신뢰성이 유효한지 검사하는 데 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-288">The signature segment can be used to validate the authenticity of the token so that it can be trusted by your app.</span></span>

<span data-ttu-id="dc68c-289">Azure AD에서 발급된 토큰은 RSA 256 등의 업계 표준 비대칭 암호화 알고리즘을 사용하여 서명됩니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-289">Tokens issued by Azure AD are signed using industry standard asymmetric encryption algorithms, such as RSA 256.</span></span> <span data-ttu-id="dc68c-290">JWT의 헤더에는 토큰 서명에 사용된 키 및 암호화 방법에 대한 정보가 들어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-290">The header of the JWT contains information about the key and encryption method used to sign the token:</span></span>

```
{
  "typ": "JWT",
  "alg": "RS256",
  "x5t": "kriMPdmBvx68skT8-mPAB3BseeA"
}
```

<span data-ttu-id="dc68c-291">`alg` 클레임은 토큰 서명에 사용된 알고리즘을 나타내고 `x5t` 클레임은 토큰 서명에 사용된 특정 공개 키를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-291">The `alg` claim indicates the algorithm that was used to sign the token, while the `x5t` claim indicates the particular public key that was used to sign the token.</span></span>

<span data-ttu-id="dc68c-292">특정 시점에 Azure AD는 공개-개인 키 쌍의 특정 집합 중 하나를 사용하여 id_token에 서명할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-292">At any given point in time, Azure AD may sign an id_token using any one of a certain set of public-private key pairs.</span></span> <span data-ttu-id="dc68c-293">Azure AD는 주기적으로 가능한 키 집합을 순환하므로 이러한 키 변경을 자동으로 처리하도록 앱을 작성해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-293">Azure AD rotates the possible set of keys on a periodic basis, so your app should be written to handle those key changes automatically.</span></span>  <span data-ttu-id="dc68c-294">Azure AD에서 사용된 공개 키에 대한 업데이트를 확인하는 적절한 빈도는 24시간마다입니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-294">A reasonable frequency to check for updates to the public keys used by Azure AD is every 24 hours.</span></span>

<span data-ttu-id="dc68c-295">다음 위치에 있는 OpenID Connect 메타데이터 문서를 사용하여 서명 유효성 검사에 필요한 서명 키 데이터를 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-295">You can acquire the signing key data necessary to validate the signature by using the OpenID Connect metadata document located at:</span></span>

```
https://login.microsoftonline.com/common/.well-known/openid-configuration
```

> [!TIP]
> <span data-ttu-id="dc68c-296">브라우저에서 이 URL을 사용해 보세요!</span><span class="sxs-lookup"><span data-stu-id="dc68c-296">Try this URL in a browser!</span></span>
> 
> 

<span data-ttu-id="dc68c-297">이 메타데이터 문서는 OpenID Connect 인증을 수행하는 데 필요한 다양한 끝점의 위치 등 여러 유용한 정보를 포함하는 JSON 개체입니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-297">This metadata document is a JSON object containing several useful pieces of information, such as the location of the various endpoints required for performing OpenID Connect authentication.</span></span>  

<span data-ttu-id="dc68c-298">토큰 서명에 사용되는 공개 키 집합의 위치를 제공하는 `jwks_uri`도 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-298">It also includes a `jwks_uri`, which gives the location of the set of public keys used to sign tokens.</span></span>  <span data-ttu-id="dc68c-299">`jwks_uri` 에 있는 JSON 문서는 해당 특정 시점에 사용 중인 공개 키 정보를 모두 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-299">The JSON document located at the `jwks_uri` contains all of the public key information in use at that particular moment in time.</span></span>  <span data-ttu-id="dc68c-300">앱은 JWT 헤더에 `kid` 클레임을 사용하여 토큰 서명에 사용된 공개 키를 이 문서에서 선택할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-300">Your app can use the `kid` claim in the JWT header to select which public key in this document has been used to sign a particular token.</span></span>  <span data-ttu-id="dc68c-301">그런 다음 올바른 공개 키와 표시된 알고리즘을 사용하여 서명 유효성 검사를 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-301">It can then perform signature validation using the correct public key and the indicated algorithm.</span></span>

<span data-ttu-id="dc68c-302">서명 유효성 검사는 이 문서의 범위를 벗어납니다. 필요한 경우 이 작업에 도움이 되는 다양한 오픈 소스 라이브러리가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-302">Performing signature validation is outside the scope of this document - there are many open source libraries available for helping you do so if necessary.</span></span>

#### <a name="validating-the-claims"></a><span data-ttu-id="dc68c-303">클레임 유효성 검사</span><span class="sxs-lookup"><span data-stu-id="dc68c-303">Validating the claims</span></span>

<span data-ttu-id="dc68c-304">앱이 토큰(사용자 로그인 시 id_token 또는 HTTP 요청의 전달자 토큰으로 사용될 경우 액세스 토큰)을 받으면 토큰의 클레임에 대해서도 몇 가지 검사를 수행해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-304">When your app receives a token (either an id_token upon user sign-in, or an access token as a bearer token in the HTTP request) it should also perform a few checks against the claims in the token.</span></span>  <span data-ttu-id="dc68c-305">포함하지만 다음과 같이 제한되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-305">These include but are not limited to:</span></span>

* <span data-ttu-id="dc68c-306">**대상** 클레임 - id_token이 앱에 제공하려고 의도했던 것이 맞는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-306">The **Audience** claim - to verify that the token was intended to be given to your app.</span></span>
* <span data-ttu-id="dc68c-307">**이전이 아님** 및 **만료 시간** 클레임 - id_token이 만료되지 않았는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-307">The **Not Before** and **Expiration Time** claims - to verify that the token has not expired.</span></span>
* <span data-ttu-id="dc68c-308">**발급자** 클레임 - Azure AD에서 실제로 앱에 토큰을 발급했는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-308">The **Issuer** claim - to verify that the token was indeed issued to your app by Azure AD.</span></span>
* <span data-ttu-id="dc68c-309">**Nonce** - 토큰 재생 공격을 완화합니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-309">The **Nonce** -  to mitigate a token replay attack.</span></span>
* <span data-ttu-id="dc68c-310">공유할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-310">and more...</span></span>

<span data-ttu-id="dc68c-311">앱이 ID 토큰에 대해 수행해야 하는 클레임 유효성 검사의 전체 목록은 [OpenID Connect 사양](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="dc68c-311">For a full list of claim validations your app should perform for ID Tokens, refer to the [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span></span> <span data-ttu-id="dc68c-312">이러한 클레임의 예상 값에 대한 자세한 내용은 위의 [id 토큰 섹션](#id-tokens)에 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-312">Details of the expected values for these claims are included in the preceding [id_token section](#id-tokens) section.</span></span>

## <a name="sample-tokens"></a><span data-ttu-id="dc68c-313">샘플 토큰</span><span class="sxs-lookup"><span data-stu-id="dc68c-313">Sample Tokens</span></span>

<span data-ttu-id="dc68c-314">이 섹션에서는 Azure AD가 반환하는 SAML 및 JWT 토큰 샘플을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-314">This section displays samples of SAML and JWT tokens that Azure AD returns.</span></span> <span data-ttu-id="dc68c-315">이러한 샘플을 통해 컨텍스트 내에서 클레임을 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-315">These samples let you see the claims in context.</span></span>

### <a name="saml-token"></a><span data-ttu-id="dc68c-316">SAML 토큰</span><span class="sxs-lookup"><span data-stu-id="dc68c-316">SAML Token</span></span>

<span data-ttu-id="dc68c-317">다음은 일반적인 SAML 토큰 샘플입니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-317">This is a sample of a typical SAML token.</span></span>

    <?xml version="1.0" encoding="UTF-8"?>
    <t:RequestSecurityTokenResponse xmlns:t="http://schemas.xmlsoap.org/ws/2005/02/trust">
      <t:Lifetime>
        <wsu:Created xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">2014-12-24T05:15:47.060Z</wsu:Created>
        <wsu:Expires xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">2014-12-24T06:15:47.060Z</wsu:Expires>
      </t:Lifetime>
      <wsp:AppliesTo xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy">
        <EndpointReference xmlns="http://www.w3.org/2005/08/addressing">
          <Address>https://contoso.onmicrosoft.com/MyWebApp</Address>
        </EndpointReference>
      </wsp:AppliesTo>
      <t:RequestedSecurityToken>
        <Assertion xmlns="urn:oasis:names:tc:SAML:2.0:assertion" ID="_3ef08993-846b-41de-99df-b7f3ff77671b" IssueInstant="2014-12-24T05:20:47.060Z" Version="2.0">
          <Issuer>https://sts.windows.net/b9411234-09af-49c2-b0c3-653adc1f376e/</Issuer>
          <ds:Signature xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
            <ds:SignedInfo>
              <ds:CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#" />
              <ds:SignatureMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#rsa-sha256" />
              <ds:Reference URI="#_3ef08993-846b-41de-99df-b7f3ff77671b">
                <ds:Transforms>
                  <ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature" />
                  <ds:Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#" />
                </ds:Transforms>
                <ds:DigestMethod Algorithm="http://www.w3.org/2001/04/xmlenc#sha256" />
                <ds:DigestValue>cV1J580U1pD24hEyGuAxrbtgROVyghCqI32UkER/nDY=</ds:DigestValue>
              </ds:Reference>
            </ds:SignedInfo>
            <ds:SignatureValue>j+zPf6mti8Rq4Kyw2NU2nnu0pbJU1z5bR/zDaKaO7FCTdmjUzAvIVfF8pspVR6CbzcYM3HOAmLhuWmBkAAk6qQUBmKsw+XlmF/pB/ivJFdgZSLrtlBs1P/WBV3t04x6fRW4FcIDzh8KhctzJZfS5wGCfYw95er7WJxJi0nU41d7j5HRDidBoXgP755jQu2ZER7wOYZr6ff+ha+/Aj3UMw+8ZtC+WCJC3yyENHDAnp2RfgdElJal68enn668fk8pBDjKDGzbNBO6qBgFPaBT65YvE/tkEmrUxdWkmUKv3y7JWzUYNMD9oUlut93UTyTAIGOs5fvP9ZfK2vNeMVJW7Xg==</ds:SignatureValue>
            <KeyInfo xmlns="http://www.w3.org/2000/09/xmldsig#">
              <X509Data>
                <X509Certificate>MIIDPjCCAabcAwIBAgIQsRiM0jheFZhKk49YD0SK1TAJBgUrDgMCHQUAMC0xKzApBgNVBAMTImFjY291bnRzLmFjY2Vzc2NvbnRyb2wud2luZG93cy5uZXQwHhcNMTQwMTAxMDcwMDAwWhcNMTYwMTAxMDcwMDAwWjAtMSswKQYDVQQDEyJhY2NvdW50cy5hY2Nlc3Njb250cm9sLndpbmRvd3MubmV0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAkSCWg6q9iYxvJE2NIhSyOiKvqoWCO2GFipgH0sTSAs5FalHQosk9ZNTztX0ywS/AHsBeQPqYygfYVJL6/EgzVuwRk5txr9e3n1uml94fLyq/AXbwo9yAduf4dCHTP8CWR1dnDR+Qnz/4PYlWVEuuHHONOw/blbfdMjhY+C/BYM2E3pRxbohBb3x//CfueV7ddz2LYiH3wjz0QS/7kjPiNCsXcNyKQEOTkbHFi3mu0u13SQwNddhcynd/GTgWN8A+6SN1r4hzpjFKFLbZnBt77ACSiYx+IHK4Mp+NaVEi5wQtSsjQtI++XsokxRDqYLwus1I1SihgbV/STTg5enufuwIDAQABo2IwYDBeBgNVHQEEVzBVgBDLebM6bK3BjWGqIBrBNFeNoS8wLTErMCkGA1UEAxMiYWNjb3VudHMuYWNjZXNzY29udHJvbC53aW5kb3dzLm5ldIIQsRiM0jheFZhKk49YD0SK1TAJBgUrDgMCHQUAA4IBAQCJ4JApryF77EKC4zF5bUaBLQHQ1PNtA1uMDbdNVGKCmSp8M65b8h0NwlIjGGGy/unK8P6jWFdm5IlZ0YPTOgzcRZguXDPj7ajyvlVEQ2K2ICvTYiRQqrOhEhZMSSZsTKXFVwNfW6ADDkN3bvVOVbtpty+nBY5UqnI7xbcoHLZ4wYD251uj5+lo13YLnsVrmQ16NCBYq2nQFNPuNJw6t3XUbwBHXpF46aLT1/eGf/7Xx6iy8yPJX4DyrpFTutDz882RWofGEO5t4Cw+zZg70dJ/hH/ODYRMorfXEW+8uKmXMKmX2wyxMKvfiPbTy5LmAU8Jvjs2tLg4rOBcXWLAIarZ</X509Certificate>
              </X509Data>
            </KeyInfo>
          </ds:Signature>
          <Subject>
            <NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:persistent">m_H3naDei2LNxUmEcWd0BZlNi_jVET1pMLR6iQSuYmo</NameID>
            <SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer" />
          </Subject>
          <Conditions NotBefore="2014-12-24T05:15:47.060Z" NotOnOrAfter="2014-12-24T06:15:47.060Z">
            <AudienceRestriction>
              <Audience>https://contoso.onmicrosoft.com/MyWebApp</Audience>
            </AudienceRestriction>
          </Conditions>
          <AttributeStatement>
            <Attribute Name="http://schemas.microsoft.com/identity/claims/objectidentifier">
              <AttributeValue>a1addde8-e4f9-4571-ad93-3059e3750d23</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.microsoft.com/identity/claims/tenantid">
              <AttributeValue>b9411234-09af-49c2-b0c3-653adc1f376e</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name">
              <AttributeValue>sample.admin@contoso.onmicrosoft.com</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname">
              <AttributeValue>Admin</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname">
              <AttributeValue>Sample</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.microsoft.com/ws/2008/06/identity/claims/groups">
              <AttributeValue>5581e43f-6096-41d4-8ffa-04e560bab39d</AttributeValue>
              <AttributeValue>07dd8a89-bf6d-4e81-8844-230b77145381</AttributeValue>
              <AttributeValue>0e129f4g-6b0a-4944-982d-f776000632af</AttributeValue>
              <AttributeValue>3ee07328-52ef-4739-a89b-109708c22fb5</AttributeValue>
              <AttributeValue>329k14b3-1851-4b94-947f-9a4dacb595f4</AttributeValue>
              <AttributeValue>6e32c650-9b0a-4491-b429-6c60d2ca9a42</AttributeValue>
              <AttributeValue>f3a169a7-9a58-4e8f-9d47-b70029v07424</AttributeValue>
              <AttributeValue>8e2c86b2-b1ad-476d-9574-544d155aa6ff</AttributeValue>
              <AttributeValue>1bf80264-ff24-4866-b22c-6212e5b9a847</AttributeValue>
              <AttributeValue>4075f9c3-072d-4c32-b542-03e6bc678f3e</AttributeValue>
              <AttributeValue>76f80527-f2cd-46f4-8c52-8jvd8bc749b1</AttributeValue>
              <AttributeValue>0ba31460-44d0-42b5-b90c-47b3fcc48e35</AttributeValue>
              <AttributeValue>edd41703-8652-4948-94a7-2d917bba7667</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.microsoft.com/identity/claims/identityprovider">
              <AttributeValue>https://sts.windows.net/b9411234-09af-49c2-b0c3-653adc1f376e/</AttributeValue>
            </Attribute>
          </AttributeStatement>
          <AuthnStatement AuthnInstant="2014-12-23T18:51:11.000Z">
            <AuthnContext>
              <AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</AuthnContextClassRef>
            </AuthnContext>
          </AuthnStatement>
        </Assertion>
      </t:RequestedSecurityToken>
      <t:RequestedAttachedReference>
        <SecurityTokenReference xmlns="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:d3p1="http://docs.oasis-open.org/wss/oasis-wss-wssecurity-secext-1.1.xsd" d3p1:TokenType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV2.0">
          <KeyIdentifier ValueType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLID">_3ef08993-846b-41de-99df-b7f3ff77671b</KeyIdentifier>
        </SecurityTokenReference>
      </t:RequestedAttachedReference>
      <t:RequestedUnattachedReference>
        <SecurityTokenReference xmlns="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:d3p1="http://docs.oasis-open.org/wss/oasis-wss-wssecurity-secext-1.1.xsd" d3p1:TokenType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV2.0">
          <KeyIdentifier ValueType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLID">_3ef08993-846b-41de-99df-b7f3ff77671b</KeyIdentifier>
        </SecurityTokenReference>
      </t:RequestedUnattachedReference>
      <t:TokenType>http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV2.0</t:TokenType>
      <t:RequestType>http://schemas.xmlsoap.org/ws/2005/02/trust/Issue</t:RequestType>
      <t:KeyType>http://schemas.xmlsoap.org/ws/2005/05/identity/NoProofKey</t:KeyType>
    </t:RequestSecurityTokenResponse>

### <a name="jwt-token---user-impersonation"></a><span data-ttu-id="dc68c-318">JWT 토큰 - 사용자 가장</span><span class="sxs-lookup"><span data-stu-id="dc68c-318">JWT Token - User Impersonation</span></span>
<span data-ttu-id="dc68c-319">다음은 권한 부여 코드 부여 흐름에 사용되는 일반적인 JWT(JSON 웹 토큰) 샘플입니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-319">This is a sample of a typical JSON web token (JWT) used in an authorization code grant flow.</span></span>
<span data-ttu-id="dc68c-320">클레임 외에도 토큰에는 클라이언트가 인증된 방법을 나타내는 인증 컨텍스트 클래스 참조 **ver** 및 **appidacr**에 버전 번호가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-320">In addition to claims, the token includes a version number in **ver** and **appidacr**, the authentication context class reference, which indicates how the client was authenticated.</span></span> <span data-ttu-id="dc68c-321">공용 클라이언트의 경우 값이 0입니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-321">For a public client, the value is 0.</span></span> <span data-ttu-id="dc68c-322">클라이언트 ID 또는 클라이언트 암호가 사용되면 값이 1입니다.</span><span class="sxs-lookup"><span data-stu-id="dc68c-322">If a client ID or client secret was used, the value is 1.</span></span>

    {
     typ: "JWT",
     alg: "RS256",
     x5t: "kriMPdmBvx68skT8-mPAB3BseeA"
    }.
    {
     aud: "https://contoso.onmicrosoft.com/scratchservice",
     iss: "https://sts.windows.net/b9411234-09af-49c2-b0c3-653adc1f376e/",
     iat: 1416968588,
     nbf: 1416968588,
     exp: 1416972488,
     ver: "1.0",
     tid: "b9411234-09af-49c2-b0c3-653adc1f376e",
     amr: [
      "pwd"
     ],
     roles: [
      "Admin"
     ],
     oid: "6526e123-0ff9-4fec-ae64-a8d5a77cf287",
     upn: "sample.user@contoso.onmicrosoft.com",
     unique_name: "sample.user@contoso.onmicrosoft.com",
     sub: "yf8C5e_VRkR1egGxJSDt5_olDFay6L5ilBA81hZhQEI",
     family_name: "User",
     given_name: "Sample",
     groups: [
      "0e129f6b-6b0a-4944-982d-f776000632af",
      "323b13b3-1851-4b94-947f-9a4dacb595f4",
      "6e32c250-9b0a-4491-b429-6c60d2ca9a42",
      "f3a161a7-9a58-4e8f-9d47-b70022a07424",
      "8d4c81b2-b1ad-476d-9574-544d155aa6ff",
      "1bf80164-ff24-4866-b19c-6212e5b9a847",
      "76f80127-f2cd-46f4-8c52-8edd8bc749b1",
      "0ba27160-44d0-42b5-b90c-47b3fcc48e35"
     ],
     appid: "b075ddef-0efa-123b-997b-de1337c29185",
     appidacr: "1",
     scp: "user_impersonation",
     acr: "1"
    }.

## <a name="related-content"></a><span data-ttu-id="dc68c-323">관련 콘텐츠</span><span class="sxs-lookup"><span data-stu-id="dc68c-323">Related content</span></span>
* <span data-ttu-id="dc68c-324">Azure AD Graph API 통해 토큰 수명 정책을 관리하는 방법에 대한 자세한 내용은 Azure AD 그래프 [정책 작업](https://msdn.microsoft.com/library/azure/ad/graph/api/policy-operations) 및 [정책 엔터티](https://msdn.microsoft.com/library/azure/ad/graph/api/entity-and-complex-type-reference#policy-entity)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="dc68c-324">See the Azure AD Graph [Policy operations](https://msdn.microsoft.com/library/azure/ad/graph/api/policy-operations) and the [Policy entity](https://msdn.microsoft.com/library/azure/ad/graph/api/entity-and-complex-type-reference#policy-entity), to learn more about managing token lifetime policy via the Azure AD Graph API.</span></span>
* <span data-ttu-id="dc68c-325">자세한 내용과 예제를 포함하여, PowerShell cmdlet를 통한 정책 관리 방법에 대한 샘플은 [Azure AD에서 구성 가능한 토큰 수명](../active-directory-configurable-token-lifetimes.md)을 참조하십시오.</span><span class="sxs-lookup"><span data-stu-id="dc68c-325">For more information and samples on managing policies via PowerShell cmdlets, including samples, see [Configurable token lifetimes in Azure AD](../active-directory-configurable-token-lifetimes.md).</span></span> 
