---
title: "Azure AD 갤러리 응용 프로그램에 대해 사용자 프로비전 구성 문제 | Microsoft Docs"
description: "Azure AD 응용 프로그램 갤러리에 이미 나열된 응용 프로그램에 대한 사용자 프로비전을 구성할 때 발생하는 일반적인 문제를 해결하는 방법"
services: active-directory
documentationcenter: 
author: ajamess
manager: femila
ms.assetid: 
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/11/2017
ms.author: asteen
ms.openlocfilehash: 44e344095352f2bc6b27e389fc8be2cdf3e368d8
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/03/2017
---
# <a name="problem-configuring-user-provisioning-to-an-azure-ad-gallery-application"></a><span data-ttu-id="4bf3e-103">Azure AD 갤러리 응용 프로그램에 대해 사용자 프로비전 구성 문제</span><span class="sxs-lookup"><span data-stu-id="4bf3e-103">Problem configuring user provisioning to an Azure AD Gallery application</span></span>

<span data-ttu-id="4bf3e-104">앱에 대해 [자동 사용자 프로비전](https://docs.microsoft.com/azure/active-directory/active-directory-saas-app-provisioning)을 구성하려면(지원되는 경우) 자동 프로비전에 대해 응용 프로그램을 준비하는 특정 지침을 따라야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-104">Configuring [automatic user provisioning](https://docs.microsoft.com/azure/active-directory/active-directory-saas-app-provisioning) for an app (where supported), requires that specific instructions be followed to prepare the application for automatic provisioning.</span></span> <span data-ttu-id="4bf3e-105">그런 다음 Azure Portal에서 프로비전 서비스를 구성하여 사용자 계정을 응용 프로그램에 동기화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-105">Then you can use the Azure portal to configure the provisioning service to synchronize user accounts to the application.</span></span>

<span data-ttu-id="4bf3e-106">항상 응용 프로그램의 프로비전 설정에 대한 설정 자습서를 찾는 것부터 시작해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-106">You should always start by finding the setup tutorial specific to setting up provisioning for your application.</span></span> <span data-ttu-id="4bf3e-107">그런 다음 해당 단계에 따라 앱과 Azure AD를 구성하여 프로비전 연결을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-107">Then follow those steps to configure both the app and Azure AD to create the provisioning connection.</span></span> <span data-ttu-id="4bf3e-108">앱 자습서 목록은 [Azure Active Directory와 SaaS Apps를 통합하는 방법에 대한 자습서 목록](https://docs.microsoft.com/azure/active-directory/active-directory-saas-tutorial-list)에서 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-108">A list of app tutorials can be found at [List of Tutorials on How to Integrate SaaS Apps with Azure Active Directory](https://docs.microsoft.com/azure/active-directory/active-directory-saas-tutorial-list).</span></span>

## <a name="how-to-see-if-provisioning-is-working"></a><span data-ttu-id="4bf3e-109">프로비전이 작동하는지 확인하는 방법</span><span class="sxs-lookup"><span data-stu-id="4bf3e-109">How to see if provisioning is working</span></span> 

<span data-ttu-id="4bf3e-110">서비스가 구성되면 서비스 작업에 대한 대부분의 정보는 다음 두 곳에서 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-110">Once the service is configured, most insights into the operation of the service can be drawn from two places:</span></span>

-   <span data-ttu-id="4bf3e-111">**감사 로그** – 프로비전 감사 로그는 프로비전 범위에 있는 할당된 사용자에 대해 Azure AD 쿼리를 비롯하여 프로비전 서비스에서 수행한 모든 작업을 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-111">**Audit logs** – The provisioning audit logs record all the operations performed by the provisioning service, including querying Azure AD for assigned users that are in scope for provisioning.</span></span> <span data-ttu-id="4bf3e-112">시스템 간 사용자 개체를 비교하여 해당 사용자의 존재에 대해 대상 앱을 쿼리합니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-112">Query the target app for the existence of those users, comparing the user objects between the system.</span></span> <span data-ttu-id="4bf3e-113">그런 다음 비교를 기반으로 대상 시스템에서 사용자 계정을 추가, 업데이트 또는 비활성화합니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-113">Then add, update, or disable the user account in the target system based on the comparison.</span></span> <span data-ttu-id="4bf3e-114">프로비전 감사 로그는 Azure Portal의 **Azure Active Directory&gt;엔터프라이즈 응용 프로그램&gt; \[응용 프로그램 이름\] &gt;감사 로그** 탭에서 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-114">The provisioning audit logs can be accessed in the Azure portal, in the **Azure Active Directory &gt; Enterprise Apps &gt; \[Application Name\] &gt; Audit Logs** tab.</span></span> <span data-ttu-id="4bf3e-115">**계정 프로비전** 범주의 로그를 필터링하여 해당 앱의 프로비전 이벤트만 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-115">Filter the logs on the **Account Provisioning** category to only see the provisioning events for that app.</span></span>

-   <span data-ttu-id="4bf3e-116">**프로비전 상태 –** 해당 앱에 대해 마지막 프로비전 실행에 대한 요약은 서비스 설정의 화면 맨 아래에 있는 **Azure Active Directory &gt; 엔터프라이즈 응용 프로그램 &gt; \[응용 프로그램 이름\] &gt;프로비전** 섹션에서 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-116">**Provisioning status –** A summary of the last provisioning run for a given app can be seen in the **Azure Active Directory &gt; Enterprise Apps &gt; \[Application Name\] &gt;Provisioning** section, at the bottom of the screen under the service settings.</span></span> <span data-ttu-id="4bf3e-117">이 섹션에서는 얼마나 많은 사용자 (및/또는 그룹)가 두 시스템 간에 동기화되고 있으며 오류가 있는지 요약합니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-117">This section summarizes how many users (and/or groups) are currently being synchronized between the two systems, and if there are any errors.</span></span> <span data-ttu-id="4bf3e-118">오류 세부 정보는 감사 로그에 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-118">Error details be in the audit logs.</span></span> <span data-ttu-id="4bf3e-119">프로비전 상태는 Azure AD와 앱 간에 전체 초기 동기화가 완료될 때까지 표시되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-119">Note that the provisioning status not be populated until one full initial synchronization has been completed between Azure AD and the app.</span></span>

## <a name="general-problem-areas-with-provisioning-to-consider"></a><span data-ttu-id="4bf3e-120">고려해야 할 프로비전 관련 일반적인 문제 영역</span><span class="sxs-lookup"><span data-stu-id="4bf3e-120">General problem areas with provisioning to consider</span></span>

<span data-ttu-id="4bf3e-121">다음은 시작 위치를 파악한 경우 검색할 수 있는 일반적인 문제 영역 목록입니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-121">Below is a list of the general problem areas that you can drill into if you have an idea of where to start.</span></span>

* [<span data-ttu-id="4bf3e-122">프로비전 서비스가 시작하지 않는 것 같음</span><span class="sxs-lookup"><span data-stu-id="4bf3e-122">Provisioning service does not appear to start</span></span>](#provisioning-service-does-not-appear-to-start)
* [<span data-ttu-id="4bf3e-123">앱 자격 증명이 작동하지 않아 구성을 저장할 수 없음</span><span class="sxs-lookup"><span data-stu-id="4bf3e-123">Can’t save configuration due to app credentials not working</span></span>](#can’t-save-configuration-due-to-app-credentials-not-working)
* [<span data-ttu-id="4bf3e-124">사용자가 할당된 경우에도 감사 로그에 사용자가 “생략”되고 프로비전되지 않았다고 표시됨</span><span class="sxs-lookup"><span data-stu-id="4bf3e-124">Audit logs say users are “skipped” and not provisioned, even though they are assigned</span></span>](#audit-logs-say-users-are-skipped-and-not-provisioned-even-though-they-are-assigned)

## <a name="provisioning-service-does-not-appear-to-start"></a><span data-ttu-id="4bf3e-125">프로비전 서비스가 시작하지 않는 것 같음</span><span class="sxs-lookup"><span data-stu-id="4bf3e-125">Provisioning service does not appear to start</span></span>

<span data-ttu-id="4bf3e-126">Azure Portal의 **Azure Active Directory &gt; 엔터프라이즈 응용 프로그램 &gt; \[응용 프로그램 이름\] &gt;프로비전** 섹션에서 **프로비전 상태**를 **켜기**로 설정하는 경우</span><span class="sxs-lookup"><span data-stu-id="4bf3e-126">If you set the **Provisioning Status** to be **On** in the **Azure Active Directory &gt; Enterprise Apps &gt; \[Application Name\] &gt;Provisioning** section of the Azure portal.</span></span> <span data-ttu-id="4bf3e-127">그러나 이후 다시 로드 후 기타 상태 세부 정보가 표시되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-127">However no other status details are shown on that page after subsequent reloads.</span></span> <span data-ttu-id="4bf3e-128">서비스가 실행되고 있지만 아직 초기 동기화가 완료되지 않았을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-128">It is likely that the service is running but has not completed an initial synchronization yet.</span></span> <span data-ttu-id="4bf3e-129">위에 설명된 **감사 로그**를 확인하여 서비스에서 수행 중인 작업과 오류가 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-129">Check the **Audit logs** described above to determine what operations the service is performing, and if there are any errors.</span></span>

>[!NOTE]
><span data-ttu-id="4bf3e-130">초기 동기화는 Azure AD 디렉터리의 크기와 프로비전 범위에 있는 사용자 수에 따라 20분에서 수 시간이 걸릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-130">An initial sync can take anywhere from 20 minutes to several hours, depending on the size of the Azure AD directory and the number of users in scope for provisioning.</span></span> <span data-ttu-id="4bf3e-131">프로비전 서비스는 초기 동기화 후에 두 시스템의 상태를 나타내는 워터마크를 저장하므로, 초기 동기화 이후의 후속 동기화가 빨라져 후속 동기화의 성능이 향상됩니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-131">Subsequent syncs after the initial sync be faster, as the provisioning service stores watermarks that represent the state of both systems after the initial sync, improving performance of subsequent syncs.</span></span>
>
>

## <a name="cant-save-configuration-due-to-app-credentials-not-working"></a><span data-ttu-id="4bf3e-132">앱 자격 증명이 작동하지 않아 구성을 저장할 수 없음</span><span class="sxs-lookup"><span data-stu-id="4bf3e-132">Can’t save configuration due to app credentials not working</span></span>

<span data-ttu-id="4bf3e-133">프로비전을 작동하도록 하려면 Azure AD에서 해당 앱에서 제공한 사용자 관리 API에 연결할 수 있도록 유효한 자격 증명이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-133">In order for provisioning to work, Azure AD requires valid credentials that allow it to connect to a user management API provided by that app.</span></span> <span data-ttu-id="4bf3e-134">이러한 자격 증명이 작동하지 않거나 자격 증명이 무엇인지 모르는 경우 이전에 설명한 이 앱 설정에 대한 자습서를 검토하세요.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-134">If these credentials do not work, or you don’t know wat they are, review the tutorial for setting up this app, described previously.</span></span>

## <a name="audit-logs-say-users-are-skipped-and-not-provisioned-even-though-they-are-assigned"></a><span data-ttu-id="4bf3e-135">사용자가 할당된 경우에도 감사 로그에 사용자가 생략되고 프로비전되지 않았다고 표시됨</span><span class="sxs-lookup"><span data-stu-id="4bf3e-135">Audit logs say users are skipped and not provisioned even though they are assigned</span></span>

<span data-ttu-id="4bf3e-136">감사 로그에 사용자가 “생략”으로 표시되면 로그 메시지의 확장되는 세부 정보를 읽고 이유를 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-136">When a user shows up as “skipped” in the audit logs, it is very important to read the extended details in the log message to determine the reason.</span></span> <span data-ttu-id="4bf3e-137">다음은 일반적인 원인과 해결 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-137">Below are common reasons and resolutions:</span></span>

-   <span data-ttu-id="4bf3e-138">**특성 값에 따라 사용자를 필터링하는** **범위 지정 필터가 구성되었습니다**.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-138">**A scoping filter has been configured** **that is filtering the user out based on an attribute value**.</span></span> <span data-ttu-id="4bf3e-139">범위 지정 필터에 대한 자세한 내용은 <https://docs.microsoft.com/azure/active-directory/active-directory-saas-scoping-filters>를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-139">For more information on scoping filters, see <https://docs.microsoft.com/azure/active-directory/active-directory-saas-scoping-filters>.</span></span>

-   <span data-ttu-id="4bf3e-140">**사용자가 “실질적으로 권한을 부여받지 않았습니다.”**</span><span class="sxs-lookup"><span data-stu-id="4bf3e-140">**The user is “not effectively entitled”.**</span></span> <span data-ttu-id="4bf3e-141">이 특정 오류 메시지가 표시되는 경우 Azure AD에 저장된 사용자 할당 레코드에 문제가 있기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-141">If you see this specific error message, it is because there is a problem with the user assignment record stored in Azure AD.</span></span> <span data-ttu-id="4bf3e-142">이 문제를 해결하려면 앱에서 사용자(또는 그룹)의 할당을 취소하고 다시 할당하세요.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-142">To fix this issue, un-assign the user (or group) from the app, and re-assign it again.</span></span> <span data-ttu-id="4bf3e-143">할당에 대한 자세한 내용은 <https://docs.microsoft.com/azure/active-directory/active-directory-coreapps-assign-user-azure-portal>을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-143">For more information on assignment, see <https://docs.microsoft.com/azure/active-directory/active-directory-coreapps-assign-user-azure-portal>.</span></span>

-   <span data-ttu-id="4bf3e-144">**사용자에게 필요한 특성이 누락되었거나 입력되지 않았습니다.**</span><span class="sxs-lookup"><span data-stu-id="4bf3e-144">**A required attribute is missing or not populated for a user.**</span></span> <span data-ttu-id="4bf3e-145">프로비전을 설정할 때 고려해야 할 중요한 사항은 Azure AD에서 응용 프로그램으로 이동하는 사용자(또는 그룹)를 정의하는 특성 매핑 및 워크플로를 검토하고 구성하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-145">An important thing to consider when setting up provisioning be to review and configure the attribute mappings and workflows that define which user (or group) properties flow from Azure AD to the application.</span></span> <span data-ttu-id="4bf3e-146">여기에는 두 시스템 간 사용자/그룹을 고유하게 식별하고 일치하는 데 사용되는 “일치하는 속성” 설정이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-146">This includes setting the “matching property” that be used to uniquely identify and match users/groups between the two systems.</span></span> <span data-ttu-id="4bf3e-147">이 중요한 프로세스에 대한 자세한 내용은 <https://docs.microsoft.com/azure/active-directory/active-directory-saas-customizing-attribute-mappings>를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-147">For more information on this important process, see <https://docs.microsoft.com/azure/active-directory/active-directory-saas-customizing-attribute-mappings>.</span></span>

   * <span data-ttu-id="4bf3e-148">**그룹에 대한 특성 매핑:** 일부 응용 프로그램에 대해 지원되는 경우, 구성원 외에 그룹 이름 및 그룹 세부 정보 프로비전.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-148">**Attribute mappings for groups:** Provisioning of the group name and group details, in addition to the members, if supported for some applications.</span></span> <span data-ttu-id="4bf3e-149">**프로비전** 탭에 표시된 그룹 개체의 **매핑**을 사용하거나 사용하지 않도록 설정하여 이 기능을 사용하거나 사용하지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-149">You can enable or disable this functionality by enabling or disabling the **Mapping** for group objects shown in the **Provisioning** tab.</span></span> <span data-ttu-id="4bf3e-150">그룹 프로비전을 사용하는 경우 특성 매핑을 검토하여 “일치하는 ID”에 적절한 필드를 사용하는지 확인하세요.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-150">If provisioning groups is enabled, be sure to review the attribute mappings to ensure an appropriate field is being used for the “matching ID”.</span></span> <span data-ttu-id="4bf3e-151">이는 표시 이름이나 메일 별칭일 수 있습니다. Azure AD에 일치하는 속성이 비어 있거나 그룹에 대해 입력되어 있지 않은 경우 그룹 및 구성원이 프로비전되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4bf3e-151">This can be the display name or email alias), as the group and its members not be provisioned if the matching property is empty or not populated for a group in Azure AD.</span></span>

#<a name="next-steps"></a><span data-ttu-id="4bf3e-152">다음 단계</span><span class="sxs-lookup"><span data-stu-id="4bf3e-152">Next steps</span></span>
[<span data-ttu-id="4bf3e-153">Azure Active Directory를 사용하여 SaaS 응용 프로그램의 사용자를 자동으로 프로비저닝 및 프로비저닝 해제</span><span class="sxs-lookup"><span data-stu-id="4bf3e-153">Automate User Provisioning and Deprovisioning to SaaS Applications with Azure Active Directory</span></span>](active-directory-saas-app-provisioning.md)
