---
title: "Azure Active Directory 장치 등록을 사용 하 여 온-프레미스 조건부 액세스를 aaaSetting | Microsoft Docs"
description: "단계별 가이드 tooenabling 조건부 액세스 tooon 온-프레미스 응용 프로그램 Windows Server 2012 r 2에서 Active Directory Federation Services (AD FS)을 사용 하 여 합니다."
services: active-directory
documentationcenter: 
author: MarkusVi
manager: femila
editor: 
ms.assetid: 6ae9df8b-31fe-4d72-9181-cf50cfebbf05
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/31/2017
ms.author: markvi
ms.reviewer: jairoc
ms.openlocfilehash: 808e3b96873102aebae667153f588dcdb205e884
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="setting-up-on-premises-conditional-access-by-using-azure-active-directory-device-registration"></a><span data-ttu-id="f8c37-103">Azure Active Directory 장치 등록을 사용하여 온-프레미스 조건부 액세스 설정</span><span class="sxs-lookup"><span data-stu-id="f8c37-103">Setting up on-premises conditional access by using Azure Active Directory device registration</span></span>
<span data-ttu-id="f8c37-104">사용자가 tooworkplace 조인 자신의 개인 장치 toohello Azure Active Directory (Azure AD) 장치 등록 서비스를 필요로 하는 경우 알려진된 tooyour 조직으로 자신의 장치를 표시할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-104">When you require users tooworkplace-join their personal devices toohello Azure Active Directory (Azure AD) device registration service, their devices can be marked as known tooyour organization.</span></span> <span data-ttu-id="f8c37-105">다음은 Windows Server 2012 r 2에서 Active Directory Federation Services (AD FS)을 사용 하 여 조건부 액세스 tooon 온-프레미스 응용 프로그램을 사용 하기 위한 단계별 가이드는입니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-105">Following is a step-by-step guide for enabling conditional access tooon-premises applications by using Active Directory Federation Services (AD FS) in Windows Server 2012 R2.</span></span>

> [!NOTE]
> <span data-ttu-id="f8c37-106">Azure Active Directory 장치 등록 서비스 조건부 액세스 정책에 등록된 장치를 사용하는 경우 Office 365 라이선스 또는 Azure AD Premium 라이선스가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-106">An Office 365 license or Azure AD Premium license is required when using devices that are registered in Azure Active Directory device registration service conditional access policies.</span></span> <span data-ttu-id="f8c37-107">여기에는 온-프레미스 리소스에서 AD FS에 의해 적용되는 정책이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-107">These include policies that are enforced by AD FS in on-premises resources.</span></span>
> 
> <span data-ttu-id="f8c37-108">온-프레미스 리소스에 대 한 조건부 액세스 시나리오 hello에 대 한 자세한 내용은 참조 [SSO 및 원활한 두 번째 단계 인증을 위해 모든 장치에서 tooworkplace를 회사 응용 프로그램 전반](https://technet.microsoft.com/library/dn280945.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-108">For more information about hello conditional access scenarios for on-premises resources, see [Join tooworkplace from any device for SSO and seamless second-factor authentication across company applications](https://technet.microsoft.com/library/dn280945.aspx).</span></span>

<span data-ttu-id="f8c37-109">이러한 기능은 Azure Active Directory Premium 라이선스를 구매 하는 사용 가능한 toocustomers에 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-109">These capabilities are available toocustomers who purchase an Azure Active Directory Premium license.</span></span>

## <a name="supported-devices"></a><span data-ttu-id="f8c37-110">지원되는 장치</span><span class="sxs-lookup"><span data-stu-id="f8c37-110">Supported devices</span></span>
* <span data-ttu-id="f8c37-111">Windows 7 도메인 가입 장치</span><span class="sxs-lookup"><span data-stu-id="f8c37-111">Windows 7 domain-joined devices</span></span>
* <span data-ttu-id="f8c37-112">Windows 8.1 개인 및 도메인 가입 장치</span><span class="sxs-lookup"><span data-stu-id="f8c37-112">Windows 8.1 personal and domain-joined devices</span></span>
* <span data-ttu-id="f8c37-113">iOS 6 이상 hello Safari 브라우저에 대 한</span><span class="sxs-lookup"><span data-stu-id="f8c37-113">iOS 6 and later for hello Safari browser</span></span>
* <span data-ttu-id="f8c37-114">Android 4.0 이상, 삼성 GS3 이상 휴대폰, 삼성 갤럭시 노트 2 이상 태블릿</span><span class="sxs-lookup"><span data-stu-id="f8c37-114">Android 4.0 or later, Samsung GS3 or later phones, Samsung Galaxy Note 2 or later tablets</span></span>

## <a name="scenario-prerequisites"></a><span data-ttu-id="f8c37-115">시나리오 필수 조건</span><span class="sxs-lookup"><span data-stu-id="f8c37-115">Scenario prerequisites</span></span>
* <span data-ttu-id="f8c37-116">구독 tooOffice 365 또는 Azure Active Directory Premium</span><span class="sxs-lookup"><span data-stu-id="f8c37-116">Subscription tooOffice 365 or Azure Active Directory Premium</span></span>
* <span data-ttu-id="f8c37-117">Azure Active Directory 테넌트</span><span class="sxs-lookup"><span data-stu-id="f8c37-117">An Azure Active Directory tenant</span></span>
* <span data-ttu-id="f8c37-118">Windows Server Active Directory(Windows Server 2008 이상)</span><span class="sxs-lookup"><span data-stu-id="f8c37-118">Windows Server Active Directory (Windows Server 2008 or later)</span></span>
* <span data-ttu-id="f8c37-119">Windows Server 2012 R2에서 업데이트된 스키마</span><span class="sxs-lookup"><span data-stu-id="f8c37-119">Updated schema in Windows Server 2012 R2</span></span>
* <span data-ttu-id="f8c37-120">Azure Active Directory Premium에 대한 라이선스</span><span class="sxs-lookup"><span data-stu-id="f8c37-120">License for Azure Active Directory Premium</span></span>
* <span data-ttu-id="f8c37-121">Windows Server 2012 R2 Federation Services를 SSO tooAzure AD에 대 한 구성</span><span class="sxs-lookup"><span data-stu-id="f8c37-121">Windows Server 2012 R2 Federation Services, configured for SSO tooAzure AD</span></span>
* <span data-ttu-id="f8c37-122">Windows Server 2012 R2 웹 응용 프로그램 프록시</span><span class="sxs-lookup"><span data-stu-id="f8c37-122">Windows Server 2012 R2 Web Application Proxy</span></span> 
* <span data-ttu-id="f8c37-123">Azure AD Connect(Microsoft Azure Active Directory Connect)[(Azure AD Connect 다운로드)](http://www.microsoft.com/en-us/download/details.aspx?id=47594)</span><span class="sxs-lookup"><span data-stu-id="f8c37-123">Microsoft Azure Active Directory Connect (Azure AD Connect) [(Download Azure AD Connect)](http://www.microsoft.com/en-us/download/details.aspx?id=47594)</span></span>
* <span data-ttu-id="f8c37-124">확인된 도메인</span><span class="sxs-lookup"><span data-stu-id="f8c37-124">Verified domain</span></span>

## <a name="known-issues-in-this-release"></a><span data-ttu-id="f8c37-125">이 릴리스의 알려진 문제</span><span class="sxs-lookup"><span data-stu-id="f8c37-125">Known issues in this release</span></span>
* <span data-ttu-id="f8c37-126">장치 기반 조건부 액세스 정책에는 장치 개체 쓰기 저장 tooActive Azure Active Directory에서 디렉터리를 요구합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-126">Device-based conditional access policies require device object writeback tooActive Directory from Azure Active Directory.</span></span> <span data-ttu-id="f8c37-127">장치 개체 toobe tooActive 디렉터리에 다시 기록에 대 한 toothree 시간이 걸릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-127">It can take up toothree hours for device objects toobe written back tooActive Directory.</span></span>
* <span data-ttu-id="f8c37-128">iOS 7 장치는 항상 클라이언트 인증서 인증 하는 동안 hello 사용자 tooselect 인증서를 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-128">iOS 7 devices  always prompt hello user tooselect a certificate during client certificate authentication.</span></span>
* <span data-ttu-id="f8c37-129">iOS 8.3 이전의 iOS 8 버전 중 일부는 작동하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-129">Some versions of iOS 8 before iOS 8.3 do not work.</span></span>

## <a name="scenario-assumptions"></a><span data-ttu-id="f8c37-130">시나리오의 가정</span><span class="sxs-lookup"><span data-stu-id="f8c37-130">Scenario assumptions</span></span>
<span data-ttu-id="f8c37-131">이 시나리오에서는 Azure AD 테넌트와 온-프레미스 Active Directory로 구성된 하이브리드 환경이 있다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-131">This scenario assumes that you have a hybrid environment consisting of an Azure AD tenant and an on-premises Active Directory.</span></span> <span data-ttu-id="f8c37-132">이러한 테넌트는 Azure AD Connect, 확인된 도메인 및 SSO용 AD FS를 사용하여 연결되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-132">These tenants should be connected with Azure AD Connect, with a verified domain, and with AD FS for SSO.</span></span> <span data-ttu-id="f8c37-133">다음 검사 목록 toohelp toohello 요구 사항에 따라 환경을 구성 하는 hello를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-133">Use hello following checklist toohelp you configure your environment according toohello requirements.</span></span>

## <a name="checklist-prerequisites-for-conditional-access-scenario"></a><span data-ttu-id="f8c37-134">검사 목록: 조건부 액세스 시나리오를 위한 필수 조건</span><span class="sxs-lookup"><span data-stu-id="f8c37-134">Checklist: Prerequisites for conditional access scenario</span></span>
<span data-ttu-id="f8c37-135">Azure AD 테넌트를 온-프레미스 Active Directory 인스턴스와 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-135">Connect your Azure AD tenant with your on-premises Active Directory instance.</span></span>

## <a name="configure-azure-active-directory-device-registration-service"></a><span data-ttu-id="f8c37-136">Azure Active Directory 장치 등록 서비스 구성</span><span class="sxs-lookup"><span data-stu-id="f8c37-136">Configure Azure Active Directory device registration service</span></span>
<span data-ttu-id="f8c37-137">이 가이드 toodeploy 사용 하 고 조직에 대 한 hello Azure Active Directory 장치 등록 서비스를 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-137">Use this guide toodeploy and configure hello Azure Active Directory device registration service for your organization.</span></span>

<span data-ttu-id="f8c37-138">이 가이드에서는 Windows Server Active Directory를 구성 했으면 tooMicrosoft Azure Active Directory 구독을 가정 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-138">This guide assumes that you've configured Windows Server Active Directory and have subscribed tooMicrosoft Azure Active Directory.</span></span> <span data-ttu-id="f8c37-139">앞에서 설명한 hello 필수 구성 요소를 참조 하십시오.</span><span class="sxs-lookup"><span data-stu-id="f8c37-139">See hello prerequisites described earlier.</span></span>

<span data-ttu-id="f8c37-140">toodeploy hello Azure Active Directory와 Azure Active Directory 장치 등록 서비스 테 넌 트, hello 순서 대로 검사 목록 다음의 전체 hello 작업.</span><span class="sxs-lookup"><span data-stu-id="f8c37-140">toodeploy hello Azure Active Directory device registration service with your Azure Active Directory tenant, complete hello tasks in hello following checklist in order.</span></span> <span data-ttu-id="f8c37-141">참조 링크가 개념 항목 tooa, 경우 반환 toothis 검사 목록 이후에 hello 남은 작업을 진행할 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-141">When a reference link takes you tooa conceptual topic, return toothis checklist afterward, so that you can proceed with hello remaining tasks.</span></span> <span data-ttu-id="f8c37-142">일부 작업 hello 단계 완료 되었는지 여부를 확인 하는 데 도움이 되는 시나리오 유효성 검사 단계를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-142">Some tasks include a scenario validation step that can help you confirm whether hello step was completed successfully.</span></span>

## <a name="part-1-enable-azure-active-directory-device-registration"></a><span data-ttu-id="f8c37-143">1부: Azure Active Directory 장치 등록 사용</span><span class="sxs-lookup"><span data-stu-id="f8c37-143">Part 1: Enable Azure Active Directory device registration</span></span>
<span data-ttu-id="f8c37-144">Hello 검사 목록 tooenable의 hello 단계를 수행 하 고 hello Azure Active Directory 장치 등록 서비스를 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-144">Follow hello steps in hello checklist tooenable and configure hello Azure Active Directory device registration service.</span></span>

| <span data-ttu-id="f8c37-145">작업</span><span class="sxs-lookup"><span data-stu-id="f8c37-145">Task</span></span> | <span data-ttu-id="f8c37-146">참조</span><span class="sxs-lookup"><span data-stu-id="f8c37-146">Reference</span></span> | 
| --- | --- |
| <span data-ttu-id="f8c37-147">Azure Active Directory 테 넌 트 tooallow 장치 toojoin hello 회사에서 장치 등록을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-147">Enable device registration in your Azure Active Directory tenant tooallow devices toojoin hello workplace.</span></span> <span data-ttu-id="f8c37-148">기본적으로 Azure Multi-factor Authentication hello 서비스에 대 한 사용 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-148">By default, Azure Multi-Factor Authentication is not enabled for hello service.</span></span> <span data-ttu-id="f8c37-149">그러나 장치를 등록할 때는 Multi-Factor Authentication을 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-149">However, we recommend that you use Multi-Factor Authentication when you register a device.</span></span> <span data-ttu-id="f8c37-150">Active Directory 등록 서비스에서 Multi-Factor Authentication을 사용하도록 설정하기 전에 먼저 AD FS가 Multi-Factor Authentication 공급자에 대해 구성되어 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-150">Before enabling Multi-Factor Authentication in Active Directory registration service, ensure that AD FS is configured for a Multi-Factor Authentication  provider.</span></span> |[<span data-ttu-id="f8c37-151">Azure Active Directory 장치 등록 사용</span><span class="sxs-lookup"><span data-stu-id="f8c37-151">Enable Azure Active Directory device registration</span></span>](active-directory-device-registration-get-started.md)| 
|<span data-ttu-id="f8c37-152">장치에서 잘 알려진 DNS 레코드를 찾아 Azure Active Directory 장치 등록 서비스를 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-152">Devices discover your Azure Active Directory device registration service by looking for well-known DNS records.</span></span> <span data-ttu-id="f8c37-153">장치에서 Azure Active Directory 장치 등록 서비스를 검색할 수 있도록 회사 DNS를 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-153">Configure your company DNS so that devices can discover your Azure Active Directory device registration service.</span></span> |[<span data-ttu-id="f8c37-154">Azure Active Directory 장치 등록 검색 구성</span><span class="sxs-lookup"><span data-stu-id="f8c37-154">Configure Azure Active Directory device registration discovery</span></span>](active-directory-device-registration-get-started.md)| 


## <a name="part-2-deploy-and-configure-windows-server-2012-r2-active-directory-federation-services-and-set-up-a-federation-relationship-with-azure-ad"></a><span data-ttu-id="f8c37-155">2부: Windows Server 2012 R2 Active Directory Federation Services를 배포 및 구성하고 Azure AD와의 페더레이션 관계를 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-155">Part 2: Deploy and configure Windows Server 2012 R2 Active Directory Federation Services and set up a federation relationship with Azure AD</span></span>

| <span data-ttu-id="f8c37-156">작업</span><span class="sxs-lookup"><span data-stu-id="f8c37-156">Task</span></span> | <span data-ttu-id="f8c37-157">참조</span><span class="sxs-lookup"><span data-stu-id="f8c37-157">Reference</span></span> |
| --- | --- |
| <span data-ttu-id="f8c37-158">Hello Windows Server 2012 R2 스키마 확장으로 Active Directory 도메인 서비스를 배포 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-158">Deploy Active Directory Domain Services with hello Windows Server 2012 R2 schema extensions.</span></span> <span data-ttu-id="f8c37-159">않아도 tooupgrade 도메인 컨트롤러 tooWindows Server 2012 r 2 중 하나입니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-159">You do not need tooupgrade any of your domain controllers tooWindows Server 2012 R2.</span></span> <span data-ttu-id="f8c37-160">hello 스키마 업그레이드는 hello 유일한 요구 사항은입니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-160">hello schema upgrade is hello only requirement.</span></span> |[<span data-ttu-id="f8c37-161">Active Directory Domain Services 스키마 업그레이드</span><span class="sxs-lookup"><span data-stu-id="f8c37-161">Upgrade your Active Directory Domain Services schema</span></span>](#upgrade-your-active-directory-domain-services-schema) |
| <span data-ttu-id="f8c37-162">장치에서 잘 알려진 DNS 레코드를 찾아 Azure Active Directory 장치 등록 서비스를 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-162">Devices discover your Azure Active Directory device registration service by looking for well-known DNS records.</span></span> <span data-ttu-id="f8c37-163">장치에서 Azure Active Directory 장치 등록 서비스를 검색할 수 있도록 회사 DNS를 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-163">Configure your company DNS so that devices can discover your Azure Active Directory device registration service.</span></span> |[<span data-ttu-id="f8c37-164">Active Directory 지원 장치 준비</span><span class="sxs-lookup"><span data-stu-id="f8c37-164">Prepare your Active Directory support devices</span></span>](#prepare-your-active-directory-to-support-devices) |

## <a name="part-3-enable-device-writeback-in-azure-ad"></a><span data-ttu-id="f8c37-165">3부: Azure AD에서 장치 쓰기 저장 사용</span><span class="sxs-lookup"><span data-stu-id="f8c37-165">Part 3: Enable device writeback in Azure AD</span></span>
| <span data-ttu-id="f8c37-166">작업</span><span class="sxs-lookup"><span data-stu-id="f8c37-166">Task</span></span> | <span data-ttu-id="f8c37-167">참조</span><span class="sxs-lookup"><span data-stu-id="f8c37-167">Reference</span></span> |
| --- | --- |
| <span data-ttu-id="f8c37-168">"Azure AD Connect에서 장치 쓰기 저장 사용"의 2부를 완료합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-168">Complete part two of "Enabling device writeback in Azure AD Connect."</span></span> <span data-ttu-id="f8c37-169">완료 한 후, toothis 가이드를 반환 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-169">After you finish it, return toothis guide.</span></span> |[<span data-ttu-id="f8c37-170">Azure AD Connect에서 장치 쓰기 저장 사용</span><span class="sxs-lookup"><span data-stu-id="f8c37-170">Enabling device writeback in Azure AD Connect</span></span>](#upgrade-your-active-directory-domain-services-schema) |

## <a name="optional-part-4-enable-multi-factor-authentication"></a><span data-ttu-id="f8c37-171">[선택 사항] 4부: Multi-Factor Authentication 사용</span><span class="sxs-lookup"><span data-stu-id="f8c37-171">[Optional] Part 4: Enable Multi-Factor Authentication</span></span>
<span data-ttu-id="f8c37-172">구성한 hello 중 Multi-factor Authentication에 대 한 몇 가지 옵션 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-172">We strongly recommended that you configure one of hello several options for Multi-Factor Authentication.</span></span> <span data-ttu-id="f8c37-173">Multi-factor Authentication toorequire 참조 [hello Multi-factor Authentication 보안 솔루션을 선택](../multi-factor-authentication/multi-factor-authentication-get-started.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-173">If you want toorequire Multi-Factor Authentication, see [Choose hello Multi-Factor Authentication security solution for you](../multi-factor-authentication/multi-factor-authentication-get-started.md).</span></span> <span data-ttu-id="f8c37-174">각 솔루션에 대 한 설명을 포함 하며 toohelp 선택한 hello 솔루션을 구성을 연결 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-174">It includes a description of each solution, and links toohelp you configure hello solution of your choice.</span></span>

## <a name="part-5-verification"></a><span data-ttu-id="f8c37-175">5부: 확인</span><span class="sxs-lookup"><span data-stu-id="f8c37-175">Part 5: Verification</span></span>
<span data-ttu-id="f8c37-176">hello 배포 완료, 되며 몇 가지 시나리오를 체험할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-176">hello deployment is now complete, and you can try out some scenarios.</span></span> <span data-ttu-id="f8c37-177">다음 tooexperiment hello 서비스와 연결 하 고 해당 기능에 익숙해지면 hello를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-177">Use hello following links tooexperiment with hello service and become familiar with its features.</span></span>

| <span data-ttu-id="f8c37-178">작업</span><span class="sxs-lookup"><span data-stu-id="f8c37-178">Task</span></span> | <span data-ttu-id="f8c37-179">참조</span><span class="sxs-lookup"><span data-stu-id="f8c37-179">Reference</span></span> |
| --- | --- |
| <span data-ttu-id="f8c37-180">Azure Active Directory 장치 등록 서비스를 사용 하 여 일부 장치 tooyour 작업 공간을 가입 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-180">Join some devices tooyour workplace by using Azure Active Directory device registration service.</span></span> <span data-ttu-id="f8c37-181">iOS, Windows 및 Android 장치를 연결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-181">You can join iOS, Windows, and Android devices.</span></span> |[<span data-ttu-id="f8c37-182">Azure Active Directory 장치 등록 서비스를 사용 하 여 장치 tooyour 작업 공간 가입</span><span class="sxs-lookup"><span data-stu-id="f8c37-182">Join devices tooyour workplace using Azure Active Directory device registration service</span></span>](#join-devices-to-your-workplace-using-azure-active-directory-device-registration) |
| <span data-ttu-id="f8c37-183">보고를 사용 하도록 설정 하거나 hello 관리자 포털을 사용 하 여 등록 된 장치를 사용 하지 않도록 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-183">View and enable or disable registered devices by using hello administrator portal.</span></span> <span data-ttu-id="f8c37-184">이 태스크에서는 hello 관리자 포털을 사용 하 여 일부 등록 된 장치를 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-184">In this task, you view some registered devices by using hello administrator portal.</span></span> |[<span data-ttu-id="f8c37-185">Azure Active Directory 장치 등록 서비스 개요</span><span class="sxs-lookup"><span data-stu-id="f8c37-185">Azure Active Directory device registration service overview</span></span>](active-directory-device-registration-get-started.md) |
| <span data-ttu-id="f8c37-186">장치 개체가 Azure Active Directory tooWindows Active Directory 서버에서에서 다시 기록 되며 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-186">Verify that device objects are written back from Azure Active Directory tooWindows Server Active Directory.</span></span> |[<span data-ttu-id="f8c37-187">등록 된 장치 쓰기 저장 tooActive 디렉터리를 확인 하십시오.</span><span class="sxs-lookup"><span data-stu-id="f8c37-187">Verify registered devices are written back tooActive Directory</span></span>](#verify-registered-devices-are-written-back-to-active-directory) |
| <span data-ttu-id="f8c37-188">이제 사용자가 장치를 등록할 수 있으므로 등록된 장치만 허용하도록 AD FS에서 응용 프로그램 액세스 정책을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-188">Now that users can register their devices, you can create application access polices in AD FS that allow only registered devices.</span></span> <span data-ttu-id="f8c37-189">이 작업에서는 응용 프로그램 액세스 규칙과 사용자 지정 액세스 거부 메시지를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-189">In this task, you create an application access rule and a custom access-denied message.</span></span> |[<span data-ttu-id="f8c37-190">응용 프로그램 액세스 정책 및 사용자 지정 액세스 거부 메시지 만들기</span><span class="sxs-lookup"><span data-stu-id="f8c37-190">Create an application access policy and custom access-denied message</span></span>](#create-an-application-access-policy-and-custom-access-denied-message) |

## <a name="integrate-azure-active-directory-with-on-premises-active-directory"></a><span data-ttu-id="f8c37-191">온-프레미스 Active Directory와 Azure Active Directory 통합</span><span class="sxs-lookup"><span data-stu-id="f8c37-191">Integrate Azure Active Directory with on-premises Active Directory</span></span>
<span data-ttu-id="f8c37-192">이 단계에서는 Azure AD Connect를 사용하여 Azure AD 테넌트와 온-프레미스 Active Directory를 통합할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-192">This step helps you integrate your Azure AD tenant with your on-premises Active Directory by using Azure AD Connect.</span></span> <span data-ttu-id="f8c37-193">Hello 단계 hello Azure 클래식 포털에서에서 사용할 수 있지만이 섹션에 나열 된 특별 지침 메모를 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-193">Although hello steps are available in hello Azure classic portal, make note of any special instructions that are listed in this section.</span></span>

1. <span data-ttu-id="f8c37-194">Azure AD에 있는 전역 관리자 계정을 사용 하 여 Azure 클래식 포털 toohello에 로그인 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-194">Sign in toohello Azure classic portal by using an account that is a global administrator in Azure AD.</span></span>
2. <span data-ttu-id="f8c37-195">Hello 왼쪽된 창에서 선택 **Active Directory**합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-195">On hello left pane, select **Active Directory**.</span></span>
3. <span data-ttu-id="f8c37-196">Hello에 **디렉터리** 탭에서 디렉터리를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-196">On hello **Directory** tab, select your directory.</span></span>
4. <span data-ttu-id="f8c37-197">선택 hello **디렉터리 통합** 탭 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-197">Select hello **Directory Integration** tab.</span></span>
5. <span data-ttu-id="f8c37-198">Hello에서 **배포 및 관리** 섹션 1-3 toointegrate 온-프레미스 디렉터리와 Azure Active Directory 단계를 수행 하십시오.</span><span class="sxs-lookup"><span data-stu-id="f8c37-198">Under hello **deploy and manage** section, follow steps 1 through 3 toointegrate Azure Active Directory with your on-premises directory.</span></span>
   
   1. <span data-ttu-id="f8c37-199">도메인을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-199">Add domains.</span></span>
   2. <span data-ttu-id="f8c37-200">설치 하 고 hello 지침을 사용 하 여 Azure AD Connect를 실행 [Azure AD Connect의 사용자 지정 설치](connect/active-directory-aadconnect-get-started-custom.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-200">Install and run Azure AD Connect by using hello instructions at [Custom installation of Azure AD Connect](connect/active-directory-aadconnect-get-started-custom.md).</span></span>
   3. <span data-ttu-id="f8c37-201">디렉터리 동기화를 확인하고 관리합니다. 이 단계에는 SSO(Single Sign-On) 지침이 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-201">Verify and manage directory sync. Single sign-on instructions are available within this step.</span></span>
   
   <span data-ttu-id="f8c37-202">또한 [Azure AD Connect의 사용자 지정 설치](connect/active-directory-aadconnect-get-started-custom.md)에서 설명한 대로 AD FS를 사용하여 페더레이션을 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-202">In addition, configure federation with AD FS as outlined in [Custom installation of Azure AD Connect](connect/active-directory-aadconnect-get-started-custom.md).</span></span>

## <a name="upgrade-your-active-directory-domain-services-schema"></a><span data-ttu-id="f8c37-203">Active Directory 도메인 서비스 스키마 업그레이드</span><span class="sxs-lookup"><span data-stu-id="f8c37-203">Upgrade your Active Directory Domain Services schema</span></span>
> [!NOTE]
> <span data-ttu-id="f8c37-204">Active Directory 스키마를 업그레이드 한 후에 hello 프로세스를 취소할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-204">After you upgrade your Active Directory schema, hello process cannot be reversed.</span></span> <span data-ttu-id="f8c37-205">테스트 환경에서 hello 업그레이드를 먼저 수행 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-205">We recommend that you first perform hello upgrade in a test environment.</span></span>
> 

1. <span data-ttu-id="f8c37-206">엔터프라이즈 관리자와 스키마 관리자 권한이 모두 있는 계정으로 tooyour 도메인 컨트롤러에 로그인 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-206">Sign in tooyour domain controller with an account that has both enterprise administrator and schema administrator rights.</span></span>
2. <span data-ttu-id="f8c37-207">복사 hello **[media] \support\adprep** Active Directory 도메인 컨트롤러의 디렉터리와 하위 tooone (여기서 **[미디어]** hello 경로 toohello Windows Server 2012 R2 설치 미디어 ).</span><span class="sxs-lookup"><span data-stu-id="f8c37-207">Copy hello **[media]\support\adprep** directory and subdirectories tooone of your Active Directory domain controllers (where **[media]** is hello path toohello Windows Server 2012 R2 installation media).</span></span>
4. <span data-ttu-id="f8c37-208">명령 프롬프트에서 이동 toohello **adprep** 디렉터리 및 실행 **adprep.exe /forestprep**합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-208">From a command prompt, go toohello **adprep** directory and run **adprep.exe /forestprep**.</span></span> <span data-ttu-id="f8c37-209">Hello 화면에 나타나는 지침 toocomplete hello 스키마 업그레이드를 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-209">Follow hello onscreen instructions toocomplete hello schema upgrade.</span></span>

## <a name="prepare-your-active-directory-toosupport-devices"></a><span data-ttu-id="f8c37-210">Active Directory toosupport 장치 준비</span><span class="sxs-lookup"><span data-stu-id="f8c37-210">Prepare your Active Directory toosupport devices</span></span>
> [!NOTE]
> <span data-ttu-id="f8c37-211">이 한 번 실행 해야 하는지 tooprepare Active Directory 포리스트 toosupport 장치입니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-211">This is a one-time operation that you must run tooprepare your Active Directory forest toosupport devices.</span></span> <span data-ttu-id="f8c37-212">toocomplete이이 절차에서는 엔터프라이즈 관리자 권한을 사용 하 여 서명 해야 하 고 Active Directory 포리스트 hello Windows Server 2012 R2 스키마가 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-212">toocomplete this procedure, you must be signed in with enterprise administrator permissions and your Active Directory forest must have hello Windows Server 2012 R2 schema.</span></span>
> 


### <a name="prepare-your-active-directory-forest"></a><span data-ttu-id="f8c37-213">Active Directory 포리스트 준비</span><span class="sxs-lookup"><span data-stu-id="f8c37-213">Prepare your Active Directory forest</span></span>
1. <span data-ttu-id="f8c37-214">페더레이션 서버에서 Windows PowerShell 명령 창을 열고 **Initialize-ADDeviceRegistration**을 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-214">On your federation server, open a Windows PowerShell command window, and then type **Initialize-ADDeviceRegistration**.</span></span> 
2. <span data-ttu-id="f8c37-215">에 대 한 메시지가 표시 되 면 **ServiceAccountName**, AD FS에 대 한 hello 서비스 계정으로 선택한 hello 서비스 계정의 hello 이름을 입력 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-215">When prompted for **ServiceAccountName**, enter hello name of hello service account you selected as hello service account for AD FS.</span></span> <span data-ttu-id="f8c37-216">GMSA 계정인 경우 계정을 입력 하십시오 hello hello **domain\accountname$** 형식입니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-216">If it's a gMSA account, enter hello account in hello **domain\accountname$** format.</span></span> <span data-ttu-id="f8c37-217">도메인 계정에 대 한 hello 형식을 사용 하 여 **domain\accountname**합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-217">For a domain account, use hello format **domain\accountname**.</span></span>

### <a name="enable-device-authentication-in-ad-fs"></a><span data-ttu-id="f8c37-218">AD FS에서 장치 인증 사용</span><span class="sxs-lookup"><span data-stu-id="f8c37-218">Enable device authentication in AD FS</span></span>
1. <span data-ttu-id="f8c37-219">페더레이션 서버에서 hello AD FS 관리 콘솔을 열고 너무 이동**AD FS** > **인증 정책**합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-219">On your federation server, open hello AD FS management console and go too**AD FS** > **Authentication Policies**.</span></span>
2. <span data-ttu-id="f8c37-220">Hello에 **동작** 창 선택 **전역 기본 인증 편집**합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-220">On hello **Actions** pane, select **Edit Global Primary Authentication**.</span></span>
3. <span data-ttu-id="f8c37-221">**장치 인증 사용**을 선택한 다음 **확인**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-221">Check **Enable device authentication**, and then select **OK**.</span></span>
4. <span data-ttu-id="f8c37-222">기본적으로 AD FS는 Active Directory에서 사용하지 않은 장치를 정기적으로 제거합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-222">By default, AD FS periodically removes unused devices from Active Directory.</span></span> <span data-ttu-id="f8c37-223">Azure에서 장치를 관리할 수 있도록 Azure Active Directory 장치 등록 서비스를 사용하는 경우 이 작업을 비활성화합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-223">Disable this task when you're using Azure Active Directory device registration service so that devices can be managed in Azure.</span></span>

### <a name="disable-unused-device-cleanup"></a><span data-ttu-id="f8c37-224">사용하지 않은 장치 정리 사용 안 함</span><span class="sxs-lookup"><span data-stu-id="f8c37-224">Disable unused device cleanup</span></span>
<span data-ttu-id="f8c37-225">페더레이션 서버에서 Windows PowerShell 명령 창을 연 다음 **Set-AdfsDeviceRegistration -MaximumInactiveDays 0**을 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-225">On your federation server, open a Windows PowerShell command window, and then type **Set-AdfsDeviceRegistration -MaximumInactiveDays 0**.</span></span>

### <a name="prepare-azure-ad-connect-for-device-writeback"></a><span data-ttu-id="f8c37-226">장치 쓰기 저장을 위해 Azure AD Connect 준비</span><span class="sxs-lookup"><span data-stu-id="f8c37-226">Prepare Azure AD Connect for device writeback</span></span>
<span data-ttu-id="f8c37-227">'1부 Azure AD Connect 준비'를 완료합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-227">Complete part 1: Prepare Azure AD Connect.</span></span>

## <a name="join-devices-tooyour-workplace-by-using-azure-active-directory-device-registration-service"></a><span data-ttu-id="f8c37-228">Azure Active Directory 장치 등록 서비스를 사용 하 여 장치 tooyour 작업 공간 가입</span><span class="sxs-lookup"><span data-stu-id="f8c37-228">Join devices tooyour workplace by using Azure Active Directory device registration service</span></span>

### <a name="join-an-ios-device-by-using-azure-active-directory-device-registration"></a><span data-ttu-id="f8c37-229">Azure Active Directory 장치 등록을 사용하여 iOS 장치 연결</span><span class="sxs-lookup"><span data-stu-id="f8c37-229">Join an iOS device by using Azure Active Directory device registration</span></span>
<span data-ttu-id="f8c37-230">Hello Over-the-Air 프로필 등록 프로세스를 사용 하 여 iOS 장치에 대 한 azure Active Directory 장치 등록 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-230">Azure Active Directory device registration uses hello Over-the-Air Profile enrollment process for iOS devices.</span></span> <span data-ttu-id="f8c37-231">이 프로세스는 hello 사용자가 Safari를 사용 하 여 toohello 프로필 등록 URL을 시작 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-231">This process begins when hello user connects toohello profile enrollment URL with Safari.</span></span> <span data-ttu-id="f8c37-232">hello URL 형식은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-232">hello URL format is as follows:</span></span>

    https://enterpriseregistration.windows.net/enrollmentserver/otaprofile/"yourdomainname"

<span data-ttu-id="f8c37-233">이 경우 `yourdomainname` hello 도메인 이름이 Azure Active Directory로 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-233">In this case, `yourdomainname` is hello domain name that you configured with Azure Active Directory.</span></span> <span data-ttu-id="f8c37-234">예를 들어 도메인 이름이 contoso.com 인 경우 hello URL은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-234">For example, if your domain name is contoso.com, hello URL is as follows:</span></span>

    https://enterpriseregistration.windows.net/enrollmentserver/otaprofile/contoso.com

<span data-ttu-id="f8c37-235">이 URL tooyour 사용자가 여러 가지 방법으로 toocommunicate.</span><span class="sxs-lookup"><span data-stu-id="f8c37-235">There are many different ways toocommunicate this URL tooyour users.</span></span> <span data-ttu-id="f8c37-236">예를 들어 AD FS의 사용자 지정 응용 프로그램 액세스 거부 메시지에 이 URL을 게시하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-236">For example, one method we recommend is publishing this URL in a custom application access-denied message in AD FS.</span></span> <span data-ttu-id="f8c37-237">Hello 이후 섹션에서는이 정보를 다룹니다 [프로그램 응용 프로그램 액세스 정책 및 사용자 지정 액세스 거부 메시지 만들기](#create-an-application-access-policy-and-custom-access-denied-message)합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-237">This information is covered in hello upcoming section [Create an application access policy and custom access-denied message](#create-an-application-access-policy-and-custom-access-denied-message).</span></span>

### <a name="join-a-windows-81-device-by-using-azure-active-directory-device-registration"></a><span data-ttu-id="f8c37-238">Azure Active Directory 장치 등록을 사용하여 Windows 8.1 장치 연결</span><span class="sxs-lookup"><span data-stu-id="f8c37-238">Join a Windows 8.1 device by using Azure Active Directory device registration</span></span>
1. <span data-ttu-id="f8c37-239">Windows 8.1 장치에서 **PC 설정** > **네트워크** > **작업 공간**을 차례로 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-239">On your Windows 8.1 device, select **PC Settings** > **Network** > **Workplace**.</span></span>
2. <span data-ttu-id="f8c37-240">사용자 이름을 UPN 형식(예: **dan@contoso.com**)으로 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-240">Enter your user name in UPN format; for example, **dan@contoso.com**.</span></span>
3. <span data-ttu-id="f8c37-241">**연결**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-241">Select **Join**.</span></span>
4. <span data-ttu-id="f8c37-242">메시지가 표시되면 자격 증명으로 로그인합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-242">When prompted, sign in with your credentials.</span></span> <span data-ttu-id="f8c37-243">hello 장치가 연결 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-243">hello device is now joined.</span></span>

### <a name="join-a-windows-7-device-by-using-azure-active-directory-device-registration"></a><span data-ttu-id="f8c37-244">Azure Active Directory 장치 등록을 사용하여 Windows 7 장치 연결</span><span class="sxs-lookup"><span data-stu-id="f8c37-244">Join a Windows 7 device by using Azure Active Directory device registration</span></span>
<span data-ttu-id="f8c37-245">tooregister Windows 7 도메인 가입 장치 toodeploy hello 장치 등록 소프트웨어 패키지를 해야합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-245">tooregister Windows 7 domain-joined devices, you need toodeploy hello device registration software package.</span></span> <span data-ttu-id="f8c37-246">hello 소프트웨어 패키지 라고 작업 공간 연결에 대 한 Windows 7 및의 사용 가능한 hello에서 다운로드할 [Microsoft Connect 웹 사이트](https://connect.microsoft.com/site1164)합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-246">hello software package is called Workplace Join for Windows 7, and it's available for download at hello [Microsoft Connect website](https://connect.microsoft.com/site1164).</span></span> 

<span data-ttu-id="f8c37-247">사용할 수 있는 방법을 toouse hello 패키지에 대 한 지침은 [어떻게 tooconfigure 자동 등록의 Windows 도메인에 가입 된 Azure Active Directory를 사용 하 여 장치](active-directory-conditional-access-automatic-device-registration-setup.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-247">Instructions about how toouse hello package are available in [How tooconfigure automatic registration of Windows domain-joined devices with Azure Active Directory](active-directory-conditional-access-automatic-device-registration-setup.md).</span></span>

## <a name="verify-that-registered-devices-are-written-back-tooactive-directory"></a><span data-ttu-id="f8c37-248">등록 된 장치 쓰기 저장 tooActive 디렉터리를 확인 하십시오.</span><span class="sxs-lookup"><span data-stu-id="f8c37-248">Verify that registered devices are written back tooActive Directory</span></span>
<span data-ttu-id="f8c37-249">볼 수 있으며 있는지 장치 개체 쓰기 저장 된 Active Directory tooyour LDP.exe 및 ADSI 편집을 사용 하 여 확인 하십시오.</span><span class="sxs-lookup"><span data-stu-id="f8c37-249">You can view and verify that your device objects have been written back tooyour Active Directory by using LDP.exe or ADSI Edit.</span></span> <span data-ttu-id="f8c37-250">두 가지 hello Active Directory 관리자 도구와 함께 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-250">Both are available with hello Active Directory administrator tools.</span></span>

<span data-ttu-id="f8c37-251">기본적으로 Azure Active Directory에서 쓰기 저장 되는 장치 개체에에서 배치 됩니다 hello 동일한 AD FS 팜과 도메인입니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-251">By default, device objects that are written back from Azure Active Directory are placed in hello same domain as your AD FS farm.</span></span>

    CN=RegisteredDevices,defaultNamingContext

## <a name="create-an-application-access-policy-and-custom-access-denied-message"></a><span data-ttu-id="f8c37-252">응용 프로그램 액세스 정책 및 사용자 지정 액세스 거부 메시지 만들기</span><span class="sxs-lookup"><span data-stu-id="f8c37-252">Create an application access policy and custom access-denied message</span></span>
<span data-ttu-id="f8c37-253">Hello 시나리오를 따르는 것이 좋습니다: 응용 프로그램 AD FS에서 신뢰 당사자 트러스트를 만들고 등록 된 장치만 허용 하는 발급 권한 부여 규칙을 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-253">Consider hello following scenario: You create an application Relying Party Trust in AD FS and configure an Issuance Authorization Rule that allows only registered devices.</span></span> <span data-ttu-id="f8c37-254">이제 등록 된 장치만 tooaccess hello 응용 프로그램을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-254">Now only devices that are registered are allowed tooaccess hello application.</span></span> 

<span data-ttu-id="f8c37-255">toomake 방법에 대 한 지침을 포함 하는 사용자 지정 액세스 거부 메시지를 구성할 사용자 toogain access toohello 응용 프로그램을 쉽게 것 toojoin 장치입니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-255">toomake it easy for your users toogain access toohello application, you configure a custom access-denied message that includes instructions for how toojoin their device.</span></span> <span data-ttu-id="f8c37-256">이제 사용자가 없으므로 자연스럽 게 tooregister 장치 응용 프로그램에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-256">Now your users have a seamless way tooregister their devices so they can access an application.</span></span>

<span data-ttu-id="f8c37-257">hello 다음 단계 방법을 보여 줍니다 tooimplement이이 시나리오입니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-257">hello following steps show you how tooimplement this scenario.</span></span>

> [!NOTE]
> <span data-ttu-id="f8c37-258">이 섹션에서는 AD FS에서 응용 프로그램에 대한 신뢰 당사자 트러스트를 이미 구성했다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-258">This section assumes that you have already configured a Relying Party Trust for your application in AD FS.</span></span>
> 

1. <span data-ttu-id="f8c37-259">Hello AD FS MMC 도구를 열고 다음 선택 **AD FS** > **트러스트 관계** > **신뢰 당사자 트러스트**합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-259">Open hello AD FS MMC tool, and then select **AD FS** > **Trust Relationships** > **Relying Party Trusts**.</span></span>
2. <span data-ttu-id="f8c37-260">이 새 액세스 규칙이 적용 되는 hello 응용 프로그램 toowhich를 찾습니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-260">Locate hello application toowhich this new access rule applies.</span></span> <span data-ttu-id="f8c37-261">Hello 응용 프로그램을 마우스 오른쪽 단추로 클릭 한 다음 선택 **클레임 규칙 편집**합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-261">Right-click hello application, and then select **Edit Claim Rules**.</span></span>
3. <span data-ttu-id="f8c37-262">선택 hello **발급 권한 부여 규칙** 탭을 선택한 다음 선택 **규칙 추가**합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-262">Select hello **Issuance Authorization Rules** tab, and then select **Add Rule**.</span></span>
4. <span data-ttu-id="f8c37-263">Hello에서 **클레임 규칙** 서식 파일 드롭 다운 목록에서 **거부 들어오는 클레임에 따라 사용자 허용 또는**합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-263">From hello **Claim rule** template drop-down list, select **Permit or Deny Users Based on an Incoming Claim**.</span></span> <span data-ttu-id="f8c37-264">그런 후 **다음**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-264">Then select **Next**.</span></span>
5. <span data-ttu-id="f8c37-265">Hello에 **클레임 규칙 이름** 필드를 입력 **등록 된 장치에서 액세스를 허용**합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-265">In hello **Claim rule name** field, type **Permit access from registered devices**.</span></span>
6. <span data-ttu-id="f8c37-266">Hello에서 **들어오는 클레임 유형** 드롭 다운 목록 **등록 된 사용자**합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-266">From hello **Incoming claim type** drop-down list, select **Is Registered User**.</span></span>
7. <span data-ttu-id="f8c37-267">Hello에 **들어오는 클레임 값** 필드를 입력 **true**합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-267">In hello **Incoming claim value** field, type **true**.</span></span>
8. <span data-ttu-id="f8c37-268">선택 hello **이 들어오는 클레임으로 허용 액세스 toousers** 라디오 단추입니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-268">Select hello **Permit access toousers with this incoming claim** radio button.</span></span>
9. <span data-ttu-id="f8c37-269">**마침**을 선택한 다음 **적용**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-269">Select **Finish**, and then select **Apply**.</span></span>
10. <span data-ttu-id="f8c37-270">만든 hello 규칙 보다 허용 범위가 넓은 모든 규칙을 제거 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-270">Remove any rules that are more permissive than hello rule you created.</span></span> <span data-ttu-id="f8c37-271">예를 들어 hello 기본 규칙을 제거 **사용자 액세스 허용 tooall**합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-271">For example, remove hello default rule **Permit Access tooall Users**.</span></span>

<span data-ttu-id="f8c37-272">응용 프로그램에 이제 구성 된 tooallow hello 사용자는 등록 하 고 toohello 작업 공간 가입 된 장치에서 제공 하는 경우에 액세스입니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-272">Your application is now configured tooallow access only when hello user is coming from a device that they registered and joined toohello workplace.</span></span> <span data-ttu-id="f8c37-273">자세한 고급 액세스 정책은 [추가 Multi-Factor Authentication을 통해 중요한 응용 프로그램에 대한 위험 관리](https://technet.microsoft.com/library/dn280949.aspx)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f8c37-273">For more advanced access polices, see [Manage Risk with Additional Multi-Factor Authentication for Sensitive Applications](https://technet.microsoft.com/library/dn280949.aspx).</span></span>

<span data-ttu-id="f8c37-274">다음으로 응용 프로그램에 대한 사용자 지정 오류 메시지를 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-274">Next, you configure a custom error message for your application.</span></span> <span data-ttu-id="f8c37-275">hello 오류 메시지에는 사용자가 hello 응용 프로그램에 액세스 하기 전에 해당 장치 toohello 작업 공간에 연결 해야 알려 줍니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-275">hello error message lets users know that they must join their device toohello workplace before they can access hello application.</span></span> <span data-ttu-id="f8c37-276">사용자 지정 HTML 및 PowerShell을 사용하여 사용자 지정 응용 프로그램 액세스 거부 메시지를 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-276">You can create a custom application access-denied message by using custom HTML and PowerShell.</span></span>

<span data-ttu-id="f8c37-277">페더레이션 서버에서 PowerShell 명령 창을 열고 hello 다음 명령을 입력 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-277">On your federation server, open a PowerShell command window, and then type hello following command.</span></span> <span data-ttu-id="f8c37-278">특정 tooyour 시스템 항목과 hello 명령의 일부를 바꿉니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-278">Replace portions of hello command with items that are specific tooyour system:</span></span>

    Set-AdfsRelyingPartyWebContent -Name "relying party trust name" -ErrorPageAuthorizationErrorMessage
<span data-ttu-id="f8c37-279">이 응용 프로그램에 액세스하려면 먼저 장치를 등록해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-279">You must register your device before you can access this application.</span></span>

<span data-ttu-id="f8c37-280">**IOS 장치를 사용 하는 경우이 링크 toojoin 장치를 선택**:</span><span class="sxs-lookup"><span data-stu-id="f8c37-280">**If you are using an iOS device, select this link toojoin your device**:</span></span>

    a href='https://enterpriseregistration.windows.net/enrollmentserver/otaprofile/yourdomain.com

<span data-ttu-id="f8c37-281">이 iOS 장치 tooyour 작업 공간을 가입 시킵니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-281">Join this iOS device tooyour workplace.</span></span>

<span data-ttu-id="f8c37-282">Windows 8.1 장치를 사용하는 경우 **PC 설정**> **네트워크** > **작업 공간**을 차례로 선택하여 장치를 연결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-282">If you are using a Windows 8.1 device, you can join your device by selecting **PC Settings**> **Network** > **Workplace**.</span></span>

<span data-ttu-id="f8c37-283">Hello 명령 앞에 **신뢰 당사자 트러스트 이름** hello AD FS에서 응용 프로그램의 신뢰 당사자 트러스트 개체 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-283">In hello preceding commands, **relying party trust name** is hello name of your application's Relying Party Trust object in AD FS.</span></span>
<span data-ttu-id="f8c37-284">및 **yourdomain.com** Azure Active Directory (예: contoso.com)에 구성 된 hello 도메인 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-284">And **yourdomain.com** is hello domain name that you have configured with Azure Active Directory (for example, contoso.com).</span></span>
<span data-ttu-id="f8c37-285">모든 줄 바꿈 (있는 경우) hello HTML에서에서 toohello 전달 하는 콘텐츠 있는지 tooremove 수 **Set-adfsrelyingpartywebcontent** cmdlet.</span><span class="sxs-lookup"><span data-stu-id="f8c37-285">Be sure tooremove any line breaks (if any) from hello HTML content that you pass toohello **Set-AdfsRelyingPartyWebContent** cmdlet.</span></span>

<span data-ttu-id="f8c37-286">이제 사용자가 Azure Active Directory 장치 등록 서비스 hello로 등록 되지 않은 장치에서 응용 프로그램에 액세스, 유사한 toohello 스크린 샷 다음 페이지가 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f8c37-286">Now when users access your application from a device that's not registered with hello Azure Active Directory device registration service, they see a page that looks similar toohello following screenshot.</span></span>

![사용자가 자신의 장치를 Azure AD에 등록하지 않은 경우의 오류 스크린샷](./media/active-directory-conditional-access/error-azureDRS-device-not-registered.gif)


