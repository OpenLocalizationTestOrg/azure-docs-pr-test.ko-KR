---
title: "Azure MFA NPS 확장에 대한 오류 코드 문제 해결 | Microsoft Docs"
description: "일반적인 오류 메시지에 대한 구체적인 해결 방법으로 Azure Multi-factor Authentication용 NPS 확장 문제 해결에 대한 도움 얻기"
services: multi-factor-authentication
documentationcenter: 
author: kgremban
manager: femila
ms.assetid: 
ms.service: multi-factor-authentication
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/14/2017
ms.author: kgremban
ms.reviewer: yossib
ms.custom: it-pro
ms.openlocfilehash: 173353d67772c2549aa1b8ec9f2a471bd1c65677
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/03/2017
---
# <a name="resolve-error-messages-from-the-nps-extension-for-azure-multi-factor-authentication"></a><span data-ttu-id="067ce-103">Azure Multi-factor Authentication용 NPS 확장의 오류 메시지 해결</span><span class="sxs-lookup"><span data-stu-id="067ce-103">Resolve error messages from the NPS extension for Azure Multi-Factor Authentication</span></span>

<span data-ttu-id="067ce-104">Azure Multi-factor Authentication용 NPS 확장에서 오류가 발생하는 경우 이 문서를 사용하여 해결 방법을 더 빠르게 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-104">If you encounter errors with the NPS extension for Azure Multi-Factor Authentication, use this article to reach a resolution faster.</span></span> 

## <a name="troubleshooting-steps-for-common-errors"></a><span data-ttu-id="067ce-105">일반적인 오류에 대한 문제 해결 단계</span><span class="sxs-lookup"><span data-stu-id="067ce-105">Troubleshooting steps for common errors</span></span>

| <span data-ttu-id="067ce-106">오류 코드</span><span class="sxs-lookup"><span data-stu-id="067ce-106">Error code</span></span> | <span data-ttu-id="067ce-107">문제 해결 단계</span><span class="sxs-lookup"><span data-stu-id="067ce-107">Troubleshooting steps</span></span> |
| ---------- | --------------------- |
| <span data-ttu-id="067ce-108">**CONTACT_SUPPORT**</span><span class="sxs-lookup"><span data-stu-id="067ce-108">**CONTACT_SUPPORT**</span></span> | <span data-ttu-id="067ce-109">[지원에 문의](#contact-microsoft-support)하고 로그를 수집하기 위한 단계 목록을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-109">[Contact support](#contact-microsoft-support), and mention the list of steps for collecting logs.</span></span> <span data-ttu-id="067ce-110">테넌트 ID 및 UPN(사용자 계정 이름)을 포함하여 오류 발생 전에 진행된 작업에 대해 최대한 많은 정보를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-110">Provide as much information as you can about what happened before the error, including tenant id, and user principal name (UPN).</span></span> |
| <span data-ttu-id="067ce-111">**CLIENT_CERT_INSTALL_ERROR**</span><span class="sxs-lookup"><span data-stu-id="067ce-111">**CLIENT_CERT_INSTALL_ERROR**</span></span> | <span data-ttu-id="067ce-112">클라이언트 인증서가 설치되었거나 테넌트와 연결된 방식에 대해 문제가 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-112">There may be an issue with how the client certificate was installed or associated with your tenant.</span></span> <span data-ttu-id="067ce-113">[MFA NPS 확장 문제 해결](multi-factor-authentication-nps-extension.md#troubleshooting)의 지침에 따라 클라이언트 인증서 문제를 조사합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-113">Follow the instructions in [Troubleshooting the MFA NPS extension](multi-factor-authentication-nps-extension.md#troubleshooting) to investigate client cert problems.</span></span> |
| <span data-ttu-id="067ce-114">**ESTS_TOKEN_ERROR**</span><span class="sxs-lookup"><span data-stu-id="067ce-114">**ESTS_TOKEN_ERROR**</span></span> | <span data-ttu-id="067ce-115">[MFA NPS 확장 문제 해결](multi-factor-authentication-nps-extension.md#troubleshooting)의 지침에 따라 클라이언트 인증서 및 ADAL 토큰 문제를 조사합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-115">Follow the instructions in [Troubleshooting the MFA NPS extension](multi-factor-authentication-nps-extension.md#troubleshooting) to investigate client cert and ADAL token problems.</span></span> |
| <span data-ttu-id="067ce-116">**HTTPS_COMMUNICATION_ERROR**</span><span class="sxs-lookup"><span data-stu-id="067ce-116">**HTTPS_COMMUNICATION_ERROR**</span></span> | <span data-ttu-id="067ce-117">NPS 서버는 Azure MFA에서 응답을 받을 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-117">The NPS server is unable to receive responses from Azure MFA.</span></span> <span data-ttu-id="067ce-118">https://adnotifications.windowsazure.com과 양방향으로 트래픽을 주고 받도록 방화벽이 열려 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-118">Verify that your firewalls are open bidirectionally for traffic to and from https://adnotifications.windowsazure.com</span></span> |
| <span data-ttu-id="067ce-119">**HTTP_CONNECT_ERROR**</span><span class="sxs-lookup"><span data-stu-id="067ce-119">**HTTP_CONNECT_ERROR**</span></span> | <span data-ttu-id="067ce-120">NPS 확장을 실행하는 서버에서 https://adnotifications.windowsazure.com 및 https://login.microsoftonline.com/에 연결할 수 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-120">On the server that runs the NPS extension, verify that you can reach  https://adnotifications.windowsazure.com and https://login.microsoftonline.com/.</span></span> <span data-ttu-id="067ce-121">해당 사이트가 로드되지 않으면 해당 서버의 연결 문제를 해결합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-121">If those sites don't load, troubleshoot connectivity on that server.</span></span> |
| <span data-ttu-id="067ce-122">**REGISTRY_CONFIG_ERROR**</span><span class="sxs-lookup"><span data-stu-id="067ce-122">**REGISTRY_CONFIG_ERROR**</span></span> | <span data-ttu-id="067ce-123">설치 후에 [PowerShell 스크립트](multi-factor-authentication-nps-extension.md#install-the-nps-extension)가 실행되지 않았으므로 레지스트리에 응용 프로그램에 대한 키가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-123">A key is missing in the registry for the application, which may be because the [PowerShell script](multi-factor-authentication-nps-extension.md#install-the-nps-extension) wasn't run after installation.</span></span> <span data-ttu-id="067ce-124">오류 메시지에 누락된 키가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-124">The error message should include the missing key.</span></span> <span data-ttu-id="067ce-125">HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\AzureMfa 아래에 키가 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-125">Make sure you have the key under HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\AzureMfa.</span></span> |
| <span data-ttu-id="067ce-126">**REQUEST_FORMAT_ERROR**</span><span class="sxs-lookup"><span data-stu-id="067ce-126">**REQUEST_FORMAT_ERROR**</span></span> <br> <span data-ttu-id="067ce-127">Radius 요청에 필수 Radius userName\Identifier 특성이 없습니다. NPS가 RADIUS 요청을 수신하는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-127">Radius Request missing mandatory Radius userName\Identifier attribute.Verify that NPS is receiving RADIUS requests</span></span> | <span data-ttu-id="067ce-128">이 오류는 일반적으로 설치 문제를 반영합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-128">This error usually reflects an installation issue.</span></span> <span data-ttu-id="067ce-129">RADIUS 요청을 받을 수 있는 NPS 확장을 NPS 서버에 설치해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-129">The NPS extension must be installed in NPS servers that can receive RADIUS requests.</span></span> <span data-ttu-id="067ce-130">RRAS 및 RDG와 같은 서비스에 대한 종속성으로 설치된 NPS 서버가 radius 요청을 수신하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-130">NPS servers that are installed as dependencies for services like RDG and RRAS don't receive radius requests.</span></span> <span data-ttu-id="067ce-131">이러한 설치 위에 설치된 NPS 확장은 작동하지 않으며 인증 요청의 세부 정보를 읽을 수 없으므로 오류가 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-131">NPS Extension does not work when installed over such installations and errors out since it cannot read the details from the authentication request.</span></span> |
| <span data-ttu-id="067ce-132">**REQUEST_MISSING_CODE**</span><span class="sxs-lookup"><span data-stu-id="067ce-132">**REQUEST_MISSING_CODE**</span></span> | <span data-ttu-id="067ce-133">NPS 서버와 NAS 서버 간의 암호 암호화 프로토콜이 사용 중인 보조 인증 방법을 지원하는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-133">Make sure that the password encryption protocol between the NPS and NAS servers supports the secondary authentication method that you're using.</span></span> <span data-ttu-id="067ce-134">**PAP**는 클라우드에서 전화 통화, 단방향 문자 메시지, 모바일 앱 알림 및 모바일 앱 확인 코드와 같은 Azure MFA의 모든 인증 방법을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-134">**PAP** supports all the authentication methods of Azure MFA in the cloud: phone call, one-way text message, mobile app notification, and mobile app verification code.</span></span> <span data-ttu-id="067ce-135">**CHAPV2** 및 **EAP**는 전화 통화 및 모바일 앱 알림을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-135">**CHAPV2** and **EAP** support phone call and mobile app notification.</span></span> |
| <span data-ttu-id="067ce-136">**USERNAME_CANONICALIZATION_ERROR**</span><span class="sxs-lookup"><span data-stu-id="067ce-136">**USERNAME_CANONICALIZATION_ERROR**</span></span> | <span data-ttu-id="067ce-137">사용자가 온-프레미스 Active Directory 인스턴스에 존재하는지와 NPS 서비스에 디렉터리에 액세스할 수 있는 권한이 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-137">Verify that the user is present in your on-premises Active Directory instance, and that the NPS Service has permissions to access the directory.</span></span> <span data-ttu-id="067ce-138">포리스트 간 트러스트를 사용하는 경우 [지원 서비스](#contact-microsoft-support) 추가 지원을 요청하세요.</span><span class="sxs-lookup"><span data-stu-id="067ce-138">If you are using cross-forest trusts, [contact support](#contact-microsoft-support) for further help.</span></span> |


   

### <a name="alternate-login-id-errors"></a><span data-ttu-id="067ce-139">대체 로그인 ID 오류</span><span class="sxs-lookup"><span data-stu-id="067ce-139">Alternate login ID errors</span></span>

| <span data-ttu-id="067ce-140">오류 코드</span><span class="sxs-lookup"><span data-stu-id="067ce-140">Error code</span></span> | <span data-ttu-id="067ce-141">오류 메시지</span><span class="sxs-lookup"><span data-stu-id="067ce-141">Error message</span></span> | <span data-ttu-id="067ce-142">문제 해결 단계</span><span class="sxs-lookup"><span data-stu-id="067ce-142">Troubleshooting steps</span></span> |
| ---------- | ------------- | --------------------- |
| <span data-ttu-id="067ce-143">**ALTERNATE_LOGIN_ID_ERROR**</span><span class="sxs-lookup"><span data-stu-id="067ce-143">**ALTERNATE_LOGIN_ID_ERROR**</span></span> | <span data-ttu-id="067ce-144">오류: userObjectSid 조회 실패</span><span class="sxs-lookup"><span data-stu-id="067ce-144">Error: userObjectSid lookup failed</span></span> | <span data-ttu-id="067ce-145">사용자가 온-프레미스 Active Directory 인스턴스에 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-145">Verify that the user exists in your on-premises Active Directory instance.</span></span> <span data-ttu-id="067ce-146">포리스트 간 트러스트를 사용하는 경우 [지원 서비스](#contact-microsoft-support) 추가 지원을 요청하세요.</span><span class="sxs-lookup"><span data-stu-id="067ce-146">If you are using cross-forest trusts, [contact support](#contact-microsoft-support) for further help.</span></span> |
| <span data-ttu-id="067ce-147">**ALTERNATE_LOGIN_ID_ERROR**</span><span class="sxs-lookup"><span data-stu-id="067ce-147">**ALTERNATE_LOGIN_ID_ERROR**</span></span> | <span data-ttu-id="067ce-148">오류: 대체 LoginId 조회 실패</span><span class="sxs-lookup"><span data-stu-id="067ce-148">Error: Alternate LoginId lookup failed</span></span> | <span data-ttu-id="067ce-149">LDAP_ALTERNATE_LOGINID_ATTRIBUTE가 [유효한 Active Directory 특성](https://msdn.microsoft.com/library/ms675090(v=vs.85).aspx)으로 설정되어 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-149">Verify that LDAP_ALTERNATE_LOGINID_ATTRIBUTE is set to a [valid active directory attribute](https://msdn.microsoft.com/library/ms675090(v=vs.85).aspx).</span></span> <br><br> <span data-ttu-id="067ce-150">LDAP_FORCE_GLOBAL_CATALOG가 True로 설정되어 있거나 LDAP_LOOKUP_FORESTS가 비어 있지 않은 값으로 구성된 경우 글로벌 카탈로그를 구성했는지와 AlternateLoginId 특성이 추가되었는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-150">If LDAP_FORCE_GLOBAL_CATALOG is set to True, or LDAP_LOOKUP_FORESTS is configured with a non-empty value, verify that you have configured a Global Catalog and that the AlternateLoginId attribute is added to it.</span></span> <br><br> <span data-ttu-id="067ce-151">LDAP_LOOKUP_FORESTS가 비어 있지 않은 값으로 구성된 경우 해당 값이 올바른지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-151">If LDAP_LOOKUP_FORESTS is configured with a non-empty value, verify that the value is correct.</span></span> <span data-ttu-id="067ce-152">포리스트 이름을 여러 개 있으면 이름은 공백 없이 세미콜론으로 구분해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-152">If there is more than one forest name, the names must be separated with semi-colons, not spaces.</span></span> <br><br> <span data-ttu-id="067ce-153">이러한 단계로도 문제가 해결되지 않으면 [지원 서비스에 문의](#contact-microsoft-support)하세요.</span><span class="sxs-lookup"><span data-stu-id="067ce-153">If these steps don't fix the problem, [contact support](#contact-microsoft-support) for more help.</span></span> |
| <span data-ttu-id="067ce-154">**ALTERNATE_LOGIN_ID_ERROR**</span><span class="sxs-lookup"><span data-stu-id="067ce-154">**ALTERNATE_LOGIN_ID_ERROR**</span></span> | <span data-ttu-id="067ce-155">오류: 대체 LoginId 값이 비어 있음</span><span class="sxs-lookup"><span data-stu-id="067ce-155">Error: Alternate LoginId value is empty</span></span> | <span data-ttu-id="067ce-156">AlternateLoginId 특성이 사용자에 대해 구성되어 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-156">Verify that the AlternateLoginId attribute is configured for the user.</span></span> |


## <a name="errors-your-users-may-encounter"></a><span data-ttu-id="067ce-157">사용자에게 발생할 수 있는 오류</span><span class="sxs-lookup"><span data-stu-id="067ce-157">Errors your users may encounter</span></span>

| <span data-ttu-id="067ce-158">오류 코드</span><span class="sxs-lookup"><span data-stu-id="067ce-158">Error code</span></span> | <span data-ttu-id="067ce-159">오류 메시지</span><span class="sxs-lookup"><span data-stu-id="067ce-159">Error message</span></span> | <span data-ttu-id="067ce-160">문제 해결 단계</span><span class="sxs-lookup"><span data-stu-id="067ce-160">Troubleshooting steps</span></span> |
| ---------- | ------------- | --------------------- |
| <span data-ttu-id="067ce-161">**AccessDenied**</span><span class="sxs-lookup"><span data-stu-id="067ce-161">**AccessDenied**</span></span> | <span data-ttu-id="067ce-162">호출자 테넌트에 사용자를 인증하기 위한 액세스 권한이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-162">Caller tenant does not have access permissions to do authentication for the user</span></span> | <span data-ttu-id="067ce-163">테넌트 도메인 및 UPN(사용자 계정 이름)의 도메인이 동일한지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-163">Check whether the tenant domain and the domain of the user principal name (UPN) are the same.</span></span> <span data-ttu-id="067ce-164">예를 들어 user@contoso.com이 Contoso 테넌트에서 인증을 받으려고 하는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-164">For example, make sure that user@contoso.com is trying to authenticate to the Contoso tenant.</span></span> <span data-ttu-id="067ce-165">UPN은 Azure의 테넌트에 대해 유효한 사용자를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-165">The UPN represents a valid user for the tenant in Azure.</span></span> |
| <span data-ttu-id="067ce-166">**AuthenticationMethodNotConfigured**</span><span class="sxs-lookup"><span data-stu-id="067ce-166">**AuthenticationMethodNotConfigured**</span></span> | <span data-ttu-id="067ce-167">지정된 인증 방법이 사용자에 대해 구성되지 않았습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-167">The specified authentication method was not configured for the user</span></span> | <span data-ttu-id="067ce-168">[2단계 인증을 위한 설정 관리](./end-user/multi-factor-authentication-end-user-manage-settings.md)의 지침에 따라 사용자가 확인 방법을 추가하거나 확인하도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-168">Have the user add or verify their verification methods according to the instructions in [Manage your settings for two-step verification](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span></span> |
| <span data-ttu-id="067ce-169">**AuthenticationMethodNotSupported**</span><span class="sxs-lookup"><span data-stu-id="067ce-169">**AuthenticationMethodNotSupported**</span></span> | <span data-ttu-id="067ce-170">지정된 인증 방법이 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-170">Specified authentication method is not supported.</span></span> | <span data-ttu-id="067ce-171">이 오류를 포함하는 모든 로그를 수집하고 [지원 서비스에 문의](#contact-microsoft-support)합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-171">Collect all your logs that include this error, and [contact support](#contact-microsoft-support).</span></span> <span data-ttu-id="067ce-172">지원 서비스에 문의할 때 사용자 이름 및 오류를 트리거한 2차 확인 방법을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-172">When you contact support, provide the username and the secondary verification method that triggered the error.</span></span> |
| <span data-ttu-id="067ce-173">**BecAccessDenied**</span><span class="sxs-lookup"><span data-stu-id="067ce-173">**BecAccessDenied**</span></span> | <span data-ttu-id="067ce-174">MSODS Bec 호출이 액세스 거부 오류를 반환했습니다. 테넌트에 사용자 이름이 정의되지 않은 것 같습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-174">MSODS Bec call returned access denied, probably the username is not defined in the tenant</span></span> | <span data-ttu-id="067ce-175">사용자가 온-프레미스의 Active Directory에 있으나 AD Connect에 의해 Azure AD와 동기화되지 않았습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-175">The user is present in Active Directory on-premises but is not synced into Azure AD by AD Connect.</span></span> <span data-ttu-id="067ce-176">또는 테넌트에 해당 사용자가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-176">Or, the user is missing for the tenant.</span></span> <span data-ttu-id="067ce-177">Azure AD에 사용자를 추가하고 [2단계 인증을 위한 설정 관리](./end-user/multi-factor-authentication-end-user-manage-settings.md)의 지침에 따라 확인 방법을 추가하도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-177">Add the user to Azure AD and have them add their verification methods according to the instructions in [Manage your settings for two-step verification](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span></span> |
| <span data-ttu-id="067ce-178">**InvalidFormat** 또는 **StrongAuthenticationServiceInvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="067ce-178">**InvalidFormat** or **StrongAuthenticationServiceInvalidParameter**</span></span> | <span data-ttu-id="067ce-179">전화 번호가 인식할 수 없는 형식입니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-179">The phone number is in an unrecognizable format</span></span> | <span data-ttu-id="067ce-180">사용자가 해당 확인 전화 번호를 수정하도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-180">Have the user correct their verification phone numbers.</span></span> |
| <span data-ttu-id="067ce-181">**InvalidSession**</span><span class="sxs-lookup"><span data-stu-id="067ce-181">**InvalidSession**</span></span> | <span data-ttu-id="067ce-182">지정된 세션이 유효하지 않거나 만료되었을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-182">The specified session is invalid or may have expired</span></span> | <span data-ttu-id="067ce-183">세션이 완료되는 데 3분 넘게 걸렸습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-183">The session has taken more than three minutes to complete.</span></span> <span data-ttu-id="067ce-184">사용자가 인증 요청을 시작하고 3분 이내에 확인 코드를 입력하는지 또는 앱 알림 인증 요청에 응답하는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-184">Verify that the user is entering the verification code, or responding to the app notification, within three minutes of initiating the authentication request.</span></span> <span data-ttu-id="067ce-185">그러도 문제가 해결되지 않으면 클라이언트, 서버 NAS, NPS 서버 및 Azure MFA 끝점 간에 네트워크 대기 시간이 없는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-185">If that doesn't fix the problem, check that there are no network latencies between client, NAS Server, NPS Server, and the Azure MFA endpoint.</span></span>  |
| <span data-ttu-id="067ce-186">**NoDefaultAuthenticationMethodIsConfigured**</span><span class="sxs-lookup"><span data-stu-id="067ce-186">**NoDefaultAuthenticationMethodIsConfigured**</span></span> | <span data-ttu-id="067ce-187">사용자에 대해 기본 인증 방법이 구성되지 않았습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-187">No default authentication method was configured for the user</span></span> | <span data-ttu-id="067ce-188">[2단계 인증을 위한 설정 관리](./end-user/multi-factor-authentication-end-user-manage-settings.md)의 지침에 따라 사용자가 확인 방법을 추가하거나 확인하도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-188">Have the user add or verify their verification methods according to the instructions in [Manage your settings for two-step verification](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span></span> <span data-ttu-id="067ce-189">사용자가 기본 인증 방법을 선택했는지와 계정에 대해 해당 방법을 구성했는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-189">Verify that the user has chosen a default authentication method, and configured that method for their account.</span></span> |
| <span data-ttu-id="067ce-190">**OathCodePinIncorrect**</span><span class="sxs-lookup"><span data-stu-id="067ce-190">**OathCodePinIncorrect**</span></span> | <span data-ttu-id="067ce-191">잘못된 코드 및 PIN을 입력했습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-191">Wrong code and pin entered.</span></span> | <span data-ttu-id="067ce-192">NPS 확장에서는 이 오류가 발생하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-192">This error is not expected in the NPS extension.</span></span> <span data-ttu-id="067ce-193">이 오류가 발생하는 경우 [지원 서비스](#contact-microsoft-support)에서 문제 해결을 위한 지원을 받습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-193">If your user encounters this, [contact support](#contact-microsoft-support) for troubleshooting help.</span></span> |
| <span data-ttu-id="067ce-194">**ProofDataNotFound**</span><span class="sxs-lookup"><span data-stu-id="067ce-194">**ProofDataNotFound**</span></span> | <span data-ttu-id="067ce-195">지정된 인증 방법에 대해 교정 데이터가 구성되지 않았습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-195">Proof data was not configured for the specified authentication method.</span></span> | <span data-ttu-id="067ce-196">사용자에게 [2단계 인증을 위한 설정 관리](./end-user/multi-factor-authentication-end-user-manage-settings.md)의 지침에 따라 다른 확인 방법을 시도하거나 새 확인 방법을 추가하도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-196">Have the user try a different verification method, or add a new verification methods according to the instructions in [Manage your settings for two-step verification](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span></span> <span data-ttu-id="067ce-197">확인 방법이 올바르게 설정되었는지 확인한 후에도 이 오류가 계속 발생하면 [지원 서비스에 문의](#contact-microsoft-support)합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-197">If the user continues to see this error after you confirmed that their verification method is set up correctly, [contact support](#contact-microsoft-support).</span></span> |
| <span data-ttu-id="067ce-198">**SMSAuthFailedWrongCodePinEntered**</span><span class="sxs-lookup"><span data-stu-id="067ce-198">**SMSAuthFailedWrongCodePinEntered**</span></span> | <span data-ttu-id="067ce-199">잘못된 코드 및 PIN을 입력했습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-199">Wrong code and pin entered.</span></span> <span data-ttu-id="067ce-200">(OneWaySMS)</span><span class="sxs-lookup"><span data-stu-id="067ce-200">(OneWaySMS)</span></span> | <span data-ttu-id="067ce-201">NPS 확장에서는 이 오류가 발생하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-201">This error is not expected in the NPS extension.</span></span> <span data-ttu-id="067ce-202">이 오류가 발생하는 경우 [지원 서비스](#contact-microsoft-support)에서 문제 해결을 위한 지원을 받습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-202">If your user encounters this, [contact support](#contact-microsoft-support) for troubleshooting help.</span></span> |
| <span data-ttu-id="067ce-203">**TenantIsBlocked**</span><span class="sxs-lookup"><span data-stu-id="067ce-203">**TenantIsBlocked**</span></span> | <span data-ttu-id="067ce-204">테넌트가 차단되었습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-204">Tenant is blocked</span></span> | <span data-ttu-id="067ce-205">[지원 서비스에 문의](#contact-microsoft-support)하고 Azure Portal의 Azure AD 속성 페이지에 표시되는 디렉터리 ID를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-205">[Contact support](#contact-microsoft-support) with Directory ID from the Azure AD properties page in the Azure portal.</span></span> |
| <span data-ttu-id="067ce-206">**UserNotFound**</span><span class="sxs-lookup"><span data-stu-id="067ce-206">**UserNotFound**</span></span> | <span data-ttu-id="067ce-207">지정된 사용자를 찾을 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-207">The specified user was not found</span></span> | <span data-ttu-id="067ce-208">테넌트가 더 이상 Azure AD에서 활성으로 표시되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-208">The tenant is no longer visible as active in Azure AD.</span></span> <span data-ttu-id="067ce-209">구독이 활성 상태인지와 자사 앱을 요청했는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-209">Check that your subscription is active and you have the required first party apps.</span></span> <span data-ttu-id="067ce-210">또한 인증서 주체의 테넌트가 예상과 같은지 및 인증서가 여전히 유효하고 서비스 사용자에 등록되어 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-210">Also make sure the tenant in the certificate subject is as expected and the cert is still valid and registered under the service principal.</span></span> |

## <a name="messages-your-users-may-encounter-that-arent-errors"></a><span data-ttu-id="067ce-211">사용자에게 표시될 수 있는 오류가 아닌 메시지</span><span class="sxs-lookup"><span data-stu-id="067ce-211">Messages your users may encounter that aren't errors</span></span>

<span data-ttu-id="067ce-212">경우에 따라 인증 요청이 실패했기 때문에 Multi-Factor Authentication에서 메시지가 표시될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-212">Sometimes, your users may get messages from Multi-Factor Authentication because their authentication request failed.</span></span> <span data-ttu-id="067ce-213">이것은 제품 구성에 따른 오류가 아니며 인증 요청이 거부된 이유를 설명하는 의도적인 경고입니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-213">These aren't errors in the product of configuration, but are intentional warnings explaining why an authentication request was denied.</span></span>

| <span data-ttu-id="067ce-214">오류 코드</span><span class="sxs-lookup"><span data-stu-id="067ce-214">Error code</span></span> | <span data-ttu-id="067ce-215">오류 메시지</span><span class="sxs-lookup"><span data-stu-id="067ce-215">Error message</span></span> | <span data-ttu-id="067ce-216">권장되는 단계</span><span class="sxs-lookup"><span data-stu-id="067ce-216">Recommended steps</span></span> | 
| ---------- | ------------- | ----------------- |
| <span data-ttu-id="067ce-217">**OathCodeIncorrect**</span><span class="sxs-lookup"><span data-stu-id="067ce-217">**OathCodeIncorrect**</span></span> | <span data-ttu-id="067ce-218">잘못된 코드를 입력했거나 OATH 코드가 올바르지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-218">Wrong code entered\OATH Code Incorrect</span></span> | <span data-ttu-id="067ce-219">오류가 아닙니다. 사용자가 잘못된 코드를 입력했습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-219">Not an error,User has entered wrong code.</span></span> | <span data-ttu-id="067ce-220">사용자가 잘못된 코드를 입력했습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-220">The user entered the wrong code.</span></span> <span data-ttu-id="067ce-221">새 코드를 요청하거나 다시 로그인하여 다시 시도하도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-221">Have them try again by requesting a new code or signing in again.</span></span> | 
| <span data-ttu-id="067ce-222">**SMSAuthFailedMaxAllowedCodeRetryReached**</span><span class="sxs-lookup"><span data-stu-id="067ce-222">**SMSAuthFailedMaxAllowedCodeRetryReached**</span></span> | <span data-ttu-id="067ce-223">허용되는 최대 코드 다시 시도 횟수에 도달했습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-223">Maximum allowed code retry reached</span></span> | <span data-ttu-id="067ce-224">사용자가 너무 여러 번 확인 요청에 실패했습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-224">The user failed the verification challenge too many times.</span></span> <span data-ttu-id="067ce-225">설정에 따라 관리자가 차단을 해제해야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-225">Depending on your settings, they may need to be unblocked by an admin now.</span></span>  |
| <span data-ttu-id="067ce-226">**SMSAuthFailedWrongCodeEntered**</span><span class="sxs-lookup"><span data-stu-id="067ce-226">**SMSAuthFailedWrongCodeEntered**</span></span> | <span data-ttu-id="067ce-227">잘못된 코드를 입력했거나 텍스트 메시지 OTP가 올바르지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-227">Wrong code entered/Text Message OTP Incorrect</span></span> | <span data-ttu-id="067ce-228">사용자가 잘못된 코드를 입력했습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-228">The user entered the wrong code.</span></span> <span data-ttu-id="067ce-229">새 코드를 요청하거나 다시 로그인하여 다시 시도하도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-229">Have them try again by requesting a new code or signing in again.</span></span> |

## <a name="errors-that-require-support"></a><span data-ttu-id="067ce-230">지원이 필요한 오류</span><span class="sxs-lookup"><span data-stu-id="067ce-230">Errors that require support</span></span>

<span data-ttu-id="067ce-231">이러한 오류 중 하나가 발생하면 [지원 서비스에 문의](#contact-microsoft-support)하여 진단 도움을 받는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-231">If you encounter one of these errors, we recommend that you [contact support](#contact-microsoft-support) for diagnostic help.</span></span> <span data-ttu-id="067ce-232">이러한 오류를 해결할 수 있는 표준 단계는 없습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-232">There's no standard set of steps that can address these errors.</span></span> <span data-ttu-id="067ce-233">지원 서비스에 문의할 때 오류를 발생시킨 단계에 대해 최대한 많은 정보를 제공하고 테넌트 정보도 제공해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-233">When you do contact support, be sure to include as much information as possible about the steps that led to an error, and your tenant information.</span></span>

| <span data-ttu-id="067ce-234">오류 코드</span><span class="sxs-lookup"><span data-stu-id="067ce-234">Error code</span></span> | <span data-ttu-id="067ce-235">오류 메시지</span><span class="sxs-lookup"><span data-stu-id="067ce-235">Error message</span></span> |
| ---------- | ------------- |
| <span data-ttu-id="067ce-236">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="067ce-236">**InvalidParameter**</span></span> | <span data-ttu-id="067ce-237">요청은 null이 아니어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-237">Request must not be null</span></span> |
| <span data-ttu-id="067ce-238">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="067ce-238">**InvalidParameter**</span></span> | <span data-ttu-id="067ce-239">ReplicationScope:{0}의 경우 ObjectId는 null 또는 공백이 아니어야 합니다</span><span class="sxs-lookup"><span data-stu-id="067ce-239">ObjectId must not be null or empty for ReplicationScope:{0}</span></span> |
| <span data-ttu-id="067ce-240">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="067ce-240">**InvalidParameter**</span></span> | <span data-ttu-id="067ce-241">CompanyName 길이 \{0}\이(가)) 최대 허용 길이 {1}보다 깁니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-241">The length of CompanyName \{0}\ is longer than the maximum allowed length {1}</span></span> |
| <span data-ttu-id="067ce-242">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="067ce-242">**InvalidParameter**</span></span> | <span data-ttu-id="067ce-243">UserPrincipalName은 null 또는 공백이 아니어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-243">UserPrincipalName must not be null or empty</span></span> |
| <span data-ttu-id="067ce-244">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="067ce-244">**InvalidParameter**</span></span> | <span data-ttu-id="067ce-245">제공된 TenantId가 올바른 형식이 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-245">The provided TenantId is not in correct format</span></span> |
| <span data-ttu-id="067ce-246">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="067ce-246">**InvalidParameter**</span></span> | <span data-ttu-id="067ce-247">SessionId는 null 또는 공백이 아니어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-247">SessionId must not be null or empty</span></span> |
| <span data-ttu-id="067ce-248">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="067ce-248">**InvalidParameter**</span></span> | <span data-ttu-id="067ce-249">요청 또는 Msod에서 ProofData를 확인할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-249">Could not resolve any ProofData from request or Msods.</span></span> <span data-ttu-id="067ce-250">ProofData를 알 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-250">The ProofData is unKnown</span></span> |
| <span data-ttu-id="067ce-251">**InternalError**</span><span class="sxs-lookup"><span data-stu-id="067ce-251">**InternalError**</span></span> |  |
| <span data-ttu-id="067ce-252">**OathCodePinIncorrect**</span><span class="sxs-lookup"><span data-stu-id="067ce-252">**OathCodePinIncorrect**</span></span> |  |
| <span data-ttu-id="067ce-253">**VersionNotSupported**</span><span class="sxs-lookup"><span data-stu-id="067ce-253">**VersionNotSupported**</span></span> |  |
| <span data-ttu-id="067ce-254">**MFAPinNotSetup**</span><span class="sxs-lookup"><span data-stu-id="067ce-254">**MFAPinNotSetup**</span></span> |  |

## <a name="next-steps"></a><span data-ttu-id="067ce-255">다음 단계</span><span class="sxs-lookup"><span data-stu-id="067ce-255">Next steps</span></span>

### <a name="troubleshoot-user-accounts"></a><span data-ttu-id="067ce-256">사용자 계정 문제 해결</span><span class="sxs-lookup"><span data-stu-id="067ce-256">Troubleshoot user accounts</span></span>

<span data-ttu-id="067ce-257">사용자에게 [2단계 인증 문제가 발생하면](./end-user/multi-factor-authentication-end-user-troubleshoot.md) 문제를 자체 진단하도록 도와주세요.</span><span class="sxs-lookup"><span data-stu-id="067ce-257">If your users are [Having trouble with two-step verification](./end-user/multi-factor-authentication-end-user-troubleshoot.md), help them self-diagnose problems.</span></span> 

### <a name="contact-microsoft-support"></a><span data-ttu-id="067ce-258">Microsoft 지원에 문의</span><span class="sxs-lookup"><span data-stu-id="067ce-258">Contact Microsoft support</span></span>

<span data-ttu-id="067ce-259">추가 지원이 필요한 경우 [Azure Multi-Factor Authentication 서버 지원](https://support.microsoft.com/oas/default.aspx?prid=14947)을 통해 지원 전문가에게 문의하세요.</span><span class="sxs-lookup"><span data-stu-id="067ce-259">If you need additional help, contact a support professional through [Azure Multi-Factor Authentication Server support](https://support.microsoft.com/oas/default.aspx?prid=14947).</span></span> <span data-ttu-id="067ce-260">문의하는 경우 가능한 문제에 대한 많은 정보를 제공해주시면 도움이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-260">When contacting us, it's helpful if you can include as much information about your issue as possible.</span></span> <span data-ttu-id="067ce-261">오류를 발견한 페이지, 특정 오류 코드, 특정 세션 ID, 오류를 발견한 사용자의 ID 및 디버그 로그를 포함하는 정보를 제공해 주시면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-261">Information you can supply includes the page where you saw the error, the specific error code, the specific session ID, the ID of the user who saw the error, and debug logs.</span></span>

<span data-ttu-id="067ce-262">지원 진단에 대한 디버그 로그를 수집하려면 다음 단계를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-262">To collect debug logs for support diagnostics, use the following steps:</span></span> 

1. <span data-ttu-id="067ce-263">관리자 명령 프롬프트를 열고 다음 명령을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-263">Open an Administrator command prompt and run these commands:</span></span>

   ```
   Mkdir c:\NPS
   Cd NPS
   netsh trace start Scenario=NetConnection capture=yes tracefile=c:\NPS\nettrace.etl
   logman create trace "NPSExtension" -ow -o c:\NPS\NPSExtension.etl -p {7237ED00-E119-430B-AB0F-C63360C8EE81} 0xffffffffffffffff 0xff -nb 16 16 -bs 1024 -mode Circular -f bincirc -max 4096 -ets
   logman update trace "NPSExtension" -p {EC2E6D3A-C958-4C76-8EA4-0262520886FF} 0xffffffffffffffff 0xff -ets
   ```

2. <span data-ttu-id="067ce-264">문제 재현</span><span class="sxs-lookup"><span data-stu-id="067ce-264">Reproduce the issue</span></span>

3. <span data-ttu-id="067ce-265">다음 명령을 사용하여 추적을 중지합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-265">Stop the tracing with these commands:</span></span>

   ```
   logman stop "NPSExtension" -ets
   netsh trace stop
   wevtutil epl AuthNOptCh C:\NPS\%computername%_AuthNOptCh.evtx
   wevtutil epl AuthZOptCh C:\NPS\%computername%_AuthZOptCh.evtx
   wevtutil epl AuthZAdminCh C:\NPS\%computername%_AuthZAdminCh.evtx
   Start .
   ```

4. <span data-ttu-id="067ce-266">C:\NPS 폴더의 내용을 Zip으로 압축하고 지원 사례에 Zip 파일을 첨부합니다.</span><span class="sxs-lookup"><span data-stu-id="067ce-266">Zip the contents of the C:\NPS folder and attach the zipped file to the support case.</span></span>


