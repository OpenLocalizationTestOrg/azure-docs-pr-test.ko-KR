---
title: "Machine Learning에서 선형 회귀 사용 | Microsoft Docs"
description: "Excel과 Azure 기계 학습 스튜디오의 선형 회귀 모델 비교"
metakeywords: 
services: machine-learning
documentationcenter: 
author: garyericson
manager: jhubbard
editor: cgronlun
ms.assetid: 417ae6ab-de4f-4bdd-957a-d96133234656
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/20/2017
ms.author: kbaroni;garye
ms.openlocfilehash: 7feb5d62415850e66f8eb7e22b9ada0d25a7058e
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/11/2017
---
# <a name="using-linear-regression-in-azure-machine-learning"></a><span data-ttu-id="4e3e6-103">Azure 기계 학습에서 선형 회귀 사용</span><span class="sxs-lookup"><span data-stu-id="4e3e6-103">Using linear regression in Azure Machine Learning</span></span>
> <span data-ttu-id="4e3e6-104">*Kate Baroni*와 *Ben Boatman*은 Microsoft Data Insights Center of Excellence의 엔터프라이즈 솔루션 설계자입니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-104">*Kate Baroni* and *Ben Boatman* are enterprise solution architects in Microsoft’s Data Insights Center of Excellence.</span></span> <span data-ttu-id="4e3e6-105">이 문서에서는 이 두 사람이 Azure 기계 학습을 사용하여 기존 선형 분석 모음을 클라우드 기반 솔루션으로 마이그레이션한 경험을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-105">In this article, they describe their experience migrating an existing regression analysis suite to a cloud-based solution using Azure Machine Learning.</span></span> 
> 
> 

&nbsp; 

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

## <a name="goal"></a><span data-ttu-id="4e3e6-106">목표</span><span class="sxs-lookup"><span data-stu-id="4e3e6-106">Goal</span></span>
<span data-ttu-id="4e3e6-107">다음 두 가지 목표를 염두에 두고 프로젝트를 시작했습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-107">Our project started with two goals in mind:</span></span> 

1. <span data-ttu-id="4e3e6-108">예측 분석을 사용하여 조직의 월별 수익 예측에 대한 정확도 향상</span><span class="sxs-lookup"><span data-stu-id="4e3e6-108">Use predictive analytics to improve the accuracy of our organization’s monthly revenue projections</span></span> 
2. <span data-ttu-id="4e3e6-109">Azure Machine Learning을 사용하여 결과 확인, 최적화, 속도 증가 및 확장</span><span class="sxs-lookup"><span data-stu-id="4e3e6-109">Use Azure Machine Learning to confirm, optimize, increase velocity, and scale of our results.</span></span> 

<span data-ttu-id="4e3e6-110">많은 기업과 마찬가지로 우리 조직에서도 월별 수익 예측 프로세스를 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-110">Like many businesses, our organization goes through a monthly revenue forecasting process.</span></span> <span data-ttu-id="4e3e6-111">소규모 비즈니스 분석가 팀이 Azure Machine Learning을 사용하여 프로세스를 지원하고 예측 정확도를 개선하는 업무를 맡았습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-111">Our small team of business analysts was tasked with using Azure Machine Learning to support the process and improve forecast accuracy.</span></span> <span data-ttu-id="4e3e6-112">이 팀은 여러 소스에서 데이터를 수집하고 서비스 판매량 매출과 관련된 주요 특성을 식별하는 통계 분석을 통해 데이터 특성을 실행하는 데 몇 달을 보냈습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-112">The team spent several months collecting data from multiple sources and running the data attributes through statistical analysis identifying key attributes relevant to services sales forecasting.</span></span> <span data-ttu-id="4e3e6-113">다음 단계는 Excel에서 데이터에 대한 통계 회귀 모델 프로토타입 작성을 시작하는 것이었습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-113">The next step was to begin prototyping statistical regression models on the data in Excel.</span></span> <span data-ttu-id="4e3e6-114">몇 주 내에 현재 필드 및 재무 예측 프로세스를 능가하는 Excel 회귀 모델이 완성되었습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-114">Within a few weeks, we had an Excel regression model that was outperforming the current field and finance forecasting processes.</span></span> <span data-ttu-id="4e3e6-115">이를 기준 예측 결과로 사용했습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-115">This became the baseline prediction result.</span></span> 

<span data-ttu-id="4e3e6-116">예측 분석을 Azure Machine Learning으로 전환하는 다음 단계는 Azure Machine Learning이 예측 성능을 어떻게 향상시킬 수 있는지 확인하는 것이었습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-116">We then took the next step to moving our predictive analytics over to Azure Machine Learning to find out how Machine Learning could improve on predictive performance.</span></span>

## <a name="achieving-predictive-performance-parity"></a><span data-ttu-id="4e3e6-117">예측 성능 패리티 달성</span><span class="sxs-lookup"><span data-stu-id="4e3e6-117">Achieving predictive performance parity</span></span>
<span data-ttu-id="4e3e6-118">첫 번째 우선 순위는 Azure Machine Learning과 Excel 회귀 모델 간의 패리티를 달성하는 것이었습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-118">Our first priority was to achieve parity between Machine Learning and Excel regression models.</span></span> <span data-ttu-id="4e3e6-119">동일한 데이터를 사용하고 학습 및 테스트할 데이터를 정확히 분할하여 Excel과 Azure Machine Learning 간에 예측 성능 패리티를 달성하려고 했습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-119">Given the same data, and the same split for training and testing data, we wanted to achieve predictive performance parity between Excel and Machine Learning.</span></span> <span data-ttu-id="4e3e6-120">처음에는 실패했습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-120">Initially we failed.</span></span> <span data-ttu-id="4e3e6-121">Excel 모델의 성능이 Machine Learning 모델보다 뛰어났습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-121">The Excel model outperformed the Machine Learning model.</span></span> <span data-ttu-id="4e3e6-122">Azure Machine Learning의 기본 도구 설정에 대한 이해가 부족한 것이 원인이었습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-122">The failure was due to a lack of understanding of the base tool setting in Machine Learning.</span></span> <span data-ttu-id="4e3e6-123">Azure Machine Learning 제품 팀과 동기화한 후 데이터 집합에 필요한 기본 설정을 보다 잘 이해하고 두 모델 간에 패리티를 달성할 수 있었습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-123">After a sync with the Machine Learning product team, we gained a better understanding of the base setting required for our data sets, and achieved parity between the two models.</span></span> 

### <a name="create-regression-model-in-excel"></a><span data-ttu-id="4e3e6-124">Excel에서 회귀 모델 만들기</span><span class="sxs-lookup"><span data-stu-id="4e3e6-124">Create regression model in Excel</span></span>
<span data-ttu-id="4e3e6-125">Excel 회귀에서는 Excel 분석 도구에 있는 표준 선형 회귀 모델을 사용했습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-125">Our Excel Regression used the standard linear regression model found in the Excel Analysis ToolPak.</span></span> 

<span data-ttu-id="4e3e6-126">*절대 평균 오차율(%)* 을 계산하여 이를 모델의 성능 척도로 사용했습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-126">We calculated *Mean Absolute % Error* and used it as the performance measure for the model.</span></span> <span data-ttu-id="4e3e6-127">Excel을 사용하여 작동하는 모델을 만드는 데 3개월이 걸렸습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-127">It took 3 months to arrive at a working model using Excel.</span></span> <span data-ttu-id="4e3e6-128">대부분의 학습을 Azure Machine Learning Studio 실험으로 가져와 궁극적으로 요구 사항을 이해하는 데 활용했습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-128">We brought much of the learning into the Machine Learning Studio experiment which ultimately was beneficial in understanding requirements.</span></span>

### <a name="create-comparable-experiment-in-azure-machine-learning"></a><span data-ttu-id="4e3e6-129">Azure 기계 학습에서 비교 가능한 실험 만들기</span><span class="sxs-lookup"><span data-stu-id="4e3e6-129">Create comparable experiment in Azure Machine Learning</span></span>
<span data-ttu-id="4e3e6-130">다음 단계에 따라 Machine Learning Studio에서 실험을 만들었습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-130">We followed these steps to create our experiment in Machine Learning Studio:</span></span> 

1. <span data-ttu-id="4e3e6-131">데이터 집합을 csv 파일(매우 작은 파일)로 Machine Learning Studio에 업로드했습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-131">Uploaded the dataset as a csv file to Machine Learning Studio (very small file)</span></span>
2. <span data-ttu-id="4e3e6-132">새 실험을 만들고 [데이터 집합의 열 선택][select-columns] 모듈을 사용하여 Excel에서 사용되는 동일한 데이터 기능을 선택했습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-132">Created a new experiment and used the [Select Columns in Dataset][select-columns] module to select the same data features used in Excel</span></span> 
3. <span data-ttu-id="4e3e6-133">[데이터 분할][split] 모듈(*상대 식* 모드)을 사용하여 데이터를 Excel에서 수행한 것과 동일한 학습 데이터 집합으로 나누었습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-133">Used the [Split Data][split] module (with *Relative Expression* mode) to divide the data into the same training datasets as had been done in Excel</span></span> 
4. <span data-ttu-id="4e3e6-134">[Linear Regression][linear-regression] 모듈(기본 옵션만)로 실험하고 기록하여 결과를 Excel 회귀 모델과 비교했습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-134">Experimented with the [Linear Regression][linear-regression] module (default options only), documented, and compared the results to our Excel regression model</span></span>

### <a name="review-initial-results"></a><span data-ttu-id="4e3e6-135">초기 결과 검토</span><span class="sxs-lookup"><span data-stu-id="4e3e6-135">Review initial results</span></span>
<span data-ttu-id="4e3e6-136">Excel 모델의 성능이 Machine Learning Studio 모델보다 분명히 뛰어났습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-136">At first, the Excel model clearly outperformed the Machine Learning Studio model:</span></span> 

|  | <span data-ttu-id="4e3e6-137">Excel</span><span class="sxs-lookup"><span data-stu-id="4e3e6-137">Excel</span></span> | <span data-ttu-id="4e3e6-138">스튜디오</span><span class="sxs-lookup"><span data-stu-id="4e3e6-138">Studio</span></span> |
| --- |:---:|:---:|
| <span data-ttu-id="4e3e6-139">성능</span><span class="sxs-lookup"><span data-stu-id="4e3e6-139">Performance</span></span> | | |
| <ul style="list-style-type: none;"><li><span data-ttu-id="4e3e6-140">조정된 R 제곱</span><span class="sxs-lookup"><span data-stu-id="4e3e6-140">Adjusted R Square</span></span></li></ul> |<span data-ttu-id="4e3e6-141">0.96</span><span class="sxs-lookup"><span data-stu-id="4e3e6-141">0.96</span></span> |<span data-ttu-id="4e3e6-142">해당 없음</span><span class="sxs-lookup"><span data-stu-id="4e3e6-142">N/A</span></span> |
| <ul style="list-style-type: none;"><li><span data-ttu-id="4e3e6-143">결정</span><span class="sxs-lookup"><span data-stu-id="4e3e6-143">Coefficient of</span></span> <br /><span data-ttu-id="4e3e6-144">계수</span><span class="sxs-lookup"><span data-stu-id="4e3e6-144">Determination</span></span></li></ul> |<span data-ttu-id="4e3e6-145">해당 없음</span><span class="sxs-lookup"><span data-stu-id="4e3e6-145">N/A</span></span> |<span data-ttu-id="4e3e6-146">0.78</span><span class="sxs-lookup"><span data-stu-id="4e3e6-146">0.78</span></span><br /><span data-ttu-id="4e3e6-147">(낮은 정확도)</span><span class="sxs-lookup"><span data-stu-id="4e3e6-147">(low accuracy)</span></span> |
| <span data-ttu-id="4e3e6-148">평균 절대 오류</span><span class="sxs-lookup"><span data-stu-id="4e3e6-148">Mean Absolute Error</span></span> |<span data-ttu-id="4e3e6-149">$9.5M</span><span class="sxs-lookup"><span data-stu-id="4e3e6-149">$9.5M</span></span> |<span data-ttu-id="4e3e6-150">$19.4M</span><span class="sxs-lookup"><span data-stu-id="4e3e6-150">$ 19.4M</span></span> |
| <span data-ttu-id="4e3e6-151">평균 절대 오차율(%)</span><span class="sxs-lookup"><span data-stu-id="4e3e6-151">Mean Absolute Error (%)</span></span> |<span data-ttu-id="4e3e6-152">6.03%</span><span class="sxs-lookup"><span data-stu-id="4e3e6-152">6.03%</span></span> |<span data-ttu-id="4e3e6-153">12.2%</span><span class="sxs-lookup"><span data-stu-id="4e3e6-153">12.2%</span></span> |

<span data-ttu-id="4e3e6-154">프로세스를 실행한 결과 Machine Learning 팀의 개발자 및 데이터 과학자는 몇 가지 유용한 팁을 신속하게 제공했습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-154">When we ran our process and results by the developers and data scientists on the Machine Learning team, they quickly provided some useful tips.</span></span> 

* <span data-ttu-id="4e3e6-155">Machine Learning Studio에서 [선형 회귀][linear-regression] 모듈을 사용할 경우 두 가지 방법이 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-155">When you use the [Linear Regression][linear-regression] module in Machine Learning Studio, two methods are provided:</span></span>
  * <span data-ttu-id="4e3e6-156">온라인 기울기 하강: 보다 큰 규모의 문제에 적합할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-156">Online Gradient Descent: May be more suitable for larger-scale problems</span></span>
  * <span data-ttu-id="4e3e6-157">최소 자승법: 대부분의 사람들이 선형 회귀에 대해 떠올리는 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-157">Ordinary Least Squares: This is the method most people think of when they hear linear regression.</span></span> <span data-ttu-id="4e3e6-158">데이터 집합이 작은 경우 최소 자승법이 보다 적합할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-158">For small datasets, Ordinary Least Squares can be a more optimal choice.</span></span>
* <span data-ttu-id="4e3e6-159">L2 정규화 가중치 매개 변수를 조정하여 성능을 개선하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-159">Consider tweaking the L2 Regularization Weight parameter to improve performance.</span></span> <span data-ttu-id="4e3e6-160">기본적으로 0.001로 설정되지만 작은 데이터 집합에서는 성능 향상을 위해 0.005로 설정했습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-160">It is set to 0.001 by default, but for our small data set we set it to 0.005 to improve performance.</span></span> 

### <a name="mystery-solved"></a><span data-ttu-id="4e3e6-161">문제 해결!</span><span class="sxs-lookup"><span data-stu-id="4e3e6-161">Mystery solved!</span></span>
<span data-ttu-id="4e3e6-162">권장 사항을 적용하여 Machine Learning Studio에서 Excel과 동일한 기준 성능을 실현했습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-162">When we applied the recommendations, we achieved the same baseline performance in Machine Learning Studio as with Excel:</span></span> 

|  | <span data-ttu-id="4e3e6-163">Excel</span><span class="sxs-lookup"><span data-stu-id="4e3e6-163">Excel</span></span> | <span data-ttu-id="4e3e6-164">Studio(초기)</span><span class="sxs-lookup"><span data-stu-id="4e3e6-164">Studio (Initial)</span></span> | <span data-ttu-id="4e3e6-165">Studio w/ 최소 자승</span><span class="sxs-lookup"><span data-stu-id="4e3e6-165">Studio w/ Least Squares</span></span> |
| --- |:---:|:---:|:---:|
| <span data-ttu-id="4e3e6-166">레이블이 지정된 값</span><span class="sxs-lookup"><span data-stu-id="4e3e6-166">Labeled value</span></span> |<span data-ttu-id="4e3e6-167">실제 값(숫자)</span><span class="sxs-lookup"><span data-stu-id="4e3e6-167">Actuals (numeric)</span></span> |<span data-ttu-id="4e3e6-168">동일</span><span class="sxs-lookup"><span data-stu-id="4e3e6-168">same</span></span> |<span data-ttu-id="4e3e6-169">동일</span><span class="sxs-lookup"><span data-stu-id="4e3e6-169">same</span></span> |
| <span data-ttu-id="4e3e6-170">학습자</span><span class="sxs-lookup"><span data-stu-id="4e3e6-170">Learner</span></span> |<span data-ttu-id="4e3e6-171">Excel -> 데이터 분석 ->회귀</span><span class="sxs-lookup"><span data-stu-id="4e3e6-171">Excel -> Data Analysis -> Regression</span></span> |<span data-ttu-id="4e3e6-172">선형 회귀</span><span class="sxs-lookup"><span data-stu-id="4e3e6-172">Linear Regression.</span></span> |<span data-ttu-id="4e3e6-173">Linear Regression</span><span class="sxs-lookup"><span data-stu-id="4e3e6-173">Linear Regression</span></span> |
| <span data-ttu-id="4e3e6-174">학습자 옵션</span><span class="sxs-lookup"><span data-stu-id="4e3e6-174">Learner options</span></span> |<span data-ttu-id="4e3e6-175">해당 없음</span><span class="sxs-lookup"><span data-stu-id="4e3e6-175">N/A</span></span> |<span data-ttu-id="4e3e6-176">기본값</span><span class="sxs-lookup"><span data-stu-id="4e3e6-176">Defaults</span></span> |<span data-ttu-id="4e3e6-177">최소 자승법</span><span class="sxs-lookup"><span data-stu-id="4e3e6-177">ordinary least squares</span></span><br /><span data-ttu-id="4e3e6-178">L2 = 0.005</span><span class="sxs-lookup"><span data-stu-id="4e3e6-178">L2 = 0.005</span></span> |
| <span data-ttu-id="4e3e6-179">데이터 집합</span><span class="sxs-lookup"><span data-stu-id="4e3e6-179">Data Set</span></span> |<span data-ttu-id="4e3e6-180">26개 행, 3가지 기능, 1개 레이블</span><span class="sxs-lookup"><span data-stu-id="4e3e6-180">26 rows, 3 features, 1 label.</span></span> <span data-ttu-id="4e3e6-181">모든 숫자</span><span class="sxs-lookup"><span data-stu-id="4e3e6-181">All numeric.</span></span> |<span data-ttu-id="4e3e6-182">동일</span><span class="sxs-lookup"><span data-stu-id="4e3e6-182">same</span></span> |<span data-ttu-id="4e3e6-183">동일</span><span class="sxs-lookup"><span data-stu-id="4e3e6-183">same</span></span> |
| <span data-ttu-id="4e3e6-184">분할: 학습</span><span class="sxs-lookup"><span data-stu-id="4e3e6-184">Split: Train</span></span> |<span data-ttu-id="4e3e6-185">처음 18개 행에서 학습되고 마지막 8개 행에서 테스트된 Excel</span><span class="sxs-lookup"><span data-stu-id="4e3e6-185">Excel trained on the first 18 rows, tested on the last 8 rows.</span></span> |<span data-ttu-id="4e3e6-186">동일</span><span class="sxs-lookup"><span data-stu-id="4e3e6-186">same</span></span> |<span data-ttu-id="4e3e6-187">동일</span><span class="sxs-lookup"><span data-stu-id="4e3e6-187">same</span></span> |
| <span data-ttu-id="4e3e6-188">분할: 테스트</span><span class="sxs-lookup"><span data-stu-id="4e3e6-188">Split: Test</span></span> |<span data-ttu-id="4e3e6-189">마지막 8개 행에 적용되는 Excel 회귀 수식</span><span class="sxs-lookup"><span data-stu-id="4e3e6-189">Excel regression formula applied to the last 8 rows</span></span> |<span data-ttu-id="4e3e6-190">동일</span><span class="sxs-lookup"><span data-stu-id="4e3e6-190">same</span></span> |<span data-ttu-id="4e3e6-191">동일</span><span class="sxs-lookup"><span data-stu-id="4e3e6-191">same</span></span> |
| <span data-ttu-id="4e3e6-192">**성능**</span><span class="sxs-lookup"><span data-stu-id="4e3e6-192">**Performance**</span></span> | | | |
| <span data-ttu-id="4e3e6-193">조정된 R 제곱</span><span class="sxs-lookup"><span data-stu-id="4e3e6-193">Adjusted R Square</span></span> |<span data-ttu-id="4e3e6-194">0.96</span><span class="sxs-lookup"><span data-stu-id="4e3e6-194">0.96</span></span> |<span data-ttu-id="4e3e6-195">해당 없음</span><span class="sxs-lookup"><span data-stu-id="4e3e6-195">N/A</span></span> | |
| <span data-ttu-id="4e3e6-196">결정 계수</span><span class="sxs-lookup"><span data-stu-id="4e3e6-196">Coefficient of Determination</span></span> |<span data-ttu-id="4e3e6-197">해당 없음</span><span class="sxs-lookup"><span data-stu-id="4e3e6-197">N/A</span></span> |<span data-ttu-id="4e3e6-198">0.78</span><span class="sxs-lookup"><span data-stu-id="4e3e6-198">0.78</span></span> |<span data-ttu-id="4e3e6-199">0.952049</span><span class="sxs-lookup"><span data-stu-id="4e3e6-199">0.952049</span></span> |
| <span data-ttu-id="4e3e6-200">평균 절대 오류</span><span class="sxs-lookup"><span data-stu-id="4e3e6-200">Mean Absolute Error</span></span> |<span data-ttu-id="4e3e6-201">$9.5M</span><span class="sxs-lookup"><span data-stu-id="4e3e6-201">$9.5M</span></span> |<span data-ttu-id="4e3e6-202">$19.4M</span><span class="sxs-lookup"><span data-stu-id="4e3e6-202">$ 19.4M</span></span> |<span data-ttu-id="4e3e6-203">$9.5M</span><span class="sxs-lookup"><span data-stu-id="4e3e6-203">$9.5M</span></span> |
| <span data-ttu-id="4e3e6-204">평균 절대 오차율(%)</span><span class="sxs-lookup"><span data-stu-id="4e3e6-204">Mean Absolute Error (%)</span></span> |<span data-ttu-id="4e3e6-205"><span style="background-color: 00FF00;"> 6.03%</span></span><span class="sxs-lookup"><span data-stu-id="4e3e6-205"><span style="background-color: 00FF00;"> 6.03%</span></span></span> |<span data-ttu-id="4e3e6-206">12.2%</span><span class="sxs-lookup"><span data-stu-id="4e3e6-206">12.2%</span></span> |<span data-ttu-id="4e3e6-207"><span style="background-color: 00FF00;"> 6.03%</span></span><span class="sxs-lookup"><span data-stu-id="4e3e6-207"><span style="background-color: 00FF00;"> 6.03%</span></span></span> |

<span data-ttu-id="4e3e6-208">또한 Excel 계수를 Azure 학습 모델의 기능 가중치와 비교했습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-208">In addition, the Excel coefficients compared well to the feature weights in the Azure trained model:</span></span>

|  | <span data-ttu-id="4e3e6-209">Excel 계수</span><span class="sxs-lookup"><span data-stu-id="4e3e6-209">Excel Coefficients</span></span> | <span data-ttu-id="4e3e6-210">Azure 기능 가중치</span><span class="sxs-lookup"><span data-stu-id="4e3e6-210">Azure Feature Weights</span></span> |
| --- |:---:|:---:|
| <span data-ttu-id="4e3e6-211">가로채기/바이어스</span><span class="sxs-lookup"><span data-stu-id="4e3e6-211">Intercept/Bias</span></span> |<span data-ttu-id="4e3e6-212">19470209.88</span><span class="sxs-lookup"><span data-stu-id="4e3e6-212">19470209.88</span></span> |<span data-ttu-id="4e3e6-213">19328500</span><span class="sxs-lookup"><span data-stu-id="4e3e6-213">19328500</span></span> |
| <span data-ttu-id="4e3e6-214">기능 A</span><span class="sxs-lookup"><span data-stu-id="4e3e6-214">Feature A</span></span> |<span data-ttu-id="4e3e6-215">0.832653063</span><span class="sxs-lookup"><span data-stu-id="4e3e6-215">0.832653063</span></span> |<span data-ttu-id="4e3e6-216">0.834156</span><span class="sxs-lookup"><span data-stu-id="4e3e6-216">0.834156</span></span> |
| <span data-ttu-id="4e3e6-217">기능 B</span><span class="sxs-lookup"><span data-stu-id="4e3e6-217">Feature B</span></span> |<span data-ttu-id="4e3e6-218">11071967.08</span><span class="sxs-lookup"><span data-stu-id="4e3e6-218">11071967.08</span></span> |<span data-ttu-id="4e3e6-219">11007300</span><span class="sxs-lookup"><span data-stu-id="4e3e6-219">11007300</span></span> |
| <span data-ttu-id="4e3e6-220">기능 C</span><span class="sxs-lookup"><span data-stu-id="4e3e6-220">Feature C</span></span> |<span data-ttu-id="4e3e6-221">25383318.09</span><span class="sxs-lookup"><span data-stu-id="4e3e6-221">25383318.09</span></span> |<span data-ttu-id="4e3e6-222">25140800</span><span class="sxs-lookup"><span data-stu-id="4e3e6-222">25140800</span></span> |

## <a name="next-steps"></a><span data-ttu-id="4e3e6-223">다음 단계</span><span class="sxs-lookup"><span data-stu-id="4e3e6-223">Next Steps</span></span>
<span data-ttu-id="4e3e6-224">Excel 내에서 Machine Learning 웹 서비스를 사용하려고 했습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-224">We wanted to consume the Machine Learning web service within Excel.</span></span> <span data-ttu-id="4e3e6-225">비즈니스 분석가는 Excel에 의존하므로 Excel 데이터 행으로 Machine Learning 웹 서비스를 호출하고 예측 값을 Excel로 반환하는 방법이 필요했습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-225">Our business analysts rely on Excel and we needed a way to call the Machine Learning web service with a row of Excel data and have it return the predicted value to Excel.</span></span> 

<span data-ttu-id="4e3e6-226">또한 Machine Learning Studio에서 제공되는 옵션 및 알고리즘을 사용하여 모델을 최적화하려고 했습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-226">We also wanted to optimize our model, using the options and algorithms available in Machine Learning Studio.</span></span>

### <a name="integration-with-excel"></a><span data-ttu-id="4e3e6-227">Excel과 통합</span><span class="sxs-lookup"><span data-stu-id="4e3e6-227">Integration with Excel</span></span>
<span data-ttu-id="4e3e6-228">솔루션은 학습된 모델에서 웹 서비스를 만들어Machine Learning 회귀 모델을 조작할 수 있게 하는 것이었습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-228">Our solution was to operationalize our Machine Learning regression model by creating a web service from the trained model.</span></span> <span data-ttu-id="4e3e6-229">몇 분 이내에 웹 서비스를 만들었으며 Excel에서 직접 호출하여 예측 수익 값을 반환할 수 있었습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-229">Within a few minutes, the web service was created and we could call it directly from Excel to return a predicted revenue value.</span></span> 

<span data-ttu-id="4e3e6-230">*웹 서비스 대시보드* 섹션에 다운로드할 수 있는 Excel 통합 문서가 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-230">The *Web Services Dashboard* section includes a downloadable Excel workbook.</span></span> <span data-ttu-id="4e3e6-231">이 통합 문서는 웹 서비스 API 및 스키마 정보가 포함되어 있으며 서식이 미리 지정되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-231">The workbook comes pre-formatted with the web service API and schema information embedded.</span></span> <span data-ttu-id="4e3e6-232">*Excel 통합 문서 다운로드*를 클릭하면 통합 문서가 열리고 로컬 컴퓨터에 저장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-232">When you click *Download Excel Workbook*, the workbook opens and you can save it to your local computer.</span></span> 

![][1]

<span data-ttu-id="4e3e6-233">통합 문서가 열리면 아래 그림과 같이 파란색 매개 변수 섹션에 미리 정의된 매개 변수를 복사합니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-233">With the workbook open, copy your predefined parameters into the blue Parameter section as shown below.</span></span> <span data-ttu-id="4e3e6-234">매개 변수를 입력하면 Excel에서 Machine Learning 웹 서비스를 호출하고 예측 점수가 매겨진 레이블이 녹색 예측 값 섹션에 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-234">Once the parameters are entered, Excel calls out to the Machine Learning web service and the predicted scored labels will display in the green Predicted Values section.</span></span> <span data-ttu-id="4e3e6-235">이 통합 문서는 매개 변수 아래에 입력된 모든 행 항목에 대해 학습된 모델을 기반으로 매개 변수의 예측 값을 계속 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-235">The workbook will continue to create predictions for parameters based on your trained model for all row items entered under Parameters.</span></span> <span data-ttu-id="4e3e6-236">이 기능을 사용하는 방법에 대한 자세한 내용은 [Excel에서 Azure 기계 학습 웹 서비스 사용](machine-learning-consuming-from-excel.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-236">For more information on how to use this feature, see [Consuming an Azure Machine Learning Web Service from Excel](machine-learning-consuming-from-excel.md).</span></span> 

![][2]

### <a name="optimization-and-further-experiments"></a><span data-ttu-id="4e3e6-237">최적화 및 추가 실험</span><span class="sxs-lookup"><span data-stu-id="4e3e6-237">Optimization and further experiments</span></span>
<span data-ttu-id="4e3e6-238">Excel 모델을 사용하여 기준을 만들었으므로 이제 Machine Learning 선형 회귀 모델을 최적화하는 과정을 진행했습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-238">Now that we had a baseline with our Excel model, we moved ahead to optimize our Machine Learning Linear Regression Model.</span></span> <span data-ttu-id="4e3e6-239">[Filter-Based Feature Selection][filter-based-feature-selection] 모듈을 사용하여 초기 데이터 요소 선택을 개선함으로써 절대 평균 오차가 4.6%로 향상되는 효과를 얻었습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-239">We used the module [Filter-Based Feature Selection][filter-based-feature-selection] to improve on our selection of initial data elements and it helped us achieve a performance improvement of 4.6% Mean Absolute Error.</span></span> <span data-ttu-id="4e3e6-240">향후 프로젝트에 이 기능을 사용하면 모델링에 사용할 올바른 기능 집합을 찾기 위해 데이터 특성을 반복하는 시간을 몇 주 정도 단축할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-240">For future projects we will use this feature which could save us weeks in iterating through data attributes to find the right set of features to use for modelling.</span></span> 

<span data-ttu-id="4e3e6-241">다음에는 [Bayesian][bayesian-linear-regression] 또는 [Boosted Decision Trees][boosted-decision-tree-regression]와 같은 추가 알고리즘을 포함하여 성능을 비교할 계획입니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-241">Next we plan to include additional algorithms like [Bayesian][bayesian-linear-regression] or [Boosted Decision Trees][boosted-decision-tree-regression] in our experiment to compare performance.</span></span> 

<span data-ttu-id="4e3e6-242">회귀를 사용하여 실험하려는 경우 많은 숫자 특성이 포함된 Energy Efficiency Regression 샘플 데이터 집합을 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-242">If you want to experiment with regression, a good dataset to try is the Energy Efficiency Regression sample dataset, which has lots of numerical attributes.</span></span> <span data-ttu-id="4e3e6-243">이 데이터 집합은 Machine Learning Studio에서 샘플 데이터 집합의 일부로 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-243">The dataset is provided as part of the sample datasets in Machine Learning Studio.</span></span> <span data-ttu-id="4e3e6-244">다양한 학습 모듈을 사용하여 난방 부하 또는 냉방 부하를 예측할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-244">You can use a variety of learning modules to predict either Heating Load or Cooling Load.</span></span> <span data-ttu-id="4e3e6-245">아래 차트에는 대상 변수 Cooling Load를 예측하여 Energy Efficiency 데이터 집합에 대해 다양한 회귀에서 학습한 결과의 성능이 비교되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-245">The chart below is a performance comparison of different regression learns against the Energy Efficiency dataset predicting for the target variable Cooling Load:</span></span> 

| <span data-ttu-id="4e3e6-246">모델</span><span class="sxs-lookup"><span data-stu-id="4e3e6-246">Model</span></span> | <span data-ttu-id="4e3e6-247">평균 절대 오류</span><span class="sxs-lookup"><span data-stu-id="4e3e6-247">Mean Absolute Error</span></span> | <span data-ttu-id="4e3e6-248">제곱 평균 오차</span><span class="sxs-lookup"><span data-stu-id="4e3e6-248">Root Mean Squared Error</span></span> | <span data-ttu-id="4e3e6-249">상대 절대 오차</span><span class="sxs-lookup"><span data-stu-id="4e3e6-249">Relative Absolute Error</span></span> | <span data-ttu-id="4e3e6-250">상대 제곱 오차</span><span class="sxs-lookup"><span data-stu-id="4e3e6-250">Relative Squared Error</span></span> | <span data-ttu-id="4e3e6-251">결정 계수</span><span class="sxs-lookup"><span data-stu-id="4e3e6-251">Coefficient of Determination</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="4e3e6-252">향상된 의사 결정 트리</span><span class="sxs-lookup"><span data-stu-id="4e3e6-252">Boosted Decision Tree</span></span> |<span data-ttu-id="4e3e6-253">0.930113</span><span class="sxs-lookup"><span data-stu-id="4e3e6-253">0.930113</span></span> |<span data-ttu-id="4e3e6-254">1.4239</span><span class="sxs-lookup"><span data-stu-id="4e3e6-254">1.4239</span></span> |<span data-ttu-id="4e3e6-255">0.106647</span><span class="sxs-lookup"><span data-stu-id="4e3e6-255">0.106647</span></span> |<span data-ttu-id="4e3e6-256">0.021662</span><span class="sxs-lookup"><span data-stu-id="4e3e6-256">0.021662</span></span> |<span data-ttu-id="4e3e6-257">0.978338</span><span class="sxs-lookup"><span data-stu-id="4e3e6-257">0.978338</span></span> |
| <span data-ttu-id="4e3e6-258">선형 회귀(기울기 하강)</span><span class="sxs-lookup"><span data-stu-id="4e3e6-258">Linear Regression (Gradient Descent)</span></span> |<span data-ttu-id="4e3e6-259">2.035693</span><span class="sxs-lookup"><span data-stu-id="4e3e6-259">2.035693</span></span> |<span data-ttu-id="4e3e6-260">2.98006</span><span class="sxs-lookup"><span data-stu-id="4e3e6-260">2.98006</span></span> |<span data-ttu-id="4e3e6-261">0.233414</span><span class="sxs-lookup"><span data-stu-id="4e3e6-261">0.233414</span></span> |<span data-ttu-id="4e3e6-262">0.094881</span><span class="sxs-lookup"><span data-stu-id="4e3e6-262">0.094881</span></span> |<span data-ttu-id="4e3e6-263">0.905119</span><span class="sxs-lookup"><span data-stu-id="4e3e6-263">0.905119</span></span> |
| <span data-ttu-id="4e3e6-264">신경망 회귀</span><span class="sxs-lookup"><span data-stu-id="4e3e6-264">Neural Network Regression</span></span> |<span data-ttu-id="4e3e6-265">1.548195</span><span class="sxs-lookup"><span data-stu-id="4e3e6-265">1.548195</span></span> |<span data-ttu-id="4e3e6-266">2.114617</span><span class="sxs-lookup"><span data-stu-id="4e3e6-266">2.114617</span></span> |<span data-ttu-id="4e3e6-267">0.177517</span><span class="sxs-lookup"><span data-stu-id="4e3e6-267">0.177517</span></span> |<span data-ttu-id="4e3e6-268">0.047774</span><span class="sxs-lookup"><span data-stu-id="4e3e6-268">0.047774</span></span> |<span data-ttu-id="4e3e6-269">0.952226</span><span class="sxs-lookup"><span data-stu-id="4e3e6-269">0.952226</span></span> |
| <span data-ttu-id="4e3e6-270">선형 회귀(최소 자승법)</span><span class="sxs-lookup"><span data-stu-id="4e3e6-270">Linear Regression (Ordinary Least Squares)</span></span> |<span data-ttu-id="4e3e6-271">1.428273</span><span class="sxs-lookup"><span data-stu-id="4e3e6-271">1.428273</span></span> |<span data-ttu-id="4e3e6-272">1.984461</span><span class="sxs-lookup"><span data-stu-id="4e3e6-272">1.984461</span></span> |<span data-ttu-id="4e3e6-273">0.163767</span><span class="sxs-lookup"><span data-stu-id="4e3e6-273">0.163767</span></span> |<span data-ttu-id="4e3e6-274">0.042074</span><span class="sxs-lookup"><span data-stu-id="4e3e6-274">0.042074</span></span> |<span data-ttu-id="4e3e6-275">0.957926</span><span class="sxs-lookup"><span data-stu-id="4e3e6-275">0.957926</span></span> |

## <a name="key-takeaways"></a><span data-ttu-id="4e3e6-276">핵심 내용</span><span class="sxs-lookup"><span data-stu-id="4e3e6-276">Key Takeaways</span></span>
<span data-ttu-id="4e3e6-277">Excel 회귀와 Azure 기계 학습 실험을 함께 실행하여 많은 것을 배울 수 있었습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-277">We learned a lot by from running Excel regression and Azure Machine Learning experiments in parallel.</span></span> <span data-ttu-id="4e3e6-278">Excel에서 기준 모델을 만들고 Machine Learning [선형 회귀][linear-regression]를 사용하는 모델과 비교하여 Azure Machine Learning에 대해 배우고 데이터 선택 및 모델 성능을 향상시킬 수 있었습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-278">Creating the baseline model in Excel and comparing it to models using Machine Learning [Linear Regression][linear-regression] helped us learn Azure Machine Learning, and we discovered opportunities to improve data selection and model performance.</span></span> 

<span data-ttu-id="4e3e6-279">또한 향후 예측 프로젝트를 가속화하려면 [Filter-Based Feature Selection][filter-based-feature-selection]을 사용하는 것이 좋다는 것도 알았습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-279">We also found that it is advisable to use [Filter-Based Feature Selection][filter-based-feature-selection] to accelerate future prediction projects.</span></span> <span data-ttu-id="4e3e6-280">기능 선택을 데이터에 적용하면 Machine Learning에서 더 나은 성능으로 향상된 모델을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-280">By applying feature selection to your data, you can create an improved model in Machine Learning with better overall performance.</span></span> 

<span data-ttu-id="4e3e6-281">Machine Learning에서 Excel로 예측 분석을 체계적으로 전송하는 기능을 사용하면 광범위한 비즈니스 사용자에게 결과를 제공할 수 있는 성능이 크게 향상됩니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-281">The ability to transfer the predictive analytic forecasting from Machine Learning to Excel systemically allows a significant increase in the ability to successfully provide results to a broad business user audience.</span></span> 

## <a name="resources"></a><span data-ttu-id="4e3e6-282">리소스</span><span class="sxs-lookup"><span data-stu-id="4e3e6-282">Resources</span></span>
<span data-ttu-id="4e3e6-283">회귀 작업에 유용한 일부 리소스는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-283">Here are some resources for helping you work with regression:</span></span> 

* <span data-ttu-id="4e3e6-284">Excel의 회귀</span><span class="sxs-lookup"><span data-stu-id="4e3e6-284">Regression in Excel.</span></span> <span data-ttu-id="4e3e6-285">Excel에서 회귀를 사용해 본 적이 없는 경우 [http://www.excel-easy.com/examples/regression.html](http://www.excel-easy.com/examples/regression.html) 자습서를 통해 쉽게 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-285">If you’ve never tried regression in Excel, this tutorial makes it easy: [http://www.excel-easy.com/examples/regression.html](http://www.excel-easy.com/examples/regression.html)</span></span>
* <span data-ttu-id="4e3e6-286">회귀와 예측</span><span class="sxs-lookup"><span data-stu-id="4e3e6-286">Regression vs forecasting.</span></span> <span data-ttu-id="4e3e6-287">Tyler Chessman이 Excel에서 시계열 예측을 수행하는 방법을 설명하는 블로그 문서를 작성했습니다. 여기에는 초보자를 위해 선형 회귀가 자세히 설명되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-287">Tyler Chessman wrote a blog article explaining how to do time series forecasting in Excel, which contains a good beginner’s description of linear regression.</span></span> [<span data-ttu-id="4e3e6-288">http://sqlmag.com/sql-server-analysis-services/understanding-time-series-forecasting-concepts</span><span class="sxs-lookup"><span data-stu-id="4e3e6-288">http://sqlmag.com/sql-server-analysis-services/understanding-time-series-forecasting-concepts</span></span>](http://sqlmag.com/sql-server-analysis-services/understanding-time-series-forecasting-concepts) 
* <span data-ttu-id="4e3e6-289">최소 자승법 선형 회귀: 결함, 문제점 및 단점</span><span class="sxs-lookup"><span data-stu-id="4e3e6-289">Ordinary Least Squares Linear Regression: Flaws, Problems and Pitfalls.</span></span> <span data-ttu-id="4e3e6-290">회귀에 대한 개요 및 설명은 [http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/](http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4e3e6-290">For an introduction and discussion of Regression: [http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/ ](http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/)</span></span>

[1]: ./media/machine-learning-linear-regression-in-azure/machine-learning-linear-regression-in-azure-1.png
[2]: ./media/machine-learning-linear-regression-in-azure/machine-learning-linear-regression-in-azure-2.png


<!-- Module References -->
[bayesian-linear-regression]: https://msdn.microsoft.com/library/azure/ee12de50-2b34-4145-aec0-23e0485da308/
[boosted-decision-tree-regression]: https://msdn.microsoft.com/library/azure/0207d252-6c41-4c77-84c3-73bdf1ac5960/
[filter-based-feature-selection]: https://msdn.microsoft.com/library/azure/918b356b-045c-412b-aa12-94a1d2dad90f/
[linear-regression]: https://msdn.microsoft.com/library/azure/31960a6f-789b-4cf7-88d6-2e1152c0bd1a/
[select-columns]: https://msdn.microsoft.com/library/azure/1ec722fa-b623-4e26-a44e-a50c6d726223/
[split]: https://msdn.microsoft.com/library/azure/70530644-c97a-4ab6-85f7-88bf30a8be5f/

