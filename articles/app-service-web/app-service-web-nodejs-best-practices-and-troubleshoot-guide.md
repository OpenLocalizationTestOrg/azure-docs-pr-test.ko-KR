---
title: "aaaBest 사례 및 Azure 웹 앱의 노드 응용 프로그램에 대 한 문제 해결 가이드"
description: "Hello에 대 한 유용한 정보 및 Azure 웹 앱의 노드 응용 프로그램에 대 한 문제 해결 단계에 알아봅니다."
services: app-service\web
documentationcenter: nodejs
author: ranjithr
manager: wadeh
editor: 
ms.assetid: 387ea217-7910-4468-8987-9a1022a99bef
ms.service: app-service-web
ms.workload: web
ms.tgt_pltfrm: na
ms.devlang: nodejs
ms.topic: article
ms.date: 06/06/2016
ms.author: ranjithr
ms.openlocfilehash: 975898142a224f14df1091a46d16e9074d9e2831
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="best-practices-and-troubleshooting-guide-for-node-applications-on-azure-web-apps"></a><span data-ttu-id="a26fa-103">Azure 웹앱에서 노드 응용 프로그램에 대한 모범 사례 및 문제 해결 가이드</span><span class="sxs-lookup"><span data-stu-id="a26fa-103">Best practices and troubleshooting guide for node applications on Azure Web Apps</span></span>
[!INCLUDE [tabs](../../includes/app-service-web-get-started-nav-tabs.md)]

<span data-ttu-id="a26fa-104">이 문서에서는 배웁니다 hello에 대 한 유용한 정보 및 문제 해결 단계에 대 한 [node 응용 프로그램](app-service-web-get-started-nodejs.md) Webapps Azure에서 실행 중인 (으로 [iisnode](https://github.com/azure/iisnode)).</span><span class="sxs-lookup"><span data-stu-id="a26fa-104">In this article, you will learn hello best practices and troubleshooting steps for [node applications](app-service-web-get-started-nodejs.md) running on Azure Webapps (with [iisnode](https://github.com/azure/iisnode)).</span></span>

> [!WARNING]
> <span data-ttu-id="a26fa-105">프로덕션 사이트에서 문제 해결 단계를 사용할 때는 주의하세요.</span><span class="sxs-lookup"><span data-stu-id="a26fa-105">Use caution when using troubleshooting steps on your production site.</span></span> <span data-ttu-id="a26fa-106">권장 사항은 tootroubleshoot 응용 프로그램에 비-프로덕션 예를 들어 프로그램 스테이징 슬롯을 설정 하 고 hello 문제를 해결할 때 프로덕션 슬롯에 스테이징 슬롯의 교환 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-106">Recommendation is tootroubleshoot your app on a non-production setup for example your staging slot and when hello issue is fixed, swap your staging slot with your production slot.</span></span>
> 
> 

## <a name="iisnode-configuration"></a><span data-ttu-id="a26fa-107">IISNODE 구성</span><span class="sxs-lookup"><span data-stu-id="a26fa-107">IISNODE configuration</span></span>
<span data-ttu-id="a26fa-108">이 [스키마 파일](https://github.com/Azure/iisnode/blob/master/src/config/iisnode_schema_x64.xml) iisnode에 대해 구성할 수 있는 모든 hello 설정을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-108">This [schema file](https://github.com/Azure/iisnode/blob/master/src/config/iisnode_schema_x64.xml) shows all hello settings that can be configured for iisnode.</span></span> <span data-ttu-id="a26fa-109">응용 프로그램에 대 한 유용한 여러 가지 hello 설정을 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-109">Some of hello settings that will be useful for your application are:</span></span>

* <span data-ttu-id="a26fa-110">nodeProcessCountPerApplication</span><span class="sxs-lookup"><span data-stu-id="a26fa-110">nodeProcessCountPerApplication</span></span>
  
    <span data-ttu-id="a26fa-111">이 설정은 IIS 응용 프로그램 마다 실행 되는 노드 프로세스의 hello 개수를 제어 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-111">This setting controls hello number of node processes that are launched per IIS application.</span></span> <span data-ttu-id="a26fa-112">기본값은 1입니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-112">Default value is 1.</span></span> <span data-ttu-id="a26fa-113">이 too0를 설정 하 여 많은 node.exe VM 코어 수로 시작할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-113">You can launch as many node.exe’s as your VM core count by setting this too0.</span></span> <span data-ttu-id="a26fa-114">권장된 값 대부분의 응용 프로그램에 대 한 0 이므로 hello 코어의 모든 컴퓨터에 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-114">Recommended value is 0 for most application so you can utilize all of hello cores on your machine.</span></span> <span data-ttu-id="a26fa-115">Node.exe는 단일 스레드이므로 한 node.exe 최대 1 core 및 tooget에서 최대 성능 node 응용 프로그램을 사용 하면 원할 tooutilize 모든 코어입니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-115">Node.exe is single threaded so one node.exe will consume a maximum of 1 core and tooget maximum performance out of your node application you would want tooutilize all cores.</span></span>
* <span data-ttu-id="a26fa-116">nodeProcessCommandLine</span><span class="sxs-lookup"><span data-stu-id="a26fa-116">nodeProcessCommandLine</span></span>
  
    <span data-ttu-id="a26fa-117">이 설정은 hello 경로 toohello node.exe를 제어합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-117">This setting controls hello path toohello node.exe.</span></span> <span data-ttu-id="a26fa-118">이 값 toopoint tooyour node.exe 버전을 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-118">You can set this value toopoint tooyour node.exe version.</span></span>
* <span data-ttu-id="a26fa-119">maxConcurrentRequestsPerProcess</span><span class="sxs-lookup"><span data-stu-id="a26fa-119">maxConcurrentRequestsPerProcess</span></span>
  
    <span data-ttu-id="a26fa-120">이 설정은 hello iisnode tooeach node.exe 보낸 동시 요청의 최대 수를 제어 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-120">This setting controls hello maximum number of concurrent requests sent by iisnode tooeach node.exe.</span></span> <span data-ttu-id="a26fa-121">Azure webapps에 hello이 기본값이 무한 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-121">On azure webapps, hello default value for this is Infinite.</span></span> <span data-ttu-id="a26fa-122">이 설정에 대 한 tooworry를 체계가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-122">You will not have tooworry about this setting.</span></span> <span data-ttu-id="a26fa-123">Azure webapps 외부 hello 기본값은 1024입니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-123">Outside azure webapps, hello default value is 1024.</span></span> <span data-ttu-id="a26fa-124">몇 개의 응용 프로그램 요청에 따라이 tooconfigure 및 응용 프로그램에서 각 요청을 처리 하는 속도 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-124">You might want tooconfigure this depending on how many requests your application gets and how fast your application processes each request.</span></span>
* <span data-ttu-id="a26fa-125">maxNamedPipeConnectionRetry</span><span class="sxs-lookup"><span data-stu-id="a26fa-125">maxNamedPipeConnectionRetry</span></span>
  
    <span data-ttu-id="a26fa-126">이 설정은 제어 hello 최대 횟수 iisnode toonode.exe 통해 파이프 toosend hello 요청을 명명 된 hello에 함으로써 연결을 다시 시도 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-126">This setting controls hello maximum number of times iisnode will retry making connection on hello named pipe toosend hello request over toonode.exe.</span></span> <span data-ttu-id="a26fa-127">이 설정은 namedPipeConnectionRetryDelay 함께에서 iisnode 내에서 각 요청의 총 시간 제한 hello를 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-127">This setting in combination with namedPipeConnectionRetryDelay determines hello total timeout of each request within iisnode.</span></span> <span data-ttu-id="a26fa-128">azure 웹앱에서 기본값이 200입니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-128">Default value is 200 on Azure Webapps.</span></span> <span data-ttu-id="a26fa-129">총 시간 제한(초) = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span><span class="sxs-lookup"><span data-stu-id="a26fa-129">Total Timeout in seconds = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span></span>
* <span data-ttu-id="a26fa-130">namedPipeConnectionRetryDelay</span><span class="sxs-lookup"><span data-stu-id="a26fa-130">namedPipeConnectionRetryDelay</span></span>
  
    <span data-ttu-id="a26fa-131">이러한 설정은 컨트롤 hello 양의 시간 (밀리초) iisnode hello 명명 된 파이프를 통해 각 재시도 toosend 요청 toonode.exe 사이 기다립니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-131">This setting controls hello amount of time (in ms) iisnode will wait for between each retry toosend request toonode.exe over hello named pipe.</span></span> <span data-ttu-id="a26fa-132">기본값은 250ms입니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-132">Default value is 250ms.</span></span>
    <span data-ttu-id="a26fa-133">총 시간 제한(초) = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span><span class="sxs-lookup"><span data-stu-id="a26fa-133">Total Timeout in seconds = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span></span>
  
    <span data-ttu-id="a26fa-134">기본적으로 azure webapps에 iisnode에서 총 시간 제한 hello는 200 \* 증가가 = 50 초로 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-134">By default hello total timeout in iisnode on azure webapps is 200 \* 250ms = 50 seconds.</span></span>
* <span data-ttu-id="a26fa-135">logDirectory</span><span class="sxs-lookup"><span data-stu-id="a26fa-135">logDirectory</span></span>
  
    <span data-ttu-id="a26fa-136">이 설정은 제어 hello 디렉터리 iisnode stdout/stderr를 기록 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-136">This setting controls hello directory where iisnode will log stdout/stderr.</span></span> <span data-ttu-id="a26fa-137">기본값은 iisnode 디렉터리인 상대 toohello 주 스크립트 (where 주 server.js가 있는 디렉터리)</span><span class="sxs-lookup"><span data-stu-id="a26fa-137">Default value is iisnode which is relative toohello main script directory (directory where main server.js is present)</span></span>
* <span data-ttu-id="a26fa-138">debuggerExtensionDll</span><span class="sxs-lookup"><span data-stu-id="a26fa-138">debuggerExtensionDll</span></span>
  
    <span data-ttu-id="a26fa-139">이 설정은 노드 응용 프로그램을 디버깅할 때 node-inspector iisnode가 사용할 버전을 제어합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-139">This setting controls what version of node-inspector iisnode will use when debugging your node application.</span></span> <span data-ttu-id="a26fa-140">현재 iisnode-관리자-0.7.3.dll 및 iisnode inspector.dll는 hello 2만 유효한 값이이 설정에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-140">Currently iisnode-inspector-0.7.3.dll and iisnode-inspector.dll are hello only 2 valid values for this setting.</span></span> <span data-ttu-id="a26fa-141">기본값은 iisnode-inspector-0.7.3.dll입니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-141">Default value is iisnode-inspector-0.7.3.dll.</span></span> <span data-ttu-id="a26fa-142">iisnode-관리자-0.7.3.dll 버전 노드-관리자-0.7.3 tooenable websocket에서 필요한 azure webapp toouse이이 버전 하므로 websocket을 사용 하 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-142">iisnode-inspector-0.7.3.dll version uses node-inspector-0.7.3 and uses websockets, so you will need tooenable websockets on your azure webapp toouse this version.</span></span> <span data-ttu-id="a26fa-143">참조 <http://www.ranjithr.com/?p=98> tooconfigure iisnode toouse 새 노드 검사기 hello 하는 방법에 대 한 자세한 내용은 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-143">See <http://www.ranjithr.com/?p=98> for more details on how tooconfigure iisnode toouse hello new node-inspector.</span></span>
* <span data-ttu-id="a26fa-144">flushResponse</span><span class="sxs-lookup"><span data-stu-id="a26fa-144">flushResponse</span></span>
  
    <span data-ttu-id="a26fa-145">hello 기본 IIS의 동작은에 플러시하기 전에 too4MB 응답 데이터를 버퍼링 하거나 hello 응답을 hello 완료 될 때까지 중 먼저 끝나는 쪽입니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-145">hello default behavior of IIS is that it buffers response data up too4MB before flushing, or until hello end of hello response, whichever comes first.</span></span> <span data-ttu-id="a26fa-146">iisnode toooverride이이 동작을 설정 하는 구성을 제공: tooflush hello 응답 엔터티 본문의 조각 iisnode 빨리 수신에서 node.exe를 tooset hello iisnode/@flushResponse web.config too'true의 특성 ':</span><span class="sxs-lookup"><span data-stu-id="a26fa-146">iisnode offers a configuration setting toooverride this behavior: tooflush a fragment of hello response entity body as soon as iisnode receives it from node.exe, you need tooset hello iisnode/@flushResponse attribute in web.config too'true':</span></span>
  
    ```
    <configuration>    
        <system.webServer>    
            <!-- ... -->    
            <iisnode flushResponse="true" />    
        </system.webServer>    
    </configuration>
    ```
  
    <span data-ttu-id="a26fa-147">Hello 응답 엔터티 본문의 모든 조각의 플러시을 사용 하면 (현재 v0.1.13) ~ 5 %hello 시스템의 hello 처리량을 감소 된 성능 오버 헤드를 추가, 것 이므로 tooscope 응답 스트리밍 (예:를 사용 하 여 hello를 필요로 하는이 설정을 tooendpoints를 가장 <location> hello web.config의 요소)</span><span class="sxs-lookup"><span data-stu-id="a26fa-147">Enabling flushing of every fragment of hello response entity body adds performance overhead that reduces hello throughput of hello system by ~5% (as of v0.1.13), so it is best tooscope this setting only tooendpoints that require response streaming (e.g. using hello <location> element in hello web.config)</span></span>
  
    <span data-ttu-id="a26fa-148">응용 프로그램의 경우 스트리밍에 대 한 추가 toothis에서 iisnode 처리기 too0의 tooalso 집합 responseBufferLimit 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-148">In addition toothis, for streaming applications, you will need tooalso set responseBufferLimit of your iisnode handler too0.</span></span>
  
    ```
    <handlers>    
        <add name="iisnode" path="app.js" verb="\*" modules="iisnode" responseBufferLimit="0"/>    
    </handlers>
    ```
* <span data-ttu-id="a26fa-149">watchedFiles</span><span class="sxs-lookup"><span data-stu-id="a26fa-149">watchedFiles</span></span>
  
    <span data-ttu-id="a26fa-150">변경 내용을 감시하는 세미콜론으로 구분된 파일 목록입니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-150">This is a semi-colon separated list of files that will be watched for changes.</span></span> <span data-ttu-id="a26fa-151">변경 tooa 파일 hello 응용 프로그램 toorecycle를 하면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-151">A change tooa file causes hello application toorecycle.</span></span> <span data-ttu-id="a26fa-152">각 항목 선택적 디렉터리 이름과 상대 toohello hello 주 응용 프로그램 진입점 위치한 디렉터리는 필요한 파일 이름 구성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-152">Each entry consists of an optional directory name plus required file name which are relative toohello directory where hello main application entry point is located.</span></span> <span data-ttu-id="a26fa-153">Hello 파일 이름 부분은에 와일드 카드는 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-153">Wild cards are allowed in hello file name portion only.</span></span> <span data-ttu-id="a26fa-154">기본값은 "\*.js;web.config"입니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-154">Default value is “\*.js;web.config”</span></span>
* <span data-ttu-id="a26fa-155">recycleSignalEnabled</span><span class="sxs-lookup"><span data-stu-id="a26fa-155">recycleSignalEnabled</span></span>
  
    <span data-ttu-id="a26fa-156">기본값은 False입니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-156">Default value is false.</span></span> <span data-ttu-id="a26fa-157">Node 응용 프로그램 tooa 명명 된 파이프를 연결할 수 있습니다를 사용 하는 경우 (환경 변수 IISNODE\_제어\_파이프) "재생" 메시지를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-157">If enabled, your node application can connect tooa named pipe (environment variable IISNODE\_CONTROL\_PIPE) and send a “recycle” message.</span></span> <span data-ttu-id="a26fa-158">이렇게 hello w3wp toorecycle를 하면 적절 하 게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-158">This will cause hello w3wp toorecycle gracefully.</span></span>
* <span data-ttu-id="a26fa-159">idlePageOutTimePeriod</span><span class="sxs-lookup"><span data-stu-id="a26fa-159">idlePageOutTimePeriod</span></span>
  
    <span data-ttu-id="a26fa-160">기본값은 이 기능을 사용하지 않는다는 의미의 0입니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-160">Default value is 0 which means this feature is disabled.</span></span> <span data-ttu-id="a26fa-161">모든 자식 아웃 설정 toosome 값 iisnode 0 보다 큰 경우 페이징하지 'idlePageOutTimePeriod' 밀리초 마다 처리 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-161">When set toosome value greater than 0, iisnode will page out all its child processes every ‘idlePageOutTimePeriod’ milliseconds.</span></span> <span data-ttu-id="a26fa-162">toounderstand 방법으로 대상 페이지를 참조 하십시오. toothis [설명서](https://msdn.microsoft.com/library/windows/desktop/ms682606.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-162">toounderstand what page out means, please refer toothis [documentation](https://msdn.microsoft.com/library/windows/desktop/ms682606.aspx).</span></span> <span data-ttu-id="a26fa-163">이 설정은 toopageout 메모리 toodisk 하 고 메모리를 많이 소비 하는 응용 프로그램에 대 한 유용할 일부 RAM toofree 가끔 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-163">This setting will be useful for applications that consume a lot of memory and want toopageout memory toodisk occasionally toofree up some RAM.</span></span>

> [!WARNING]
> <span data-ttu-id="a26fa-164">Hello 나오는 프로덕션 응용 프로그램에 따라 구성 설정을 사용 하도록 설정할 때는 주의 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-164">Use caution when enabling hello following configuration settings on production applications.</span></span> <span data-ttu-id="a26fa-165">권장 사항은 toonot 라이브 프로덕션 응용 프로그램에서 사용할 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-165">Recommendation is toonot enable them on live production applications.</span></span>
> 
> 

* <span data-ttu-id="a26fa-166">debugHeaderEnabled</span><span class="sxs-lookup"><span data-stu-id="a26fa-166">debugHeaderEnabled</span></span>
  
    <span data-ttu-id="a26fa-167">hello 기본값은 false입니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-167">hello default value is false.</span></span> <span data-ttu-id="a26fa-168">경우 tootrue, 설정 iisnode hello iisnode 디버그 헤더 값은 URL 보내는 HTTP 응답 헤더 iisnode 디버그 tooevery HTTP 응답을 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-168">If set tootrue, iisnode will add an HTTP response header iisnode-debug tooevery HTTP response it sends hello iisnode-debug header value is a URL.</span></span> <span data-ttu-id="a26fa-169">Hello URL 조각 확인 하 여 개별 가지 진단 정보를 수집할 수 있지만 더 나은 시각화 hello URL hello 브라우저에서 열에 의해 이루어집니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-169">Individual pieces of diagnostic information can be gleaned by looking at hello URL fragment, but a much better visualization is achieved by opening hello URL in hello browser.</span></span>
* <span data-ttu-id="a26fa-170">loggingEnabled</span><span class="sxs-lookup"><span data-stu-id="a26fa-170">loggingEnabled</span></span>
  
    <span data-ttu-id="a26fa-171">이 설정은 iisnode stdout 및 stderr의 hello 로깅을 제어합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-171">This setting controls hello logging of stdout and stderr by iisnode.</span></span> <span data-ttu-id="a26fa-172">Iisnode 시작 노드 프로세스에서 stdout/stderr 캡처하고 toohello 디렉터리 hello '로그 디렉터리' 설정에 지정 된 쓰기 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-172">Iisnode will capture stdout/stderr from node processes it launches and write toohello directory specified in hello ‘logDirectory’ setting.</span></span> <span data-ttu-id="a26fa-173">사용 되 면 응용 프로그램 로그 toohello 파일 시스템에 기록 및 로깅 hello 응용 프로그램에 의해 수행 양을 hello 따라 있을 수 성능에 미치는 영향입니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-173">Once this is enable, your application will be writing logs toohello file system and depending on hello amount of logging done by hello application, there could be performance implications.</span></span>
* <span data-ttu-id="a26fa-174">devErrorsEnabled</span><span class="sxs-lookup"><span data-stu-id="a26fa-174">devErrorsEnabled</span></span>
  
    <span data-ttu-id="a26fa-175">기본값은 False입니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-175">Default value is false.</span></span> <span data-ttu-id="a26fa-176">Tootrue, 설정 된 경우 iisnode hello HTTP 상태 코드 및 Win32 오류 코드를 브라우저에 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-176">When set tootrue, iisnode will display hello HTTP status code and Win32 error code on your browser.</span></span> <span data-ttu-id="a26fa-177">hello win32 코드는 특정 유형의 문제를 디버깅 하는 데 도움이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-177">hello win32 code will be helpful in debugging certain types of issues.</span></span>
* <span data-ttu-id="a26fa-178">debuggingEnabled(라이브 프로덕션 사이트에서 사용 안 함)</span><span class="sxs-lookup"><span data-stu-id="a26fa-178">debuggingEnabled (do not enable on live production site)</span></span>
  
    <span data-ttu-id="a26fa-179">이 설정은 디버깅 기능을 제어합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-179">This setting controls debugging feature.</span></span> <span data-ttu-id="a26fa-180">Iisnode는 node-inspector에 통합됩니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-180">Iisnode is integrated with node-inspector.</span></span> <span data-ttu-id="a26fa-181">이 설정을 사용하여 노드 응용 프로그램의 디버깅을 사용하도록 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-181">By enabling this setting, you enable debugging of your node application.</span></span> <span data-ttu-id="a26fa-182">이 설정을 활성화 되 면 iisnode 레이아웃 hello 필요한 노드 검사기 'debuggerVirtualDir' 디렉터리에 파일 hello 첫 번째 디버그 요청 tooyour 노드 응용 프로그램 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-182">Once this setting is enabled, iisnode will layout hello necessary node-inspector files in ‘debuggerVirtualDir’ directory on hello first debug request tooyour node application.</span></span> <span data-ttu-id="a26fa-183">요청 toohttp://yoursite/server.js/debug 전송 하 여 hello 노드 검사를 로드할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-183">You can load hello node-inspector by sending a request toohttp://yoursite/server.js/debug.</span></span> <span data-ttu-id="a26fa-184">'DebuggerPathSegment' 설정을 사용 하 여 hello 디버그 URL 세그먼트를 제어할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-184">You can control hello debug URL segment with ‘debuggerPathSegment’ setting.</span></span> <span data-ttu-id="a26fa-185">기본적으로 debuggerPathSegment='debug'입니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-185">By default debuggerPathSegment=’debug’.</span></span> <span data-ttu-id="a26fa-186">다른 사용자가 검색 하기가 더 어려워지므로 toobe 있도록 예를 들어가이 tooa GUID를 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-186">You can set this tooa GUID for example so that it is more difficult toobe discovered by others.</span></span>
  
    <span data-ttu-id="a26fa-187">디버깅에 대한 자세한 내용은 이 [링크](https://tomasz.janczuk.org/2011/11/debug-nodejs-applications-on-windows.html) 를 확인하세요.</span><span class="sxs-lookup"><span data-stu-id="a26fa-187">Check this [link](https://tomasz.janczuk.org/2011/11/debug-nodejs-applications-on-windows.html) for more details on debugging.</span></span>

## <a name="scenarios-and-recommendationstroubleshooting"></a><span data-ttu-id="a26fa-188">시나리오 및 권장 사항/문제 해결</span><span class="sxs-lookup"><span data-stu-id="a26fa-188">Scenarios and recommendations/troubleshooting</span></span>
### <a name="my-node-application-is-making-too-many-outbound-calls"></a><span data-ttu-id="a26fa-189">내 노드 응용 프로그램에서 너무 많은 아웃바운드 호출을 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-189">My node application is making too many outbound calls.</span></span>
<span data-ttu-id="a26fa-190">대부분의 응용 프로그램의 일반 작업의 일부로 toomake 아웃 바운드 연결 하 게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-190">Many applications would want toomake outbound connections as part of their regular operation.</span></span> <span data-ttu-id="a26fa-191">예를 들어 대 한 요청이 들어오면 노드 앱 toocontact REST API를 다른 곳에서 원하는 고 게 get 일부 정보 tooprocess hello 요청 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-191">For example, when a request comes in, your node app would want toocontact a REST API elsewhere and get some information tooprocess hello request.</span></span> <span data-ttu-id="a26fa-192">Http 또는 https을 호출할 때 toouse keep alive 에이전트를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-192">You would want toouse a keep alive agent when making http or https calls.</span></span> <span data-ttu-id="a26fa-193">예를 들어 이러한 아웃 바운드 호출 하는 경우 keep alive 에이전트로 hello agentkeepalive 모듈을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-193">For example, you could use hello agentkeepalive module as your keep alive agent when making these outbound calls.</span></span> <span data-ttu-id="a26fa-194">이렇게 하면 hello 소켓 azure webapp VM 및 아웃 바운드 요청을 보낼 때마다 새 소켓 만드는 줄여서 hello 오버 헤드에 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-194">This makes sure that hello sockets are reused on your azure webapp VM and reducing hello overhead of creating new sockets for every outbound request.</span></span> <span data-ttu-id="a26fa-195">또한 이렇게 하면 많은 아웃 바운드 요청 및 따라서 하면 VM 당 할당 되는 hello maxSockets를 초과 하지 않도록 하는 소켓 toomake 수를 사용 하는입니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-195">Also, this makes sure that you are using less number of sockets toomake many outbound requests and therefore you don’t exceed hello maxSockets that are allocated per VM.</span></span> <span data-ttu-id="a26fa-196">Azure Webapps을 위한 권장 tooset hello agentKeepAlive maxSockets VM 당 160 소켓의 tooa 총 값 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-196">Recommendation on Azure Webapps would be tooset hello agentKeepAlive maxSockets value tooa total of 160 sockets per VM.</span></span> <span data-ttu-id="a26fa-197">이 hello VM에서 실행 되는 4 node.exe를 설정한 경우 VM 당 총 160 인 node.exe 당 tooset hello agentKeepAlive maxSockets too40 원하는 것을 의미 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-197">This means that if you have 4 node.exe running on hello VM, you would want tooset hello agentKeepAlive maxSockets too40 per node.exe which is 160 total per VM.</span></span>

<span data-ttu-id="a26fa-198">[agentKeepALive](https://www.npmjs.com/package/agentkeepalive) 구성 예제:</span><span class="sxs-lookup"><span data-stu-id="a26fa-198">Example [agentKeepALive](https://www.npmjs.com/package/agentkeepalive) configuration:</span></span>

```
var keepaliveAgent = new Agent({    
    maxSockets: 40,    
    maxFreeSockets: 10,    
    timeout: 60000,    
    keepAliveTimeout: 300000    
});
```

<span data-ttu-id="a26fa-199">이 예에서는 VM에서 4개의 node.exe를 실행 중이라고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-199">This example assumes you have 4 node.exe running on your VM.</span></span> <span data-ttu-id="a26fa-200">Node.exe hello VM에서 실행 되는 다른 개수의 설정한 경우 toomodify hello maxSockets 적절 하 게 설정 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-200">If you have a different number of node.exe running on hello VM, you will have toomodify hello maxSockets setting accordingly.</span></span>

### <a name="my-node-application-is-consuming-too-much-cpu"></a><span data-ttu-id="a26fa-201">내 노드 응용 프로그램이 너무 많은 CPU를 사용하고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-201">My node application is consuming too much CPU.</span></span>
<span data-ttu-id="a26fa-202">포털의 Azure 웹앱에서 높은 cpu 사용량에 대한 권장 사항을 받게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-202">You will probably get a recommendation from Azure Webapps on your portal about high cpu consumption.</span></span> <span data-ttu-id="a26fa-203">수도 있습니다 설치 모니터 toowatch 특정 [메트릭](web-sites-monitor.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-203">You can also setup monitors toowatch for certain [metrics](web-sites-monitor.md).</span></span> <span data-ttu-id="a26fa-204">Hello에 hello CPU 사용량을 확인할 때 [Azure 포털의 대시보드](../application-insights/app-insights-web-monitor-performance.md), hello 최고 값 아웃 잊지 하므로 CPU에 대 한 hello 최대 값 확인 하십시오.</span><span class="sxs-lookup"><span data-stu-id="a26fa-204">When checking hello CPU usage on hello [Azure Portal Dashboard](../application-insights/app-insights-web-monitor-performance.md), please check hello MAX values for CPU so you don’t miss out hello peak values.</span></span>
<span data-ttu-id="a26fa-205">응용 프로그램 CPU를 너무 많이 사용 하 고 이유를 설명할 수 없는 생각 하는 경우에서 tooprofile를 노드 응용 프로그램이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-205">In cases where you think your application is consuming too much CPU and you cannot explain why, you will need tooprofile your node application.</span></span>

### 
#### <a name="profiling-your-node-application-on-azure-webapps-with-v8-profiler"></a><span data-ttu-id="a26fa-206">azure 웹앱에서 V8-Profiler로 노드 응용 프로그램 프로파일링</span><span class="sxs-lookup"><span data-stu-id="a26fa-206">Profiling your node application on azure webapps with V8-Profiler</span></span>
<span data-ttu-id="a26fa-207">예를 들어 있을 때는 상황이 아래와 같이 않겠다고 tooprofile hello world 응용 프로그램:</span><span class="sxs-lookup"><span data-stu-id="a26fa-207">For example, lets say you have a hello world app that you want tooprofile as shown below:</span></span>

```
var http = require('http');    
function WriteConsoleLog() {    
    for(var i=0;i<99999;++i) {    
        console.log('hello world');    
    }    
}

function HandleRequest() {    
    WriteConsoleLog();    
}

http.createServer(function (req, res) {    
    res.writeHead(200, {'Content-Type': 'text/html'});    
    HandleRequest();    
    res.end('Hello world!');    
}).listen(process.env.PORT);
```

<span data-ttu-id="a26fa-208">Tooyour scm 사이트 https://yoursite.scm.azurewebsites.net/DebugConsole 이동</span><span class="sxs-lookup"><span data-stu-id="a26fa-208">Go tooyour scm site https://yoursite.scm.azurewebsites.net/DebugConsole</span></span>

<span data-ttu-id="a26fa-209">아래와 같이 명령 프롬프트가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-209">You will see a command prompt as shown below.</span></span> <span data-ttu-id="a26fa-210">site/wwwroot 디렉터리로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-210">Go into your site/wwwroot directory</span></span>

![](./media/app-service-web-nodejs-best-practices-and-troubleshoot-guide/scm_install_v8.png)

<span data-ttu-id="a26fa-211">"Npm 설치 v8 프로파일러" hello 명령 실행</span><span class="sxs-lookup"><span data-stu-id="a26fa-211">Run hello command “npm install v8-profiler”</span></span>

<span data-ttu-id="a26fa-212">그러면 node\_modules 디렉터리 아래에 v8-profiler와 모든 종속성이 설치됩니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-212">This should install v8-profiler under node\_modules directory and all of its dependencies.</span></span>
<span data-ttu-id="a26fa-213">이제 server.js tooprofile 응용 프로그램을 편집 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-213">Now, edit your server.js tooprofile your application.</span></span>

```
var http = require('http');    
var profiler = require('v8-profiler');    
var fs = require('fs');

function WriteConsoleLog() {    
    for(var i=0;i<99999;++i) {    
        console.log('hello world');    
    }    
}

function HandleRequest() {    
    profiler.startProfiling('HandleRequest');    
    WriteConsoleLog();    
    fs.writeFileSync('profile.cpuprofile', JSON.stringify(profiler.stopProfiling('HandleRequest')));    
}

http.createServer(function (req, res) {    
    res.writeHead(200, {'Content-Type': 'text/html'});    
    HandleRequest();    
    res.end('Hello world!');    
}).listen(process.env.PORT);
```

<span data-ttu-id="a26fa-214">변경 내용 위에 hello hello WriteConsoleLog 함수 프로 파일링 되며 hello 프로필 출력 too'profile.cpuprofile 작성 한 다음 ' 파일에서 사이트 wwwroot 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-214">hello above changes will profile hello WriteConsoleLog function and then write hello profile output too‘profile.cpuprofile’ file under your site wwwroot.</span></span> <span data-ttu-id="a26fa-215">요청 tooyour 응용 프로그램을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-215">Send a request tooyour application.</span></span> <span data-ttu-id="a26fa-216">사이트의 wwwroot 아래에 'profile.cpuprofile' 파일이 생성된 것을 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-216">You will see a ‘profile.cpuprofile’ file created under your site wwwroot.</span></span>

![](./media/app-service-web-nodejs-best-practices-and-troubleshoot-guide/scm_profile.cpuprofile.png)

<span data-ttu-id="a26fa-217">이 파일을 다운로드 하 고 tooopen 크롬 F12 도구와 함께이 파일이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-217">Download this file and you will need tooopen this file with Chrome F12 Tools.</span></span> <span data-ttu-id="a26fa-218">Chrome에서 F12 적중 "프로필 탭" hello에서 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-218">Hit F12 on chrome, then click on hello “Profiles Tab”.</span></span> <span data-ttu-id="a26fa-219">"로드" 단추를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-219">Click on “Load” Button.</span></span> <span data-ttu-id="a26fa-220">방금 다운로드한 profile.cpuprofile 파일을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-220">Select your profile.cpuprofile file that you just downloaded.</span></span> <span data-ttu-id="a26fa-221">방금 로드 hello 프로필을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-221">Click on hello profile you just loaded.</span></span>

![](./media/app-service-web-nodejs-best-practices-and-troubleshoot-guide/chrome_tools_view.png)

<span data-ttu-id="a26fa-222">아래와 같이 hello 시간의 95 %WriteConsoleLog 함수에서 사용한 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-222">You will see that 95% of hello time was consumed by WriteConsoleLog function as shown below.</span></span> <span data-ttu-id="a26fa-223">이 또한 보면 hello 정확한 줄 번호 및 hello 문제가 발생 하는 소스 파일.</span><span class="sxs-lookup"><span data-stu-id="a26fa-223">This also shows you hello exact line numbers and source files that cause hello issue.</span></span>

### <a name="my-node-application-is-consuming-too-much-memory"></a><span data-ttu-id="a26fa-224">내 노드 응용 프로그램이 너무 많은 메모리를 사용하고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-224">My node application is consuming too much memory.</span></span>
<span data-ttu-id="a26fa-225">포털의 Azure 웹앱에서 높은 메모리 사용량에 대한 권장 사항을 받게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-225">You will probably get a recommendation from Azure Webapps on your portal about high memory consumption.</span></span> <span data-ttu-id="a26fa-226">수도 있습니다 설치 모니터 toowatch 특정 [메트릭](web-sites-monitor.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-226">You can also setup monitors toowatch for certain [metrics](web-sites-monitor.md).</span></span> <span data-ttu-id="a26fa-227">Hello에 hello 메모리 사용량을 확인할 때 [Azure 포털의 대시보드](../application-insights/app-insights-web-monitor-performance.md), hello 최고 값 아웃 잊지 되므로 메모리에 대 한 hello 최대 값을 확인 하십시오.</span><span class="sxs-lookup"><span data-stu-id="a26fa-227">When checking hello memory usage on hello [Azure Portal Dashboard](../application-insights/app-insights-web-monitor-performance.md), please check hello MAX values for memory so you don’t miss out hello peak values.</span></span>

#### <a name="leak-detection-and-heap-diffing-for-nodejs"></a><span data-ttu-id="a26fa-228">node.js에 대한 누수 감지 및 힙 Diff</span><span class="sxs-lookup"><span data-stu-id="a26fa-228">Leak detection and Heap Diffing for node.js</span></span>
<span data-ttu-id="a26fa-229">사용할 수 있습니다 [노드 memwatch](https://github.com/lloyd/node-memwatch) 누수 toohelp 메모리를 식별 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-229">You could use [node-memwatch](https://github.com/lloyd/node-memwatch) toohelp you identify memory leaks.</span></span>
<span data-ttu-id="a26fa-230">응용 프로그램에 프로파일러 v8 및 편집 코드 toocapture 및 diff 힙을 tooidentify hello 메모리 누수와 마찬가지로 memwatch를 설치할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-230">You can install memwatch just like v8-profiler and edit your code toocapture and diff heaps tooidentify hello memory leaks in your application.</span></span>

### <a name="my-nodeexes-are-getting-killed-randomly"></a><span data-ttu-id="a26fa-231">내 node.exe가 임의로 중지됨</span><span class="sxs-lookup"><span data-stu-id="a26fa-231">My node.exe’s are getting killed randomly</span></span>
<span data-ttu-id="a26fa-232">이러한 현상이 발생하는 몇 가지 이유가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-232">There are a few reasons why this could be happening:</span></span>

1. <span data-ttu-id="a26fa-233">응용 프로그램를 throw 하는 확인할 수 없는 예외 – 하세요 검사 d:\\홈\\LogFiles\\응용 프로그램\\hello 예외 발생 시 hello 세부 정보에 대 한 로깅 errors.txt 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-233">Your application is throwing uncaught exceptions – Please check d:\\home\\LogFiles\\Application\\logging-errors.txt file for hello details on hello exception thrown.</span></span> <span data-ttu-id="a26fa-234">이 파일에이에 따라 응용 프로그램 수정 hello 스택 추적이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-234">This file has hello stack trace so you can fix your application based on this.</span></span>
2. <span data-ttu-id="a26fa-235">응용 프로그램에서 너무 많은 메모리를 사용하여 다른 프로세스가 시작되는 데 영향을 줍니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-235">Your application is consuming too much memory which is affecting other processes from getting started.</span></span> <span data-ttu-id="a26fa-236">Node.exe의을 중지할 수 hello 총 VM 메모리 닫기 too100% 인 경우 hello 프로세스 관리자 toolet 다른 프로세스 확보할 기회 toodo 몇 가지 작업입니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-236">If hello total VM memory is close too100%, your node.exe’s could be killed by hello process manager toolet other processes get a chance toodo some work.</span></span> <span data-ttu-id="a26fa-237">toofix이 응용 프로그램 메모리 누수가 아닙니다 있는지 확인 하거나 실제로 toouse 메모리가 매우 많이 필요한 응용 프로그램 하십시오를 확대 tooa 더 많은 ram이 더 큰 VM입니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-237">toofix this, either make sure your application is not leaking memory OR if you application really needs toouse a lot of memory, please scale up tooa larger VM with a lot more RAM.</span></span>

### <a name="my-node-application-does-not-start"></a><span data-ttu-id="a26fa-238">내 노드 응용 프로그램이 시작되지 않음</span><span class="sxs-lookup"><span data-stu-id="a26fa-238">My node application does not start</span></span>
<span data-ttu-id="a26fa-239">응용 프로그램 시작 시 500 오류를 반환하는 경우 몇 가지 원인이 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-239">If your application is returning 500 Errors at startup, there could be a few reasons:</span></span>

1. <span data-ttu-id="a26fa-240">Node.exe는 hello 올바른 위치에 나타나지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-240">Node.exe is not present at hello correct location.</span></span> <span data-ttu-id="a26fa-241">nodeProcessCommandLine 설정을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-241">Check nodeProcessCommandLine setting.</span></span>
2. <span data-ttu-id="a26fa-242">기본 스크립트 파일 hello 올바른 위치에 나타나지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-242">Main script file is not present at hello correct location.</span></span> <span data-ttu-id="a26fa-243">Web.config hello 처리기 섹션 일치 hello 주 스크립트 파일에 hello 주 스크립트 파일의 hello 이름이 있는지 확인 하십시오.</span><span class="sxs-lookup"><span data-stu-id="a26fa-243">Check web.config and make sure hello name of hello main script file in hello handlers section matches hello main script file.</span></span>
3. <span data-ttu-id="a26fa-244">Web.config 구성이 잘못 되었습니다-hello 설정 이름/값을 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-244">Web.config configuration is not correct – check hello settings names/values.</span></span>
4. <span data-ttu-id="a26fa-245">콜드 시작-응용 프로그램 toostartup 너무 오래 걸리고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-245">Cold Start – Your application is taking too long toostartup.</span></span> <span data-ttu-id="a26fa-246">응용 프로그램이 (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000초보다 오래 걸리면 iisnode에서 500 오류를 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-246">If your application takes longer than (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000 seconds, iisnode will return 500 error.</span></span> <span data-ttu-id="a26fa-247">이러한 설정 toomatch hello 500 오류를 반환 하 고 제한 시간 초과 시간 tooprevent iisnode를 시작 하는 응용 프로그램의 hello 값을 늘립니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-247">Increase hello values of these settings toomatch your application start time tooprevent iisnode from timing out and returning hello 500 error.</span></span>

### <a name="my-node-application-crashed"></a><span data-ttu-id="a26fa-248">내 노드 응용 프로그램에 충돌 발생</span><span class="sxs-lookup"><span data-stu-id="a26fa-248">My node application crashed</span></span>
<span data-ttu-id="a26fa-249">응용 프로그램를 throw 하는 확인할 수 없는 예외 – 하세요 검사 d:\\홈\\LogFiles\\응용 프로그램\\hello 예외 발생 시 hello 세부 정보에 대 한 로깅 errors.txt 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-249">Your application is throwing uncaught exceptions – Please check d:\\home\\LogFiles\\Application\\logging-errors.txt file for hello details on hello exception thrown.</span></span> <span data-ttu-id="a26fa-250">이 파일에이에 따라 응용 프로그램 수정 hello 스택 추적이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-250">This file has hello stack trace so you can fix your application based on this.</span></span>

### <a name="my-node-application-takes-too-much-time-toostartup-cold-start"></a><span data-ttu-id="a26fa-251">내 노드 응용 프로그램이 우선권을 너무 많은 시간 toostartup (콜드 시작)</span><span class="sxs-lookup"><span data-stu-id="a26fa-251">My node application takes too much time toostartup (Cold Start)</span></span>
<span data-ttu-id="a26fa-252">가장 일반적인 이유는 hello 응용 프로그램에는 많은 hello 노드에 파일\_모듈 및 hello 응용 프로그램 시도 tooload 시작 하는 동안 이러한 파일의 대부분 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-252">Most common reason for this is that hello application has a lot of files in hello node\_modules and hello application tries tooload most of these files during startup.</span></span> <span data-ttu-id="a26fa-253">기본적으로 너무 많은 파일을 로드할 파일 Azure Webapps hello 네트워크 공유에 상주 하므로 약간의 시간이 걸릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-253">By default, since your files reside on hello network share on Azure Webapps, loading so many files can take some time.</span></span>
<span data-ttu-id="a26fa-254">이 더 빠르게 솔루션 toomake 일부:</span><span class="sxs-lookup"><span data-stu-id="a26fa-254">Some solutions toomake this faster are:</span></span>

1. <span data-ttu-id="a26fa-255">모듈 npm3 tooinstall를 사용 하 여 플랫 종속성 구조와 중복 된 종속성을 가진 있는지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-255">Make sure you have a flat dependency structure and no duplicate dependencies by using npm3 tooinstall your modules.</span></span>
2. <span data-ttu-id="a26fa-256">노드가 toolazy 로드 시도\_모듈의 모든 시작 시 hello 모듈을 로드 하지 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-256">Try toolazy load your node\_modules and not load all of hello modules at startup.</span></span> <span data-ttu-id="a26fa-257">즉, 실제로 필요할 때 수행 해야 하는 hello 호출 toorequire('module') toouse hello 모듈 hello 함수 내에서 하려고 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-257">This means that hello call toorequire(‘module’) should be done when you actually need it within hello function you try toouse hello module.</span></span>
3. <span data-ttu-id="a26fa-258">Azure 웹앱은 로컬 캐시라는 기능을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-258">Azure Webapps offers a feature called local cache.</span></span> <span data-ttu-id="a26fa-259">이 기능은 hello 네트워크 공유 toohello 로컬 디스크에 hello VM에서 콘텐츠를 복사합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-259">This feature copies your content from hello network share toohello local disk on hello VM.</span></span> <span data-ttu-id="a26fa-260">로컬 hello 파일 이므로 hello 로드 시간 노드의\_모듈 훨씬 빠릅니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-260">Since hello files are local, hello load time of node\_modules is much faster.</span></span> <span data-ttu-id="a26fa-261">-이 [설명서](../app-service/app-service-local-cache.md) 방법을 toouse 로컬 캐시에서 더 자세히 설명에 대해 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-261">- This [documentation](../app-service/app-service-local-cache.md) explains how toouse Local Cache in more detail.</span></span>

## <a name="iisnode-http-status-and-substatus"></a><span data-ttu-id="a26fa-262">IISNODE http 상태 및 하위 상태</span><span class="sxs-lookup"><span data-stu-id="a26fa-262">IISNODE http status and substatus</span></span>
<span data-ttu-id="a26fa-263">이 [소스 파일](https://github.com/Azure/iisnode/blob/master/src/iisnode/cnodeconstants.h) 목록 모든 hello 가능한 상태/하위 상태 조합 iisnode 오류 발생 시 반환할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-263">This [source file](https://github.com/Azure/iisnode/blob/master/src/iisnode/cnodeconstants.h) lists all hello possible status/substatus combination iisnode can return in case of error.</span></span>

<span data-ttu-id="a26fa-264">응용 프로그램 toosee hello win32 오류 코드에 대 한 FREB를 설정 (있는지 확인 하십시오 FREB 성능상의 이유로 비-프로덕션 사이트에만 사용 하도록 설정).</span><span class="sxs-lookup"><span data-stu-id="a26fa-264">Enable FREB for your application toosee hello win32 error code (please make sure you enable FREB only on non-production sites for performance reasons).</span></span>

| <span data-ttu-id="a26fa-265">HTTP 상태</span><span class="sxs-lookup"><span data-stu-id="a26fa-265">Http Status</span></span> | <span data-ttu-id="a26fa-266">HTTP 하위 상태</span><span class="sxs-lookup"><span data-stu-id="a26fa-266">Http SubStatus</span></span> | <span data-ttu-id="a26fa-267">가능한 원인</span><span class="sxs-lookup"><span data-stu-id="a26fa-267">Possible Reason?</span></span> |
| --- | --- | --- |
| <span data-ttu-id="a26fa-268">500</span><span class="sxs-lookup"><span data-stu-id="a26fa-268">500</span></span> |<span data-ttu-id="a26fa-269">1000</span><span class="sxs-lookup"><span data-stu-id="a26fa-269">1000</span></span> |<span data-ttu-id="a26fa-270">Hello 요청 tooIISNODE 디스패치 몇 가지 문제가 발생 했습니다.-node.exe 시작한 경우를 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-270">There was some issue dispatching hello request tooIISNODE – check if node.exe was started up.</span></span> <span data-ttu-id="a26fa-271">Node.exe가 시작 시 충돌되었을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-271">Node.exe could have crashed on startup.</span></span> <span data-ttu-id="a26fa-272">web.config 구성에 오류가 있는지 확인하세요.</span><span class="sxs-lookup"><span data-stu-id="a26fa-272">Check your web.config configuration for errors.</span></span> |
| <span data-ttu-id="a26fa-273">500</span><span class="sxs-lookup"><span data-stu-id="a26fa-273">500</span></span> |<span data-ttu-id="a26fa-274">1001</span><span class="sxs-lookup"><span data-stu-id="a26fa-274">1001</span></span> |<span data-ttu-id="a26fa-275">-Win32Error 0x2-응용 프로그램 toohello URL 응답 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-275">- Win32Error 0x2 - App is not responding toohello URL.</span></span> <span data-ttu-id="a26fa-276">확인 URL에는 규칙 또는 빠른 응용 프로그램에 정의 된 hello 올바른 경로 경우 다시 작성 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-276">Check URL rewrite rules or if your express app has hello correct routes defined.</span></span> <span data-ttu-id="a26fa-277">-Win32Error 0x6d – 명명 된 파이프 사용 중입니다-Node.exe hello 파이프 사용 중이기 때문에 요청을 수락 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-277">- Win32Error 0x6d – named pipe is busy – Node.exe is not accepting requests because hello pipe is busy.</span></span> <span data-ttu-id="a26fa-278">높은 cpu 사용량을 확인하세요.</span><span class="sxs-lookup"><span data-stu-id="a26fa-278">Check high cpu usage.</span></span> <span data-ttu-id="a26fa-279">- 기타 오류 – node.exe가 충돌되었는지 확인하세요.</span><span class="sxs-lookup"><span data-stu-id="a26fa-279">- Other errors – check if node.exe crashed.</span></span> |
| <span data-ttu-id="a26fa-280">500</span><span class="sxs-lookup"><span data-stu-id="a26fa-280">500</span></span> |<span data-ttu-id="a26fa-281">1002</span><span class="sxs-lookup"><span data-stu-id="a26fa-281">1002</span></span> |<span data-ttu-id="a26fa-282">Node.exe가 충돌됨 – d:\\home\\LogFiles\\logging-errors.txt에서 스택 추적을 확인하세요.</span><span class="sxs-lookup"><span data-stu-id="a26fa-282">Node.exe crashed – check d:\\home\\LogFiles\\logging-errors.txt for stack trace.</span></span> |
| <span data-ttu-id="a26fa-283">500</span><span class="sxs-lookup"><span data-stu-id="a26fa-283">500</span></span> |<span data-ttu-id="a26fa-284">1003</span><span class="sxs-lookup"><span data-stu-id="a26fa-284">1003</span></span> |<span data-ttu-id="a26fa-285">파이프 구성 문제가 표시 되 면 안이 있지만 이렇게 하면 hello 파이프 구성 이름이 올바르지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-285">Pipe configuration Issue – You should never see this but if you do, hello named pipe configuration is incorrect.</span></span> |
| <span data-ttu-id="a26fa-286">500</span><span class="sxs-lookup"><span data-stu-id="a26fa-286">500</span></span> |<span data-ttu-id="a26fa-287">1004-1018</span><span class="sxs-lookup"><span data-stu-id="a26fa-287">1004-1018</span></span> |<span data-ttu-id="a26fa-288">으로/에서 node.exe hello 요청 또는 처리 hello 응답을 보내는 동안 일부 오류가 발생이 했습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-288">There was some error while sending hello request or processing hello response to/from node.exe.</span></span> <span data-ttu-id="a26fa-289">Node.exe가 충돌되었는지 확인하세요.</span><span class="sxs-lookup"><span data-stu-id="a26fa-289">Check if node.exe crashed.</span></span> <span data-ttu-id="a26fa-290">d:\\home\\LogFiles\\logging-errors.txt에서 스택 추적을 확인하세요.</span><span class="sxs-lookup"><span data-stu-id="a26fa-290">check d:\\home\\LogFiles\\logging-errors.txt for stack trace.</span></span> |
| <span data-ttu-id="a26fa-291">503</span><span class="sxs-lookup"><span data-stu-id="a26fa-291">503</span></span> |<span data-ttu-id="a26fa-292">1000</span><span class="sxs-lookup"><span data-stu-id="a26fa-292">1000</span></span> |<span data-ttu-id="a26fa-293">메모리 tooallocate 더 명명 된 파이프 연결 충분 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-293">Not enough memory tooallocate more named pipe connections.</span></span> <span data-ttu-id="a26fa-294">앱에서 많은 메모리를 사용하는 이유를 확인하세요.</span><span class="sxs-lookup"><span data-stu-id="a26fa-294">Check why your app is consuming so much memory.</span></span> <span data-ttu-id="a26fa-295">maxConcurrentRequestsPerProcess 설정 값을 확인하세요.</span><span class="sxs-lookup"><span data-stu-id="a26fa-295">Check maxConcurrentRequestsPerProcess setting value.</span></span> <span data-ttu-id="a26fa-296">경우 아닙니다 infinite 하 고 요청을 많이 있는,이 값 tooprevent이이 오류를 늘립니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-296">If its not infinite and you have a lot of requests, increase this value tooprevent this error.</span></span> |
| <span data-ttu-id="a26fa-297">503</span><span class="sxs-lookup"><span data-stu-id="a26fa-297">503</span></span> |<span data-ttu-id="a26fa-298">1001</span><span class="sxs-lookup"><span data-stu-id="a26fa-298">1001</span></span> |<span data-ttu-id="a26fa-299">Hello 응용 프로그램 재활용 되 요청 디스패치 된 toonode.exe 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-299">Request could not be dispatched toonode.exe because hello application is recycling.</span></span> <span data-ttu-id="a26fa-300">Hello 응용 프로그램 재생 된 후 요청이 정상적으로 처리 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-300">After hello application has recycled, requests should be served normally.</span></span> |
| <span data-ttu-id="a26fa-301">503</span><span class="sxs-lookup"><span data-stu-id="a26fa-301">503</span></span> |<span data-ttu-id="a26fa-302">1002</span><span class="sxs-lookup"><span data-stu-id="a26fa-302">1002</span></span> |<span data-ttu-id="a26fa-303">실제 이유가 – 요청에 대 한 확인 win32 오류 코드에 디스패치 된 tooa node.exe를 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-303">Check win32 error code for actual reason – Request could not be dispatched tooa node.exe.</span></span> |
| <span data-ttu-id="a26fa-304">503</span><span class="sxs-lookup"><span data-stu-id="a26fa-304">503</span></span> |<span data-ttu-id="a26fa-305">1003</span><span class="sxs-lookup"><span data-stu-id="a26fa-305">1003</span></span> |<span data-ttu-id="a26fa-306">명명된 파이프 사용량이 너무 많음 – 노드에서 많은 CPU를 사용 중인지 확인하세요.</span><span class="sxs-lookup"><span data-stu-id="a26fa-306">Named pipe is too Busy – Check if node is consuming a lot of CPU</span></span> |

<span data-ttu-id="a26fa-307">NODE.exe 내에 NODE\_PENDING\_PIPE\_INSTANCES라는 설정이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-307">There is a setting within NODE.exe called NODE\_PENDING\_PIPE\_INSTANCES.</span></span> <span data-ttu-id="a26fa-308">기본적으로 azure 웹앱 이외에서는 이 값은 4입니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-308">By default outside of azure webapps this value is 4.</span></span> <span data-ttu-id="a26fa-309">즉, 해당 node.exe hello 명명 된 파이프에 한 번에 요청 4 받아들일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-309">This means that node.exe can only accept 4 requests at a time on hello named pipe.</span></span> <span data-ttu-id="a26fa-310">Azure Webapps이이 값은 too5000를 설정 하 고이 값은 azure webapps에서 실행 되는 대부분 노드 응용 프로그램에 맞게 이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-310">On Azure Webapps, this value is set too5000 and this value should be good enough for most node applications running on azure webapps.</span></span> <span data-ttu-id="a26fa-311">표시 되지 않습니다 503.1003 azure webapps에 hello 노드 값이 높은 지정 했으므로\_PENDING\_파이프\_인스턴스.</span><span class="sxs-lookup"><span data-stu-id="a26fa-311">You should not see 503.1003 on azure webapps because we have a high value for hello NODE\_PENDING\_PIPE\_INSTANCES.</span></span>  |

## <a name="more-resources"></a><span data-ttu-id="a26fa-312">추가 리소스</span><span class="sxs-lookup"><span data-stu-id="a26fa-312">More resources</span></span>
<span data-ttu-id="a26fa-313">Azure 앱 서비스에 node.js 응용 프로그램에 대 한 자세한 이러한 링크 toolearn를 따릅니다.</span><span class="sxs-lookup"><span data-stu-id="a26fa-313">Follow these links toolearn more about node.js applications on Azure App Service.</span></span>

* [<span data-ttu-id="a26fa-314">Azure 앱 서비스에서 Node.js 웹앱 시작</span><span class="sxs-lookup"><span data-stu-id="a26fa-314">Get started with Node.js web apps in Azure App Service</span></span>](app-service-web-get-started-nodejs.md)
* [<span data-ttu-id="a26fa-315">어떻게 toodebug는 Node.js 웹 응용 프로그램을 Azure 앱 서비스</span><span class="sxs-lookup"><span data-stu-id="a26fa-315">How toodebug a Node.js web app in Azure App Service</span></span>](web-sites-nodejs-debug.md)
* [<span data-ttu-id="a26fa-316">Azure 응용 프로그램에 Node.js 모듈 사용</span><span class="sxs-lookup"><span data-stu-id="a26fa-316">Using Node.js Modules with Azure applications</span></span>](../nodejs-use-node-modules-azure-apps.md)
* [<span data-ttu-id="a26fa-317">Azure 앱 서비스 웹앱: Node.js</span><span class="sxs-lookup"><span data-stu-id="a26fa-317">Azure App Service Web Apps: Node.js</span></span>](https://blogs.msdn.microsoft.com/silverlining/2012/06/14/windows-azure-websites-node-js/)
* [<span data-ttu-id="a26fa-318">Node.js 개발자 센터</span><span class="sxs-lookup"><span data-stu-id="a26fa-318">Node.js Developer Center</span></span>](../nodejs-use-node-modules-azure-apps.md)
* [<span data-ttu-id="a26fa-319">Hello 슈퍼 비밀 Kudu 디버그 콘솔 탐색</span><span class="sxs-lookup"><span data-stu-id="a26fa-319">Exploring hello Super Secret Kudu Debug Console</span></span>](https://azure.microsoft.com/documentation/videos/super-secret-kudu-debug-console-for-azure-web-sites/)

