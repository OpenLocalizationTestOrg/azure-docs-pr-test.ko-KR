---
title: "Express 경로 사용 하기 위한 aaaNetwork 구성 세부 정보"
description: "가상 네트워크에서 앱 서비스 환경을 실행 하기 위한 네트워크 구성 세부 정보 tooan ExpressRoute 회로 연결 합니다."
services: app-service
documentationcenter: 
author: stefsch
manager: nirma
editor: 
ms.assetid: 34b49178-2595-4d32-9b41-110c96dde6bf
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 10/14/2016
ms.author: stefsch
ms.openlocfilehash: 85bbc45cfed619485957ee2a898aa0a7604173cb
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="network-configuration-details-for-app-service-environments-with-expressroute"></a><span data-ttu-id="03a46-103">Express 경로를 사용하는 앱 서비스 환경에 대한 네트워크 구성 세부 정보</span><span class="sxs-lookup"><span data-stu-id="03a46-103">Network Configuration Details for App Service Environments with ExpressRoute</span></span>
## <a name="overview"></a><span data-ttu-id="03a46-104">개요</span><span class="sxs-lookup"><span data-stu-id="03a46-104">Overview</span></span>
<span data-ttu-id="03a46-105">고객 연결할 수는 [Azure express 경로] [ ExpressRoute] 회로 tootheir 가상 네트워크 인프라를 해당 온-프레미스 네트워크 tooAzure 기능을 확장할 합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-105">Customers can connect an [Azure ExpressRoute][ExpressRoute] circuit tootheir virtual network infrastructure, thus extending their on-premises network tooAzure.</span></span>  <span data-ttu-id="03a46-106">App Service Environment는 이 [가상 네트워크][virtualnetwork] 인프라의 서브넷에서 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-106">An App Service Environment can  be created in a subnet of this [virtual network][virtualnetwork] infrastructure.</span></span>  <span data-ttu-id="03a46-107">그런 다음 hello 앱 서비스 환경에서 실행 되는 앱 hello ExpressRoute 연결을 통해서만 액세스할 수 있는 보안 연결 tooback 최종 리소스를 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-107">Apps running on hello App Service Environment can then establish secure connections tooback-end resources accessible only over hello ExpressRoute connection.</span></span>  

<span data-ttu-id="03a46-108">App Service Environment를 Azure Resource Manager 가상 네트워크에서 **만들 수도 있고** 클래식 배포 모델 가상 네트워크에서 **만들 수도 있습니다**.</span><span class="sxs-lookup"><span data-stu-id="03a46-108">An App Service Environment can be created in **either** an Azure Resource Manager virtual network, **or** a classic deployment model virtual network.</span></span>  <span data-ttu-id="03a46-109">최근인 2016년 6월의 변경 내용에 따르면 이제 공용 주소 범위 또는 RFC1918 주소 공간(즉, 개인 주소) 중 하나를 사용하는 가상 네트워크에 ASE를 배포할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-109">With a recent change made in June 2016, ASEs can also now be deployed into virtual networks that use either public address ranges, or RFC1918 address spaces (i.e. private addresses).</span></span> 

[!INCLUDE [app-service-web-to-api-and-mobile](../../includes/app-service-web-to-api-and-mobile.md)]

## <a name="required-network-connectivity"></a><span data-ttu-id="03a46-110">필요한 네트워크 연결</span><span class="sxs-lookup"><span data-stu-id="03a46-110">Required Network Connectivity</span></span>
<span data-ttu-id="03a46-111">앱 서비스 환경에 연결 된 가상 네트워크 tooan ExpressRoute 처음 충족 하지 않을 수 있습니다에 대 한 네트워크 연결 요구 사항이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-111">There are network connectivity requirements for App Service Environments that may not be initially met in a virtual network connected tooan ExpressRoute.</span></span>  <span data-ttu-id="03a46-112">앱 서비스 환경을 순서 toofunction에서 hello 다음의 모든 제대로 필요:</span><span class="sxs-lookup"><span data-stu-id="03a46-112">App Service Environments require all of hello following in order toofunction properly:</span></span>

* <span data-ttu-id="03a46-113">아웃 바운드 네트워크 연결 tooAzure 저장소 끝점 전 세계 두 포트 80 및 443입니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-113">Outbound network connectivity tooAzure Storage endpoints worldwide on both ports 80 and 443.</span></span>  <span data-ttu-id="03a46-114">여기에 hello에 있는 끝점으로 앱 서비스 환경 hello와 동일한 지역에 있는 저장소 끝점 **다른** Azure 지역입니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-114">This includes endpoints located in hello same region as hello App Service Environment, as well as storage endpoints located in **other** Azure regions.</span></span>  <span data-ttu-id="03a46-115">Azure 저장소 끝점 hello 다음 DNS 도메인에서 해결: *table.core.windows.net*, *blob.core.windows.net*, *queue.core.windows.net* 및 *file.core.windows.net*합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-115">Azure Storage endpoints resolve under hello following DNS domains: *table.core.windows.net*, *blob.core.windows.net*, *queue.core.windows.net* and *file.core.windows.net*.</span></span>  
* <span data-ttu-id="03a46-116">아웃 바운드 네트워크 연결 toohello 포트 445에서 Azure 파일 서비스</span><span class="sxs-lookup"><span data-stu-id="03a46-116">Outbound network connectivity toohello Azure Files service on port 445.</span></span>
* <span data-ttu-id="03a46-117">Hello에 아웃 바운드 네트워크 연결 tooSql DB 끝점 있는 동일한 앱 서비스 환경 hello 지역의 합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-117">Outbound network connectivity tooSql DB endpoints located in hello same region as hello App Service Environment.</span></span>  <span data-ttu-id="03a46-118">Sql DB 끝점 도메인 다음 hello 아래 해결: *database.windows.net*합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-118">Sql DB endpoints resolve under hello following domain:  *database.windows.net*.</span></span>  <span data-ttu-id="03a46-119">이 액세스 tooports 11000 11999 및 14000 14999 1433을 열지 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-119">This requires opening access tooports 1433, 11000-11999 and 14000-14999.</span></span>  <span data-ttu-id="03a46-120">자세한 내용은 [이 문서에서 SQL 데이터베이스 V12 포트 사용](../sql-database/sql-database-develop-direct-route-ports-adonet-v12.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="03a46-120">For more details see [this article on Sql Database V12 port usage](../sql-database/sql-database-develop-direct-route-ports-adonet-v12.md).</span></span>
* <span data-ttu-id="03a46-121">아웃 바운드 네트워크 연결 toohello Azure 관리 평면 끝점 (ASM 및 ARM 모두 끝점).</span><span class="sxs-lookup"><span data-stu-id="03a46-121">Outbound network connectivity toohello Azure management plane endpoints (both ASM and ARM endpoints).</span></span>  <span data-ttu-id="03a46-122">여기에 아웃 바운드 연결 tooboth *management.core.windows.net* 및 *management.azure.com*합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-122">This includes outbound connectivity tooboth *management.core.windows.net* and *management.azure.com*.</span></span> 
* <span data-ttu-id="03a46-123">아웃 바운드 네트워크 연결이 너무*ocsp.msocsp.com*, *mscrl.microsoft.com* 및 *crl.microsoft.com*합니다.  이것이 필요한 toosupport SSL 기능입니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-123">Outbound network connectivity too*ocsp.msocsp.com*, *mscrl.microsoft.com* and *crl.microsoft.com*.  This is needed toosupport SSL functionality.</span></span>
* <span data-ttu-id="03a46-124">hello 가상 네트워크에 대 한 DNS 구성을 hello 모든 hello 끝점 확인 가능한 수 있어야 하며 도메인에 언급 된 hello 이전 포인트입니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-124">hello DNS configuration for hello virtual network must be capable of resolving all of hello endpoints and domains mentioned in hello earlier points.</span></span>  <span data-ttu-id="03a46-125">이러한 끝점을 해결할 수 없으면 앱 서비스 환경 만들기 시도는 실패하고 기존 앱 서비스 환경도 비정상으로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-125">If these endpoints cannot be resolved, App Service Environment creation attempts will fail, and existing App Service Environments will be marked as unhealthy.</span></span>
* <span data-ttu-id="03a46-126">DNS 서버와의 통신을 위해서는 포트 53에서 아웃바운드 액세스가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-126">Outbound access on port 53 is required for communication with DNS servers.</span></span>
* <span data-ttu-id="03a46-127">사용자 지정 DNS 서버에 있는 경우 VPN 게이트웨이의 다른 쪽 끝 hello, DNS 서버 hello hello 앱 서비스 환경을 포함 하는 hello 서브넷에서 연결할 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-127">If a custom DNS server exists on hello other end of a VPN gateway, hello DNS server must be reachable from hello subnet containing hello App Service Environment.</span></span> 
* <span data-ttu-id="03a46-128">hello 아웃 바운드 네트워크 경로 내부 회사 프록시를 통과할 수 없습니다도 강제 터널링 tooon 온-프레미스 방식일 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-128">hello outbound network path cannot travel through internal corporate proxies, nor can it be force tunneled tooon-premises.</span></span>  <span data-ttu-id="03a46-129">이렇게 하면 변경 내용이 hello hello 앱 서비스 환경에서에서 아웃 바운드 네트워크 트래픽의 효과적인 NAT 주소입니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-129">Doing so changes hello effective NAT address of outbound network traffic from hello App Service Environment.</span></span>  <span data-ttu-id="03a46-130">앱 서비스 환경의 아웃 바운드 네트워크 트래픽의 hello NAT 주소를 변경 하면 위에 나열 된 오류 toomany hello 끝점 연결 합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-130">Changing hello NAT address of an App Service Environment's outbound network traffic will cause connectivity failures toomany of hello endpoints listed above.</span></span>  <span data-ttu-id="03a46-131">실패한 앱 서비스 환경 만들기 시도라는 결과로 나타날 뿐만 아니라 이전의 정상 앱 서비스 환경도 비정상으로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-131">This results in failed App Service Environment creation attempts, as well as previously healthy App Service Environments being marked as unhealthy.</span></span>  
* <span data-ttu-id="03a46-132">이에 설명 된 대로 앱 서비스 환경을 허용 해야 네트워크 액세스 toorequired 포트를 인바운드 [문서][requiredports]합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-132">Inbound network access toorequired ports for App Service Environments must be allowed as described in this [article][requiredports].</span></span>

<span data-ttu-id="03a46-133">유효한 DNS 인프라를 구성 하 고 hello 가상 네트워크에 대 한 유지 관리 되도록 하 여 hello DNS 요구 사항은 충족할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-133">hello DNS requirements can be met by ensuring a valid DNS infrastructure is configured and maintained for hello virtual network.</span></span>  <span data-ttu-id="03a46-134">모든 이유 hello에 대 한 앱 서비스 환경을 만든 후에 DNS 구성이 변경 되 면 개발자는 앱 서비스 환경 toopick hello 새 DNS 구성을 강제로 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-134">If for any reason hello DNS configuration is changed after an App Service Environment has been created, developers can force an App Service Environment toopick up hello new DNS configuration.</span></span>  <span data-ttu-id="03a46-135">Hello hello에 hello 앱 서비스 환경 관리 블레이드 위쪽에 hello "다시 시작" 아이콘을 사용 하 여 롤링 환경 재부팅 트리거 [Azure 포털] [ NewPortal] hello 환경 toopick 하면 DNS 구성을 새는 hello 합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-135">Triggering a rolling environment reboot using hello "Restart" icon located at hello top of hello App Service Environment management blade in hello [Azure portal][NewPortal] will cause hello environment toopick up hello new DNS configuration.</span></span>

<span data-ttu-id="03a46-136">hello 인바운드 네트워크 액세스 요구 사항을 충족할 수 있습니다를 구성 하 여 한 [네트워크 보안 그룹] [ NetworkSecurityGroups] 이 에설명된대로hello앱서비스환경서브넷tooallowhello필요한액세스[문서][requiredports]합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-136">hello inbound network access requirements can be met by configuring a [network security group][NetworkSecurityGroups] on hello App Service Environment's subnet tooallow hello required access as described in this [article][requiredports].</span></span>

## <a name="enabling-outbound-network-connectivity-for-an-app-service-environment"></a><span data-ttu-id="03a46-137">앱 서비스 환경에 대한 아웃바운드 네트워크 연결을 사용하도록 설정</span><span class="sxs-lookup"><span data-stu-id="03a46-137">Enabling Outbound Network Connectivity for an App Service Environment</span></span>
<span data-ttu-id="03a46-138">기본적으로, 새로 생성된 Express Route 회로는 아웃바운드 인터넷 연결을 허용하는 기본 경로를 알립니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-138">By default, a newly created ExpressRoute circuit advertises a default route that allows outbound Internet connectivity.</span></span>  <span data-ttu-id="03a46-139">앱 서비스 환경에서이 구성을 사용 하 여 수 tooconnect tooother Azure 끝점이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-139">With this configuration an App Service Environment will be able tooconnect tooother Azure endpoints.</span></span>

<span data-ttu-id="03a46-140">일반적인 사용자 구성을 toodefine은 아웃 바운드 인터넷 트래픽을 tooinstead 흐름을 강제로 수행 하는 자신의 기본 경로 (0.0.0.0/0) 온-프레미스입니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-140">However a common customer configuration is toodefine their own default route (0.0.0.0/0) which forces outbound Internet traffic tooinstead flow on-premises.</span></span>  <span data-ttu-id="03a46-141">이 트래픽 흐름 것을 중단 하지 앱 서비스 환경 hello 아웃 바운드 트래픽을 차단 된 온-프레미스, 되었거나 NAT tooan 인식할 수 없는 집합이 더 이상 작동 하지 다양 한 Azure 끝점 주소를 수신할 합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-141">This traffic flow invariably breaks App Service Environments because hello outbound traffic is either blocked on-premises, or NAT'd tooan unrecognizable set of addresses that no longer work with various Azure endpoints.</span></span>

<span data-ttu-id="03a46-142">hello 솔루션은 앱 서비스 환경 hello이 포함 된 hello 서브넷에서 toodefine 하나 이상의 사용자 정의 경로 (UDRs)입니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-142">hello solution is toodefine one (or more) user defined routes (UDRs) on hello subnet that contains hello App Service Environment.</span></span>  <span data-ttu-id="03a46-143">UDR hello 기본 경로 대신 허용 되어야 하는 서브넷 별 경로 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-143">A UDR defines subnet-specific routes that will be honored instead of hello default route.</span></span>

<span data-ttu-id="03a46-144">가능 하면 같은 구성이 toouse hello를 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-144">If possible, it is recommended toouse hello following configuration:</span></span>

* <span data-ttu-id="03a46-145">0.0.0.0/0을 보급 하는 hello ExpressRoute 구성 하 고 기본적으로 강제 터널링 모든 아웃 바운드 트래픽을 온-프레미스 키를 누릅니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-145">hello ExpressRoute configuration advertises 0.0.0.0/0 and by default force tunnels all outbound traffic on-premises.</span></span>
* <span data-ttu-id="03a46-146">hello 앱 서비스 환경에 포함 된 hello 적용 UDR toohello 서브넷 0.0.0.0/0 (이 예는이 문서의 맨 아래로)는 인터넷의 다음 홉 형식으로 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-146">hello UDR applied toohello subnet containing hello App Service Environment defines 0.0.0.0/0 with a next hop type of Internet (an example of this is farther down in this article).</span></span>

<span data-ttu-id="03a46-147">hello 결합 된 효과 이러한 단계는 hello 서브넷 수준 UDR 우선 hello ExpressRoute 강제 터널링, hello 앱 서비스 환경에서에서 아웃 바운드 인터넷에 액세스할 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-147">hello combined effect of these steps is that hello subnet level UDR will take precedence over hello ExpressRoute forced tunneling, thus ensuring outbound Internet access from hello App Service Environment.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="03a46-148">UDR에 정의 된 경로 hello **해야** 수 있을 만큼 구체적 너무 ExpressRoute 구성 hello에서 보급 모든 경로 보다 우선 합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-148">hello routes defined in a UDR **must** be specific enough too take precedence over any routes advertised by hello ExpressRoute configuration.</span></span>  <span data-ttu-id="03a46-149">아래 예제에서는 hello hello 광범위 한 0.0.0.0/0 주소 범위를 사용 하 여 있으며 따라서 경로 알림이 더 구체적인 주소 범위를 사용 하 여 실수로 재정의할 잠재적으로 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-149">hello example below uses hello broad 0.0.0.0/0 address range, and as such can potentially be accidentally overridden by route advertisements using more specific address ranges.</span></span>
> 
> <span data-ttu-id="03a46-150">앱 서비스 환경 ExpressRoute 구성이 지원 되지 않습니다는 **간 알릴 안녕 공용 피어 링 경로 toohello 개인 피어 링 경로에서 경로**합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-150">App Service Environments are not supported with ExpressRoute configurations that **cross-advertise routes from hello public peering path toohello private peering path**.</span></span>  <span data-ttu-id="03a46-151">구성된 공용 피어링이 있는 Express 경로 구성은 다양한 Microsoft Azure IP 주소 범위 집합에 대해 Microsoft에서 경로 보급을 받습니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-151">ExpressRoute configurations that have public peering configured, will receive route advertisements from Microsoft for a large set of Microsoft Azure IP address ranges.</span></span>  <span data-ttu-id="03a46-152">이 주소 범위 hello 개인 피어 링 경로에 크로스 보급을 hello 최종 결과 hello 앱 서비스 환경 서브넷의 모든 아웃 바운드 네트워크 패킷이 tooa 강제 터널링 된 고객의 온-프레미스 네트워크 인프라 된다는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-152">If these address ranges are cross-advertised on hello private peering path, hello end result is that all outbound network packets from hello App Service Environment's subnet will be force-tunneled tooa customer's on-premises network infrastructure.</span></span>  <span data-ttu-id="03a46-153">이 네트워크 흐름은 현재 App Service Environment에서 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-153">This network flow is currently not supported with App Service Environments.</span></span>  <span data-ttu-id="03a46-154">하나의 솔루션 toothis 문제는 hello 공용 피어 링 경로 toohello 개인 피어 링 경로에서 toostop 간 광고 경로입니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-154">One solution toothis problem is toostop cross-advertising routes from hello public peering path toohello private peering path.</span></span>
> 
> 

<span data-ttu-id="03a46-155">사용자 정의 경로에 대한 배경 정보는 [개요][UDROverview]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="03a46-155">Background information on user defined routes is available in this [overview][UDROverview].</span></span>  

<span data-ttu-id="03a46-156">작성 및 사용자 정의 경로 구성에 대 한 세부 정보는이 사용할 수 있는 [어떻게 tooGuide][UDRHowTo]합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-156">Details on creating and configuring user defined routes is available in this [How tooGuide][UDRHowTo].</span></span>

## <a name="example-udr-configuration-for-an-app-service-environment"></a><span data-ttu-id="03a46-157">앱 서비스 환경에 대한 UDR 구성 예</span><span class="sxs-lookup"><span data-stu-id="03a46-157">Example UDR Configuration for an App Service Environment</span></span>
<span data-ttu-id="03a46-158">**필수 구성 요소**</span><span class="sxs-lookup"><span data-stu-id="03a46-158">**Pre-requisites**</span></span>

1. <span data-ttu-id="03a46-159">Hello에서 Azure Powershell 설치 [Azure 다운로드 페이지] [ AzureDownloads] (2015 이상이 년 6 월에 발표).</span><span class="sxs-lookup"><span data-stu-id="03a46-159">Install Azure Powershell from hello [Azure Downloads page][AzureDownloads] (dated June 2015 or later).</span></span>  <span data-ttu-id="03a46-160">"명령줄 도구" hello 최신 Powershell cmdlet을 설치 하는 "Windows Powershell"에서 "설치" 링크는 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-160">Under "Command-line tools" there is an "Install" link under "Windows Powershell" that will install hello latest Powershell cmdlets.</span></span>
2. <span data-ttu-id="03a46-161">앱 서비스 환경에 의해 배타적 사용으로 만들어진 고유한 서브넷을 권장합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-161">It is recommended that a unique subnet is created for exclusive use by an App Service Environment.</span></span>  <span data-ttu-id="03a46-162">이렇게 하면 해당 hello 적용 UDRs toohello 서브넷은 hello 앱 서비스 환경에 대 한 아웃 바운드 트래픽을 엽니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-162">This ensures that hello UDRs applied toohello subnet will only open outbound traffic for hello App Service Environment.</span></span>
3. <span data-ttu-id="03a46-163">**중요 한**: 배포 하지 않는 앱 서비스 환경까지 hello **후** hello 다음 구성 단계를 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-163">**Important**:  do not deploy hello App Service Environment until **after** hello following configuration steps are followed.</span></span>  <span data-ttu-id="03a46-164">이렇게 하면 앱 서비스 환경 toodeploy 시도 하기 전에 아웃 바운드 네트워크 연결을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-164">This ensures that outbound network connectivity is available before attempting toodeploy an App Service Environment.</span></span>

<span data-ttu-id="03a46-165">**1 단계: 명명된 경로 테이블 만들기**</span><span class="sxs-lookup"><span data-stu-id="03a46-165">**Step 1:  Create a named route table**</span></span>

<span data-ttu-id="03a46-166">hello 다음 코드 조각 경로 이라는 테이블을 만들어 "DirectInternetRouteTable" hello 서쪽 미국 Azure 지역에서:</span><span class="sxs-lookup"><span data-stu-id="03a46-166">hello following snippet creates a route table called "DirectInternetRouteTable" in hello West US Azure region:</span></span>

    New-AzureRouteTable -Name 'DirectInternetRouteTable' -Location uswest

<span data-ttu-id="03a46-167">**2 단계: hello 경로 테이블에 하나 이상의 경로 만들기**</span><span class="sxs-lookup"><span data-stu-id="03a46-167">**Step 2:  Create one or more routes in hello route table**</span></span>

<span data-ttu-id="03a46-168">Tooadd 하나 필요 합니다 또는 순서 tooenable 아웃 바운드 인터넷 액세스에 더 많은 경로 toohello 경로 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-168">You will need tooadd one or more routes toohello route table in order tooenable outbound Internet access.</span></span>  

<span data-ttu-id="03a46-169">hello 아웃 바운드 액세스 toohello 인터넷은 toodefine 아래 그림과 같이 0.0.0.0/0에 대 한 경로 구성 하기 위한 방법을 권장 합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-169">hello recommended approach for configuring outbound access toohello Internet is toodefine a route for 0.0.0.0/0 as shown below.</span></span>

    Get-AzureRouteTable -Name 'DirectInternetRouteTable' | Set-AzureRoute -RouteName 'Direct Internet Range 0' -AddressPrefix 0.0.0.0/0 -NextHopType Internet

<span data-ttu-id="03a46-170">해당 0.0.0.0/0은 광범위 한 주소 범위 및 따라서 hello ExpressRoute에서 보급 하는 보다 구체적인 주소 범위를 기준으로 재정의 될 수는 것이 중요 합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-170">Remember that 0.0.0.0/0 is a broad address range, and as such will be overridden by more specific address ranges advertised by hello ExpressRoute.</span></span>  <span data-ttu-id="03a46-171">toore-hello 반복 0.0.0.0/0은 경로와 UDR 이전 권장 구성만도 0.0.0.0/0을 알리는 ExressRoute 구성와 함께에서 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-171">toore-iterate hello earlier recommendation, a UDR with a 0.0.0.0/0 route should be used in conjunction with an ExressRoute configuration that only advertises 0.0.0.0/0 as well.</span></span> 

<span data-ttu-id="03a46-172">대신 Azure에서 사용하는 CIDR 범위의 포괄적이고 업데이트된 목록을 다운로드할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-172">As an alternative, you can download a comprehensive and updated list of CIDR ranges in use by Azure.</span></span>  <span data-ttu-id="03a46-173">hello 모든 hello Azure IP 주소 범위를 포함 하는 Xml 파일은 hello에서 사용할 수 있는 [Microsoft 다운로드 센터][DownloadCenterAddressRanges]합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-173">hello Xml file containing all of hello Azure IP address ranges is available from hello [Microsoft Download Center][DownloadCenterAddressRanges].</span></span>  

<span data-ttu-id="03a46-174">이러한 범위는 시간이 지나도 변경, toohello 수동는 정기적으로 업데이트 하기 때문 하며 사용자 정의 경로 tookeep 동기화 하지만 note 합니다.  또한 위 기본값 이므로 단일 UDR에 100 경로의 있습니다 필요한 너무 "요약" hello Azure IP 주소 제한을 toofit hello 100 경로 제한 내에서 범위를 해당 UDR 염두에서에 두고 정의 된 경로에서 알릴 안녕 경로 보다 구체적인 toobe 필요 하면 Express 경로입니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-174">Note though that these ranges change over time, thus necessitating periodic manual updates toohello user defined routes tookeep in sync.  Also, since there is a default upper limit of 100 routes in a single UDR, you will need too"summarize" hello Azure IP address ranges toofit within hello 100 route limit, keeping in mind that UDR defined routes need toobe more specific than hello routes advertised by your ExpressRoute.</span></span>  

<span data-ttu-id="03a46-175">**3 단계: hello 경로 테이블 toohello 서브넷 포함 hello 앱 서비스 환경에 연결**</span><span class="sxs-lookup"><span data-stu-id="03a46-175">**Step 3:  Associate hello route table toohello subnet containing hello App Service Environment**</span></span>

<span data-ttu-id="03a46-176">hello 마지막 구성 단계는 tooassociate hello 경로 테이블 toohello 서브넷 hello 앱 서비스 환경 배포 될 위치입니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-176">hello last  configuration step is tooassociate hello route table toohello subnet where hello App Service Environment will be deployed.</span></span>  <span data-ttu-id="03a46-177">hello 다음 명령이 연결 결국 앱 서비스 환경에 들어갈 "ASESubnet" hello "DirectInternetRouteTable" toohello 합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-177">hello following command associates hello "DirectInternetRouteTable" toohello "ASESubnet" that will eventually contain an App Service Environment.</span></span>

    Set-AzureSubnetRouteTable -VirtualNetworkName 'YourVirtualNetworkNameHere' -SubnetName 'ASESubnet' -RouteTableName 'DirectInternetRouteTable'


<span data-ttu-id="03a46-178">**4단계: 최종 단계**</span><span class="sxs-lookup"><span data-stu-id="03a46-178">**Step 4:  Final Steps**</span></span>

<span data-ttu-id="03a46-179">Hello 경로 테이블에 바인딩된 toohello 서브넷이 되 면 toofirst 테스트 좋습니다 하 고 hello 의도 효과 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-179">Once hello route table is bound toohello subnet, it is recommended toofirst test and confirm hello intended effect.</span></span>  <span data-ttu-id="03a46-180">예를 들어 hello 서브넷에 가상 컴퓨터를 배포 하 고 있는지 확인:</span><span class="sxs-lookup"><span data-stu-id="03a46-180">For example, deploy a virtual machine into hello subnet and confirm that:</span></span>

* <span data-ttu-id="03a46-181">아웃 바운드 트래픽 tooboth Azure 및 비 Azure 끝점 언급에서 이전에이 문서는 **하지** hello ExpressRoute 회로 아래로 이동 합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-181">Outbound traffic tooboth Azure and non-Azure endpoints mentioned earlier in this article is **not** flowing down hello ExpressRoute circuit.</span></span>  <span data-ttu-id="03a46-182">이 반드시 tooverify hello 서브넷에서 아웃 바운드 트래픽이 되는 경우 강제 여전히 온-프레미스, 앱 서비스 환경을 만들 터널링 된 이후이 문제는 항상 실패 합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-182">It is very important tooverify this behavior, since if outbound traffic from hello subnet is still being forced tunneled on-premises, App Service Environment creation will always fail.</span></span> 
* <span data-ttu-id="03a46-183">Hello 끝점에 대 한 DNS 조회가 앞에서 언급 한는 모두 적절 하 게 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-183">DNS lookups for hello endpoints mentioned earlier are all resolving properly.</span></span> 

<span data-ttu-id="03a46-184">Hello 단계는 확인 되 면 hello 서브넷 toobe "empty" hello 시간 hello 앱 서비스 환경을 만들 때 필요 하므로 toodelete hello 가상 컴퓨터가 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-184">Once hello above steps are confirmed, you will need toodelete hello virtual machine because hello subnet needs toobe "empty" at hello time hello App Service Environment is created.</span></span>

<span data-ttu-id="03a46-185">그런 다음 앱 서비스 환경을 계속 만듭니다!</span><span class="sxs-lookup"><span data-stu-id="03a46-185">Then proceed with creating an App Service Environment!</span></span>

## <a name="getting-started"></a><span data-ttu-id="03a46-186">시작</span><span class="sxs-lookup"><span data-stu-id="03a46-186">Getting started</span></span>
<span data-ttu-id="03a46-187">모든 문서와 방법을-hello에서 사용할 수 있는 앱 서비스 환경에 대 한의 하려면 [응용 프로그램 서비스 환경에 대 한 추가 정보](../app-service/app-service-app-service-environments-readme.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-187">All articles and How-To's for App Service Environments are available in hello [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="03a46-188">앱 서비스 환경 시작 tooget 참조 [소개 tooApp 서비스 환경][IntroToAppServiceEnvironment]</span><span class="sxs-lookup"><span data-stu-id="03a46-188">tooget started with App Service Environments, see [Introduction tooApp Service Environment][IntroToAppServiceEnvironment]</span></span>

<span data-ttu-id="03a46-189">Azure 앱 서비스 플랫폼 hello에 대 한 자세한 내용은 참조 [Azure 앱 서비스][AzureAppService]합니다.</span><span class="sxs-lookup"><span data-stu-id="03a46-189">For more information about hello Azure App Service platform, see [Azure App Service][AzureAppService].</span></span>

<!-- LINKS -->
[virtualnetwork]: http://azure.microsoft.com/services/virtual-network/
[ExpressRoute]: http://azure.microsoft.com/services/expressroute/
[requiredports]: http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-control-inbound-traffic/
[NetworkSecurityGroups]: http://azure.microsoft.com/documentation/articles/virtual-networks-nsg/
[UDROverview]: http://azure.microsoft.com/documentation/articles/virtual-networks-udr-overview/
[UDRHowTo]: http://azure.microsoft.com/documentation/articles/virtual-networks-udr-how-to/
[HowToCreateAnAppServiceEnvironment]: http://azure.microsoft.com/documentation/articles/app-service-web-how-to-create-an-app-service-environment/
[AzureDownloads]: http://azure.microsoft.com/en-us/downloads/ 
[DownloadCenterAddressRanges]: http://www.microsoft.com/download/details.aspx?id=41653  
[NetworkSecurityGroups]: https://azure.microsoft.com/documentation/articles/virtual-networks-nsg/
[AzureAppService]: http://azure.microsoft.com/documentation/articles/app-service-value-prop-what-is/
[IntroToAppServiceEnvironment]:  http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-intro/
[NewPortal]:  https://portal.azure.com


<!-- IMAGES -->
