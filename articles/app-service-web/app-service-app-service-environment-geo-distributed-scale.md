---
title: "앱 서비스 환경에 분산 조정 aaaGeo"
description: "Toohorizontally 트래픽 관리자 및 앱 서비스 환경을 사용 하 여 전 세계 분산을 사용 하 여 앱을 확장 하는 방법을 알아봅니다."
services: app-service
documentationcenter: 
author: stefsch
manager: erikre
editor: 
ms.assetid: c1b05ca8-3703-4d87-a9ae-819d741787fb
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/07/2016
ms.author: stefsch
ms.openlocfilehash: 9b441f637d8b7f679b3d83240baf99b8ee57e8f3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="geo-distributed-scale-with-app-service-environments"></a><span data-ttu-id="abe93-103">앱 서비스 환경으로 지역 분산된 규모</span><span class="sxs-lookup"><span data-stu-id="abe93-103">Geo Distributed Scale with App Service Environments</span></span>
## <a name="overview"></a><span data-ttu-id="abe93-104">개요</span><span class="sxs-lookup"><span data-stu-id="abe93-104">Overview</span></span>
<span data-ttu-id="abe93-105">응용 프로그램 필요한 시나리오는 매우 높은 대규모 hello 계산 리소스 용량 사용 가능한 tooa 단일 배포 응용 프로그램을 초과할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-105">Application scenarios which require very high scale can exceed hello compute resource capacity available tooa single deployment of an app.</span></span>  <span data-ttu-id="abe93-106">투표 응용 프로그램, 스포츠 이벤트 및 방송된 엔터테인먼트 이벤트는 대규모를 필요로 하는 시나리오를 모두 포함하는 예입니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-106">Voting applications, sporting events, and televised entertainment events are all examples of scenarios that require extremely high scale.</span></span> <span data-ttu-id="abe93-107">가로로 영역, toohandle 극단적인 부하 요구 사항 뿐만 아니라 단일 지역 내에서 수행 되는 여러 응용 프로그램 배포 응용 프로그램을 확장 하 여 대규모 요구 사항은 충족할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-107">High scale requirements can be met by horizontally scaling out apps, with multiple app deployments being made within a single region, as well as across regions, toohandle extreme load requirements.</span></span>

<span data-ttu-id="abe93-108">앱 서비스 환경은 수평적 규모 확장에 대한 이상적인 플랫폼입니다.  앱 서비스 환경 구성 선택 하 고 나면 알려진된 요청 속도 지원할 수 있는, 개발자가 "쿠키 커터" 방식으로 tooattain 원하는 최고 부하 용량에에서 앱 서비스 환경을 배포할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-108">App Service Environments are an ideal platform for horizontal scale out.  Once an App Service Environment configuration has been selected that can support a known request rate, developers can deploy additional App Service Environments in "cookie cutter" fashion tooattain a desired peak load capacity.</span></span>

<span data-ttu-id="abe93-109">예를 들어 앱 서비스 환경 구성에서 실행 되는 응용 프로그램 (RP) 초당 테스트 된 toohandle 20k 요청 된 가정 합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-109">For example suppose an app running on an App Service Environment configuration has been tested toohandle 20K requests per second (RPS).</span></span>  <span data-ttu-id="abe93-110">Hello 원하는 최대 로드 용량이 100k RPS, 다음 5 앱 서비스 환경을 만들 수 있습니다 및 구성 된 tooensure hello 응용 프로그램 hello 최대 예상된 부하를 처리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-110">If hello desired peak load capacity is 100K RPS, then five (5) App Service Environments can be created and configured tooensure hello application can handle hello maximum projected load.</span></span>

<span data-ttu-id="abe93-111">고객은 일반적으로 사용자 지정 이동해 왔거나 베 니 티 도메인, 개발자가 필요를 사용 하 여 앱 액세스 하므로 hello 앱 서비스 환경 인스턴스의 모든 방식으로 toodistribute 응용 프로그램을 요청 합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-111">Since customers typically access apps using a custom (or vanity) domain, developers need a way toodistribute app requests across all of hello App Service Environment instances.</span></span>  <span data-ttu-id="abe93-112">이 좋은 방법 tooaccomplish tooresolve hello 사용자 지정 도메인 사용 하는 [Azure 트래픽 관리자 프로필][AzureTrafficManagerProfile]합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-112">A great way tooaccomplish this is tooresolve hello custom domain using an [Azure Traffic Manager profile][AzureTrafficManagerProfile].</span></span>  <span data-ttu-id="abe93-113">개별 앱 서비스 환경 hello 하는 hello 트래픽 관리자 프로필의 모든 구성된 toopoint 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-113">hello Traffic Manager profile can be configured toopoint at all of hello individual App Service Environments.</span></span>  <span data-ttu-id="abe93-114">트래픽 관리자 고객 모든 hello hello 부하 분산 hello 트래픽 관리자 프로필의 설정에 따라 앱 서비스 환경에서 배포를 자동으로 처리 합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-114">Traffic Manager will automatically handle distributing customers across all of hello App Service Environments based on hello load balancing settings in hello Traffic Manager profile.</span></span>  <span data-ttu-id="abe93-115">이 방법은 여부에 관계 없이 모든 hello 앱 서비스 환경 되는 단일 Azure 지역에 배포 된 전 세계 여러 Azure 지역에 배포할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-115">This approach works regardless of whether all of hello App Service Environments are deployed in a single Azure region, or deployed worldwide across multiple Azure regions.</span></span>

<span data-ttu-id="abe93-116">또한 고객을 hello 베 니 티 도메인을 통해 앱에 액세스 하므로 고객은 인식 응용 프로그램을 실행 하는 앱 서비스 환경 hello 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-116">Furthermore, since customers access apps through hello vanity domain, customers are unaware of hello number of App Service Environments running an app.</span></span>  <span data-ttu-id="abe93-117">결과적으로 개발자는 앱 서비스 환경을 관찰된 트래픽 부하에 따라 쉽고 빠르게 추가 및 제거할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-117">As a result developers can quickly and easily add, and remove, App Service Environments based on observed traffic load.</span></span>

<span data-ttu-id="abe93-118">아래 hello 개념적 다이어그램에서는 단일 지역 내에서 3 개의 앱 서비스 환경에 걸쳐 가로로 확장 하는 응용 프로그램을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-118">hello conceptual diagram below depicts an app horizontally scaled out across three App Service Environments within a single region.</span></span>

![개념적 아키텍처][ConceptualArchitecture] 

<span data-ttu-id="abe93-120">이 항목의 나머지 부분에서는 hello 관련된 된 여러 앱 서비스 환경을 사용 하 여 hello 샘플 응용 프로그램에 대 한 분산된 토폴로지를 설정 하는 hello 단계를 안내 합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-120">hello remainder of this topic walks through hello steps involved with setting up a distributed topology for hello sample app using multiple App Service Environments.</span></span>

## <a name="planning-hello-topology"></a><span data-ttu-id="abe93-121">Hello 토폴로지를 계획합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-121">Planning hello Topology</span></span>
<span data-ttu-id="abe93-122">분산된 응용 프로그램 사용 공간이 아웃 빌드하기 전에 수 toohave 조각 정보를 미리 몇 가지 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-122">Before building out a distributed app footprint, it helps toohave a few pieces information ahead of time.</span></span>

* <span data-ttu-id="abe93-123">**Hello 앱에 대 한 사용자 지정 도메인:** 고객에서 tooaccess hello 앱을 사용 하는 hello 사용자 지정 도메인 이름은 무엇입니까?</span><span class="sxs-lookup"><span data-stu-id="abe93-123">**Custom domain for hello app:**  What is hello custom domain name that customers will use tooaccess hello app?</span></span>  <span data-ttu-id="abe93-124">Hello 샘플 응용 프로그램 hello 사용자 지정 도메인 이름이 *www.scalableasedemo.com*</span><span class="sxs-lookup"><span data-stu-id="abe93-124">For hello sample app hello custom domain name is *www.scalableasedemo.com*</span></span>
* <span data-ttu-id="abe93-125">**트래픽 관리자 도메인:** 도메인 이름을 만들 때 선택한 toobe 필요는 [Azure 트래픽 관리자 프로필][AzureTrafficManagerProfile]합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-125">**Traffic Manager domain:**  A domain name needs toobe chosen when creating an [Azure Traffic Manager profile][AzureTrafficManagerProfile].</span></span>  <span data-ttu-id="abe93-126">이 이름은 hello로 결합 됩니다 *trafficmanager.net* tooregister 트래픽 관리자에서 관리 되는 도메인 항목 접미사입니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-126">This name will be combined with hello *trafficmanager.net* suffix tooregister a domain entry that is managed by Traffic Manager.</span></span>  <span data-ttu-id="abe93-127">Hello 샘플 응용 프로그램에 대 한 hello 이름 선택은 *ase 데모 확장 가능한*합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-127">For hello sample app, hello name chosen is *scalable-ase-demo*.</span></span>  <span data-ttu-id="abe93-128">따라서 hello 전체 도메인 이름을 트래픽 관리자에서 관리 되는 *ase demo.trafficmanager.net 확장 가능한*합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-128">As a result hello full domain name that is managed by Traffic Manager is *scalable-ase-demo.trafficmanager.net*.</span></span>
* <span data-ttu-id="abe93-129">**Hello 응용 프로그램 사용 공간 크기 조정에 대 한 전략:** hello 응용 프로그램의 공간에 배포 되는 단일 지역에서 여러 앱 서비스 환경?</span><span class="sxs-lookup"><span data-stu-id="abe93-129">**Strategy for scaling hello app footprint:**  Will hello application footprint be distributed across multiple App Service Environments in a single region?</span></span>  <span data-ttu-id="abe93-130">여러 영역?</span><span class="sxs-lookup"><span data-stu-id="abe93-130">Multiple regions?</span></span>  <span data-ttu-id="abe93-131">두 방법을 혼합 및 일치?</span><span class="sxs-lookup"><span data-stu-id="abe93-131">A mix-and-match of both approaches?</span></span>  <span data-ttu-id="abe93-132">hello 의사 결정 고객 트래픽이 발생 한 위치,도 안녕하세요 rest 응용 프로그램을 지 원하는 백 엔드 인프라의 크기를 조정할 수 하는 방법의 기대치를 기반으로 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-132">hello decision should be based on expectations of where customer traffic will originate, as well as how well hello rest of an app's supporting back-end infrastructure can scale.</span></span>  <span data-ttu-id="abe93-133">예를 들어 100% 상태 비저장 응용 프로그램의 경우 Azure 지역 마다 여러 App Service Environment의 조합을 사용하여 앱을 크게 확장할 수 있으며 여러 Azure 지역에 걸쳐 배포된 App Service Environment로 곱해집니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-133">For example, with a 100% stateless application, an app can be massively scaled using a combination of multiple App Service Environments per Azure region,  multiplied by App Service Environments deployed across multiple Azure regions.</span></span>  <span data-ttu-id="abe93-134">15 + 공용 Azure 지역에서 사용할 수 있는 toochoose, 고객 전세계 대규모 응용 프로그램의 공간 진정으로 빌드할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-134">With 15+ public Azure regions available toochoose from, customers can truly build a world-wide hyper-scale application footprint.</span></span>  <span data-ttu-id="abe93-135">이 문서에 사용 되는 hello 샘플 응용 프로그램을 세 가지 앱 서비스 환경에는 단일 Azure 지역 (미국 중남부) 생성 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-135">For hello sample app used for this article, three App Service Environments were created in a single Azure region (South Central US).</span></span>
* <span data-ttu-id="abe93-136">**앱 서비스 환경 hello에 대 한 명명 규칙:** Each 앱 서비스 환경 이름은 고유 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-136">**Naming convention for hello App Service Environments:**  Each App Service Environment requires a unique name.</span></span>  <span data-ttu-id="abe93-137">하나 또는 두 개의 앱 서비스 환경 이외의 것이 유용한 toohave 명명 규칙 toohelp 각 앱 서비스 환경을 식별 합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-137">Beyond one or two App Service Environments it is helpful toohave a naming convention toohelp identify each App Service Environment.</span></span>  <span data-ttu-id="abe93-138">Hello 샘플 응용 프로그램에 대 한 간단한 명명 규칙이 사용 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-138">For hello sample app a simple naming convention was used.</span></span>  <span data-ttu-id="abe93-139">hello hello 3 앱 서비스 환경 이름은 소문자 *fe1ase*, *fe2ase*, 및 *fe3ase*합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-139">hello names of hello three App Service Environments are *fe1ase*, *fe2ase*, and *fe3ase*.</span></span>
* <span data-ttu-id="abe93-140">**Hello 앱에 대 한 명명 규칙:** hello 배포 된 앱의 각 인스턴스에 대해은 이름을 hello 앱의 여러 인스턴스를 배포할 하므로 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-140">**Naming convention for hello apps:**  Since multiple instances of hello app will be deployed, a name is needed for each instance of hello deployed app.</span></span>  <span data-ttu-id="abe93-141">앱 서비스 환경을 잘 알려지지 않은 있지만 매우 편리 하 게 기능 중 하나는 응용 프로그램 이름이 같은 여러 앱 서비스 환경에 걸쳐 사용할 수는 hello입니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-141">One little-known but very convenient feature of App Service Environments is that hello same app name can be used across multiple App Service Environments.</span></span>  <span data-ttu-id="abe93-142">각 앱 서비스 환경에 고유한 도메인 접미사가 있으므로 개발자는 각 환경에 사용 가능한 toore hello과 같은 응용 프로그램 이름을 선택할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-142">Since each App Service Environment has a unique domain suffix, developers can choose toore-use hello exact same app name in each environment.</span></span>  <span data-ttu-id="abe93-143">예를 들어 개발자가 앱을 *myapp.foo1.p.azurewebsites.net*, *myapp.foo2.p.azurewebsites.net*, *myapp.foo3.p.azurewebsites.net* 등과 같이 명명할 수 있습니다.  Hello 샘플 응용 프로그램에 대 한 하지만 각 응용 프로그램 인스턴스 또한 고유한 이름이 지정 됩니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-143">For example a developer could have apps named as follows:  *myapp.foo1.p.azurewebsites.net*, *myapp.foo2.p.azurewebsites.net*, *myapp.foo3.p.azurewebsites.net*, etc.  For hello sample app though each app instance also has a unique name.</span></span>  <span data-ttu-id="abe93-144">hello 사용 되는 응용 프로그램 인스턴스 이름은 *webfrontend1*, *webfrontend2*, 및 *webfrontend3*합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-144">hello app instance names used are *webfrontend1*, *webfrontend2*, and *webfrontend3*.</span></span>

## <a name="setting-up-hello-traffic-manager-profile"></a><span data-ttu-id="abe93-145">트래픽 관리자 프로필 hello 설정</span><span class="sxs-lookup"><span data-stu-id="abe93-145">Setting up hello Traffic Manager Profile</span></span>
<span data-ttu-id="abe93-146">응용 프로그램의 여러 인스턴스는 여러 앱 서비스 환경에 배포 된 후 hello 개별 앱 인스턴스 트래픽 관리자를 등록할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-146">Once multiple instances of an app are deployed on multiple App Service Environments, hello  individual app instances can be registered with Traffic Manager.</span></span>  <span data-ttu-id="abe93-147">Hello 샘플 응용 프로그램 트래픽 관리자 프로필에 대 한 필요한 *ase demo.trafficmanager.net 확장 가능한* 고객 배포의 다음 hello tooany 앱 인스턴스를 라우팅할 수 있는:</span><span class="sxs-lookup"><span data-stu-id="abe93-147">For hello sample app a Traffic Manager profile is needed for *scalable-ase-demo.trafficmanager.net* that can route customers tooany of hello following deployed app instances:</span></span>

* <span data-ttu-id="abe93-148">**webfrontend1.fe1ase.p.azurewebsites.net:** hello 샘플 응용 프로그램에 배포 된 인스턴스의 hello 첫 번째 앱 서비스 환경입니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-148">**webfrontend1.fe1ase.p.azurewebsites.net:**  An instance of hello sample app deployed on hello first App Service Environment.</span></span>
* <span data-ttu-id="abe93-149">**webfrontend2.fe2ase.p.azurewebsites.net:** hello 샘플 응용 프로그램에 배포 된 인스턴스의 hello 두 번째 앱 서비스 환경입니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-149">**webfrontend2.fe2ase.p.azurewebsites.net:**  An instance of hello sample app deployed on hello second App Service Environment.</span></span>
* <span data-ttu-id="abe93-150">**webfrontend3.fe3ase.p.azurewebsites.net:** hello 샘플 응용 프로그램에 배포 된 인스턴스의 hello 세 번째 앱 서비스 환경입니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-150">**webfrontend3.fe3ase.p.azurewebsites.net:**  An instance of hello sample app deployed on hello third App Service Environment.</span></span>

<span data-ttu-id="abe93-151">가장 쉬운 방법은 tooregister 여러 Azure 앱 서비스 끝점을 hello에서 모두 실행 hello **동일한** hello Powershell로는 Azure 지역 [Azure 리소스 관리자 트래픽 관리자 지원] [ ARMTrafficManager].</span><span class="sxs-lookup"><span data-stu-id="abe93-151">hello easiest way tooregister multiple Azure App Service endpoints, all running in hello **same** Azure region, is with hello Powershell [Azure Resource Manager Traffic Manager support][ARMTrafficManager].</span></span>  

<span data-ttu-id="abe93-152">hello 첫 번째 단계는 Azure 트래픽 관리자 프로필 toocreate입니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-152">hello first step is toocreate an Azure Traffic Manager profile.</span></span>  <span data-ttu-id="abe93-153">hello 코드 아래 hello 샘플 응용 프로그램에 대 한 hello 호스트 프로필이 생성 되었는지는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-153">hello code below shows how hello profile was created for hello sample app:</span></span>

    $profile = New-AzureTrafficManagerProfile –Name scalableasedemo -ResourceGroupName yourRGNameHere -TrafficRoutingMethod Weighted -RelativeDnsName scalable-ase-demo -Ttl 30 -MonitorProtocol HTTP -MonitorPort 80 -MonitorPath "/"

<span data-ttu-id="abe93-154">Hello 어떻게 확인 *RelativeDnsName* 매개 변수를 너무 설정한*ase 데모 확장 가능한*합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-154">Notice how hello *RelativeDnsName* parameter was set too*scalable-ase-demo*.</span></span>  <span data-ttu-id="abe93-155">도메인 이름 어떻게 hello은이 *ase demo.trafficmanager.net 확장 가능한* 생성 되어 트래픽 관리자 프로필과 연결 된입니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-155">This is how hello domain name *scalable-ase-demo.trafficmanager.net* is created and associated with a Traffic Manager profile.</span></span>

<span data-ttu-id="abe93-156">hello *TrafficRoutingMethod* hello 부하 분산 트래픽 관리자 toodetermine hello 사용 가능한 끝점의 모든 toospread 고객을 로드 하는 방법에서 사용 하는 정책 매개 변수를 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-156">hello *TrafficRoutingMethod* parameter defines hello load balancing policy Traffic Manager will use toodetermine how toospread customer load across all of hello available endpoints.</span></span>  <span data-ttu-id="abe93-157">이 예제에서는 hello에 *가 중* 메서드 선택 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-157">In this example hello *Weighted* method was chosen.</span></span>  <span data-ttu-id="abe93-158">이렇게 하면 모든 hello 등록 응용 프로그램 끝점에 연결 된 각 끝점 hello 상대 가중치에 따라 분산 되 고 고객 요청 합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-158">This will result in customer requests being spread across all of hello registered application endpoints based on hello relative weights associated with each endpoint.</span></span> 

<span data-ttu-id="abe93-159">각 응용 프로그램 인스턴스는 만든 hello 프로필을 기본 Azure 끝점으로 toohello 프로필을 추가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-159">With hello profile created, each app instance is added toohello profile as a native Azure endpoint.</span></span>  <span data-ttu-id="abe93-160">아래 hello 코드 참조 tooeach 프런트 엔드 웹 응용 프로그램을 가져오고 hello 통해 트래픽 관리자 끝점으로 각 응용 프로그램을 추가 하는 다음 *TargetResourceId* 매개 변수입니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-160">hello code below fetches a reference tooeach front end web app, and then adds each app as a Traffic Manager endpoint by way of hello *TargetResourceId* parameter.</span></span>

    $webapp1 = Get-AzureRMWebApp -Name webfrontend1
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend1 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp1.Id –EndpointStatus Enabled –Weight 10

    $webapp2 = Get-AzureRMWebApp -Name webfrontend2
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend2 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp2.Id –EndpointStatus Enabled –Weight 10

    $webapp3 = Get-AzureRMWebApp -Name webfrontend3
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend3 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp3.Id –EndpointStatus Enabled –Weight 10

    Set-AzureTrafficManagerProfile –TrafficManagerProfile $profile

<span data-ttu-id="abe93-161">되어 한 번의 호출 너무*추가 AzureTrafficManagerEndpointConfig* 각 개별 응용 프로그램 인스턴스에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-161">Notice how there is one call too*Add-AzureTrafficManagerEndpointConfig* for each individual app instance.</span></span>  <span data-ttu-id="abe93-162">hello *TargetResourceId* 각 Powershell 명령에서 매개 변수 hello 세 가지 배포 응용 프로그램 인스턴스 중 하나를 참조 합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-162">hello *TargetResourceId* parameter in each Powershell command references one of hello three deployed app instances.</span></span>  <span data-ttu-id="abe93-163">트래픽 관리자 프로필 hello hello 프로필에 등록 된 모든 세 끝점에서 부하를 분산 됩니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-163">hello Traffic Manager profile will spread load across all three endpoints registered in hello profile.</span></span>

<span data-ttu-id="abe93-164">Hello에 대 한 동일한 값 (10) hello hello 세 끝점 사용의 모든 *가중치* 매개 변수입니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-164">All of hello three endpoints use hello same value (10) for hello *Weight* parameter.</span></span>  <span data-ttu-id="abe93-165">그러면 트래픽 관리자에서 세 가지 앱 인스턴스에 상대적으로 균일하게 고객 요청을 분산하게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-165">This results in Traffic Manager spreading customer requests across all three app instances relatively evenly.</span></span> 

## <a name="pointing-hello-apps-custom-domain-at-hello-traffic-manager-domain"></a><span data-ttu-id="abe93-166">트래픽 관리자 도메인 hello에서 hello 응용 프로그램의 사용자 지정 도메인을 가리키는</span><span class="sxs-lookup"><span data-stu-id="abe93-166">Pointing hello App's Custom Domain at hello Traffic Manager Domain</span></span>
<span data-ttu-id="abe93-167">필요한 hello 마지막 단계에는 hello toopoint hello 트래픽 관리자 도메인에 hello 응용 프로그램의 사용자 지정 도메인입니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-167">hello final step necessary is toopoint hello custom domain of hello app at hello Traffic Manager domain.</span></span>  <span data-ttu-id="abe93-168">가리키는 즉 hello 샘플 응용 프로그램에 대 한 *www.scalableasedemo.com* 에서 *ase demo.trafficmanager.net 확장 가능한*합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-168">For hello sample app this means pointing *www.scalableasedemo.com* at *scalable-ase-demo.trafficmanager.net*.</span></span>  <span data-ttu-id="abe93-169">이 단계는 toobe hello 사용자 지정 도메인을 관리 하는 hello 도메인 등록 기관에 완료 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-169">This step needs toobe completed with hello domain registrar that manages hello custom domain.</span></span>  

<span data-ttu-id="abe93-170">등록자의 도메인 관리 도구를 사용 하 여 CNAME 레코드 요구 toobe hello 트래픽 관리자 도메인에서 어떤 지점 hello 사용자 지정 도메인을 생성 합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-170">Using your registrar's domain management tools, a CNAME records needs toobe created which points hello custom domain at hello Traffic Manager domain.</span></span>  <span data-ttu-id="abe93-171">아래 hello 그림이 CNAME 구성의 모양을의 예를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-171">hello picture below shows an example of what this CNAME configuration looks like:</span></span>

![사용자 지정 도메인에 대한 CNAME][CNAMEforCustomDomain] 

<span data-ttu-id="abe93-173">이 항목에서 설명 하지 않지만 각 개별 앱 인스턴스 toohave hello 사용자 지정 도메인 등록 된도 필요 함을 기억 합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-173">Although not covered in this topic, remember that each individual app instance needs toohave hello custom domain registered with it as well.</span></span>  <span data-ttu-id="abe93-174">그렇지 않으면 요청 tooan 응용 프로그램 인스턴스를 사용 하면 hello 응용 프로그램 등록 hello 앱 된 hello 사용자 지정 도메인이 없는 경우 hello 요청이 실패 합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-174">Otherwise if a request makes it tooan app instance, and hello application does not have hello custom domain registered with hello app, hello request will fail.</span></span>  

<span data-ttu-id="abe93-175">사용자 지정 도메인은이 예제에서는 hello *www.scalableasedemo.com*, 하며 각 응용 프로그램 인스턴스에 연결 된 hello 사용자 지정 도메인입니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-175">In this example hello custom domain is *www.scalableasedemo.com*, and each application instance has hello custom domain associated with it.</span></span>

![사용자 지정 도메인][CustomDomain] 

<span data-ttu-id="abe93-177">Azure 앱 서비스 앱을 사용자 지정 도메인을 등록에 대해 간략하게, hello 다음 문서를 참조 하세요. [사용자 지정 도메인 등록][RegisterCustomDomain]합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-177">For a recap of of registering a custom domain with Azure App Service apps, see hello following article on [registering custom domains][RegisterCustomDomain].</span></span>

## <a name="trying-out-hello-distributed-topology"></a><span data-ttu-id="abe93-178">시험적으로 hello 분산 토폴로지</span><span class="sxs-lookup"><span data-stu-id="abe93-178">Trying out hello Distributed Topology</span></span>
<span data-ttu-id="abe93-179">hello hello 트래픽 관리자 및 DNS 구성의 최종 결과 요청에 대 한 *www.scalableasedemo.com* 순서 따르면 hello를 통해 전달 됩니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-179">hello end result of hello Traffic Manager and DNS configuration is that requests for *www.scalableasedemo.com* will flow through hello following sequence:</span></span>

1. <span data-ttu-id="abe93-180">브라우저 또는 장치는 *www.scalableasedemo.com*</span><span class="sxs-lookup"><span data-stu-id="abe93-180">A browser or device will make a DNS lookup for *www.scalableasedemo.com*</span></span>
2. <span data-ttu-id="abe93-181">hello hello 도메인 등록 기관에서 CNAME 항목 hello DNS 조회 리디렉션 toobe tooAzure 트래픽 관리자 하면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-181">hello CNAME entry at hello domain registrar causes hello DNS lookup toobe redirected tooAzure Traffic Manager.</span></span>
3. <span data-ttu-id="abe93-182">에 대 한 DNS 조회 *ase demo.trafficmanager.net 확장 가능한* hello Azure 트래픽 관리자 DNS 서버 중 하나에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-182">A DNS lookup is made for *scalable-ase-demo.trafficmanager.net* against one of hello Azure Traffic Manager DNS servers.</span></span>
4. <span data-ttu-id="abe93-183">Hello 부하 분산 정책에 따라 (hello *TrafficRoutingMethod* hello 트래픽 관리자 프로필을 만들 때 이전에 사용 되는 매개 변수), 트래픽 관리자는 hello 중 하나를 선택 끝점을 구성 하 고 반환 하는의 FQDN hello 끝점 toohello 브라우저 또는 장치입니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-183">Based on hello load balancing policy (hello *TrafficRoutingMethod* parameter used earlier when creating hello Traffic Manager profile), Traffic Manager will select one of hello configured endpoints and return hello FQDN of that endpoint toohello browser or device.</span></span>
5. <span data-ttu-id="abe93-184">앱 서비스 환경에서 실행 되는 응용 프로그램 인스턴스의 hello Url hello hello 끝점의 FQDN 이므로, hello 브라우저나 장치로 묻습니다 Microsoft Azure DNS 서버 tooresolve hello FQDN tooan IP 주소.</span><span class="sxs-lookup"><span data-stu-id="abe93-184">Since hello FQDN of hello endpoint is hello Url of an app instance running on an App Service Environment, hello browser or device will ask a Microsoft Azure DNS server tooresolve hello FQDN tooan IP address.</span></span> 
6. <span data-ttu-id="abe93-185">hello 브라우저나 장치로 hello HTTP/S 요청 toohello IP 주소를 전송 합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-185">hello browser or device will send hello HTTP/S request toohello IP address.</span></span>  
7. <span data-ttu-id="abe93-186">hello 앱 서비스 환경 중 하나에서 실행 되는 hello 앱 인스턴스 중 하나에 도달 하는 hello 요청 합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-186">hello request will arrive at one of hello app instances running on one of hello App Service Environments.</span></span>

<span data-ttu-id="abe93-187">hello 콘솔 아래 그림과 hello 샘플 응용 프로그램의 사용자 지정 도메인 성공적으로 확인 하 고 tooan 응용 프로그램에서 실행 중인 인스턴스 hello 3 샘플 앱 서비스 환경 중 하나에 대 한 DNS 조회 (이 경우 앱 서비스 환경 hello 3 중 두 번째 hello):</span><span class="sxs-lookup"><span data-stu-id="abe93-187">hello console picture below shows a DNS lookup for hello sample app's custom domain successfully resolving tooan app instance running on one of hello three sample App Service Environments (in this case hello second of hello three App Service Environments):</span></span>

![DNS 조회][DNSLookup] 

## <a name="additional-links-and-information"></a><span data-ttu-id="abe93-189">추가 링크 및 정보</span><span class="sxs-lookup"><span data-stu-id="abe93-189">Additional Links and Information</span></span>
<span data-ttu-id="abe93-190">모든 문서와 방법을-hello에서 사용할 수 있는 앱 서비스 환경에 대 한의 하려면 [응용 프로그램 서비스 환경에 대 한 추가 정보](../app-service/app-service-app-service-environments-readme.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-190">All articles and How-To's for App Service Environments are available in hello [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="abe93-191">Powershell hello에 대 한 설명서 [Azure 리소스 관리자 트래픽 관리자 지원][ARMTrafficManager]합니다.</span><span class="sxs-lookup"><span data-stu-id="abe93-191">Documentation on hello Powershell [Azure Resource Manager Traffic Manager support][ARMTrafficManager].</span></span>  

[!INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]

[!INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]

<!-- LINKS -->
[AzureTrafficManagerProfile]: ../traffic-manager/traffic-manager-manage-profiles.md
[ARMTrafficManager]: ../traffic-manager/traffic-manager-powershell-arm.md
[RegisterCustomDomain]: app-service-web-tutorial-custom-domain.md


<!-- IMAGES -->
[ConceptualArchitecture]: ./media/app-service-app-service-environment-geo-distributed-scale/ConceptualArchitecture-1.png
[CNAMEforCustomDomain]:  ./media/app-service-app-service-environment-geo-distributed-scale/CNAMECustomDomain-1.png
[DNSLookup]:  ./media/app-service-app-service-environment-geo-distributed-scale/DNSLookup-1.png
[CustomDomain]:  ./media/app-service-app-service-environment-geo-distributed-scale/CustomDomain-1.png 
