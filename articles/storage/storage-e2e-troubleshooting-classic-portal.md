---
title: "진단 및 메시지 분석기 aaaTroubleshooting Azure 저장소 | Microsoft Docs"
description: "Azure 저장소 분석, AzCopy 및 Microsoft Message Analyzer를 사용한 종단 간 문제 해결을 보여 주는 자습서"
services: storage
documentationcenter: dotnet
author: robinsh
manager: timlt
ms.assetid: 6b23cba5-0d53-439e-870b-de8e406107d8
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 01/23/2017
ms.author: robinsh
ms.openlocfilehash: 74ee126bab30b9a45f4904a065b6fe3006f76101
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="end-to-end-troubleshooting-using-azure-storage-metrics-and-logging-azcopy-and-message-analyzer"></a><span data-ttu-id="c0eb7-103">Azure Storage 메트릭 및 로깅, AzCopy 및 메시지 분석기를 사용한 종단 간 문제 해결</span><span class="sxs-lookup"><span data-stu-id="c0eb7-103">End-to-End Troubleshooting using Azure Storage metrics and logging, AzCopy, and Message Analyzer</span></span>
[!INCLUDE [storage-selector-portal-e2e-troubleshooting](../../includes/storage-selector-portal-e2e-troubleshooting.md)]

## <a name="overview"></a><span data-ttu-id="c0eb7-104">개요</span><span class="sxs-lookup"><span data-stu-id="c0eb7-104">Overview</span></span>
<span data-ttu-id="c0eb7-105">진단 및 문제 해결은 Microsoft Azure 저장소를 사용하는 클라이언트 응용 프로그램을 빌드 및 지원하기 위한 핵심 기술입니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-105">Diagnosing and troubleshooting is a key skill for building and supporting client applications with Microsoft Azure Storage.</span></span> <span data-ttu-id="c0eb7-106">Azure 응용 프로그램에서는 분산 toohello 이기 때문 진단 하 고 오류 및 성능 문제를 해결 기존 환경에서는 보다 훨씬 복잡할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-106">Due toohello distributed nature of an Azure application, diagnosing and troubleshooting errors and performance issues may be more complex than in traditional environments.</span></span>

<span data-ttu-id="c0eb7-107">이 자습서에서는 보여 드리겠습니다 방법을 tooidentify 클라이언트 성능에 영향을 종단 간에서 이러한 오류를 해결 수 있는 특정 오류 순서 toooptimize hello 클라이언트 응용 프로그램에서 Microsoft 및 Azure 저장소에서 제공 하는 도구를 사용 하 여 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-107">In this tutorial, we will demonstrate how tooidentify client certain errors that may affect performance, and troubleshoot those errors from end-to-end using tools provided by Microsoft and Azure Storage, in order toooptimize hello client application.</span></span>

<span data-ttu-id="c0eb7-108">이 자습서는 종단 간 문제 해결 시나리오의 실습 탐색을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-108">This tutorial provides a hands-on exploration of an end-to-end troubleshooting scenario.</span></span> <span data-ttu-id="c0eb7-109">개념에 대해 자세하게 설명 tootroubleshooting Azure 저장소 응용 프로그램에 대 한 참조 [모니터, 진단 및 해결 Microsoft Azure 저장소](storage-monitoring-diagnosing-troubleshooting.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-109">For an in-depth conceptual guide tootroubleshooting Azure storage applications, see [Monitor, diagnose, and troubleshoot Microsoft Azure Storage](storage-monitoring-diagnosing-troubleshooting.md).</span></span>

## <a name="tools-for-troubleshooting-azure-storage-applications"></a><span data-ttu-id="c0eb7-110">Azure 저장소 응용 프로그램 문제 해결 도구</span><span class="sxs-lookup"><span data-stu-id="c0eb7-110">Tools for troubleshooting Azure Storage applications</span></span>
<span data-ttu-id="c0eb7-111">Microsoft Azure 저장소를 사용 하 여 tootroubleshoot 클라이언트 응용 프로그램을 어떤 hello hello 문제의 원인일 수 있습니다 및 도구 toodetermine 문제가 발생 했을 때의 조합을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-111">tootroubleshoot client applications using Microsoft Azure Storage, you can use a combination of tools toodetermine when an issue has occurred and what hello cause of hello problem may be.</span></span> <span data-ttu-id="c0eb7-112">이러한 도구로는 다음이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-112">These tools include:</span></span>

* <span data-ttu-id="c0eb7-113">**Azure 저장소 분석**.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-113">**Azure Storage Analytics**.</span></span> <span data-ttu-id="c0eb7-114">[Azure 저장소 분석](http://msdn.microsoft.com/library/azure/hh343270.aspx) 은 Azure 저장소에 대한 로깅 및 메트릭을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-114">[Azure Storage Analytics](http://msdn.microsoft.com/library/azure/hh343270.aspx) provides metrics and logging for Azure Storage.</span></span>

  * <span data-ttu-id="c0eb7-115">**저장소 메트릭** 은 저장소 계정에 대한 트랜잭션 메트릭 및 용량 메트릭을 추적합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-115">**Storage metrics** tracks transaction metrics and capacity metrics for your storage account.</span></span> <span data-ttu-id="c0eb7-116">메트릭을 사용 하 여, 응용 프로그램에 따라 tooa 다양 한 서로 다른 조치를 수행 되는 방법을 결정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-116">Using metrics, you can determine how your application is performing according tooa variety of different measures.</span></span> <span data-ttu-id="c0eb7-117">참조 [저장소 분석 통계 테이블 스키마](http://msdn.microsoft.com/library/azure/hh343264.aspx) hello 유형의 메트릭 Storage Analytics에서 추적에 대 한 자세한 내용은 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-117">See [Storage Analytics Metrics Table Schema](http://msdn.microsoft.com/library/azure/hh343264.aspx) for more information about hello types of metrics tracked by Storage Analytics.</span></span>
  * <span data-ttu-id="c0eb7-118">**저장소 로깅** 각 요청 toohello Azure 저장소 서비스 tooa 서버 쪽 로그를 기록 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-118">**Storage logging** logs each request toohello Azure Storage services tooa server-side log.</span></span> <span data-ttu-id="c0eb7-119">hello 로그 트랙 hello 작업을 포함 하 여 각 요청에 대 한 자세한 데이터 수행 hello 상태 hello 작업 및 대기 시간 정보.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-119">hello log tracks detailed data for each request, including hello operation performed, hello status of hello operation, and latency information.</span></span> <span data-ttu-id="c0eb7-120">참조 [저장소 분석 로그 형식](http://msdn.microsoft.com/library/azure/hh343259.aspx) toohello 로그 Storage Analytics에서 작성 된 hello 요청 및 응답 데이터에 대 한 자세한 내용은 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-120">See [Storage Analytics Log Format](http://msdn.microsoft.com/library/azure/hh343259.aspx) for more information about hello request and response data that is written toohello logs by Storage Analytics.</span></span>

> [!NOTE]
> <span data-ttu-id="c0eb7-121">저장소 계정 영역 중복 저장소 (ZRS)의 복제 형식과 hello 메트릭 또는 로깅 기능을 현재 사용 권한이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-121">Storage accounts with a replication type of Zone-Redundant Storage (ZRS) do not have hello metrics or logging capability enabled at this time.</span></span>
>
>

* <span data-ttu-id="c0eb7-122">**Azure 클래식 포털**.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-122">**Azure Classic Portal**.</span></span> <span data-ttu-id="c0eb7-123">Hello에서 저장소 계정에 대 한 메트릭 및 로깅을 구성할 수 있습니다 [Azure 클래식 포털](https://manage.windowsazure.com)합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-123">You can configure metrics and logging for your storage account in hello [Azure Classic Portal](https://manage.windowsazure.com).</span></span> <span data-ttu-id="c0eb7-124">차트 및 응용 프로그램 시간이 지남에 따라 수행 되는 방법을 보여 주는 그래프를 볼 수 있고 응용 프로그램 보다 다르게 수행 하는 경우 지정 된 메트릭에 대 한 예상 경고 toonotify 구성 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-124">You can also view charts and graphs that show how your application is performing over time, and configure alerts toonotify you if your application performs differently than expected for a specified metric.</span></span>

    <span data-ttu-id="c0eb7-125">참조 [hello Azure 포털에서에서 저장소 계정을 모니터링](storage-monitor-storage-account.md) hello Azure 클래식 포털에서에서 모니터링을 구성 하는 방법에 대 한 정보에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-125">See [Monitor a storage account in hello Azure Portal](storage-monitor-storage-account.md) for information about configuring monitoring in hello Azure Classic Portal.</span></span>
* <span data-ttu-id="c0eb7-126">**AzCopy**.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-126">**AzCopy**.</span></span> <span data-ttu-id="c0eb7-127">Microsoft 메시지 분석기를 사용 하 여 분석에 대 한 AzCopy toocopy hello 로그 blob tooa 로컬 디렉터리를 사용할 수 있도록 Azure 저장소에 대 한 서버 로그를 blob으로 저장 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-127">Server logs for Azure Storage are stored as blobs, so you can use AzCopy toocopy hello log blobs tooa local directory for analysis using Microsoft Message Analyzer.</span></span> <span data-ttu-id="c0eb7-128">참조 [hello AzCopy 명령줄 유틸리티를 사용 하 여 데이터를 전송](storage-use-azcopy.md) AzCopy에 대 한 자세한 내용은 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-128">See [Transfer data with hello AzCopy Command-Line Utility](storage-use-azcopy.md) for more information about AzCopy.</span></span>
* <span data-ttu-id="c0eb7-129">**Microsoft Message Analyzer**.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-129">**Microsoft Message Analyzer**.</span></span> <span data-ttu-id="c0eb7-130">Message Analyzer는 로그 파일을 사용 하 고 쉽게 toofilter, 검색 및 그룹 tooanalyze 오류 및 성능 문제를 사용할 수 있는 유용한 집합으로 데이터를 기록 하는 시각적 형식 로그 데이터를에서 표시 하는 도구입니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-130">Message Analyzer is a tool that consumes log files and displays log data in a visual format that makes it easy toofilter, search, and group log data into useful sets that you can use tooanalyze errors and performance issues.</span></span> <span data-ttu-id="c0eb7-131">Message Analyzer에 대한 자세한 내용은 [Microsoft Message Analyzer 운영 가이드](http://technet.microsoft.com/library/jj649776.aspx)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-131">See [Microsoft Message Analyzer Operating Guide](http://technet.microsoft.com/library/jj649776.aspx) for more information about Message Analyzer.</span></span>

## <a name="about-hello-sample-scenario"></a><span data-ttu-id="c0eb7-132">Hello 샘플 시나리오에 대 한</span><span class="sxs-lookup"><span data-stu-id="c0eb7-132">About hello sample scenario</span></span>
<span data-ttu-id="c0eb7-133">이 자습서에서는 Azure 저장소 메트릭이 Azure 저장소를 호출하는 응용 프로그램에 대한 낮은 성공률을 나타내는 시나리오를 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-133">For this tutorial, we'll examine a scenario where Azure Storage metrics indicates a low percent success rate for an application that calls Azure storage.</span></span> <span data-ttu-id="c0eb7-134">낮은 성공 백분율 속도 메트릭을 hello (으로 표시 **PercentSuccess** hello 메트릭 테이블 및 hello Azure 클래식 포털에서에서)를 수행할 수 있지만 299 보다 크면 HTTP 상태 코드를 반환 하는 작업을 추적 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-134">hello low percent success rate metric (shown as **PercentSuccess** in hello Azure Classic Portal and in hello metrics tables) tracks operations that succeed, but that return an HTTP status code that is greater than 299.</span></span> <span data-ttu-id="c0eb7-135">Hello 서버 쪽 저장소 로그 파일의 이러한 작업의 트랜잭션 상태와 함께 기록 됩니다 **ClientOtherErrors**합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-135">In hello server-side storage log files, these operations are recorded with a transaction status of **ClientOtherErrors**.</span></span> <span data-ttu-id="c0eb7-136">Hello 낮은 성공 백분율 메트릭에 대 한 자세한 내용은 참조 하십시오. [메트릭에서 낮은 PercentSuccess 또는 분석 로그 항목 마다 ClientOtherErrors의 트랜잭션 상태와 함께 작업이](storage-monitoring-diagnosing-troubleshooting.md#metrics-show-low-percent-success)합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-136">For more details about hello low percent success metric, see [Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors](storage-monitoring-diagnosing-troubleshooting.md#metrics-show-low-percent-success).</span></span>

<span data-ttu-id="c0eb7-137">Azure 저장소 작업은 299보다 큰 HTTP 상태 코드를 정상적인 기능의 일부로 반환할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-137">Azure Storage operations may return HTTP status codes greater than 299 as part of their normal functionality.</span></span> <span data-ttu-id="c0eb7-138">하지만 일부 경우 이러한 오류가 표시 있습니다 수 있다고 수 toooptimize 클라이언트 응용 프로그램에 대 한 향상 된 성능을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-138">But these errors in some cases indicate that you may be able toooptimize your client application for improved performance.</span></span>

<span data-ttu-id="c0eb7-139">이 시나리오에서는 것 이라고 생각 낮은 성공 백분율 속도 toobe 100% 미만인 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-139">In this scenario, we'll consider a low percent success rate toobe anything below 100%.</span></span> <span data-ttu-id="c0eb7-140">그러나 Tooyour 요구에 따라 다른 메트릭 수준, 선택할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-140">You can choose a different metric level, however, according tooyour needs.</span></span> <span data-ttu-id="c0eb7-141">응용 프로그램을 테스트하는 동안 주요 성능 메트릭에 대해 기준 허용 오차를 설정하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-141">We recommend that during testing of your application, you establish a baseline tolerance for your key performance metrics.</span></span> <span data-ttu-id="c0eb7-142">예를 들어 테스트에 따라 응용 프로그램이 90% 또는 85%의 일관된 성공률(백분율)을 유지해야 한다고 결정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-142">For example, you might determine, based on testing, that your application should have a consistent percent success rate of 90%, or 85%.</span></span> <span data-ttu-id="c0eb7-143">메트릭 데이터 hello 응용 프로그램에서 해당 숫자 벗어난은 표시 되 면 hello 증가 일으키는 원인을 조사할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-143">If your metrics data shows that hello application is deviating from that number, then you can investigate what may be causing hello increase.</span></span>

<span data-ttu-id="c0eb7-144">샘플 시나리오에 대 한 hello 성공 백분율 속도 메트릭을 100%, toohello 메트릭, 상관 관계를 지정 하는 hello 로그 toofind hello 오류를 검사 하 고 사용 합니다 설정 했으므로 म toofigure 기능으로 인해 hello 낮은 백분율 성공률을 보입니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-144">For our sample scenario, once we've established that hello percent success rate metric is below 100%, we will examine hello logs toofind hello errors that correlate toohello metrics, and use them toofigure out what is causing hello lower percent success rate.</span></span> <span data-ttu-id="c0eb7-145">Hello 400 범위에서 오류에 맞게 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-145">We'll look specifically at errors in hello 400 range.</span></span> <span data-ttu-id="c0eb7-146">그런 다음 404(찾을 수 없음) 오류를 더욱 자세하게 조사합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-146">Then we'll more closely investigate 404 (Not Found) errors.</span></span>

### <a name="some-causes-of-400-range-errors"></a><span data-ttu-id="c0eb7-147">400번대 오류의 몇 가지 원인</span><span class="sxs-lookup"><span data-stu-id="c0eb7-147">Some causes of 400-range errors</span></span>
<span data-ttu-id="c0eb7-148">아래의 hello 예제에서는 Azure Blob 저장소에 대 한 요청에 대 한 일부 400 범위 오류 및 가능한 원인이 샘플링을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-148">hello examples below shows a sampling of some 400-range errors for requests against Azure Blob Storage, and their possible causes.</span></span> <span data-ttu-id="c0eb7-149">Hello 300 범위 및 hello 500 범위 오류 뿐 아니라 이러한 오류 중 하나는 tooa 낮은 백분율 성공률을 기여할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-149">Any of these errors, as well as errors in hello 300 range and hello 500 range, can contribute tooa low percent success rate.</span></span>

<span data-ttu-id="c0eb7-150">아래 hello 목록은 완료 멀리 떨어져 있는 참고 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-150">Note that hello lists below are far from complete.</span></span> <span data-ttu-id="c0eb7-151">참조 [상태 및 오류 코드](http://msdn.microsoft.com/library/azure/dd179382.aspx) hello 저장소 서비스의 특정 tooeach 오류 및 일반적인 Azure 저장소 오류에 대 한 세부 정보에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-151">See [Status and Error Codes](http://msdn.microsoft.com/library/azure/dd179382.aspx) for details about general Azure Storage errors and about errors specific tooeach of hello storage services.</span></span>

<span data-ttu-id="c0eb7-152">**상태 코드 404(찾을 수 없음) 예제**</span><span class="sxs-lookup"><span data-stu-id="c0eb7-152">**Status Code 404 (Not Found) Examples**</span></span>

<span data-ttu-id="c0eb7-153">Hello blob 또는 컨테이너 없기 때문에 컨테이너 또는 blob에 대 한 읽기 작업이 실패할 때 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-153">Occurs when a read operation against a container or blob fails because hello blob or container is not found.</span></span>

* <span data-ttu-id="c0eb7-154">이 요청 이전에 다른 클라이언트가 컨테이너 또는 Blob을 삭제한 경우에 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-154">Occurs if a container or blob has been deleted by another client before this request.</span></span>
* <span data-ttu-id="c0eb7-155">있는지 확인 한 후 hello 컨테이너 또는 blob을 만드는 API 호출을 사용 하는 경우 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-155">Occurs if you are using an API call that creates hello container or blob after checking whether it exists.</span></span> <span data-ttu-id="c0eb7-156">경고는 CreateIfNotExists Api hello hello 컨테이너 또는 blob; hello 있는지에 대 한 첫 번째 toocheck 호출 헤드 확인 존재 하지 않는 경우 404 오류는 반환 되 고 두 번째 PUT 호출 toowrite hello 컨테이너 또는 blob입니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-156">hello CreateIfNotExists APIs make a HEAD call first toocheck for hello existence of hello container or blob; if it does not exist, a 404 error is returned, and then a second PUT call is made toowrite hello container or blob.</span></span>

<span data-ttu-id="c0eb7-157">**상태 코드 409(충돌) 예제**</span><span class="sxs-lookup"><span data-stu-id="c0eb7-157">**Status Code 409 (Conflict) Examples**</span></span>

* <span data-ttu-id="c0eb7-158">컨테이너 또는 blob 이름이 이미 있습니다. 있는지 먼저 확인 하지 않고 API 만들기 toocreate 새 컨테이너 또는 blob을 사용할 경우 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-158">Occurs if you use a Create API toocreate a new container or blob, without checking for existence first, and a container or blob with that name already exists.</span></span>
* <span data-ttu-id="c0eb7-159">컨테이너를 삭제 하는 경우 toocreate hello hello 삭제 작업이 완료 되기 전에 이름과 같은 이름을 사용 하 여 새 컨테이너를 시도 하면 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-159">Occurs if a container is being deleted, and you attempt toocreate a new container with hello same name before hello deletion operation is complete.</span></span>
* <span data-ttu-id="c0eb7-160">컨테이너 또는 Blob에서 임대를 지정하는데 임대가 이미 존재하는 경우에 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-160">Occurs if you specify a lease on a container or blob, and there is already a lease present.</span></span>

<span data-ttu-id="c0eb7-161">**상태 코드 412(전제 조건 실패) 예제**</span><span class="sxs-lookup"><span data-stu-id="c0eb7-161">**Status Code 412 (Precondition Failed) Examples**</span></span>

* <span data-ttu-id="c0eb7-162">조건부 헤더에 의해 지정 된 hello 조건이 충족 되지 않았습니다 때 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-162">Occurs when hello condition specified by a conditional header has not been met.</span></span>
* <span data-ttu-id="c0eb7-163">지정 된 임대 ID를 hello hello 컨테이너 또는 blob에서 임대 ID를 hello 일치 하지 않을 때 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-163">Occurs when hello lease ID specified does not match hello lease ID on hello container or blob.</span></span>

## <a name="generate-log-files-for-analysis"></a><span data-ttu-id="c0eb7-164">분석에 대한 로그 파일 생성</span><span class="sxs-lookup"><span data-stu-id="c0eb7-164">Generate log files for analysis</span></span>
<span data-ttu-id="c0eb7-165">이 자습서에서는 메시지 분석기 toowork 세 가지 유형의 로그 파일 사용 toowork이 중 하나를 선택할 수 있지만:</span><span class="sxs-lookup"><span data-stu-id="c0eb7-165">In this tutorial, we'll use Message Analyzer toowork with three different types of log files, although you could choose toowork with any one of these:</span></span>

* <span data-ttu-id="c0eb7-166">hello **서버 로그**, Azure 저장소 로깅을 사용 하도록 설정 하면 생성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-166">hello **server log**, which is created when you enable Azure Storage logging.</span></span> <span data-ttu-id="c0eb7-167">hello 서버 로그 hello Azure 저장소 서비스-blob, 큐, 테이블 및 파일 중 하나에 대해 호출 하는 각 작업에 대 한 데이터를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-167">hello server log contains data about each operation called against one of hello Azure Storage services - blob, queue, table, and file.</span></span> <span data-ttu-id="c0eb7-168">hello 서버 로그는 작업이 호출 된 어떤 상태 코드는 hello 요청 및 응답에 대 한 세부 정보를 반환 된, 뿐만 아니라 다른 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-168">hello server log indicates which operation was called and what status code was returned, as well as other details about hello request and response.</span></span>
* <span data-ttu-id="c0eb7-169">hello **.NET 클라이언트 로그**,.NET 응용 프로그램 내에서 클라이언트 쪽 로그를 사용 하도록 설정 하면 생성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-169">hello **.NET client log**, which is created when you enable client-side logging from within your .NET application.</span></span> <span data-ttu-id="c0eb7-170">hello 클라이언트 로그 hello 클라이언트 hello 요청을 준비 하 고 받고 하는 방법 hello 응답을 처리 하는 방법에 대 한 자세한 정보를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-170">hello client log includes detailed information about how hello client prepares hello request and receives and processes hello response.</span></span>
* <span data-ttu-id="c0eb7-171">hello **HTTP 네트워크 추적 로그**, Azure 저장소에 대 한 작업을 포함 하 여 HTTP/HTTPS 요청 및 응답 데이터에서 데이터를 수집 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-171">hello **HTTP network trace log**, which collects data on HTTP/HTTPS request and response data, including for operations against Azure Storage.</span></span> <span data-ttu-id="c0eb7-172">이 자습서에서는 메시지 분석기를 통해 hello 네트워크 추적을 생성 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-172">In this tutorial, we'll generate hello network trace via Message Analyzer.</span></span>

### <a name="configure-server-side-logging-and-metrics"></a><span data-ttu-id="c0eb7-173">서버 쪽 로깅 및 메트릭 구성</span><span class="sxs-lookup"><span data-stu-id="c0eb7-173">Configure server-side logging and metrics</span></span>
<span data-ttu-id="c0eb7-174">첫째, 해야 tooconfigure Azure 저장소 로깅 및 메트릭 데이터 hello 클라이언트 응용 프로그램 tooanalyze에서 할 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-174">First, we'll need tooconfigure Azure Storage logging and metrics, so that we have data from hello client application tooanalyze.</span></span> <span data-ttu-id="c0eb7-175">다양 한 방법으로-hello 통해에서 로깅 및 메트릭을 구성할 수 있습니다 [Azure 클래식 포털](https://manage.windowsazure.com), PowerShell을 사용 하 여 또는 프로그래밍 방식으로 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-175">You can configure logging and metrics in a variety of ways - via hello [Azure Classic Portal](https://manage.windowsazure.com), by using PowerShell, or programmatically.</span></span> <span data-ttu-id="c0eb7-176">로깅 및 메트릭 구성에 대한 자세한 내용은 [저장소 메트릭 사용 및 메트릭 데이터 보기](http://msdn.microsoft.com/library/azure/dn782843.aspx) 및 [저장소 로깅 사용 및 로그 데이터 액세스](http://msdn.microsoft.com/library/azure/dn782840.aspx)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-176">See [Enabling Storage Metrics and Viewing Metrics Data](http://msdn.microsoft.com/library/azure/dn782843.aspx) and [Enabling Storage Logging and Accessing Log Data](http://msdn.microsoft.com/library/azure/dn782840.aspx) for details about configuring logging and metrics.</span></span>

<span data-ttu-id="c0eb7-177">**Hello Azure 클래식 포털을 통해**</span><span class="sxs-lookup"><span data-stu-id="c0eb7-177">**Via hello Azure Classic Portal**</span></span>

<span data-ttu-id="c0eb7-178">tooconfigure 로깅 및 메트릭 hello 포털을 사용 하 여 저장소 계정에 대 한 hello 지침에 따라 [hello Azure 포털에서에서 저장소 계정을 모니터링](storage-monitor-storage-account.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-178">tooconfigure logging and metrics for your storage account using hello portal, follow hello instructions at [Monitor a storage account in hello Azure Portal](storage-monitor-storage-account.md).</span></span>

> [!NOTE]
> <span data-ttu-id="c0eb7-179">Hello Azure 클래식 포털을 사용 하 여 가능한 tooset 분 메트릭을 없습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-179">It's not possible tooset minute metrics using hello Azure Classic Portal.</span></span> <span data-ttu-id="c0eb7-180">그러나 설정 않는 해당 응용 프로그램과 함께 성능 문제를 조사 하는 데 하 고이 자습서의 hello 위해 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-180">However, we recommend that you do set them for hello purposes of this tutorial, and for investigating performance issues with your application.</span></span> <span data-ttu-id="c0eb7-181">분 메트릭 아래 또는 프로그래밍 방식으로 표시 된 것 처럼 PowerShell을 사용 하 여 설정 하거나 hello Azure 클래식 포털을 통해 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-181">You can set minute metrics using PowerShell as shown below, or programmatically, or via hello Azure Classic Portal.</span></span>
>
> <span data-ttu-id="c0eb7-182">Azure 클래식 포털 hello는 분 메트릭, 매시간 메트릭만 표시할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-182">Note that hello Azure Classic Portal cannot display minute metrics, only hourly metrics.</span></span>
>
>

<span data-ttu-id="c0eb7-183">**PowerShell을 통해**</span><span class="sxs-lookup"><span data-stu-id="c0eb7-183">**Via PowerShell**</span></span>

<span data-ttu-id="c0eb7-184">Azure에 대 한 PowerShell 시작 tooget 참조 [어떻게 tooinstall Azure PowerShell을 구성 하 고](/powershell/azure/overview)합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-184">tooget started with PowerShell for Azure, see [How tooinstall and configure Azure PowerShell](/powershell/azure/overview).</span></span>

1. <span data-ttu-id="c0eb7-185">사용 하 여 hello [Add-azureaccount](/powershell/module/azure/add-azureaccount?view=azuresmps-3.7.0) cmdlet tooadd Azure 사용자 계정 toohello PowerShell 창:</span><span class="sxs-lookup"><span data-stu-id="c0eb7-185">Use hello [Add-AzureAccount](/powershell/module/azure/add-azureaccount?view=azuresmps-3.7.0) cmdlet tooadd your Azure user account toohello PowerShell window:</span></span>

    ```powershell
     Add-AzureAccount
    ```

2. <span data-ttu-id="c0eb7-186">Hello에 **tooMicrosoft Azure에에서 로그인** 창과 hello 전자 메일 주소를 입력 하면 계정과 연결 된 암호입니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-186">In hello **Sign in tooMicrosoft Azure** window, type hello email address and password associated with your account.</span></span> <span data-ttu-id="c0eb7-187">Azure 인증 및 hello 자격 증명 정보를 저장 하 고 hello 창을 닫습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-187">Azure authenticates and saves hello credential information, and then closes hello window.</span></span>
3. <span data-ttu-id="c0eb7-188">Hello PowerShell 창에서 이러한 명령을 실행 하 여 hello 자습서에 사용 하는 hello 기본 저장소 계정 toohello 저장소 계정을 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-188">Set hello default storage account toohello storage account you are using for hello tutorial by executing these commands in hello PowerShell window:</span></span>

    ```powershell
    $SubscriptionName = 'Your subscription name'
    $StorageAccountName = 'yourstorageaccount'
    Set-AzureSubscription -CurrentStorageAccountName $StorageAccountName -SubscriptionName $SubscriptionName
    ```

4. <span data-ttu-id="c0eb7-189">저장소 Blob 서비스 hello에 대 한 로깅을 사용 하도록 설정:</span><span class="sxs-lookup"><span data-stu-id="c0eb7-189">Enable storage logging for hello Blob service:</span></span>

    ```powershell
    Set-AzureStorageServiceLoggingProperty -ServiceType Blob -LoggingOperations Read,Write,Delete -PassThru -RetentionDays 7 -Version 1.0
    ```

5. <span data-ttu-id="c0eb7-190">Blob 서비스를 만드는 있는지 tooset hello에 대 한 저장소 메트릭을 사용 하도록 설정 **-MetricsType** 너무`Minute`:</span><span class="sxs-lookup"><span data-stu-id="c0eb7-190">Enable storage metrics for hello Blob service, making sure tooset **-MetricsType** too`Minute`:</span></span>

    ```powershell
    Set-AzureStorageServiceMetricsProperty -ServiceType Blob -MetricsType Minute -MetricsLevel ServiceAndApi -PassThru -RetentionDays 7 -Version 1.0
    ```

### <a name="configure-net-client-side-logging"></a><span data-ttu-id="c0eb7-191">.NET 클라이언트 쪽 로깅 구성</span><span class="sxs-lookup"><span data-stu-id="c0eb7-191">Configure .NET client-side logging</span></span>
<span data-ttu-id="c0eb7-192">클라이언트 쪽.NET 응용 프로그램에 대 한 로깅을 tooconfigure hello 응용 프로그램의 구성 파일 (web.config 또는 app.config)에.NET 진단을 사용 하도록 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-192">tooconfigure client-side logging for a .NET application, enable .NET diagnostics in hello application's configuration file (web.config or app.config).</span></span> <span data-ttu-id="c0eb7-193">참조 [클라이언트 hello.NET 저장소 클라이언트 라이브러리를 사용 하 여 로깅](http://msdn.microsoft.com/library/azure/dn782839.aspx) 및 [클라이언트 hello Java 용 Microsoft Azure 저장소 SDK를 사용 하 여 로깅](http://msdn.microsoft.com/library/azure/dn782844.aspx) 대 한 자세한 내용은 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-193">See [Client-side Logging with hello .NET Storage Client Library](http://msdn.microsoft.com/library/azure/dn782839.aspx) and [Client-side Logging with hello Microsoft Azure Storage SDK for Java](http://msdn.microsoft.com/library/azure/dn782844.aspx) for details.</span></span>

<span data-ttu-id="c0eb7-194">클라이언트 쪽 로그 hello hello 클라이언트 hello 요청을 준비 하 고 받고 하는 방법 hello 응답을 처리 하는 방법에 대 한 자세한 정보를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-194">hello client-side log includes detailed information about how hello client prepares hello request and receives and processes hello response.</span></span>

<span data-ttu-id="c0eb7-195">저장소 클라이언트 라이브러리 hello hello 응용 프로그램의 구성 파일 (web.config 또는 app.config)에 지정 된 hello 위치에 클라이언트 쪽 로그 데이터를 저장 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-195">hello Storage Client Library stores client-side log data in hello location specified in hello application's configuration file (web.config or app.config).</span></span>

### <a name="collect-a-network-trace"></a><span data-ttu-id="c0eb7-196">네트워크 추적 수집</span><span class="sxs-lookup"><span data-stu-id="c0eb7-196">Collect a network trace</span></span>
<span data-ttu-id="c0eb7-197">클라이언트 응용 프로그램을 실행 하는 동안 메시지 분석기 toocollect HTTP/HTTPS 네트워크 추적을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-197">You can use Message Analyzer toocollect an HTTP/HTTPS network trace while your client application is running.</span></span> <span data-ttu-id="c0eb7-198">메시지 분석기 사용 하 여 [Fiddler](http://www.telerik.com/fiddler) hello에 백 엔드 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-198">Message Analyzer uses [Fiddler](http://www.telerik.com/fiddler) on hello back end.</span></span> <span data-ttu-id="c0eb7-199">Hello 네트워크 추적을 수집 하려면 먼저 Fiddler toorecord 암호화 하지 않고 HTTPS 트래픽을 구성 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-199">Before you collect hello network trace, we recommend that you configure Fiddler toorecord unencrypted HTTPS traffic:</span></span>

1. <span data-ttu-id="c0eb7-200">[Fiddler](http://www.telerik.com/download/fiddler)를 설치합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-200">Install [Fiddler](http://www.telerik.com/download/fiddler).</span></span>
2. <span data-ttu-id="c0eb7-201">Fiddler를 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-201">Launch Fiddler.</span></span>
3. <span data-ttu-id="c0eb7-202">**도구 | Fiddler 옵션**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-202">Select **Tools | Fiddler Options**.</span></span>
4. <span data-ttu-id="c0eb7-203">Hello 옵션 대화 상자에서 **HTTPS CONNECTs 캡처** 및 **HTTPS 트래픽을 암호를 해독** 모두 선택 다음과 같이 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-203">In hello Options dialog, ensure that **Capture HTTPS CONNECTs** and **Decrypt HTTPS Traffic** are both selected, as shown below.</span></span>

![Fiddler 옵션 구성](./media/storage-e2e-troubleshooting-classic-portal/fiddler-options-1.png)

<span data-ttu-id="c0eb7-205">Hello 자습서에 대 한 수집 하 고 메시지 분석기에서 먼저 네트워크 추적을 저장 한 다음는 분석 세션 tooanalyze hello 추적 만들고 로그 hello 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-205">For hello tutorial, collect and save a network trace first in Message Analyzer, then create an analysis session tooanalyze hello trace and hello logs.</span></span> <span data-ttu-id="c0eb7-206">메시지 분석기에 네트워크 추적 toocollect:</span><span class="sxs-lookup"><span data-stu-id="c0eb7-206">toocollect a network trace in Message Analyzer:</span></span>

1. <span data-ttu-id="c0eb7-207">Message Analyzer에서 **파일 | 빠른 추적 | 암호화되지 않은 HTTPS**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-207">In Message Analyzer, select **File | Quick Trace | Unencrypted HTTPS**.</span></span>
2. <span data-ttu-id="c0eb7-208">hello 추적 즉시 시작 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-208">hello trace will begin immediately.</span></span> <span data-ttu-id="c0eb7-209">선택 **중지** toostop hello 추적 tootrace 저장소 트래픽을 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-209">Select **Stop** toostop hello trace so that we can configure it tootrace storage traffic only.</span></span>
3. <span data-ttu-id="c0eb7-210">선택 **편집** tooedit hello 추적 세션입니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-210">Select **Edit** tooedit hello tracing session.</span></span>
4. <span data-ttu-id="c0eb7-211">선택 hello **구성** hello의 오른쪽 toohello 연결 **WebProxy Pef-Microsoft-** ETW 공급자입니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-211">Select hello **Configure** link toohello right of hello **Microsoft-Pef-WebProxy** ETW provider.</span></span>
5. <span data-ttu-id="c0eb7-212">Hello에 **고급 설정** 대화 상자에서 hello 클릭 **공급자** 탭 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-212">In hello **Advanced Settings** dialog, click hello **Provider** tab.</span></span>
6. <span data-ttu-id="c0eb7-213">Hello에 **호스트 이름 필터** 필드를 공백으로 구분 하 여 저장소 끝점을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-213">In hello **Hostname Filter** field, specify your storage endpoints, separated by spaces.</span></span> <span data-ttu-id="c0eb7-214">다음과 같이; 끝점을 지정할 수는 예를 들어 변경 `storagesample` toohello 사용자의 저장소 계정 이름:</span><span class="sxs-lookup"><span data-stu-id="c0eb7-214">For example, you can specify your endpoints as follows; change `storagesample` toohello name of your storage account:</span></span>

    ```   
    storagesample.blob.core.windows.net storagesample.queue.core.windows.net storagesample.table.core.windows.net
    ```

7. <span data-ttu-id="c0eb7-215">Hello 대화 상자를 종료 하 고 클릭 **다시 시작** toobegin Azure 저장소 네트워크 트래픽만 hello 추적에 포함 되도록 hello 호스트 이름 필터를 적용 된 hello 추적을 수집 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-215">Exit hello dialog, and click **Restart** toobegin collecting hello trace with hello hostname filter in place, so that only Azure Storage network traffic is included in hello trace.</span></span>

> [!NOTE]
> <span data-ttu-id="c0eb7-216">네트워크 추적을 수집을 완료 한 후 Fiddler toodecrypt HTTPS 트래픽이 변경 않은 hello 설정이 되돌릴 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-216">After you have finished collecting your network trace, we strongly recommend that you revert hello settings that you may have changed in Fiddler toodecrypt HTTPS traffic.</span></span> <span data-ttu-id="c0eb7-217">Hello Fiddler 옵션 대화 상자에서 hello의 선택을 취소 **HTTPS CONNECTs 캡처** 및 **해독 HTTPS 트래픽을** 확인란을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-217">In hello Fiddler Options dialog, deselect hello **Capture HTTPS CONNECTs** and **Decrypt HTTPS Traffic** checkboxes.</span></span>
>
>

<span data-ttu-id="c0eb7-218">참조 [hello 네트워크 추적 기능을 사용 하 여](http://technet.microsoft.com/library/jj674819.aspx) 자세한 내용은 Technet의 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-218">See [Using hello Network Tracing Features](http://technet.microsoft.com/library/jj674819.aspx) on Technet for more details.</span></span>

## <a name="review-metrics-data-in-hello-azure-classic-portal"></a><span data-ttu-id="c0eb7-219">Hello Azure 클래식 포털에서에서 메트릭 데이터를 검토 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-219">Review metrics data in hello Azure Classic Portal</span></span>
<span data-ttu-id="c0eb7-220">응용 프로그램 시간 동안 실행 되 면 서비스 수행 방법을 hello Azure 클래식 포털 tooobserve에 나타나는 hello 메트릭 차트를 검토할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-220">Once your application has been running for a period of time, you can review hello metrics charts that appear in hello Azure Classic Portal tooobserve how your service has been performing.</span></span> <span data-ttu-id="c0eb7-221">첫째, hello 추가 **성공률이** 메트릭 toohello 모니터링 페이지:</span><span class="sxs-lookup"><span data-stu-id="c0eb7-221">First, we'll add hello **Success Percentage** metric toohello Monitoring page:</span></span>

1. <span data-ttu-id="c0eb7-222">Hello에서 저장소 계정에 대 한 대시보드 toohello 이동 [Azure 클래식 포털](https://manage.windowsazure.com)을 선택한 후 **모니터** tooview hello 페이지를 모니터링 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-222">Navigate toohello Dashboard for your storage account in hello [Azure Classic Portal](https://manage.windowsazure.com), then select **Monitor** tooview hello monitoring page.</span></span>
2. <span data-ttu-id="c0eb7-223">클릭 **메트릭 추가** toodisplay hello **메트릭 선택** 대화 상자.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-223">Click **Add Metrics** toodisplay hello **Choose Metrics** dialog.</span></span>
3. <span data-ttu-id="c0eb7-224">Toofind hello 아래로 스크롤하여 **성공률이** 그룹을 확장 한 다음 선택 **집계**아래 hello 그림에 나온 것 처럼 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-224">Scroll down toofind hello **Success Percentage** group, expand it, then select **Aggregate**, as shown in hello picture below.</span></span> <span data-ttu-id="c0eb7-225">이 메트릭은 모든 Blob 작업에서 성공 비율 데이터를 집계합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-225">This metric aggregates success percentage data from all Blob operations.</span></span>

![메트릭 선택](./media/storage-e2e-troubleshooting-classic-portal/choose-metrics-portal-1.png)

<span data-ttu-id="c0eb7-227">Hello Azure 클래식 포털에서에서 이제 표시 **성공률이** hello 모니터링 차트를에 다른 메트릭과 함께 추가 하는 (toosix 위로 수 차트에 표시 될 hello 한 번에).</span><span class="sxs-lookup"><span data-stu-id="c0eb7-227">In hello Azure Classic Portal, you'll now see **Success Percentage** in hello monitoring chart, along with any other metrics you may have added (up toosix can be displayed on hello chart at once).</span></span> <span data-ttu-id="c0eb7-228">아래 hello 그림 hello 시나리오 메시지 분석기에서 hello 로그를 분석 하 여 다음 조사할 수는 100% 보다는 해당 hello 백분율 성공률을 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-228">In hello picture below, you can see that hello percent success rate is somewhat below 100%, which is hello scenario we'll investigate next by analyzing hello logs in Message Analyzer:</span></span>

![포털에서 메트릭 차트](./media/storage-e2e-troubleshooting-classic-portal/portal-metrics-chart-1.png)

<span data-ttu-id="c0eb7-230">메트릭 toohello 모니터링 페이지를 추가 하는 방법에 대 한 자세한 내용은 참조 하십시오. [하는 방법: 추가 메트릭을 toohello 메트릭 테이블](storage-monitor-storage-account.md#add-metrics-charts-to-the-portal-dashboard)합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-230">For more details on adding metrics toohello Monitoring page, see [How to: Add metrics toohello metrics table](storage-monitor-storage-account.md#add-metrics-charts-to-the-portal-dashboard).</span></span>

> [!NOTE]
> <span data-ttu-id="c0eb7-231">저장소 메트릭을 사용 하도록 설정한 후 hello Azure 클래식 포털에서에서 메트릭 데이터 tooappear 약간의 시간이 걸릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-231">It may take some time for your metrics data tooappear in hello Azure Classic Portal after you enable storage metrics.</span></span> <span data-ttu-id="c0eb7-232">즉, 현재 시간에서 경과 된 hello 될 때까지 이전 시간 hello에 대 한 시간 메트릭 hello Azure 클래식 포털에에서 표시 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-232">This is because hourly metrics for hello previous hour are not displayed in hello Azure Classic Portal until hello current hour has elapsed.</span></span> <span data-ttu-id="c0eb7-233">또한, 분 메트릭 hello Azure 클래식 포털에에서 표시 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-233">Also, minute metrics are not displayed in hello Azure Classic Portal.</span></span> <span data-ttu-id="c0eb7-234">메트릭을 사용 하도록 설정에 따라 지금 tootwo 시간 toosee 메트릭 데이터를 걸릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-234">So depending on when you enable metrics, it may take up tootwo hours toosee metrics data.</span></span>
>
>

## <a name="use-azcopy-toocopy-server-logs-tooa-local-directory"></a><span data-ttu-id="c0eb7-235">AzCopy toocopy 서버 로그 tooa 로컬 디렉터리를 사용 하 여</span><span class="sxs-lookup"><span data-stu-id="c0eb7-235">Use AzCopy toocopy server logs tooa local directory</span></span>
<span data-ttu-id="c0eb7-236">Azure 저장소 메트릭 tootables 작성 하는 동안 서버 로그 데이터 tooblobs를 기록 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-236">Azure Storage writes server log data tooblobs, while metrics are written tootables.</span></span> <span data-ttu-id="c0eb7-237">로그 blob는 잘 알려진 hello에서 사용할 수 있는 `$logs` 저장소 계정에 대 한 컨테이너입니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-237">Log blobs are available in hello well-known `$logs` container for your storage account.</span></span> <span data-ttu-id="c0eb7-238">로그 blob 이름은 계층적으로 연도, 월, 일, 시간, tooinvestigate 관리할 기간과 hello 범위를 쉽게 찾을 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-238">Log blobs are named hierarchically by year, month, day, and hour, so that you can easily locate hello range of time you wish tooinvestigate.</span></span> <span data-ttu-id="c0eb7-239">예를 들어 hello에에서 `storagesample` 계정이, 01/02/2015의 경우에서 8-오전 9 시, hello 로그 blob에 대 한 hello 컨테이너 `https://storagesample.blob.core.windows.net/$logs/blob/2015/01/08/0800`합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-239">For example, in hello `storagesample` account, hello container for hello log blobs for 01/02/2015, from 8-9 am, is `https://storagesample.blob.core.windows.net/$logs/blob/2015/01/08/0800`.</span></span> <span data-ttu-id="c0eb7-240">부터는이 컨테이너에서 hello 개별 blob 순차적으로 라는 `000000.log`합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-240">hello individual blobs in this container are named sequentially, beginning with `000000.log`.</span></span>

<span data-ttu-id="c0eb7-241">로컬 컴퓨터의 hello AzCopy 명령줄 도구 toodownload 원하는 이러한 서버 쪽 로그 파일 tooa 위치를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-241">You can use hello AzCopy command-line tool toodownload these server-side log files tooa location of your choice on your local machine.</span></span> <span data-ttu-id="c0eb7-242">예를 들어 hello에 배치 하는 blob 작업에 대 한 다음 명령 toodownload hello 로그 파일이 사용할 수 있습니다 2015 년 1 월 2 일 toohello 폴더 `C:\Temp\Logs\Server`; 대체 `<storageaccountname>` hello 저장소 계정의 이름으로 및 `<storageaccountkey>` 와 사용자 계정 액세스 키:</span><span class="sxs-lookup"><span data-stu-id="c0eb7-242">For example, you can use hello following command toodownload hello log files for blob operations that took place on January 2, 2015 toohello folder `C:\Temp\Logs\Server`; replace `<storageaccountname>` with hello name of your storage account, and `<storageaccountkey>` with your account access key:</span></span>

```azcopy
AzCopy.exe /Source:http://<storageaccountname>.blob.core.windows.net/$logs /Dest:C:\Temp\Logs\Server /Pattern:"blob/2015/01/02" /SourceKey:<storageaccountkey> /S /V
```

<span data-ttu-id="c0eb7-243">AzCopy는 hello에서 다운로드할 수 있는 [Azure 다운로드](https://azure.microsoft.com/downloads/) 페이지.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-243">AzCopy is available for download on hello [Azure Downloads](https://azure.microsoft.com/downloads/) page.</span></span> <span data-ttu-id="c0eb7-244">AzCopy를 사용 하는 방법에 대 한 세부 정보를 참조 하십시오. [hello AzCopy 명령줄 유틸리티를 사용 하 여 데이터를 전송](storage-use-azcopy.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-244">For details about using AzCopy, see [Transfer data with hello AzCopy Command-Line Utility](storage-use-azcopy.md).</span></span>

<span data-ttu-id="c0eb7-245">서버 쪽 로그를 다운로드하는 방법에 대한 자세한 내용은 [저장소 로깅 로그 데이터 다운로드](http://msdn.microsoft.com/library/azure/dn782840.aspx#DownloadingStorageLogginglogdata)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-245">For additional information about downloading server-side logs, see [Downloading Storage Logging log data](http://msdn.microsoft.com/library/azure/dn782840.aspx#DownloadingStorageLogginglogdata).</span></span>

## <a name="use-microsoft-message-analyzer-tooanalyze-log-data"></a><span data-ttu-id="c0eb7-246">Microsoft 메시지 분석기 tooanalyze 로그 데이터를 사용 하 여</span><span class="sxs-lookup"><span data-stu-id="c0eb7-246">Use Microsoft Message Analyzer tooanalyze log data</span></span>
<span data-ttu-id="c0eb7-247">Microsoft Message Analyzer는 문제 해결 및 진단 시나리오에서 프로토콜 메시징 트래픽, 이벤트 및 기타 시스템 또는 응용 프로그램 메시지를 캡처, 표시 및 분석하는 도구입니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-247">Microsoft Message Analyzer is a tool for capturing, displaying, and analyzing protocol messaging traffic, events, and other system or application messages in troubleshooting and diagnostic scenarios.</span></span> <span data-ttu-id="c0eb7-248">Message Analyzer 또한 tooload, aggregate, 및 로그에서 데이터를 분석 있으며 추적 파일을 저장 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-248">Message Analyzer also enables you tooload, aggregate, and analyze data from log and saved trace files.</span></span> <span data-ttu-id="c0eb7-249">Message Analyzer에 대한 자세한 내용은 [Microsoft Message Analyzer 운영 가이드(영문)](http://technet.microsoft.com/library/jj649776.aspx)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-249">For more information about Message Analyzer, see [Microsoft Message Analyzer Operating Guide](http://technet.microsoft.com/library/jj649776.aspx).</span></span>

<span data-ttu-id="c0eb7-250">Message Analyzer tooanalyze 서버, 클라이언트 및 네트워크 로그 수 있는 Azure 저장소에 대 한 자산을 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-250">Message Analyzer includes assets for Azure Storage that help you tooanalyze server, client, and network logs.</span></span> <span data-ttu-id="c0eb7-251">이 섹션에 대해 설명 합니다 방법을 toouse 이러한 도구 tooaddress hello에 낮은 성공 백분율의 문제 저장소 로그 hello 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-251">In this section, we'll discuss how toouse those tools tooaddress hello issue of low percent success in hello storage logs.</span></span>

### <a name="download-and-install-message-analyzer-and-hello-azure-storage-assets"></a><span data-ttu-id="c0eb7-252">다운로드 하 고 메시지 분석기와 Azure 저장소 자산 hello를 설치 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-252">Download and install Message Analyzer and hello Azure Storage Assets</span></span>
1. <span data-ttu-id="c0eb7-253">다운로드 [Message Analyzer](http://www.microsoft.com/download/details.aspx?id=44226) hello Microsoft 다운로드 센터에서 및 hello 설치 관리자를 실행 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-253">Download [Message Analyzer](http://www.microsoft.com/download/details.aspx?id=44226) from hello Microsoft Download Center, and run hello installer.</span></span>
2. <span data-ttu-id="c0eb7-254">Message Analyzer를 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-254">Launch Message Analyzer.</span></span>
3. <span data-ttu-id="c0eb7-255">Hello에서 **도구** 메뉴 선택 **자산 관리자**합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-255">From hello **Tools** menu, select **Asset Manager**.</span></span> <span data-ttu-id="c0eb7-256">Hello에 **자산 관리자** 대화 상자에서 **다운로드**, 그런 다음 필터링 **Azure 저장소**합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-256">In hello **Asset Manager** dialog, select **Downloads**, then filter on **Azure Storage**.</span></span> <span data-ttu-id="c0eb7-257">Hello Azure 저장소 자산 아래 hello 그림에 나와 있는 것 처럼 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-257">You will see hello Azure Storage Assets, as shown in hello picture below.</span></span>
4. <span data-ttu-id="c0eb7-258">클릭 **동기화 모든 표시 항목** tooinstall hello Azure 저장소 자산입니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-258">Click **Sync All Displayed Items** tooinstall hello Azure Storage Assets.</span></span> <span data-ttu-id="c0eb7-259">사용 가능한 자산 hello 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-259">hello available assets include:</span></span>
   * <span data-ttu-id="c0eb7-260">**Azure 저장소 색 규칙:** 및 글꼴 스타일 추적에 대 한 특정 정보를 포함 하는 toohighlight 메시지를 Azure 저장소 색 규칙 toodefine 텍스트 색을 사용 하는 특별 한 필터를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-260">**Azure Storage Color Rules:** Azure Storage color rules enable you toodefine special filters that use color, text, and font styles toohighlight messages that contain specific information in a trace.</span></span>
   * <span data-ttu-id="c0eb7-261">**Azure 저장소 차트:** Azure 저장소 차트는 서버 로그 데이터를 그래프로 표시하는 미리 정의된 차트입니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-261">**Azure Storage Charts:** Azure Storage charts are predefined charts that graph server log data.</span></span> <span data-ttu-id="c0eb7-262">이 이번에 toouse Azure 저장소 차트, 다음과 같은 행위는 hello 서버 로그만 로드 hello 분석 눈금에 note 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-262">Note that toouse Azure Storage charts at this time, you may only load hello server log into hello Analysis Grid.</span></span>
   * <span data-ttu-id="c0eb7-263">**Azure 저장소 파서:** hello Azure 저장소 파서 구문 분석 hello Azure 저장소 클라이언트, 서버 및 HTTP가 로그인 순서 toodisplay로 hello 분석 눈금에에서 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-263">**Azure Storage Parsers:** hello Azure Storage parsers parse hello Azure Storage client, server, and HTTP logs in order toodisplay them in hello Analysis Grid.</span></span>
   * <span data-ttu-id="c0eb7-264">**Azure 저장소 필터:** Azure 저장소 필터는 사용할 수 있는 tooquery 데이터 hello 분석 그리드에서에서 미리 정의 된 조건입니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-264">**Azure Storage Filters:** Azure Storage filters are predefined criteria that you can use tooquery your data in hello Analysis Grid.</span></span>
   * <span data-ttu-id="c0eb7-265">**Azure 저장소 보기 레이아웃:** Azure 저장소 보기 레이아웃은 미리 정의 된 열 레이아웃 및 hello 분석 눈금의에서 그룹화 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-265">**Azure Storage View Layouts:** Azure Storage view layouts are predefined column layouts and groupings in hello Analysis Grid.</span></span>
5. <span data-ttu-id="c0eb7-266">Hello 자산을 설치한 후 Message Analyzer를 다시 시작 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-266">Restart Message Analyzer after you've installed hello assets.</span></span>

![메시지 분석기 자산 관리자](./media/storage-e2e-troubleshooting-classic-portal/mma-start-page-1.png)

> [!NOTE]
> <span data-ttu-id="c0eb7-268">이 자습서의 hello 목적을 위해 표시 된 hello Azure 저장소 자산을 모두 설치 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-268">Install all of hello Azure Storage assets shown for hello purposes of this tutorial.</span></span>
>
>

### <a name="import-your-log-files-into-message-analyzer"></a><span data-ttu-id="c0eb7-269">Message Analyzer로 로그 파일 가져오기</span><span class="sxs-lookup"><span data-stu-id="c0eb7-269">Import your log files into Message Analyzer</span></span>
<span data-ttu-id="c0eb7-270">Microsoft Message Analyzer에서 분석을 위해 저장된 모든 로그 파일(서버 쪽, 클라이언트 쪽 및 네트워크)을 단일 세션으로 가져올 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-270">You can import all of your saved log files (server-side, client-side, and network) into a single session in Microsoft Message Analyzer for analysis.</span></span>

1. <span data-ttu-id="c0eb7-271">Hello에 **파일** Microsoft 메시지 분석기에서 메뉴를 클릭 **새 세션**, 클릭 하 고 **빈 세션**합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-271">On hello **File** menu in Microsoft Message Analyzer, click **New Session**, and then click **Blank Session**.</span></span> <span data-ttu-id="c0eb7-272">Hello에 **새 세션** 대화 상자에서 분석 세션에 대 한 이름을 입력 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-272">In hello **New Session** dialog, enter a name for your analysis session.</span></span> <span data-ttu-id="c0eb7-273">Hello에 **세션 정보** 패널에서 hello 클릭 **파일** 단추입니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-273">In hello **Session Details** panel, click on hello **Files** button.</span></span>
2. <span data-ttu-id="c0eb7-274">메시지 분석기에서 생성 된 tooload hello 네트워크 추적 데이터에서 클릭 **파일 추가**toohello 웹 추적 세션을 선택 hello.matp 파일에서.matp 파일을 저장 한 위치로 이동한 클릭 **열**.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-274">tooload hello network trace data generated by Message Analyzer, click on **Add Files**, browse toohello location where you saved your .matp file from your web tracing session, select hello .matp file, and click **Open**.</span></span>
3. <span data-ttu-id="c0eb7-275">tooload hello 서버 쪽 로그 데이터를 클릭할 **파일 추가**누르고 tooanalyze을 원하는 시간 범위 동안 hello hello 로그 파일 선택를 찾아보고 서버 쪽 로그 다운로드 toohello 위치 **열고**.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-275">tooload hello server-side log data, click on **Add Files**, browse toohello location where you downloaded your server-side logs, select hello log files for hello time range you want tooanalyze, and click **Open**.</span></span> <span data-ttu-id="c0eb7-276">그런 다음, hello **세션 정보** 패널, 집합 hello **텍스트 로그 구성** 드롭 다운 각 서버 쪽 로그 파일에 대 한 너무**AzureStorageLog** tooensure는 Microsoft가 Message Analyzer 수 올바르게 구문 분석 hello 로그 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-276">Then, in hello **Session Details** panel, set hello **Text Log Configuration** drop-down for each server-side log file too**AzureStorageLog** tooensure that Microsoft Message Analyzer can parse hello log file correctly.</span></span>
4. <span data-ttu-id="c0eb7-277">tooload hello 클라이언트 쪽 로그 데이터를 클릭할 **파일 추가**클라이언트 쪽 로그를 저장 한 toohello 위치를 찾아보고 누르고 tooanalyze를 원하는 로그 파일을 hello **열려**합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-277">tooload hello client-side log data, click on **Add Files**, browse toohello location where you saved your client-side logs, select hello log files you want tooanalyze, and click **Open**.</span></span> <span data-ttu-id="c0eb7-278">그런 다음, hello **세션 정보** 패널, 집합 hello **텍스트 로그 구성** 드롭 다운 각 클라이언트 쪽 로그 파일에 대해 너무**AzureStorageClientDotNetV4** tooensure입니다 Microsoft 메시지 분석기 수 올바르게 구문 분석 hello 로그 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-278">Then, in hello **Session Details** panel, set hello **Text Log Configuration** drop-down for each client-side log file too**AzureStorageClientDotNetV4** tooensure that Microsoft Message Analyzer can parse hello log file correctly.</span></span>
5. <span data-ttu-id="c0eb7-279">클릭 **시작** hello에 **새 세션** 대화 tooload 및 구문 분석 hello 로그 데이터입니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-279">Click **Start** in hello **New Session** dialog tooload and parse hello log data.</span></span> <span data-ttu-id="c0eb7-280">데이터를 기록 하는 hello hello 메시지 분석기 분석 눈금에에서 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-280">hello log data displays in hello Message Analyzer Analysis Grid.</span></span>

<span data-ttu-id="c0eb7-281">아래 hello 그림에서는 서버, 클라이언트 및 네트워크 추적 로그 파일을 사용 하 여 구성 하는 예에서는 세션을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-281">hello picture below shows an example session configured with server, client, and network trace log files.</span></span>

![Message Analyzer 세션 구성](./media/storage-e2e-troubleshooting-classic-portal/configure-mma-session-1.png)

<span data-ttu-id="c0eb7-283">Message Analyzer는 로그 파일을 메모리에 로드합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-283">Note that Message Analyzer loads log files into memory.</span></span> <span data-ttu-id="c0eb7-284">Toofilter 원하는 다양 한 로그 데이터를 설정한 경우에 순서 tooget hello 메시지 분석기에서 최상의 성능을 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-284">If you have a large set of log data, you will want toofilter it in order tooget hello best performance from Message Analyzer.</span></span>

<span data-ttu-id="c0eb7-285">첫째, 검토에 관심이 있는 hello 기간을 확인 하 고이 기간을 가능한 한 작게 유지 하십시오.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-285">First, determine hello time frame that you are interested in reviewing, and keep this time frame as small as possible.</span></span> <span data-ttu-id="c0eb7-286">대부분의 경우에서 분 단위 또는 시간에서 최대의 tooreview 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-286">In many cases you will want tooreview a period of minutes or hours at most.</span></span> <span data-ttu-id="c0eb7-287">사용자의 요구를 충족할 수 있는 로그의 hello 가능한 한 작은 집합을 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-287">Import hello smallest set of logs that can meet your needs.</span></span>

<span data-ttu-id="c0eb7-288">아직 많은 양의 데이터를 기록 하는 경우 다음 좋습니다 toospecify 세션 필터 toofilter 로그 데이터 로드 하기 전에.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-288">If you still have a large amount of log data, then you may want toospecify a session filter toofilter your log data before you load it.</span></span> <span data-ttu-id="c0eb7-289">Hello에 **세션 필터** 상자, 선택 hello **라이브러리** toochoose 미리 정의 된 필터 단추; 예를 들어 선택 **글로벌 시간 필터 I** hello 필터링 하는 Azure 저장소에서 시간 간격에 toofilter 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-289">In hello **Session Filter** box, select hello **Library** button toochoose a predefined filter; for example, choose **Global Time Filter I** from hello Azure Storage filters toofilter on a time interval.</span></span> <span data-ttu-id="c0eb7-290">다음 시작 하는 hello 필터 조건 toospecify hello 편집한 toosee 원하는 hello 간격에 대 한 타임 스탬프를 종료 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-290">You can then edit hello filter criteria toospecify hello starting and ending timestamp for hello interval you want toosee.</span></span> <span data-ttu-id="c0eb7-291">특정 상태 코드;에 필터링 할 수 있습니다. 예를 들어 hello 상태 코드 404 인 tooload만 로그 항목을 선택할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-291">You can also filter on a particular status code; for example, you can choose tooload only log entries where hello status code is 404.</span></span>

<span data-ttu-id="c0eb7-292">로그 데이터를 Microsoft Message Analyzer로 가져오는 방법에 대한 자세한 내용은 TechNet에서 [메시지 데이터 검색(영문)](http://technet.microsoft.com/library/dn772437.aspx) 을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-292">For more information about importing log data into Microsoft Message Analyzer, see [Retrieving Message Data](http://technet.microsoft.com/library/dn772437.aspx) on TechNet.</span></span>

### <a name="use-hello-client-request-id-toocorrelate-log-file-data"></a><span data-ttu-id="c0eb7-293">Hello 클라이언트 요청 ID toocorrelate 로그 파일 데이터를 사용 하 여</span><span class="sxs-lookup"><span data-stu-id="c0eb7-293">Use hello client request ID toocorrelate log file data</span></span>
<span data-ttu-id="c0eb7-294">hello Azure 저장소 클라이언트 라이브러리는 자동으로 모든 요청에 대 한 고유한 클라이언트 요청 ID를 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-294">hello Azure Storage Client Library automatically generates a unique client request ID for every request.</span></span> <span data-ttu-id="c0eb7-295">이 값은 작성 된 toohello 클라이언트 로그, hello 서버 로그 hello 네트워크 추적 메시지 분석기 내에서 모든 세 로그에서 toocorrelate 데이터 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-295">This value is written toohello client log, hello server log, and hello network trace, so you can use it toocorrelate data across all three logs within Message Analyzer.</span></span> <span data-ttu-id="c0eb7-296">참조 [클라이언트 요청 ID](storage-monitoring-diagnosing-troubleshooting.md#client-request-id) hello 클라이언트에 대 한 추가 정보에 대 한 요청 id입니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-296">See [Client request ID](storage-monitoring-diagnosing-troubleshooting.md#client-request-id) for additional information about hello client request ID.</span></span>

<span data-ttu-id="c0eb7-297">아래 hello 섹션에서 설명 하는 방법을 toouse 미리 구성 된 사용자 지정 레이아웃 toocorrelate 및 그룹 데이터에 따라 및 보기가 hello 클라이언트 요청 id입니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-297">hello sections below describe how toouse pre-configured and custom layout views toocorrelate and group data based on hello client request ID.</span></span>

### <a name="select-a-view-layout-toodisplay-in-hello-analysis-grid"></a><span data-ttu-id="c0eb7-298">보기 레이아웃 toodisplay hello 분석 그리드에서 선택</span><span class="sxs-lookup"><span data-stu-id="c0eb7-298">Select a view layout toodisplay in hello Analysis Grid</span></span>
<span data-ttu-id="c0eb7-299">메시지 분석기에 대 한 hello 저장소 자산에는 Azure 저장소 보기 레이아웃을 사용할 수 있는 toodisplay 데이터 유용한 그룹화과 열이 있는 여러 시나리오에 대해 미리 구성 된 보기가 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-299">hello Storage Assets for Message Analyzer include Azure Storage View Layouts, which are pre-configured views that you can use toodisplay your data with useful groupings and columns for different scenarios.</span></span> <span data-ttu-id="c0eb7-300">또한, 사용자 지정 보기 레이아웃을 생성하고 다시 사용하기 위해 저장할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-300">You can also create custom view layouts and save them for reuse.</span></span>

<span data-ttu-id="c0eb7-301">hello 아래 그림과 hello **뷰 레이아웃** 선택 하 여 사용할 수 있는 메뉴 **뷰 레이아웃** hello 도구 모음 리본에서 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-301">hello picture below shows hello **View Layout** menu, available by selecting **View Layout** from hello toolbar ribbon.</span></span> <span data-ttu-id="c0eb7-302">Azure 저장소에 대 한 hello 보기 레이아웃 hello 그룹화 되어 **Azure 저장소** hello 메뉴에서 노드.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-302">hello view layouts for Azure Storage are grouped under hello **Azure Storage** node in hello menu.</span></span> <span data-ttu-id="c0eb7-303">검색할 수 있습니다 `Azure Storage` Azure 저장소에서 검색 상자 toofilter hello 레이아웃만 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-303">You can search for `Azure Storage` in hello search box toofilter on Azure Storage view layouts only.</span></span> <span data-ttu-id="c0eb7-304">Hello 별모양 다음 tooa 보기 레이아웃 toomake 선택할 수도 있습니다 즐겨찾기는 hello 메뉴의 hello 위쪽에 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-304">You can also select hello star next tooa view layout toomake it a favorite and display it at hello top of hello menu.</span></span>

![보기 레이아웃 메뉴](./media/storage-e2e-troubleshooting-classic-portal/view-layout-menu.png)

<span data-ttu-id="c0eb7-306">select와 함께 toobegin **ClientRequestID 및 모듈 별로 그룹화 되어**합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-306">toobegin with, select **Grouped by ClientRequestID and Module**.</span></span> <span data-ttu-id="c0eb7-307">이 보기 레이아웃은 먼저 세 로그 모두의 로그 데이터를 클라이언트 요청 ID별로 그룹화한 후 원본 로그 파일(또는 Message Analyzer의 **모듈** )별로 그룹화합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-307">This view layout groups log data from all three logs first by client request ID, then by source log file (or **Module** in Message Analyzer).</span></span> <span data-ttu-id="c0eb7-308">이 보기를 사용하여 특정 클라이언트 요청 ID로 드릴다운하고 해당 클라이언트 요청 ID에 대한 세 로그 파일 모두의 데이터를 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-308">With this view, you can drill down into a particular client request ID, and see data from all three log files for that client request ID.</span></span>

<span data-ttu-id="c0eb7-309">아래 hello 그림에는이 레이아웃 보기 적용 toohello 샘플 로그 데이터를 표시 된 열의 하위 집합을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-309">hello picture below shows this layout view applied toohello sample log data, with a subset of columns displayed.</span></span> <span data-ttu-id="c0eb7-310">특정 클라이언트 요청 ID에 대 한 hello 분석 눈금 표시 hello 클라이언트 로그 및 서버 로그 및 네트워크 추적 데이터를 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-310">You can see that for a particular client request ID, hello Analysis Grid displays data from hello client log, server log, and network trace.</span></span>

![Azure 저장소 보기 레이아웃](./media/storage-e2e-troubleshooting-classic-portal/view-layout-client-request-id-module.png)

> [!NOTE]
> <span data-ttu-id="c0eb7-312">서로 다른 파일 서로 다른 열이 있어야 하므로 일부 열 여러 로그 파일의에서 데이터는 hello 분석 눈금에에서 표시 되 면 지정된 된 행에 대 한 데이터를 포함 하지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-312">Different log files have different columns, so when data from multiple log files is displayed in hello Analysis Grid, some columns may not contain any data for a given row.</span></span> <span data-ttu-id="c0eb7-313">예를 들어 위 hello 그림에는 클라이언트 로그 행 표시 안 함 hello에 대 한 데이터 **타임 스탬프**, **TimeElapsed**, **소스**, 및 **대상** 열 때문에 이러한 열 hello 클라이언트 로그에 존재 하지 않지만 hello 네트워크 추적에도 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-313">For example, in hello picture above, the client log rows do not show any data for hello **Timestamp**, **TimeElapsed**, **Source**, and **Destination** columns, because these columns do not exist in hello client log, but do exist in hello network trace.</span></span> <span data-ttu-id="c0eb7-314">마찬가지로, hello **타임 스탬프** 열 hello 서버 로그에서 타임 스탬프 데이터를 표시 하지만 hello에 대 한 데이터는 **TimeElapsed**, **소스**, 및  **대상** hello 서버 로그의 일부분이 아닌 있는 열입니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-314">Similarly, hello **Timestamp** column displays timestamp data from hello server log, but no data is displayed for hello **TimeElapsed**, **Source**, and **Destination** columns, which are not part of hello server log.</span></span>
>
>

<span data-ttu-id="c0eb7-315">또한 toousing hello Azure 저장소 보기 레이아웃을 정의 하 고 수도 있습니다 직접 보기 레이아웃을 저장 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-315">In addition toousing hello Azure Storage view layouts, you can also define and save your own view layouts.</span></span> <span data-ttu-id="c0eb7-316">데이터 그룹화에 대 한 기타 필드를 선택 하 고 사용자 지정 레이아웃의 일환으로 hello 그룹화를 저장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-316">You can select other desired fields for grouping data and save hello grouping as part of your custom layout as well.</span></span>

### <a name="apply-color-rules-toohello-analysis-grid"></a><span data-ttu-id="c0eb7-317">색 규칙 toohello 분석 그리드를 적용 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-317">Apply color rules toohello Analysis Grid</span></span>
<span data-ttu-id="c0eb7-318">hello 저장소 자산은 또한 시각적 의미 tooidentify 여러 유형의 hello 분석 그리드에서에서 오류를 제공 하는 색 규칙을 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-318">hello Storage Assets also include color rules, which offer a visual means tooidentify different types of errors in hello Analysis Grid.</span></span> <span data-ttu-id="c0eb7-319">hello 미리 정의 된 색 규칙 적용 tooHTTP 오류 없으므로 hello 서버 추적 로그와 네트워크에 대해서만 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-319">hello predefined color rules apply tooHTTP errors, so they appear only for hello server log and network trace.</span></span>

<span data-ttu-id="c0eb7-320">tooapply 색 규칙 선택 **색 규칙** hello 도구 모음 리본에서 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-320">tooapply color rules, select **Color Rules** from hello toolbar ribbon.</span></span> <span data-ttu-id="c0eb7-321">Hello Azure 저장소 색 규칙 hello 메뉴에 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-321">You'll see hello Azure Storage color rules in hello menu.</span></span> <span data-ttu-id="c0eb7-322">Hello 자습서에 대 한 선택 **클라이언트 오류 (StatusCode 400에서 499 사이)**아래 hello 그림에 나온 것 처럼 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-322">For hello tutorial, select **Client Errors (StatusCode between 400 and 499)**, as shown in hello picture below.</span></span>

![Azure 저장소 보기 레이아웃](./media/storage-e2e-troubleshooting-classic-portal/color-rules-menu.png)

<span data-ttu-id="c0eb7-324">또한 toousing hello Azure 저장소 색 규칙을 정의 하 고 사용자 고유의 색 규칙을 저장할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-324">In addition toousing hello Azure Storage color rules, you can also define and save your own color rules.</span></span>

### <a name="group-and-filter-log-data-toofind-400-range-errors"></a><span data-ttu-id="c0eb7-325">그룹화 및 필터링 로그 데이터 toofind 400 범위 오류</span><span class="sxs-lookup"><span data-stu-id="c0eb7-325">Group and filter log data toofind 400-range errors</span></span>
<span data-ttu-id="c0eb7-326">다음으로 그룹 알아보고 hello 로그 데이터 toofind hello 400 범위에서 모든 오류를 필터링 하겠습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-326">Next, we'll group and filter hello log data toofind all errors in hello 400 range.</span></span>

1. <span data-ttu-id="c0eb7-327">Hello 찾을 **StatusCode** hello 분석 눈금을 마우스 오른쪽 단추로 클릭 hello 열 머리글과 선택에서 열 **그룹**합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-327">Locate hello **StatusCode** column in hello Analysis Grid, right-click hello column heading, and select **Group**.</span></span>
2. <span data-ttu-id="c0eb7-328">다음으로 그룹 hello에 **ClientRequestId** 열입니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-328">Next, group on hello **ClientRequestId** column.</span></span> <span data-ttu-id="c0eb7-329">Hello 분석 눈금은 이제 기준으로 상태 구성의 hello 데이터 코드 및 id입니다. 클라이언트 요청에 의해 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-329">You'll see that hello data in hello Analysis Grid is now organized by status code and by client request ID.</span></span>
3. <span data-ttu-id="c0eb7-330">아직 표시 되지 않은 경우 hello 뷰 필터 도구 창을 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-330">Display hello View Filter tool window if it is not already displayed.</span></span> <span data-ttu-id="c0eb7-331">Hello 도구 모음 리본에서 선택 **도구 창**, 다음 **뷰 필터**합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-331">On hello toolbar ribbon, select **Tool Windows**, then **View Filter**.</span></span>
4. <span data-ttu-id="c0eb7-332">toofilter hello 로그 데이터 toodisplay 범위만 400 오류 추가 필터 조건을 toohello 다음 hello **뷰 필터** 창과 클릭 **적용**:</span><span class="sxs-lookup"><span data-stu-id="c0eb7-332">toofilter hello log data toodisplay only 400-range errors, add hello following filter criteria toohello **View Filter** window, and click **Apply**:</span></span>

    ```   
    (AzureStorageLog.StatusCode >= 400 && AzureStorageLog.StatusCode <=499) || (HTTP.StatusCode >= 400 && HTTP.StatusCode <= 499)
    ```

<span data-ttu-id="c0eb7-333">아래 hello 그림이 그룹화 및 필터의 hello 결과 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-333">hello picture below shows hello results of this grouping and filter.</span></span> <span data-ttu-id="c0eb7-334">확장 hello **ClientRequestID** 해당 상태 코드가 발생 하는 작업에서는 상태 코드 409, 예를 들어에 대 한 그룹화 hello 아래에 있는 필드입니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-334">Expanding hello **ClientRequestID** field beneath hello grouping for status code 409, for example, shows an operation that resulted in that status code.</span></span>

![Azure 저장소 보기 레이아웃](./media/storage-e2e-troubleshooting-classic-portal/400-range-errors1.png)

<span data-ttu-id="c0eb7-336">이 필터를 적용 한 후 표시 hello 클라이언트 로그에서 행은 제외 됩니다, hello로 클라이언트 로그 포함 되지 않습니다는 **StatusCode** 열입니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-336">After applying this filter, you'll see that rows from hello client log are excluded, as hello client log does not include a **StatusCode** column.</span></span> <span data-ttu-id="c0eb7-337">hello 서버 및 네트워크 추적 로그 toolocate 404 오류를 검토 합니다와 toobegin, 및 toohello 클라이언트 로그 tooexamine hello 클라이언트 작업 toothem 발생 시킨 다음 반환 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-337">toobegin with, we'll review hello server and network trace logs toolocate 404 errors, and then we'll return toohello client log tooexamine hello client operations that led toothem.</span></span>

> [!NOTE]
> <span data-ttu-id="c0eb7-338">Hello 필터링 할 수 있습니다 **StatusCode** hello 상태 코드는 null 로그 항목을 포함 하는 식 toohello 필터를 추가 하는 경우 열 및 데이터를 포함 하 여 모든 3 개의 로그 표시 hello 클라이언트 로그 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-338">You can filter on hello **StatusCode** column and still display data from all three logs, including hello client log, if you add an expression toohello filter that includes log entries where hello status code is null.</span></span> <span data-ttu-id="c0eb7-339">tooconstruct이 필터 식에서 사용 하 여:</span><span class="sxs-lookup"><span data-stu-id="c0eb7-339">tooconstruct this filter expression, use:</span></span>
>
> <code>&#42;StatusCode >= 400 or !&#42;StatusCode</code>
>
> <span data-ttu-id="c0eb7-340">이 필터 모든 행에서에서 반환 hello 클라이언트 로그와 hello 서버 로그와 HTTP 로그의 행만 hello 상태 코드는 400을 초과 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-340">This filter returns all rows from hello client log and only rows from hello server log and HTTP log where hello status code is greater than 400.</span></span> <span data-ttu-id="c0eb7-341">적용 하는 경우 클라이언트 요청 ID 및 모듈 별로 그룹화 되어 toohello 보기 레이아웃을 검색할 수 있습니다 또는 hello 통해 스크롤 로그 항목 toofind 하십시오. 3 개의 로그를 모두 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-341">If you apply it toohello view layout grouped by client request ID and module, you can search or scroll through hello log entries toofind ones where all three logs are represented.</span></span>   
>
>

### <a name="filter-log-data-toofind-404-errors"></a><span data-ttu-id="c0eb7-342">로그 데이터 toofind 404 오류 필터링</span><span class="sxs-lookup"><span data-stu-id="c0eb7-342">Filter log data toofind 404 errors</span></span>
<span data-ttu-id="c0eb7-343">hello 저장소 자산 toonarrow 로그 데이터 toofind hello 오류 또는 원하는 추세를 사용할 수 있는 미리 정의 된 필터를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-343">hello Storage Assets include predefined filters that you can use toonarrow log data toofind hello errors or trends you are looking for.</span></span> <span data-ttu-id="c0eb7-344">다음으로, 두 개의 미리 정의 된 필터를 적용 합니다 우리: hello 서버 및 404 오류에 대 한 네트워크 추적 로그를 필터링 하는 생성자와 지정된 된 시간 범위에 hello 데이터를 필터링 하 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-344">Next, we'll apply two predefined filters: one that filters hello server and network trace logs for 404 errors, and one that filters hello data on a specified time range.</span></span>

1. <span data-ttu-id="c0eb7-345">아직 표시 되지 않은 경우 hello 뷰 필터 도구 창을 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-345">Display hello View Filter tool window if it is not already displayed.</span></span> <span data-ttu-id="c0eb7-346">Hello 도구 모음 리본에서 선택 **도구 창**, 다음 **뷰 필터**합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-346">On hello toolbar ribbon, select **Tool Windows**, then **View Filter**.</span></span>
2. <span data-ttu-id="c0eb7-347">Hello 보기 필터 창에서 선택한 **라이브러리**, 검색 및 `Azure Storage` toofind hello Azure 저장소를 필터링 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-347">In hello View Filter window, select **Library**, and search on `Azure Storage` toofind hello Azure Storage filters.</span></span> <span data-ttu-id="c0eb7-348">에 대 한 선택 hello 필터 **404 (찾을 수 없음)이 모든 로그에서 메시지**합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-348">Select hello filter for **404 (Not Found) messages in all logs**.</span></span>
3. <span data-ttu-id="c0eb7-349">디스플레이 hello **라이브러리** 메뉴 다시 찾아서 hello 선택 **글로벌 시간 필터**합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-349">Display hello **Library** menu again, and locate and select hello **Global Time Filter**.</span></span>
4. <span data-ttu-id="c0eb7-350">원하는 tooview hello 필터 toohello 범위에 표시 된 hello 타임 스탬프를 편집 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-350">Edit hello timestamps shown in hello filter toohello range you wish tooview.</span></span> <span data-ttu-id="c0eb7-351">이 데이터 tooanalyze toonarrow hello 범위를 도움이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-351">This will help toonarrow hello range of data tooanalyze.</span></span>
5. <span data-ttu-id="c0eb7-352">필터에는 아래와 유사한 toohello 예제 표시 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-352">Your filter should appear similar toohello example below.</span></span> <span data-ttu-id="c0eb7-353">클릭 **적용** tooapply hello 필터 toohello 분석 눈금.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-353">Click **Apply** tooapply hello filter toohello Analysis Grid.</span></span>

    ```   
    ((AzureStorageLog.StatusCode == 404 || HTTP.StatusCode == 404)) And
    (#Timestamp >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39)
    ```

![Azure 저장소 보기 레이아웃](./media/storage-e2e-troubleshooting-classic-portal/404-filtered-errors1.png)

### <a name="analyze-your-log-data"></a><span data-ttu-id="c0eb7-355">로그 데이터 분석</span><span class="sxs-lookup"><span data-stu-id="c0eb7-355">Analyze your log data</span></span>
<span data-ttu-id="c0eb7-356">그룹화 하 고 데이터를 필터링 했으므로 404 오류를 생성 하는 개별 요청에 대 한 hello 세부 정보를 검사할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-356">Now that you have grouped and filtered your data, you can examine hello details of individual requests that generated 404 errors.</span></span> <span data-ttu-id="c0eb7-357">현재 보기 레이아웃 hello hello 데이터는 다음 로그 소스에서 클라이언트 요청 ID로 그룹화 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-357">In hello current view layout, hello data is grouped by client request ID, then by log source.</span></span> <span data-ttu-id="c0eb7-358">별로 필터링 요청에 hello StatusCode 필드 404이 들어 있는, 이후 hello 서버 및 네트워크 추적 데이터, 클라이언트 로그 데이터가 아닌 hello 보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-358">Since we are filtering on requests where hello StatusCode field contains 404, we'll see only hello server and network trace data, not hello client log data.</span></span>

<span data-ttu-id="c0eb7-359">아래 hello 그림 hello blob이 존재 하지 않기 때문에 Blob 가져오기 작업에서 404 생성 하는 위치는 특정 요청을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-359">hello picture below shows a specific request where a Get Blob operation yielded a 404 because hello blob did not exist.</span></span> <span data-ttu-id="c0eb7-360">참고는 일부 열 hello 순서 toodisplay hello 관련 데이터의 표준 보기에서 제거 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-360">Note that some columns have been removed from hello standard view in order toodisplay hello relevant data.</span></span>

![필터링 된 서버 및 네트워크 추적 로그](./media/storage-e2e-troubleshooting-classic-portal/server-filtered-404-error.png)

<span data-ttu-id="c0eb7-362">다음으로, म 합니다 관련이 있어서이 클라이언트 요청 ID를 hello 클라이언트 로그 데이터 toosee hello 오류가 발생 했을 때 어떤 작업 hello 클라이언트가 수강.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-362">Next, we'll correlate this client request ID with hello client log data toosee what actions hello client was taking when hello error happened.</span></span> <span data-ttu-id="c0eb7-363">이 세션 tooview hello 클라이언트 로그 데이터에 대 한 두 번째 탭에서 열립니다 새 분석 그리드 보기를 표시할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-363">You can display a new Analysis Grid view for this session tooview hello client log data, which opens in a second tab:</span></span>

1. <span data-ttu-id="c0eb7-364">첫째, hello의 hello 값을 복사 **ClientRequestId** 필드 toohello 클립보드 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-364">First, copy hello value of hello **ClientRequestId** field toohello clipboard.</span></span> <span data-ttu-id="c0eb7-365">이렇게 하려면 행 중 하나를 선택 하 여 hello 찾기 **ClientRequestId** hello 데이터 값을 마우스 오른쪽 단추로 클릭 하 고 선택 필드 **복사 'ClientRequestId'**합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-365">You can do this by selecting either row, locating hello **ClientRequestId** field, right-clicking on hello data value, and choosing **Copy 'ClientRequestId'**.</span></span>
2. <span data-ttu-id="c0eb7-366">Hello 도구 모음 리본에서 선택 **새 뷰어**을 선택한 후 **분석 그리드** tooopen 새 탭 hello 새 탭 모든 데이터를 표시, 그룹화, 필터링 또는 색 규칙 없이 로그 파일에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-366">On hello toolbar ribbon, select **New Viewer**, then select **Analysis Grid** tooopen a new tab. hello new tab shows all data in your log files, without grouping, filtering, or color rules.</span></span>
3. <span data-ttu-id="c0eb7-367">Hello 도구 모음 리본에서 선택 **뷰 레이아웃**을 선택한 후 **모든.NET 클라이언트 열** hello에서 **Azure 저장소** 섹션.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-367">On hello toolbar ribbon, select **View Layout**, then select **All .NET Client Columns** under hello **Azure Storage** section.</span></span> <span data-ttu-id="c0eb7-368">이 보기 레이아웃은 서버 및 네트워크 추적 로그 hello와 hello 클라이언트 로그에서 데이터를 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-368">This view layout shows data from hello client log as well as hello server and network trace logs.</span></span> <span data-ttu-id="c0eb7-369">기본적으로 hello에 정렬 됩니다 **MessageNumber** 열입니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-369">By default it is sorted on hello **MessageNumber** column.</span></span>
4. <span data-ttu-id="c0eb7-370">그런 다음 검색 hello 클라이언트 로그 hello 클라이언트 요청 id입니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-370">Next, search hello client log for hello client request ID.</span></span> <span data-ttu-id="c0eb7-371">Hello 도구 모음 리본에서 선택 **메시지 찾기**, 다음 hello에 hello 클라이언트 요청 ID에서 사용자 지정 필터를 지정 **찾을** 필드입니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-371">On hello toolbar ribbon, select **Find Messages**, then specify a custom filter on hello client request ID in hello **Find** field.</span></span> <span data-ttu-id="c0eb7-372">고유한 클라이언트 요청 ID를 지정 하는 hello 필터에 대 한이 구문을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-372">Use this syntax for hello filter, specifying your own client request ID:</span></span>

    ```  
    *ClientRequestId == "398bac41-7725-484b-8a69-2a9e48fc669a"
    ```

<span data-ttu-id="c0eb7-373">Message Analyzer를 찾아서 hello 검색 조건을 hello 클라이언트 요청 ID와 일치 하는 hello 첫 번째 로그 항목을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-373">Message Analyzer locates and selects hello first log entry where hello search criteria matches hello client request ID.</span></span> <span data-ttu-id="c0eb7-374">Hello 클라이언트 로그에 있는 각 클라이언트 요청 ID에 대 한 여러 항목이 toogroup 할 수 있습니다 hello에서 **ClientRequestId** 필드 toomake 것 보다 쉽게 toosee 모두 함께 해당 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-374">In hello client log, there are several entries for each client request ID, so you may want toogroup them on hello **ClientRequestId** field toomake it easier toosee them all together.</span></span> <span data-ttu-id="c0eb7-375">hello 그림 hello 클라이언트에서 hello 메시지의 모든 로그 hello에 대 한 다음 지정한 클라이언트 요청 id입니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-375">hello picture below shows all of hello messages in hello client log for hello specified client request ID.</span></span>

![404 오류를 표시하는 클라이언트 로그 ](./media/storage-e2e-troubleshooting-classic-portal/client-log-analysis-grid1.png)

<span data-ttu-id="c0eb7-377">이 두 탭에서 hello 보기 레이아웃에 표시 된 hello 데이터를 사용 하 여 hello 요청 데이터 toodetermine를 분석할 구성할 수 수 있는 오류를 일으킨 hello 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-377">Using hello data shown in hello view layouts in these two tabs, you can analyze hello request data toodetermine what may have caused hello error.</span></span> <span data-ttu-id="c0eb7-378">이전 이벤트 toohello 404 오류를 야기 될 수 있습니다 하는 경우이 하나의 toosee 앞에 요청을 살펴볼 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-378">You can also look at requests that preceded this one toosee if a previous event may have led toohello 404 error.</span></span> <span data-ttu-id="c0eb7-379">예를 들어 hello blob 삭제 여부 hello 오류 기한 toohello 클라이언트 응용 프로그램 컨테이너 또는 blob에서 경고는 CreateIfNotExists API를 호출 하는 경우이 클라이언트 요청 ID toodetermine 앞 hello 클라이언트 로그 항목을 검토할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-379">For example, you can review hello client log entries preceding this client request ID toodetermine whether hello blob may have been deleted, or if hello error was due toohello client application calling a CreateIfNotExists API on a container or blob.</span></span> <span data-ttu-id="c0eb7-380">Hello 클라이언트 로그에 hello에 hello blob의 주소를 찾을 수 **설명** 필드; hello 서버 및 네트워크 추적 로그에서이 정보에 hello 표시 **요약** 필드입니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-380">In hello client log, you can find hello blob's address in hello **Description** field; in hello server and network trace logs, this information appears in hello **Summary** field.</span></span>

<span data-ttu-id="c0eb7-381">Hello 404 오류를 생성 하는 hello blob의 hello 주소를 알게 되 면 있습니다는 더 조사할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-381">Once you know hello address of hello blob that yielded hello 404 error, you can investigate further.</span></span> <span data-ttu-id="c0eb7-382">와 관련 된 다른 메시지에 대 한 hello 로그 항목을 검색 하는 경우 동일한 blob hello에 대 한 작업, hello 클라이언트 hello 엔터티를 이전에 삭제 여부를 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-382">If you search hello log entries for other messages associated with operations on hello same blob, you can check whether hello client previously deleted hello entity.</span></span>

## <a name="analyze-other-types-of-storage-errors"></a><span data-ttu-id="c0eb7-383">다른 유형의 저장소 오류 분석</span><span class="sxs-lookup"><span data-stu-id="c0eb7-383">Analyze other types of storage errors</span></span>
<span data-ttu-id="c0eb7-384">다른 유형의 보기를 사용 하 여 오류를 분석할 수 사용 하 여 메시지 분석기 tooanalyze 로그 데이터에 익숙한 했으므로 레이아웃, 색 규칙 및 검색 하 고 필터링 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-384">Now that you are familiar with using Message Analyzer tooanalyze your log data, you can analyze other types of errors using view layouts, color rules, and searching/filtering.</span></span> <span data-ttu-id="c0eb7-385">hello 테이블 아래의 목록은 몇 가지 문제가 발생 하 고 hello 필터 조건 toolocate를 사용할 수 있습니다 이러한.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-385">hello tables below lists some issues you may encounter and hello filter criteria you can use toolocate them.</span></span> <span data-ttu-id="c0eb7-386">필터 및 hello 메시지 분석기 생성에 대 한 자세한 내용은 참조 언어에서 필터링 [메시지 데이터 필터링](http://technet.microsoft.com/library/jj819365.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-386">For more information on constructing filters and hello Message Analyzer filtering language, see [Filtering Message Data](http://technet.microsoft.com/library/jj819365.aspx).</span></span>

| <span data-ttu-id="c0eb7-387">tooInvestigate 중...</span><span class="sxs-lookup"><span data-stu-id="c0eb7-387">tooInvestigate…</span></span> | <span data-ttu-id="c0eb7-388">필터 식 사용...</span><span class="sxs-lookup"><span data-stu-id="c0eb7-388">Use Filter Expression…</span></span> | <span data-ttu-id="c0eb7-389">적용 대상 tooLog 식 (클라이언트, 서버, 네트워크, 모두)</span><span class="sxs-lookup"><span data-stu-id="c0eb7-389">Expression Applies tooLog (Client, Server,   Network, All)</span></span> |
| --- | --- | --- |
| <span data-ttu-id="c0eb7-390">큐에서 메시지 배달의 예기치 않은 지연</span><span class="sxs-lookup"><span data-stu-id="c0eb7-390">Unexpected delays in message delivery on a queue</span></span> |<span data-ttu-id="c0eb7-391">AzureStorageClientDotNetV4.Description은 "다시 시도 중 작업이 실패 했습니다."를 포함</span><span class="sxs-lookup"><span data-stu-id="c0eb7-391">AzureStorageClientDotNetV4.Description   contains "Retrying failed operation."</span></span> |<span data-ttu-id="c0eb7-392">클라이언트</span><span class="sxs-lookup"><span data-stu-id="c0eb7-392">Client</span></span> |
| <span data-ttu-id="c0eb7-393">PercentThrottlingError에서 HTTP 증가</span><span class="sxs-lookup"><span data-stu-id="c0eb7-393">HTTP Increase in PercentThrottlingError</span></span> |<span data-ttu-id="c0eb7-394">HTTP.Response.StatusCode   == 500 &#124;&#124; HTTP.Response.StatusCode == 503</span><span class="sxs-lookup"><span data-stu-id="c0eb7-394">HTTP.Response.StatusCode   == 500 &#124;&#124; HTTP.Response.StatusCode == 503</span></span> |<span data-ttu-id="c0eb7-395">네트워크</span><span class="sxs-lookup"><span data-stu-id="c0eb7-395">Network</span></span> |
| <span data-ttu-id="c0eb7-396">PercentTimeoutError의 증가</span><span class="sxs-lookup"><span data-stu-id="c0eb7-396">Increase in PercentTimeoutError</span></span> |<span data-ttu-id="c0eb7-397">HTTP.Response.StatusCode   == 500</span><span class="sxs-lookup"><span data-stu-id="c0eb7-397">HTTP.Response.StatusCode   == 500</span></span> |<span data-ttu-id="c0eb7-398">네트워크</span><span class="sxs-lookup"><span data-stu-id="c0eb7-398">Network</span></span> |
| <span data-ttu-id="c0eb7-399">PercentTimeoutError의 증가(모두)</span><span class="sxs-lookup"><span data-stu-id="c0eb7-399">Increase in PercentTimeoutError (all)</span></span> |<span data-ttu-id="c0eb7-400">*StatusCode   == 500</span><span class="sxs-lookup"><span data-stu-id="c0eb7-400">*StatusCode   == 500</span></span> |<span data-ttu-id="c0eb7-401">모두</span><span class="sxs-lookup"><span data-stu-id="c0eb7-401">All</span></span> |
| <span data-ttu-id="c0eb7-402">PercentNetworkError의 증가</span><span class="sxs-lookup"><span data-stu-id="c0eb7-402">Increase in PercentNetworkError</span></span> |<span data-ttu-id="c0eb7-403">AzureStorageClientDotNetV4.EventLogEntry.Level   < 2</span><span class="sxs-lookup"><span data-stu-id="c0eb7-403">AzureStorageClientDotNetV4.EventLogEntry.Level   < 2</span></span> |<span data-ttu-id="c0eb7-404">클라이언트</span><span class="sxs-lookup"><span data-stu-id="c0eb7-404">Client</span></span> |
| <span data-ttu-id="c0eb7-405">HTTP 403(사용할 수 없음) 메시지</span><span class="sxs-lookup"><span data-stu-id="c0eb7-405">HTTP 403 (Forbidden) messages</span></span> |<span data-ttu-id="c0eb7-406">HTTP.Response.StatusCode   == 403</span><span class="sxs-lookup"><span data-stu-id="c0eb7-406">HTTP.Response.StatusCode   == 403</span></span> |<span data-ttu-id="c0eb7-407">네트워크</span><span class="sxs-lookup"><span data-stu-id="c0eb7-407">Network</span></span> |
| <span data-ttu-id="c0eb7-408">HTTP 404(찾을 수 없음) 메시지</span><span class="sxs-lookup"><span data-stu-id="c0eb7-408">HTTP 404 (Not found) messages</span></span> |<span data-ttu-id="c0eb7-409">HTTP.Response.StatusCode   == 404</span><span class="sxs-lookup"><span data-stu-id="c0eb7-409">HTTP.Response.StatusCode   == 404</span></span> |<span data-ttu-id="c0eb7-410">네트워크</span><span class="sxs-lookup"><span data-stu-id="c0eb7-410">Network</span></span> |
| <span data-ttu-id="c0eb7-411">404(모두)</span><span class="sxs-lookup"><span data-stu-id="c0eb7-411">404 (all)</span></span> |<span data-ttu-id="c0eb7-412">*StatusCode   == 404</span><span class="sxs-lookup"><span data-stu-id="c0eb7-412">*StatusCode   == 404</span></span> |<span data-ttu-id="c0eb7-413">모두</span><span class="sxs-lookup"><span data-stu-id="c0eb7-413">All</span></span> |
| <span data-ttu-id="c0eb7-414">SAS(공유 액세스 서명) 권한 부여 문제</span><span class="sxs-lookup"><span data-stu-id="c0eb7-414">Shared Access Signature (SAS) authorization issue</span></span> |<span data-ttu-id="c0eb7-415">AzureStorageLog.RequestStatus ==  "SASAuthorizationError"</span><span class="sxs-lookup"><span data-stu-id="c0eb7-415">AzureStorageLog.RequestStatus ==  "SASAuthorizationError"</span></span> |<span data-ttu-id="c0eb7-416">네트워크</span><span class="sxs-lookup"><span data-stu-id="c0eb7-416">Network</span></span> |
| <span data-ttu-id="c0eb7-417">HTTP 409(충돌) 메시지</span><span class="sxs-lookup"><span data-stu-id="c0eb7-417">HTTP 409 (Conflict) messages</span></span> |<span data-ttu-id="c0eb7-418">HTTP.Response.StatusCode   == 409</span><span class="sxs-lookup"><span data-stu-id="c0eb7-418">HTTP.Response.StatusCode   == 409</span></span> |<span data-ttu-id="c0eb7-419">네트워크</span><span class="sxs-lookup"><span data-stu-id="c0eb7-419">Network</span></span> |
| <span data-ttu-id="c0eb7-420">409(모두)</span><span class="sxs-lookup"><span data-stu-id="c0eb7-420">409 (all)</span></span> |<span data-ttu-id="c0eb7-421">*StatusCode   == 409</span><span class="sxs-lookup"><span data-stu-id="c0eb7-421">*StatusCode   == 409</span></span> |<span data-ttu-id="c0eb7-422">모두</span><span class="sxs-lookup"><span data-stu-id="c0eb7-422">All</span></span> |
| <span data-ttu-id="c0eb7-423">PercentSuccess가 낮게 표시되거나 분석 로그 항목에 트랜잭션 상태가 ClientOtherErrors 상태인 작업이 있음</span><span class="sxs-lookup"><span data-stu-id="c0eb7-423">Low PercentSuccess or analytics log entries have   operations with transaction status of ClientOtherErrors</span></span> |<span data-ttu-id="c0eb7-424">AzureStorageLog.RequestStatus ==   "ClientOtherError"</span><span class="sxs-lookup"><span data-stu-id="c0eb7-424">AzureStorageLog.RequestStatus ==   "ClientOtherError"</span></span> |<span data-ttu-id="c0eb7-425">서버</span><span class="sxs-lookup"><span data-stu-id="c0eb7-425">Server</span></span> |
| <span data-ttu-id="c0eb7-426">Nagle 경고</span><span class="sxs-lookup"><span data-stu-id="c0eb7-426">Nagle   Warning</span></span> |<span data-ttu-id="c0eb7-427">((AzureStorageLog.EndToEndLatencyMS   - AzureStorageLog.ServerLatencyMS) > (AzureStorageLog.ServerLatencyMS *   1.5)) 및 (AzureStorageLog.RequestPacketSize <1460) 및 (AzureStorageLog.EndToEndLatencyMS -   AzureStorageLog.ServerLatencyMS >= 200)</span><span class="sxs-lookup"><span data-stu-id="c0eb7-427">((AzureStorageLog.EndToEndLatencyMS   - AzureStorageLog.ServerLatencyMS) > (AzureStorageLog.ServerLatencyMS *   1.5)) and (AzureStorageLog.RequestPacketSize <1460) and (AzureStorageLog.EndToEndLatencyMS -   AzureStorageLog.ServerLatencyMS >= 200)</span></span> |<span data-ttu-id="c0eb7-428">서버</span><span class="sxs-lookup"><span data-stu-id="c0eb7-428">Server</span></span> |
| <span data-ttu-id="c0eb7-429">서버 및 네트워크 로그의 시간 범위</span><span class="sxs-lookup"><span data-stu-id="c0eb7-429">Range of   time in Server and Network logs</span></span> |<span data-ttu-id="c0eb7-430">#Timestamp   >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39</span><span class="sxs-lookup"><span data-stu-id="c0eb7-430">#Timestamp   >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39</span></span> |<span data-ttu-id="c0eb7-431">서버, 네트워크</span><span class="sxs-lookup"><span data-stu-id="c0eb7-431">Server, Network</span></span> |
| <span data-ttu-id="c0eb7-432">서버 로그의 시간 범위</span><span class="sxs-lookup"><span data-stu-id="c0eb7-432">Range of   time in Server logs</span></span> |<span data-ttu-id="c0eb7-433">AzureStorageLog.Timestamp   >= 2014-10-20T16:36:38 및 AzureStorageLog.Timestamp <=   2014-10-20T16:36:39</span><span class="sxs-lookup"><span data-stu-id="c0eb7-433">AzureStorageLog.Timestamp   >= 2014-10-20T16:36:38 and AzureStorageLog.Timestamp <=   2014-10-20T16:36:39</span></span> |<span data-ttu-id="c0eb7-434">서버</span><span class="sxs-lookup"><span data-stu-id="c0eb7-434">Server</span></span> |

## <a name="next-steps"></a><span data-ttu-id="c0eb7-435">다음 단계</span><span class="sxs-lookup"><span data-stu-id="c0eb7-435">Next steps</span></span>
<span data-ttu-id="c0eb7-436">Azure 저장소의 종단 간 시나리오 문제 해결에 대한 자세한 내용은 다음 리소스를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-436">For more information about troubleshooting end-to-end scenarios in Azure Storage, see these resources:</span></span>

* [<span data-ttu-id="c0eb7-437">Microsoft Azure 저장소 모니터링, 진단 및 문제 해결</span><span class="sxs-lookup"><span data-stu-id="c0eb7-437">Monitor, diagnose, and troubleshoot Microsoft Azure Storage</span></span>](storage-monitoring-diagnosing-troubleshooting.md)
* [<span data-ttu-id="c0eb7-438">저장소 분석</span><span class="sxs-lookup"><span data-stu-id="c0eb7-438">Storage Analytics</span></span>](http://msdn.microsoft.com/library/azure/hh343270.aspx)
* [<span data-ttu-id="c0eb7-439">Hello Azure 포털에서에서 저장소 계정을 모니터링합니다</span><span class="sxs-lookup"><span data-stu-id="c0eb7-439">Monitor a storage account in hello Azure Portal</span></span>](storage-monitor-storage-account.md)
* [<span data-ttu-id="c0eb7-440">Hello AzCopy 명령줄 유틸리티를 사용 하 여 데이터를 전송 합니다.</span><span class="sxs-lookup"><span data-stu-id="c0eb7-440">Transfer data with hello AzCopy command-line utility</span></span>](storage-use-azcopy.md)
* [<span data-ttu-id="c0eb7-441">Microsoft Message Analyzer 운영 가이드</span><span class="sxs-lookup"><span data-stu-id="c0eb7-441">Microsoft Message Analyzer Operating Guide</span></span>](http://technet.microsoft.com/library/jj649776.aspx)
