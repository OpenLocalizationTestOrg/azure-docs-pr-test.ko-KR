---
title: "Azure Storage 분석을 사용하여 로그 및 메트릭 데이터 수집 | Microsoft Docs"
description: "저장소 분석을 사용하면 모든 저장소 서비스에 대한 메트릭 데이터를 추적하고 Blob, 큐 및 테이블 저장소에 대한 로그를 수집할 수 있습니다."
services: storage
documentationcenter: 
author: robinsh
manager: timlt
editor: tysonn
ms.assetid: 7894993b-ca42-4125-8f17-8f6dfe3dca76
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 03/03/2017
ms.author: robinsh
ms.openlocfilehash: a477c1eaf2388f31d4fd36b90f9a830c782873d3
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/29/2017
---
# <a name="storage-analytics"></a><span data-ttu-id="6c3c7-103">저장소 분석</span><span class="sxs-lookup"><span data-stu-id="6c3c7-103">Storage Analytics</span></span>

<span data-ttu-id="6c3c7-104">Azure 저장소 분석은 로깅을 수행하며 저장소 계정에 대한 메트릭 데이터를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-104">Azure Storage Analytics performs logging and provides metrics data for a storage account.</span></span> <span data-ttu-id="6c3c7-105">이 데이터를 사용하여 요청을 추적하고 사용량 추세를 분석하며 저장소 계정에 대한 문제를 진단할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-105">You can use this data to trace requests, analyze usage trends, and diagnose issues with your storage account.</span></span>

<span data-ttu-id="6c3c7-106">저장소 분석을 사용하려면 모니터링할 각 서비스에 대해 저장소 분석을 개별적으로 사용하도록 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-106">To use Storage Analytics, you must enable it individually for each service you want to monitor.</span></span> <span data-ttu-id="6c3c7-107">[Azure 포털](https://portal.azure.com)에서 활성화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-107">You can enable it from the [Azure Portal](https://portal.azure.com).</span></span> <span data-ttu-id="6c3c7-108">자세한 내용은 [Azure 포털에서 저장소 계정 모니터링](storage-monitor-storage-account.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-108">For details, see [Monitor a storage account in the Azure Portal](storage-monitor-storage-account.md).</span></span> <span data-ttu-id="6c3c7-109">REST API 또는 클라이언트 라이브러리를 통해 프로그래밍 방식으로 저장소 분석을 사용하도록 설정할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-109">You can also enable Storage Analytics programmatically via the REST API or the client library.</span></span> <span data-ttu-id="6c3c7-110">[Blob Service 속성 가져오기](https://msdn.microsoft.com/library/hh452239.aspx), [큐 서비스 속성 가져오기](https://msdn.microsoft.com/library/hh452243.aspx), [Table service 속성 가져오기](https://msdn.microsoft.com/library/hh452238.aspx) 및 [파일 서비스 속성 가져오기](https://msdn.microsoft.com/library/mt427369.aspx) 작업을 사용하여 각 서비스에 대해 저장소 분석을 사용하도록 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-110">Use the [Get Blob Service Properties](https://msdn.microsoft.com/library/hh452239.aspx), [Get Queue Service Properties](https://msdn.microsoft.com/library/hh452243.aspx), [Get Table Service Properties](https://msdn.microsoft.com/library/hh452238.aspx), and [Get File Service Properties](https://msdn.microsoft.com/library/mt427369.aspx) operations to enable Storage Analytics for each service.</span></span>

<span data-ttu-id="6c3c7-111">집계된 데이터는 알려진 로깅용 Blob 및 알려진 메트릭용 테이블에 저장됩니다. Blob 서비스 및 테이블 서비스 API를 사용하면 이러한 Blob와 테이블에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-111">The aggregated data is stored in a well-known blob (for logging) and in well-known tables (for metrics), which may be accessed using the Blob service and Table service APIs.</span></span>

<span data-ttu-id="6c3c7-112">저장소 분석에 저장되는 데이터의 양은 20TB로 제한됩니다. 이 제한은 총 저장소 계정 제한과 관계없이 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-112">Storage Analytics has a 20 TB limit on the amount of stored data that is independent of the total limit for your storage account.</span></span> <span data-ttu-id="6c3c7-113">청구 및 데이터 보존 정책에 대한 자세한 내용은 [저장소 분석 및 청구](https://msdn.microsoft.com/library/hh360997.aspx)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-113">For more information about billing and data retention policies, see [Storage Analytics and Billing](https://msdn.microsoft.com/library/hh360997.aspx).</span></span> <span data-ttu-id="6c3c7-114">저장소 계정 제한에 대한 자세한 내용은 [Azure Storage 확장성 및 성능 목표](storage-scalability-targets.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-114">For more information about storage account limits, see [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md).</span></span>

<span data-ttu-id="6c3c7-115">저장소 분석 및 기타 도구를 사용하여 Azure 저장소 관련 문제를 식별, 진단 및 해결하는 방법에 대한 자세한 지침은 [Microsoft Azure 저장소 모니터링, 진단 및 문제 해결](storage-monitoring-diagnosing-troubleshooting.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-115">For an in-depth guide on using Storage Analytics and other tools to identify, diagnose, and troubleshoot Azure Storage-related issues, see [Monitor, diagnose, and troubleshoot Microsoft Azure Storage](storage-monitoring-diagnosing-troubleshooting.md).</span></span>

## <a name="about-storage-analytics-logging"></a><span data-ttu-id="6c3c7-116">저장소 분석 로깅 정보</span><span class="sxs-lookup"><span data-stu-id="6c3c7-116">About Storage Analytics logging</span></span>
<span data-ttu-id="6c3c7-117">저장소 분석은 저장소 서비스에 대해 성공한 요청과 실패한 요청 관련 상세 정보를 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-117">Storage Analytics logs detailed information about successful and failed requests to a storage service.</span></span> <span data-ttu-id="6c3c7-118">이 정로를 사용하면 개별 요청을 모니터링하고 저장소 서비스의 문제를 진단할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-118">This information can be used to monitor individual requests and to diagnose issues with a storage service.</span></span> <span data-ttu-id="6c3c7-119">요청은 최상의 노력을 기준으로 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-119">Requests are logged on a best-effort basis.</span></span>

<span data-ttu-id="6c3c7-120">저장소 서비스 활동이 있는 경우에만 로그 항목이 작성됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-120">Log entries are created only if there is storage service activity.</span></span> <span data-ttu-id="6c3c7-121">예를 들어 저장소 계정의 Blob 서비스에는 활동이 있지만 테이블 또는 큐 서비스에는 활동이 없으면 Blob 서비스와 관련된 로그만 작성됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-121">For example, if a storage account has activity in its Blob service but not in its Table or Queue services, only logs pertaining to the Blob service will be created.</span></span>

<span data-ttu-id="6c3c7-122">Azure File Storage에는 저장소 분석 로깅을 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-122">Storage Analytics Logging is not available for Azure File storage.</span></span>

### <a name="logging-authenticated-requests"></a><span data-ttu-id="6c3c7-123">인증된 요청 로깅</span><span class="sxs-lookup"><span data-stu-id="6c3c7-123">Logging authenticated requests</span></span>
<span data-ttu-id="6c3c7-124">다음과 같은 유형의 인증된 요청이 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-124">The following types of authenticated requests are logged:</span></span>

* <span data-ttu-id="6c3c7-125">성공한 요청</span><span class="sxs-lookup"><span data-stu-id="6c3c7-125">Successful requests.</span></span>
* <span data-ttu-id="6c3c7-126">실패한 요청(제한 시간, 제한, 네트워크, 권한 부여 및 기타 오류)</span><span class="sxs-lookup"><span data-stu-id="6c3c7-126">Failed requests, including timeout, throttling, network, authorization, and other errors.</span></span>
* <span data-ttu-id="6c3c7-127">실패한 요청 및 성공한 요청을 포함하는 SAS(공유 액세스 서명)를 사용하는 요청</span><span class="sxs-lookup"><span data-stu-id="6c3c7-127">Requests using a Shared Access Signature (SAS), including failed and successful requests.</span></span>
* <span data-ttu-id="6c3c7-128">분석 데이터에 대한 요청</span><span class="sxs-lookup"><span data-stu-id="6c3c7-128">Requests to analytics data.</span></span>

<span data-ttu-id="6c3c7-129">로그 만들기/삭제 등 저장소 분석 자체에서 수행한 요청은 기록되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-129">Requests made by Storage Analytics itself, such as log creation or deletion, are not logged.</span></span> <span data-ttu-id="6c3c7-130">기록되는 데이터의 전체 목록은 [저장소 분석에서 기록한 작업 및 상태 메시지](https://msdn.microsoft.com/library/hh343260.aspx) 및 [저장소 분석 로그 형식](https://msdn.microsoft.com/library/hh343259.aspx) 항목에 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-130">A full list of the logged data is documented in the [Storage Analytics Logged Operations and Status Messages](https://msdn.microsoft.com/library/hh343260.aspx) and [Storage Analytics Log Format](https://msdn.microsoft.com/library/hh343259.aspx) topics.</span></span>

### <a name="logging-anonymous-requests"></a><span data-ttu-id="6c3c7-131">익명 요청 로깅</span><span class="sxs-lookup"><span data-stu-id="6c3c7-131">Logging anonymous requests</span></span>
<span data-ttu-id="6c3c7-132">다음과 같은 유형의 익명 요청이 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-132">The following types of anonymous requests are logged:</span></span>

* <span data-ttu-id="6c3c7-133">성공한 요청</span><span class="sxs-lookup"><span data-stu-id="6c3c7-133">Successful requests.</span></span>
* <span data-ttu-id="6c3c7-134">서버 오류</span><span class="sxs-lookup"><span data-stu-id="6c3c7-134">Server errors.</span></span>
* <span data-ttu-id="6c3c7-135">클라이언트와 서버에 대한 시간 초과 오류</span><span class="sxs-lookup"><span data-stu-id="6c3c7-135">Timeout errors for both client and server.</span></span>
* <span data-ttu-id="6c3c7-136">오류 코드가 304(수정되지 않음)인 실패한 GET 요청</span><span class="sxs-lookup"><span data-stu-id="6c3c7-136">Failed GET requests with error code 304 (Not Modified).</span></span>

<span data-ttu-id="6c3c7-137">기타 모든 실패한 익명 요청은 기록되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-137">All other failed anonymous requests are not logged.</span></span> <span data-ttu-id="6c3c7-138">기록되는 데이터의 전체 목록은 [저장소 분석에서 기록한 작업 및 상태 메시지](https://msdn.microsoft.com/library/hh343260.aspx) 및 [저장소 분석 로그 형식](https://msdn.microsoft.com/library/hh343259.aspx) 항목에 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-138">A full list of the logged data is documented in the [Storage Analytics Logged Operations and Status Messages](https://msdn.microsoft.com/library/hh343260.aspx) and [Storage Analytics Log Format](https://msdn.microsoft.com/library/hh343259.aspx) topics.</span></span>

### <a name="how-logs-are-stored"></a><span data-ttu-id="6c3c7-139">로그 저장 방법</span><span class="sxs-lookup"><span data-stu-id="6c3c7-139">How logs are stored</span></span>
<span data-ttu-id="6c3c7-140">모든 로그는 $logs 컨테이너의 블록 Blob에 저장됩니다. 이 컨테이너는 저장소 계정에 대해 저장소 분석을 사용하도록 설정하면 자동으로 작성됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-140">All logs are stored in block blobs in a container named $logs, which is automatically created when Storage Analytics is enabled for a storage account.</span></span> <span data-ttu-id="6c3c7-141">$logs 컨테이너는와 같은 저장소 계정의 Blob 네임스페이스에 있습니다. `http://<accountname>.blob.core.windows.net/$logs`</span><span class="sxs-lookup"><span data-stu-id="6c3c7-141">The $logs container is located in the blob namespace of the storage account, for example: `http://<accountname>.blob.core.windows.net/$logs`.</span></span> <span data-ttu-id="6c3c7-142">저장소 계정을 사용하도록 설정한 후에는 이 컨테이너를 삭제할 수 없지만 해당 콘텐츠는 삭제할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-142">This container cannot be deleted once Storage Analytics has been enabled, though its contents can be deleted.</span></span>

> [!NOTE]
> <span data-ttu-id="6c3c7-143">$logs 컨테이너는 [ListContainers](https://msdn.microsoft.com/library/azure/dd179352.aspx) 등의 메서드를 사용하여 컨테이너 나열 작업을 수행할 때는 표시되지 않으므로</span><span class="sxs-lookup"><span data-stu-id="6c3c7-143">The $logs container is not displayed when a container listing operation is performed, such as the [ListContainers](https://msdn.microsoft.com/library/azure/dd179352.aspx) method.</span></span> <span data-ttu-id="6c3c7-144">직접 액세스해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-144">It must be accessed directly.</span></span> <span data-ttu-id="6c3c7-145">예를 들어 [ListBlobs](https://msdn.microsoft.com/library/azure/dd135734.aspx) 메서드를 사용하여 `$logs` 컨테이너의 Blob에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-145">For example, you can use the [ListBlobs](https://msdn.microsoft.com/library/azure/dd135734.aspx) method to access the blobs in the `$logs` container.</span></span>
> <span data-ttu-id="6c3c7-146">요청을 기록할 때 저장소 분석은 중간 결과를 블록으로 업로드합니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-146">As requests are logged, Storage Analytics will upload intermediate results as blocks.</span></span> <span data-ttu-id="6c3c7-147">그리고 이러한 블록을 정기적으로 커밋하여 Blob로 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-147">Periodically, Storage Analytics will commit these blocks and make them available as a blob.</span></span>
> 
> 

<span data-ttu-id="6c3c7-148">같은 시간에 생성되는 로그의 경우 중복 레코드가 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-148">Duplicate records may exist for logs created in the same hour.</span></span> <span data-ttu-id="6c3c7-149">**RequestId** 및 **Operation** 번호를 검사하여 레코드 중복 여부를 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-149">You can determine if a record is a duplicate by checking the **RequestId** and **Operation** number.</span></span>

### <a name="log-naming-conventions"></a><span data-ttu-id="6c3c7-150">로그 명명 규칙</span><span class="sxs-lookup"><span data-stu-id="6c3c7-150">Log naming conventions</span></span>
<span data-ttu-id="6c3c7-151">각 로그는 다음 형식으로 작성됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-151">Each log will be written in the following format.</span></span>

    <service-name>/YYYY/MM/DD/hhmm/<counter>.log

<span data-ttu-id="6c3c7-152">다음 표에서는 로그 이름의 각 특성에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-152">The following table describes each attribute in the log name.</span></span>

| <span data-ttu-id="6c3c7-153">특성</span><span class="sxs-lookup"><span data-stu-id="6c3c7-153">Attribute</span></span> | <span data-ttu-id="6c3c7-154">설명</span><span class="sxs-lookup"><span data-stu-id="6c3c7-154">Description</span></span> |
| --- | --- |
| <span data-ttu-id="6c3c7-155"><service-name></span><span class="sxs-lookup"><span data-stu-id="6c3c7-155"><service-name></span></span> |<span data-ttu-id="6c3c7-156">저장소 서비스의 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-156">The name of the storage service.</span></span> <span data-ttu-id="6c3c7-157">예: blob, table, queue</span><span class="sxs-lookup"><span data-stu-id="6c3c7-157">For example: blob, table, or queue.</span></span> |
| <span data-ttu-id="6c3c7-158">YYYY</span><span class="sxs-lookup"><span data-stu-id="6c3c7-158">YYYY</span></span> |<span data-ttu-id="6c3c7-159">로그의 4자리 연도입니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-159">The four-digit year for the log.</span></span> <span data-ttu-id="6c3c7-160">예: 2011</span><span class="sxs-lookup"><span data-stu-id="6c3c7-160">For example: 2011.</span></span> |
| <span data-ttu-id="6c3c7-161">MM</span><span class="sxs-lookup"><span data-stu-id="6c3c7-161">MM</span></span> |<span data-ttu-id="6c3c7-162">로그의 2자리 월입니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-162">The two-digit month for the log.</span></span> <span data-ttu-id="6c3c7-163">예: 07</span><span class="sxs-lookup"><span data-stu-id="6c3c7-163">For example: 07.</span></span> |
| <span data-ttu-id="6c3c7-164">DD</span><span class="sxs-lookup"><span data-stu-id="6c3c7-164">DD</span></span> |<span data-ttu-id="6c3c7-165">로그의 2자리 월입니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-165">The two-digit month for the log.</span></span> <span data-ttu-id="6c3c7-166">예: 07</span><span class="sxs-lookup"><span data-stu-id="6c3c7-166">For example: 07.</span></span> |
| <span data-ttu-id="6c3c7-167">hh</span><span class="sxs-lookup"><span data-stu-id="6c3c7-167">hh</span></span> |<span data-ttu-id="6c3c7-168">로그의 시작 시간을 나타내는 24시간 UTC 형식의 2자리 시간입니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-168">The two-digit hour that indicates the starting hour for the logs, in 24-hour UTC format.</span></span> <span data-ttu-id="6c3c7-169">예: 18</span><span class="sxs-lookup"><span data-stu-id="6c3c7-169">For example: 18.</span></span> |
| <span data-ttu-id="6c3c7-170">MM</span><span class="sxs-lookup"><span data-stu-id="6c3c7-170">mm</span></span> |<span data-ttu-id="6c3c7-171">로그의 시작 분을 나타내는 2자리 숫자입니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-171">The two-digit number that indicates the starting minute for the logs.</span></span> <span data-ttu-id="6c3c7-172">현재 저장소 분석 버전에서는 이 값이 지원되지 않으며 해당 값은 항상 00입니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-172">This value is unsupported in the current version of Storage Analytics, and its value will always be 00.</span></span> |
| <counter> |<span data-ttu-id="6c3c7-173">1시간 동안 저장소 서비스에 대해 생성되는 로그 Blob의 수를 나타내는 0부터 시작되는 6자리 카운터입니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-173">A zero-based counter with six digits that indicates the number of log blobs generated for the storage service in an hour time period.</span></span> <span data-ttu-id="6c3c7-174">이 카운터는 000000부터 시작됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-174">This counter starts at 000000.</span></span> <span data-ttu-id="6c3c7-175">예: 000001</span><span class="sxs-lookup"><span data-stu-id="6c3c7-175">For example: 000001.</span></span> |

<span data-ttu-id="6c3c7-176">이전 예제가 결합된 완전한 샘플 로그 이름이 아래에 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-176">The following is a complete sample log name that combines the previous examples.</span></span>

    blob/2011/07/31/1800/000001.log

<span data-ttu-id="6c3c7-177">이전 로그에 액세스하는 데 사용할 수 있는 샘플 URI는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-177">The following is a sample URI that can be used to access the previous log.</span></span>

    https://<accountname>.blob.core.windows.net/$logs/blob/2011/07/31/1800/000001.log

<span data-ttu-id="6c3c7-178">저장소 요청이 기록되면 생성되는 로그 이름과 요청한 작업이 완료된 시간 간의 상관 관계가 지정됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-178">When a storage request is logged, the resulting log name correlates to the hour when the requested operation completed.</span></span> <span data-ttu-id="6c3c7-179">예를 들어 GetBlob 요청이 2011/7/31 오후 6시 30분에 완료된 경우</span><span class="sxs-lookup"><span data-stu-id="6c3c7-179">For example, if a GetBlob request was completed at 6:30 P.M.</span></span> <span data-ttu-id="6c3c7-180">로그는 다음 접두사로 작성됩니다. `blob/2011/07/31/1800/`</span><span class="sxs-lookup"><span data-stu-id="6c3c7-180">on 7/31/2011, the log would be written with the following prefix: `blob/2011/07/31/1800/`</span></span>

### <a name="log-metadata"></a><span data-ttu-id="6c3c7-181">로그 메타데이터</span><span class="sxs-lookup"><span data-stu-id="6c3c7-181">Log metadata</span></span>
<span data-ttu-id="6c3c7-182">모든 로그 Blob는 해당 Blob에 포함된 로깅 데이터를 식별하는 데 사용할 수 있는 메타데이터와 함께 저장됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-182">All log blobs are stored with metadata that can be used to identify what logging data the blob contains.</span></span> <span data-ttu-id="6c3c7-183">아래 표에서 각 메타데이터 특성에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-183">The following table describes each metadata attribute.</span></span>

| <span data-ttu-id="6c3c7-184">특성</span><span class="sxs-lookup"><span data-stu-id="6c3c7-184">Attribute</span></span> | <span data-ttu-id="6c3c7-185">설명</span><span class="sxs-lookup"><span data-stu-id="6c3c7-185">Description</span></span> |
| --- | --- |
| <span data-ttu-id="6c3c7-186">LogType</span><span class="sxs-lookup"><span data-stu-id="6c3c7-186">LogType</span></span> |<span data-ttu-id="6c3c7-187">로그에 읽기, 쓰기 또는 삭제 작업과 관련된 정보가 포함되는지 여부를 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-187">Describes whether the log contains information pertaining to read, write, or delete operations.</span></span> <span data-ttu-id="6c3c7-188">이 값에는 한 가지 형식이 포함될 수도 있고 3개 형식이 모두 조합(쉼표로 구분)되어 포함될 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-188">This value can include one type or a combination of all three, separated by commas.</span></span> <span data-ttu-id="6c3c7-189">예제 1: 쓰기; 예제 2: 읽기,쓰기; 예제 3: 읽기,쓰기,삭제하기.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-189">Example 1: write; Example 2: read,write; Example 3: read,write,delete.</span></span> |
| <span data-ttu-id="6c3c7-190">StartTime</span><span class="sxs-lookup"><span data-stu-id="6c3c7-190">StartTime</span></span> |<span data-ttu-id="6c3c7-191">로그에서 가장 오래된 항목의 시간(YYYY-MM-DDThh:mm:ssZ 형식)입니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-191">The earliest time of an entry in the log, in the form of YYYY-MM-DDThh:mm:ssZ.</span></span> <span data-ttu-id="6c3c7-192">예: 2011-07-31T18:21:46Z</span><span class="sxs-lookup"><span data-stu-id="6c3c7-192">For example: 2011-07-31T18:21:46Z.</span></span> |
| <span data-ttu-id="6c3c7-193">EndTime</span><span class="sxs-lookup"><span data-stu-id="6c3c7-193">EndTime</span></span> |<span data-ttu-id="6c3c7-194">로그에서 가장 최신 항목의 시간(YYYY-MM-DDThh:mm:ssZ 형식)입니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-194">The latest time of an entry in the log, in the form of YYYY-MM-DDThh:mm:ssZ.</span></span> <span data-ttu-id="6c3c7-195">예: 2011-07-31T18:22:09Z</span><span class="sxs-lookup"><span data-stu-id="6c3c7-195">For example: 2011-07-31T18:22:09Z.</span></span> |
| <span data-ttu-id="6c3c7-196">LogVersion</span><span class="sxs-lookup"><span data-stu-id="6c3c7-196">LogVersion</span></span> |<span data-ttu-id="6c3c7-197">로그 형식의 버전입니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-197">The version of the log format.</span></span> <span data-ttu-id="6c3c7-198">현재 지원되는 유일한 값: 1.0</span><span class="sxs-lookup"><span data-stu-id="6c3c7-198">Currently the only supported value is 1.0.</span></span> |

<span data-ttu-id="6c3c7-199">다음 목록에는 이전 예제를 사용하는 전체 샘플 메타데이터가 표시되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-199">The following list displays complete sample metadata using the previous examples.</span></span>

* <span data-ttu-id="6c3c7-200">LogType=write</span><span class="sxs-lookup"><span data-stu-id="6c3c7-200">LogType=write</span></span>
* <span data-ttu-id="6c3c7-201">StartTime=2011-07-31T18:21:46Z</span><span class="sxs-lookup"><span data-stu-id="6c3c7-201">StartTime=2011-07-31T18:21:46Z</span></span>
* <span data-ttu-id="6c3c7-202">EndTime=2011-07-31T18:22:09Z</span><span class="sxs-lookup"><span data-stu-id="6c3c7-202">EndTime=2011-07-31T18:22:09Z</span></span>
* <span data-ttu-id="6c3c7-203">LogVersion=1.0</span><span class="sxs-lookup"><span data-stu-id="6c3c7-203">LogVersion=1.0</span></span>

### <a name="accessing-logging-data"></a><span data-ttu-id="6c3c7-204">로깅 데이터 액세스</span><span class="sxs-lookup"><span data-stu-id="6c3c7-204">Accessing logging data</span></span>
<span data-ttu-id="6c3c7-205">Azure 관리되는 라이브러리에서 제공하는 .NET API를 비롯한 Blob 서비스 API를 사용하면 `$logs` 컨테이너의 모든 데이터에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-205">All data in the `$logs` container can be accessed by using the Blob service APIs, including the .NET APIs provided by the Azure managed library.</span></span> <span data-ttu-id="6c3c7-206">저장소 계정 관리자는 로그를 읽고 삭제할 수는 있지만 작성하거나 업데이트할 수는 없습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-206">The storage account administrator can read and delete logs, but cannot create or update them.</span></span> <span data-ttu-id="6c3c7-207">로그를 쿼리할 때는 로그 메타데이터와 로그 이름을 모두 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-207">Both the log's metadata and log name can be used when querying for a log.</span></span> <span data-ttu-id="6c3c7-208">지정한 시간의 로그가 잘못된 순서로 표시될 수도 있지만 메타데이터는 항상 로그 내의 로그 항목 시간 간격을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-208">It is possible for a given hour's logs to appear out of order, but the metadata always specifies the timespan of log entries in a log.</span></span> <span data-ttu-id="6c3c7-209">따라서 특정 로그를 검색할 때 로그 이름과 메타데이터 조합을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-209">Therefore, you can use a combination of log names and metadata when searching for a particular log.</span></span>

## <a name="about-storage-analytics-metrics"></a><span data-ttu-id="6c3c7-210">저장소 분석 메트릭 정보</span><span class="sxs-lookup"><span data-stu-id="6c3c7-210">About Storage Analytics metrics</span></span>
<span data-ttu-id="6c3c7-211">저장소 분석에서는 저장소 서비스에 대한 요청 관련 용량 데이터 및 집계된 트랜잭션 통계를 포함하는 메트릭을 저장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-211">Storage Analytics can store metrics that include aggregated transaction statistics and capacity data about requests to a storage service.</span></span> <span data-ttu-id="6c3c7-212">트랜잭션은 API 작업 수준과 저장소 서비스 수준에서 모두 보고되며 용량은 저장소 서비스 수준에서 보고됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-212">Transactions are reported at both the API operation level as well as at the storage service level, and capacity is reported at the storage service level.</span></span> <span data-ttu-id="6c3c7-213">메트릭 데이터를 사용하면 저장소 서비스 사용량을 분석하고 저장소 서비스에 대한 요청의 문제를 진단하며 서비스를 사용하는 응용 프로그램의 성능을 개선할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-213">Metrics data can be used to analyze storage service usage, diagnose issues with requests made against the storage service, and to improve the performance of applications that use a service.</span></span>

<span data-ttu-id="6c3c7-214">저장소 분석을 사용하려면 모니터링할 각 서비스에 대해 저장소 분석을 개별적으로 사용하도록 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-214">To use Storage Analytics, you must enable it individually for each service you want to monitor.</span></span> <span data-ttu-id="6c3c7-215">[Azure 포털](https://portal.azure.com)에서 활성화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-215">You can enable it from the [Azure Portal](https://portal.azure.com).</span></span> <span data-ttu-id="6c3c7-216">자세한 내용은 [Azure 포털에서 저장소 계정 모니터링](storage-monitor-storage-account.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-216">For details, see [Monitor a storage account in the Azure Portal](storage-monitor-storage-account.md).</span></span> <span data-ttu-id="6c3c7-217">REST API 또는 클라이언트 라이브러리를 통해 프로그래밍 방식으로 저장소 분석을 사용하도록 설정할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-217">You can also enable Storage Analytics programmatically via the REST API or the client library.</span></span> <span data-ttu-id="6c3c7-218">**서비스 속성 가져오기** 작업을 사용하여 각 서비스에 대한 저장소 분석을 사용하도록 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-218">Use the **Get Service Properties** operations to enable Storage Analytics for each service.</span></span>

### <a name="transaction-metrics"></a><span data-ttu-id="6c3c7-219">트랜잭션 메트릭</span><span class="sxs-lookup"><span data-stu-id="6c3c7-219">Transaction metrics</span></span>
<span data-ttu-id="6c3c7-220">각 저장소 서비스 및 요청한 API 작업에 대해 시간 또는 분 간격으로 유용한 데이터 집합이 기록됩니다. 이러한 데이터에는 수신/송신, 가용성, 오류, 분류된 요청 비율 등이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-220">A robust set of data is recorded at hourly or minute intervals for each storage service and requested API operation, including ingress/egress, availability, errors, and categorized request percentages.</span></span> <span data-ttu-id="6c3c7-221">트랜잭션 세부 정보의 전체 목록은 [저장소 분석 메트릭 테이블 스키마](https://msdn.microsoft.com/library/hh343264.aspx) 항목에서 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-221">You can see a complete list of the transaction details in the [Storage Analytics Metrics Table Schema](https://msdn.microsoft.com/library/hh343264.aspx) topic.</span></span>

<span data-ttu-id="6c3c7-222">트랜잭션 데이터는 두 개의 수준, 즉 서비스 수준과 API 작업 수준에서 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-222">Transaction data is recorded at two levels – the service level and the API operation level.</span></span> <span data-ttu-id="6c3c7-223">서비스 수준에서는 서비스에 대한 요청이 없더라도 요청한 모든 API 작업을 요약하는 통계가 1시간마다 테이블 엔터티에 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-223">At the service level, statistics summarizing all requested API operations are written to a table entity every hour even if no requests were made to the service.</span></span> <span data-ttu-id="6c3c7-224">API 작업 수준에서는 해당 시간 동안 작업이 요청된 경우에만 통계가 엔터티에 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-224">At the API operation level, statistics are only written to an entity if the operation was requested within that hour.</span></span>

<span data-ttu-id="6c3c7-225">예를 들어 Blob service에 대해 **GetBlob** 작업을 수행하면 저장소 분석 메트릭이 요청을 기록한 다음 **GetBlob** 작업뿐만 아니라 Blob service에 대해 집계된 데이터에도 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-225">For example, if you perform a **GetBlob** operation on your Blob service, Storage Analytics Metrics will log the request and include it in the aggregated data for both the Blob service as well as the **GetBlob** operation.</span></span> <span data-ttu-id="6c3c7-226">하지만 해당 시간 동안 요청된 **GetBlob** 작업이 없으면 해당 작업에 대한 `$MetricsTransactionsBlob`에 엔터티가 기록되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-226">However, if no **GetBlob** operation is requested during the hour, an entity will not be written to the `$MetricsTransactionsBlob` for that operation.</span></span>

<span data-ttu-id="6c3c7-227">저장소 분석 자체에서 수행한 요청과 사용자 요청 둘 모두에 대해 트랜잭션 메트릭이 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-227">Transaction metrics are recorded for both user requests and requests made by Storage Analytics itself.</span></span> <span data-ttu-id="6c3c7-228">예를 들어 로그 및 테이블 엔터티 작성을 위한 저장소 분석의 요청이 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-228">For example, requests by Storage Analytics to write logs and table entities are recorded.</span></span> <span data-ttu-id="6c3c7-229">이러한 요청에 대해 요금이 청구되는 방식에 대한 자세한 내용은 [저장소 분석 및 청구](https://msdn.microsoft.com/library/hh360997.aspx)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-229">For more information about how these requests are billed, see [Storage Analytics and Billing](https://msdn.microsoft.com/library/hh360997.aspx).</span></span>

### <a name="capacity-metrics"></a><span data-ttu-id="6c3c7-230">용량 메트릭</span><span class="sxs-lookup"><span data-stu-id="6c3c7-230">Capacity metrics</span></span>
> [!NOTE]
> <span data-ttu-id="6c3c7-231">현재는 Blob 서비스에 대해서만 용량 메트릭이 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-231">Currently, capacity metrics are only available for the Blob service.</span></span> <span data-ttu-id="6c3c7-232">테이블 서비스와 큐 서비스에 대한 용량 메트릭은 이후 저장소 분석 버전에서 제공될 예정입니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-232">Capacity metrics for the Table service and Queue service will be available in future versions of Storage Analytics.</span></span>
> 
> 

<span data-ttu-id="6c3c7-233">용량 데이터는 저장소 계정의 Blob service에 대해 매일 기록되며 2개의 테이블 엔터티가 작성됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-233">Capacity data is recorded daily for a storage account's Blob service, and two table entities are written.</span></span> <span data-ttu-id="6c3c7-234">이러한 엔터티 중 하나는 사용자 데이터에 대한 통계를 제공하며 다른 하나는 저장소 분석에서 사용하는 `$logs` Blob 컨테이너에 대한 통계를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-234">One entity provides statistics for user data, and the other provides statistics about the `$logs` blob container used by Storage Analytics.</span></span> <span data-ttu-id="6c3c7-235">`$MetricsCapacityBlob` 테이블에는 다음 통계가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-235">The `$MetricsCapacityBlob` table includes the following statistics:</span></span>

* <span data-ttu-id="6c3c7-236">**Capacity**: 저장소 계정의 Blob service가 사용하는 저장소의 양(바이트)입니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-236">**Capacity**: The amount of storage used by the storage account's Blob service, in bytes.</span></span>
* <span data-ttu-id="6c3c7-237">**ContainerCount**: 저장소 계정의 Blob service에 포함된 Blob 컨테이너의 수입니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-237">**ContainerCount**: The number of blob containers in the storage account's Blob service.</span></span>
* <span data-ttu-id="6c3c7-238">**ObjectCount**: 저장소 계정의 Blob service에서 커밋된/커밋되지 않은 블록이나 페이지 Blob의 수입니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-238">**ObjectCount**: The number of committed and uncommitted block or page blobs in the storage account's Blob service.</span></span>

<span data-ttu-id="6c3c7-239">용량 메트릭에 대한 자세한 내용은 [저장소 분석 메트릭 테이블 스키마](https://msdn.microsoft.com/library/hh343264.aspx)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-239">For more information about the capacity metrics, see [Storage Analytics Metrics Table Schema](https://msdn.microsoft.com/library/hh343264.aspx).</span></span>

### <a name="how-metrics-are-stored"></a><span data-ttu-id="6c3c7-240">메트릭 저장 방법</span><span class="sxs-lookup"><span data-stu-id="6c3c7-240">How metrics are stored</span></span>
<span data-ttu-id="6c3c7-241">각 저장소 서비스의 모든 메트릭 데이터는 해당 서비스용으로 예약된 테이블 3개에 저장됩니다. 이러한 테이블은 각각 트랜잭션 정보용, 세부 트랜잭션 정보용, 용량 정보용 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-241">All metrics data for each of the storage services is stored in three tables reserved for that service: one table for transaction information, one table for minute transaction information, and another table for capacity information.</span></span> <span data-ttu-id="6c3c7-242">트랜잭션 및 세부 트랜잭션 정보는 요청과 응답 데이터로 구성되며 용량 정보는 저장소 사용량 데이터로 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-242">Transaction and minute transaction information consists of request and response data, and capacity information consists of storage usage data.</span></span> <span data-ttu-id="6c3c7-243">다음 표에서 설명하는 대로 이름이 지정된 테이블에서 저장소 계정 Blob service의 시간 메트릭, 분 메트릭 및 용량 정보에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-243">Hour metrics, minute metrics, and capacity for a storage account's Blob service can be accessed in tables that are named as described in the following table.</span></span>

| <span data-ttu-id="6c3c7-244">메트릭 수준</span><span class="sxs-lookup"><span data-stu-id="6c3c7-244">Metrics level</span></span> | <span data-ttu-id="6c3c7-245">테이블 이름</span><span class="sxs-lookup"><span data-stu-id="6c3c7-245">Table names</span></span> | <span data-ttu-id="6c3c7-246">지원되는 버전</span><span class="sxs-lookup"><span data-stu-id="6c3c7-246">Supported versions</span></span> |
| --- | --- | --- |
| <span data-ttu-id="6c3c7-247">시간 메트릭, 기본 위치</span><span class="sxs-lookup"><span data-stu-id="6c3c7-247">Hourly metrics, primary location</span></span> |<span data-ttu-id="6c3c7-248">$MetricsTransactionsBlob </span><span class="sxs-lookup"><span data-stu-id="6c3c7-248">$MetricsTransactionsBlob</span></span> <br/><span data-ttu-id="6c3c7-249">$MetricsTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="6c3c7-249">$MetricsTransactionsTable</span></span> <br/> <span data-ttu-id="6c3c7-250">$MetricsTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="6c3c7-250">$MetricsTransactionsQueue</span></span> |<span data-ttu-id="6c3c7-251">2013-08-15 이전 버전만 해당됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-251">Versions prior to 2013-08-15 only.</span></span> <span data-ttu-id="6c3c7-252">이러한 이름은 계속 지원되기는 하지만 아래에 나와 있는 표를 사용하도록 전환하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-252">While these names are still supported, it's recommended that you switch to using the tables listed below.</span></span> |
| <span data-ttu-id="6c3c7-253">시간 메트릭, 기본 위치</span><span class="sxs-lookup"><span data-stu-id="6c3c7-253">Hourly metrics, primary location</span></span> |<span data-ttu-id="6c3c7-254">$MetricsHourPrimaryTransactionsBlob</span><span class="sxs-lookup"><span data-stu-id="6c3c7-254">$MetricsHourPrimaryTransactionsBlob</span></span> <br/><span data-ttu-id="6c3c7-255">$MetricsHourPrimaryTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="6c3c7-255">$MetricsHourPrimaryTransactionsTable</span></span> <br/><span data-ttu-id="6c3c7-256">$MetricsHourPrimaryTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="6c3c7-256">$MetricsHourPrimaryTransactionsQueue</span></span> |<span data-ttu-id="6c3c7-257">2013-08-15를 포함한 모든 버전.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-257">All versions, including 2013-08-15.</span></span> |
| <span data-ttu-id="6c3c7-258">분 메트릭, 기본 위치</span><span class="sxs-lookup"><span data-stu-id="6c3c7-258">Minute metrics, primary location</span></span> |<span data-ttu-id="6c3c7-259">$MetricsMinutePrimaryTransactionsBlob</span><span class="sxs-lookup"><span data-stu-id="6c3c7-259">$MetricsMinutePrimaryTransactionsBlob</span></span> <br/><span data-ttu-id="6c3c7-260">$MetricsMinutePrimaryTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="6c3c7-260">$MetricsMinutePrimaryTransactionsTable</span></span> <br/><span data-ttu-id="6c3c7-261">$MetricsMinutePrimaryTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="6c3c7-261">$MetricsMinutePrimaryTransactionsQueue</span></span> |<span data-ttu-id="6c3c7-262">2013-08-15를 포함한 모든 버전.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-262">All versions, including 2013-08-15.</span></span> |
| <span data-ttu-id="6c3c7-263">시간 메트릭, 보조 위치</span><span class="sxs-lookup"><span data-stu-id="6c3c7-263">Hourly metrics, secondary location</span></span> |<span data-ttu-id="6c3c7-264">$MetricsHourSecondaryTransactionsBlob </span><span class="sxs-lookup"><span data-stu-id="6c3c7-264">$MetricsHourSecondaryTransactionsBlob</span></span> <br/><span data-ttu-id="6c3c7-265">$MetricsHourSecondaryTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="6c3c7-265">$MetricsHourSecondaryTransactionsTable</span></span> <br/><span data-ttu-id="6c3c7-266">$MetricsHourSecondaryTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="6c3c7-266">$MetricsHourSecondaryTransactionsQueue</span></span> |<span data-ttu-id="6c3c7-267">2013-08-15를 포함한 모든 버전.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-267">All versions, including 2013-08-15.</span></span> <span data-ttu-id="6c3c7-268">읽기 권한의 지역 중복 복제를 사용하도록 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-268">Read-access geo-redundant replication must be enabled.</span></span> |
| <span data-ttu-id="6c3c7-269">분 메트릭, 보조 위치</span><span class="sxs-lookup"><span data-stu-id="6c3c7-269">Minute metrics, secondary location</span></span> |<span data-ttu-id="6c3c7-270">$MetricsMinuteSecondaryTransactionsBlob </span><span class="sxs-lookup"><span data-stu-id="6c3c7-270">$MetricsMinuteSecondaryTransactionsBlob</span></span> <br/><span data-ttu-id="6c3c7-271">$MetricsMinuteSecondaryTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="6c3c7-271">$MetricsMinuteSecondaryTransactionsTable</span></span> <br/><span data-ttu-id="6c3c7-272">$MetricsMinuteSecondaryTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="6c3c7-272">$MetricsMinuteSecondaryTransactionsQueue</span></span> |<span data-ttu-id="6c3c7-273">2013-08-15를 포함한 모든 버전.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-273">All versions, including 2013-08-15.</span></span> <span data-ttu-id="6c3c7-274">읽기 권한의 지역 중복 복제를 사용하도록 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-274">Read-access geo-redundant replication must be enabled.</span></span> |
| <span data-ttu-id="6c3c7-275">용량(Blob 서비스만 해당)</span><span class="sxs-lookup"><span data-stu-id="6c3c7-275">Capacity (Blob service only)</span></span> |<span data-ttu-id="6c3c7-276">$MetricsCapacityBlob</span><span class="sxs-lookup"><span data-stu-id="6c3c7-276">$MetricsCapacityBlob</span></span> |<span data-ttu-id="6c3c7-277">2013-08-15를 포함한 모든 버전.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-277">All versions, including 2013-08-15.</span></span> |

<span data-ttu-id="6c3c7-278">이러한 테이블은 저장소 계정에 대해 저장소 분석을 사용하도록 설정하면 자동으로 작성됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-278">These tables are automatically created when Storage Analytics is enabled for a storage account.</span></span> <span data-ttu-id="6c3c7-279">저장소 계정의 네임스페이스를 통해 이러한 테이블에 액세스할 수 있습니다. 예: `https://<accountname>.table.core.windows.net/Tables("$MetricsTransactionsBlob")`</span><span class="sxs-lookup"><span data-stu-id="6c3c7-279">They are accessed via the namespace of the storage account, for example: `https://<accountname>.table.core.windows.net/Tables("$MetricsTransactionsBlob")`</span></span>

### <a name="accessing-metrics-data"></a><span data-ttu-id="6c3c7-280">메트릭 데이터 액세스</span><span class="sxs-lookup"><span data-stu-id="6c3c7-280">Accessing metrics data</span></span>
<span data-ttu-id="6c3c7-281">Azure 관리되는 라이브러리에서 제공하는 .NET API를 비롯한 테이블 서비스 API를 사용하면 메트릭 테이블의 모든 데이터에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-281">All data in the metrics tables can be accessed by using the Table service APIs, including the .NET APIs provided by the Azure managed library.</span></span> <span data-ttu-id="6c3c7-282">저장소 계정 관리자는 테이블 엔터티를 읽고 삭제할 수는 있지만 작성하거나 업데이트할 수는 없습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-282">The storage account administrator can read and delete table entities, but cannot create or update them.</span></span>

## <a name="billing-for-storage-analytics"></a><span data-ttu-id="6c3c7-283">저장소 분석 청구</span><span class="sxs-lookup"><span data-stu-id="6c3c7-283">Billing for Storage Analytics</span></span>
<span data-ttu-id="6c3c7-284">모든 메트릭 데이터는 저장소 계정 서비스를 통해 작성됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-284">All metrics data is written by the services of a storage account.</span></span> <span data-ttu-id="6c3c7-285">따라서 저장소 분석에서 수행하는 각 쓰기 작업에 대해 요금이 청구됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-285">As a result, each write operation performed by Storage Analytics is billable.</span></span> <span data-ttu-id="6c3c7-286">또한 메트릭 데이터에 사용되는 저장소에도 요금이 청구됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-286">Additionally, the amount of storage used by metrics data is also billable.</span></span>

<span data-ttu-id="6c3c7-287">저장소 분석에서 수행하는 다음 작업에 대해 요금이 청구될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-287">The following actions performed by Storage Analytics are billable:</span></span>

* <span data-ttu-id="6c3c7-288">로깅용 Blob 작성 요청</span><span class="sxs-lookup"><span data-stu-id="6c3c7-288">Requests to create blobs for logging.</span></span> 
* <span data-ttu-id="6c3c7-289">메트릭용 테이블 엔터티 작성 요청</span><span class="sxs-lookup"><span data-stu-id="6c3c7-289">Requests to create table entities for metrics.</span></span>

<span data-ttu-id="6c3c7-290">데이터 보존 정책을 구성한 경우에는 저장소 분석에서 이전 로깅 및 메트릭 데이터를 삭제할 때 삭제 트랜잭션에 대해 요금이 부과되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-290">If you have configured a data retention policy, you are not charged for delete transactions when Storage Analytics deletes old logging and metrics data.</span></span> <span data-ttu-id="6c3c7-291">그러나 클라이언트의 삭제 트랜잭션에는 요금이 청구됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-291">However, delete transactions from a client are billable.</span></span> <span data-ttu-id="6c3c7-292">보존 정책에 대한 자세한 내용은 [저장소 분석 데이터 보존 정책 설정](https://msdn.microsoft.com/library/azure/hh343263.aspx)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-292">For more information about retention policies, see [Setting a Storage Analytics Data Retention Policy](https://msdn.microsoft.com/library/azure/hh343263.aspx).</span></span>

### <a name="understanding-billable-requests"></a><span data-ttu-id="6c3c7-293">청구 가능한 요청 이해</span><span class="sxs-lookup"><span data-stu-id="6c3c7-293">Understanding billable requests</span></span>
<span data-ttu-id="6c3c7-294">계정의 저장소 서비스에 대한 모든 요청에는 요금이 청구될 수도 있고 청구되지 않을 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-294">Every request made to an account's storage service is either billable or non-billable.</span></span> <span data-ttu-id="6c3c7-295">저장소 분석에서는 요청 처리 방법을 나타내는 상태 메시지를 포함하여 서비스에 대한 개별 요청을 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-295">Storage Analytics logs each individual request made to a service, including a status message that indicates how the request was handled.</span></span> <span data-ttu-id="6c3c7-296">마찬가지로 서비스 및 해당 서비스의 API 작업에 대한 메트릭도 저장됩니다. 여기에는 특정 상태 메시지의 개수와 비율이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-296">Similarly, Storage Analytics stores metrics for both a service and the API operations of that service, including the percentages and count of certain status messages.</span></span> <span data-ttu-id="6c3c7-297">이러한 기능을 함께 사용하면 요금이 청구될 수 있는 요청을 분석하고 응용 프로그램을 개선할 수 있으며 서비스에 대한 요청의 문제를 진단할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-297">Together, these features can help you analyze your billable requests, make improvements on your application, and diagnose issues with requests to your services.</span></span> <span data-ttu-id="6c3c7-298">청구에 대한 자세한 내용은 [Azure Storage 청구 이해 - 대역폭, 트랜잭션 및 용량](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-298">For more information about billing, see [Understanding Azure Storage Billing - Bandwidth, Transactions, and Capacity](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx).</span></span>

<span data-ttu-id="6c3c7-299">저장소 분석 데이터를 확인할 때는 [저장소 분석에서 기록한 작업 및 상태 메시지](https://msdn.microsoft.com/library/azure/hh343260.aspx) 토픽의 표를 통해 요금이 청구될 수 있는 요청을 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-299">When looking at Storage Analytics data, you can use the tables in the [Storage Analytics Logged Operations and Status Messages](https://msdn.microsoft.com/library/azure/hh343260.aspx) topic to determine what requests are billable.</span></span> <span data-ttu-id="6c3c7-300">그런 후에 실제 로그 및 메트릭 데이터를 상태 메시지와 비교하여 특정 요청에 대해 요금이 부과되었는지 파악할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-300">Then you can compare your logs and metrics data to the status messages to see if you were charged for a particular request.</span></span> <span data-ttu-id="6c3c7-301">또한 이전 항목의 표를 통해 저장소 서비스 또는 개별 API 작업의 사용 가능 여부도 조사할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6c3c7-301">You can also use the tables in the previous topic to investigate availability for a storage service or individual API operation.</span></span>

## <a name="next-steps"></a><span data-ttu-id="6c3c7-302">다음 단계</span><span class="sxs-lookup"><span data-stu-id="6c3c7-302">Next steps</span></span>
### <a name="setting-up-storage-analytics"></a><span data-ttu-id="6c3c7-303">저장소 분석 설정</span><span class="sxs-lookup"><span data-stu-id="6c3c7-303">Setting up Storage Analytics</span></span>
* [<span data-ttu-id="6c3c7-304">Azure 포털에서 저장소 계정 모니터링</span><span class="sxs-lookup"><span data-stu-id="6c3c7-304">Monitor a storage account in the Azure Portal</span></span>](storage-monitor-storage-account.md)
* [<span data-ttu-id="6c3c7-305">저장소 분석 설정 및 구성</span><span class="sxs-lookup"><span data-stu-id="6c3c7-305">Enabling and Configuring Storage Analytics</span></span>](https://msdn.microsoft.com/library/hh360996.aspx)

### <a name="storage-analytics-logging"></a><span data-ttu-id="6c3c7-306">저장소 분석 로깅</span><span class="sxs-lookup"><span data-stu-id="6c3c7-306">Storage Analytics logging</span></span>
* [<span data-ttu-id="6c3c7-307">저장소 분석 로깅 정보</span><span class="sxs-lookup"><span data-stu-id="6c3c7-307">About Storage Analytics Logging</span></span>](https://msdn.microsoft.com/library/hh343262.aspx)
* [<span data-ttu-id="6c3c7-308">저장소 분석 로그 형식</span><span class="sxs-lookup"><span data-stu-id="6c3c7-308">Storage Analytics Log Format</span></span>](https://msdn.microsoft.com/library/hh343259.aspx)
* [<span data-ttu-id="6c3c7-309">저장소 분석에서 기록한 작업 및 상태 메시지</span><span class="sxs-lookup"><span data-stu-id="6c3c7-309">Storage Analytics Logged Operations and Status Messages</span></span>](https://msdn.microsoft.com/library/hh343260.aspx)

### <a name="storage-analytics-metrics"></a><span data-ttu-id="6c3c7-310">저장소 분석 메트릭</span><span class="sxs-lookup"><span data-stu-id="6c3c7-310">Storage Analytics metrics</span></span>
* [<span data-ttu-id="6c3c7-311">저장소 분석 메트릭 정보</span><span class="sxs-lookup"><span data-stu-id="6c3c7-311">About Storage Analytics Metrics</span></span>](https://msdn.microsoft.com/library/hh343258.aspx)
* [<span data-ttu-id="6c3c7-312">저장소 분석 메트릭 테이블 스키마</span><span class="sxs-lookup"><span data-stu-id="6c3c7-312">Storage Analytics Metrics Table Schema</span></span>](https://msdn.microsoft.com/library/hh343264.aspx)
* [<span data-ttu-id="6c3c7-313">저장소 분석에서 기록한 작업 및 상태 메시지</span><span class="sxs-lookup"><span data-stu-id="6c3c7-313">Storage Analytics Logged Operations and Status Messages</span></span>](https://msdn.microsoft.com/library/hh343260.aspx)  

