---
title: "저장소 모니터링, 진단 및 문제 해결 | Microsoft Docs"
description: "저장소 분석, 클라이언트 쪽 로깅 등의 기능과 Azure 저장소 관련 문제를 파악, 진단 및 해결하는 기타 타사 도구를 사용하는 방법에 대해 알아봅니다."
services: storage
documentationcenter: 
author: fhryo-msft
manager: jahogg
editor: tysonn
ms.assetid: da57e844-705d-449d-8ed5-5607d2a6170b
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/28/2017
ms.author: fhryo-msft
ms.openlocfilehash: 0ce739e1b62c908a469a5c37331915f17809018b
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/11/2017
---
# <a name="monitor-diagnose-and-troubleshoot-microsoft-azure-storage"></a><span data-ttu-id="f5a56-103">Microsoft Azure 저장소 모니터링, 진단 및 문제 해결</span><span class="sxs-lookup"><span data-stu-id="f5a56-103">Monitor, diagnose, and troubleshoot Microsoft Azure Storage</span></span>
[!INCLUDE [storage-selector-portal-monitoring-diagnosing-troubleshooting](../../includes/storage-selector-portal-monitoring-diagnosing-troubleshooting.md)]

## <a name="overview"></a><span data-ttu-id="f5a56-104">개요</span><span class="sxs-lookup"><span data-stu-id="f5a56-104">Overview</span></span>
<span data-ttu-id="f5a56-105">클라우드 환경에서 호스트된 분산 응용 프로그램의 문제를 진단하고 해결하는 과정이 기존 환경보다 복잡할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-105">Diagnosing and troubleshooting issues in a distributed application hosted in a cloud environment can be more complex than in traditional environments.</span></span> <span data-ttu-id="f5a56-106">응용 프로그램은 PaaS/IaaS 인프라, 온-프레미스, 모바일 장치에 배포될 수도 있고 이러한 항목이 조합되어 있는 환경에 배포될 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-106">Applications can be deployed in a PaaS or IaaS infrastructure, on premises, on a mobile device, or in some combination of these.</span></span> <span data-ttu-id="f5a56-107">일반적으로 응용 프로그램의 네트워크 트래픽은 공용 네트워크와 개인 네트워크를 트래버스할 수 있으며 응용 프로그램은 Microsoft Azure Storage 테이블, Blob, 큐 또는 파일과 같은 여러 저장소 기술뿐 아니라 관계형/문서 데이터베이스와 같은 기타 데이터 저장소도 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-107">Typically, your application's network traffic may traverse public and private networks and your application may use multiple storage technologies such as Microsoft Azure Storage Tables, Blobs, Queues, or Files in addition to other data stores such as relational and document databases.</span></span>

<span data-ttu-id="f5a56-108">이러한 응용 프로그램은 올바르게 관리하려면 미리 모니터링하여 응용 프로그램과 종속 기술의 모든 측면을 진단하고 문제를 해결하는 방법을 파악해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-108">To manage such applications successfully you should monitor them proactively and understand how to diagnose and troubleshoot all aspects of them and their dependent technologies.</span></span> <span data-ttu-id="f5a56-109">Azure 저장소 서비스 사용자는 응용 프로그램이 사용하는 저장소 서비스를 지속적으로 모니터링하여 정상적인 응답 시간보다 속도가 느려지는 등 예기치 않은 동작 변경을 파악해야 하며, 로깅을 사용하여 보다 자세한 데이터를 수집하고 문제를 자세하게 분석해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-109">As a user of Azure Storage services, you should continuously monitor the Storage services your application uses for any unexpected changes in behavior (such as slower than usual response times), and use logging to collect more detailed data and to analyze a problem in depth.</span></span> <span data-ttu-id="f5a56-110">모니터링 및 로깅을 통해 얻은 진단 정로를 토대로 응용 프로그램에 발생한 문제의 근본 원인을 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-110">The diagnostics information you obtain from both monitoring and logging will help you to determine the root cause of the issue your application encountered.</span></span> <span data-ttu-id="f5a56-111">그러면 문제를 해결하고 해당 문제를 완화하기 위해 수행할 수 있는 적절한 단계를 결정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-111">Then you can troubleshoot the issue and determine the appropriate steps you can take to remediate it.</span></span> <span data-ttu-id="f5a56-112">Azure 저장소는 핵심 Azure 서비스이며 고객이 Azure 인프라에 배포하는 대부분의 솔루션에서 중요한 역할을 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-112">Azure Storage is a core Azure service, and forms an important part of the majority of solutions that customers deploy to the Azure infrastructure.</span></span> <span data-ttu-id="f5a56-113">Azure 저장소에는 클라우드 기반 응용 프로그램의 저장소 문제 모니터링, 진단 및 해결 과정을 간소화하는 기능이 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-113">Azure Storage includes capabilities to simplify monitoring, diagnosing, and troubleshooting storage issues in your cloud-based applications.</span></span>

> [!NOTE]
> <span data-ttu-id="f5a56-114">영역 중복 저장소(ZRS)의 복제 유형이 있는 저장소 계정에는 현재 활성화된 메트릭 또는 로깅 기능이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-114">Storage accounts with a replication type of Zone-Redundant Storage (ZRS) do not have the metrics or logging capability enabled at this time.</span></span> 
> 
> 

<span data-ttu-id="f5a56-115">Azure 저장소 응용 프로그램에서 종단간 문제 해결 실습 가이드는, [Azure 저장소 및 로깅, Azcopy, 메시지 분석기를 사용한 종단 간 문제 해결](storage-e2e-troubleshooting.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-115">For a hands-on guide to end-to-end troubleshooting in Azure Storage applications, see [End-to-End Troubleshooting using Azure Storage Metrics and Logging, AzCopy, and Message Analyzer](storage-e2e-troubleshooting.md).</span></span>

* <span data-ttu-id="f5a56-116">[소개]</span><span class="sxs-lookup"><span data-stu-id="f5a56-116">[Introduction]</span></span>
  * <span data-ttu-id="f5a56-117">[이 가이드의 구성 방식]</span><span class="sxs-lookup"><span data-stu-id="f5a56-117">[How this guide is organized]</span></span>
* <span data-ttu-id="f5a56-118">[저장소 서비스 모니터링]</span><span class="sxs-lookup"><span data-stu-id="f5a56-118">[Monitoring your storage service]</span></span>
  * <span data-ttu-id="f5a56-119">[서비스 상태 모니터링]</span><span class="sxs-lookup"><span data-stu-id="f5a56-119">[Monitoring service health]</span></span>
  * <span data-ttu-id="f5a56-120">[용량 모니터링]</span><span class="sxs-lookup"><span data-stu-id="f5a56-120">[Monitoring capacity]</span></span>
  * <span data-ttu-id="f5a56-121">[가용성 모니터링]</span><span class="sxs-lookup"><span data-stu-id="f5a56-121">[Monitoring availability]</span></span>
  * <span data-ttu-id="f5a56-122">[성능 모니터링]</span><span class="sxs-lookup"><span data-stu-id="f5a56-122">[Monitoring performance]</span></span>
* <span data-ttu-id="f5a56-123">[저장소 문제 진단]</span><span class="sxs-lookup"><span data-stu-id="f5a56-123">[Diagnosing storage issues]</span></span>
  * <span data-ttu-id="f5a56-124">[서비스 상태 문제]</span><span class="sxs-lookup"><span data-stu-id="f5a56-124">[Service health issues]</span></span>
  * <span data-ttu-id="f5a56-125">[성능 문제]</span><span class="sxs-lookup"><span data-stu-id="f5a56-125">[Performance issues]</span></span>
  * <span data-ttu-id="f5a56-126">[오류 진단]</span><span class="sxs-lookup"><span data-stu-id="f5a56-126">[Diagnosing errors]</span></span>
  * <span data-ttu-id="f5a56-127">[저장소 에뮬레이터 문제]</span><span class="sxs-lookup"><span data-stu-id="f5a56-127">[Storage emulator issues]</span></span>
  * <span data-ttu-id="f5a56-128">[저장소 로깅 도구]</span><span class="sxs-lookup"><span data-stu-id="f5a56-128">[Storage logging tools]</span></span>
  * <span data-ttu-id="f5a56-129">[네트워크 로깅 도구 사용]</span><span class="sxs-lookup"><span data-stu-id="f5a56-129">[Using network logging tools]</span></span>
* <span data-ttu-id="f5a56-130">[종단 간 추적]</span><span class="sxs-lookup"><span data-stu-id="f5a56-130">[End-to-end tracing]</span></span>
  * <span data-ttu-id="f5a56-131">[로그 데이터 상관 관계 설정]</span><span class="sxs-lookup"><span data-stu-id="f5a56-131">[Correlating log data]</span></span>
  * <span data-ttu-id="f5a56-132">[클라이언트 요청 ID]</span><span class="sxs-lookup"><span data-stu-id="f5a56-132">[Client request ID]</span></span>
  * <span data-ttu-id="f5a56-133">[서버 요청 ID]</span><span class="sxs-lookup"><span data-stu-id="f5a56-133">[Server request ID]</span></span>
  * <span data-ttu-id="f5a56-134">[타임스탬프]</span><span class="sxs-lookup"><span data-stu-id="f5a56-134">[Timestamps]</span></span>
* <span data-ttu-id="f5a56-135">[문제 해결 지침]</span><span class="sxs-lookup"><span data-stu-id="f5a56-135">[Troubleshooting guidance]</span></span>
  * <span data-ttu-id="f5a56-136">[메트릭에서 AverageE2ELatency는 높게 표시되고 AverageServerLatency는 낮게 표시됨]</span><span class="sxs-lookup"><span data-stu-id="f5a56-136">[Metrics show high AverageE2ELatency and low AverageServerLatency]</span></span>
  * <span data-ttu-id="f5a56-137">[메트릭에서 AverageE2ELatency 및 AverageServerLatency는 낮게 표시되는데 클라이언트의 대기 시간이 길어짐]</span><span class="sxs-lookup"><span data-stu-id="f5a56-137">[Metrics show low AverageE2ELatency and low AverageServerLatency but the client is experiencing high latency]</span></span>
  * <span data-ttu-id="f5a56-138">[메트릭에서 AverageServerLatency가 높게 표시됨]</span><span class="sxs-lookup"><span data-stu-id="f5a56-138">[Metrics show high AverageServerLatency]</span></span>
  * <span data-ttu-id="f5a56-139">[큐에서 메시지 배달 중에 예기치 않은 대기 시간이 발생함]</span><span class="sxs-lookup"><span data-stu-id="f5a56-139">[You are experiencing unexpected delays in message delivery on a queue]</span></span>
  * <span data-ttu-id="f5a56-140">[메트릭에서 PercentThrottlingError가 증가하는 것으로 표시됨]</span><span class="sxs-lookup"><span data-stu-id="f5a56-140">[Metrics show an increase in PercentThrottlingError]</span></span>
  * <span data-ttu-id="f5a56-141">[메트릭에서 PercentTimeoutError가 증가하는 것으로 표시됨]</span><span class="sxs-lookup"><span data-stu-id="f5a56-141">[Metrics show an increase in PercentTimeoutError]</span></span>
  * <span data-ttu-id="f5a56-142">[메트릭에서 PercentNetworkError가 증가하는 것으로 표시됨]</span><span class="sxs-lookup"><span data-stu-id="f5a56-142">[Metrics show an increase in PercentNetworkError]</span></span>
  * <span data-ttu-id="f5a56-143">[클라이언트에 HTTP 403(사용할 수 없음) 메시지가 표시됨]</span><span class="sxs-lookup"><span data-stu-id="f5a56-143">[The client is receiving HTTP 403 (Forbidden) messages]</span></span>
  * <span data-ttu-id="f5a56-144">[클라이언트에 HTTP 404(찾을 수 없음) 메시지가 표시됨]</span><span class="sxs-lookup"><span data-stu-id="f5a56-144">[The client is receiving HTTP 404 (Not found) messages]</span></span>
  * <span data-ttu-id="f5a56-145">[클라이언트에 HTTP 409(충돌) 메시지가 표시됨]</span><span class="sxs-lookup"><span data-stu-id="f5a56-145">[The client is receiving HTTP 409 (Conflict) messages]</span></span>
  * <span data-ttu-id="f5a56-146">[메트릭에 PercentSuccess가 낮게 표시되거나 분석 로그 항목에 트랜잭션 상태가 ClientOtherErrors 상태인 작업이 있음]</span><span class="sxs-lookup"><span data-stu-id="f5a56-146">[Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors]</span></span>
  * <span data-ttu-id="f5a56-147">[용량 메트릭에 예기치 않은 저장소 용량 사용 증가가 표시됨]</span><span class="sxs-lookup"><span data-stu-id="f5a56-147">[Capacity metrics show an unexpected increase in storage capacity usage]</span></span>
  * <span data-ttu-id="f5a56-148">[많은 수의 VHD가 연결된 가상 컴퓨터가 예기치 않게 다시 부팅됨]</span><span class="sxs-lookup"><span data-stu-id="f5a56-148">[You are experiencing unexpected reboots of Virtual Machines that have a large number of attached VHDs]</span></span>
  * <span data-ttu-id="f5a56-149">[개발 또는 테스트용으로 저장소 에뮬레이터 사용 시 문제가 발생함]</span><span class="sxs-lookup"><span data-stu-id="f5a56-149">[Your issue arises from using the storage emulator for development or test]</span></span>
  * <span data-ttu-id="f5a56-150">[Azure SDK for .NET 설치 시 문제가 발생함]</span><span class="sxs-lookup"><span data-stu-id="f5a56-150">[You are encountering problems installing the Azure SDK for .NET]</span></span>
  * <span data-ttu-id="f5a56-151">[저장소 서비스에서 다른 문제가 발생함]</span><span class="sxs-lookup"><span data-stu-id="f5a56-151">[You have a different issue with a storage service]</span></span>
* <span data-ttu-id="f5a56-152">[부록]</span><span class="sxs-lookup"><span data-stu-id="f5a56-152">[Appendices]</span></span>
  * <span data-ttu-id="f5a56-153">[부록1: Fiddler를 사용하여 HTTP 및 HTTPS 트래픽 캡처]</span><span class="sxs-lookup"><span data-stu-id="f5a56-153">[Appendix 1: Using Fiddler to capture HTTP and HTTPS traffic]</span></span>
  * <span data-ttu-id="f5a56-154">[부록 2: Wireshark를 사용하여 네트워크 트래픽 캡처]</span><span class="sxs-lookup"><span data-stu-id="f5a56-154">[Appendix 2: Using Wireshark to capture network traffic]</span></span>
  * <span data-ttu-id="f5a56-155">[부록3: Microsoft 메시지 분석기를 사용하여 네트워크 트래픽 캡처]</span><span class="sxs-lookup"><span data-stu-id="f5a56-155">[Appendix 3: Using Microsoft Message Analyzer to capture network traffic]</span></span>
  * <span data-ttu-id="f5a56-156">[부록4; Excel을 사용하여 메트릭 및 로그 데이터 보기]</span><span class="sxs-lookup"><span data-stu-id="f5a56-156">[Appendix 4: Using Excel to view metrics and log data]</span></span>
  * <span data-ttu-id="f5a56-157">[부록 5: Visual Studio Team Services용 Application Insights를 사용한 모니터링]</span><span class="sxs-lookup"><span data-stu-id="f5a56-157">[Appendix 5: Monitoring with Application Insights for Visual Studio Team Services]</span></span>

## <span data-ttu-id="f5a56-158"><a name="introduction"></a>소개</span><span class="sxs-lookup"><span data-stu-id="f5a56-158"><a name="introduction"></a>Introduction</span></span>
<span data-ttu-id="f5a56-159">이 가이드에서는 Azure 저장소 분석 등의 도구, Azure 저장소 클라이언트 라이브러리의 클라이언트 쪽 로깅 그리고 기타 타사 도구를 사용하여 Azure 저장소 관련 문제를 파악, 진단 및 해결하는 방법에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-159">This guide shows you how to use features such as Azure Storage Analytics, client-side logging in the Azure Storage Client Library, and other third-party tools to identify, diagnose, and troubleshoot Azure Storage related issues.</span></span>

![][1]

<span data-ttu-id="f5a56-160">*그림 1 모니터링, 진단 및 문제 해결*</span><span class="sxs-lookup"><span data-stu-id="f5a56-160">*Figure 1 Monitoring, Diagnostics, and Troubleshooting*</span></span>

<span data-ttu-id="f5a56-161">이 가이드의 기본 대상은 Azure 저장소 서비스를 사용하는 온라인 서비스의 개발자 및 이러한 온라인 서비스를 관리하는 IT 전문가입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-161">This guide is intended to be read primarily by developers of online services that use Azure Storage Services and IT Pros responsible for managing such online services.</span></span> <span data-ttu-id="f5a56-162">이 가이드의 목표는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-162">The goals of this guide are:</span></span>

* <span data-ttu-id="f5a56-163">Azure 저장소 계정의 상태와 성능을 유지 관리하는 데 도움이 되는 정보 제공</span><span class="sxs-lookup"><span data-stu-id="f5a56-163">To help you maintain the health and performance of your Azure Storage accounts.</span></span>
* <span data-ttu-id="f5a56-164">응용 프로그램의 문제가 Azure 저장소와 관련이 있는지 여부를 결정하는 데 필요한 프로세스 및 도구 제공</span><span class="sxs-lookup"><span data-stu-id="f5a56-164">To provide you with the necessary processes and tools to help you decide if an issue or problem in an application relates to Azure Storage.</span></span>
* <span data-ttu-id="f5a56-165">Azure 저장소 관련 문제 해결을 위한 실행 가능 지침 제공</span><span class="sxs-lookup"><span data-stu-id="f5a56-165">To provide you with actionable guidance for resolving problems related to Azure Storage.</span></span>

### <span data-ttu-id="f5a56-166"><a name="how-this-guide-is-organized"></a>이 가이드의 구성 방식</span><span class="sxs-lookup"><span data-stu-id="f5a56-166"><a name="how-this-guide-is-organized"></a>How this guide is organized</span></span>
<span data-ttu-id="f5a56-167">"[저장소 서비스 모니터링]" 섹션에서는 Azure 저장소 분석 메트릭(저장소 메트릭)을 사용하여 Azure 저장소 서비스의 상태와 성능을 모니터링하는 방법을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-167">The section "[Monitoring your storage service]" describes how to monitor the health and performance of your Azure Storage services using Azure Storage Analytics Metrics (Storage Metrics).</span></span>

<span data-ttu-id="f5a56-168">"[저장소 문제 진단]" 섹션에서는 Azure 저장소 분석 로깅(저장소 로깅)을 사용하여 문제를 진단하는 방법을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-168">The section "[Diagnosing storage issues]" describes how to diagnose issues using Azure Storage Analytics Logging (Storage Logging).</span></span> <span data-ttu-id="f5a56-169">또한 .NET용 저장소 클라이언트 라이브러리 또는 Java용 Azure SDK와 같은 클라이언트 라이브러리 중 하나의 기능을 사용하여 클라이언트 쪽 로깅을 사용하도록 설정하는 방법도 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-169">It also describes how to enable client-side logging using the facilities in one of the client libraries such as the Storage Client Library for .NET or the Azure SDK for Java.</span></span>

<span data-ttu-id="f5a56-170">"[종단 간 추적]" 섹션에서는 다양한 로그 파일 및 메트릭 데이터에 포함된 정보의 상관 관계를 지정하는 방법을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-170">The section "[End-to-end tracing]" describes how you can correlate the information contained in various log files and metrics data.</span></span>

<span data-ttu-id="f5a56-171">"[문제 해결 지침]" 섹션에서는 발생 가능한 몇 가지 일반적인 저장소 관련 문제에 대한 문제 해결 지침을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-171">The section "[Troubleshooting guidance]" provides troubleshooting guidance for some of the common storage-related issues you might encounter.</span></span>

<span data-ttu-id="f5a56-172">"[부록]"에는 Wireshark, Netmon 등의 기타 도구를 사용하여 네트워크 패킷 데이터를 분석하고, Fiddler를 사용하여 HTTP/HTTPS 메시징을 분석하며, .Microsoft Message Analyzer를 사용하여 로그 데이터의 상관 관계를 지정하는 방법을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-172">The "[Appendices]" include information about using other tools such as Wireshark and Netmon for analyzing network packet data, Fiddler for analyzing HTTP/HTTPS messages, and Microsoft Message Analyzer for correlating log data.</span></span>

## <span data-ttu-id="f5a56-173"><a name="monitoring-your-storage-service"></a>저장소 서비스 모니터링</span><span class="sxs-lookup"><span data-stu-id="f5a56-173"><a name="monitoring-your-storage-service"></a>Monitoring your storage service</span></span>
<span data-ttu-id="f5a56-174">Windows 성능 모니터링에 대해 잘 알고 있는 경우 저장소 메트릭은 Windows 성능 모니터 카운터의 Azure 저장소 버전이라고 생각하면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-174">If you are familiar with Windows performance monitoring, you can think of Storage Metrics as being an Azure Storage equivalent of Windows Performance Monitor counters.</span></span> <span data-ttu-id="f5a56-175">저장소 메트릭에서는 서비스 가용성, 처리할 총 요청 수, 처리할 성공한 요청의 백분율 등 포괄적인 메트릭(Windows 성능 모니터 용어로는 카운터) 집합이 제공됩니다. 사용 가능한 메트릭의 전체 목록은 MSDN의 <a href="http://msdn.microsoft.com/library/azure/hh343264.aspx" target="_blank">저장소 분석 메트릭 테이블 스키마</a>를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-175">In Storage Metrics you will find a comprehensive set of metrics (counters in Windows Performance Monitor terminology) such as service availability, total number of requests to service, or percentage of successful requests to service (for a full list of the available metrics, see <a href="http://msdn.microsoft.com/library/azure/hh343264.aspx" target="_blank">Storage Analytics Metrics Table Schema</a> on MSDN).</span></span> <span data-ttu-id="f5a56-176">저장소 서비스가 메트릭을 수집 및 집계하는 간격(1시간마다/1분마다)을 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-176">You can specify whether you want the storage service to collect and aggregate metrics every hour or every minute.</span></span> <span data-ttu-id="f5a56-177">메트릭을 사용하도록 설정하고 저장소 계정을 모니터링하는 방법에 대한 자세한 내용은 MSDN의 <a href="http://go.microsoft.com/fwlink/?LinkId=510865" target="_blank">저장소 메트릭 사용</a>을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-177">For more information about how to enable metrics and monitor your storage accounts, see <a href="http://go.microsoft.com/fwlink/?LinkId=510865" target="_blank">Enabling storage metrics</a> on MSDN.</span></span>

<span data-ttu-id="f5a56-178">Azure 클래식 포털에 표시할 시간 메트릭을 선택하고 시간 메트릭이 특정 임계값을 초과할 때마다 관리자에게 전자 메일로 알리는 규칙을 구성할 수 있습니다. 자세한 내용은 <a href="http://msdn.microsoft.com/library/azure/dn306638.aspx" target="_blank">Azure에서 경고 알림 받기 및 경고 규칙 관리</a>에서 확인하세요)</span><span class="sxs-lookup"><span data-stu-id="f5a56-178">You can choose which hourly metrics you want to display in the Azure Classic Portal and configure rules that notify administrators by email whenever an hourly metric exceeds a particular threshold (for more information, see the page <a href="http://msdn.microsoft.com/library/azure/dn306638.aspx" target="_blank">How to: Receive Alert Notifications and Manage Alert Rules in Azure</a>).</span></span> <span data-ttu-id="f5a56-179">저장소 서비스는 최상의 노력을 통해 메트릭을 수집하지만 모든 저장소 작업을 기록하지는 못합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-179">The storage service collects metrics using a best effort, but may not record every storage operation.</span></span>

<span data-ttu-id="f5a56-180">그림 2에는 저장소 계정에 대해 가용성, 총 요청 수, 평균 대기 시간 수 등의 메트릭을 확인할 수 있는 Azure 클래식 포털의 모니터 페이지가 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-180">Figure 2 below shows the Monitor page in the Azure Classic Portal where you can view metrics such as availability, total requests, and average latency numbers for a storage account.</span></span> <span data-ttu-id="f5a56-181">알림 규칙도 설정되어 가용성이 특정 수준 아래로 떨어지면 관리자에게 경고를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-181">A notification rule has also been set up to alert an administrator if availability drops below a certain level.</span></span> <span data-ttu-id="f5a56-182">이 데이터를 확인함으로써 조사할 수 있는 한 가지 영역은 Table service 성공 백분율이 100% 미만이라는 것입니다. 자세한 내용은 "[메트릭에 PercentSuccess가 낮게 표시되거나 분석 로그 항목에 트랜잭션 상태가 ClientOtherErrors 상태인 작업이 있음]" 섹션을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-182">From viewing this data, one possible area for investigation is the table service success percentage being below 100% (for more information, see the section "[Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors]").</span></span>

![][2]

<span data-ttu-id="f5a56-183">*그림 2 Azure 클래식 포털에서 저장소 메트릭 보기*</span><span class="sxs-lookup"><span data-stu-id="f5a56-183">*Figure 2 Viewing storage metrics in the Azure Classic Portal*</span></span>

<span data-ttu-id="f5a56-184">Azure 응용 프로그램을 지속적으로 모니터링한 후 다음을 수행하여 응용 프로그램이 정상 상태이며 성능이 적절한 수준인지를 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-184">You should continuously monitor your Azure applications to ensure they are healthy and performing as expected by:</span></span>

* <span data-ttu-id="f5a56-185">현재 데이터를 비교하고 Azure 저장소와 응용 프로그램 동작에 발생하는 중요한 변경 사항을 파악할 수 있도록 응용 프로그램에 대해 몇 가지 기본 메트릭을 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-185">Establishing some baseline metrics for application that will enable you to compare current data and identify any significant changes in the behavior of Azure storage and your application.</span></span> <span data-ttu-id="f5a56-186">대부분의 경우 기본 메트릭의 값은 응용 프로그램별로 다르며, 응용 프로그램 성능 테스트 시 해당 값을 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-186">The values of your baseline metrics will, in many cases, be application specific and you should establish them when you are performance testing your application.</span></span>
* <span data-ttu-id="f5a56-187">분 메트릭을 기록한 다음 오류 수나 요청 속도 급증 등의 비정상적인 현상과 예기치 않은 오류를 적극적으로 모니터링하는 데 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-187">Recording minute metrics and using them to monitor actively for unexpected errors and anomalies such as spikes in error counts or request rates.</span></span>
* <span data-ttu-id="f5a56-188">시간 메트릭을 기록한 다음 평균 오류 수와 요청 속도 등의 평균 값을 모니터링하는 데 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-188">Recording hourly metrics and using them to monitor average values such as average error counts and request rates.</span></span>
* <span data-ttu-id="f5a56-189">이 문서 뒷부분의 "[저장소 문제 진단]" 섹션에서 설명하는 진단 도구를 사용하여 잠재적 문제를 조사합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-189">Investigating potential issues using diagnostics tools as discussed later in the section "[Diagnosing storage issues]."</span></span>

<span data-ttu-id="f5a56-190">그림 3의 차트에는 시간 메트릭의 평균을 표시함으로써 활동 급증이 숨겨지는 방식이 표시되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-190">The charts in Figure 3 below illustrate how the averaging that occurs for hourly metrics can hide spikes in activity.</span></span> <span data-ttu-id="f5a56-191">시간 메트릭에는 요청 속도가 안정적인 것으로 표시되지만 분 메트릭에는 실제로 발생하는 요청 수의 증감이 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-191">The hourly metrics appear to show a steady rate of requests, while the minute metrics reveal the fluctuations that are really taking place.</span></span>

![][3]

<span data-ttu-id="f5a56-192">이 섹션의 나머지 부분에서는 모니터링해야 하는 메트릭과 그 이유에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-192">The remainder of this section describes what metrics you should monitor and why.</span></span>

### <span data-ttu-id="f5a56-193"><a name="monitoring-service-health"></a>서비스 상태 모니터링</span><span class="sxs-lookup"><span data-stu-id="f5a56-193"><a name="monitoring-service-health"></a>Monitoring service health</span></span>
<span data-ttu-id="f5a56-194">[Azure 클래식 포털](https://manage.windowsazure.com) 을 사용하여 전 세계 모든 Azure 지역의 저장소 서비스와 기타 Azure 서비스 상태를 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-194">You can use the [Azure Classic Portal](https://manage.windowsazure.com) to view the health of the Storage service (and other Azure services) in all the Azure regions around the world.</span></span> <span data-ttu-id="f5a56-195">그러면 응용 프로그램에서 사용 중인 지역의 저장소 서비스가 통제 범위를 벗어난 문제의 영향을 받는지 즉시 파악할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-195">This enables you to see immediately if an issue outside of your control is affecting the Storage service in the region you use for your application.</span></span>

<span data-ttu-id="f5a56-196">Azure 클래식 포털에서는 여러 Azure 서비스에 영향을 주는 문제에 대한 알림도 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-196">The Azure Classic Portal can also provide with notifications of incidents that affect the various Azure services.</span></span>
<span data-ttu-id="f5a56-197">참고: 이전에는 이 정보가 Azure 서비스 대시보드(<a href="http://status.azure.com" target="_blank">http://status.azure.com</a>)에서 기록 데이터와 함께 제공되었습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-197">Note: This information was previously available, along with historical data, on the Azure Service Dashboard at <a href="http://status.azure.com" target="_blank">http://status.azure.com</a>.</span></span>

<span data-ttu-id="f5a56-198">Azure 클래식 포털은 Azure 데이터 센터 내부에서 상태 정보를 수집하는 반면(직접적인 상호 작용 모니터링) 간접적인 방식을 도입해 여러 위치에서 Azure 호스팅 웹 응용 프로그램에 주기적으로 액세스하는 가상 트랜잭션을 생성할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-198">While the Azure Classic Portal collects health information from inside the Azure datacenters (inside-out monitoring), you could also consider adopting an outside-in approach to generate synthetic transactions that periodically access your Azure-hosted web application from multiple locations.</span></span> <span data-ttu-id="f5a56-199">이러한 간접적인 상호 작용 방식의 예로는 <a href="http://www.keynote.com/solutions/monitoring/web-monitoring" target="_blank">Keynote</a>, <a href="https://www.gomeznetworks.com/?g=1" target="_blank">Gomez</a> 및 Visual Studio Team Services용 Application Insights에서 제공하는 서비스가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-199">The services offered by <a href="http://www.keynote.com/solutions/monitoring/web-monitoring" target="_blank">Keynote</a>, <a href="https://www.gomeznetworks.com/?g=1" target="_blank">Gomez</a>, and Application Insights for Visual Studio Team Services are examples of this outside-in approach.</span></span> <span data-ttu-id="f5a56-200">Visual Studio Team Services용 Application Insights에 대한 자세한 내용은 "[부록 5: Visual Studio Team Services용 Application Insights를 사용한 모니터링]”을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-200">For more information about Application Insights for Visual Studio Team Services, see the appendix "[Appendix 5: Monitoring with Application Insights for Visual Studio Team Services]."</span></span>

### <span data-ttu-id="f5a56-201"><a name="monitoring-capacity"></a>용량 모니터링</span><span class="sxs-lookup"><span data-stu-id="f5a56-201"><a name="monitoring-capacity"></a>Monitoring capacity</span></span>
<span data-ttu-id="f5a56-202">일반적으로는 저장되는 데이터 중 Blob가 가장 큰 비율을 차지하므로, 저장소 메트릭은 Blob 서비스의 용량 메트릭만을 저장합니다. 이 문서 작성 당시에는 저장소 메트릭을 사용하여 테이블과 큐의 용량을 모니터링할 수 없었습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-202">Storage Metrics only stores capacity metrics for the blob service because blobs typically account for the largest proportion of stored data (at the time of writing, it is not possible to use Storage Metrics to monitor the capacity of your tables and queues).</span></span> <span data-ttu-id="f5a56-203">Blob service에 대해 모니터링을 사용하도록 설정한 경우 **$MetricsCapacityBlob** 테이블에서 이 데이터를 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-203">You can find this data in the **$MetricsCapacityBlob** table if you have enabled monitoring for the Blob service.</span></span> <span data-ttu-id="f5a56-204">저장소 메트릭은 매일 한 번씩 이 데이터를 기록하며, **RowKey**의 값을 사용하여 행에 사용자 데이터(**데이터** 값) 또는 분석 데이터(**분석** 값)와 관련된 엔터티가 포함되어 있는지 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-204">Storage Metrics records this data once per day, and you can use the value of the **RowKey** to determine whether the row contains an entity that relates to user data (value **data**) or analytics data (value **analytics**).</span></span> <span data-ttu-id="f5a56-205">저장되는 각 엔터티에는 사용된 저장소 공간(바이트 단위로 측정되는 **용량**)과 저장소 계정에서 사용되는 현재 컨테이너 수(**ContainerCount**) 및 Blob 수(**ObjectCount**)에 대한 정보가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-205">Each stored entity contains information about the amount of storage used (**Capacity** measured in bytes) and the current number of containers (**ContainerCount**) and blobs (**ObjectCount**) in use in the storage account.</span></span> <span data-ttu-id="f5a56-206">**$MetricsCapacityBlob** 테이블에 저장되는 용량 메트릭에 대한 자세한 내용은 MSDN의 <a href="http://msdn.microsoft.com/library/azure/hh343264.aspx" target="_blank">저장소 분석 메트릭 테이블 스키마</a>를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-206">For more information about the capacity metrics stored in the **$MetricsCapacityBlob** table, see <a href="http://msdn.microsoft.com/library/azure/hh343264.aspx" target="_blank">Storage Analytics Metrics Table Schema</a> on MSDN.</span></span>

> [!NOTE]
> <span data-ttu-id="f5a56-207">저장소 계정의 용량 제한에 도달했다는 경고를 조기에 받으려면 이러한 값을 모니터링해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-207">You should monitor these values for an early warning that you are approaching the capacity limits of your storage account.</span></span> <span data-ttu-id="f5a56-208">Azure 클래식 포털의 저장소 계정 **모니터** 페이지에서 집계 저장소 사용량이 지정한 임계값보다 크거나 작아지면 알림을 보내는 경고 규칙을 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-208">In the Azure Classic Portal, on the **Monitor** page for your storage account, you can add alert rules to notify you if aggregate storage use exceeds or falls below thresholds that you specify.</span></span>
> 
> 

<span data-ttu-id="f5a56-209">Blob 등의 다양한 저장소 개체 크기를 예측하는 방법에 대한 도움말은 <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx" target="_blank">Azure 저장소 요금 청구 방식 이해 - 대역폭, 트랜잭션 및 용량</a> 블로그 게시물을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-209">For help estimating the size of various storage objects such as blobs, see the blog post <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx" target="_blank">Understanding Azure Storage Billing – Bandwidth, Transactions, and Capacity</a>.</span></span>

### <span data-ttu-id="f5a56-210"><a name="monitoring-availability"></a>가용성 모니터링</span><span class="sxs-lookup"><span data-stu-id="f5a56-210"><a name="monitoring-availability"></a>Monitoring availability</span></span>
<span data-ttu-id="f5a56-211">시간 또는 분 메트릭 테이블(**$MetricsHourPrimaryTransactionsBlob**, **$MetricsHourPrimaryTransactionsTable**, **$MetricsHourPrimaryTransactionsQueue**, **$MetricsMinutePrimaryTransactionsBlob**, **$MetricsMinutePrimaryTransactionsTable**, **$MetricsMinutePrimaryTransactionsQueue**, **$MetricsCapacityBlob**)의 **가용성** 열 값을 모니터링하여 저장소 계정의 저장소 서비스 가용성을 모니터링해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-211">You should monitor the availability of the storage services in your storage account by monitoring the value in the **Availability** column in the hourly or minute metrics tables — **$MetricsHourPrimaryTransactionsBlob**, **$MetricsHourPrimaryTransactionsTable**, **$MetricsHourPrimaryTransactionsQueue**, **$MetricsMinutePrimaryTransactionsBlob**, **$MetricsMinutePrimaryTransactionsTable**, **$MetricsMinutePrimaryTransactionsQueue**, **$MetricsCapacityBlob**.</span></span> <span data-ttu-id="f5a56-212">**가용성** 열에는 행이 표시하는 API 작업이나 서비스의 가용성을 나타내는 백분율 값이 포함되어 있습니다. 행에 서비스 또는 특정 API 작업 전체의 메트릭이 포함되어 있으면 **RowKey**가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-212">The **Availability** column contains a percentage value that indicates the availability of the service or the API operation represented by the row (the **RowKey** shows if the row contains metrics for the service as a whole or for a specific API operation).</span></span>

<span data-ttu-id="f5a56-213">값이 100%보다 작으면 일부 저장소 요청이 실패함을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-213">Any value less than 100% indicates that some storage requests are failing.</span></span> <span data-ttu-id="f5a56-214">메트릭 데이터에서 **ServerTimeoutError**와 같이 오류 유형이 다른 요청 수를 표시하는 기타 열을 검사하여 해당 요청이 실패하는 이유를 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-214">You can see why they are failing by examining the other columns in the metrics data that show the numbers of requests with different error types such as **ServerTimeoutError**.</span></span> <span data-ttu-id="f5a56-215">서비스가 요청을 보다 효율적으로 부하 분산하기 위해 파티션을 이동하는 동안 일시적으로 서버 시간이 초과되는 등의 경우에는 **가용성**이 잠시 동안 100%보다 낮아질 수 있습니다. 클라이언트 응용 프로그램의 다시 시도 논리가 이와 같은 일시적인 상황을 처리해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-215">You should expect to see **Availability** fall temporarily below 100% for reasons such as transient server timeouts while the service moves partitions to better load-balance request; the retry logic in your client application should handle such intermittent conditions.</span></span> <span data-ttu-id="f5a56-216"><a href="http://msdn.microsoft.com/library/azure/hh343260.aspx" target="_blank"></a> 페이지에는 저장소 메트릭의 **가용성** 계산에 포함되는 트랜잭션 유형이 나열됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-216">The page <a href="http://msdn.microsoft.com/library/azure/hh343260.aspx" target="_blank"></a> lists the transaction types that Storage Metrics includes in its **Availability** calculation.</span></span>

<span data-ttu-id="f5a56-217">Azure 클래식 포털의 저장소 계정 **모니터** 페이지에서 서비스의 **가용성**이 지정한 임계값보다 작아지면 알림을 보내는 경고 규칙을 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-217">In the Azure Classic Portal, on the **Monitor** page for your storage account, you can add alert rules to notify you if **Availability** for a service falls below a threshold that you specify.</span></span>

<span data-ttu-id="f5a56-218">이 가이드의 "[문제 해결 지침]" 섹션에서는 가용성과 관련된 몇 가지 일반적인 저장소 서비스 문제에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-218">The "[Troubleshooting guidance]" section of this guide describes some common storage service issues related to availability.</span></span>

### <span data-ttu-id="f5a56-219"><a name="monitoring-performance"></a>성능 모니터링</span><span class="sxs-lookup"><span data-stu-id="f5a56-219"><a name="monitoring-performance"></a>Monitoring performance</span></span>
<span data-ttu-id="f5a56-220">저장소 서비스의 성능을 모니터링하려면 시간 및 분 메트릭 테이블에서 다음 메트릭을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-220">To monitor the performance of the storage services, you can use the following metrics from the hourly and minute metrics tables.</span></span>

* <span data-ttu-id="f5a56-221">**AverageE2ELatency** 및 **AverageServerLatency**의 값은 저장소 서비스 또는 API 작업 유형이 요청을 처리하는 데 걸리는 평균 시간을 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-221">The values in the **AverageE2ELatency** and **AverageServerLatency** show the average time the storage service or API operation type is taking to process requests.</span></span> <span data-ttu-id="f5a56-222">**AverageE2ELatency**는 요청을 읽고 응답을 보내는 데 걸리는 시간과 요청을 처리하는 시간을 포함하는 종단 간 대기 시간을 측정한 것으로, 요청이 저장소 서비스에 도달한 후의 네트워크 대기 시간을 포함합니다. **AverageServerLatency**는 처리 시간만 측정한 것으로, 클라이언트와의 통신과 관련한 네트워크 대기 시간은 제외됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-222">**AverageE2ELatency** is a measure of end-to-end latency that includes the time taken to read the request and send the response in addition to the time taken to process the request (therefore includes network latency once the request reaches the storage service); **AverageServerLatency** is a measure of just the processing time and therefore excludes any network latency related to communicating with the client.</span></span> <span data-ttu-id="f5a56-223">이 두 값이 크게 다를 수 있는 이유에 대한 설명은 이 가이드 뒷부분의 "[메트릭에서 AverageE2ELatency는 높게 표시되고 AverageServerLatency는 낮게 표시됨]" 섹션을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-223">See the section "[Metrics show high AverageE2ELatency and low AverageServerLatency]" later in this guide for a discussion of why there might be a significant difference between these two values.</span></span>
* <span data-ttu-id="f5a56-224">**TotalIngress** 및 **TotalEgress** 열의 값은 저장소 서비스로 들어오거나 저장소 서비스에서 나가는 총 데이터 양 또는 특정 API 작업 유형을 통과하는 총 데이터 양(바이트)을 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-224">The values in the **TotalIngress** and **TotalEgress** columns show the total amount of data, in bytes, coming in to and going out of your storage service or through a specific API operation type.</span></span>
* <span data-ttu-id="f5a56-225">**TotalRequests** 열의 값은 저장소 서비스 또는 API 작업이 수신하는 총 요청 수를 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-225">The values in the **TotalRequests** column show the total number of requests that the storage service of API operation is receiving.</span></span> <span data-ttu-id="f5a56-226">**TotalRequests** 는 저장소 서비스가 수신하는 총 요청 수입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-226">**TotalRequests** is the total number of requests that the storage service receives.</span></span>

<span data-ttu-id="f5a56-227">일반적으로는 이러한 값이 예기치 않게 변경되는지 여부를 모니터링하여 조사가 필요한 문제가 있는지 파악합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-227">Typically, you will monitor for unexpected changes in any of these values as an indicator that you have an issue that requires investigation.</span></span>

<span data-ttu-id="f5a56-228">Azure 클래식 포털의 저장소 계정 **모니터** 페이지에서 해당 서비스의 성능 메트릭이 지정한 임계값보다 크거나 작아지면 알림을 보내는 경고 규칙을 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-228">In the Azure Classic Portal, on the **Monitor** page for your storage account, you can add alert rules to notify you if any of the performance metrics for this service fall below or exceed a threshold that you specify.</span></span>

<span data-ttu-id="f5a56-229">이 가이드의 "[문제 해결 지침]" 섹션에서는 성능과 관련된 몇 가지 일반적인 저장소 서비스 문제에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-229">The "[Troubleshooting guidance]" section of this guide describes some common storage service issues related to performance.</span></span>

## <span data-ttu-id="f5a56-230"><a name="diagnosing-storage-issues"></a>저장소 문제 진단</span><span class="sxs-lookup"><span data-stu-id="f5a56-230"><a name="diagnosing-storage-issues"></a>Diagnosing storage issues</span></span>
<span data-ttu-id="f5a56-231">여러 가지 방법으로 다음과 같은 응용 프로그램의 문제를 파악할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-231">There are a number of ways that you might become aware of a problem or issue in your application, these include:</span></span>

* <span data-ttu-id="f5a56-232">응용 프로그램을 중단하거나 작동을 중지하는 중대한 오류</span><span class="sxs-lookup"><span data-stu-id="f5a56-232">A major failure that causes the application to crash or to stop working.</span></span>
* <span data-ttu-id="f5a56-233">메트릭의 값이 이전 섹션("[저장소 서비스 모니터링]")에서 설명한 모니터링 중인 메트릭의 기본 값에서 크게 변경되는 현상</span><span class="sxs-lookup"><span data-stu-id="f5a56-233">Significant changes from baseline values in the metrics you are monitoring as described in the previous section "[Monitoring your storage service]."</span></span>
* <span data-ttu-id="f5a56-234">일부 특정 작업이 정상적으로 완료되지 않거나 일부 기능이 작동하지 않는다는 응용 프로그램 사용자의 보고</span><span class="sxs-lookup"><span data-stu-id="f5a56-234">Reports from users of your application that some particular operation didn't complete as expected or that some feature is not working.</span></span>
* <span data-ttu-id="f5a56-235">응용 프로그램 내에서 생성되어 로그 파일이나 일부 기타 알림 방법을 통해 표시되는 오류</span><span class="sxs-lookup"><span data-stu-id="f5a56-235">Errors generated within your application that appear in log files or through some other notification method.</span></span>

<span data-ttu-id="f5a56-236">일반적으로 Azure 저장소 서비스 관련 문제는 크게 다음의 네 가지 범주 중 하나에 속합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-236">Typically, issues related to Azure storage services fall into one of four broad categories:</span></span>

* <span data-ttu-id="f5a56-237">응용 프로그램에 성능 문제가 있습니다(사용자가 보고했거나 성능 메트릭의 변경으로 인해 확인됨).</span><span class="sxs-lookup"><span data-stu-id="f5a56-237">Your application has a performance issue, either reported by your users, or revealed by changes in the performance metrics.</span></span>
* <span data-ttu-id="f5a56-238">하나 이상의 지역에서 Azure 저장소 인프라에 문제가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-238">There is a problem with the Azure Storage infrastructure in one or more regions.</span></span>
* <span data-ttu-id="f5a56-239">응용 프로그램에 오류가 발생합니다(사용자가 보고했거나 모니터링하는 오류 수 메트릭 중 하나의 값 증가로 인해 확인됨).</span><span class="sxs-lookup"><span data-stu-id="f5a56-239">Your application is encountering an error, either reported by your users, or revealed by an increase in one of the error count metrics you monitor.</span></span>
* <span data-ttu-id="f5a56-240">개발 및 테스트 중에 로컬 저장소 에뮬레이터를 사용 중일 수 있습니다. 이 경우 저장소 에뮬레이터 사용과 관련된 일부 문제가 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-240">During development and test, you may be using the local storage emulator; you may encounter some issues that relate specifically to usage of the storage emulator.</span></span>

<span data-ttu-id="f5a56-241">다음 섹션에서는 이러한 각 4개 범주의 문제를 진단하고 해결하려면 따라야 하는 단계를 대략적으로 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-241">The following sections outline the steps you should follow to diagnose and troubleshoot issues in each of these four categories.</span></span> <span data-ttu-id="f5a56-242">이 가이드 뒷부분의 "[문제 해결 지침]" 섹션에서는 발생 가능한 몇 가지 일반적인 문제에 대해 자세히 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-242">The section "[Troubleshooting guidance]" later in this guide provides more detail for some common issues you may encounter.</span></span>

### <span data-ttu-id="f5a56-243"><a name="service-health-issues"></a>서비스 상태 문제</span><span class="sxs-lookup"><span data-stu-id="f5a56-243"><a name="service-health-issues"></a>Service health issues</span></span>
<span data-ttu-id="f5a56-244">서비스 상태 문제는 대개 직접 해결할 수가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-244">Service health issues are typically outside of your control.</span></span> <span data-ttu-id="f5a56-245">Azure 클래식 포털에서는 저장소 서비스를 포함한 Azure 서비스에서 지속적으로 발생하는 문제와 관련된 정보를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-245">The Azure Classic Portal provides information about any ongoing issues with Azure services including storage services.</span></span> <span data-ttu-id="f5a56-246">저장소 계정을 만들 때 읽기 권한 지역 중복 저장소를 신청한 경우 기본 위치에서 데이터를 사용할 수 없게 되면 응용 프로그램이 일시적으로 보조 위치의 읽기 전용 복사본을 사용하도록 전환할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-246">If you opted for Read-Access Geo-Redundant Storage when you created your storage account, then in the event of your data being unavailable in the primary location, your application could switch temporarily to the read-only copy in the secondary location.</span></span> <span data-ttu-id="f5a56-247">이렇게 하려면 응용 프로그램이 기본 저장소 위치와 보조 저장소 위치 간을 전환할 수 있어야 하며 읽기 전용 데이터를 사용하여 기능 제한 모드에서도 작동할 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-247">To do this, your application must be able to switch between using the primary and secondary storage locations, and be able to work in a reduced functionality mode with read-only data.</span></span> <span data-ttu-id="f5a56-248">Azure 저장소 클라이언트 라이브러리에서는 기본 저장소에서 읽기가 실패하는 경우 보조 저장소에서 읽을 수 있는 다시 시도 정책을 정의할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-248">The Azure Storage Client libraries allow you to define a retry policy that can read from secondary storage in case a read from primary storage fails.</span></span> <span data-ttu-id="f5a56-249">또한 응용 프로그램은 보조 위치의 데이터가 기본 위치와 일치함을 인식할 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-249">Your application also needs to be aware that the data in the secondary location is eventually consistent.</span></span> <span data-ttu-id="f5a56-250">자세한 내용은 <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/04/introducing-read-access-geo-replicated-storage-ra-grs-for-windows-azure-storage.aspx" target="_blank">Azure 저장소 중복성 옵션 및 읽기 액세스 지역 중복 저장소</a> 블로그 게시물을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-250">For more information, see the blog post <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/04/introducing-read-access-geo-replicated-storage-ra-grs-for-windows-azure-storage.aspx" target="_blank">Azure Storage Redundancy Options and Read Access Geo Redundant Storage</a>.</span></span>

### <span data-ttu-id="f5a56-251"><a name="performance-issues"></a>성능 문제</span><span class="sxs-lookup"><span data-stu-id="f5a56-251"><a name="performance-issues"></a>Performance issues</span></span>
<span data-ttu-id="f5a56-252">응용 프로그램의 성능은 특히 사용자 측면에서는 주관적일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-252">The performance of an application can be subjective, especially from a user perspective.</span></span> <span data-ttu-id="f5a56-253">따라서 성능 문제가 발생할 수 있는 영역을 파악하는 데 도움이 되는 기본 메트릭을 마련해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-253">Therefore, it is important to have baseline metrics available to help you identify where there might be a performance issue.</span></span> <span data-ttu-id="f5a56-254">클라이언트 응용 프로그램 측면에서는 여러 가지 요인이 Azure 저장소 서비스의 성능에 영향을 줄 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-254">Many factors might affect the performance of an Azure storage service from the client application perspective.</span></span> <span data-ttu-id="f5a56-255">이러한 요인은 저장소 서비스, 클라이언트 또는 네트워크 인프라에 적용될 수 있으므로 성능 문제가 시작된 위치를 파악하는 전략이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-255">These factors might operate in the storage service, in the client, or in the network infrastructure; therefore it is important to have a strategy for identifying the origin of the performance issue.</span></span>

<span data-ttu-id="f5a56-256">메트릭을 통해 성능 문제의 원인일 가능성이 높은 위치를 파악한 후에는 로그 파일을 사용하여 문제를 추가로 진단하고 해결하기 위한 세부 정보를 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-256">After you have identified the likely location of the cause of the performance issue from the metrics, you can then use the log files to find detailed information to diagnose and troubleshoot the problem further.</span></span>

<span data-ttu-id="f5a56-257">이 가이드 뒷부분의 "[문제 해결 지침]" 섹션에서는 발생 가능한 몇 가지 일반적인 성능 관련 문제에 대해 자세히 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-257">The section "[Troubleshooting guidance]" later in this guide provides more information about some common performance related issues you may encounter.</span></span>

### <span data-ttu-id="f5a56-258"><a name="diagnosing-errors"></a>오류 진단</span><span class="sxs-lookup"><span data-stu-id="f5a56-258"><a name="diagnosing-errors"></a>Diagnosing errors</span></span>
<span data-ttu-id="f5a56-259">응용 프로그램 사용자가 클라이언트 응용 프로그램에서 보고한 오류에 대해 알려오는 경우가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-259">Users of your application may notify you of errors reported by the client application.</span></span> <span data-ttu-id="f5a56-260">저장소 메트릭은 **NetworkError**, **ClientTimeoutError**, **AuthorizationError** 등의 저장소 서비스에서 발생하는 여러 오류 유형의 수도 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-260">Storage Metrics also records counts of different error types from your storage services such as **NetworkError**, **ClientTimeoutError**, or **AuthorizationError**.</span></span> <span data-ttu-id="f5a56-261">저장소 메트릭은 서로 다른 오류 유형의 수만 기록하지만 서버 쪽, 클라이언트 쪽 및 네트워크 로그를 검사하여 개별 요청에 대한 추가 정보를 얻을 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-261">While Storage Metrics only records counts of different error types, you can obtain more detail about individual requests by examining server-side, client-side, and network logs.</span></span> <span data-ttu-id="f5a56-262">일반적으로는 저장소 서비스에서 반환하는 HTTP 상태 코드를 통해 요청이 실패한 이유를 파악할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-262">Typically, the HTTP status code returned by the storage service will give an indication of why the request failed.</span></span>

> [!NOTE]
> <span data-ttu-id="f5a56-263">일부 일시적인 오류 확인을 기억하세요: 예, 일시적인 네트워크 조건으로 인한 오류나 응용 프로그램 오류를 예로 들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-263">Remember that you should expect to see some intermittent errors: for example, errors due to transient network conditions, or application errors.</span></span>
> 
> 

<span data-ttu-id="f5a56-264">MSDN의 다음 리소스에서 저장소 관련 상태 및 오류 코드를 파악할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-264">The following resources on MSDN are useful for understanding storage-related status and error codes:</span></span>

* <span data-ttu-id="f5a56-265"><a href="http://msdn.microsoft.com/library/azure/dd179357.aspx" target="_blank">공통 REST API 오류 코드</a></span><span class="sxs-lookup"><span data-stu-id="f5a56-265"><a href="http://msdn.microsoft.com/library/azure/dd179357.aspx" target="_blank">Common REST API Error Codes</a></span></span>
* <span data-ttu-id="f5a56-266"><a href="http://msdn.microsoft.com/library/azure/dd179439.aspx" target="_blank">Blob 서비스 오류 코드</a></span><span class="sxs-lookup"><span data-stu-id="f5a56-266"><a href="http://msdn.microsoft.com/library/azure/dd179439.aspx" target="_blank">Blob Service Error Codes</a></span></span>
* <span data-ttu-id="f5a56-267"><a href="http://msdn.microsoft.com/library/azure/dd179446.aspx" target="_blank">큐 서비스 오류 코드</a></span><span class="sxs-lookup"><span data-stu-id="f5a56-267"><a href="http://msdn.microsoft.com/library/azure/dd179446.aspx" target="_blank">Queue Service Error Codes</a></span></span>
* <span data-ttu-id="f5a56-268"><a href="http://msdn.microsoft.com/library/azure/dd179438.aspx" target="_blank">테이블 서비스 오류 코드</a></span><span class="sxs-lookup"><span data-stu-id="f5a56-268"><a href="http://msdn.microsoft.com/library/azure/dd179438.aspx" target="_blank">Table Service Error Codes</a></span></span>

### <span data-ttu-id="f5a56-269"><a name="storage-emulator-issues"></a>저장소 에뮬레이터 문제</span><span class="sxs-lookup"><span data-stu-id="f5a56-269"><a name="storage-emulator-issues"></a>Storage emulator issues</span></span>
<span data-ttu-id="f5a56-270">Azure SDK에는 개발 워크스테이션에서 실행할 수 있는 저장소 에뮬레이터가 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-270">The Azure SDK includes a storage emulator you can run on a development workstation.</span></span> <span data-ttu-id="f5a56-271">Azure 저장소 서비스의 동작을 대부분 시뮬레이트하는 이 에뮬레이터는 개발 및 테스트 중에 사용하면 유용하며, Azure 구독 및 Azure 저장소 계정이 없어도 Azure 저장소 서비스를 사용하는 응용 프로그램을 실행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-271">This emulator simulates most of the behavior of the Azure storage services and is useful during development and test, enabling you to run applications that use Azure storage services without the need for an Azure subscription and an Azure storage account.</span></span>

<span data-ttu-id="f5a56-272">이 가이드의 "[문제 해결 지침]" 섹션에서는 저장소 에뮬레이터 사용 시 발생하는 몇 가지 일반적인 문제에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-272">The "[Troubleshooting guidance]" section of this guide describes some common issues encountered using the storage emulator.</span></span>

### <span data-ttu-id="f5a56-273"><a name="storage-logging-tools"></a>저장소 로깅 도구</span><span class="sxs-lookup"><span data-stu-id="f5a56-273"><a name="storage-logging-tools"></a>Storage logging tools</span></span>
<span data-ttu-id="f5a56-274">저장소 로깅은 Azure 저장소 계정의 저장소 요청에 대한 서버 쪽 로깅 기능을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-274">Storage Logging provides server-side logging of storage requests in your Azure storage account.</span></span> <span data-ttu-id="f5a56-275">서버 쪽 로깅을 사용하도록 설정하고 로그 데이터에 액세스하는 방법에 대한 자세한 내용은 MSDN의 <a href="http://go.microsoft.com/fwlink/?LinkId=510867" target="_blank">서버 쪽 로깅 사용</a>을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-275">For more information about how to enable server-side logging and access the log data, see <a href="http://go.microsoft.com/fwlink/?LinkId=510867" target="_blank">Using server-side logging</a> on MSDN.</span></span>

<span data-ttu-id="f5a56-276">.NET용 저장소 클라이언트 라이브러리에서는 응용 프로그램이 수행하는 저장소 작업과 관련된 클라이언트 쪽 로그 데이터를 수집할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-276">The Storage Client Library for .NET enables you to collect client-side log data that relates to storage operations performed by your application.</span></span> <span data-ttu-id="f5a56-277">클라이언트 쪽 로깅을 사용하도록 설정하고 로그 데이터에 액세스하는 방법에 대한 자세한 내용은 MSDN의 <a href="http://go.microsoft.com/fwlink/?LinkId=510868" target="_blank">저장소 클라이언트 라이브러리를 사용한 클라이언트 쪽 로깅</a>을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-277">For more information about how to enable client-side logging and access the log data, see <a href="http://go.microsoft.com/fwlink/?LinkId=510868" target="_blank">Client-side logging using the Storage Client Library</a> on MSDN.</span></span>

> [!NOTE]
> <span data-ttu-id="f5a56-278">SAS 권한 부여 실패 등의 특정 상황에서는 사용자가 오류를 보고하는데 서버 쪽 저장소 로그에서 요청 데이터를 찾을 수 없는 경우도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-278">In some circumstances (such as SAS authorization failures), a user may report an error for which you can find no request data in the server-side Storage logs.</span></span> <span data-ttu-id="f5a56-279">이러한 경우에는 저장소 클라이언트 라이브러리의 로깅 기능을 사용하여 문제의 원인이 클라이언트에 있는지 조사하거나, 네트워크 모니터링 도구를 사용하여 네트워크를 조사할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-279">You can use the logging capabilities of the Storage Client Library to investigate if the cause of the issue is on the client or use network monitoring tools to investigate the network.</span></span>
> 
> 

### <span data-ttu-id="f5a56-280"><a name="using-network-logging-tools"></a>네트워크 로깅 도구 사용</span><span class="sxs-lookup"><span data-stu-id="f5a56-280"><a name="using-network-logging-tools"></a>Using network logging tools</span></span>
<span data-ttu-id="f5a56-281">클라이언트와 서버 간의 트래픽을 캡처하여 클라이언트와 서버가 교환하는 데이터 및 기본 네트워크 상태에 대한 상세 정보를 제공할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-281">You can capture the traffic between the client and server to provide detailed information about the data the client and server are exchanging and the underlying network conditions.</span></span> <span data-ttu-id="f5a56-282">다음과 같은 유용한 네트워크 로깅 도구를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-282">Useful network logging tools include:</span></span>

* <span data-ttu-id="f5a56-283">Fiddler(<a href="http://www.telerik.com/fiddler" target="_blank">http://www.telerik.com/fiddler</a>)는 HTTP/HTTPS 요청 및 응답 메시지의 헤더 및 페이로드 데이터를 검사하는 데 사용할 수 있는 무료 웹 디버깅 프록시입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-283">Fiddler (<a href="http://www.telerik.com/fiddler" target="_blank">http://www.telerik.com/fiddler</a>) is a free web debugging proxy that enables you to examine the headers and payload data of HTTP and HTTPS request and response messages.</span></span> <span data-ttu-id="f5a56-284">자세한 내용은 “[부록1: Fiddler를 사용하여 HTTP 및 HTTPS 트래픽 캡처]”를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-284">For more information, see "[Appendix 1: Using Fiddler to capture HTTP and HTTPS traffic]".</span></span>
* <span data-ttu-id="f5a56-285">Microsoft 네트워크 모니터(Netmon)(<a href="http://www.microsoft.com/download/details.aspx?id=4865" target="_blank">http://www.microsoft.com/download/details.aspx?id=4865</a>) 및 Wireshark(<a href="http://www.wireshark.org/" target="_blank">http://www.wireshark.org/</a>)는 광범위한 네트워크 프로토콜에 대한 상세 패킷 정보를 확인하는 데 사용할 수 있는 무료 네트워크 프로토콜 분석기입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-285">Microsoft Network Monitor (Netmon) (<a href="http://www.microsoft.com/download/details.aspx?id=4865" target="_blank">http://www.microsoft.com/download/details.aspx?id=4865</a>) and Wireshark (<a href="http://www.wireshark.org/" target="_blank">http://www.wireshark.org/</a>) are free network protocol analyzers that enable you to view detailed packet information for a wide range of network protocols.</span></span> <span data-ttu-id="f5a56-286">Wireshark에 대한 자세한 내용은 "[부록 2: Wireshark를 사용하여 네트워크 트래픽 캡처]"를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-286">For more information about Wireshark, see "[Appendix 2: Using Wireshark to capture network traffic]".</span></span>
* <span data-ttu-id="f5a56-287">Microsoft Message Analyzer는 Netmon을 대체하는 Microsoft의 도구로, 네트워크 패킷 데이터를 캡처할 뿐 아니라 다른 도구에서 캡처한 로그 데이터를 확인 및 분석할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-287">Microsoft Message Analyzer is a tool from Microsoft that supersedes Netmon and that in addition to capturing network packet data, helps you to view and analyze the log data captured from other tools.</span></span> <span data-ttu-id="f5a56-288">자세한 내용은 "[부록3: Microsoft 메시지 분석기를 사용하여 네트워크 트래픽 캡처]"를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-288">For more information, see "[Appendix 3: Using Microsoft Message Analyzer to capture network traffic]".</span></span>
* <span data-ttu-id="f5a56-289">기본 연결 테스트를 수행하여 클라이언트 컴퓨터가 네트워크를 통해 Azure 저장소 서비스에 연결할 수 있는지를 확인하려는 경우 클라이언트에서 표준 **ping** 도구를 통해서는 이 작업을 수행할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-289">If you want to perform a basic connectivity test to check that your client machine can connect to the Azure storage service over the network, you cannot do this using the standard **ping** tool on the client.</span></span> <span data-ttu-id="f5a56-290">그러나 **tcping** 도구를 사용하면 연결을 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-290">However, you can use the **tcping** tool to check connectivity.</span></span> <span data-ttu-id="f5a56-291">**Tcping**은 <a href="http://www.elifulkerson.com/projects/tcping.php" target="_blank">http://www.elifulkerson.com/projects/tcping.php</a>에서 다운로드할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-291">**Tcping** is available for download at <a href="http://www.elifulkerson.com/projects/tcping.php" target="_blank">http://www.elifulkerson.com/projects/tcping.php</a>.</span></span>

<span data-ttu-id="f5a56-292">대부분의 경우 저장소 로깅 및 저장소 클라이언트 라이브러리의 로그 데이터로 문제를 충분히 진단할 수 있습니다. 그러나 이러한 네트워크 로깅 도구가 제공할 수 있는 상세 정보가 필요한 경우도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-292">In many cases, the log data from Storage Logging and the Storage Client Library will be sufficient to diagnose an issue, but in some scenarios, you may need the more detailed information that these network logging tools can provide.</span></span> <span data-ttu-id="f5a56-293">예를 들어 Fiddler를 통해 HTTP 및 HTTPS 메시지를 확인하면 저장소 서비스가 보내고 받는 헤더 및 페이로드 데이터를 볼 수 있으므로 클라이언트 응용 프로그램이 저장소 작업을 다시 시도하는 방법을 검사할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-293">For example, using Fiddler to view HTTP and HTTPS messages enables you to view header and payload data sent to and from the storage services, which would enable you to examine how a client application retries storage operations.</span></span> <span data-ttu-id="f5a56-294">Wireshark 등의 프로토콜 분석기는 패킷 수준에서 작동하여 TCP 데이터를 확인할 수 있도록 합니다. 따라서 패킷 손실 및 연결 끊김 문제를 해결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-294">Protocol analyzers such as Wireshark operate at the packet level enabling you to view TCP data, which would enable you to troubleshoot lost packets and connectivity issues.</span></span> <span data-ttu-id="f5a56-295">메시지 분석기는 HTTP 및 TCP 계층에서 모두 작동할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-295">Message Analyzer can operate at both HTTP and TCP layers.</span></span>

## <span data-ttu-id="f5a56-296"><a name="end-to-end-tracing"></a>종단 간 추적</span><span class="sxs-lookup"><span data-stu-id="f5a56-296"><a name="end-to-end-tracing"></a>End-to-end tracing</span></span>
<span data-ttu-id="f5a56-297">다양한 로그 파일을 사용하는 종단 간 추적은 잠재적 문제를 조사하는 데 유용한 기술입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-297">End-to-end tracing using a variety of log files is a useful technique for investigating potential issues.</span></span> <span data-ttu-id="f5a56-298">메트릭 데이터의 날짜/시간 정보를 통해 로그 파일에서 문제를 해결하는 데 도움이 되는 상세 정보 찾기를 시작할 위치를 파악할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-298">You can use the date/time information from your metrics data as an indication of where to start looking in the log files for the detailed information that will help you troubleshoot the issue.</span></span>

### <span data-ttu-id="f5a56-299"><a name="correlating-log-data"></a>로그 데이터 상관 관계 지정</span><span class="sxs-lookup"><span data-stu-id="f5a56-299"><a name="correlating-log-data"></a>Correlating log data</span></span>
<span data-ttu-id="f5a56-300">클라이언트 응용 프로그램의 로그, 네트워크 추적 및 서버 쪽 저장소 로깅을 확인할 때는 여러 로그 파일 간에 요청 상관 관계를 설정할 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-300">When viewing logs from client applications, network traces, and server-side storage logging it is critical to be able to correlate requests across the different log files.</span></span> <span data-ttu-id="f5a56-301">로그 파일에는 상관 관계 식별자로 활용할 수 있는 여러 필드가 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-301">The log files include a number of different fields that are useful as correlation identifiers.</span></span> <span data-ttu-id="f5a56-302">서로 다른 로그의 항목 간 상관 관계를 설정하는 데 사용할 수 있는 가장 유용한 필드는 클라이언트 요청 ID입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-302">The client request id is the most useful field to use to correlate entries in the different logs.</span></span> <span data-ttu-id="f5a56-303">그러나 서버 요청 ID 또는 타임스탬프를 사용하면 유용한 경우도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-303">However sometimes, it can be useful to use either the server request id or timestamps.</span></span> <span data-ttu-id="f5a56-304">다음 섹션에서는 이러한 옵션에 대해 자세히 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-304">The following sections provide more details about these options.</span></span>

### <span data-ttu-id="f5a56-305"><a name="client-request-id"></a>클라이언트 요청 ID</span><span class="sxs-lookup"><span data-stu-id="f5a56-305"><a name="client-request-id"></a>Client request ID</span></span>
<span data-ttu-id="f5a56-306">저장소 클라이언트 라이브러리는 모든 요청에 대해 고유한 클라이언트 요청 ID를 자동으로 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-306">The Storage Client Library automatically generates a unique client request id for every request.</span></span>

* <span data-ttu-id="f5a56-307">저장소 클라이언트 라이브러리가 만드는 클라이언트 쪽 로그에서 클라이언트 요청 ID는 요청과 관련된 모든 로그 항목의 **클라이언트 요청 ID** 필드에 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-307">In the client-side log that the Storage Client Library creates, the client request id appears in the **Client Request ID** field of every log entry relating to the request.</span></span>
* <span data-ttu-id="f5a56-308">Fiddler에서 캡처하는 것과 같은 네트워크 추적에서 클라이언트 요청 ID는 요청 메시지에 **x-ms-client-request-id** HTTP 헤더 값으로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-308">In a network trace such as one captured by Fiddler, the client request id is visible in request messages as the **x-ms-client-request-id** HTTP header value.</span></span>
* <span data-ttu-id="f5a56-309">서버 쪽 저장소 로깅 로그에서 클라이언트 요청 ID는 클라이언트 요청 ID 열에 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-309">In the server-side Storage Logging log, the client request id appears in the Client request ID column.</span></span>

> [!NOTE]
> <span data-ttu-id="f5a56-310">클라이언트가 클라이언트 요청 ID 값을 할당할 수 있으므로 여러 요청이 같은 클라이언트 요청 ID를 공유할 수 있습니다. 그러나 저장소 클라이언트 라이브러리가 새 값을 자동으로 할당합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-310">It is possible for multiple requests to share the same client request id because the client can assign this value (although the Storage Client Library assigns a new value automatically).</span></span> <span data-ttu-id="f5a56-311">클라이언트에서 재시도 할 경우, 모든 시도는 동일한 클라이언트 요청id를 공유합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-311">In the case of retries from the client, all attempts share the same client request id.</span></span> <span data-ttu-id="f5a56-312">클라이언트에서 배치를 보낸 경우, 배치는 단일 클라이언트 요청id를 가집니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-312">In the case of a batch sent from the client, the batch has a single client request id.</span></span>
> 
> 

### <span data-ttu-id="f5a56-313"><a name="server-request-id"></a>서버 요청 ID</span><span class="sxs-lookup"><span data-stu-id="f5a56-313"><a name="server-request-id"></a>Server request ID</span></span>
<span data-ttu-id="f5a56-314">저장소 서비스는 서버 요청 ID를 자동으로 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-314">The storage service automatically generates server request ids.</span></span>

* <span data-ttu-id="f5a56-315">서버 쪽 저장소 로깅 로그에서 서버 요청 ID는 **요청 ID 헤더** 열에 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-315">In the server-side Storage Logging log, the server request id appears the **Request ID header** column.</span></span>
* <span data-ttu-id="f5a56-316">Fiddler에서 캡처하는 것과 같은 네트워크 추적에서 서버 요청 ID는 응답 메시지에 **x-ms-request-id** HTTP 헤더 값으로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-316">In a network trace such as one captured by Fiddler, the server request id appears in response messages as the **x-ms-request-id** HTTP header value.</span></span>
* <span data-ttu-id="f5a56-317">저장소 클라이언트 라이브러리가 만드는 클라이언트 쪽 로그에서 서버 요청 ID는 서버 응답 세부 정보를 보여 주는 로그 항목의 **작업 텍스트** 필드에 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-317">In the client-side log that the Storage Client Library creates, the server request id appears in the **Operation Text** column for the log entry showing details of the server response.</span></span>

> [!NOTE]
> <span data-ttu-id="f5a56-318">저장소 서비스는 수신하는 모든 요청에 항상 고유한 서버 요청 ID를 할당하므로 클라이언트의 모든 다시 시도와 일괄 처리에 포함된 모든 작업에는 고유한 서버 요청 ID가 지정됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-318">The storage service always assigns a unique server request id to every request it receives, so every retry attempt from the client and every operation included in a batch has a unique server request id.</span></span>
> 
> 

<span data-ttu-id="f5a56-319">저장소 클라이언트 라이브러리가 클라이언트에서 **StorageException**을 throw하는 경우 **RequestInformation** 속성은 **RequestResult** 개체를 포함하며, 이 개체에는 **ServiceRequestID** 속성이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-319">If the Storage Client Library throws a **StorageException** in the client, the **RequestInformation** property contains a **RequestResult** object that includes a **ServiceRequestID** property.</span></span> <span data-ttu-id="f5a56-320">**OperationContext** 인스턴스에서 **RequestResult** 개체에 액세스할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-320">You can also access a **RequestResult** object from an **OperationContext** instance.</span></span>

<span data-ttu-id="f5a56-321">아래의 코드 샘플은 요청의 **OperationContext** 개체를 저장소 서비스에 연결하여 사용자 지정 **ClientRequestId** 값을 설정하는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-321">The code sample below demonstrates how to set a custom **ClientRequestId** value by attaching an **OperationContext** object the request to the storage service.</span></span> <span data-ttu-id="f5a56-322">또한 응답 메시지에서 **ServerRequestId** 값을 검색하는 방법도 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-322">It also shows how to retrieve the **ServerRequestId** value from the response message.</span></span>

```csharp
//Parse the connection string for the storage account.
const string ConnectionString = "DefaultEndpointsProtocol=https;AccountName=account-name;AccountKey=account-key";
CloudStorageAccount storageAccount = CloudStorageAccount.Parse(ConnectionString);
CloudBlobClient blobClient = storageAccount.CreateCloudBlobClient();

// Create an Operation Context that includes custom ClientRequestId string based on constants defined within the application along with a Guid.
OperationContext oc = new OperationContext();
oc.ClientRequestID = String.Format("{0} {1} {2} {3}", HOSTNAME, APPNAME, USERID, Guid.NewGuid().ToString());

try
{
    CloudBlobContainer container = blobClient.GetContainerReference("democontainer");
    ICloudBlob blob = container.GetBlobReferenceFromServer("testImage.jpg", null, null, oc);  
    var downloadToPath = string.Format("./{0}", blob.Name);
    using (var fs = File.OpenWrite(downloadToPath))
    {
        blob.DownloadToStream(fs, null, null, oc);
        Console.WriteLine("\t Blob downloaded to file: {0}", downloadToPath);
    }
}
catch (StorageException storageException)
{
    Console.WriteLine("Storage exception {0} occurred", storageException.Message);
    // Multiple results may exist due to client side retry logic - each retried operation will have a unique ServiceRequestId
    foreach (var result in oc.RequestResults)
    {
            Console.WriteLine("HttpStatus: {0}, ServiceRequestId {1}", result.HttpStatusCode, result.ServiceRequestID);
    }
}
```

### <span data-ttu-id="f5a56-323"><a name="timestamps"></a>타임스탬프</span><span class="sxs-lookup"><span data-stu-id="f5a56-323"><a name="timestamps"></a>Timestamps</span></span>
<span data-ttu-id="f5a56-324">타임스탬프를 사용하여 관련 로그 항목을 찾을 수는 있지만 이 경우 클라이언트와 서버 간의 클럭 오차 가능성에 주의해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-324">You can also use timestamps to locate related log entries, but be careful of any clock skew between the client and server that may exist.</span></span> <span data-ttu-id="f5a56-325">클라이언트의 타임스탬프를 기준으로 앞뒤 15분 동안이 일치하는 서버 쪽 항목을 검색해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-325">You should search plus or minus 15 minutes for matching server-side entries based on the timestamp on the client.</span></span> <span data-ttu-id="f5a56-326">메트릭이 포함된 Blob의 Blob 메타데이터는 Blob에 저장된 메트릭의 시간 범위를 나타냅니다. 같은 분이나 시간에 대해 메트릭 Blob가 여러 개인 경우 이 메타데이터가 유용합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-326">Remember that the blob metadata for the blobs containing metrics indicates the time range for the metrics stored in the blob; this is useful if you have many metrics blobs for the same minute or hour.</span></span>

## <span data-ttu-id="f5a56-327"><a name="troubleshooting-guidance"></a>문제 해결 지침</span><span class="sxs-lookup"><span data-stu-id="f5a56-327"><a name="troubleshooting-guidance"></a>Troubleshooting guidance</span></span>
<span data-ttu-id="f5a56-328">이 섹션에서는 Azure 저장소 서비스를 사용할 때 응용 프로그램에 발생할 수 있는 몇 가지 일반적인 문제를 진단하고 해결하는 데 도움이 되는 정보를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-328">This section will help you with the diagnosis and troubleshooting of some of the common issues your application may encounter when using the Azure storage services.</span></span> <span data-ttu-id="f5a56-329">아래 목록에서 특정 문제와 관련된 정보를 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-329">Use the list below to locate the information relevant to your specific issue.</span></span>

<span data-ttu-id="f5a56-330">**문제 해결 결정 트리**</span><span class="sxs-lookup"><span data-stu-id="f5a56-330">**Troubleshooting Decision Tree**</span></span>

- - -
<span data-ttu-id="f5a56-331">문제가 저장소 서비스 중 하나의 성능과 관련된 경우</span><span class="sxs-lookup"><span data-stu-id="f5a56-331">Does your issue relate to the performance of one of the storage services?</span></span>

* <span data-ttu-id="f5a56-332">[메트릭에서 AverageE2ELatency는 높게 표시되고 AverageServerLatency는 낮게 표시됨]</span><span class="sxs-lookup"><span data-stu-id="f5a56-332">[Metrics show high AverageE2ELatency and low AverageServerLatency]</span></span>
* <span data-ttu-id="f5a56-333">[메트릭에서 AverageE2ELatency 및 AverageServerLatency는 낮게 표시되는데 클라이언트의 대기 시간이 길어짐]</span><span class="sxs-lookup"><span data-stu-id="f5a56-333">[Metrics show low AverageE2ELatency and low AverageServerLatency but the client is experiencing high latency]</span></span>
* <span data-ttu-id="f5a56-334">[메트릭에서 AverageServerLatency가 높게 표시됨]</span><span class="sxs-lookup"><span data-stu-id="f5a56-334">[Metrics show high AverageServerLatency]</span></span>
* <span data-ttu-id="f5a56-335">[큐에서 메시지 배달 중에 예기치 않은 대기 시간이 발생함]</span><span class="sxs-lookup"><span data-stu-id="f5a56-335">[You are experiencing unexpected delays in message delivery on a queue]</span></span>

- - -
<span data-ttu-id="f5a56-336">문제가 저장소 서비스 중 하나의 가용성과 관련된 경우</span><span class="sxs-lookup"><span data-stu-id="f5a56-336">Does your issue relate to the availability of one of the storage services?</span></span>

* <span data-ttu-id="f5a56-337">[메트릭에서 PercentThrottlingError가 증가하는 것으로 표시됨]</span><span class="sxs-lookup"><span data-stu-id="f5a56-337">[Metrics show an increase in PercentThrottlingError]</span></span>
* <span data-ttu-id="f5a56-338">[메트릭에서 PercentTimeoutError가 증가하는 것으로 표시됨]</span><span class="sxs-lookup"><span data-stu-id="f5a56-338">[Metrics show an increase in PercentTimeoutError]</span></span>
* <span data-ttu-id="f5a56-339">[메트릭에서 PercentNetworkError가 증가하는 것으로 표시됨]</span><span class="sxs-lookup"><span data-stu-id="f5a56-339">[Metrics show an increase in PercentNetworkError]</span></span>

- - -
<span data-ttu-id="f5a56-340">클라이언트 응용 프로그램이 저장소 서비스에서 HTTP 4XX(예: 404) 응답을 받는 경우</span><span class="sxs-lookup"><span data-stu-id="f5a56-340">Is your client application receiving an HTTP 4XX (such as 404) response from a storage service?</span></span>

* <span data-ttu-id="f5a56-341">[클라이언트에 HTTP 403(사용할 수 없음) 메시지가 표시됨]</span><span class="sxs-lookup"><span data-stu-id="f5a56-341">[The client is receiving HTTP 403 (Forbidden) messages]</span></span>
* <span data-ttu-id="f5a56-342">[클라이언트에 HTTP 404(찾을 수 없음) 메시지가 표시됨]</span><span class="sxs-lookup"><span data-stu-id="f5a56-342">[The client is receiving HTTP 404 (Not found) messages]</span></span>
* <span data-ttu-id="f5a56-343">[클라이언트에 HTTP 409(충돌) 메시지가 표시됨]</span><span class="sxs-lookup"><span data-stu-id="f5a56-343">[The client is receiving HTTP 409 (Conflict) messages]</span></span>

- - -
<span data-ttu-id="f5a56-344">[메트릭에 PercentSuccess가 낮게 표시되거나 분석 로그 항목에 트랜잭션 상태가 ClientOtherErrors 상태인 작업이 있음]</span><span class="sxs-lookup"><span data-stu-id="f5a56-344">[Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors]</span></span>

- - -
<span data-ttu-id="f5a56-345">[용량 메트릭에 예기치 않은 저장소 용량 사용 증가가 표시됨]</span><span class="sxs-lookup"><span data-stu-id="f5a56-345">[Capacity metrics show an unexpected increase in storage capacity usage]</span></span>

- - -
<span data-ttu-id="f5a56-346">[많은 수의 VHD가 연결된 가상 컴퓨터가 예기치 않게 다시 부팅됨]</span><span class="sxs-lookup"><span data-stu-id="f5a56-346">[You are experiencing unexpected reboots of Virtual Machines that have a large number of attached VHDs]</span></span>

- - -
<span data-ttu-id="f5a56-347">[개발 또는 테스트용으로 저장소 에뮬레이터 사용 시 문제가 발생함]</span><span class="sxs-lookup"><span data-stu-id="f5a56-347">[Your issue arises from using the storage emulator for development or test]</span></span>

- - -
<span data-ttu-id="f5a56-348">[Azure SDK for .NET 설치 시 문제가 발생함]</span><span class="sxs-lookup"><span data-stu-id="f5a56-348">[You are encountering problems installing the Azure SDK for .NET]</span></span>

- - -
<span data-ttu-id="f5a56-349">[저장소 서비스에서 다른 문제가 발생함]</span><span class="sxs-lookup"><span data-stu-id="f5a56-349">[You have a different issue with a storage service]</span></span>

- - -
### <span data-ttu-id="f5a56-350"><a name="metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency"></a>메트릭에서 AverageE2ELatency는 높게 표시되고 AverageServerLatency는 낮게 표시됨</span><span class="sxs-lookup"><span data-stu-id="f5a56-350"><a name="metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency"></a>Metrics show high AverageE2ELatency and low AverageServerLatency</span></span>
<span data-ttu-id="f5a56-351">아래에 나와 있는 Azure 클래식 포털 모니터링 도구 그림은 **AverageE2ELatency**가 **AverageServerLatency**보다 크게 높은 경우의 예를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-351">The illustration blow from the Azure Classic Portal monitoring tool shows an example where the **AverageE2ELatency** is significantly higher than the **AverageServerLatency**.</span></span>

![][4]

<span data-ttu-id="f5a56-352">저장소 서비스는 **AverageServerLatency**와 다르게 성공한 요청에 대해서만 **AverageE2ELatency** 메트릭을 계산하며 클라이언트가 데이터를 보내고 저장소 서비스에서 승인을 받는 데 걸리는 시간도 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-352">Note that the storage service only calculates the metric **AverageE2ELatency** for successful requests and, unlike **AverageServerLatency**, includes the time the client takes to send the data and receive acknowledgement from the storage service.</span></span> <span data-ttu-id="f5a56-353">따라서 클라이언트 응용 프로그램의 응답 속도가 느리거나 네트워크 상태로 인해 **AverageE2ELatency**와 **AverageServerLatency**가 서로 다를 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-353">Therefore, a difference between **AverageE2ELatency** and **AverageServerLatency** could be either due to the client application being slow to respond, or due to conditions on the network.</span></span>

> [!NOTE]
> <span data-ttu-id="f5a56-354">저장소 로깅 로그 데이터에서 개별 저장소 작업에 대한 **E2ELatency** 및 **ServerLatency**도 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-354">You can also view **E2ELatency** and **ServerLatency** for individual storage operations in the Storage Logging log data.</span></span>
> 
> 

#### <a name="investigating-client-performance-issues"></a><span data-ttu-id="f5a56-355">클라이언트 성능 문제 조사</span><span class="sxs-lookup"><span data-stu-id="f5a56-355">Investigating client performance issues</span></span>
<span data-ttu-id="f5a56-356">사용 가능한 연결 또는 스레드 수가 제한되는 경우 클라이언트의 응답 속도가 느려질 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-356">Possible reasons for the client responding slowly include having a limited number of available connections or threads.</span></span> <span data-ttu-id="f5a56-357">저장소 서비스에 대한 비동기 호출을 사용하는 등 클라이언트 코드를 보다 효율적으로 수정하거나, 코어와 메모리가 더 많은 대형 가상 컴퓨터를 사용하면 문제가 해결될 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-357">You may be able to resolve the issue by modifying the client code to be more efficient (for example by using asynchronous calls to the storage service), or by using a larger Virtual Machine (with more cores and more memory).</span></span>

<span data-ttu-id="f5a56-358">테이블 및 큐 서비스의 경우 Nagle 알고리즘으로 인해 **AverageServerLatency**에 비해 **AverageE2ELatency**가 길어질 수 있습니다. 자세한 내용은 Microsoft Azure Storage 팀 블로그의 <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2010/06/25/nagle-s-algorithm-is-not-friendly-towards-small-requests.aspx" target="_blank">Nagle 알고리즘은 작은 요청에 적합하지 않습니다.</a> 게시물을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-358">For the table and queue services, the Nagle algorithm can also cause high **AverageE2ELatency** as compared to **AverageServerLatency**: for more information see the post <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2010/06/25/nagle-s-algorithm-is-not-friendly-towards-small-requests.aspx" target="_blank">Nagle's Algorithm is Not Friendly towards Small Requests</a> on the Microsoft Azure Storage Team Blog.</span></span> <span data-ttu-id="f5a56-359">**System.Net** 네임스페이스에서 **ServicePointManager** 클래스를 사용하여 코드에서 Nagle 알고리즘을 사용하지 않도록 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-359">You can disable the Nagle algorithm in code by using the **ServicePointManager** class in the **System.Net** namespace.</span></span> <span data-ttu-id="f5a56-360">이 작업은 이미 열려 있는 연결에는 영향을 주지 않으므로 응용 프로그램에서 테이블 또는 큐 서비스를 호출하기 전에 이 작업을 수행해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-360">You should do this before you make any calls to the table or queue services in your application since this does not affect connections that are already open.</span></span> <span data-ttu-id="f5a56-361">아래에는 작업자 역할의 **Application_Start** 메서드 예제가 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-361">The following example comes from the **Application_Start** method in a worker role.</span></span>

```csharp
var storageAccount = CloudStorageAccount.Parse(connStr);
ServicePoint tableServicePoint = ServicePointManager.FindServicePoint(storageAccount.TableEndpoint);
tableServicePoint.UseNagleAlgorithm = false;
ServicePoint queueServicePoint = ServicePointManager.FindServicePoint(storageAccount.QueueEndpoint);
queueServicePoint.UseNagleAlgorithm = false;
```

<span data-ttu-id="f5a56-362">클라이언트 쪽 로그를 통해 클라이언트 응용 프로그램이 제출하는 요청의 수를 확인해야 합니다. 또한 CPU, .NET 가비지 수집, 네트워크 이용률 또는 메모리와 같은 클라이언트의 일반 .NET 관련 성능 병목 현상도 확인해야 합니다. .NET 클라이언트 응용 프로그램 문제 해결을 시작하려면 <a href="http://msdn.microsoft.com/library/7fe0dd2y(v=vs.110).aspx" target="_blank">MSDN의 디버깅, 추적 및 프로파일링</a>을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-362">You should check the client-side logs to see how many requests your client application is submitting, and check for general .NET related performance bottlenecks in your client such as CPU, .NET garbage collection, network utilization, or memory (as a starting point for troubleshooting .NET client applications, see <a href="http://msdn.microsoft.com/library/7fe0dd2y(v=vs.110).aspx" target="_blank">Debugging, Tracing, and Profiling</a> on MSDN).</span></span>

#### <a name="investigating-network-latency-issues"></a><span data-ttu-id="f5a56-363">네트워크 대기 시간 문제 조사</span><span class="sxs-lookup"><span data-stu-id="f5a56-363">Investigating network latency issues</span></span>
<span data-ttu-id="f5a56-364">일반적으로 네트워크에서 발생하는 긴 종단 간 대기 시간의 원인은 일시적인 상태 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-364">Typically, high end-to-end latency caused by the network is due to transient conditions.</span></span> <span data-ttu-id="f5a56-365">Wireshark 또는 Microsoft Message Analyzer와 같은 도구를 사용하여 일시적인 네트워크 문제와 영구적인 네트워크 문제(예: 패킷 삭제)를 모두 조사해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-365">You can investigate both transient and persistent network issues such as dropped packets by using tools such as Wireshark or Microsoft Message Analyzer.</span></span>

<span data-ttu-id="f5a56-366">Wireshark를 사용하여 네트워크 문제를 해결하는 방법에 대한 자세한 내용은 "[부록 2: Wireshark를 사용하여 네트워크 트래픽 캡처]"를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-366">For more information about using Wireshark to troubleshoot network issues, see "[Appendix 2: Using Wireshark to capture network traffic]."</span></span>

<span data-ttu-id="f5a56-367">Microsoft 메시지 분석기를 사용하여 네트워크 문제를 해결하는 방법에 대한 자세한 내용은 "[부록3: Microsoft 메시지 분석기를 사용하여 네트워크 트래픽 캡처]"를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-367">For more information about using Microsoft Message Analyzer to troubleshoot network issues, see "[Appendix 3: Using Microsoft Message Analyzer to capture network traffic]."</span></span>

### <span data-ttu-id="f5a56-368"><a name="metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency"></a>메트릭에서 AverageE2ELatency 및 AverageServerLatency는 낮게 표시되는데 클라이언트의 대기 시간이 길어짐</span><span class="sxs-lookup"><span data-stu-id="f5a56-368"><a name="metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency"></a>Metrics show low AverageE2ELatency and low AverageServerLatency but the client is experiencing high latency</span></span>
<span data-ttu-id="f5a56-369">이 시나리오에서는 저장소 요청이 저장소 서비스에 도착할 때까지의 대기 시간이 길어지는 경우로 인한 가능성이 가장 높습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-369">In this scenario, the most likely cause is a delay in the storage requests reaching the storage service.</span></span> <span data-ttu-id="f5a56-370">클라이언트의 요청이 Blob 서비스에 정상적인 속도로 도착하지 않는 원인을 조사해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-370">You should investigate why requests from the client are not making it through to the blob service.</span></span>

<span data-ttu-id="f5a56-371">사용 가능한 연결 또는 스레드 수가 제한되는 경우 클라이언트의 요청 전송이 지연될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-371">Possible reasons for the client delaying sending requests include having a limited number of available connections or threads.</span></span> <span data-ttu-id="f5a56-372">클라이언트가 여러 개의 다시 시도를 수행하고 있는지도 확인하고 그러한 경우 원인을 조사해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-372">You should also check if the client is performing multiple retries, and investigate the reason if this is the case.</span></span> <span data-ttu-id="f5a56-373">요청과 연결된 **OperationContext** 개체를 확인하고 **ServerRequestId** 값을 검색하여 이 작업을 프로그래밍 방식으로 수행할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-373">You can do this programmatically by looking in the **OperationContext** object associated with the request and retrieving the **ServerRequestId** value.</span></span> <span data-ttu-id="f5a56-374">자세한 내용은 "[서버 요청 ID]" 섹션의 코드 샘플을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-374">For more information, see the code sample in the section "[Server request ID]."</span></span>

<span data-ttu-id="f5a56-375">클라이언트에 문제가 없으면 패킷 손실 등의 네트워크 문제 가능성을 조사해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-375">If there are no issues in the client, you should investigate potential network issues such as packet loss.</span></span> <span data-ttu-id="f5a56-376">Wireshark 또는 Microsoft Message Analyzer와 같은 도구를 사용하여 네트워크 문제를 조사할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-376">You can use tools such as Wireshark or Microsoft Message Analyzer to investigate network issues.</span></span>

<span data-ttu-id="f5a56-377">Wireshark를 사용하여 네트워크 문제를 해결하는 방법에 대한 자세한 내용은 "[부록 2: Wireshark를 사용하여 네트워크 트래픽 캡처]"를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-377">For more information about using Wireshark to troubleshoot network issues, see "[Appendix 2: Using Wireshark to capture network traffic]."</span></span>

<span data-ttu-id="f5a56-378">Microsoft 메시지 분석기를 사용하여 네트워크 문제를 해결하는 방법에 대한 자세한 내용은 "[부록3: Microsoft 메시지 분석기를 사용하여 네트워크 트래픽 캡처]"를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-378">For more information about using Microsoft Message Analyzer to troubleshoot network issues, see "[Appendix 3: Using Microsoft Message Analyzer to capture network traffic]."</span></span>

### <span data-ttu-id="f5a56-379"><a name="metrics-show-high-AverageServerLatency"></a>메트릭에서 AverageServerLatency가 높게 표시됨</span><span class="sxs-lookup"><span data-stu-id="f5a56-379"><a name="metrics-show-high-AverageServerLatency"></a>Metrics show high AverageServerLatency</span></span>
<span data-ttu-id="f5a56-380">Blob 다운로드 요청에 대해 **AverageServerLatency**가 높게 표시되는 경우 저장소 로깅 로그를 사용하여 같은 Blob 또는 Blob 집합에 대해 요청이 반복되는지 여부를 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-380">In the case of high **AverageServerLatency** for blob download requests, you should use the Storage Logging logs to see if there are repeated requests for the same blob (or set of blobs).</span></span> <span data-ttu-id="f5a56-381">Blob 업로드 요청의 경우 클라이언트에서 사용 중인 블록 크기를 조사해야 합니다. 예를 들어 블록 크기가 64K보다 작은 경우 읽기도 64K 청크보다 작지 않으면 오버헤드가 발생합니다. 또한 여러 클라이언트가 같은 Blob에 병렬로 블록을 업로드하고 있는지도 조사해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-381">For blob upload requests, you should investigate what block size the client is using (for example, blocks less than 64K in size can result in overheads unless the reads are also in less than 64K chunks), and if multiple clients are uploading blocks to the same blob in parallel.</span></span> <span data-ttu-id="f5a56-382">요청 수가 급증하여 초당 확장성 목표가 초과되지 않는지 분당 메트릭도 확인해야 합니다. “[메트릭에서 PercentTimeoutError가 증가하는 것으로 표시됨]”을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-382">You should also check the per-minute metrics for spikes in the number of requests that result in exceeding the per second scalability targets: also see "[Metrics show an increase in PercentTimeoutError]."</span></span>

<span data-ttu-id="f5a56-383">같은 Blob 또는 Blob 집합에 대해 요청이 반복될 때 Blob 요청에 대해 **AverageServerLatency** 가 높게 표시되는 경우에는 Azure 캐시 또는 Azure CDN(콘텐츠 배달 네트워크)을 사용하여 이러한 Blob를 캐시해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-383">If you are seeing high **AverageServerLatency** for blob download requests when there are repeated requests the same blob or set of blobs, then you should consider caching these blobs using Azure Cache or the Azure Content Delivery Network (CDN).</span></span> <span data-ttu-id="f5a56-384">업로드 요청의 경우 더 큰 블록 크기를 사용하면 처리량을 높일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-384">For upload requests, you can improve the throughput by using a larger block size.</span></span> <span data-ttu-id="f5a56-385">테이블에 대한 쿼리의 경우에는 같은 쿼리 작업을 수행하며 데이터가 자주 변경되지 않는 클라이언트에서 클라이언트 쪽 캐싱을 구현할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-385">For queries to tables, it is also possible to implement client-side caching on clients that perform the same query operations and where the data doesn't change frequently.</span></span>

<span data-ttu-id="f5a56-386">테이블이나 쿼리의 디자인이 잘못되어 검사 작업이 수행되거나 추가/앞에 추가 방지 패턴을 따르는 경우에도 **AverageServerLatency** 값이 높아지는 증상이 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-386">High **AverageServerLatency** values can also be a symptom of poorly designed tables or queries that result in scan operations or that follow the append/prepend anti-pattern.</span></span> <span data-ttu-id="f5a56-387">자세한 내용은 "[메트릭에서 PercentThrottlingError가 증가하는 것으로 표시됨]"을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-387">See "[Metrics show an increase in PercentThrottlingError]" for more information.</span></span>

> [!NOTE]
> <span data-ttu-id="f5a56-388">[Microsoft Azure 저장소 성능 및 확장성 검사 목록](storage-performance-checklist.md)에서 포괄적 성능 및 확장성 검사 목록을 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-388">You can find a comprehensive checklist performance checklist here: [Microsoft Azure Storage Performance and Scalability Checklist](storage-performance-checklist.md).</span></span>
> 
> 

### <span data-ttu-id="f5a56-389"><a name="you-are-experiencing-unexpected-delays-in-message-delivery"></a>큐에서 메시지 배달 중에 예기치 않은 대기 시간이 발생함</span><span class="sxs-lookup"><span data-stu-id="f5a56-389"><a name="you-are-experiencing-unexpected-delays-in-message-delivery"></a>You are experiencing unexpected delays in message delivery on a queue</span></span>
<span data-ttu-id="f5a56-390">응용 프로그램이 메시지를 큐에 추가하는 시간과 해당 메시지를 큐에서 읽을 수 있게 되는 시간 사이에 지연이 발생하는 경우 다음 단계를 수행하여 문제를 진단해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-390">If you are experiencing a delay between the time an application adds a message to a queue and the time it becomes available to read from the queue, then you should take the following steps to diagnose the issue:</span></span>

* <span data-ttu-id="f5a56-391">응용 프로그램이 큐에 메시지를 정상적으로 추가할 수 있는지와,</span><span class="sxs-lookup"><span data-stu-id="f5a56-391">Verify the application is successfully adding the messages to the queue.</span></span> <span data-ttu-id="f5a56-392">메시지를 추가할 때까지 **AddMessage** 메서드를 여러 번 다시 시도하지 않는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-392">Check that the application is not retrying the **AddMessage** method several times before succeeding.</span></span> <span data-ttu-id="f5a56-393">저장소 클라이언트 라이브러리 로그에는 저장소 작업의 반복적인 다시 시도가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-393">The Storage Client Library logs will show any repeated retries of storage operations.</span></span>
* <span data-ttu-id="f5a56-394">메시지를 큐에 추가하는 작업자 역할과 큐에서 메시지를 읽는 작업자 역할 간의 클럭 오차로 인해 처리가 지연되는 것처럼 표시되지는 않는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-394">Verify there is no clock skew between the worker role that adds the message to the queue and the worker role that reads the message from the queue that makes it appear as if there is a delay in processing.</span></span>
* <span data-ttu-id="f5a56-395">큐에서 메시지를 읽는 작업자 역할에서 오류가 발생하는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-395">Check if the worker role that reads the messages from the queue is failing.</span></span> <span data-ttu-id="f5a56-396">큐 클라이언트가 **GetMessage** 메서드를 호출한 후 승인과 함께 응답하지 않으면 메시지는 **invisibilityTimeout** 기간이 만료될 때까지 큐에서 표시되지 않는 상태로 유지됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-396">If a queue client calls the **GetMessage** method but fails to respond with an acknowledgement, the message will remain invisible on the queue until the **invisibilityTimeout** period expires.</span></span> <span data-ttu-id="f5a56-397">해당 기간이 만료되면 메시지를 다시 처리할 수 있게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-397">At this point, the message becomes available for processing again.</span></span>
* <span data-ttu-id="f5a56-398">큐 길이가 시간이 경과함에 따라 커지는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-398">Check if the queue length is growing over time.</span></span> <span data-ttu-id="f5a56-399">다른 작업자가 큐에 추가하는 모든 메시지를 처리하는 데 사용할 수 있는 충분한 작업자가 없는 경우 이러한 현상이 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-399">This can occur if you do not have sufficient workers available to process all of the messages that other workers are placing on the queue.</span></span> <span data-ttu-id="f5a56-400">또한 삭제 요청 실패 여부와 메시지가 큐에서 제거되는 횟수를 메트릭에서 확인해야 합니다. 이러한 데이터는 메시지 실패 시도가 반복적으로 실패했음을 나타낼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-400">You should also check the metrics to see if delete requests are failing and the dequeue count on messages, which might indicate repeated failed attempts to delete the message.</span></span>
* <span data-ttu-id="f5a56-401">**E2ELatency** 및 **ServerLatency** 값이 정상 상태보다 오랫동안 예상보다 높게 나타나는 큐 작업의 저장소 로깅 로그를 검사합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-401">Examine the Storage Logging logs for any queue operations that have higher than expected **E2ELatency** and **ServerLatency** values over a longer period of time than usual.</span></span>

### <span data-ttu-id="f5a56-402"><a name="metrics-show-an-increase-in-PercentThrottlingError"></a>메트릭에서 PercentThrottlingError가 증가하는 것으로 표시됨</span><span class="sxs-lookup"><span data-stu-id="f5a56-402"><a name="metrics-show-an-increase-in-PercentThrottlingError"></a>Metrics show an increase in PercentThrottlingError</span></span>
<span data-ttu-id="f5a56-403">저장소 서비스의 확장성 목표를 초과하면 제한 오류가 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-403">Throttling errors occur when you exceed the scalability targets of a storage service.</span></span> <span data-ttu-id="f5a56-404">저장소 서비스는 단일 클라이언트나 테넌트만이 서비스를 사용하는 현상을 방지하기 위해 이 오류를 발생시킵니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-404">The storage service does this to ensure that no single client or tenant can use the service at the expense of others.</span></span> <span data-ttu-id="f5a56-405">저장소 계정의 확장성 목표와 저장소 계정 내 파티션의 성능 목표에 대한 자세한 내용은 <a href="http://msdn.microsoft.com/library/azure/dn249410.aspx" target="_blank">Azure 저장소 확장성 및 성능 목표</a>를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-405">For more information, see <a href="http://msdn.microsoft.com/library/azure/dn249410.aspx" target="_blank">Azure Storage Scalability and Performance Targets</a> for details on scalability targets for storage accounts and performance targets for partitions within storage accounts.</span></span>

<span data-ttu-id="f5a56-406">**PercentThrottlingError** 메트릭에서 제한 오류로 인해 실패하는 요청 백분율이 증가하는 것으로 표시되면 다음의 두 시나리오 중 하나를 조사해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-406">If the **PercentThrottlingError** metric show an increase in the percentage of requests that are failing with a throttling error, you need to investigate one of two scenarios:</span></span>

* <span data-ttu-id="f5a56-407">[일시적인 PercentThrottlingError 증가]</span><span class="sxs-lookup"><span data-stu-id="f5a56-407">[Transient increase in PercentThrottlingError]</span></span>
* <span data-ttu-id="f5a56-408">[영구적인 PercentThrottlingError 증가]</span><span class="sxs-lookup"><span data-stu-id="f5a56-408">[Permanent increase in PercentThrottlingError error]</span></span>

<span data-ttu-id="f5a56-409">**PercentThrottlingError** 는 저장소 요청 수가 증가할 때 함께 증가하거나, 처음으로 응용 프로그램의 부하를 테스트할 때 증가하는 경우가 많습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-409">An increase in **PercentThrottlingError** often occurs at the same time as an increase in the number of storage requests, or when you are initially load testing your application.</span></span> <span data-ttu-id="f5a56-410">또한 이 오류는 저장소 작업에서 "503 서버 사용 중" 또는 "500 작업 시간 초과" HTTP 상태 메시지로 클라이언트에 표시될 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-410">This may also manifest itself in the client as "503 Server Busy" or "500 Operation Timeout" HTTP status messages from storage operations.</span></span>

#### <span data-ttu-id="f5a56-411"><a name="transient-increase-in-PercentThrottlingError"></a>일시적인 PercentThrottlingError 증가</span><span class="sxs-lookup"><span data-stu-id="f5a56-411"><a name="transient-increase-in-PercentThrottlingError"></a>Transient increase in PercentThrottlingError</span></span>
<span data-ttu-id="f5a56-412">응용 프로그램의 작업량이 많은 기간에 **PercentThrottlingError** 값도 급증하는 경우에는 클라이언트의 다시 시도에 대해 선형이 아닌 지수 백오프 전략을 구현해야 합니다. 그러면 파티션의 부하가 즉시 감소하며 응용 프로그램이 트래픽 급증 현상을 안정적으로 해결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-412">If you are seeing spikes in the value of **PercentThrottlingError** that coincide with periods of high activity for the application, you should implement an exponential (not linear) back off strategy for retries in your client: this will reduce the immediate load on the partition and help your application to smooth out spikes in traffic.</span></span> <span data-ttu-id="f5a56-413">저장소 클라이언트 라이브러리를 사용하여 다시 시도 정책을 구현하는 방법에 대한 자세한 내용은 MSDN의 <a href="http://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.retrypolicies.aspx" target="_blank">Microsoft.WindowsAzure.Storage.RetryPolicies Namespace</a>를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-413">For more information about how to implement retry policies using the Storage Client Library, see <a href="http://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.retrypolicies.aspx" target="_blank">Microsoft.WindowsAzure.Storage.RetryPolicies Namespace</a> on MSDN.</span></span>

> [!NOTE]
> <span data-ttu-id="f5a56-414">응용 프로그램의 작업량이 많지 않은 기간에도 **PercentThrottlingError** 값이 급증할 수 있습니다. 이러한 현상이 발생하는 경우 부하 분산을 개선하기 위해 저장소 서비스가 파티션을 이동 중일 가능성이 높습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-414">You may also see spikes in the value of **PercentThrottlingError** that do not coincide with periods of high activity for the application: the most likely cause here is the storage service moving partitions to improve load balancing.</span></span>
> 
> 

#### <span data-ttu-id="f5a56-415"><a name="permanent-increase-in-PercentThrottlingError"></a>영구적인 PercentThrottlingError 증가</span><span class="sxs-lookup"><span data-stu-id="f5a56-415"><a name="permanent-increase-in-PercentThrottlingError"></a>Permanent increase in PercentThrottlingError error</span></span>
<span data-ttu-id="f5a56-416">트랜잭션 볼륨을 영구적으로 늘린 후나 처음으로 응용 프로그램 부하 테스트를 수행할 때 **PercentThrottlingError** 의 값이 계속 높게 표시되는 경우에는 응용 프로그램의 저장소 파티션 사용 방법과 저장소 계정의 확장성 목표 도달 여부를 평가해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-416">If you are seeing a consistently high value for **PercentThrottlingError** following a permanent increase in your transaction volumes, or when you are performing your initial load tests on your application, then you need to evaluate how your application is using storage partitions and whether it is approaching the scalability targets for a storage account.</span></span> <span data-ttu-id="f5a56-417">예를 들어 파티션 하나로 계산되는 큐에서 제한 오류가 표시되는 경우 추가 큐를 사용하여 트랜잭션을 여러 파티션으로 분산시켜야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-417">For example, if you are seeing throttling errors on a queue (which counts as a single partition), then you should consider using additional queues to spread the transactions across multiple partitions.</span></span> <span data-ttu-id="f5a56-418">테이블에서 제한 오류가 표시되는 경우에는 다른 파티션 구성표를 통해 보다 광범위한 파티션 키 값을 사용하여 트랜잭션을 여러 파티션으로 분산시켜야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-418">If you are seeing throttling errors on a table, you need to consider using a different partitioning scheme to spread your transactions across multiple partitions by using a wider range of partition key values.</span></span> <span data-ttu-id="f5a56-419">이 문제의 일반적인 원인 중 하나는 날짜를 파티션 키로 선택하면 특정일의 모든 데이터가 파티션 하나에 기록되는 앞에 추가/추가 방지 패턴입니다.: 이 경우 부하가 생성되면 쓰기 병목 현상이 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-419">One common cause of this issue is the prepend/append anti-pattern where you select the date as the partition key and then all data on a particular day is written to one partition: under load, this can result in a write bottleneck.</span></span> <span data-ttu-id="f5a56-420">따라서 다른 파티션 디자인을 사용하거나 Blob 저장소를 사용하는 것이 더 효율적인 해결 방법인지 평가해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-420">You should either consider a different partitioning design or evaluate whether using blob storage might be a better solution.</span></span> <span data-ttu-id="f5a56-421">또한 트래픽 급증으로 인해 제한이 발생하는지 확인하고 요청 패턴을 효율적으로 조정하는 방식을 조사해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-421">You should also check if the throttling is occurring as a result of spikes in your traffic and investigate ways of smoothing your pattern of requests.</span></span>

<span data-ttu-id="f5a56-422">트랜잭션을 여러 파티션으로 분산시키는 경우에도 저장소 계정에 대해 설정된 확장성 제한을 파악해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-422">If you distribute your transactions across multiple partitions, you must still be aware of the scalability limits set for the storage account.</span></span> <span data-ttu-id="f5a56-423">예를 들어 각각 초당 1KB 메시지를 2,000개까지 처리하는 큐 10개를 사용한 경우 저장소 계정의 초당 전체 메시지 제한은 20,000개입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-423">For example, if you used ten queues each processing the maximum of 2,000 1KB messages per second, you will be at the overall limit of 20,000 messages per second for the storage account.</span></span> <span data-ttu-id="f5a56-424">이 경우 초당 20,000개보다 많은 엔터티를 처리해야 한다면 여러 저장소 계정을 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-424">If you need to process more than 20,000 entities per second, you should consider using multiple storage accounts.</span></span> <span data-ttu-id="f5a56-425">요청과 엔터티의 크기 역시 저장소 서비스가 클라이언트를 제한하는 시기에 영향을 준다는 점도 기억해야 합니다.: 요청과 엔터티가 큰 경우에는 제한이 더 빨리 시작될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-425">You should also bear in mind that the size of your requests and entities has an impact on when the storage service throttles your clients: if you have larger requests and entities, you may be throttled sooner.</span></span>

<span data-ttu-id="f5a56-426">쿼리 디자인이 비효율적인 경우에도 테이블 파티션의 확장성 제한에 도달할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-426">Inefficient query design can also cause you to hit the scalability limits for table partitions.</span></span> <span data-ttu-id="f5a56-427">예를 들어 파티션 내 엔터티 중 1%만 선택하고 모든 엔터티를 검사하는 필터가 포함된 쿼리는 각 엔터티에 액세스해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-427">For example, a query with a filter that only selects one percent of the entities in a partition but that scans all the entities in a partition will need to access each entity.</span></span> <span data-ttu-id="f5a56-428">모든 엔터티 읽기는 해당 파티션의 총 트랜잭션 수 계산에 포함되므로 확장성 목표에 도달하기가 쉽습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-428">Every entity read will count towards the total number of transactions in that partition; therefore, you can easily reach the scalability targets.</span></span>

> [!NOTE]
> <span data-ttu-id="f5a56-429">성능 테스트를 통해 응용 프로그램의 비효율적인 쿼리 디자인을 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-429">Your performance testing should reveal any inefficient query designs in your application.</span></span>
> 
> 

### <span data-ttu-id="f5a56-430"><a name="metrics-show-an-increase-in-PercentTimeoutError"></a>메트릭에서 PercentTimeoutError가 증가하는 것으로 표시됨</span><span class="sxs-lookup"><span data-stu-id="f5a56-430"><a name="metrics-show-an-increase-in-PercentTimeoutError"></a>Metrics show an increase in PercentTimeoutError</span></span>
<span data-ttu-id="f5a56-431">메트릭에서 저장소 서비스 중 하나의 **PercentTimeoutError**가 증가하는 것으로 표시됨과 동시에,</span><span class="sxs-lookup"><span data-stu-id="f5a56-431">Your metrics show an increase in **PercentTimeoutError** for one of your storage services.</span></span> <span data-ttu-id="f5a56-432">저장소 작업에서 많은 수의 "500 작업 시간 초과" HTTP 상태 메시지가 클라이언트에 수신되는 경우가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-432">At the same time, the client receives a high volume of "500 Operation Timeout" HTTP status messages from storage operations.</span></span>

> [!NOTE]
> <span data-ttu-id="f5a56-433">저장소 서비스가 파티션을 새 서버로 이동하여 요청 부하를 분산할 때는 시간 초과 오류가 일시적으로 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-433">You may see timeout errors temporarily as the storage service load balances requests by moving a partition to a new server.</span></span>
> 
> 

<span data-ttu-id="f5a56-434">**PercentTimeoutError** 메트릭은 **ClientTimeoutError**, **AnonymousClientTimeoutError**, **SASClientTimeoutError**, **ServerTimeoutError**, **AnonymousServerTimeoutError** 및 **SASServerTimeoutError** 메트릭을 집계한 것입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-434">The **PercentTimeoutError** metric is an aggregation of the following metrics: **ClientTimeoutError**, **AnonymousClientTimeoutError**, **SASClientTimeoutError**, **ServerTimeoutError**, **AnonymousServerTimeoutError**, and **SASServerTimeoutError**.</span></span>

<span data-ttu-id="f5a56-435">서버에 오류가 발생하면 서버 시간이 초과됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-435">The server timeouts are caused by an error on the server.</span></span> <span data-ttu-id="f5a56-436">서버의 작업에서 클라이언트가 지정한 제한 시간이 초과되면 클라이언트 시간이 초과됩니다. 예를 들어 저장소 클라이언트 라이브러리를 사용하는 클라이언트가 **QueueRequestOptions** 클래스의 **ServerTimeout** 속성을 사용하여 작업에 제한 시간을 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-436">The client timeouts happen because an operation on the server has exceeded the timeout specified by the client; for example, a client using the Storage Client Library can set a timeout for an operation by using the **ServerTimeout** property of the **QueueRequestOptions** class.</span></span>

<span data-ttu-id="f5a56-437">서버 시간 초과는 저장소 서비스에 추가 조사가 필요한 문제가 있음을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-437">Server timeouts indicate a problem with the storage service that requires further investigation.</span></span> <span data-ttu-id="f5a56-438">메트릭을 사용하여 서비스의 확장성 제한에 도달했는지 확인하고 이 문제를 발생시키는 트래픽 급증 현상을 파악할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-438">You can use metrics to see if you are hitting the scalability limits for the service and to identify any spikes in traffic that might be causing this problem.</span></span> <span data-ttu-id="f5a56-439">일시적인 문제는 서비스의 부하 분산 작업으로 인해 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-439">If the problem is intermittent, it may be due to load-balancing activity in the service.</span></span> <span data-ttu-id="f5a56-440">응용 프로그램이 서비스의 확장성 제한에 도달하지 않았는데 영구적인 문제가 발생하는 경우에는 지원 문제에 대해 문의해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-440">If the problem is persistent and is not caused by your application hitting the scalability limits of the service, you should raise a support issue.</span></span> <span data-ttu-id="f5a56-441">클라이언트 시간 초과의 경우 클라이언트에서 제한 시간이 적절한 값으로 설정되어 있는지 확인한 다음 클라이언트에 설정된 제한 시간 값을 변경하거나, 저장소 서비스의 작업 성능을 개선할 수 있는 방법을 조사해야 합니다. 예를 들어 테이블 쿼리를 최적화하거나 메시지 크기를 줄일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-441">For client timeouts, you must decide if the timeout is set to an appropriate value in the client and either change the timeout value set in the client or investigate how you can improve the performance of the operations in the storage service, for example by optimizing your table queries or reducing the size of your messages.</span></span>

### <span data-ttu-id="f5a56-442"><a name="metrics-show-an-increase-in-PercentNetworkError"></a>메트릭에서 PercentNetworkError가 증가하는 것으로 표시됨</span><span class="sxs-lookup"><span data-stu-id="f5a56-442"><a name="metrics-show-an-increase-in-PercentNetworkError"></a>Metrics show an increase in PercentNetworkError</span></span>
<span data-ttu-id="f5a56-443">메트릭에서 저장소 서비스 중 하나의 **PercentNetworkError** 가 증가하는 것으로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-443">Your metrics show an increase in **PercentNetworkError** for one of your storage services.</span></span> <span data-ttu-id="f5a56-444">**PercentNetworkError** 메트릭은 **NetworkError**, **AnonymousNetworkError** 및 **SASNetworkError** 메트릭을 집계한 것입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-444">The **PercentNetworkError** metric is an aggregation of the following metrics: **NetworkError**, **AnonymousNetworkError**, and **SASNetworkError**.</span></span> <span data-ttu-id="f5a56-445">이러한 오류는 클라이언트가 저장소 요청을 수행할 때 저장소 서비스에서 네트워크 오류를 검색하면 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-445">These occur when the storage service detects a network error when the client makes a storage request.</span></span>

<span data-ttu-id="f5a56-446">이 오류의 가장 일반적인 원인은 저장소 서비스에서 제한 시간이 만료되기 전에 클라이언트의 연결이 끊기는 현상입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-446">The most common cause of this error is a client disconnecting before a timeout expires in the storage service.</span></span> <span data-ttu-id="f5a56-447">클라이언트의 코드를 조사하여 저장소 서비스에서 클라이언트의 연결이 끊기는 이유와 시기를 파악해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-447">You should investigate the code in your client to understand why and when the client disconnects from the storage service.</span></span> <span data-ttu-id="f5a56-448">Wireshark, Microsoft Message Analyzer 또는 Tcping을 사용하여 클라이언트의 네트워크 연결 문제를 조사할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-448">You can also use Wireshark, Microsoft Message Analyzer, or Tcping to investigate network connectivity issues from the client.</span></span> <span data-ttu-id="f5a56-449">이러한 도구에 대해서는 [부록]에서 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-449">These tools are described in the [Appendices].</span></span>

### <span data-ttu-id="f5a56-450"><a name="the-client-is-receiving-403-messages"></a>클라이언트에 HTTP 403(사용할 수 없음) 메시지가 표시됨</span><span class="sxs-lookup"><span data-stu-id="f5a56-450"><a name="the-client-is-receiving-403-messages"></a>The client is receiving HTTP 403 (Forbidden) messages</span></span>
<span data-ttu-id="f5a56-451">클라이언트 응용 프로그램에서 HTTP 403(사용할 수 없음) 오류가 throw되는 경우 클라이언트가 저장소 요청을 보낼 때 만료된 SAS(공유 액세스 서명)를 사용 중이어서일 가능성이 높습니다. 그러나 클럭 오차, 잘못된 키, 빈 헤더 등의 다른 원인일 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-451">If your client application is throwing HTTP 403 (Forbidden) errors, a likely cause is that the client is using an expired Shared Access Signature (SAS) when it sends a storage request (although other possible causes include clock skew, invalid keys, and empty headers).</span></span> <span data-ttu-id="f5a56-452">만료된 SAS가 원인인 경우에는 서버 쪽 저장소 로깅 로그 데이터에 항목이 표시되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-452">If an expired SAS key is the cause, you will not see any entries in the server-side Storage Logging log data.</span></span> <span data-ttu-id="f5a56-453">아래 표에는 이 문제가 발생함을 나타내는 저장소 클라이언트 라이브러리에서 생성된 클라이언트 쪽 로그의 샘플이 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-453">The following table shows a sample from the client-side log generated by the Storage Client Library that illustrates this issue occurring:</span></span>

| <span data-ttu-id="f5a56-454">원본</span><span class="sxs-lookup"><span data-stu-id="f5a56-454">Source</span></span> | <span data-ttu-id="f5a56-455">자세한 정도</span><span class="sxs-lookup"><span data-stu-id="f5a56-455">Verbosity</span></span> | <span data-ttu-id="f5a56-456">자세한 정도</span><span class="sxs-lookup"><span data-stu-id="f5a56-456">Verbosity</span></span> | <span data-ttu-id="f5a56-457">클라이언트 요청 ID</span><span class="sxs-lookup"><span data-stu-id="f5a56-457">Client request id</span></span> | <span data-ttu-id="f5a56-458">작업 텍스트</span><span class="sxs-lookup"><span data-stu-id="f5a56-458">Operation text</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="f5a56-459">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="f5a56-459">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="f5a56-460">정보</span><span class="sxs-lookup"><span data-stu-id="f5a56-460">Information</span></span> |<span data-ttu-id="f5a56-461">3</span><span class="sxs-lookup"><span data-stu-id="f5a56-461">3</span></span> |<span data-ttu-id="f5a56-462">85d077ab-…</span><span class="sxs-lookup"><span data-stu-id="f5a56-462">85d077ab-…</span></span> |<span data-ttu-id="f5a56-463">위치 모드 PrimaryOnly에 대해 위치 Primary로 작업을 시작하는 중입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-463">Starting operation with location Primary per location mode PrimaryOnly.</span></span> |
| <span data-ttu-id="f5a56-464">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="f5a56-464">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="f5a56-465">정보</span><span class="sxs-lookup"><span data-stu-id="f5a56-465">Information</span></span> |<span data-ttu-id="f5a56-466">3</span><span class="sxs-lookup"><span data-stu-id="f5a56-466">3</span></span> |<span data-ttu-id="f5a56-467">85d077ab -…</span><span class="sxs-lookup"><span data-stu-id="f5a56-467">85d077ab -…</span></span> |<span data-ttu-id="f5a56-468">https://domemaildist.blob.core.windows.netazureimblobcontainer/blobCreatedViaSAS.txt?sv=2014-02-14&amp;sr=c&amp;si=mypolicy&amp;sig=OFnd4Rd7z01fIvh%2BmcR6zbudIH2F5Ikm%2FyhNYZEmJNQ%3D&amp;api-version=2014-02-14 에 대한 동기 요청을 시작하는 중입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-468">Starting synchronous request to https://domemaildist.blob.core.windows.netazureimblobcontainer/blobCreatedViaSAS.txt?sv=2014-02-14&amp;sr=c&amp;si=mypolicy&amp;sig=OFnd4Rd7z01fIvh%2BmcR6zbudIH2F5Ikm%2FyhNYZEmJNQ%3D&amp;api-version=2014-02-14.</span></span> |
| <span data-ttu-id="f5a56-469">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="f5a56-469">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="f5a56-470">정보</span><span class="sxs-lookup"><span data-stu-id="f5a56-470">Information</span></span> |<span data-ttu-id="f5a56-471">3</span><span class="sxs-lookup"><span data-stu-id="f5a56-471">3</span></span> |<span data-ttu-id="f5a56-472">85d077ab -…</span><span class="sxs-lookup"><span data-stu-id="f5a56-472">85d077ab -…</span></span> |<span data-ttu-id="f5a56-473">응답을 기다리는 중입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-473">Waiting for response.</span></span> |
| <span data-ttu-id="f5a56-474">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="f5a56-474">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="f5a56-475">Warning</span><span class="sxs-lookup"><span data-stu-id="f5a56-475">Warning</span></span> |<span data-ttu-id="f5a56-476">2</span><span class="sxs-lookup"><span data-stu-id="f5a56-476">2</span></span> |<span data-ttu-id="f5a56-477">85d077ab -…</span><span class="sxs-lookup"><span data-stu-id="f5a56-477">85d077ab -…</span></span> |<span data-ttu-id="f5a56-478">응답을 기다리는 동안 throw 된 예외: 원격 서버 오류를 반환했습니다: (403) 사용할 수 없음.</span><span class="sxs-lookup"><span data-stu-id="f5a56-478">Exception thrown while waiting for response: The remote server returned an error: (403) Forbidden..</span></span> |
| <span data-ttu-id="f5a56-479">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="f5a56-479">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="f5a56-480">정보</span><span class="sxs-lookup"><span data-stu-id="f5a56-480">Information</span></span> |<span data-ttu-id="f5a56-481">3</span><span class="sxs-lookup"><span data-stu-id="f5a56-481">3</span></span> |<span data-ttu-id="f5a56-482">85d077ab -…</span><span class="sxs-lookup"><span data-stu-id="f5a56-482">85d077ab -…</span></span> |<span data-ttu-id="f5a56-483">응답을 받았습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-483">Response received.</span></span> <span data-ttu-id="f5a56-484">상태 코드 = 403, 요청 ID = 9d67c64a-64ed-4b0d-9515-3b14bbcdc63d, Content-MD5 = , ETag = .</span><span class="sxs-lookup"><span data-stu-id="f5a56-484">Status code = 403, Request ID = 9d67c64a-64ed-4b0d-9515-3b14bbcdc63d, Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="f5a56-485">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="f5a56-485">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="f5a56-486">Warning</span><span class="sxs-lookup"><span data-stu-id="f5a56-486">Warning</span></span> |<span data-ttu-id="f5a56-487">2</span><span class="sxs-lookup"><span data-stu-id="f5a56-487">2</span></span> |<span data-ttu-id="f5a56-488">85d077ab -…</span><span class="sxs-lookup"><span data-stu-id="f5a56-488">85d077ab -…</span></span> |<span data-ttu-id="f5a56-489">작업하는 동안 throw 된 예외: 원격 서버 오류를 반환했습니다: (403) 사용할 수 없음.</span><span class="sxs-lookup"><span data-stu-id="f5a56-489">Exception thrown during the operation: The remote server returned an error: (403) Forbidden..</span></span> |
| <span data-ttu-id="f5a56-490">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="f5a56-490">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="f5a56-491">정보</span><span class="sxs-lookup"><span data-stu-id="f5a56-491">Information</span></span> |<span data-ttu-id="f5a56-492">3</span><span class="sxs-lookup"><span data-stu-id="f5a56-492">3</span></span> |<span data-ttu-id="f5a56-493">85d077ab -…</span><span class="sxs-lookup"><span data-stu-id="f5a56-493">85d077ab -…</span></span> |<span data-ttu-id="f5a56-494">작업을 다시 시도해야 하는지 확인하는 중입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-494">Checking if the operation should be retried.</span></span> <span data-ttu-id="f5a56-495">재시도 횟수 = 0, HTTP 상태 코드 403, 예외 = = 원격 서버 오류를 반환 했습니다: (403) 사용할 수 없음...</span><span class="sxs-lookup"><span data-stu-id="f5a56-495">Retry count = 0, HTTP status code = 403, Exception = The remote server returned an error: (403) Forbidden..</span></span> |
| <span data-ttu-id="f5a56-496">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="f5a56-496">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="f5a56-497">정보</span><span class="sxs-lookup"><span data-stu-id="f5a56-497">Information</span></span> |<span data-ttu-id="f5a56-498">3</span><span class="sxs-lookup"><span data-stu-id="f5a56-498">3</span></span> |<span data-ttu-id="f5a56-499">85d077ab -…</span><span class="sxs-lookup"><span data-stu-id="f5a56-499">85d077ab -…</span></span> |<span data-ttu-id="f5a56-500">위치 모드에 따라 다음 위치가 Primary로 설정되었습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-500">The next location has been set to Primary, based on the location mode.</span></span> |
| <span data-ttu-id="f5a56-501">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="f5a56-501">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="f5a56-502">오류</span><span class="sxs-lookup"><span data-stu-id="f5a56-502">Error</span></span> |<span data-ttu-id="f5a56-503">1</span><span class="sxs-lookup"><span data-stu-id="f5a56-503">1</span></span> |<span data-ttu-id="f5a56-504">85d077ab -…</span><span class="sxs-lookup"><span data-stu-id="f5a56-504">85d077ab -…</span></span> |<span data-ttu-id="f5a56-505">다시 시도 정책에서 다시 시도를 허용하지 않았습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-505">Retry policy did not allow for a retry.</span></span> <span data-ttu-id="f5a56-506">원격서버에서 작업이 실패했습니다:(403) 사용할 수 없음</span><span class="sxs-lookup"><span data-stu-id="f5a56-506">Failing with The remote server returned an error: (403) Forbidden.</span></span> |

<span data-ttu-id="f5a56-507">이 시나리오에서는 클라이언트가 서버에 토큰을 보내기 전에 SAS 토큰이 만료되는 이유를 조사해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-507">In this scenario, you should investigate why the SAS token is expiring before the client sends the token to the server:</span></span>

* <span data-ttu-id="f5a56-508">보통 클라이언트에 대해 즉시 사용할 SAS를 만들 때는 시작 시간을 설정하면 안 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-508">Typically, you should not set a start time when you create a SAS for a client to use immediately.</span></span> <span data-ttu-id="f5a56-509">현재 시간을 사용하여 SAS를 생성하는 호스트와 저장소 서비스 간에 약간의 클럭 차이가 있는 경우에는 저장소 서비스가 아직 유효하지 않은 SAS를 받을 가능성이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-509">If there are small clock differences between the host generating the SAS using the current time and the storage service, then it is possible for the storage service to receive a SAS that is not yet valid.</span></span>
* <span data-ttu-id="f5a56-510">SAS에 대해 매우 짧은 만료 시간을 설정해서는 안 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-510">You should not set a very short expiry time on a SAS.</span></span> <span data-ttu-id="f5a56-511">마찬가지로 SAS를 생성하는 호스트와 저장소 서비스 간에 클럭 차이가 약간이라도 있으면 SAS가 예상보다 빨리 만료됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-511">Again, small clock differences between the host generating the SAS and the storage service can lead to a SAS apparently expiring earlier than anticipated.</span></span>
* <span data-ttu-id="f5a56-512">SAS 키의 버전 매개 변수(예: **sv=2012-02-12**)가 사용 중인 저장소 클라이언트 라이브러리의 버전과 일치하는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-512">Does the version parameter in the SAS key (for example **sv=2012-02-12**) match the version of the Storage Client Library you are using.</span></span> <span data-ttu-id="f5a56-513">항상 최신 버전의 저장소 클라이언트 라이브러리를 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-513">You should always use the latest version of the Storage Client Library.</span></span> <span data-ttu-id="f5a56-514">SAS 토큰 버전 관리에 대한 자세한 내용은 [Microsoft Azure 저장소의 새로운 기능](http://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/14/what-s-new-for-microsoft-azure-storage-at-teched-2014.aspx)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-514">For more information about SAS token versioning, see [What's new for Microsoft Azure Storage](http://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/14/what-s-new-for-microsoft-azure-storage-at-teched-2014.aspx).</span></span>
* * <span data-ttu-id="f5a56-515">Azure 클래식 포털의 저장소 계정 내 임의의 페이지에서 **액세스 키 관리** 를 클릭하여 저장소 액세스 키를 다시 생성하는 경우 기존 SAS 토큰이 무효화될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-515">If you regenerate your storage access keys (click **Manage Access Keys** on any page in your storage account in the Azure Classic Portal) this can invalidate any existing SAS tokens.</span></span> <span data-ttu-id="f5a56-516">클라이언트 응용 프로그램이 캐시하도록 만료 시간이 매우 긴 SAS 토큰을 생성하는 경우 문제가 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-516">This may be an issue if you generate SAS tokens with a long expiry time for client applications to cache.</span></span>

<span data-ttu-id="f5a56-517">저장소 클라이언트 라이브러리를 사용하여 SAS 토큰을 생성하는 경우에는 유효한 토큰을 쉽게 작성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-517">If you are using the Storage Client Library to generate SAS tokens, then it is easy to build a valid token.</span></span> <span data-ttu-id="f5a56-518">그러나 저장소 REST API를 사용 중이며 수동으로 SAS 토큰을 생성하는 경우에는 MSDN의 <a href="http://msdn.microsoft.com/library/azure/ee395415.aspx" target="_blank">공유 액세스 서명으로 액세스 위임</a> 항목을 자세히 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-518">However, if you are using the Storage REST API and constructing the SAS tokens by hand you should carefully read the topic <a href="http://msdn.microsoft.com/library/azure/ee395415.aspx" target="_blank">Delegating Access with a Shared Access Signature</a> on MSDN.</span></span>

### <span data-ttu-id="f5a56-519"><a name="the-client-is-receiving-404-messages"></a>클라이언트에 HTTP 404(찾을 수 없음) 메시지가 표시됨</span><span class="sxs-lookup"><span data-stu-id="f5a56-519"><a name="the-client-is-receiving-404-messages"></a>The client is receiving HTTP 404 (Not found) messages</span></span>
<span data-ttu-id="f5a56-520">클라이언트 응용 프로그램이 서버에서 HTTP 404(찾을 수 없음) 메시지를 수신하는 경우 클라이언트가 사용하려는 엔터티, 테이블, Blob, 컨테이너, 큐 등의 개체가 저장소 서비스에 없는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-520">If the client application receives an HTTP 404 (Not found) message from the server, this implies that the object the client was attempting to use (such as an entity, table, blob, container, or queue) does not exist in the storage service.</span></span> <span data-ttu-id="f5a56-521">이러한 현상은 다음과 같은 여러 가지 이유로 인해 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-521">There are a number of possible reasons for this, such as:</span></span>

* <span data-ttu-id="f5a56-522">[클라이언트 또는 다른 프로세스가 이전에 개체를 삭제함]</span><span class="sxs-lookup"><span data-stu-id="f5a56-522">[The client or another process previously deleted the object]</span></span>
* <span data-ttu-id="f5a56-523">[SAS(공유 액세스 서명) 권한 부여 문제]</span><span class="sxs-lookup"><span data-stu-id="f5a56-523">[A Shared Access Signature (SAS) authorization issue]</span></span>
* <span data-ttu-id="f5a56-524">[클라이언트 쪽 JavaScript 코드에 개체 액세스 권한이 없음]</span><span class="sxs-lookup"><span data-stu-id="f5a56-524">[Client-side JavaScript code does not have permission to access the object]</span></span>
* <span data-ttu-id="f5a56-525">[네트워크 오류]</span><span class="sxs-lookup"><span data-stu-id="f5a56-525">[Network failure]</span></span>

#### <span data-ttu-id="f5a56-526"><a name="client-previously-deleted-the-object"></a>클라이언트 또는 다른 프로세스가 이전에 개체를 삭제함</span><span class="sxs-lookup"><span data-stu-id="f5a56-526"><a name="client-previously-deleted-the-object"></a>The client or another process previously deleted the object</span></span>
<span data-ttu-id="f5a56-527">클라이언트가 저장소 서비스에서 데이터 읽기, 업데이트 또는 삭제를 시도하는 시나리오에서는 대개 서버 쪽 로그를 통해 저장소 서비스에서 해당 개체를 삭제한 이전 작업을 쉽게 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-527">In scenarios where the client is attempting to read, update, or delete data in a storage service it is usually easy to identify in the server-side logs a previous operation that deleted the object in question from the storage service.</span></span> <span data-ttu-id="f5a56-528">로그 데이터에는 다른 사용자나 프로세스가 개체를 삭제했다는 내용이 표시되는 경우가 많습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-528">Very often, the log data shows that another user or process deleted the object.</span></span> <span data-ttu-id="f5a56-529">서버 쪽 저장소 로깅 로그에서 operation-type 및 requested-object-key 열에는 클라이언트가 개체를 삭제한 시기가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-529">In the server-side Storage Logging log, the operation-type and requested-object-key columns show when a client deleted an object.</span></span>

<span data-ttu-id="f5a56-530">클라이언트가 개체 삽입을 시도하는 시나리오에서는 클라이언트가 새 개체를 만든다고 가정할 때 해당 작업으로 인해 HTTP 404(찾을 수 없음) 응답이 수신되는 이유를 즉시 확인하기가 어려울 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-530">In the scenario where a client is attempting to insert an object, it may not be immediately obvious why this results in an HTTP 404 (Not found) response given that the client is creating a new object.</span></span> <span data-ttu-id="f5a56-531">그러나 Blob를 만드는 클라이언트는 Blob 컨테이너를 찾을 수 있어야 하고, 메시지를 작성하는 클라이언트는 큐를 찾을 수 있어야 하며, 행을 추가하는 클라이언트는 테이블을 찾을 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-531">However, if the client is creating a blob it must be able to find the blob container, if the client is creating a message it must be able to find a queue, and if the client is adding a row it must be able to find the table.</span></span>

<span data-ttu-id="f5a56-532">저장소 클라이언트 라이브러리의 클라이언트 쪽 로그를 사용하여 클라이언트가 저장소 서비스에 특정 요청을 보낸 시기를 자세하게 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-532">You can use the client-side log from the Storage Client Library to gain a more detailed understanding of when the client sends specific requests to the storage service.</span></span>

<span data-ttu-id="f5a56-533">저장소 클라이언트 라이브러리에서 생성한 다음 클라이언트 쪽 로그에는 클라이언트가 작성 중인 Blob에 대한 컨테이너를 찾을 수 없는 문제가 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-533">The following client-side log generated by the Storage Client library illustrates the problem when the client cannot find the container for the blob it is creating.</span></span> <span data-ttu-id="f5a56-534">이 로그에는 다음 저장소 작업에 대한 세부 정보가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-534">This log includes details of the following storage operations:</span></span>

| <span data-ttu-id="f5a56-535">요청 ID</span><span class="sxs-lookup"><span data-stu-id="f5a56-535">Request ID</span></span> | <span data-ttu-id="f5a56-536">작업</span><span class="sxs-lookup"><span data-stu-id="f5a56-536">Operation</span></span> |
| --- | --- |
| <span data-ttu-id="f5a56-537">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-537">07b26a5d-...</span></span> |<span data-ttu-id="f5a56-538">**DeleteIfExists** 메서드를 호출합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-538">**DeleteIfExists** method to delete the blob container.</span></span> <span data-ttu-id="f5a56-539">이 작업에는 컨테이너 유무를 확인하는 **HEAD** 요청이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-539">Note that this operation includes a **HEAD** request to check for the existence of the container.</span></span> |
| <span data-ttu-id="f5a56-540">e2d06d78…</span><span class="sxs-lookup"><span data-stu-id="f5a56-540">e2d06d78…</span></span> |<span data-ttu-id="f5a56-541">**CreateIfNotExists** 메서드를 호출합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-541">**CreateIfNotExists** method to create the blob container.</span></span> <span data-ttu-id="f5a56-542">이 작업에는 컨테이너 유무를 확인하는 **HEAD** 요청이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-542">Note that this operation includes a **HEAD** request that checks for the existence of the container.</span></span> <span data-ttu-id="f5a56-543">**HEAD** 는 404 메시지를 반환하지만 계속 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-543">The **HEAD** returns a 404 message but continues.</span></span> |
| <span data-ttu-id="f5a56-544">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-544">de8b1c3c-...</span></span> |<span data-ttu-id="f5a56-545">**UploadFromStream** 메서드를 호출합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-545">**UploadFromStream** method to create the blob.</span></span> <span data-ttu-id="f5a56-546">**PUT** 요청은 실패하며 404 메시지가 반환됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-546">The **PUT** request fails with a 404 message</span></span> |

<span data-ttu-id="f5a56-547">로그 항목:</span><span class="sxs-lookup"><span data-stu-id="f5a56-547">Log entries:</span></span>

| <span data-ttu-id="f5a56-548">요청 ID</span><span class="sxs-lookup"><span data-stu-id="f5a56-548">Request ID</span></span> | <span data-ttu-id="f5a56-549">작업 텍스트</span><span class="sxs-lookup"><span data-stu-id="f5a56-549">Operation Text</span></span> |
| --- | --- |
| <span data-ttu-id="f5a56-550">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-550">07b26a5d-...</span></span> |<span data-ttu-id="f5a56-551">https://domemaildist.blob.core.windows.net/azuremmblobcontainer에 대한 동기 요청을 시작하는 중입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-551">Starting synchronous request to https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span> |
| <span data-ttu-id="f5a56-552">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-552">07b26a5d-...</span></span> |<span data-ttu-id="f5a56-553">StringToSign = HEAD............x-ms-client-request-id:07b26a5d-....x-ms-date:Tue, 03 Jun 2014 10:33:11 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="f5a56-553">StringToSign = HEAD............x-ms-client-request-id:07b26a5d-....x-ms-date:Tue, 03 Jun 2014 10:33:11 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="f5a56-554">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-554">07b26a5d-...</span></span> |<span data-ttu-id="f5a56-555">응답을 기다리는 중입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-555">Waiting for response.</span></span> |
| <span data-ttu-id="f5a56-556">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-556">07b26a5d-...</span></span> |<span data-ttu-id="f5a56-557">응답을 받았습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-557">Response received.</span></span> <span data-ttu-id="f5a56-558">상태 코드 = 200, 요청 ID = eeead849-...Content-MD5 = , ETag = &quot;0x8D14D2DC63D059B&quot;</span><span class="sxs-lookup"><span data-stu-id="f5a56-558">Status code = 200, Request ID = eeead849-...Content-MD5 = , ETag =    &quot;0x8D14D2DC63D059B&quot;.</span></span> |
| <span data-ttu-id="f5a56-559">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-559">07b26a5d-...</span></span> |<span data-ttu-id="f5a56-560">응답 헤더가 처리되었습니다. 나머지 작업을 진행합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-560">Response headers were processed successfully, proceeding with the rest of the operation.</span></span> |
| <span data-ttu-id="f5a56-561">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-561">07b26a5d-...</span></span> |<span data-ttu-id="f5a56-562">응답 본문을 다운로드하는 중입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-562">Downloading response body.</span></span> |
| <span data-ttu-id="f5a56-563">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-563">07b26a5d-...</span></span> |<span data-ttu-id="f5a56-564">작업이 완료되었습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-564">Operation completed successfully.</span></span> |
| <span data-ttu-id="f5a56-565">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-565">07b26a5d-...</span></span> |<span data-ttu-id="f5a56-566">https://domemaildist.blob.core.windows.net/azuremmblobcontainer에 대한 동기 요청을 시작하는 중입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-566">Starting synchronous request to https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span> |
| <span data-ttu-id="f5a56-567">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-567">07b26a5d-...</span></span> |<span data-ttu-id="f5a56-568">StringToSign = DELETE............x-ms-client-request-id:07b26a5d-....x-ms-date:Tue, 03 Jun 2014 10:33:12    GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="f5a56-568">StringToSign = DELETE............x-ms-client-request-id:07b26a5d-....x-ms-date:Tue, 03 Jun 2014 10:33:12    GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="f5a56-569">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-569">07b26a5d-...</span></span> |<span data-ttu-id="f5a56-570">응답을 기다리는 중입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-570">Waiting for response.</span></span> |
| <span data-ttu-id="f5a56-571">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-571">07b26a5d-...</span></span> |<span data-ttu-id="f5a56-572">응답을 받았습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-572">Response received.</span></span> <span data-ttu-id="f5a56-573">상태 코드 = 202, 요청 ID = 6ab2a4cf-..., Content-MD5 = , ETag = .</span><span class="sxs-lookup"><span data-stu-id="f5a56-573">Status code = 202, Request ID = 6ab2a4cf-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="f5a56-574">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-574">07b26a5d-...</span></span> |<span data-ttu-id="f5a56-575">응답 헤더가 처리되었습니다. 나머지 작업을 진행합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-575">Response headers were processed successfully, proceeding with the rest of the operation.</span></span> |
| <span data-ttu-id="f5a56-576">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-576">07b26a5d-...</span></span> |<span data-ttu-id="f5a56-577">응답 본문을 다운로드하는 중입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-577">Downloading response body.</span></span> |
| <span data-ttu-id="f5a56-578">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-578">07b26a5d-...</span></span> |<span data-ttu-id="f5a56-579">작업이 완료되었습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-579">Operation completed successfully.</span></span> |
| <span data-ttu-id="f5a56-580">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-580">e2d06d78-...</span></span> |<span data-ttu-id="f5a56-581">https://domemaildist.blob.core.windows.net/azuremmblobcontainer에 대한 비동기 요청을 시작하는 중입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-581">Starting asynchronous request to https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span></td> |
| <span data-ttu-id="f5a56-582">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-582">e2d06d78-...</span></span> |<span data-ttu-id="f5a56-583">StringToSign = HEAD............x-ms-client-request-id:e2d06d78-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="f5a56-583">StringToSign = HEAD............x-ms-client-request-id:e2d06d78-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="f5a56-584">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-584">e2d06d78-...</span></span> |<span data-ttu-id="f5a56-585">응답을 기다리는 중입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-585">Waiting for response.</span></span> |
| <span data-ttu-id="f5a56-586">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-586">de8b1c3c-...</span></span> |<span data-ttu-id="f5a56-587">https://domemaildist.blob.core.windows.net/azuremmblobcontainer/blobCreated.txt에 대한 동기 요청을 시작하는 중입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-587">Starting synchronous request to https://domemaildist.blob.core.windows.net/azuremmblobcontainer/blobCreated.txt.</span></span> |
| <span data-ttu-id="f5a56-588">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-588">de8b1c3c-...</span></span> |<span data-ttu-id="f5a56-589">StringToSign = PUT...64.qCmF+TQLPhq/YYK50mP9ZQ==........x-ms-blob-type:BlockBlob.x-ms-client-request-id:de8b1c3c-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer/blobCreated.txt.</span><span class="sxs-lookup"><span data-stu-id="f5a56-589">StringToSign = PUT...64.qCmF+TQLPhq/YYK50mP9ZQ==........x-ms-blob-type:BlockBlob.x-ms-client-request-id:de8b1c3c-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer/blobCreated.txt.</span></span> |
| <span data-ttu-id="f5a56-590">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-590">de8b1c3c-...</span></span> |<span data-ttu-id="f5a56-591">요청 데이터 쓰기를 준비하는 중입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-591">Preparing to write request data.</span></span> |
| <span data-ttu-id="f5a56-592">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-592">e2d06d78-...</span></span> |<span data-ttu-id="f5a56-593">응답을 기다리는 동안 throw 된 예외: 원격 서버 오류를 반환했습니다: (404) 찾을 수 없음.</span><span class="sxs-lookup"><span data-stu-id="f5a56-593">Exception thrown while waiting for response: The remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="f5a56-594">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-594">e2d06d78-...</span></span> |<span data-ttu-id="f5a56-595">응답을 받았습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-595">Response received.</span></span> <span data-ttu-id="f5a56-596">상태 코드 = 404, 요청 ID = 353ae3bc-..., Content-MD5 = , ETag = .</span><span class="sxs-lookup"><span data-stu-id="f5a56-596">Status code = 404, Request ID = 353ae3bc-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="f5a56-597">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-597">e2d06d78-...</span></span> |<span data-ttu-id="f5a56-598">응답 헤더가 처리되었습니다. 나머지 작업을 진행합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-598">Response headers were processed successfully, proceeding with the rest of the operation.</span></span> |
| <span data-ttu-id="f5a56-599">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-599">e2d06d78-...</span></span> |<span data-ttu-id="f5a56-600">응답 본문을 다운로드하는 중입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-600">Downloading response body.</span></span> |
| <span data-ttu-id="f5a56-601">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-601">e2d06d78-...</span></span> |<span data-ttu-id="f5a56-602">작업이 완료되었습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-602">Operation completed successfully.</span></span> |
| <span data-ttu-id="f5a56-603">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-603">e2d06d78-...</span></span> |<span data-ttu-id="f5a56-604">https://domemaildist.blob.core.windows.net/azuremmblobcontainer에 대한 비동기 요청을 시작하는 중입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-604">Starting asynchronous request to https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span> |
| <span data-ttu-id="f5a56-605">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-605">e2d06d78-...</span></span> |<span data-ttu-id="f5a56-606">StringToSign = PUT...0.........x-ms-client-request-id:e2d06d78-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="f5a56-606">StringToSign = PUT...0.........x-ms-client-request-id:e2d06d78-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="f5a56-607">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-607">e2d06d78-...</span></span> |<span data-ttu-id="f5a56-608">응답을 기다리는 중입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-608">Waiting for response.</span></span> |
| <span data-ttu-id="f5a56-609">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-609">de8b1c3c-...</span></span> |<span data-ttu-id="f5a56-610">요청 데이터를 쓰는 중입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-610">Writing request data.</span></span> |
| <span data-ttu-id="f5a56-611">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-611">de8b1c3c-...</span></span> |<span data-ttu-id="f5a56-612">응답을 기다리는 중입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-612">Waiting for response.</span></span> |
| <span data-ttu-id="f5a56-613">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-613">e2d06d78-...</span></span> |<span data-ttu-id="f5a56-614">응답을 기다리는 동안 throw 된 예외: 원격 서버 오류를 반환했습니다: (409) 충돌.</span><span class="sxs-lookup"><span data-stu-id="f5a56-614">Exception thrown while waiting for response: The remote server returned an error: (409) Conflict..</span></span> |
| <span data-ttu-id="f5a56-615">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-615">e2d06d78-...</span></span> |<span data-ttu-id="f5a56-616">응답을 받았습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-616">Response received.</span></span> <span data-ttu-id="f5a56-617">상태 코드 = 409, 요청 ID = c27da20e-..., Content-MD5 = , ETag = .</span><span class="sxs-lookup"><span data-stu-id="f5a56-617">Status code = 409, Request ID = c27da20e-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="f5a56-618">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-618">e2d06d78-...</span></span> |<span data-ttu-id="f5a56-619">오류 응답 본문을 다운로드하는 중입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-619">Downloading error response body.</span></span> |
| <span data-ttu-id="f5a56-620">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-620">de8b1c3c-...</span></span> |<span data-ttu-id="f5a56-621">응답을 기다리는 동안 throw 된 예외: 원격 서버 오류를 반환했습니다: (404) 찾을 수 없음.</span><span class="sxs-lookup"><span data-stu-id="f5a56-621">Exception thrown while waiting for response: The remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="f5a56-622">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-622">de8b1c3c-...</span></span> |<span data-ttu-id="f5a56-623">응답을 받았습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-623">Response received.</span></span> <span data-ttu-id="f5a56-624">상태 코드 = 404, 요청 ID = 0eaeab3e-..., Content-MD5 = , ETag = .</span><span class="sxs-lookup"><span data-stu-id="f5a56-624">Status code = 404, Request ID = 0eaeab3e-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="f5a56-625">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-625">de8b1c3c-...</span></span> |<span data-ttu-id="f5a56-626">작업하는 동안 throw 된 예외: 원격 서버 오류를 반환했습니다: (404) 찾을 수 없음.</span><span class="sxs-lookup"><span data-stu-id="f5a56-626">Exception thrown during the operation: The remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="f5a56-627">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-627">de8b1c3c-...</span></span> |<span data-ttu-id="f5a56-628">다시 시도 정책에서 다시 시도를 허용하지 않았습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-628">Retry policy did not allow for a retry.</span></span> <span data-ttu-id="f5a56-629">작업이 실패했습니다. 원격 서버에서 오류를 반환했습니다: (404) 찾을 수 없음.</span><span class="sxs-lookup"><span data-stu-id="f5a56-629">Failing with The remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="f5a56-630">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="f5a56-630">e2d06d78-...</span></span> |<span data-ttu-id="f5a56-631">다시 시도 정책에서 다시 시도를 허용하지 않았습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-631">Retry policy did not allow for a retry.</span></span> <span data-ttu-id="f5a56-632">작업이 실패했습니다. 원격 서버에서 오류를 반환했습니다: (409) 충돌.</span><span class="sxs-lookup"><span data-stu-id="f5a56-632">Failing with The remote server returned an error: (409) Conflict..</span></span> |

<span data-ttu-id="f5a56-633">이 예제에서 로그에는 클라이언트가 **CreateIfNotExists** 메서드(요청 ID e2d06d78…)의 요청을 **UploadFromStream** 메서드(de8b1c3c-...)의 요청과 인터리빙함이 표시됩니다. 이러한 현상이 발생하는 이유는 클라이언트 응용 프로그램이 이러한 메서드를 비동기식으로 호출하기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-633">In this example, the log shows that the client is interleaving requests from the **CreateIfNotExists** method (request id e2d06d78…) with the requests from the **UploadFromStream** method (de8b1c3c-...); this is happening because the client application is invoking these methods asynchronously.</span></span> <span data-ttu-id="f5a56-634">클라이언트가 컨테이너의 Blob에 데이터 업로드를 시도하기 전에 해당 컨테이너를 만들도록 클라이언트에서 비동기 코드를 수정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-634">You should modify the asynchronous code in the client to ensure that it creates the container before attempting to upload any data to a blob in that container.</span></span> <span data-ttu-id="f5a56-635">모든 컨테이너를 미리 만드는 것이 가장 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-635">Ideally, you should create all your containers in advance.</span></span>

#### <span data-ttu-id="f5a56-636"><a name="SAS-authorization-issue"></a>SAS(공유 액세스 서명) 권한 부여 문제</span><span class="sxs-lookup"><span data-stu-id="f5a56-636"><a name="SAS-authorization-issue"></a>A Shared Access Signature (SAS) authorization issue</span></span>
<span data-ttu-id="f5a56-637">클라이언트 응용 프로그램이 작업에 필요한 권한을 포함하지 않는 SAS 키를 사용하려고 하면 저장소 서비스는 HTTP 404(찾을 수 없음) 메시지를 클라이언트에 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-637">If the client application attempts to use a SAS key that does not include the necessary permissions for the operation, the storage service returns an HTTP 404 (Not found) message to the client.</span></span> <span data-ttu-id="f5a56-638">그와 동시에 메트릭에서 **SASAuthorizationError** 에 대해 0이 아닌 값이 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-638">At the same time, you will also see a non-zero value for **SASAuthorizationError** in the metrics.</span></span>

<span data-ttu-id="f5a56-639">아래 표에는 저장소 로깅 로그 파일의 샘플 서버 쪽 로그 메시지가 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-639">The following table shows a sample server-side log message from the Storage Logging log file:</span></span>

| <span data-ttu-id="f5a56-640">이름</span><span class="sxs-lookup"><span data-stu-id="f5a56-640">Name</span></span> | <span data-ttu-id="f5a56-641">값</span><span class="sxs-lookup"><span data-stu-id="f5a56-641">Value</span></span> |
| --- | --- |
| <span data-ttu-id="f5a56-642">요청 시작 시간</span><span class="sxs-lookup"><span data-stu-id="f5a56-642">Request start time</span></span> | <span data-ttu-id="f5a56-643">2014-05-30T06:17:48.4473697Z</span><span class="sxs-lookup"><span data-stu-id="f5a56-643">2014-05-30T06:17:48.4473697Z</span></span> |
| <span data-ttu-id="f5a56-644">작업 유형</span><span class="sxs-lookup"><span data-stu-id="f5a56-644">Operation type</span></span>     | <span data-ttu-id="f5a56-645">GetBlobProperties</span><span class="sxs-lookup"><span data-stu-id="f5a56-645">GetBlobProperties</span></span>            |
| <span data-ttu-id="f5a56-646">요청 상태</span><span class="sxs-lookup"><span data-stu-id="f5a56-646">Request status</span></span>     | <span data-ttu-id="f5a56-647">SASAuthorizationError</span><span class="sxs-lookup"><span data-stu-id="f5a56-647">SASAuthorizationError</span></span>        |
| <span data-ttu-id="f5a56-648">HTTP 상태 코드</span><span class="sxs-lookup"><span data-stu-id="f5a56-648">HTTP status code</span></span>   | <span data-ttu-id="f5a56-649">404</span><span class="sxs-lookup"><span data-stu-id="f5a56-649">404</span></span>                          |
| <span data-ttu-id="f5a56-650">인증 유형</span><span class="sxs-lookup"><span data-stu-id="f5a56-650">Authentication type</span></span>| <span data-ttu-id="f5a56-651">Sas</span><span class="sxs-lookup"><span data-stu-id="f5a56-651">Sas</span></span>                          |
| <span data-ttu-id="f5a56-652">서비스 유형</span><span class="sxs-lookup"><span data-stu-id="f5a56-652">Service type</span></span>       | <span data-ttu-id="f5a56-653">Blob</span><span class="sxs-lookup"><span data-stu-id="f5a56-653">Blob</span></span>                         |
| <span data-ttu-id="f5a56-654">요청 URL</span><span class="sxs-lookup"><span data-stu-id="f5a56-654">Request URL</span></span>        | <span data-ttu-id="f5a56-655">https://domemaildist.blob.core.windows.net/azureimblobcontainer/blobCreatedViaSAS.txt</span><span class="sxs-lookup"><span data-stu-id="f5a56-655">https://domemaildist.blob.core.windows.net/azureimblobcontainer/blobCreatedViaSAS.txt</span></span> |
| <span data-ttu-id="f5a56-656">nbsp;</span><span class="sxs-lookup"><span data-stu-id="f5a56-656">nbsp;</span></span>              |   <span data-ttu-id="f5a56-657">?sv=2014-02-14&sr=c&si=mypolicy&sig=XXXXX&;api-version=2014-02-14</span><span class="sxs-lookup"><span data-stu-id="f5a56-657">?sv=2014-02-14&sr=c&si=mypolicy&sig=XXXXX&;api-version=2014-02-14</span></span> |
| <span data-ttu-id="f5a56-658">요청 ID 헤더</span><span class="sxs-lookup"><span data-stu-id="f5a56-658">Request id header</span></span>  | <span data-ttu-id="f5a56-659">a1f348d5-8032-4912-93ef-b393e5252a3b</span><span class="sxs-lookup"><span data-stu-id="f5a56-659">a1f348d5-8032-4912-93ef-b393e5252a3b</span></span> |
| <span data-ttu-id="f5a56-660">클라이언트 요청 ID</span><span class="sxs-lookup"><span data-stu-id="f5a56-660">Client request ID</span></span>  | <span data-ttu-id="f5a56-661">2d064953-8436-4ee0-aa0c-65cb874f7929</span><span class="sxs-lookup"><span data-stu-id="f5a56-661">2d064953-8436-4ee0-aa0c-65cb874f7929</span></span> |

<span data-ttu-id="f5a56-662">클라이언트 응용 프로그램이 권한을 부여받지 않은 작업을 시도하는 이유를 조사해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-662">You should investigate why your client application is attempting to perform an operation it has not been granted permissions for.</span></span>

#### <span data-ttu-id="f5a56-663"><a name="JavaScript-code-does-not-have-permission"></a>클라이언트 쪽 JavaScript 코드에 개체 액세스 권한이 없음</span><span class="sxs-lookup"><span data-stu-id="f5a56-663"><a name="JavaScript-code-does-not-have-permission"></a>Client-side JavaScript code does not have permission to access the object</span></span>
<span data-ttu-id="f5a56-664">JavaScript 클라이언트를 사용 중인데 저장소 서비스에서 HTTP 404 메시지를 반환하는 경우에는 브라우저에서 다음 JavaScript 오류를 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-664">If you are using a JavaScript client and the storage service is returning HTTP 404 messages, you check for the following JavaScript errors in the browser:</span></span>

```
SEC7120: Origin http://localhost:56309 not found in Access-Control-Allow-Origin header.
SCRIPT7002: XMLHttpRequest: Network Error 0x80070005, Access is denied.
```

> [!NOTE]
> <span data-ttu-id="f5a56-665">클라이언트 쪽 JavaScript 문제를 해결할 때는 Internet Explorer에서 F12 개발자 도구를 사용하여 브라우저와 저장소 서비스 간에 교환되는 메시지를 추적할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-665">You can use the F12 Developer Tools in Internet Explorer to trace the messages exchanged between the browser and the storage service when you are troubleshooting client-side JavaScript issues.</span></span>
> 
> 

<span data-ttu-id="f5a56-666">이러한 오류가 발생하는 이유는 웹 페이지가 생성된 도메인과 다른 도메인에서 API를 호출할 수 없도록 하는 <a href="http://www.w3.org/Security/wiki/Same_Origin_Policy" target="_blank">동일 원본 정책</a> 보안 제한을 웹 브라우저가 구현하기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-666">These errors occur because the web browser implements the <a href="http://www.w3.org/Security/wiki/Same_Origin_Policy" target="_blank">same-origin policy</a> security restriction that prevents a web page from calling an API in a different domain from the domain the page comes from.</span></span>

<span data-ttu-id="f5a56-667">JavaScript 문제를 해결하려면 클라이언트가 액세스하는 저장소 서비스에 대해 CORS(Cross-Origin Resource Sharing)을 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-667">To work around the JavaScript issue, you can configure Cross Origin Resource Sharing (CORS) for the storage service the client is accessing.</span></span> <span data-ttu-id="f5a56-668">자세한 내용은 MSDN의 <a href="http://msdn.microsoft.com/library/azure/dn535601.aspx" target="_blank">Azure 저장소 서비스에 대한 CORS(크로스-원본 자원 공유) 지원</a>을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-668">For more information, see <a href="http://msdn.microsoft.com/library/azure/dn535601.aspx" target="_blank">Cross-Origin Resource Sharing (CORS) Support for Azure Storage Services</a> on MSDN.</span></span>

<span data-ttu-id="f5a56-669">다음 코드 샘플에서는 Contoso 도메인에서 실행되는 JavaScript가 Blob 저장소 서비스의 Blob에 액세스할 수 있도록 Blob 서비스를 구성하는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-669">The following code sample shows how to configure your blob service to allow JavaScript running in the Contoso domain to access a blob in your blob storage service:</span></span>

```csharp
CloudBlobClient client = new CloudBlobClient(blobEndpoint, new StorageCredentials(accountName, accountKey));
// Set the service properties.
ServiceProperties sp = client.GetServiceProperties();
sp.DefaultServiceVersion = "2013-08-15";
CorsRule cr = new CorsRule();
cr.AllowedHeaders.Add("*");
cr.AllowedMethods = CorsHttpMethods.Get | CorsHttpMethods.Put;
cr.AllowedOrigins.Add("http://www.contoso.com");
cr.ExposedHeaders.Add("x-ms-*");
cr.MaxAgeInSeconds = 5;
sp.Cors.CorsRules.Clear();
sp.Cors.CorsRules.Add(cr);
client.SetServiceProperties(sp);
```

#### <span data-ttu-id="f5a56-670"><a name="network-failure"></a>네트워크 오류</span><span class="sxs-lookup"><span data-stu-id="f5a56-670"><a name="network-failure"></a>Network Failure</span></span>
<span data-ttu-id="f5a56-671">네트워크 패킷 손실로 인해 저장소 서비스가 HTTP 404 메시지를 클라이언트에 반환하는 경우가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-671">In some circumstances, lost network packets can lead to the storage service returning HTTP 404 messages to the client.</span></span> <span data-ttu-id="f5a56-672">예를 들어 클라이언트 응용 프로그램이 테이블 서비스의 엔터티를 삭제할 때 클라이언트가 저장소 예외를 throw하고 테이블 서비스에서 "HTTP 404(찾을 수 없음)" 상태 메시지를 보고할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-672">For example, when your client application is deleting an entity from the table service you see the client throw a storage exception reporting an "HTTP 404 (Not Found)" status message from the table service.</span></span> <span data-ttu-id="f5a56-673">그런데 테이블 저장소 서비스에서 테이블을 조사하면 서비스가 요청대로 엔터티를 삭제했음이 확인됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-673">When you investigate the table in the table storage service, you see that the service did delete the entity as requested.</span></span>

<span data-ttu-id="f5a56-674">클라이언트의 예외 세부 정보에는 Table service가 요청에 대해 할당한 요청 ID(7e84f12d…)가 포함됩니다. 이 정보를 사용하여 로그 파일에서 **request-id-header** 열을 검색해 서버 쪽 저장소 로그에서 요청 세부 정보를 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-674">The exception details in the client include the request id (7e84f12d…) assigned by the table service for the request: you can use this information to locate the request details in the server-side storage logs by searching in the **request-id-header** column in the log file.</span></span> <span data-ttu-id="f5a56-675">메트릭을 사용하여 이러한 오류가 발생하는 시기를 파악한 다음 메트릭에서 이 오류를 기록한 시간을 기준으로 로그 파일을 검색할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-675">You could also use the metrics to identify when failures such as this occur and then search the log files based on the time the metrics recorded this error.</span></span> <span data-ttu-id="f5a56-676">이 로그 항목에는 "HTTP(404) 클라이언트 기타 오류" 상태 메시지를 반환하며 실패한 삭제 작업이 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-676">This log entry shows that the delete failed with an "HTTP (404) Client Other Error" status message.</span></span> <span data-ttu-id="f5a56-677">같은 로그 항목의 **client-request-id** 열에는 클라이언트가 생성한 요청 ID(813ea74f…)도 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-677">The same log entry also includes the request id generated by the client in the **client-request-id** column (813ea74f…).</span></span>

<span data-ttu-id="f5a56-678">같은 엔터티/같은 클라이언트에서 성공한 삭제 작업에 대해 같은 **client-request-id** 값(813ea74f…)의 다른 항목도 서버 쪽 로그에 포함될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-678">The server-side log also includes another entry with the same **client-request-id** value (813ea74f…) for a successful delete operation for the same entity, and from the same client.</span></span> <span data-ttu-id="f5a56-679">이와 같은 성공한 삭제 작업은 실패한 삭제 요청 직전에 수행된 것입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-679">This successful delete operation took place very shortly before the failed delete request.</span></span>

<span data-ttu-id="f5a56-680">이 시나리오는 클라이언트가 테이블 서비스로 엔터티에 대해 보낸 삭제 요청이 성공했는데 일시적인 네트워크 문제 등으로 인해 서버에서 승인을 받지 못한 경우 발생할 가능성이 가장 높습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-680">The most likely cause of this scenario is that the client sent a delete request for the entity to the table service, which succeeded, but did not receive an acknowledgement from the server (perhaps due to a temporary network issue).</span></span> <span data-ttu-id="f5a56-681">그 후 클라이언트는 같은 **client-request-id**를 사용하여 작업을 다시 시도했으나 엔터티가 이미 삭제되었기 때문에 다시 시도가 실패한 것입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-681">The client then automatically retried the operation (using the same **client-request-id**), and this retry failed because the entity had already been deleted.</span></span>

<span data-ttu-id="f5a56-682">이 문제가 자주 발생하는 경우 클라이언트가 테이블 서비스에서 승인을 받지 못하는 이유를 조사해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-682">If this problem occurs frequently, you should investigate why the client is failing to receive acknowledgements from the table service.</span></span> <span data-ttu-id="f5a56-683">문제가 일시적으로 발생하는 경우 "HTTP(404) 찾을 수 없음" 오류를 트래핑하고 클라이언트에서 기록하되 클라이언트가 작업을 계속 진행하도록 허용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-683">If the problem is intermittent, you should trap the "HTTP (404) Not Found" error and log it in the client, but allow the client to continue.</span></span>

### <span data-ttu-id="f5a56-684"><a name="the-client-is-receiving-409-messages"></a>클라이언트에 HTTP 409(충돌) 메시지가 표시됨</span><span class="sxs-lookup"><span data-stu-id="f5a56-684"><a name="the-client-is-receiving-409-messages"></a>The client is receiving HTTP 409 (Conflict) messages</span></span>
<span data-ttu-id="f5a56-685">아래 표에는 두 클라이언트 작업과 관련하여 서버 쪽 로그에서 발췌한 내용이 나와 있습니다. 같은 Blob 컨테이너 이름을 사용하여 **DeleteIfExists**를 수행한 직후에 **CreateIfNotExists**를 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-685">The following table shows an extract from the server-side log for two client operations: **DeleteIfExists** followed immediately by **CreateIfNotExists** using the same blob container name.</span></span> <span data-ttu-id="f5a56-686">각 클라이언트 작업에서는 서버에 두 개의 요청을 보냅니다. 먼저 **GetContainerProperties** 요청을 보내 컨테이너가 있는지 확인한 다음 **DeleteContainer** 또는 **CreateContainer** 요청을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-686">Note that each client operation results in two requests sent to the server, first a **GetContainerProperties** request to check if the container exists, followed by the **DeleteContainer** or **CreateContainer** request.</span></span>

| <span data-ttu-id="f5a56-687">Timestamp</span><span class="sxs-lookup"><span data-stu-id="f5a56-687">Timestamp</span></span> | <span data-ttu-id="f5a56-688">작업</span><span class="sxs-lookup"><span data-stu-id="f5a56-688">Operation</span></span> | <span data-ttu-id="f5a56-689">결과</span><span class="sxs-lookup"><span data-stu-id="f5a56-689">Result</span></span> | <span data-ttu-id="f5a56-690">컨테이너 이름</span><span class="sxs-lookup"><span data-stu-id="f5a56-690">Container name</span></span> | <span data-ttu-id="f5a56-691">클라이언트 요청 ID</span><span class="sxs-lookup"><span data-stu-id="f5a56-691">Client request id</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="f5a56-692">05:10:13.7167225</span><span class="sxs-lookup"><span data-stu-id="f5a56-692">05:10:13.7167225</span></span> |<span data-ttu-id="f5a56-693">GetContainerProperties</span><span class="sxs-lookup"><span data-stu-id="f5a56-693">GetContainerProperties</span></span> |<span data-ttu-id="f5a56-694">200</span><span class="sxs-lookup"><span data-stu-id="f5a56-694">200</span></span> |<span data-ttu-id="f5a56-695">mmcont</span><span class="sxs-lookup"><span data-stu-id="f5a56-695">mmcont</span></span> |<span data-ttu-id="f5a56-696">c9f52c89-…</span><span class="sxs-lookup"><span data-stu-id="f5a56-696">c9f52c89-…</span></span> |
| <span data-ttu-id="f5a56-697">05:10:13.8167325</span><span class="sxs-lookup"><span data-stu-id="f5a56-697">05:10:13.8167325</span></span> |<span data-ttu-id="f5a56-698">DeleteContainer</span><span class="sxs-lookup"><span data-stu-id="f5a56-698">DeleteContainer</span></span> |<span data-ttu-id="f5a56-699">202</span><span class="sxs-lookup"><span data-stu-id="f5a56-699">202</span></span> |<span data-ttu-id="f5a56-700">mmcont</span><span class="sxs-lookup"><span data-stu-id="f5a56-700">mmcont</span></span> |<span data-ttu-id="f5a56-701">c9f52c89-…</span><span class="sxs-lookup"><span data-stu-id="f5a56-701">c9f52c89-…</span></span> |
| <span data-ttu-id="f5a56-702">05:10:13.8987407</span><span class="sxs-lookup"><span data-stu-id="f5a56-702">05:10:13.8987407</span></span> |<span data-ttu-id="f5a56-703">GetContainerProperties</span><span class="sxs-lookup"><span data-stu-id="f5a56-703">GetContainerProperties</span></span> |<span data-ttu-id="f5a56-704">404</span><span class="sxs-lookup"><span data-stu-id="f5a56-704">404</span></span> |<span data-ttu-id="f5a56-705">mmcont</span><span class="sxs-lookup"><span data-stu-id="f5a56-705">mmcont</span></span> |<span data-ttu-id="f5a56-706">bc881924-…</span><span class="sxs-lookup"><span data-stu-id="f5a56-706">bc881924-…</span></span> |
| <span data-ttu-id="f5a56-707">05:10:14.2147723</span><span class="sxs-lookup"><span data-stu-id="f5a56-707">05:10:14.2147723</span></span> |<span data-ttu-id="f5a56-708">CreateContainer</span><span class="sxs-lookup"><span data-stu-id="f5a56-708">CreateContainer</span></span> |<span data-ttu-id="f5a56-709">409</span><span class="sxs-lookup"><span data-stu-id="f5a56-709">409</span></span> |<span data-ttu-id="f5a56-710">mmcont</span><span class="sxs-lookup"><span data-stu-id="f5a56-710">mmcont</span></span> |<span data-ttu-id="f5a56-711">bc881924-…</span><span class="sxs-lookup"><span data-stu-id="f5a56-711">bc881924-…</span></span> |

<span data-ttu-id="f5a56-712">클라이언트 응용 프로그램의 코드는 Blob 컨테이너를 삭제한 다음 같은 이름을 사용하여 즉시 다시 만듭니다. 최종적으로 **CreateIfNotExists** 메서드(클라이언트 요청 ID bc881924-…)는 실패하며 HTTP 409(충돌) 오류가 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-712">The code in the client application deletes and then immediately recreates a blob container using the same name: the **CreateIfNotExists** method (Client request ID bc881924-…) eventually fails with the HTTP 409 (Conflict) error.</span></span> <span data-ttu-id="f5a56-713">클라이언트가 Blob 컨테이너, 테이블 또는 큐를 삭제할 때는 해당 이름을 다시 사용할 수 있을 때까지 약간 시간이 걸립니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-713">When a client deletes blob containers, tables, or queues there is a brief period before the name becomes available again.</span></span>

<span data-ttu-id="f5a56-714">삭제/다시 만들기 패턴이 공통적으로 사용되는 경우 클라이언트 응용 프로그램은 새 컨테이너를 만들 때마다 고유한 컨테이너 이름을 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-714">The client application should use unique container names whenever it creates new containers if the delete/recreate pattern is common.</span></span>

### <span data-ttu-id="f5a56-715"><a name="metrics-show-low-percent-success"></a>메트릭에 PercentSuccess가 낮게 표시되거나 분석 로그 항목에 트랜잭션 상태가 ClientOtherErrors 상태인 작업이 있음</span><span class="sxs-lookup"><span data-stu-id="f5a56-715"><a name="metrics-show-low-percent-success"></a>Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors</span></span>
<span data-ttu-id="f5a56-716">**PercentSuccess** 메트릭은 HTTP 상태 코드를 기준으로 성공한 작업 비율을 캡처합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-716">The **PercentSuccess** metric captures the percent of operations that were successful based on their HTTP Status Code.</span></span> <span data-ttu-id="f5a56-717">상태 코드가 2XX인 작업은 성공한 작업으로 계산되고 상태 코드가 3XX, 4XX, 5XX 범위에 속하는 작업은 실패한 작업으로 계산되며 낮은 **PercentSucess** 메트릭 값이 지정됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-717">Operations with status codes of 2XX count as successful, whereas operations with status codes in 3XX, 4XX and 5XX ranges are counted as unsuccessful and lower the **PercentSucess** metric value.</span></span> <span data-ttu-id="f5a56-718">서버 쪽 저장소 로그 파일에서 이러한 작업은 트랜잭션 상태 **ClientOtherErrors**로 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-718">In the server-side storage log files, these operations are recorded with a transaction status of **ClientOtherErrors**.</span></span>

<span data-ttu-id="f5a56-719">이러한 작업은 정상적으로 완료되었으므로 가용성 등의 기타 메트릭에는 영향을 주지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-719">It is important to note that these operations have completed successfully and therefore do not affect other metrics such as availability.</span></span> <span data-ttu-id="f5a56-720">정상적으로 실행되지만 작업 실패에 해당하는 HTTP 상태 코드를 표시하는 작업의 몇 가지 예는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-720">Some examples of operations that execute successfully but that can result in unsuccessful HTTP status codes include:</span></span>

* <span data-ttu-id="f5a56-721">**ResourceNotFound** (찾을 수 없음 404): 존재하지 않는 Blob에 대한 GET 요청 등에서 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-721">**ResourceNotFound** (Not Found 404), for example from a GET request to a blob that does not exist.</span></span>
* <span data-ttu-id="f5a56-722">**ResouceAlreadyExists**(충돌 409): 리소스가 이미 있는 **CreateIfNotExist** 작업 등에서 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-722">**ResouceAlreadyExists** (Conflict 409), for example from a **CreateIfNotExist** operation where the resource already exists.</span></span>
* <span data-ttu-id="f5a56-723">**ConditionNotMet**(수정되지 않음 304): 클라이언트가 **ETag** 값과 HTTP **If-None-Match** 헤더를 보내 마지막 작업 이후 업데이트된 경우에만 이미지를 요청하는 것과 같은 조건부 작업 등에서 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-723">**ConditionNotMet** (Not Modified 304), for example from a conditional operation such as when a client sends an **ETag** value and an HTTP **If-None-Match** header to request an image only if it has been updated since the last operation.</span></span>

<span data-ttu-id="f5a56-724">저장소 서비스에서 반환하는 공통 REST API 오류 코드의 목록은 <a href="http://msdn.microsoft.com/library/azure/dd179357.aspx" target="_blank">공통 REST API 오류 코드</a> 페이지에서 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-724">You can find a list of common REST API error codes that the storage services return on the page <a href="http://msdn.microsoft.com/library/azure/dd179357.aspx" target="_blank">Common REST API Error Codes</a>.</span></span>

### <span data-ttu-id="f5a56-725"><a name="capacity-metrics-show-an-unexpected-increase"></a>용량 메트릭에 예기치 않은 저장소 용량 사용 증가가 표시됨</span><span class="sxs-lookup"><span data-stu-id="f5a56-725"><a name="capacity-metrics-show-an-unexpected-increase"></a>Capacity metrics show an unexpected increase in storage capacity usage</span></span>
<span data-ttu-id="f5a56-726">저장소 계정에서 용량 사용량이 예기치 않게 갑자기 변경되는 경우 먼저 가용성 메트릭을 확인하여 원인을 조사할 수 있습니다. 예를 들어 삭제 요청 실패 수가 증가하면 Blob 저장소 사용량도 증가할 수 있습니다. 공간 확보에 사용되는 SAS 토큰 만료 등의 이유로 인해 공간을 확보하기 위해 수행하는 응용 프로그램 관련 정리 작업이 예상대로 작동하지 않기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-726">If you see sudden, unexpected changes in capacity usage in your storage account, you can investigate the reasons by first looking at your availability metrics; for example, an increase in the number of failed delete requests might lead to an increase in the amount of blob storage you are using as application specific cleanup operations you might have expected to be freeing up space may not be working as expected (for example, because the SAS tokens used for freeing up space have expired).</span></span>

### <span data-ttu-id="f5a56-727"><a name="you-are-experiencing-unexpected-reboots"></a>많은 수의 VHD가 연결된 가상 컴퓨터가 예기치 않게 다시 부팅됨</span><span class="sxs-lookup"><span data-stu-id="f5a56-727"><a name="you-are-experiencing-unexpected-reboots"></a>You are experiencing unexpected reboots of Azure Virtual Machines that have a large number of attached VHDs</span></span>
<span data-ttu-id="f5a56-728">Azure VM(가상 컴퓨터)에 같은 저장소 계정의 VHD가 여러 개 연결되어 있으면 개별 저장소 계정의 확장성 목표가 초과되어 VM에서 오류가 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-728">If an Azure Virtual Machine (VM) has a large number of attached VHDs that are in the same storage account, you could exceed the scalability targets for an individual storage account causing the VM to fail.</span></span> <span data-ttu-id="f5a56-729">저장소 계정의 분 메트릭(**TotalRequests**/**TotalIngress**/**TotalEgress**)에서 저장소 계정의 확장성 목표를 초과하는 메트릭 값의 급증 현상을 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-729">You should check the minute metrics for the storage account (**TotalRequests**/**TotalIngress**/**TotalEgress**) for spikes that exceed the scalability targets for a storage account.</span></span> <span data-ttu-id="f5a56-730">저장소 계정에 대해 제한이 적용되었는지를 확인하는 데 도움이 필요하면 "[메트릭에서 PercentThrottlingError가 증가하는 것으로 표시됨]" 섹션을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-730">See the section "[Metrics show an increase in PercentThrottlingError]" for assistance in determining if throttling has occurred on your storage account.</span></span>

<span data-ttu-id="f5a56-731">일반적으로 가상 컴퓨터에서 수행하는 VHD의 개별 입력 또는 출력 작업은 기본 페이지 Blob에서 **페이지 가져오기** 또는 **페이지 배치** 작업으로 변환됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-731">In general, each individual input or output operation on a VHD from a Virtual Machine translates to **Get Page** or **Put Page** operations on the underlying page blob.</span></span> <span data-ttu-id="f5a56-732">따라서 환경에 대한 예상 IOPS를 사용하여 응용 프로그램의 특정 동작을 기준으로 단일 저장소 계정에 포함할 수 있는 VHD의 수를 조정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-732">Therefore, you can use the estimated IOPS for your environment to tune how many VHDs you can have in a single storage account based on the specific behavior of your application.</span></span> <span data-ttu-id="f5a56-733">단일 저장소 계정에 디스크를 40개 이하로 유지하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-733">We do not recommend having more than 40 disks in a single storage account.</span></span> <span data-ttu-id="f5a56-734">저장소 계정의 현재 확장성 목표, 특히 사용 중인 저장소 계정 유형에 대한 총 요청 속도 및 총 대역폭에 대한 자세한 내용은 <a href="http://msdn.microsoft.com/library/azure/dn249410.aspx" target="_blank">Azure 저장소 확장성 및 성능 목표</a>를 참조하세요. 저장소 계정의 확장성 목표가 초과되는 경우에는 여러 저장소 계정에 VHD를 배치하여 개별 계정의 작업량을 줄여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-734">See <a href="http://msdn.microsoft.com/library/azure/dn249410.aspx" target="_blank">Azure Storage Scalability and Performance Targets</a> for details of the current scalability targets for storage accounts, in particular the total request rate and total bandwidth for the type of storage account you are using.</span></span>
<span data-ttu-id="f5a56-735">저장소 계정의 확장성 목표를 초과 하는 경우에 각 개별 계정에 대한 작업을 줄일 수 있는 여러 다른 저장소 계정에서 Vhd를 배치 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-735">If you are exceeding the scalability targets for your storage account, you should place your VHDs in multiple different storage accounts to reduce the activity in each individual account.</span></span>

### <span data-ttu-id="f5a56-736"><a name="your-issue-arises-from-using-the-storage-emulator"></a>개발 또는 테스트용으로 저장소 에뮬레이터 사용 시 문제가 발생함</span><span class="sxs-lookup"><span data-stu-id="f5a56-736"><a name="your-issue-arises-from-using-the-storage-emulator"></a>Your issue arises from using the storage emulator for development or test</span></span>
<span data-ttu-id="f5a56-737">일반적으로는 Azure 저장소 계정을 사용하지 않기 위해 개발 및 테스트 시 저장소 에뮬레이터를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-737">You typically use the storage emulator during development and test to avoid the requirement for an Azure storage account.</span></span> <span data-ttu-id="f5a56-738">저장소 에뮬레이터를 사용할 때 일반적으로 발생할 수 있는 문제는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-738">The common issues that can occur when you are using the storage emulator are:</span></span>

* <span data-ttu-id="f5a56-739">["X" 기능이 저장소 에뮬레이터에서 작동하지 않음]</span><span class="sxs-lookup"><span data-stu-id="f5a56-739">[Feature "X" is not working in the storage emulator]</span></span>
* <span data-ttu-id="f5a56-740">[저장소 에뮬레이터를 사용할 때 "HTTP 헤더 중 하나의 값이 올바른 형식이 아닙니다." 오류가 발생함]</span><span class="sxs-lookup"><span data-stu-id="f5a56-740">[Error "The value for one of the HTTP headers is not in the correct format" when using the storage emulator]</span></span>
* <span data-ttu-id="f5a56-741">[저장소 에뮬레이터를 실행하려면 관리 권한이 필요함]</span><span class="sxs-lookup"><span data-stu-id="f5a56-741">[Running the storage emulator requires administrative privileges]</span></span>

#### <span data-ttu-id="f5a56-742"><a name="feature-X-is-not-working"></a>"X" 기능이 저장소 에뮬레이터에서 작동하지 않음</span><span class="sxs-lookup"><span data-stu-id="f5a56-742"><a name="feature-X-is-not-working"></a>Feature "X" is not working in the storage emulator</span></span>
<span data-ttu-id="f5a56-743">저장소 에뮬레이터는 파일 서비스 등 Azure 저장소 서비스의 일부 기능을 지원하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-743">The storage emulator does not support all of the features of the Azure storage services such as the file service.</span></span> <span data-ttu-id="f5a56-744">자세한 내용은 MSDN의 <a href="http://msdn.microsoft.com/library/azure/gg433135.aspx" target="_blank">저장소 에뮬레이터와 Azure 저장소 서비스의 차이점</a>을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-744">For more information, see <a href="http://msdn.microsoft.com/library/azure/gg433135.aspx" target="_blank">Differences Between the Storage Emulator and Azure Storage Services</a> on MSDN.</span></span>

<span data-ttu-id="f5a56-745">저장소 에뮬레이터에서 지원하지 않는 기능의 경우 클라우드에서 Azure 저장소 서비스를 사용하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-745">For those features that the storage emulator does not support, use the Azure storage service in the cloud.</span></span>

#### <span data-ttu-id="f5a56-746"><a name="error-HTTP-header-not-correct-format"></a>저장소 에뮬레이터를 사용할 때 "HTTP 헤더 중 하나의 값이 올바른 형식이 아닙니다." 오류가 발생함</span><span class="sxs-lookup"><span data-stu-id="f5a56-746"><a name="error-HTTP-header-not-correct-format"></a>Error "The value for one of the HTTP headers is not in the correct format" when using the storage emulator</span></span>
<span data-ttu-id="f5a56-747">로컬 저장소 에뮬레이터에 대해 저장소 클라이언트 라이브러리를 사용하는 응용 프로그램을 테스트 중인데 **CreateIfNotExists** 와 같은 메서드를 호출하면 "HTTP 헤더 중 하나의 값이 올바른 형식이 아닙니다." 오류가 발생하고 호출이 실패합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-747">You are testing your application that use the Storage Client Library against the local storage emulator and method calls such as **CreateIfNotExists** fail with the error message "The value for one of the HTTP headers is not in the correct format."</span></span> <span data-ttu-id="f5a56-748">이 오류는 사용 중인 저장소 에뮬레이터의 버전이 사용 중인 저장소 클라이언트 라이브러리의 버전을 지원하지 않음을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-748">This indicates that the version of the storage emulator you are using does not support the version of the storage client library you are using.</span></span> <span data-ttu-id="f5a56-749">저장소 클라이언트 라이브러리는 생성하는 모든 요청에 **x-ms-version** 헤더를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-749">The Storage Client Library adds the header **x-ms-version** to all the requests it makes.</span></span> <span data-ttu-id="f5a56-750">저장소 에뮬레이터는 **x-ms-version** 헤더의 값을 인식할 수 없으면 요청을 거부합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-750">If the storage emulator does not recognize the value in the **x-ms-version** header, it rejects the request.</span></span>

<span data-ttu-id="f5a56-751">저장소 라이브러리 클라이언트 로그를 사용하여 해당 클라이언트가 전송하는 **x-ms-version header** 의 값을 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-751">You can use the Storage Library Client logs to see the value of the **x-ms-version header** it is sending.</span></span> <span data-ttu-id="f5a56-752">Fiddler를 사용하는 경우 **x-ms-version header** 의 값을 확인하여 클라이언트 응용 프로그램의 요청을 추적할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-752">You can also see the value of the **x-ms-version header** if you use Fiddler to trace the requests from your client application.</span></span>

<span data-ttu-id="f5a56-753">일반적으로는 저장소 에뮬레이터를 업데이트하지 않고 저장소 클라이언트 라이브러리의 최신 버전을 설치하여 사용하는 경우 이 시나리오가 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-753">This scenario typically occurs if you install and use the latest version of the Storage Client Library without updating the storage emulator.</span></span> <span data-ttu-id="f5a56-754">저장소 에뮬레이터의 최신 버전을 설치하거나 개발 및 테스트에 에뮬레이터 대신 클라우드 저장소를 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-754">You should either install the latest version of the storage emulator, or use cloud storage instead of the emulator for development and test.</span></span>

#### <span data-ttu-id="f5a56-755"><a name="storage-emulator-requires-administrative-privileges"></a>저장소 에뮬레이터를 실행하려면 관리 권한이 필요함</span><span class="sxs-lookup"><span data-stu-id="f5a56-755"><a name="storage-emulator-requires-administrative-privileges"></a>Running the storage emulator requires administrative privileges</span></span>
<span data-ttu-id="f5a56-756">저장소 에뮬레이터를 실행하면 관리자 자격 증명을 입력하라는 메시지가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-756">You are prompted for administrator credentials when you run the storage emulator.</span></span> <span data-ttu-id="f5a56-757">이러한 메시지는 저장소 에뮬레이터를 처음 초기화할 때만 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-757">This only occurs when you are initializing the storage emulator for the first time.</span></span> <span data-ttu-id="f5a56-758">저장소 에뮬레이터를 초기화한 후에는 관리 권한이 없어도 에뮬레이터를 실행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-758">After you have initialized the storage emulator, you do not need administrative privileges to run it again.</span></span>

<span data-ttu-id="f5a56-759">자세한 내용은 MSDN의 <a href="http://msdn.microsoft.com/library/azure/gg433132.aspx" target="_blank">명령줄 도구를 사용하여 저장소 에뮬레이터 초기화</a>를 참조하세요. Visual Studio에서 저장소 에뮬레이터를 초기화할 수도 있으며, 이 경우에도 역시 관리 권한이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-759">For more information, see <a href="http://msdn.microsoft.com/library/azure/gg433132.aspx" target="_blank">Initialize the Storage Emulator by Using the Command-Line Tool</a> on MSDN (you can also initialize the storage emulator in Visual Studio, which will also require administrative privileges).</span></span>

### <span data-ttu-id="f5a56-760"><a name="you-are-encountering-problems-installing-the-Windows-Azure-SDK"></a>Azure SDK for .NET 설치 시 문제가 발생함</span><span class="sxs-lookup"><span data-stu-id="f5a56-760"><a name="you-are-encountering-problems-installing-the-Windows-Azure-SDK"></a>You are encountering problems installing the Azure SDK for .NET</span></span>
<span data-ttu-id="f5a56-761">SDK 설치 시 로컬 컴퓨터에서 저장소 에뮬레이터 설치가 실패합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-761">When you try to install the SDK, it fails trying to install the storage emulator on your local machine.</span></span> <span data-ttu-id="f5a56-762">이 경우 설치 로그에는 다음 메시지 중 하나가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-762">The installation log contains one of the following messages:</span></span>

* <span data-ttu-id="f5a56-763">CAQuietExec: 오류: SQL 인스턴스에 액세스할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-763">CAQuietExec:  Error: Unable to access SQL instance</span></span>
* <span data-ttu-id="f5a56-764">CAQuietExec: 오류: 데이터베이스를 만들 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-764">CAQuietExec:  Error: Unable to create database</span></span>

<span data-ttu-id="f5a56-765">이 오류의 원인은 기존 LocalDB 설치의 문제입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-765">The cause is an issue with existing LocalDB installation.</span></span> <span data-ttu-id="f5a56-766">저장소 에뮬레이터는 Azure 저장소 서비스를 시뮬레이트할 때 기본적으로 LocalDB를 사용하여 데이터를 영구적으로 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-766">By default, the storage emulator uses LocalDB to persist data when it simulates the Azure storage services.</span></span> <span data-ttu-id="f5a56-767">SDK를 설치하기 전에 명령 프롬프트 창에서 다음 명령을 실행하여 LocalDB 인스턴스를 다시 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-767">You can reset your LocalDB instance by running the following commands in a command-prompt window before trying to install the SDK.</span></span>

```
sqllocaldb stop v11.0
sqllocaldb delete v11.0
delete %USERPROFILE%\WAStorageEmulatorDb3*.*
sqllocaldb create v11.0
```

<span data-ttu-id="f5a56-768">**delete** 명령은 저장소 에뮬레이터의 이전 설치에서 오래된 데이터베이스 파일을 모두 제거합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-768">The **delete** command removes any old database files from previous installations of the storage emulator.</span></span>

### <span data-ttu-id="f5a56-769"><a name="you-have-a-different-issue-with-a-storage-service"></a>저장소 서비스에서 다른 문제가 발생함</span><span class="sxs-lookup"><span data-stu-id="f5a56-769"><a name="you-have-a-different-issue-with-a-storage-service"></a>You have a different issue with a storage service</span></span>
<span data-ttu-id="f5a56-770">이전 문제 해결 섹션에 나와 있지 않은 문제가 저장소 서비스에서 발생한 경우에는 다음 방식을 통해 문제를 진단하고 해결해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-770">If the previous troubleshooting sections do not include the issue you are having with a storage service, you should adopt the following approach to diagnosing and troubleshooting your issue.</span></span>

* <span data-ttu-id="f5a56-771">예상한 기본 동작에서 변경된 사항이 있는지 메트릭을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-771">Check your metrics to see if there is any change from your expected base-line behavior.</span></span> <span data-ttu-id="f5a56-772">메트릭을 참조하여 문제가 일시적인지 영구적인지와 문제의 영향을 받는 저장소 작업을 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-772">From the metrics, you may be able to determine whether the issue is transient or permanent, and which storage operations the issue is affecting.</span></span>
* <span data-ttu-id="f5a56-773">메트릭 정보를 사용하면 서버 쪽 로그 데이터에서 발생하는 오류에 대한 보다 자세한 정보를 검색할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-773">You can use the metrics information to help you search your server-side log data for more detailed information about any errors that are occurring.</span></span> <span data-ttu-id="f5a56-774">이 정보는 문제를 해결하는 데 도움이 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-774">This information may help you troubleshoot and resolve the issue.</span></span>
* <span data-ttu-id="f5a56-775">서버 쪽 로그의 정보만으로는 문제를 올바르게 해결할 수 없는 경우에는 저장소 클라이언트 라이브러리 클라이언트 쪽 로그를 사용하여 클라이언트 응용 프로그램의 동작을 조사하고 Fiddler, Wireshark, Microsoft Message Analyzer 등의 도구를 사용하여 네트워크를 조사할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-775">If the information in the server-side logs is not sufficient to troubleshoot the issue successfully, you can use the Storage Client Library client-side logs to investigate the behavior of your client application, and tools such as Fiddler, Wireshark, and Microsoft Message Analyzer to investigate your network.</span></span>

<span data-ttu-id="f5a56-776">Fiddler 사용에 대한 자세한 내용은 “[부록1: Fiddler를 사용하여 HTTP 및 HTTPS 트래픽 캡처]”를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-776">For more information about using Fiddler, see "[Appendix 1: Using Fiddler to capture HTTP and HTTPS traffic]."</span></span>

<span data-ttu-id="f5a56-777">Wireshark 사용에 대한 자세한 내용은 "[부록 2: Wireshark를 사용하여 네트워크 트래픽 캡처]"를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-777">For more information about using Wireshark, see "[Appendix 2: Using Wireshark to capture network traffic]."</span></span>

<span data-ttu-id="f5a56-778">Microsoft Message Analyzer 사용에 대한 자세한 내용은[부록3: Microsoft 메시지 분석기를 사용하여 네트워크 트래픽 캡처]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-778">For more information about using Microsoft Message Analyzer, see "[Appendix 3: Using Microsoft Message Analyzer to capture network traffic]."</span></span>

## <span data-ttu-id="f5a56-779"><a name="appendices"></a>부록</span><span class="sxs-lookup"><span data-stu-id="f5a56-779"><a name="appendices"></a>Appendices</span></span>
<span data-ttu-id="f5a56-780">부록에서는 Azure 저장소 및 기타 서비스의 문제를 진단 및 해결할 때 유용할 수 있는 여러 가지 도구에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-780">The appendices describe several tools that you may find useful when you are diagnosing and troubleshooting issues with Azure Storage (and other services).</span></span> <span data-ttu-id="f5a56-781">이러한 도구는 Azure 저장소에 포함되지는 않으며, 타사 제품도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-781">These tools are not part of Azure Storage and some are third-party products.</span></span> <span data-ttu-id="f5a56-782">그러므로 이 부록에서 설명하는 도구에는 Microsoft Azure 또는 Azure 저장소에 적용될 수 있는 지원 규약이 적용되지 않기 때문에 평가 프로세스의 일환으로 이러한 도구의 공급자가 제공하는 라이선스 및 지원 옵션을 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-782">As such, the tools discussed in these appendices are not covered by any support agreement you may have with Microsoft Azure or Azure Storage, and therefore as part of your evaluation process you should examine the licensing and support options available from the providers of these tools.</span></span>

### <span data-ttu-id="f5a56-783"><a name="appendix-1"></a>부록1: Fiddler를 사용하여 HTTP 및 HTTPS 트래픽 캡처</span><span class="sxs-lookup"><span data-stu-id="f5a56-783"><a name="appendix-1"></a>Appendix 1: Using Fiddler to capture HTTP and HTTPS traffic</span></span>
<span data-ttu-id="f5a56-784">Fiddler는 사용 중인 Azure 저장소 서비스와 클라이언트 응용 프로그램 간의 HTTP 및 HTTPS 트래픽을 분석하는 유용한 도구입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-784">Fiddler is a useful tool for analyzing the HTTP and HTTPS traffic between your client application and the Azure storage service you are using.</span></span> <span data-ttu-id="f5a56-785"><a href="http://www.telerik.com/fiddler" target="_blank">http://www.telerik.com/fiddler</a>에서 Fiddler를 다운로드할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-785">You can download Fiddler from <a href="http://www.telerik.com/fiddler" target="_blank">http://www.telerik.com/fiddler</a>.</span></span>

> [!NOTE]
> <span data-ttu-id="f5a56-786">Fiddler는 HTTPS 트래픽을 디코딩할 수 있습니다. Fiddler 설명서에서 Fiddler가 HTTPS 트래픽을 디코딩하는 방식과 그에 따른 보안 관련 사항을 자세히 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-786">Fiddler can decode HTTPS traffic; you should read the Fiddler documentation carefully to understand how it does this, and to understand the security implications.</span></span>
> 
> 

<span data-ttu-id="f5a56-787">이 부록에서는 Fiddler를 설치한 로컬 컴퓨터와 Azure 저장소 서비스 간의 트래픽을 캡처하도록 Fiddler를 구성하는 방법의 간략한 연습을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-787">This appendix provides a brief walkthrough of how to configure Fiddler to capture traffic between the local machine where you have installed Fiddler and the Azure storage services.</span></span>

<span data-ttu-id="f5a56-788">Fiddler를 시작하면 로컬 컴퓨터에서 HTTP 및 HTTPS 트래픽 캡처가 시작됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-788">After you have launched Fiddler, it will begin capturing HTTP and HTTPS traffic on your local machine.</span></span> <span data-ttu-id="f5a56-789">아래에는 Fiddler를 제어하는 몇 가지 유용한 명령이 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-789">The following are some useful commands for controlling Fiddler:</span></span>

* <span data-ttu-id="f5a56-790">트래픽 캡처를 중지 및 시작하려면</span><span class="sxs-lookup"><span data-stu-id="f5a56-790">Stop and start capturing traffic.</span></span> <span data-ttu-id="f5a56-791">주 메뉴에서 **파일**로 이동한 다음 **트래픽 캡처**를 클릭하여 캡처를 설정하거나 해제합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-791">On the main menu, go to **File** and then click **Capture Traffic** to toggle capturing on and off.</span></span>
* <span data-ttu-id="f5a56-792">캡처된 트래픽 데이터를 저장하려면</span><span class="sxs-lookup"><span data-stu-id="f5a56-792">Save captured traffic data.</span></span> <span data-ttu-id="f5a56-793">주 메뉴에서 **파일**로 이동한 다음 **저장**, **모든 세션**을 차례로 클릭하면 세션 보관 파일에 트래픽을 저장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-793">On the main menu, go to **File**, click **Save**, and then click **All Sessions**: this enables you to save the traffic in a Session Archive file.</span></span> <span data-ttu-id="f5a56-794">세션 보관 파일은 나중에 분석을 위해 다시 로드하거나 Microsoft 지원에서 요청하는 경우 전송할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-794">You can reload a Session Archive later for analysis, or send it if requested to Microsoft support.</span></span>

<span data-ttu-id="f5a56-795">Fiddler가 캡처하는 트래픽의 양을 제한하려면 **필터** 탭에서 구성하는 필터를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-795">To limit the amount of traffic that Fiddler captures, you can use filters that you configure in the **Filters** tab.</span></span> <span data-ttu-id="f5a56-796">아래 스크린샷에는 **contosoemaildist.table.core.windows.net** 저장소 끝점으로 전송되는 트래픽만 캡처하는 필터가 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-796">The following screenshot shows a filter that captures only traffic sent to the **contosoemaildist.table.core.windows.net** storage endpoint:</span></span>

![][5]

### <span data-ttu-id="f5a56-797"><a name="appendix-2"></a>부록2: Wireshark를 사용하여 네트워크 트래픽 캡처</span><span class="sxs-lookup"><span data-stu-id="f5a56-797"><a name="appendix-2"></a>Appendix 2: Using Wireshark to capture network traffic</span></span>
<span data-ttu-id="f5a56-798">Wireshark는 광범위한 네트워크 프로토콜에 대한 상세 패킷 정보를 확인할 수 있는 네트워크 프로토콜 분석기입니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-798">Wireshark is a network protocol analyzer that enables you to view detailed packet information for a wide range of network protocols.</span></span> <span data-ttu-id="f5a56-799"><a href="http://www.wireshark.org/" target="_blank">http://www.wireshark.org/</a>에서 Wireshark를 다운로드할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-799">You can download Wireshark from <a href="http://www.wireshark.org/" target="_blank">http://www.wireshark.org/</a>.</span></span>

<span data-ttu-id="f5a56-800">다음 절차에서는 Wireshark를 설치한 로컬 컴퓨터에서 Azure 저장소 계정의 테이블 서비스로 이동하는 트래픽에 대한 상세 패킷 정보를 캡처하는 방법을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-800">The following procedure shows you how to capture detailed packet information for traffic from the local machine where you installed Wireshark to the table service in your Azure storage account.</span></span>

1. <span data-ttu-id="f5a56-801">로컬 컴퓨터에서 Wireshark를 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-801">Launch Wireshark on your local machine.</span></span>
2. <span data-ttu-id="f5a56-802">**시작** 섹션에서 로컬 네트워크 인터페이스 또는 인터넷에 연결된 인터페이스를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-802">In the **Start** section, select the local network interface or interfaces that are connected to the internet.</span></span>
3. <span data-ttu-id="f5a56-803">**캡처 옵션**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-803">Click **Capture Options**.</span></span>
4. <span data-ttu-id="f5a56-804">**캡처 필터** 텍스트 상자에 필터를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-804">Add a filter to the **Capture Filter** textbox.</span></span> <span data-ttu-id="f5a56-805">예를 들어 **host contosoemaildist.table.core.windows.net**은 **contosoemaildist** 저장소 계정의 Table service 끝점에서 보내거나 받는 패킷만 캡처하도록 Wireshark를 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-805">For example, **host contosoemaildist.table.core.windows.net** will configure Wireshark to capture only packets sent to or from the table service endpoint in the **contosoemaildist** storage account.</span></span> <span data-ttu-id="f5a56-806">캡처 필터의 전체 목록은 <a href="http://wiki.wireshark.org/CaptureFilters" target="_blank">http://wiki.wireshark.org/CaptureFilters</a>를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-806">For a complete list of Capture Filters see <a href="http://wiki.wireshark.org/CaptureFilters" target="_blank">http://wiki.wireshark.org/CaptureFilters</a>.</span></span>
   
   ![][6]
5. <span data-ttu-id="f5a56-807">**시작**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-807">Click **Start**.</span></span> <span data-ttu-id="f5a56-808">그러면 로컬 컴퓨터에서 클라이언트 응용 프로그램을 사용할 때 Wireshark가 테이블 서비스 끝점에서 보내거나 받는 모든 패킷을 캡처합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-808">Wireshark will now capture all the packets send to or from the table service endpoint as you use your client application on your local machine.</span></span>
6. <span data-ttu-id="f5a56-809">작업을 마쳤으면 주 메뉴에서 **캡처**와 **중지**를 차례로 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-809">When you have finished, on the main menu click **Capture** and then **Stop**.</span></span>
7. <span data-ttu-id="f5a56-810">캡처된 데이터를 Wireshark 캡처 파일에 저장하려면 주 메뉴에서 **파일**과 **저장**을 차례로 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-810">To save the captured data in a Wireshark Capture File, on the main menu click **File** and then **Save**.</span></span>

<span data-ttu-id="f5a56-811">WireShark의 **packetlist** 창에는 발생한 모든 오류가 강조 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-811">WireShark will highlight any errors that exist in the **packetlist** window.</span></span> <span data-ttu-id="f5a56-812">**분석**, **전문가 정보**를 차례로 클릭하면 표시되는 **전문가 정보** 창에서 오류와 경고의 요약을 확인할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-812">You can also use the **Expert Info** window (click **Analyze**, then **Expert Info**) to view a summary of errors and warnings.</span></span>

![][7]

<span data-ttu-id="f5a56-813">TCP 데이터를 마우스 오른쪽 단추로 클릭하고 **TCP 스트림 확인**을 선택하여 응용 프로그램 계층에 표시되는 대로 TCP 데이터를 확인할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-813">You can also chose to view the TCP data as the application layer sees it by right-clicking on the TCP data and selecting **Follow TCP Stream**.</span></span> <span data-ttu-id="f5a56-814">캡처 필터를 사용하지 않고 덤프를 캡처한 경우 이와 같이 확인하면 특히 유용합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-814">This is particularly useful if you captured your dump without a capture filter.</span></span> <span data-ttu-id="f5a56-815">자세한 내용은 <a href="http://www.wireshark.org/docs/wsug_html_chunked/ChAdvFollowTCPSection.html" target="_blank">여기</a>를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-815">See <a href="http://www.wireshark.org/docs/wsug_html_chunked/ChAdvFollowTCPSection.html" target="_blank">here</a> for more information.</span></span>

![][8]

> [!NOTE]
> <span data-ttu-id="f5a56-816">Wireshark를 사용하는 방법에 대한 자세한 내용은 <a href="http://www.wireshark.org/docs/wsug_html_chunked/" target="_blank">Wireshark 사용 설명서</a>를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-816">For more information about using Wireshark, see the <a href="http://www.wireshark.org/docs/wsug_html_chunked/" target="_blank">Wireshark Users Guide</a>.</span></span>
> 
> 

### <span data-ttu-id="f5a56-817"><a name="appendix-3"></a>부록3: Microsoft 메시지 분석기를 사용하여 네트워크 트래픽 캡처</span><span class="sxs-lookup"><span data-stu-id="f5a56-817"><a name="appendix-3"></a>Appendix 3: Using Microsoft Message Analyzer to capture network traffic</span></span>
<span data-ttu-id="f5a56-818">Microsoft Message Analyzer를 사용하여 Fiddler와 비슷한 방식으로 HTTP 및 HTTPS 트래픽을 캡처할 수 있으며 Wireshark와 비슷한 방식으로 네트워크 트래픽을 캡처할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-818">You can use Microsoft Message Analyzer to capture HTTP and HTTPS traffic in a similar way to Fiddler, and capture network traffic in a similar way to Wireshark.</span></span>

#### <a name="configure-a-web-tracing-session-using-microsoft-message-analyzer"></a><span data-ttu-id="f5a56-819">Microsoft Message Analyzer를 사용하여 웹 추적 세션 구성</span><span class="sxs-lookup"><span data-stu-id="f5a56-819">Configure a web tracing session using Microsoft Message Analyzer</span></span>
<span data-ttu-id="f5a56-820">Microsoft Message Analyzer를 사용하여 HTTP 및 HTTPS 트래픽에 대해 웹 추적 세션을 구성하려면 Microsoft Message Analyzer 응용 프로그램을 시작하고 **파일** 메뉴에서 **캡처/추적**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-820">To configure a web tracing session for HTTP and HTTPS traffic using Microsoft Message Analyzer, run the Microsoft Message Analyzer application and then on the **File** menu, click **Capture/Trace**.</span></span> <span data-ttu-id="f5a56-821">사용 가능한 추적 시나리오 목록에서 **웹 프록시**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-821">In the list of available trace scenarios, select **Web Proxy**.</span></span> <span data-ttu-id="f5a56-822">그런 다음 **추적 시나리오 구성** 패널의 **HostnameFilter** 텍스트 상자에 저장소 끝점의 이름을 추가합니다. Azure 클래식 포털에서 이러한 이름을 조회할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-822">Then in the **Trace Scenario Configuration** panel, in the **HostnameFilter** textbox, add the names of your storage endpoints (you can look up these names in the Azure Classic Portal).</span></span> <span data-ttu-id="f5a56-823">예를 들어 Azure storage 계정의 이름이 **contosodata**인 경우 **HostnameFilter** 텍스트 상자에 다음을 추가해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-823">For example, if the name of your Azure storage account is **contosodata**, you should add the following to the **HostnameFilter** textbox:</span></span>

```
contosodata.blob.core.windows.net contosodata.table.core.windows.net contosodata.queue.core.windows.net
```

> [!NOTE]
> <span data-ttu-id="f5a56-824">호스트 이름이 여러 개이면 공백 문자로 구분합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-824">A space character separates the hostnames.</span></span>
> 
> 

<span data-ttu-id="f5a56-825">추적 데이터 수집을 시작할 준비가 되면 **시작** 단추를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-825">When you are ready to start collecting trace data, click the **Start With** button.</span></span>

<span data-ttu-id="f5a56-826">Microsoft 메시지 분석기 **웹 프록시** 추적에 대한 자세한 내용은 TechNet의 <a href="http://technet.microsoft.com/library/jj674814.aspx" target="_blank">PEF-WebProxy 공급자</a>를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-826">For more information about the Microsoft Message Analyzer **Web Proxy** trace, see <a href="http://technet.microsoft.com/library/jj674814.aspx" target="_blank">PEF-WebProxy Provider</a> on TechNet.</span></span>

<span data-ttu-id="f5a56-827">Microsoft Message Analyzer의 기본 제공 **웹 프록시** 추적은 Fiddler를 기반으로 하며 클라이언트 쪽 HTTPS 트래픽을 캡처하고 암호화되지 않은 HTTPS 메시지를 표시할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-827">The built-in **Web Proxy** trace in Microsoft Message Analyzer is based on Fiddler; it can capture client-side HTTPS traffic and display unencrypted HTTPS messages.</span></span> <span data-ttu-id="f5a56-828">**웹 프록시** 추적은 암호화되지 않은 메시지 액세스 권한을 제공하는 모든 HTTP 및 HTTPS 트래픽에 대해 로컬 프록시를 구성하는 방식으로 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-828">The **Web Proxy** trace works by configuring a local proxy for all HTTP and HTTPS traffic that gives it access to unencrypted messages.</span></span>

#### <a name="diagnosing-network-issues-using-microsoft-message-analyzer"></a><span data-ttu-id="f5a56-829">Microsoft Message Analyzer를 사용하여 네트워크 문제 진단</span><span class="sxs-lookup"><span data-stu-id="f5a56-829">Diagnosing network issues using Microsoft Message Analyzer</span></span>
<span data-ttu-id="f5a56-830">Microsoft Message Analyzer **웹 프록시** 추적을 사용하여 클라이언트 응용 프로그램과 저장소 서비스 간의 HTTP/HTTPs 트래픽 세부 정보를 캡처할 수 있을 뿐 아니라, 기본 제공 **로컬 링크 계층** 추적을 사용하여 네트워크 패킷 정보를 캡처할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-830">In addition to using the Microsoft Message Analyzer **Web Proxy** trace to capture details of the HTTP/HTTPs traffic between the client application and the storage service, you can also use the built-in **Local Link Layer** trace to capture network packet information.</span></span> <span data-ttu-id="f5a56-831">그러면 Wireshark를 사용하여 캡처할 수 있는 것과 비슷한 데이터를 캡처하고 패킷 삭제 등의 네트워크 문제를 진단할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-831">This enables you to capture data similar to that which you can capture with Wireshark, and diagnose network issues such as dropped packets.</span></span>

<span data-ttu-id="f5a56-832">아래 스크린샷에는 **DiagnosisTypes** 열에 **정보** 메시지가 몇 개 포함된 예제 **로컬 링크 계층** 추적이 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-832">The following screenshot shows an example **Local Link Layer** trace with some **informational** messages in the **DiagnosisTypes** column.</span></span> <span data-ttu-id="f5a56-833">**DiagnosisTypes** 열의 아이콘을 클릭하면 메시지 세부 정보가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-833">Clicking on an icon in the **DiagnosisTypes** column shows the details of the message.</span></span> <span data-ttu-id="f5a56-834">이 예제에서는 서버가 클라이언트에서 승인을 받지 못했으므로 #305 메시지를 다시 전송했습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-834">In this example, the server retransmitted message #305 because it did not receive an acknowledgement from the client:</span></span>

![][9]

<span data-ttu-id="f5a56-835">Microsoft Message Analyzer에서 추적 세션을 만들 때는 추적의 노이즈 양을 줄이기 위해 필터를 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-835">When you create the trace session in Microsoft Message Analyzer, you can specify filters to reduce the amount of noise in the trace.</span></span> <span data-ttu-id="f5a56-836">이렇게 하려면 추적을 정의하는 **캡처/추적** 페이지에서 **Microsoft-Windows-NDIS-PacketCapture** 옆의 **구성** 링크를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-836">On the **Capture / Trace** page where you define the trace, click on the **Configure** link next to **Microsoft-Windows-NDIS-PacketCapture**.</span></span> <span data-ttu-id="f5a56-837">아래 스크린샷에는 3개 저장소 서비스의 IP 주소에 대한 TCP 트래픽을 필터링하는 구성이 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-837">The following screenshot shows a configuration that filters TCP traffic for the IP addresses of three storage services:</span></span>

![][10]

<span data-ttu-id="f5a56-838">Microsoft 메시지 분석기 로컬 링크 계층 추적에 대한 자세한 내용은 TechNet의 <a href="http://technet.microsoft.com/library/jj659264.aspx" target="_blank">PEF-NDIS-PacketCapture 공급자</a>를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f5a56-838">For more information about the Microsoft Message Analyzer Local Link Layer trace, see <a href="http://technet.microsoft.com/library/jj659264.aspx" target="_blank">PEF-NDIS-PacketCapture Provider</a> on TechNet.</span></span>

### <span data-ttu-id="f5a56-839"><a name="appendix-4"></a>부록4: Excel을 사용하여 메트릭 및 로그 데이터 보기</span><span class="sxs-lookup"><span data-stu-id="f5a56-839"><a name="appendix-4"></a>Appendix 4: Using Excel to view metrics and log data</span></span>
<span data-ttu-id="f5a56-840">다양한 도구를 통해 Azure 테이블 저장소에서 저장소 메트릭 데이터를 구분된 형식으로 다운로드할 수 있으며, 해당 데이터를 Excel에 로드하여 쉽게 보고 분석할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-840">Many tools enable you to download the Storage Metrics data from Azure table storage in a delimited format that makes it easy to load the data into Excel for viewing and analysis.</span></span> <span data-ttu-id="f5a56-841">Azure Blob 저장소의 저장소 로깅 데이터는 이미 Excel에 로드할 수 있는 구분된 형식으로 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-841">Storage Logging data from Azure blob storage is already in a delimited format that you can load into Excel.</span></span> <span data-ttu-id="f5a56-842">그러나 <a href="http://msdn.microsoft.com/library/azure/hh343259.aspx" target="_blank">저장소 분석 로그 형식</a> 및 <a href="http://msdn.microsoft.com/library/azure/hh343264.aspx" target="_blank">저장소 분석 메트릭 테이블 스키마</a>의 정보를 기준으로 적절한 열 제목을 추가해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-842">However, you will need to add appropriate column headings based in the information at <a href="http://msdn.microsoft.com/library/azure/hh343259.aspx" target="_blank">Storage Analytics Log Format</a> and <a href="http://msdn.microsoft.com/library/azure/hh343264.aspx" target="_blank">Storage Analytics Metrics Table Schema</a>.</span></span>

<span data-ttu-id="f5a56-843">Blob Storage에서 다운로드한 저장소 로깅 데이터를 Excel로 가져오려면 다음 단계를 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-843">To import your Storage Logging data into Excel after you download it from blob storage:</span></span>

* <span data-ttu-id="f5a56-844">**데이터** 메뉴에서 **텍스트에서**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-844">On the **Data** menu, click **From Text**.</span></span>
* <span data-ttu-id="f5a56-845">보려는 로그 파일을 찾은 다음 **가져오기**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-845">Browse to the log file you want to view and click **Import**.</span></span>
* <span data-ttu-id="f5a56-846">**텍스트 가져오기 마법사**의 1단계에서 **구분 기호로 분리됨**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-846">On step 1 of the **Text Import Wizard**, select **Delimited**.</span></span>

<span data-ttu-id="f5a56-847">**텍스트 가져오기 마법사**의 1단계에서 구분 기호로 **세미콜론**만 선택하고 **텍스트 한정자**로 큰따옴표를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-847">On step 1 of the **Text Import Wizard**, select **Semicolon** as the only delimiter and choose double-quote as the **Text qualifier**.</span></span> <span data-ttu-id="f5a56-848">그런 다음 **마침** 을 클릭하고 통합 문서에서 데이터를 배치할 위치를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-848">Then click **Finish** and choose where to place the data in your workbook.</span></span>

### <span data-ttu-id="f5a56-849"><a name="appendix-5"></a>부록5: Visual Studio Team Services용 Application Insights를 사용한 모니터링</span><span class="sxs-lookup"><span data-stu-id="f5a56-849"><a name="appendix-5"></a>Appendix 5: Monitoring with Application Insights for Visual Studio Team Services</span></span>
<span data-ttu-id="f5a56-850">성능 및 가용성 모니터링의 일부분으로 Visual Studio Team Services의 Application Insights 기능을 사용할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-850">You can also use the Application Insights feature for Visual Studio Team Services as part of your performance and availability monitoring.</span></span> <span data-ttu-id="f5a56-851">이 도구는 다음과 같은 작업을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-851">This tool can:</span></span>

* <span data-ttu-id="f5a56-852">웹 서비스가 사용 가능하며 응답할 수 있는 상태인지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-852">Make sure your web service is available and responsive.</span></span> <span data-ttu-id="f5a56-853">앱이 웹 서비스를 사용하는 웹 사이트 또는 장치 앱인 경우에도 전 세계 여러 위치에서 몇 분마다 URL을 테스트하고 문제가 있는지 알려 줍니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-853">Whether your app is a web site or a device app that uses a web service, it can test your URL every few minutes from locations around the world, and let you know if there's a problem.</span></span>
* <span data-ttu-id="f5a56-854">웹 서비스의 성능 문제나 예외를 빠르게 진단합니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-854">Quickly diagnose any performance issues or exceptions in your web service.</span></span> <span data-ttu-id="f5a56-855">CPU 또는 기타 리소스가 확대되는지 확인하고 예외에서 스택 추적을 가져오며 로그 추적을 쉽게 검색할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-855">Find out if CPU or other resources are being stretched, get stack traces from exceptions, and easily search through log traces.</span></span> <span data-ttu-id="f5a56-856">앱 성능이 허용되는 제한 미만으로 떨어지면 전자 메일이 전송됩니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-856">If the app's performance drops below acceptable limits, we can send you an email.</span></span> <span data-ttu-id="f5a56-857">.NET 및 Java 웹 서비스를 모두 모니터링할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-857">You can monitor both .NET and Java web services.</span></span>

<span data-ttu-id="f5a56-858">이 문서를 작성한 시점에서는 Application Insights가 미리 보기 상태였습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-858">At the time of writing Application Insights is in preview.</span></span> <span data-ttu-id="f5a56-859">자세한 내용은 <a href="http://msdn.microsoft.com/library/azure/dn481095.aspx" target="_blank">MSDN의 Visual Studio Team Services용 Application Insights</a>에서 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f5a56-859">You can find more information at <a href="http://msdn.microsoft.com/library/azure/dn481095.aspx" target="_blank">Application Insights for Visual Studio Team Services on MSDN</a>.</span></span>

<!--Anchors-->
<span data-ttu-id="f5a56-860">[소개]: #introduction</span><span class="sxs-lookup"><span data-stu-id="f5a56-860">[Introduction]: #introduction</span></span>
<span data-ttu-id="f5a56-861">[이 가이드의 구성 방식]: #how-this-guide-is-organized</span><span class="sxs-lookup"><span data-stu-id="f5a56-861">[How this guide is organized]: #how-this-guide-is-organized</span></span>

<span data-ttu-id="f5a56-862">[저장소 서비스 모니터링]: #monitoring-your-storage-service</span><span class="sxs-lookup"><span data-stu-id="f5a56-862">[Monitoring your storage service]: #monitoring-your-storage-service</span></span>
<span data-ttu-id="f5a56-863">[서비스 상태 모니터링]: #monitoring-service-health</span><span class="sxs-lookup"><span data-stu-id="f5a56-863">[Monitoring service health]: #monitoring-service-health</span></span>
<span data-ttu-id="f5a56-864">[용량 모니터링]: #monitoring-capacity</span><span class="sxs-lookup"><span data-stu-id="f5a56-864">[Monitoring capacity]: #monitoring-capacity</span></span>
<span data-ttu-id="f5a56-865">[가용성 모니터링]: #monitoring-availability</span><span class="sxs-lookup"><span data-stu-id="f5a56-865">[Monitoring availability]: #monitoring-availability</span></span>
<span data-ttu-id="f5a56-866">[성능 모니터링]: #monitoring-performance</span><span class="sxs-lookup"><span data-stu-id="f5a56-866">[Monitoring performance]: #monitoring-performance</span></span>

<span data-ttu-id="f5a56-867">[저장소 문제 진단]: #diagnosing-storage-issues</span><span class="sxs-lookup"><span data-stu-id="f5a56-867">[Diagnosing storage issues]: #diagnosing-storage-issues</span></span>
<span data-ttu-id="f5a56-868">[서비스 상태 문제]: #service-health-issues</span><span class="sxs-lookup"><span data-stu-id="f5a56-868">[Service health issues]: #service-health-issues</span></span>
<span data-ttu-id="f5a56-869">[성능 문제]: #performance-issues</span><span class="sxs-lookup"><span data-stu-id="f5a56-869">[Performance issues]: #performance-issues</span></span>
<span data-ttu-id="f5a56-870">[오류 진단]: #diagnosing-errors</span><span class="sxs-lookup"><span data-stu-id="f5a56-870">[Diagnosing errors]: #diagnosing-errors</span></span>
<span data-ttu-id="f5a56-871">[저장소 에뮬레이터 문제]: #storage-emulator-issues</span><span class="sxs-lookup"><span data-stu-id="f5a56-871">[Storage emulator issues]: #storage-emulator-issues</span></span>
<span data-ttu-id="f5a56-872">[저장소 로깅 도구]: #storage-logging-tools</span><span class="sxs-lookup"><span data-stu-id="f5a56-872">[Storage logging tools]: #storage-logging-tools</span></span>
<span data-ttu-id="f5a56-873">[네트워크 로깅 도구 사용]: #using-network-logging-tools</span><span class="sxs-lookup"><span data-stu-id="f5a56-873">[Using network logging tools]: #using-network-logging-tools</span></span>

<span data-ttu-id="f5a56-874">[종단 간 추적]: #end-to-end-tracing</span><span class="sxs-lookup"><span data-stu-id="f5a56-874">[End-to-end tracing]: #end-to-end-tracing</span></span>
<span data-ttu-id="f5a56-875">[로그 데이터 상관 관계 설정]: #correlating-log-data</span><span class="sxs-lookup"><span data-stu-id="f5a56-875">[Correlating log data]: #correlating-log-data</span></span>
<span data-ttu-id="f5a56-876">[클라이언트 요청 ID]: #client-request-id</span><span class="sxs-lookup"><span data-stu-id="f5a56-876">[Client request ID]: #client-request-id</span></span>
<span data-ttu-id="f5a56-877">[서버 요청 ID]: #server-request-id</span><span class="sxs-lookup"><span data-stu-id="f5a56-877">[Server request ID]: #server-request-id</span></span>
<span data-ttu-id="f5a56-878">[타임스탬프]: #timestamps</span><span class="sxs-lookup"><span data-stu-id="f5a56-878">[Timestamps]: #timestamps</span></span>

<span data-ttu-id="f5a56-879">[문제 해결 지침]: #troubleshooting-guidance</span><span class="sxs-lookup"><span data-stu-id="f5a56-879">[Troubleshooting guidance]: #troubleshooting-guidance</span></span>
<span data-ttu-id="f5a56-880">[메트릭에서 AverageE2ELatency는 높게 표시되고 AverageServerLatency는 낮게 표시됨]: #metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency</span><span class="sxs-lookup"><span data-stu-id="f5a56-880">[Metrics show high AverageE2ELatency and low AverageServerLatency]: #metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency</span></span>
<span data-ttu-id="f5a56-881">[메트릭에서 AverageE2ELatency 및 AverageServerLatency는 낮게 표시되는데 클라이언트의 대기 시간이 길어짐]: #metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency</span><span class="sxs-lookup"><span data-stu-id="f5a56-881">[Metrics show low AverageE2ELatency and low AverageServerLatency but the client is experiencing high latency]: #metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency</span></span>
<span data-ttu-id="f5a56-882">[메트릭에서 AverageServerLatency가 높게 표시됨]: #metrics-show-high-AverageServerLatency</span><span class="sxs-lookup"><span data-stu-id="f5a56-882">[Metrics show high AverageServerLatency]: #metrics-show-high-AverageServerLatency</span></span>
<span data-ttu-id="f5a56-883">[큐에서 메시지 배달 중에 예기치 않은 대기 시간이 발생함]: #you-are-experiencing-unexpected-delays-in-message-delivery</span><span class="sxs-lookup"><span data-stu-id="f5a56-883">[You are experiencing unexpected delays in message delivery on a queue]: #you-are-experiencing-unexpected-delays-in-message-delivery</span></span>

<span data-ttu-id="f5a56-884">[메트릭에서 PercentThrottlingError가 증가하는 것으로 표시됨]: #metrics-show-an-increase-in-PercentThrottlingError</span><span class="sxs-lookup"><span data-stu-id="f5a56-884">[Metrics show an increase in PercentThrottlingError]: #metrics-show-an-increase-in-PercentThrottlingError</span></span>
<span data-ttu-id="f5a56-885">[일시적인 PercentThrottlingError 증가]: #transient-increase-in-PercentThrottlingError</span><span class="sxs-lookup"><span data-stu-id="f5a56-885">[Transient increase in PercentThrottlingError]: #transient-increase-in-PercentThrottlingError</span></span>
<span data-ttu-id="f5a56-886">[영구적인 PercentThrottlingError 증가]: #permanent-increase-in-PercentThrottlingError</span><span class="sxs-lookup"><span data-stu-id="f5a56-886">[Permanent increase in PercentThrottlingError error]: #permanent-increase-in-PercentThrottlingError</span></span>
<span data-ttu-id="f5a56-887">[메트릭에서 PercentTimeoutError가 증가하는 것으로 표시됨]: #metrics-show-an-increase-in-PercentTimeoutError</span><span class="sxs-lookup"><span data-stu-id="f5a56-887">[Metrics show an increase in PercentTimeoutError]: #metrics-show-an-increase-in-PercentTimeoutError</span></span>
<span data-ttu-id="f5a56-888">[메트릭에서 PercentNetworkError가 증가하는 것으로 표시됨]: #metrics-show-an-increase-in-PercentNetworkError</span><span class="sxs-lookup"><span data-stu-id="f5a56-888">[Metrics show an increase in PercentNetworkError]: #metrics-show-an-increase-in-PercentNetworkError</span></span>

<span data-ttu-id="f5a56-889">[클라이언트에 HTTP 403(사용할 수 없음) 메시지가 표시됨]: #the-client-is-receiving-403-messages</span><span class="sxs-lookup"><span data-stu-id="f5a56-889">[The client is receiving HTTP 403 (Forbidden) messages]: #the-client-is-receiving-403-messages</span></span>
<span data-ttu-id="f5a56-890">[클라이언트에 HTTP 404(찾을 수 없음) 메시지가 표시됨]: #the-client-is-receiving-404-messages</span><span class="sxs-lookup"><span data-stu-id="f5a56-890">[The client is receiving HTTP 404 (Not found) messages]: #the-client-is-receiving-404-messages</span></span>
<span data-ttu-id="f5a56-891">[클라이언트 또는 다른 프로세스가 이전에 개체를 삭제함]: #client-previously-deleted-the-object</span><span class="sxs-lookup"><span data-stu-id="f5a56-891">[The client or another process previously deleted the object]: #client-previously-deleted-the-object</span></span>
<span data-ttu-id="f5a56-892">[SAS(공유 액세스 서명) 권한 부여 문제]: #SAS-authorization-issue</span><span class="sxs-lookup"><span data-stu-id="f5a56-892">[A Shared Access Signature (SAS) authorization issue]: #SAS-authorization-issue</span></span>
<span data-ttu-id="f5a56-893">[클라이언트 쪽 JavaScript 코드에 개체 액세스 권한이 없음]: #JavaScript-code-does-not-have-permission</span><span class="sxs-lookup"><span data-stu-id="f5a56-893">[Client-side JavaScript code does not have permission to access the object]: #JavaScript-code-does-not-have-permission</span></span>
<span data-ttu-id="f5a56-894">[네트워크 오류]: #network-failure</span><span class="sxs-lookup"><span data-stu-id="f5a56-894">[Network failure]: #network-failure</span></span>
<span data-ttu-id="f5a56-895">[클라이언트에 HTTP 409(충돌) 메시지가 표시됨]: #the-client-is-receiving-409-messages</span><span class="sxs-lookup"><span data-stu-id="f5a56-895">[The client is receiving HTTP 409 (Conflict) messages]: #the-client-is-receiving-409-messages</span></span>

<span data-ttu-id="f5a56-896">[메트릭에 PercentSuccess가 낮게 표시되거나 분석 로그 항목에 트랜잭션 상태가 ClientOtherErrors 상태인 작업이 있음]: #metrics-show-low-percent-success</span><span class="sxs-lookup"><span data-stu-id="f5a56-896">[Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors]: #metrics-show-low-percent-success</span></span>
<span data-ttu-id="f5a56-897">[용량 메트릭에 예기치 않은 저장소 용량 사용 증가가 표시됨]: #capacity-metrics-show-an-unexpected-increase</span><span class="sxs-lookup"><span data-stu-id="f5a56-897">[Capacity metrics show an unexpected increase in storage capacity usage]: #capacity-metrics-show-an-unexpected-increase</span></span>
<span data-ttu-id="f5a56-898">[많은 수의 VHD가 연결된 가상 컴퓨터가 예기치 않게 다시 부팅됨]: #you-are-experiencing-unexpected-reboots</span><span class="sxs-lookup"><span data-stu-id="f5a56-898">[You are experiencing unexpected reboots of Virtual Machines that have a large number of attached VHDs]: #you-are-experiencing-unexpected-reboots</span></span>
<span data-ttu-id="f5a56-899">[개발 또는 테스트용으로 저장소 에뮬레이터 사용 시 문제가 발생함]: #your-issue-arises-from-using-the-storage-emulator</span><span class="sxs-lookup"><span data-stu-id="f5a56-899">[Your issue arises from using the storage emulator for development or test]: #your-issue-arises-from-using-the-storage-emulator</span></span>
<span data-ttu-id="f5a56-900">["X" 기능이 저장소 에뮬레이터에서 작동하지 않음]: #feature-X-is-not-working</span><span class="sxs-lookup"><span data-stu-id="f5a56-900">[Feature "X" is not working in the storage emulator]: #feature-X-is-not-working</span></span>
<span data-ttu-id="f5a56-901">[저장소 에뮬레이터를 사용할 때 "HTTP 헤더 중 하나의 값이 올바른 형식이 아닙니다." 오류가 발생함]: #error-HTTP-header-not-correct-format</span><span class="sxs-lookup"><span data-stu-id="f5a56-901">[Error "The value for one of the HTTP headers is not in the correct format" when using the storage emulator]: #error-HTTP-header-not-correct-format</span></span>
<span data-ttu-id="f5a56-902">[저장소 에뮬레이터를 실행하려면 관리 권한이 필요함]: #storage-emulator-requires-administrative-privileges</span><span class="sxs-lookup"><span data-stu-id="f5a56-902">[Running the storage emulator requires administrative privileges]: #storage-emulator-requires-administrative-privileges</span></span>
<span data-ttu-id="f5a56-903">[Azure SDK for .NET 설치 시 문제가 발생함]: #you-are-encountering-problems-installing-the-Windows-Azure-SDK</span><span class="sxs-lookup"><span data-stu-id="f5a56-903">[You are encountering problems installing the Azure SDK for .NET]: #you-are-encountering-problems-installing-the-Windows-Azure-SDK</span></span>
<span data-ttu-id="f5a56-904">[저장소 서비스에서 다른 문제가 발생함]: #you-have-a-different-issue-with-a-storage-service</span><span class="sxs-lookup"><span data-stu-id="f5a56-904">[You have a different issue with a storage service]: #you-have-a-different-issue-with-a-storage-service</span></span>

<span data-ttu-id="f5a56-905">[부록]: #appendices</span><span class="sxs-lookup"><span data-stu-id="f5a56-905">[Appendices]: #appendices</span></span>
<span data-ttu-id="f5a56-906">[부록1: Fiddler를 사용하여 HTTP 및 HTTPS 트래픽 캡처]: #appendix-1</span><span class="sxs-lookup"><span data-stu-id="f5a56-906">[Appendix 1: Using Fiddler to capture HTTP and HTTPS traffic]: #appendix-1</span></span>
<span data-ttu-id="f5a56-907">[부록 2: Wireshark를 사용하여 네트워크 트래픽 캡처]: #appendix-2</span><span class="sxs-lookup"><span data-stu-id="f5a56-907">[Appendix 2: Using Wireshark to capture network traffic]: #appendix-2</span></span>
<span data-ttu-id="f5a56-908">[부록3: Microsoft 메시지 분석기를 사용하여 네트워크 트래픽 캡처]: #appendix-3</span><span class="sxs-lookup"><span data-stu-id="f5a56-908">[Appendix 3: Using Microsoft Message Analyzer to capture network traffic]: #appendix-3</span></span>
<span data-ttu-id="f5a56-909">[부록4; Excel을 사용하여 메트릭 및 로그 데이터 보기]: #appendix-4</span><span class="sxs-lookup"><span data-stu-id="f5a56-909">[Appendix 4: Using Excel to view metrics and log data]: #appendix-4</span></span>
<span data-ttu-id="f5a56-910">[부록 5: Visual Studio Team Services용 Application Insights를 사용한 모니터링]: #appendix-5</span><span class="sxs-lookup"><span data-stu-id="f5a56-910">[Appendix 5: Monitoring with Application Insights for Visual Studio Team Services]: #appendix-5</span></span>

<!--Image references-->
[1]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/overview.png
[2]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/portal-screenshot.png
[3]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/hour-minute-metrics.png
[4]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/high-e2e-latency.png
[5]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/fiddler-screenshot.png
[6]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/wireshark-screenshot-1.png
[7]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/wireshark-screenshot-2.png
[8]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/wireshark-screenshot-3.png
[9]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/mma-screenshot-1.png
[10]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/mma-screenshot-2.png
