---
title: "인증 코드 흐름 - Azure AD B2C | Microsoft Docs"
description: "Toobuild Azure AD B2C 및 OpenID Connect 인증 프로토콜을 사용 하 여 앱을 웹 하는 방법에 대해 알아봅니다."
services: active-directory-b2c
documentationcenter: 
author: saeedakhter-msft
manager: krassk
editor: parakhj
ms.assetid: c371aaab-813a-4317-97df-b62e2f53d865
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/16/2017
ms.author: saeedakhter-msft
ms.openlocfilehash: 6bf9d37310bd45b39bda346441413556f9fd4fdc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-active-directory-b2c-oauth-20-authorization-code-flow"></a><span data-ttu-id="58b1e-103">Azure Active Directory B2C: OAuth 2.0 인증 코드 흐름</span><span class="sxs-lookup"><span data-stu-id="58b1e-103">Azure Active Directory B2C: OAuth 2.0 authorization code flow</span></span>
<span data-ttu-id="58b1e-104">장치 toogain tooprotected 같은 리소스에 액세스 웹 Api에 설치 된 앱의 hello OAuth 2.0 인증 코드 부여를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-104">You can use hello OAuth 2.0 authorization code grant in apps installed on a device toogain access tooprotected resources, such as web APIs.</span></span> <span data-ttu-id="58b1e-105">OAuth 2.0의 Azure Active Directory B2C hello (Azure AD B2C) 구현을 사용 하 여 등록, 로그인을 추가할 수 있습니다 및 기타 id 관리 작업 tooyour 모바일 및 데스크톱 앱.</span><span class="sxs-lookup"><span data-stu-id="58b1e-105">By using hello Azure Active Directory B2C (Azure AD B2C) implementation of OAuth 2.0, you can add sign-up, sign-in, and other identity management tasks tooyour mobile and desktop apps.</span></span> <span data-ttu-id="58b1e-106">이 문서는 언어 독립적입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-106">This article is language-independent.</span></span> <span data-ttu-id="58b1e-107">Hello 문서에서 설명 방법을 toosend 및 오픈 소스 라이브러리를 사용 하지 않고 HTTP 메시지를 수신 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-107">In hello article, we describe how toosend and receive HTTP messages without using any open-source libraries.</span></span>

<!-- TODO: Need link toolibraries -->

<span data-ttu-id="58b1e-108">OAuth 2.0 인증 코드 흐름 hello에 설명 되어 [섹션 4.1 hello OAuth 2.0 사양의](http://tools.ietf.org/html/rfc6749)합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-108">hello OAuth 2.0 authorization code flow is described in [section 4.1 of hello OAuth 2.0 specification](http://tools.ietf.org/html/rfc6749).</span></span> <span data-ttu-id="58b1e-109">[웹앱](active-directory-b2c-apps.md#web-apps) 및 [기본적으로 설치된 앱](active-directory-b2c-apps.md#mobile-and-native-apps)을 포함하여 대부분의 앱 형식에서 인증 및 권한 부여에 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-109">You can use it for authentication and authorization in most app types, including [web apps](active-directory-b2c-apps.md#web-apps) and [natively installed apps](active-directory-b2c-apps.md#mobile-and-native-apps).</span></span> <span data-ttu-id="58b1e-110">OAuth 2.0 권한 부여 코드 흐름 toosecurely 획득 hello를 사용할 수 있습니다 *액세스 토큰* 응용 프로그램에 의해 보안 되는 리소스를 사용 하는 tooaccess 될 수 있습니다는 [권한 부여 서버](active-directory-b2c-reference-protocols.md#the-basics)합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-110">You can use hello OAuth 2.0 authorization code flow toosecurely acquire *access tokens* for your apps, which can be used tooaccess resources that are secured by an [authorization server](active-directory-b2c-reference-protocols.md#the-basics).</span></span>

<span data-ttu-id="58b1e-111">이 문서에서는 hello **공용 클라이언트** OAuth 2.0 인증 코드 흐름.</span><span class="sxs-lookup"><span data-stu-id="58b1e-111">This article focuses on hello **public clients** OAuth 2.0 authorization code flow.</span></span> <span data-ttu-id="58b1e-112">공용 클라이언트는 신뢰할 수 있는 toosecurely 수 없는 모든 클라이언트 응용 프로그램 보안 암호의 hello 무결성을 유지 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-112">A public client is any client application that cannot be trusted toosecurely maintain hello integrity of a secret password.</span></span> <span data-ttu-id="58b1e-113">모바일 앱, 데스크톱 앱 및 장치에서 실행 되 고 tooget 액세스 토큰을 요구 하는 응용 프로그램 기본적으로이 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-113">This includes mobile apps, desktop apps, and essentially any application that runs on a device and needs tooget access tokens.</span></span> 

> [!NOTE]
> <span data-ttu-id="58b1e-114">Azure AD B2C 사용을 사용 하 여 tooadd identity management tooa 웹 앱 [OpenID Connect](active-directory-b2c-reference-oidc.md) OAuth 2.0 대신 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-114">tooadd identity management tooa web app by using Azure AD B2C, use [OpenID Connect](active-directory-b2c-reference-oidc.md) instead of OAuth 2.0.</span></span>

<span data-ttu-id="58b1e-115">Azure AD B2C toodo 단순 인증 및 권한 부여 보다 더 많은 hello 표준 OAuth 2.0 흐름을 확장 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-115">Azure AD B2C extends hello standard OAuth 2.0 flows toodo more than simple authentication and authorization.</span></span> <span data-ttu-id="58b1e-116">Hello 도입 [정책 매개 변수](active-directory-b2c-reference-policies.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-116">It introduces hello [policy parameter](active-directory-b2c-reference-policies.md).</span></span> <span data-ttu-id="58b1e-117">기본 제공 정책을 사용 하 여 OAuth 2.0 tooadd 사용자와 같은 tooyour 앱 환경을 사용할 수 있습니다, 등록 및 프로필 관리에 로그인 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-117">With built-in policies, you can use OAuth 2.0 tooadd user experiences tooyour app, such as sign-up, sign-in, and profile management.</span></span> <span data-ttu-id="58b1e-118">이 문서에서는 보여줍니다 어떻게 toouse OAuth 2.0 및 정책 tooimplement 네이티브 응용 프로그램에서 이러한 각 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-118">In this article, we show you how toouse OAuth 2.0 and policies tooimplement each of these experiences in your native applications.</span></span> <span data-ttu-id="58b1e-119">또한 보여줍니다 어떻게 tooget 액세스 토큰에 액세스 하기 위한 web Api.</span><span class="sxs-lookup"><span data-stu-id="58b1e-119">We also show you how tooget access tokens for accessing web APIs.</span></span>

<span data-ttu-id="58b1e-120">Hello이 문서의 예제에서는 HTTP 요청을 사용 하 여이 샘플을 Azure AD B2C 디렉터리 **fabrikamb2c.onmicrosoft.com**합니다. 또한 응용 프로그램 예제 및 정책도 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-120">In hello example HTTP requests in this article, we use our sample Azure AD B2C directory, **fabrikamb2c.onmicrosoft.com**. We also use our sample application and policies.</span></span> <span data-ttu-id="58b1e-121">이러한 값을 사용 하 여 사용자가 직접 hello 요청을 시도할 수 있습니다 또는 사용자 고유의 값으로 바꿀 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-121">You can try hello requests yourself by using these values, or you can replace them with your own values.</span></span>
<span data-ttu-id="58b1e-122">너무 방법에 대해 알아봅니다[자신의 Azure AD B2C 디렉터리, 응용 프로그램 및 정책을 가져올](#use-your-own-azure-ad-b2c-directory)합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-122">Learn how too[get your own Azure AD B2C directory, application, and policies](#use-your-own-azure-ad-b2c-directory).</span></span>

## <a name="1-get-an-authorization-code"></a><span data-ttu-id="58b1e-123">1. 권한 부여 코드 가져오기</span><span class="sxs-lookup"><span data-stu-id="58b1e-123">1. Get an authorization code</span></span>
<span data-ttu-id="58b1e-124">hello 클라이언트 hello 사용자 toohello 전달로 시작 하는 hello 권한 부여 코드 흐름 `/authorize` 끝점입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-124">hello authorization code flow begins with hello client directing hello user toohello `/authorize` endpoint.</span></span> <span data-ttu-id="58b1e-125">Hello 사용자가 작업 수행 hello 흐름의 hello 대화형 부분입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-125">This is hello interactive part of hello flow, where hello user takes action.</span></span> <span data-ttu-id="58b1e-126">이 요청에서 hello 클라이언트 hello에 나타냅니다 `scope` 필요 하다 고 tooacquire hello 사용자 로부터 매개 변수 hello 사용 권한.</span><span class="sxs-lookup"><span data-stu-id="58b1e-126">In this request, hello client indicates in hello `scope` parameter hello permissions that it needs tooacquire from hello user.</span></span> <span data-ttu-id="58b1e-127">Hello에 `p` 매개 변수를 hello 정책 tooexecute 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-127">In hello `p` parameter, it indicates hello policy tooexecute.</span></span> <span data-ttu-id="58b1e-128">hello 다음 세 가지 예 (읽기 쉽도록 줄 바꿈) 각 다른 정책을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-128">hello following three examples (with line breaks for readability) each use a different policy.</span></span>

### <a name="use-a-sign-in-policy"></a><span data-ttu-id="58b1e-129">로그인 정책 사용</span><span class="sxs-lookup"><span data-stu-id="58b1e-129">Use a sign-in policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code
&redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob
&response_mode=query
&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&p=b2c_1_sign_in
```

### <a name="use-a-sign-up-policy"></a><span data-ttu-id="58b1e-130">등록 정책 사용</span><span class="sxs-lookup"><span data-stu-id="58b1e-130">Use a sign-up policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code
&redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob
&response_mode=query
&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&p=b2c_1_sign_up
```

### <a name="use-an-edit-profile-policy"></a><span data-ttu-id="58b1e-131">편집 프로필 정책 사용</span><span class="sxs-lookup"><span data-stu-id="58b1e-131">Use an edit-profile policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code
&redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob
&response_mode=query
&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&p=b2c_1_edit_profile
```

| <span data-ttu-id="58b1e-132">매개 변수</span><span class="sxs-lookup"><span data-stu-id="58b1e-132">Parameter</span></span> | <span data-ttu-id="58b1e-133">Required?</span><span class="sxs-lookup"><span data-stu-id="58b1e-133">Required?</span></span> | <span data-ttu-id="58b1e-134">설명</span><span class="sxs-lookup"><span data-stu-id="58b1e-134">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="58b1e-135">client_id</span><span class="sxs-lookup"><span data-stu-id="58b1e-135">client_id</span></span> |<span data-ttu-id="58b1e-136">필수</span><span class="sxs-lookup"><span data-stu-id="58b1e-136">Required</span></span> |<span data-ttu-id="58b1e-137">hello에서 tooyour 응용 프로그램을 할당 하는 hello 응용 프로그램 ID [Azure 포털](https://portal.azure.com)합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-137">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="58b1e-138">response_type</span><span class="sxs-lookup"><span data-stu-id="58b1e-138">response_type</span></span> |<span data-ttu-id="58b1e-139">필수</span><span class="sxs-lookup"><span data-stu-id="58b1e-139">Required</span></span> |<span data-ttu-id="58b1e-140">포함 해야 하는 hello 응답 유형 `code` hello 권한 부여 코드 흐름에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-140">hello response type, which must include `code` for hello authorization code flow.</span></span> |
| <span data-ttu-id="58b1e-141">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="58b1e-141">redirect_uri</span></span> |<span data-ttu-id="58b1e-142">필수</span><span class="sxs-lookup"><span data-stu-id="58b1e-142">Required</span></span> |<span data-ttu-id="58b1e-143">hello 리디렉션 URI 앱 인증 응답 보내고 응용 프로그램에서 수신 위치입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-143">hello redirect URI of your app, where authentication responses are sent and received by your app.</span></span> <span data-ttu-id="58b1e-144">정확히 일치 해야 하나 hello 리디렉션 hello 포털에 등록 하는 Uri는 URL로 인코딩된 여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-144">It must exactly match one of hello redirect URIs that you registered in hello portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="58b1e-145">scope</span><span class="sxs-lookup"><span data-stu-id="58b1e-145">scope</span></span> |<span data-ttu-id="58b1e-146">필수</span><span class="sxs-lookup"><span data-stu-id="58b1e-146">Required</span></span> |<span data-ttu-id="58b1e-147">공백으로 구분된 범위 목록입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-147">A space-separated list of scopes.</span></span> <span data-ttu-id="58b1e-148">단일 범위 값에는 Active Directory (Azure AD) 모두 요청 되는 hello 권한의 tooAzure 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-148">A single scope value indicates tooAzure Active Directory (Azure AD) both of hello permissions that are being requested.</span></span> <span data-ttu-id="58b1e-149">같은 클라이언트 ID를 hello ID hello 범위 따르면 응용 프로그램 서비스 또는 웹 API에 대해 사용할 수 있는 액세스 토큰이 필요 함을 나타내는 hello 클라이언트를 사용 하 여</span><span class="sxs-lookup"><span data-stu-id="58b1e-149">Using hello client ID as hello scope indicates that your app needs an access token that can be used against your own service or web API, represented by hello same client ID.</span></span>  <span data-ttu-id="58b1e-150">hello `offline_access` 범위 응용 프로그램 수명이 긴 액세스 tooresources에 대 한 새로 고침 토큰을 해야 함을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-150">hello `offline_access` scope indicates that your app needs a refresh token for long-lived access tooresources.</span></span> <span data-ttu-id="58b1e-151">Hello 사용할 수도 있습니다 `openid` 범위 toorequest Azure AD B2C에서 ID 토큰입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-151">You also can use hello `openid` scope toorequest an ID token from Azure AD B2C.</span></span> |
| <span data-ttu-id="58b1e-152">response_mode</span><span class="sxs-lookup"><span data-stu-id="58b1e-152">response_mode</span></span> |<span data-ttu-id="58b1e-153">권장</span><span class="sxs-lookup"><span data-stu-id="58b1e-153">Recommended</span></span> |<span data-ttu-id="58b1e-154">toosend hello 결과 권한 부여 코드 백 tooyour 앱을 사용 하는 hello 메서드.</span><span class="sxs-lookup"><span data-stu-id="58b1e-154">hello method that you use toosend hello resulting authorization code back tooyour app.</span></span> <span data-ttu-id="58b1e-155">`query`, `form_post` 또는 `fragment`일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-155">It can be `query`, `form_post`, or `fragment`.</span></span> |
| <span data-ttu-id="58b1e-156">state</span><span class="sxs-lookup"><span data-stu-id="58b1e-156">state</span></span> |<span data-ttu-id="58b1e-157">권장</span><span class="sxs-lookup"><span data-stu-id="58b1e-157">Recommended</span></span> |<span data-ttu-id="58b1e-158">Hello 토큰 응답에 반환 되는 hello 요청에 포함 하는 값입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-158">A value included in hello request that is returned in hello token response.</span></span> <span data-ttu-id="58b1e-159">원하는 toouse 콘텐츠 문자열 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-159">It can be a string of any content that you want toouse.</span></span> <span data-ttu-id="58b1e-160">임의로 생성 된 고유 값이 사용 하는 일반적으로 tooprevent 교차 사이트 요청 위조 공격입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-160">Usually, a randomly generated unique value is  used, tooprevent cross-site request forgery attacks.</span></span> <span data-ttu-id="58b1e-161">hello도 상태가 hello 앱에서 hello 사용자의 상태에 대 한 정보를 사용 하는 tooencode hello 인증 요청이 발생 하기 전입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-161">hello state also is used tooencode information about hello user's state in hello app before hello authentication request occurred.</span></span> <span data-ttu-id="58b1e-162">예를 들어 hello 페이지 hello 사용자 설정 되어 있는 또는 실행 중 이었던 정책 hello 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-162">For example, hello page hello user was on, or hello policy that was being executed.</span></span> |
| <span data-ttu-id="58b1e-163">p</span><span class="sxs-lookup"><span data-stu-id="58b1e-163">p</span></span> |<span data-ttu-id="58b1e-164">필수</span><span class="sxs-lookup"><span data-stu-id="58b1e-164">Required</span></span> |<span data-ttu-id="58b1e-165">실행 되는 hello 정책입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-165">hello policy that is executed.</span></span> <span data-ttu-id="58b1e-166">hello는 하는 정책의 이름을 Azure AD B2C 디렉터리에 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-166">It's hello name of a policy that is created in your Azure AD B2C directory.</span></span> <span data-ttu-id="58b1e-167">정책 이름 값 hello로 시작 해야 **b2c\_1\_**합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-167">hello policy name value should begin with **b2c\_1\_**.</span></span> <span data-ttu-id="58b1e-168">정책에 대해 자세히 toolearn 참조 [Azure AD B2C 기본 제공 정책](active-directory-b2c-reference-policies.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-168">toolearn more about policies, see [Azure AD B2C built-in policies](active-directory-b2c-reference-policies.md).</span></span> |
| <span data-ttu-id="58b1e-169">prompt</span><span class="sxs-lookup"><span data-stu-id="58b1e-169">prompt</span></span> |<span data-ttu-id="58b1e-170">옵션</span><span class="sxs-lookup"><span data-stu-id="58b1e-170">Optional</span></span> |<span data-ttu-id="58b1e-171">필요한 사용자 상호 작용의 hello 형식입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-171">hello type of user interaction that is required.</span></span> <span data-ttu-id="58b1e-172">Hello 유일한 유효 값은 현재 `login`이며 강제로 hello 사용자 tooenter 해당 요청에 자격 증명입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-172">Currently, hello only valid value is `login`, which forces hello user tooenter their credentials on that request.</span></span> <span data-ttu-id="58b1e-173">Single Sign-On은 적용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-173">Single sign-on will not take effect.</span></span> |

<span data-ttu-id="58b1e-174">이 시점에서 hello 사용자 toocomplete hello 정책 워크플로 요청.</span><span class="sxs-lookup"><span data-stu-id="58b1e-174">At this point, hello user is asked toocomplete hello policy's workflow.</span></span> <span data-ttu-id="58b1e-175">그러면 hello 디렉터리 또는 단계의 다른 모든 숫자에 등록 한 소셜 id를 사용 하 여 로그인 hello 사용자 이름과 암호를 입력 만들어질 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-175">This might involve hello user entering their username and password, signing in with a social identity, signing up for hello directory, or any other number of steps.</span></span> <span data-ttu-id="58b1e-176">사용자 작업 hello 정책 정의 되는 방식에 따라 달라 집니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-176">User actions depend on how hello policy is defined.</span></span>

<span data-ttu-id="58b1e-177">Azure AD에 사용한 hello 값에서 응답 tooyour 앱 반환 hello 사용자 hello 정책 완료 된 후 `redirect_uri`합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-177">After hello user completes hello policy, Azure AD returns a response tooyour app at hello value you used for `redirect_uri`.</span></span> <span data-ttu-id="58b1e-178">Hello에 지정 된 hello 방법을 사용 하 여 `response_mode` 매개 변수입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-178">It uses hello method specified in hello `response_mode` parameter.</span></span> <span data-ttu-id="58b1e-179">hello 응답은 각 hello 사용자 작업 시나리오를 독립적으로 실행 된 hello 정책에 대 한 동일한 hello 정확 하 게 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-179">hello response is exactly hello same for each of hello user action scenarios, independent of hello policy that was executed.</span></span>

<span data-ttu-id="58b1e-180">`response_mode=query`를 사용하는 성공적인 응답은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-180">A successful response that uses `response_mode=query` looks like this:</span></span>

```
GET urn:ietf:wg:oauth:2.0:oob?
code=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...        // hello authorization_code, truncated
&state=arbitrary_data_you_can_receive_in_the_response                // hello value provided in hello request
```

| <span data-ttu-id="58b1e-181">매개 변수</span><span class="sxs-lookup"><span data-stu-id="58b1e-181">Parameter</span></span> | <span data-ttu-id="58b1e-182">설명</span><span class="sxs-lookup"><span data-stu-id="58b1e-182">Description</span></span> |
| --- | --- |
| <span data-ttu-id="58b1e-183">코드</span><span class="sxs-lookup"><span data-stu-id="58b1e-183">code</span></span> |<span data-ttu-id="58b1e-184">응용 프로그램 요청 hello는 hello 권한 부여 코드입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-184">hello authorization code that hello app requested.</span></span> <span data-ttu-id="58b1e-185">hello 앱 대상 리소스에 대 한 hello 권한 부여 코드 toorequest 액세스 토큰을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-185">hello app can use hello authorization code toorequest an access token for a target resource.</span></span> <span data-ttu-id="58b1e-186">인증 코드는 수명이 매우 짧습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-186">Authorization codes are very short-lived.</span></span> <span data-ttu-id="58b1e-187">일반적으로 약 10분 후에 만료됩니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-187">Typically, they expire after about 10 minutes.</span></span> |
| <span data-ttu-id="58b1e-188">state</span><span class="sxs-lookup"><span data-stu-id="58b1e-188">state</span></span> |<span data-ttu-id="58b1e-189">Hello hello 섹션 앞의 hello 테이블에 전체 설명을 참조 하십시오.</span><span class="sxs-lookup"><span data-stu-id="58b1e-189">See hello full description in hello table in hello preceding section.</span></span> <span data-ttu-id="58b1e-190">경우는 `state` hello 동일한 값이 표시 hello 응답 매개 변수 hello 요청에 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-190">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="58b1e-191">hello 응용 프로그램을 확인 해야 해당 hello `state` hello 요청 및 응답에는 값이 동일 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-191">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

<span data-ttu-id="58b1e-192">오류 응답도 보낼 수 toohello 리디렉션 URI hello 응용 프로그램 수를 적절히 처리 되도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-192">Error responses also can be sent toohello redirect URI so that hello app can handle them appropriately:</span></span>

```
GET urn:ietf:wg:oauth:2.0:oob?
error=access_denied
&error_description=The+user+has+cancelled+entering+self-asserted+information
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="58b1e-193">매개 변수</span><span class="sxs-lookup"><span data-stu-id="58b1e-193">Parameter</span></span> | <span data-ttu-id="58b1e-194">설명</span><span class="sxs-lookup"><span data-stu-id="58b1e-194">Description</span></span> |
| --- | --- |
| <span data-ttu-id="58b1e-195">error</span><span class="sxs-lookup"><span data-stu-id="58b1e-195">error</span></span> |<span data-ttu-id="58b1e-196">Tooclassify hello 유형의 발생 하는 오류를 사용할 수는 오류 코드 문자열입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-196">An error code string that you can use tooclassify hello types of errors that occur.</span></span> <span data-ttu-id="58b1e-197">Hello 문자열 tooreact tooerrors를 사용할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-197">You also can use hello string tooreact tooerrors.</span></span> |
| <span data-ttu-id="58b1e-198">error_description</span><span class="sxs-lookup"><span data-stu-id="58b1e-198">error_description</span></span> |<span data-ttu-id="58b1e-199">수 있는 특정 오류 메시지를 인증 오류의 hello 근본 원인을 식별 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-199">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |
| <span data-ttu-id="58b1e-200">state</span><span class="sxs-lookup"><span data-stu-id="58b1e-200">state</span></span> |<span data-ttu-id="58b1e-201">Hello hello 앞에 테이블에에서 전체 설명을 참조 하십시오.</span><span class="sxs-lookup"><span data-stu-id="58b1e-201">See hello full description in hello preceding table.</span></span> <span data-ttu-id="58b1e-202">경우는 `state` hello 동일한 값이 표시 hello 응답 매개 변수 hello 요청에 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-202">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="58b1e-203">hello 응용 프로그램을 확인 해야 해당 hello `state` hello 요청 및 응답에는 값이 동일 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-203">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

## <a name="2-get-a-token"></a><span data-ttu-id="58b1e-204">2. 토큰 가져오기</span><span class="sxs-lookup"><span data-stu-id="58b1e-204">2. Get a token</span></span>
<span data-ttu-id="58b1e-205">Hello를 교환할 수 있습니다는 인증 코드를 구입한 했으므로 `code` 토큰 toohello POST 요청 toohello 전송 하 여 리소스 사용에 대 한 `/token` 끝점입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-205">Now that you've acquired an authorization code, you can redeem hello `code` for a token toohello intended resource by sending a POST request toohello `/token` endpoint.</span></span> <span data-ttu-id="58b1e-206">Azure AD B2C hello만 리소스에 대 한 토큰을 요청할 수 있는 응용 프로그램 자체의 백 엔드 web API입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-206">In Azure AD B2C, hello only resource that you can request a token for is your app's own back-end web API.</span></span> <span data-ttu-id="58b1e-207">토큰 tooyourself를 요청 하는 데 사용 되는 hello 규칙은 toouse hello 범위와 앱의 클라이언트 ID입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-207">hello convention that's used for requesting a token tooyourself is toouse your app's client ID as hello scope:</span></span>

```
POST fabrikamb2c.onmicrosoft.com/oauth2/v2.0/token?p=b2c_1_sign_in HTTP/1.1
Host: https://login.microsoftonline.com
Content-Type: application/x-www-form-urlencoded

grant_type=authorization_code&client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access&code=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...&redirect_uri=urn:ietf:wg:oauth:2.0:oob

```

| <span data-ttu-id="58b1e-208">매개 변수</span><span class="sxs-lookup"><span data-stu-id="58b1e-208">Parameter</span></span> | <span data-ttu-id="58b1e-209">Required?</span><span class="sxs-lookup"><span data-stu-id="58b1e-209">Required?</span></span> | <span data-ttu-id="58b1e-210">설명</span><span class="sxs-lookup"><span data-stu-id="58b1e-210">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="58b1e-211">p</span><span class="sxs-lookup"><span data-stu-id="58b1e-211">p</span></span> |<span data-ttu-id="58b1e-212">필수</span><span class="sxs-lookup"><span data-stu-id="58b1e-212">Required</span></span> |<span data-ttu-id="58b1e-213">사용 하는 tooacquire hello 권한 부여 정책 hello 코드입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-213">hello policy that was used tooacquire hello authorization code.</span></span> <span data-ttu-id="58b1e-214">이 요청에 다른 정책을 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-214">You cannot use a different policy in this request.</span></span> <span data-ttu-id="58b1e-215">이 매개 변수 toohello를 추가할 *쿼리 문자열*, hello 게시물 본문에 없습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-215">Note that you add this parameter toohello *query string*, not in hello POST body.</span></span> |
| <span data-ttu-id="58b1e-216">client_id</span><span class="sxs-lookup"><span data-stu-id="58b1e-216">client_id</span></span> |<span data-ttu-id="58b1e-217">필수</span><span class="sxs-lookup"><span data-stu-id="58b1e-217">Required</span></span> |<span data-ttu-id="58b1e-218">hello에서 tooyour 응용 프로그램을 할당 하는 hello 응용 프로그램 ID [Azure 포털](https://portal.azure.com)합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-218">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="58b1e-219">grant_type</span><span class="sxs-lookup"><span data-stu-id="58b1e-219">grant_type</span></span> |<span data-ttu-id="58b1e-220">필수</span><span class="sxs-lookup"><span data-stu-id="58b1e-220">Required</span></span> |<span data-ttu-id="58b1e-221">권한 부여의 hello 유형입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-221">hello type of grant.</span></span> <span data-ttu-id="58b1e-222">권한 부여 코드 흐름 hello에 대 한 hello grant 유형 이어야 합니다 `authorization_code`합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-222">For hello authorization code flow, hello grant type must be `authorization_code`.</span></span> |
| <span data-ttu-id="58b1e-223">scope</span><span class="sxs-lookup"><span data-stu-id="58b1e-223">scope</span></span> |<span data-ttu-id="58b1e-224">권장</span><span class="sxs-lookup"><span data-stu-id="58b1e-224">Recommended</span></span> |<span data-ttu-id="58b1e-225">공백으로 구분된 범위 목록입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-225">A space-separated list of scopes.</span></span> <span data-ttu-id="58b1e-226">단일 범위 값이 요청 되는 hello 사용 권한 모두 AD tooAzure를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-226">A single scope value indicates tooAzure AD both of hello permissions that are being requested.</span></span> <span data-ttu-id="58b1e-227">같은 클라이언트 ID를 hello ID hello 범위 따르면 응용 프로그램 서비스 또는 웹 API에 대해 사용할 수 있는 액세스 토큰이 필요 함을 나타내는 hello 클라이언트를 사용 하 여</span><span class="sxs-lookup"><span data-stu-id="58b1e-227">Using hello client ID as hello scope indicates that your app needs an access token that can be used against your own service or web API, represented by hello same client ID.</span></span>  <span data-ttu-id="58b1e-228">hello `offline_access` 범위 응용 프로그램 수명이 긴 액세스 tooresources에 대 한 새로 고침 토큰을 해야 함을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-228">hello `offline_access` scope indicates that your app needs a refresh token for long-lived access tooresources.</span></span>  <span data-ttu-id="58b1e-229">Hello 사용할 수도 있습니다 `openid` 범위 toorequest Azure AD B2C에서 ID 토큰입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-229">You also can use hello `openid` scope toorequest an ID token from Azure AD B2C.</span></span> |
| <span data-ttu-id="58b1e-230">코드</span><span class="sxs-lookup"><span data-stu-id="58b1e-230">code</span></span> |<span data-ttu-id="58b1e-231">필수</span><span class="sxs-lookup"><span data-stu-id="58b1e-231">Required</span></span> |<span data-ttu-id="58b1e-232">hello hello 흐름의 첫 번째 레그에서 복사한 hello 권한 부여 코드입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-232">hello authorization code that you acquired in hello first leg of hello flow.</span></span> |
| <span data-ttu-id="58b1e-233">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="58b1e-233">redirect_uri</span></span> |<span data-ttu-id="58b1e-234">필수</span><span class="sxs-lookup"><span data-stu-id="58b1e-234">Required</span></span> |<span data-ttu-id="58b1e-235">hello 리디렉션 URI는 hello 인증 코드를 수신 하는 hello 응용 프로그램입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-235">hello redirect URI of hello application where you received hello authorization code.</span></span> |

<span data-ttu-id="58b1e-236">성공적인 토큰 응답은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-236">A successful token response looks like this:</span></span>

```
{
    "not_before": "1442340812",
    "token_type": "Bearer",
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...",
    "scope": "90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
    "expires_in": "3600",
    "refresh_token": "AAQfQmvuDy8WtUv-sd0TBwWVQs1rC-Lfxa_NDkLqpg50Cxp5Dxj0VPF1mx2Z...",
}
```
| <span data-ttu-id="58b1e-237">매개 변수를 포함해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-237">Parameter</span></span> | <span data-ttu-id="58b1e-238">설명</span><span class="sxs-lookup"><span data-stu-id="58b1e-238">Description</span></span> |
| --- | --- |
| <span data-ttu-id="58b1e-239">not_before</span><span class="sxs-lookup"><span data-stu-id="58b1e-239">not_before</span></span> |<span data-ttu-id="58b1e-240">hello 시간은 hello에 토큰은 유효한 것으로 간주, epoch 시간에서입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-240">hello time at which hello token is considered valid, in epoch time.</span></span> |
| <span data-ttu-id="58b1e-241">token_type</span><span class="sxs-lookup"><span data-stu-id="58b1e-241">token_type</span></span> |<span data-ttu-id="58b1e-242">hello 토큰 유형 값입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-242">hello token type value.</span></span> <span data-ttu-id="58b1e-243">hello는만 Azure AD에서는 전달자를 입력 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-243">hello only type that Azure AD supports is Bearer.</span></span> |
| <span data-ttu-id="58b1e-244">access_token</span><span class="sxs-lookup"><span data-stu-id="58b1e-244">access_token</span></span> |<span data-ttu-id="58b1e-245">hello는 JSON 웹 토큰 (JWT) 사용자가 요청한 서명 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-245">hello signed JSON Web Token (JWT) that you requested.</span></span> |
| <span data-ttu-id="58b1e-246">scope</span><span class="sxs-lookup"><span data-stu-id="58b1e-246">scope</span></span> |<span data-ttu-id="58b1e-247">토큰 hello hello 범위에 대 한 유효 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-247">hello scopes that hello token is valid for.</span></span> <span data-ttu-id="58b1e-248">나중에 사용할 toocache 토큰 범위를 사용할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-248">You also can use scopes toocache tokens for later use.</span></span> |
| <span data-ttu-id="58b1e-249">expires_in</span><span class="sxs-lookup"><span data-stu-id="58b1e-249">expires_in</span></span> |<span data-ttu-id="58b1e-250">토큰 hello는 시간의 hello 길이 (초)에서 유효 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-250">hello length of time that hello token is valid (in seconds).</span></span> |
| <span data-ttu-id="58b1e-251">refresh_token</span><span class="sxs-lookup"><span data-stu-id="58b1e-251">refresh_token</span></span> |<span data-ttu-id="58b1e-252">OAuth 2.0 새로 고침 토큰입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-252">An OAuth 2.0 refresh token.</span></span> <span data-ttu-id="58b1e-253">hello 앱 hello 현재 토큰 만료 된 후이 토큰 tooacquire 추가 토큰을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-253">hello app can use this token tooacquire additional tokens after hello current token expires.</span></span> <span data-ttu-id="58b1e-254">새로 고침 토큰은 장기적으로 존재합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-254">Refresh tokens are long-lived.</span></span> <span data-ttu-id="58b1e-255">사용할 수 있습니다 tooretain 액세스 tooresources 오랜 시간에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-255">You can use them tooretain access tooresources for extended periods of time.</span></span> <span data-ttu-id="58b1e-256">자세한 내용은 참조 hello [Azure AD B2C 토큰 참조](active-directory-b2c-reference-tokens.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-256">For more information, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |

<span data-ttu-id="58b1e-257">오류 응답은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-257">Error responses look like this:</span></span>

```
{
    "error": "access_denied",
    "error_description": "hello user revoked access toohello app.",
}
```

| <span data-ttu-id="58b1e-258">매개 변수</span><span class="sxs-lookup"><span data-stu-id="58b1e-258">Parameter</span></span> | <span data-ttu-id="58b1e-259">설명</span><span class="sxs-lookup"><span data-stu-id="58b1e-259">Description</span></span> |
| --- | --- |
| <span data-ttu-id="58b1e-260">error</span><span class="sxs-lookup"><span data-stu-id="58b1e-260">error</span></span> |<span data-ttu-id="58b1e-261">Tooclassify hello 유형의 발생 하는 오류를 사용할 수는 오류 코드 문자열입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-261">An error code string that you can use tooclassify hello types of errors that occur.</span></span> <span data-ttu-id="58b1e-262">Hello 문자열 tooreact tooerrors를 사용할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-262">You also can use hello string tooreact tooerrors.</span></span> |
| <span data-ttu-id="58b1e-263">error_description</span><span class="sxs-lookup"><span data-stu-id="58b1e-263">error_description</span></span> |<span data-ttu-id="58b1e-264">수 있는 특정 오류 메시지를 인증 오류의 hello 근본 원인을 식별 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-264">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |

## <a name="3-use-hello-token"></a><span data-ttu-id="58b1e-265">3. Hello 토큰을 사용 하 여</span><span class="sxs-lookup"><span data-stu-id="58b1e-265">3. Use hello token</span></span>
<span data-ttu-id="58b1e-266">Hello에 포함 하 여 hello 토큰을 사용할 요청 tooyour 백 엔드 웹 Api에에서 수 있는 액세스 토큰을 획득 성공적으로 했습니다 이제 `Authorization` 헤더:</span><span class="sxs-lookup"><span data-stu-id="58b1e-266">Now that you've successfully acquired an access token, you can use hello token in requests tooyour back-end web APIs by including it in hello `Authorization` header:</span></span>

```
GET /tasks
Host: https://mytaskwebapi.com
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
```

## <a name="4-refresh-hello-token"></a><span data-ttu-id="58b1e-267">4. Hello 토큰 새로 고침</span><span class="sxs-lookup"><span data-stu-id="58b1e-267">4. Refresh hello token</span></span>
<span data-ttu-id="58b1e-268">액세스 토큰 및 ID 토큰은 수명이 짧습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-268">Access tokens and ID tokens are short-lived.</span></span> <span data-ttu-id="58b1e-269">만료 되기 후 새로 고쳐야 하 toocontinue tooaccess 리소스.</span><span class="sxs-lookup"><span data-stu-id="58b1e-269">After they expire, you must refresh them toocontinue tooaccess resources.</span></span> <span data-ttu-id="58b1e-270">toodo이를 다른 POST 요청 toohello 제출 `/token` 끝점입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-270">toodo this, submit another POST request toohello `/token` endpoint.</span></span> <span data-ttu-id="58b1e-271">이 시간 제공 hello `refresh_token` hello 대신 `code`:</span><span class="sxs-lookup"><span data-stu-id="58b1e-271">This time, provide hello `refresh_token` instead of hello `code`:</span></span>

```
POST fabrikamb2c.onmicrosoft.com/oauth2/v2.0/token?p=b2c_1_sign_in HTTP/1.1
Host: https://login.microsoftonline.com
Content-Type: application/x-www-form-urlencoded

grant_type=refresh_token&client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access&refresh_token=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...&redirect_uri=urn:ietf:wg:oauth:2.0:oob
```

| <span data-ttu-id="58b1e-272">매개 변수</span><span class="sxs-lookup"><span data-stu-id="58b1e-272">Parameter</span></span> | <span data-ttu-id="58b1e-273">Required?</span><span class="sxs-lookup"><span data-stu-id="58b1e-273">Required?</span></span> | <span data-ttu-id="58b1e-274">설명</span><span class="sxs-lookup"><span data-stu-id="58b1e-274">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="58b1e-275">p</span><span class="sxs-lookup"><span data-stu-id="58b1e-275">p</span></span> |<span data-ttu-id="58b1e-276">필수</span><span class="sxs-lookup"><span data-stu-id="58b1e-276">Required</span></span> |<span data-ttu-id="58b1e-277">사용 되는 tooacquire hello 원래 새로 고침 토큰을 hello 정책입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-277">hello policy that was used tooacquire hello original refresh token.</span></span> <span data-ttu-id="58b1e-278">이 요청에 다른 정책을 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-278">You cannot use a different policy in this request.</span></span> <span data-ttu-id="58b1e-279">이 매개 변수 toohello를 추가할 *쿼리 문자열*, hello 게시물 본문에 없습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-279">Note that you add this parameter toohello *query string*, not in hello POST body.</span></span> |
| <span data-ttu-id="58b1e-280">client_id</span><span class="sxs-lookup"><span data-stu-id="58b1e-280">client_id</span></span> |<span data-ttu-id="58b1e-281">권장</span><span class="sxs-lookup"><span data-stu-id="58b1e-281">Recommended</span></span> |<span data-ttu-id="58b1e-282">hello에서 tooyour 응용 프로그램을 할당 하는 hello 응용 프로그램 ID [Azure 포털](https://portal.azure.com)합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-282">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="58b1e-283">grant_type</span><span class="sxs-lookup"><span data-stu-id="58b1e-283">grant_type</span></span> |<span data-ttu-id="58b1e-284">필수</span><span class="sxs-lookup"><span data-stu-id="58b1e-284">Required</span></span> |<span data-ttu-id="58b1e-285">권한 부여의 hello 유형입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-285">hello type of grant.</span></span> <span data-ttu-id="58b1e-286">이 다리 hello 권한 부여 코드 흐름의 hello grant 유형 이어야 합니다 `refresh_token`합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-286">For this leg of hello authorization code flow, hello grant type must be `refresh_token`.</span></span> |
| <span data-ttu-id="58b1e-287">scope</span><span class="sxs-lookup"><span data-stu-id="58b1e-287">scope</span></span> |<span data-ttu-id="58b1e-288">권장</span><span class="sxs-lookup"><span data-stu-id="58b1e-288">Recommended</span></span> |<span data-ttu-id="58b1e-289">공백으로 구분된 범위 목록입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-289">A space-separated list of scopes.</span></span> <span data-ttu-id="58b1e-290">단일 범위 값이 요청 되는 hello 사용 권한 모두 AD tooAzure를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-290">A single scope value indicates tooAzure AD both of hello permissions that are being requested.</span></span> <span data-ttu-id="58b1e-291">같은 클라이언트 ID를 hello ID hello 범위 따르면 응용 프로그램 서비스 또는 웹 API에 대해 사용할 수 있는 액세스 토큰이 필요 함을 나타내는 hello 클라이언트를 사용 하 여</span><span class="sxs-lookup"><span data-stu-id="58b1e-291">Using hello client ID as hello scope indicates that your app needs an access token that can be used against your own service or web API, represented by hello same client ID.</span></span>  <span data-ttu-id="58b1e-292">hello `offline_access` 앱 새로 고침 토큰 수명이 긴 액세스 tooresources에 대 한에서 필요한 범위를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-292">hello `offline_access` scope indicates that your app will need a refresh token for long-lived access tooresources.</span></span>  <span data-ttu-id="58b1e-293">Hello 사용할 수도 있습니다 `openid` 범위 toorequest Azure AD B2C에서 ID 토큰입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-293">You also can use hello `openid` scope toorequest an ID token from Azure AD B2C.</span></span> |
| <span data-ttu-id="58b1e-294">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="58b1e-294">redirect_uri</span></span> |<span data-ttu-id="58b1e-295">옵션</span><span class="sxs-lookup"><span data-stu-id="58b1e-295">Optional</span></span> |<span data-ttu-id="58b1e-296">hello 리디렉션 URI는 hello 인증 코드를 수신 하는 hello 응용 프로그램입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-296">hello redirect URI of hello application where you received hello authorization code.</span></span> |
| <span data-ttu-id="58b1e-297">refresh_token</span><span class="sxs-lookup"><span data-stu-id="58b1e-297">refresh_token</span></span> |<span data-ttu-id="58b1e-298">필수</span><span class="sxs-lookup"><span data-stu-id="58b1e-298">Required</span></span> |<span data-ttu-id="58b1e-299">hello 원래 새로 고침 토큰 hello hello 흐름의 두 번째 레그에서 복사한입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-299">hello original refresh token that you acquired in hello second leg of hello flow.</span></span> |

<span data-ttu-id="58b1e-300">성공적인 토큰 응답은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-300">A successful token response looks like this:</span></span>

```
{
    "not_before": "1442340812",
    "token_type": "Bearer",
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...",
    "scope": "90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
    "expires_in": "3600",
    "refresh_token": "AAQfQmvuDy8WtUv-sd0TBwWVQs1rC-Lfxa_NDkLqpg50Cxp5Dxj0VPF1mx2Z...",
}
```
| <span data-ttu-id="58b1e-301">매개 변수를 포함해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-301">Parameter</span></span> | <span data-ttu-id="58b1e-302">설명</span><span class="sxs-lookup"><span data-stu-id="58b1e-302">Description</span></span> |
| --- | --- |
| <span data-ttu-id="58b1e-303">not_before</span><span class="sxs-lookup"><span data-stu-id="58b1e-303">not_before</span></span> |<span data-ttu-id="58b1e-304">hello 시간은 hello에 토큰은 유효한 것으로 간주, epoch 시간에서입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-304">hello time at which hello token is considered valid, in epoch time.</span></span> |
| <span data-ttu-id="58b1e-305">token_type</span><span class="sxs-lookup"><span data-stu-id="58b1e-305">token_type</span></span> |<span data-ttu-id="58b1e-306">hello 토큰 유형 값입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-306">hello token type value.</span></span> <span data-ttu-id="58b1e-307">hello는만 Azure AD에서는 전달자를 입력 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-307">hello only type that Azure AD supports is Bearer.</span></span> |
| <span data-ttu-id="58b1e-308">access_token</span><span class="sxs-lookup"><span data-stu-id="58b1e-308">access_token</span></span> |<span data-ttu-id="58b1e-309">hello 사용자가 요청한 JWT를 서명 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-309">hello signed JWT that you requested.</span></span> |
| <span data-ttu-id="58b1e-310">scope</span><span class="sxs-lookup"><span data-stu-id="58b1e-310">scope</span></span> |<span data-ttu-id="58b1e-311">토큰 hello hello 범위에 대 한 유효 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-311">hello scopes that hello token is valid for.</span></span> <span data-ttu-id="58b1e-312">나중에 사용할 hello 범위 toocache 토큰 사용할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-312">You also can use hello scopes toocache tokens for later use.</span></span> |
| <span data-ttu-id="58b1e-313">expires_in</span><span class="sxs-lookup"><span data-stu-id="58b1e-313">expires_in</span></span> |<span data-ttu-id="58b1e-314">토큰 hello는 시간의 hello 길이 (초)에서 유효 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-314">hello length of time that hello token is valid (in seconds).</span></span> |
| <span data-ttu-id="58b1e-315">refresh_token</span><span class="sxs-lookup"><span data-stu-id="58b1e-315">refresh_token</span></span> |<span data-ttu-id="58b1e-316">OAuth 2.0 새로 고침 토큰입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-316">An OAuth 2.0 refresh token.</span></span> <span data-ttu-id="58b1e-317">hello 앱 hello 현재 토큰 만료 된 후이 토큰 tooacquire 추가 토큰을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-317">hello app can use this token tooacquire additional tokens after hello current token expires.</span></span> <span data-ttu-id="58b1e-318">새로 고침 토큰 수명이 긴 되며 오랜 시간에 사용 되는 tooretain 액세스 tooresources를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-318">Refresh tokens are long-lived, and can be used tooretain access tooresources for extended periods of time.</span></span> <span data-ttu-id="58b1e-319">자세한 내용은 참조 hello [Azure AD B2C 토큰 참조](active-directory-b2c-reference-tokens.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-319">For more information, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |

<span data-ttu-id="58b1e-320">오류 응답은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-320">Error responses look like this:</span></span>

```
{
    "error": "access_denied",
    "error_description": "hello user revoked access toohello app.",
}
```

| <span data-ttu-id="58b1e-321">매개 변수</span><span class="sxs-lookup"><span data-stu-id="58b1e-321">Parameter</span></span> | <span data-ttu-id="58b1e-322">설명</span><span class="sxs-lookup"><span data-stu-id="58b1e-322">Description</span></span> |
| --- | --- |
| <span data-ttu-id="58b1e-323">error</span><span class="sxs-lookup"><span data-stu-id="58b1e-323">error</span></span> |<span data-ttu-id="58b1e-324">발생 하는 오류의 tooclassify 종류를 사용할 수 있는 오류 코드 문자열입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-324">An error code string that you can use tooclassify types of errors that occur.</span></span> <span data-ttu-id="58b1e-325">Hello 문자열 tooreact tooerrors를 사용할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-325">You also can use hello string tooreact tooerrors.</span></span> |
| <span data-ttu-id="58b1e-326">error_description</span><span class="sxs-lookup"><span data-stu-id="58b1e-326">error_description</span></span> |<span data-ttu-id="58b1e-327">수 있는 특정 오류 메시지를 인증 오류의 hello 근본 원인을 식별 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-327">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |

## <a name="use-your-own-azure-ad-b2c-directory"></a><span data-ttu-id="58b1e-328">사용자 고유의 Azure AD B2C 디렉터리 사용</span><span class="sxs-lookup"><span data-stu-id="58b1e-328">Use your own Azure AD B2C directory</span></span>
<span data-ttu-id="58b1e-329">이러한 요청을 직접 수행 하는 전체 hello tootry 안내 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-329">tootry these requests yourself, complete hello following steps.</span></span> <span data-ttu-id="58b1e-330">고유한 값으로이 문서에서 사용 하는 hello 예제 값을 대체 합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-330">Replace hello example values we used in this article with your own values.</span></span>

1. <span data-ttu-id="58b1e-331">[Azure AD B2C 디렉터리를 만듭니다](active-directory-b2c-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="58b1e-331">[Create an Azure AD B2C directory](active-directory-b2c-get-started.md).</span></span> <span data-ttu-id="58b1e-332">디렉터리의 이름을 hello를 사용 하 여 hello 요청에서.</span><span class="sxs-lookup"><span data-stu-id="58b1e-332">Use hello name of your directory in hello requests.</span></span>
2. <span data-ttu-id="58b1e-333">[응용 프로그램 만들기](active-directory-b2c-app-registration.md) tooobtain 응용 프로그램 ID 및 리디렉션 URI입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-333">[Create an application](active-directory-b2c-app-registration.md) tooobtain an application ID and a redirect URI.</span></span> <span data-ttu-id="58b1e-334">앱에 네이티브 클라이언트를 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-334">Include a native client in your app.</span></span>
3. <span data-ttu-id="58b1e-335">[정책 만들기](active-directory-b2c-reference-policies.md) tooobtain 정책 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="58b1e-335">[Create your policies](active-directory-b2c-reference-policies.md) tooobtain your policy names.</span></span>

