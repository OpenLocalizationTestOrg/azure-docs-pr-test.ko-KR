---
title: "Azure Active Directory B2C: 사용자 지정 정책 | Microsoft Docs"
description: "Azure Active Directory B2C 사용자 지정 정책에 대한 항목"
services: active-directory-b2c
documentationcenter: 
author: parakhj
manager: krassk
editor: parakhj
ms.assetid: 1ff398a4-2079-4615-94f1-57de22c0aad6
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.topic: article
ms.devlang: na
ms.date: 04/04/2017
ms.author: parakhj
ms.openlocfilehash: bada9cf5f1a86f3dd047536f6fd9359c0231a384
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-active-directory-b2c-custom-policies"></a><span data-ttu-id="3b01e-103">Azure Active Directory B2C: 사용자 지정 정책</span><span class="sxs-lookup"><span data-stu-id="3b01e-103">Azure Active Directory B2C: Custom policies</span></span>

[!INCLUDE [active-directory-b2c-advanced-audience-warning](../../includes/active-directory-b2c-advanced-audience-warning.md)]

## <a name="what-are-custom-policies"></a><span data-ttu-id="3b01e-104">사용자 지정 정책이란?</span><span class="sxs-lookup"><span data-stu-id="3b01e-104">What are custom policies?</span></span>

<span data-ttu-id="3b01e-105">사용자 지정 정책은 Azure AD B2C 테 넌 트의 hello 동작을 정의 하는 구성 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-105">Custom policies are configuration files that define hello behavior of your Azure AD B2C tenant.</span></span> <span data-ttu-id="3b01e-106">반면 **기본 제공 정책** hello 가장 일반적인 identity, 사용자 지정 정책을 수 작업에 대 한 Azure AD B2C hello 포털에서 미리 정의 된 작업의 거의 무제한을 identity 개발자 toocomplete가 완벽 하 게 편집 합니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-106">Whereas **built-in policies** are predefined in hello Azure AD B2C portal for hello most common identity tasks, custom policies can be fully edited by an identity developer toocomplete a near unlimited number of tasks.</span></span> <span data-ttu-id="3b01e-107">사용자 지정 정책으로는 사용자에 대 한 오른쪽 및 id 시나리오 toodetermine 계속 읽어 보십시오.</span><span class="sxs-lookup"><span data-stu-id="3b01e-107">Read on toodetermine if custom policies are right for you and your identity scenario.</span></span>

<span data-ttu-id="3b01e-108">**사용자 지정 정책 편집은 일부 사용자에게만 해당됩니다.**</span><span class="sxs-lookup"><span data-stu-id="3b01e-108">**Custom policy editing is not for everyone.**</span></span> <span data-ttu-id="3b01e-109">hello 배워야 할 필요성이 요구 하는 hello 시작 시간이 깁니다 하 고 나중에 변경 내용 toocustom 정책을 비슷한 전문 지식을 toomaintain를 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-109">hello learning curve is demanding, hello startup time is longer, and future changes toocustom policies will require similar expertise toomaintain.</span></span> <span data-ttu-id="3b01e-110">사용자 지정 정책을 사용하기 전에 먼저 시나리오에 대한 기본 제공 정책을 신중하게 고려해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-110">Built-in policies should be carefully considered first for your scenario before using custom policies.</span></span>

## <a name="comparing-built-in-policies-and-custom-policies"></a><span data-ttu-id="3b01e-111">기본 제공 정책과 사용자 지정 정책 비교</span><span class="sxs-lookup"><span data-stu-id="3b01e-111">Comparing built-in policies and custom policies</span></span>

| | <span data-ttu-id="3b01e-112">기본 제공 정책</span><span class="sxs-lookup"><span data-stu-id="3b01e-112">Built-in policies</span></span> | <span data-ttu-id="3b01e-113">사용자 지정 정책</span><span class="sxs-lookup"><span data-stu-id="3b01e-113">Custom policies</span></span> |
|-|-------------------|-----------------|
|<span data-ttu-id="3b01e-114">대상 사용자</span><span class="sxs-lookup"><span data-stu-id="3b01e-114">Target users</span></span> | <span data-ttu-id="3b01e-115">ID 전문 지식이 있거나 없는 모든 앱 개발자</span><span class="sxs-lookup"><span data-stu-id="3b01e-115">All app developers with or without identity expertise</span></span> | <span data-ttu-id="3b01e-116">ID 전문가: 시스템 통합 서비스, 컨설턴트 및 사내 ID 팀입니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-116">Identity pros: systems integrators, consultants and in-house identity teams.</span></span> <span data-ttu-id="3b01e-117">OpenIDConnect 흐름에 만족하고 ID 공급자와 클레임 기반 인증을 이해합니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-117">They are comfortable with OpenIDConnect flows, and understand identity providers and claims-based authentication</span></span> |
|<span data-ttu-id="3b01e-118">구성 방법</span><span class="sxs-lookup"><span data-stu-id="3b01e-118">Configuration method</span></span> | <span data-ttu-id="3b01e-119">사용자에게 친숙한 UI를 사용하는 Azure Portal</span><span class="sxs-lookup"><span data-stu-id="3b01e-119">Azure portal with a user-friendly UI</span></span> | <span data-ttu-id="3b01e-120">XML 파일을 직접 편집 하 고 toohello Azure 포털을 업로드</span><span class="sxs-lookup"><span data-stu-id="3b01e-120">Directly editing XML files and then uploading toohello Azure portal</span></span> |
|<span data-ttu-id="3b01e-121">UI 사용자 지정</span><span class="sxs-lookup"><span data-stu-id="3b01e-121">UI customization</span></span> | <span data-ttu-id="3b01e-122">HTML, CSS 및 JScript 지원을 비롯한 전체 UI 사용자 지정(사용자 지정 도메인 필요)</span><span class="sxs-lookup"><span data-stu-id="3b01e-122">Full UI customization, including HTML, CSS, and jscript support(requires custom domain)</span></span><br><br><span data-ttu-id="3b01e-123">사용자 지정 문자열을 사용하여 다국어 지원</span><span class="sxs-lookup"><span data-stu-id="3b01e-123">Multilanguage support with Custom strings</span></span> | <span data-ttu-id="3b01e-124">동일</span><span class="sxs-lookup"><span data-stu-id="3b01e-124">Same</span></span> |
| <span data-ttu-id="3b01e-125">특성 사용자 지정</span><span class="sxs-lookup"><span data-stu-id="3b01e-125">Attribute customization</span></span> | <span data-ttu-id="3b01e-126">표준 및 사용자 지정 특성</span><span class="sxs-lookup"><span data-stu-id="3b01e-126">Standard and custom attributes</span></span> | <span data-ttu-id="3b01e-127">동일</span><span class="sxs-lookup"><span data-stu-id="3b01e-127">Same</span></span> |
|<span data-ttu-id="3b01e-128">토큰 및 세션 관리</span><span class="sxs-lookup"><span data-stu-id="3b01e-128">Token and session management</span></span> | <span data-ttu-id="3b01e-129">사용자 지정 토큰 및 다중 세션 옵션</span><span class="sxs-lookup"><span data-stu-id="3b01e-129">Custom token and multiple session options</span></span> | <span data-ttu-id="3b01e-130">동일</span><span class="sxs-lookup"><span data-stu-id="3b01e-130">Same</span></span> |
|<span data-ttu-id="3b01e-131">ID 공급자</span><span class="sxs-lookup"><span data-stu-id="3b01e-131">Identity Providers</span></span>| <span data-ttu-id="3b01e-132">**현재**: 미리 정의된 로컬, 소셜 공급자</span><span class="sxs-lookup"><span data-stu-id="3b01e-132">**Today**: predefined local, social provider</span></span><br><br><span data-ttu-id="3b01e-133">**이후**: 표준 기반 OIDC, SAML, OAuth</span><span class="sxs-lookup"><span data-stu-id="3b01e-133">**Future**: Standards-based OIDC, SAML, OAuth</span></span> | <span data-ttu-id="3b01e-134">**현재**: 표준 기반 OIDC, OAUTH, SAML</span><span class="sxs-lookup"><span data-stu-id="3b01e-134">**Today**: Standards-based OIDC, OAUTH, SAML</span></span><br><br><span data-ttu-id="3b01e-135">**이후**: WsFed</span><span class="sxs-lookup"><span data-stu-id="3b01e-135">**Future**: WsFed</span></span> |
|<span data-ttu-id="3b01e-136">ID 작업(예제)</span><span class="sxs-lookup"><span data-stu-id="3b01e-136">Identity Tasks (examples)</span></span> | <span data-ttu-id="3b01e-137">로컬 및 많은 소셜 계정을 사용하여 등록 또는 로그인</span><span class="sxs-lookup"><span data-stu-id="3b01e-137">Signup or SignIn with local and many social accounts</span></span><br><br><span data-ttu-id="3b01e-138">셀프 서비스 암호 재설정</span><span class="sxs-lookup"><span data-stu-id="3b01e-138">Self-Service Password Reset</span></span><br><br><span data-ttu-id="3b01e-139">프로필 편집</span><span class="sxs-lookup"><span data-stu-id="3b01e-139">Profile Edit</span></span><br><br><span data-ttu-id="3b01e-140">Multi-Factor Auth 시나리오</span><span class="sxs-lookup"><span data-stu-id="3b01e-140">Multi-Factor Auth scenarios</span></span><br><br><span data-ttu-id="3b01e-141">토큰 및 세션 사용자 지정</span><span class="sxs-lookup"><span data-stu-id="3b01e-141">Customize Tokens and sessions</span></span><br><br><span data-ttu-id="3b01e-142">액세스 토큰 흐름</span><span class="sxs-lookup"><span data-stu-id="3b01e-142">Access Token flows</span></span> | <span data-ttu-id="3b01e-143">Hello 사용자 지정 id 공급자를 사용 하 여 기본 제공 정책으로 동일한 작업을 완료 하거나 사용자 지정 범위를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-143">Complete hello same tasks as built-in policies using custom identity providers or use custom scopes</span></span><br><br><span data-ttu-id="3b01e-144">등록의 hello 시 다른 시스템에서 사용자 프로 비전</span><span class="sxs-lookup"><span data-stu-id="3b01e-144">Provision user in another system at hello time of registration</span></span><br><br><span data-ttu-id="3b01e-145">고유한 전자 메일 서비스 공급자를 사용하여 환영 전자 메일 보내기</span><span class="sxs-lookup"><span data-stu-id="3b01e-145">Send a welcome email using your own email service provider</span></span><br><br><span data-ttu-id="3b01e-146">B2C 외부 사용자 저장소 사용</span><span class="sxs-lookup"><span data-stu-id="3b01e-146">Use a user store outside B2C</span></span><br><br><span data-ttu-id="3b01e-147">API를 통해 신뢰할 수 있는 시스템을 사용하여 사용자 제공 정보의 유효성 검사</span><span class="sxs-lookup"><span data-stu-id="3b01e-147">Validate user provided information with a trusted system via API</span></span> |

## <a name="policy-files"></a><span data-ttu-id="3b01e-148">정책 파일</span><span class="sxs-lookup"><span data-stu-id="3b01e-148">Policy files</span></span>

<span data-ttu-id="3b01e-149">사용자 지정 정책은 하나 또는 여러 XML 형식 파일을 계층적 체인의 다른 tooeach 참조로 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-149">A custom policy is represented as one or several XML-formatted files which refer tooeach other in a hierarchical chain.</span></span> <span data-ttu-id="3b01e-150">hello XML 요소 정의: 클레임 스키마를 변환, 콘텐츠 정의 클레임 공급자/기술 프로필 및 다른 요소 중 Userjourney 오케스트레이션 단계를 클레임 합니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-150">hello XML elements define: Claims schema, claims transformations, content definitions, claims providers/technical profiles, and Userjourney orchestration steps, among other elements.</span></span>

<span data-ttu-id="3b01e-151">Hello를 사용 하 여를 세 가지 유형의 정책 파일의 사용 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-151">We recommend hello use of three types of policy files:</span></span>

- <span data-ttu-id="3b01e-152">**기본 파일**, 대부분의 hello 정의 및 제공 하는 Azure 전체 샘플에 대 한 포함 된 합니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-152">**A BASE file**, which contains most of hello definitions and for which Azure provides a complete sample.</span></span>  <span data-ttu-id="3b01e-153">최소한의 toothis 파일 toohelp 문제를 쉽게 해결 하는 변경 하 고 정책 장기적인 유지 관리 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-153">We recommend you make a minimum number of changes toothis file toohelp with troubleshooting, and long-term maintenance of your policies</span></span>
- <span data-ttu-id="3b01e-154">**확장 파일** 테 넌 트에 대 한 고유한 구성 변경 내용을 hello를 보유 하는</span><span class="sxs-lookup"><span data-stu-id="3b01e-154">**an EXTensions file** that holds hello unique configuration changes for your tenant</span></span>
- <span data-ttu-id="3b01e-155">**RP (신뢰 당사자) 파일** hello 단일 작업 중심 파일인 hello 응용 프로그램이 나 서비스 (즉, 신뢰 당사자)에서 직접입니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-155">**a Relying Party (RP) file** which is hello single task-focused file that is invoked directly by hello application or service (aka Relying Party).</span></span>  <span data-ttu-id="3b01e-156">자세한 내용은 정책 파일 정의 hello 문서를 읽어 보세요.</span><span class="sxs-lookup"><span data-stu-id="3b01e-156">Read hello article on Policy file definitions for more information.</span></span>  <span data-ttu-id="3b01e-157">고유한 각 태스크에는 자체 RP 필요 하며 브랜딩 요구 사항에 따라 hello 수 "사용 사례 수가 총 x 응용 프로그램의 총" 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-157">Each unique task requires its own RP and depending on branding requirements hello number might be "total of applications x total number of use cases".</span></span>


<span data-ttu-id="3b01e-158">Azure AD B2C에 대 한 기본 제공 정책 hello 포털 hello 배경 toohello EXTenstions 파일에서 변경 하는 동안에 게 표시 hello RP (신뢰 당사자) 파일에만 hello 개발자 하지만 위에서 설명 하는 hello 3 파일 패턴을 따릅니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-158">Built-in policies in Azure AD B2C follow hello 3-file pattern depicted above, but hello developer only sees hello Relying Party (RP) file, while hello portal makes changes in hello background toohello EXTenstions file.</span></span>

## <a name="core-concepts-you-should-know-when-using-custom-policies"></a><span data-ttu-id="3b01e-159">사용자 지정 정책을 사용하는 경우 알아야 할 핵심 개념</span><span class="sxs-lookup"><span data-stu-id="3b01e-159">Core concepts you should know when using custom policies</span></span>

### <a name="azure-active-directory-b2c"></a><span data-ttu-id="3b01e-160">Azure Active Directory B2C</span><span class="sxs-lookup"><span data-stu-id="3b01e-160">Azure Active Directory B2C</span></span>

<span data-ttu-id="3b01e-161">Azure의 CIAM(고객 ID 및 액세스 관리) 서비스입니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-161">Azure’s customer identity and access management (CIAM) service.</span></span> <span data-ttu-id="3b01e-162">hello 서비스에는 다음이 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-162">hello service includes:</span></span>

1. <span data-ttu-id="3b01e-163">특수 한 용도의 Azure Active Directory의 Microsoft Graph 및 로컬 계정과 페더레이션된 계정에 대 한 사용자 데이터가 들어 있는 통해 액세스할 수 있는 hello 형태로 사용자 디렉터리</span><span class="sxs-lookup"><span data-stu-id="3b01e-163">A user directory in hello form of a special-purpose Azure Active Directory accessible via Microsoft Graph and which holds user data for both local accounts and federated accounts</span></span> 
2. <span data-ttu-id="3b01e-164">Toohello 액세스 **Id 경험 프레임 워크** 사용자 및 엔터티 간의 트러스트를 조정 하 고 identity/액세스 관리 작업 toocomplete 이들 간에 클레임을 전달</span><span class="sxs-lookup"><span data-stu-id="3b01e-164">Access toohello **Identity Experience Framework** which orchestrates trust between users and entities and passes claims between them toocomplete an identity/access management task</span></span> 
3. <span data-ttu-id="3b01e-165">보안 토큰 서비스 (STS) id 토큰, 새로 고침 토큰 및 액세스 토큰 (및 해당 하는 SAML 어설션에)를 발급 하 고 tooprotect 리소스 그 유효성을 검사 합니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-165">A security token service (STS) issuing id tokens, refresh tokens, and access tokens (and equivalent SAML assertions) and validating them tooprotect resources.</span></span>

<span data-ttu-id="3b01e-166">Azure AD B2C 및 상호 작용 하 id 공급자, 사용자, 다른 시스템 hello 로컬 사용자 디렉터리 시퀀스 tooachieve에 identity 작업 (예: 로그인 사용자를 새 사용자 등록, 암호 재설정).</span><span class="sxs-lookup"><span data-stu-id="3b01e-166">Azure AD B2C interacts with identity providers, users, other systems, and with hello local user directory in sequence tooachieve an identity task (e.g. login a user, register a new user, reset a password).</span></span> <span data-ttu-id="3b01e-167">hello 다자간 트러스트를 설정 하 고 다음이 단계를 실행 하는 기본 플랫폼 라고 hello Id 경험 프레임 워크 및 (사용자 여행 또는 트러스트 프레임 워크 정책) 정책을 명시적으로 정의 hello 행위자 hello 동작 hello 프로토콜 및 단계 toocomplete hello 시퀀스입니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-167">hello underlying platform which establishes multi-party trust and executes these steps is called hello Identity Experience Framework and a policy (also called an user journey or a Trust framework policy) explicitly defines hello actors, hello actions, hello protocols, and hello sequence of steps toocomplete.</span></span>

### <a name="identity-experience-framework"></a><span data-ttu-id="3b01e-168">ID 경험 프레임워크</span><span class="sxs-lookup"><span data-stu-id="3b01e-168">Identity Experience Framework</span></span>

<span data-ttu-id="3b01e-169">OpenIDConnect, OAuth, SAML, WSFed 및 일부 비표준 형식(예: REST API 기반 시스템 간 클레임 교환)과 같은 표준 프로토콜 형식인 엔터티(광범위하게 클레임 공급자) 간의 신뢰를 조정하는 완전히 구성 가능한 정책 기반이며 클라우드 기반인 Azure 플랫폼입니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-169">A fully configurable, policy-driven, cloud-based Azure platform that orchestrates trust between entities (broadly Claims Providers) in standard protocol formats such as OpenIDConnect, OAuth, SAML, WSFed, and a few non-standard ones (e.g. REST API-based system-to-system claims exchanges).</span></span> <span data-ttu-id="3b01e-170">사용자에 게 친숙 hello I2E 만듭니다, whitelabelled 발생 하는 HTML, CSS 및 jscript를 지원 합니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-170">hello I2E creates user-friendly, whitelabelled experiences that support HTML, CSS, and jscript.</span></span>  <span data-ttu-id="3b01e-171">오늘날 hello Id 경험 프레임 워크의 Azure AD B2C 서비스 hello hello 컨텍스트에서만에서 사용할 수 및 관련된 tooCIAM 작업에 대 한 우선 순위를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-171">Today, hello Identity Experience Framework is available only in hello context of hello Azure AD B2C service and prioritized for tasks related tooCIAM.</span></span>

### <a name="built-in-policies"></a><span data-ttu-id="3b01e-172">기본 제공 정책</span><span class="sxs-lookup"><span data-stu-id="3b01e-172">Built-in policies</span></span>

<span data-ttu-id="3b01e-173">Azure AD B2C tooperform hello 가장 일반적으로 사용 되는 id의 직접 hello 동작 (즉, 사용자 등록, 로그인, 암호 재설정) 작업 및 해당 관계 (Azure AD B2C 미리 정의 하는 신뢰할 수 있는 당사자와 상호 작용 구성 파일을 미리 정의 된 예를 들어 Facebook id 공급자, LinkedIn, Microsoft 계정에서 Google 계정)입니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-173">Predefined configuration files that direct hello behavior of Azure AD B2C tooperform hello most commonly used identity tasks (i.e. user registration, signin, password reset) and interact with trusted parties whose relationship is also predefined in Azure AD B2C (e.g. Facebook identity provider, LinkedIn, Microsoft Account, Google accounts).</span></span>  <span data-ttu-id="3b01e-174">Hello 이후, 일반적으로 Azure Active Directory Premium, ADFS Active Directory와 Salesforce ID 공급자와 같은 hello 엔터프라이즈 영역에 있는 id 공급자의 사용자 지정에 대 한 기본 제공 정책 제공할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-174">In hello future, built-in policies may also provide for customization of identity providers which are typically in hello enterprise realm such as Azure Active Directory Premium, Active Directory/ADFS, Salesforce ID Provider etc.</span></span>


### <a name="custom-policies"></a><span data-ttu-id="3b01e-175">사용자 지정 정책</span><span class="sxs-lookup"><span data-stu-id="3b01e-175">Custom policies</span></span>

<span data-ttu-id="3b01e-176">Azure AD B2C 테 넌 트의 Id 경험 프레임 워크의 hello 동작을 정의 하는 구성 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-176">Configuration files that define hello behavior of Identity Experience Framework in your Azure AD B2C tenant.</span></span> <span data-ttu-id="3b01e-177">사용자 지정 정책은 하나 이상의 XML 파일 (정책 파일 정의 참조) hello Id 경험 프레임 워크는 신뢰 당사자 (예: 응용 프로그램)에 의해 호출 될 때 실행 하는 액세스 가능성입니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-177">A custom policy is accessible as one or several XML files (see Policy Files definitions) which are executed by hello Identity Experience Framework when invoked by a relying party (e.g. an application).</span></span> <span data-ttu-id="3b01e-178">사용자 지정 정책을 수 작업의 거의 무제한을 identity 개발자 toocomplete로 직접 편집 합니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-178">Custom policies can be directly edited by an identity developer toocomplete a near unlimited number of tasks.</span></span> <span data-ttu-id="3b01e-179">사용자 지정 정책 구성 정의 해야 하는 개발자가 hello 신중 하 게 세부 tooinclude 메타 데이터 끝점에서 신뢰할 수 있는 관계, 정확한 클레임 정의 교환 하 고 각 id 공급자가 필요에 따라 암호, 키 및 인증서를 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-179">Developers configuring custom policies must define hello trusted relationships in careful detail tooinclude metadata endpoints, exact claims exchange definitions, and configure secrets, keys and certificates as needed by each identity provider.</span></span>

## <a name="policy-file-definitions-for-identity-experience-framework-trustframeworks"></a><span data-ttu-id="3b01e-180">Trustframeworks ID 경험 프레임워크에 대한 정책 파일 정의</span><span class="sxs-lookup"><span data-stu-id="3b01e-180">Policy File Definitions for Identity Experience Framework Trustframeworks</span></span>

### <a name="policy-files"></a><span data-ttu-id="3b01e-181">정책 파일</span><span class="sxs-lookup"><span data-stu-id="3b01e-181">Policy Files</span></span>

<span data-ttu-id="3b01e-182">사용자 지정 정책은 하나 또는 여러 XML 형식 파일을 계층적 체인의 다른 tooeach 참조로 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-182">A custom policy is represented as one or several XML-formatted files which refer tooeach other in a hierarchical chain.</span></span> <span data-ttu-id="3b01e-183">hello XML 요소 정의: 클레임 스키마를 변환, 콘텐츠 정의 클레임 공급자/기술 프로필 및 다른 요소 중 Userjourney 오케스트레이션 단계를 클레임 합니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-183">hello XML elements define: Claims schema, claims transformations, content definitions, claims providers/technical profiles, and Userjourney orchestration steps, among other elements.</span></span>  <span data-ttu-id="3b01e-184">Hello를 사용 하 여를 세 가지 유형의 정책 파일의 사용 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-184">We recommend hello use of three types of policy files:</span></span>

- <span data-ttu-id="3b01e-185">**기본 파일**, 대부분의 hello 정의 및 제공 하는 Azure 전체 샘플에 대 한 포함 된 합니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-185">**A BASE file**, which contains most of hello definitions and for which Azure provides a complete sample.</span></span>  <span data-ttu-id="3b01e-186">최소한의 toothis 파일 toohelp 문제를 쉽게 해결 하는 변경 하 고 정책 장기적인 유지 관리 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-186">We recommend you make a minimum number of changes toothis file toohelp with troubleshooting, and long-term maintenance of your policies</span></span>
- <span data-ttu-id="3b01e-187">**확장 파일** 테 넌 트에 대 한 고유한 구성 변경 내용을 hello를 보유 하는</span><span class="sxs-lookup"><span data-stu-id="3b01e-187">**an EXTensions file** that holds hello unique configuration changes for your tenant</span></span>
- <span data-ttu-id="3b01e-188">**RP (신뢰 당사자) 파일** hello 단일 작업 중심 파일인 hello 응용 프로그램이 나 서비스 (즉, 신뢰 당사자)에서 직접입니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-188">**a Relying Party (RP) file** which is hello single task-focused file that is invoked directly by hello application or service (aka Relying Party).</span></span>  <span data-ttu-id="3b01e-189">자세한 내용은 정책 파일 정의 hello 문서를 읽어 보세요.</span><span class="sxs-lookup"><span data-stu-id="3b01e-189">Read hello article on Policy file definitions for more information.</span></span>  <span data-ttu-id="3b01e-190">고유한 각 태스크에는 자체 RP 필요 하며 브랜딩 요구 사항에 따라 hello 수 "사용 사례 수가 총 x 응용 프로그램의 총" 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-190">Each unique task requires its own RP and depending on branding requirements hello number might be "total of applications x total number of use cases".</span></span>

![정책 파일 형식](media/active-directory-b2c-overview-custom/active-directory-b2c-overview-custom-policy-files.png)

| <span data-ttu-id="3b01e-192">정책 파일의 종류</span><span class="sxs-lookup"><span data-stu-id="3b01e-192">Type of policy file</span></span> | <span data-ttu-id="3b01e-193">예제 파일 이름</span><span class="sxs-lookup"><span data-stu-id="3b01e-193">Examples file name</span></span> | <span data-ttu-id="3b01e-194">권장되는 사용</span><span class="sxs-lookup"><span data-stu-id="3b01e-194">Recommended use</span></span> | <span data-ttu-id="3b01e-195">상속 원본</span><span class="sxs-lookup"><span data-stu-id="3b01e-195">Inherits from</span></span> |
|---------------------|--------------------|-----------------|---------------|
| <span data-ttu-id="3b01e-196">기본</span><span class="sxs-lookup"><span data-stu-id="3b01e-196">BASE</span></span> |<span data-ttu-id="3b01e-197">TrustFrameworkBase.xml</span><span class="sxs-lookup"><span data-stu-id="3b01e-197">TrustFrameworkBase.xml</span></span><br><br><span data-ttu-id="3b01e-198">Mytenant.onmicrosoft.com-B2C-1A_BASE1.xml</span><span class="sxs-lookup"><span data-stu-id="3b01e-198">Mytenant.onmicrosoft.com-B2C-1A_BASE1.xml</span></span> | <span data-ttu-id="3b01e-199">Hello 핵심 클레임 스키마, 클레임 변환을, 클레임 공급자 및 Microsoft에서 구성 된 사용자 친구 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-199">Includes hello core claims schema, claims transformations, claims providers, and user journeys configured by Microsoft</span></span><br><br><span data-ttu-id="3b01e-200">최소한의 변경 toothis 파일 만들기</span><span class="sxs-lookup"><span data-stu-id="3b01e-200">Make minimal changes toothis file</span></span> | <span data-ttu-id="3b01e-201">없음</span><span class="sxs-lookup"><span data-stu-id="3b01e-201">None</span></span> |
| <span data-ttu-id="3b01e-202">확장(EXT)</span><span class="sxs-lookup"><span data-stu-id="3b01e-202">Extension (EXT)</span></span> | <span data-ttu-id="3b01e-203">TrustFrameworkExtensions.xml</span><span class="sxs-lookup"><span data-stu-id="3b01e-203">TrustFrameworkExtensions.xml</span></span><br><br><span data-ttu-id="3b01e-204">Mytenant.onmicrosoft.com-B2C-1A_EXT.xml</span><span class="sxs-lookup"><span data-stu-id="3b01e-204">Mytenant.onmicrosoft.com-B2C-1A_EXT.xml</span></span> | <span data-ttu-id="3b01e-205">프로그램 변경 내용을 toohello 기본 파일 형식의 통합</span><span class="sxs-lookup"><span data-stu-id="3b01e-205">Consolidate your changes toohello BASE file here</span></span><br><br><span data-ttu-id="3b01e-206">수정된 클레임 공급자</span><span class="sxs-lookup"><span data-stu-id="3b01e-206">Modified claims providers</span></span><br><br><span data-ttu-id="3b01e-207">수정된 사용자 경험</span><span class="sxs-lookup"><span data-stu-id="3b01e-207">Modified user journeys</span></span><br><br><span data-ttu-id="3b01e-208">사용자 고유의 사용자 지정 스키마 정의</span><span class="sxs-lookup"><span data-stu-id="3b01e-208">Your own custom schema definitions</span></span> | <span data-ttu-id="3b01e-209">기본 파일</span><span class="sxs-lookup"><span data-stu-id="3b01e-209">BASE file</span></span> |
| <span data-ttu-id="3b01e-210">신뢰 당사자(RP)</span><span class="sxs-lookup"><span data-stu-id="3b01e-210">Relying Party (RP)</span></span> | <span data-ttu-id="3b01e-211">B2C_1A_sign_up_sign_in.xml</span><span class="sxs-lookup"><span data-stu-id="3b01e-211">B2C_1A_sign_up_sign_in.xml</span></span>| <span data-ttu-id="3b01e-212">여기에서 토큰 셰이프 및 세션 설정 변경</span><span class="sxs-lookup"><span data-stu-id="3b01e-212">Change token shape and session settings here</span></span>| <span data-ttu-id="3b01e-213">Extensions(EXT) 파일</span><span class="sxs-lookup"><span data-stu-id="3b01e-213">Extensions(EXT) file</span></span> |

### <a name="inheritance-model"></a><span data-ttu-id="3b01e-214">상속 모델</span><span class="sxs-lookup"><span data-stu-id="3b01e-214">Inheritance model</span></span>

<span data-ttu-id="3b01e-215">응용 프로그램 hello RP 정책 파일을 호출 하는 경우 hello B2C에 Id 경험 프레임 워크 자료에서 다음 확장에서 모든 hello 요소를 추가 하 고 마지막으로 hello RP 정책 파일 tooassemble에서 현재 정책을 실제로 hello.</span><span class="sxs-lookup"><span data-stu-id="3b01e-215">When an application calls hello RP Policy file, hello Identity Experience Framework in B2C will add all hello elements from BASE, then from EXTENSIONS, and lastly from hello RP policy file tooassemble hello current policy in effect.</span></span>  <span data-ttu-id="3b01e-216">동일 형식 및 hello RP 파일 이름을 hello 요소 확장을 hello 및 확장 재정의 자료에 우선 합니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-216">Elements of hello same type and name in hello RP file will override those in hello EXTENSIONS, and EXTENSIONS overrides BASE.</span></span>

<span data-ttu-id="3b01e-217">**기본 제공 정책** Azure AD B2C에 hello 포털 hello 배경 toohello EXTenstions 파일에서 변경 하는 동안에 게 표시 hello RP (신뢰 당사자) 파일에만 hello 개발자 하지만 위에서 설명 하는 hello 3 파일 패턴을 따릅니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-217">**Built-in policies** in Azure AD B2C follow hello 3-file pattern depicted above, but hello developer only sees hello Relying Party (RP) file, while hello portal makes changes in hello background toohello EXTenstions file.</span></span>  <span data-ttu-id="3b01e-218">모든 Azure AD B2C hello Azure B2C 팀의 hello 제어에서 사용 되 고 자주 업데이트 되는 기본 정책 파일을 공유 합니다.</span><span class="sxs-lookup"><span data-stu-id="3b01e-218">All of Azure AD B2C shares a BASE policy file that is under hello control of hello Azure B2C team and is updated frequently.</span></span>
