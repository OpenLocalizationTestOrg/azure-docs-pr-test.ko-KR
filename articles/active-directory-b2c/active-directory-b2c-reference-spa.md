---
title: "Azure Active Directory B2C: 암시적 흐름을 사용하는 단일 페이지 앱 | Microsoft Docs"
description: "Azure Active Directory B2C에서 OAuth 2.0 암시적 흐름을 사용하여 단일 페이지 앱을 직접 빌드하는 방법을 알아봅니다."
services: active-directory-b2c
documentationcenter: 
author: parakhj
manager: krassk
editor: parakhj
ms.assetid: a45cc74c-a37e-453f-b08b-af75855e0792
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/06/2017
ms.author: parakhj
ms.openlocfilehash: 44ff168599e9078506e1afdd0f1dc4657ef0964d
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/11/2017
---
# <a name="azure-ad-b2c-single-page-app-sign-in-by-using-oauth-20-implicit-flow"></a><span data-ttu-id="50e4e-103">Azure AD B2C: OAuth 2.0 암시적 흐름을 사용하여 단일 페이지 앱 로그인</span><span class="sxs-lookup"><span data-stu-id="50e4e-103">Azure AD B2C: Single-page app sign-in by using OAuth 2.0 implicit flow</span></span>

> [!NOTE]
> <span data-ttu-id="50e4e-104">이 기능은 미리 보기로 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-104">This feature is in preview.</span></span>
> 

<span data-ttu-id="50e4e-105">대부분의 최신 앱에는 주로 Javascript로 작성되고 AngularJS, Ember.js, Durandal 등과 같은 프레임워크로도 작성되는</span><span class="sxs-lookup"><span data-stu-id="50e4e-105">Many modern apps have a single-page app front end that primarily is written in JavaScript.</span></span> <span data-ttu-id="50e4e-106">앱은 종종 AngularJS, Ember.js 또는 Durandal과 같은 프레임워크를 사용하여 작성됩니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-106">Often, the app is written by using a framework like AngularJS, Ember.js, or Durandal.</span></span> <span data-ttu-id="50e4e-107">주로 브라우저에서 실행되는 단일 페이지 앱 및 기타 JavaScript 앱에는 인증에 대한 몇 가지 추가 과제가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-107">Single-page apps and other JavaScript apps that run primarily in a browser have some additional challenges for authentication:</span></span>

* <span data-ttu-id="50e4e-108">이러한 앱의 보안 특성은 기존의 서버 기반 웹 응용 프로그램과 상당히 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-108">The security characteristics of these apps are significantly different from traditional server-based web applications.</span></span>
* <span data-ttu-id="50e4e-109">많은 권한 부여 서버 및 ID 공급자에서 CORS(원본 간 리소스 공유) 요청을 지원하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-109">Many authorization servers and identity providers do not support cross-origin resource sharing (CORS) requests.</span></span>
* <span data-ttu-id="50e4e-110">앱에서 전체 페이지 브라우저를 리디렉션하면 사용자 환경에 상당히 침투할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-110">Full-page browser redirects away from the app can be significantly invasive to the user experience.</span></span>

<span data-ttu-id="50e4e-111">이러한 응용 프로그램을 지원하기 위해 Azure AD B2C(Azure Active Directory B2C)에서는 OAuth 2.0 암시적 흐름을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-111">To support these applications, Azure Active Directory B2C (Azure AD B2C) uses the OAuth 2.0 implicit flow.</span></span> <span data-ttu-id="50e4e-112">OAuth 2.0 암시적 권한 부여 흐름은 [OAuth 2.0 사양의 4.2 섹션](http://tools.ietf.org/html/rfc6749)(영문)에서 설명하고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-112">The OAuth 2.0 authorization implicit grant flow is described in [section 4.2 of the OAuth 2.0 specification](http://tools.ietf.org/html/rfc6749).</span></span> <span data-ttu-id="50e4e-113">암시적 흐름에서 앱은 서버 간 교환 없이 Azure AD(Azure Active Directory) 권한 부여 끝점에서 직접 토큰을 받습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-113">In implicit flow, the app receives tokens directly from the Azure Active Directory (Azure AD) authorize endpoint, without any server-to-server exchange.</span></span> <span data-ttu-id="50e4e-114">모든 인증 논리 및 세션 처리는 추가 페이지 리디렉션 없이 JavaScript 클라이언트에서 전적으로 수행됩니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-114">All authentication logic and session handling takes place entirely in the JavaScript client, without additional page redirects.</span></span>

<span data-ttu-id="50e4e-115">Azure AD B2C는 표준 OAuth 2.0 암시적 흐름을 확장하여 단순한 인증 및 권한 부여보다 더 많은 작업을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-115">Azure AD B2C extends the standard OAuth 2.0 implicit flow to more than simple authentication and authorization.</span></span> <span data-ttu-id="50e4e-116">Azure AD B2C는 [정책 매개 변수](active-directory-b2c-reference-policies.md)를 도입했습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-116">Azure AD B2C introduces the [policy parameter](active-directory-b2c-reference-policies.md).</span></span> <span data-ttu-id="50e4e-117">정책 매개 변수를 사용하면 OAuth 2.0을 통해 등록, 로그인 및 프로필 관리와 같은 사용자 환경을 앱에 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-117">With the policy parameter, you can use OAuth 2.0 to add user experiences to your app, such as sign-up, sign-in, and profile management.</span></span> <span data-ttu-id="50e4e-118">여기서는 암시적 흐름과 Azure AD를 사용하여 단일 페이지 응용 프로그램에서 이러한 환경 각각을 구현하는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-118">In this article, we show you how to use the implicit flow and Azure AD to implement each of these experiences in your single-page applications.</span></span> <span data-ttu-id="50e4e-119">시작하는 데 도움이 되도록 [Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi) 및 [Microsoft .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi) 샘플을 살펴보세요.</span><span class="sxs-lookup"><span data-stu-id="50e4e-119">To help you get started, take a look at our [Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi) and [Microsoft .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi) samples.</span></span>

<span data-ttu-id="50e4e-120">이 문서의 예제 HTTP 요청에서는 샘플 Azure AD B2C 디렉터리인 **fabrikamb2c.onmicrosoft.com**을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-120">In the example HTTP requests in this article, we use our sample Azure AD B2C directory, **fabrikamb2c.onmicrosoft.com**.</span></span> <span data-ttu-id="50e4e-121">또한 고유한 샘플 응용 프로그램 및 정책도 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-121">We also use our own sample application and policies.</span></span> <span data-ttu-id="50e4e-122">이러한 값을 사용하여 요청을 직접 시도하거나 사용자 고유의 값으로 바꿀 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-122">You can try the requests yourself by using these values, or you can replace them with your own values.</span></span>
<span data-ttu-id="50e4e-123">[사용자 고유의 Azure AD B2C 디렉터리, 응용 프로그램 및 정책을 가져오는](#use-your-own-b2c-tenant)방법을 알아보세요.</span><span class="sxs-lookup"><span data-stu-id="50e4e-123">Learn how to [get your own Azure AD B2C directory, application, and policies](#use-your-own-b2c-tenant).</span></span>


## <a name="protocol-diagram"></a><span data-ttu-id="50e4e-124">프로토콜 다이어그램</span><span class="sxs-lookup"><span data-stu-id="50e4e-124">Protocol diagram</span></span>

<span data-ttu-id="50e4e-125">암시적 로그인 흐름은 다음 그림과 비슷합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-125">The implicit sign-in flow looks something like the following figure.</span></span> <span data-ttu-id="50e4e-126">각 단계는 이 문서의 뒷부분에서 자세히 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-126">Each step is described in detail later in the article.</span></span>

![OpenID Connect 스윔 레인](../media/active-directory-v2-flows/convergence_scenarios_implicit.png)

## <a name="send-authentication-requests"></a><span data-ttu-id="50e4e-128">인증 요청 보내기</span><span class="sxs-lookup"><span data-stu-id="50e4e-128">Send authentication requests</span></span>
<span data-ttu-id="50e4e-129">웹앱에서 사용자를 인증하고 정책을 실행해야 하는 경우 사용자를 `/authorize` 끝점으로 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-129">When your web app needs to authenticate the user and execute a policy, it directs the user to the `/authorize` endpoint.</span></span> <span data-ttu-id="50e4e-130">이는 정책에 따라 사용자가 실제로 작업을 수행하는 흐름의 대화형 부분입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-130">This is the interactive portion of the flow, where the user takes action, depending on the policy.</span></span> <span data-ttu-id="50e4e-131">사용자는 Azure AD 끝점에서 ID 토큰을 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-131">The user gets an ID token from the Azure AD endpoint.</span></span>

<span data-ttu-id="50e4e-132">이 요청에서 클라이언트는 사용자로부터 얻어야 하는 권한을 `scope` 매개 변수에 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-132">In this request, the client indicates in the `scope` parameter the permissions that it needs to acquire from the user.</span></span> <span data-ttu-id="50e4e-133">`p` 매개 변수에서 실행할 정책을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-133">In the `p` parameter, it indicates the policy to execute.</span></span> <span data-ttu-id="50e4e-134">다음 세 가지 예제(쉽게 읽을 수 있도록 줄 바꿈 적용)에서는 각각 다른 정책을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-134">The following three examples (with line breaks for readability) each use a different policy.</span></span> <span data-ttu-id="50e4e-135">각 요청의 작동 방식에 대해 이해하려면 요청을 브라우저에 붙여 넣고 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-135">To get a feel for how each request works, try pasting the request into a browser and running it.</span></span>

### <a name="use-a-sign-in-policy"></a><span data-ttu-id="50e4e-136">로그인 정책 사용</span><span class="sxs-lookup"><span data-stu-id="50e4e-136">Use a sign-in policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_in
```

### <a name="use-a-sign-up-policy"></a><span data-ttu-id="50e4e-137">등록 정책 사용</span><span class="sxs-lookup"><span data-stu-id="50e4e-137">Use a sign-up policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_up
```

### <a name="use-an-edit-profile-policy"></a><span data-ttu-id="50e4e-138">편집 프로필 정책 사용</span><span class="sxs-lookup"><span data-stu-id="50e4e-138">Use an edit-profile policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_edit_profile
```

| <span data-ttu-id="50e4e-139">매개 변수</span><span class="sxs-lookup"><span data-stu-id="50e4e-139">Parameter</span></span> | <span data-ttu-id="50e4e-140">Required?</span><span class="sxs-lookup"><span data-stu-id="50e4e-140">Required?</span></span> | <span data-ttu-id="50e4e-141">설명</span><span class="sxs-lookup"><span data-stu-id="50e4e-141">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="50e4e-142">client_id</span><span class="sxs-lookup"><span data-stu-id="50e4e-142">client_id</span></span> |<span data-ttu-id="50e4e-143">필수</span><span class="sxs-lookup"><span data-stu-id="50e4e-143">Required</span></span> |<span data-ttu-id="50e4e-144">[Azure Portal](https://portal.azure.com)에서 앱에 할당된 응용 프로그램 ID입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-144">The application ID assigned to your app in the [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="50e4e-145">response_type</span><span class="sxs-lookup"><span data-stu-id="50e4e-145">response_type</span></span> |<span data-ttu-id="50e4e-146">필수</span><span class="sxs-lookup"><span data-stu-id="50e4e-146">Required</span></span> |<span data-ttu-id="50e4e-147">OpenID Connect 로그인을 위한 `id_token` 이 포함되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-147">Must include `id_token` for OpenID Connect sign-in.</span></span> <span data-ttu-id="50e4e-148">`token` 응답 형식이 포함될 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-148">It also can include the response type `token`.</span></span> <span data-ttu-id="50e4e-149">`token`을 사용하면 앱에서 권한 부여 끝점에 대한 두 번째 요청을 수행하지 않고도 권한 부여 끝점에서 액세스 토큰을 즉시 받을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-149">If you use `token`, your app can immediately receive an access token from the authorize endpoint, without making a second request to the authorize endpoint.</span></span>  <span data-ttu-id="50e4e-150">`token` 응답 형식을 사용하는 경우 `scope` 매개 변수에는 토큰을 발급할 리소스를 나타내는 범위가 포함되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-150">If you use the `token` response type, the `scope` parameter must contain a scope that indicates which resource to issue the token for.</span></span> |
| <span data-ttu-id="50e4e-151">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="50e4e-151">redirect_uri</span></span> |<span data-ttu-id="50e4e-152">권장</span><span class="sxs-lookup"><span data-stu-id="50e4e-152">Recommended</span></span> |<span data-ttu-id="50e4e-153">앱이 인증 응답을 보내고 받을 수 있는 앱의 리디렉션 URI입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-153">The redirect URI of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="50e4e-154">URL로 인코딩해야 한다는 점을 제외하고는 포털에서 등록한 리디렉션 URI 중 하나와 정확히 일치해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-154">It must exactly match one of the redirect URIs that you registered in the portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="50e4e-155">response_mode</span><span class="sxs-lookup"><span data-stu-id="50e4e-155">response_mode</span></span> |<span data-ttu-id="50e4e-156">권장</span><span class="sxs-lookup"><span data-stu-id="50e4e-156">Recommended</span></span> |<span data-ttu-id="50e4e-157">결과 토큰을 앱으로 다시 보내는 데 사용할 메서드를 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-157">Specifies the method to use to send the resulting token back to your app.</span></span>  <span data-ttu-id="50e4e-158">암시적 흐름의 경우 `fragment`를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-158">For implicit flows, use `fragment`.</span></span> |
| <span data-ttu-id="50e4e-159">scope</span><span class="sxs-lookup"><span data-stu-id="50e4e-159">scope</span></span> |<span data-ttu-id="50e4e-160">필수</span><span class="sxs-lookup"><span data-stu-id="50e4e-160">Required</span></span> |<span data-ttu-id="50e4e-161">공백으로 구분된 범위 목록입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-161">A space-separated list of scopes.</span></span> <span data-ttu-id="50e4e-162">단일 범위 값은 요청된 사용 권한을 모두 Azure AD에 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-162">A single scope value indicates to Azure AD both of the permissions that are being requested.</span></span> <span data-ttu-id="50e4e-163">`openid` 범위는 사용자에게 로그인하고 ID 토큰 형식으로 사용자에 대한 데이터를 가져올 권한을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-163">The `openid` scope indicates a permission to sign in the user and get data about the user in the form of ID tokens.</span></span> <span data-ttu-id="50e4e-164">(이 문서의 뒷부분에서 자세히 알아보겠습니다.) `offline_access` 범위는 웹앱에 대한 선택 사항입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-164">(We'll talk about this more later in the article.) The `offline_access` scope is optional for web apps.</span></span> <span data-ttu-id="50e4e-165">리소스에 장기간 액세스하기 위한 새로 고침 토큰이 앱에 필요함을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-165">It indicates that your app needs a refresh token for long-lived access to resources.</span></span> |
| <span data-ttu-id="50e4e-166">state</span><span class="sxs-lookup"><span data-stu-id="50e4e-166">state</span></span> |<span data-ttu-id="50e4e-167">권장</span><span class="sxs-lookup"><span data-stu-id="50e4e-167">Recommended</span></span> |<span data-ttu-id="50e4e-168">토큰 응답에도 반환되는 요청에 포함된 값입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-168">A value included in the request that also is returned in the token response.</span></span> <span data-ttu-id="50e4e-169">사용하려는 콘텐츠의 문자열일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-169">It can be a string of any content that you want to use.</span></span> <span data-ttu-id="50e4e-170">일반적으로 교차 사이트 요청 위조 공격을 방지하기 위해 임의로 생성된 고유 값이 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-170">Usually, a randomly generated, unique value is used, to prevent cross-site request forgery attacks.</span></span> <span data-ttu-id="50e4e-171">또한 state(상태)는 인증 요청이 발생하기 전에 앱에서 사용자 상태에 대한 정보(예: 사용한 페이지)를 인코딩하는 데에도 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-171">The state is also used to encode information about the user's state in the app before the authentication request occurred, like the page they were on.</span></span> |
| <span data-ttu-id="50e4e-172">nonce</span><span class="sxs-lookup"><span data-stu-id="50e4e-172">nonce</span></span> |<span data-ttu-id="50e4e-173">필수</span><span class="sxs-lookup"><span data-stu-id="50e4e-173">Required</span></span> |<span data-ttu-id="50e4e-174">앱에서 생성한 요청에 포함된 값이며, 결과 ID 토큰에 클레임으로 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-174">A value included in the request (generated by the app) that is included in the resulting ID token as a claim.</span></span> <span data-ttu-id="50e4e-175">그러면 앱이 이 값을 확인하여 토큰 재생 공격을 완화시킬 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-175">The app can then verify this value to mitigate token replay attacks.</span></span> <span data-ttu-id="50e4e-176">값은 일반적으로 요청의 출처를 식별하는 데 사용할 수 있는 임의의 고유 문자열입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-176">Usually, the value is a randomized, unique string that can be used to identify the origin of the request.</span></span> |
| <span data-ttu-id="50e4e-177">p</span><span class="sxs-lookup"><span data-stu-id="50e4e-177">p</span></span> |<span data-ttu-id="50e4e-178">필수</span><span class="sxs-lookup"><span data-stu-id="50e4e-178">Required</span></span> |<span data-ttu-id="50e4e-179">실행할 정책입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-179">The policy to execute.</span></span> <span data-ttu-id="50e4e-180">Azure AD B2C 테넌트에서 생성된 정책의 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-180">It's the name of a policy that is created in your Azure AD B2C tenant.</span></span> <span data-ttu-id="50e4e-181">정책 이름 값은 **b2c\_1\_**로 시작해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-181">The policy name value should begin with **b2c\_1\_**.</span></span> <span data-ttu-id="50e4e-182">자세한 내용은 [Azure AD B2C 기본 제공 정책](active-directory-b2c-reference-policies.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="50e4e-182">For more information, see [Azure AD B2C built-in policies](active-directory-b2c-reference-policies.md).</span></span> |
| <span data-ttu-id="50e4e-183">prompt</span><span class="sxs-lookup"><span data-stu-id="50e4e-183">prompt</span></span> |<span data-ttu-id="50e4e-184">옵션</span><span class="sxs-lookup"><span data-stu-id="50e4e-184">Optional</span></span> |<span data-ttu-id="50e4e-185">필요한 사용자 상호 작용의 형식입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-185">The type of user interaction that's required.</span></span> <span data-ttu-id="50e4e-186">현재 유효한 값은 `login`뿐이며,</span><span class="sxs-lookup"><span data-stu-id="50e4e-186">Currently, the only valid value is `login`.</span></span> <span data-ttu-id="50e4e-187">이는 사용자가 해당 요청에 대한 자격 증명을 입력하도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-187">This forces the user to enter their credentials on that request.</span></span> <span data-ttu-id="50e4e-188">Single Sign-On은 적용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-188">Single sign-on will not take effect.</span></span> |

<span data-ttu-id="50e4e-189">이 시점에서 정책의 워크플로를 완료하도록 사용자에게 요청합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-189">At this point, the user is asked to complete the policy's workflow.</span></span> <span data-ttu-id="50e4e-190">이 경우 사용자 이름과 암호를 입력하거나, 소셜 ID로 로그인하거나, 디렉터리를 등록하거나, 다른 단계를 수행할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-190">This might involve the user entering their username and password, signing in with a social identity, signing up for the directory, or any other number of steps.</span></span> <span data-ttu-id="50e4e-191">사용자 작업은 정책을 정의한 방식에 따라 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-191">User actions depend on how the policy is defined.</span></span>

<span data-ttu-id="50e4e-192">사용자가 정책을 완료하면 Azure AD에서 앱에 대한 응답을 `redirect_uri`에 사용한 값으로 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-192">After the user completes the policy, Azure AD returns a response to your app at the value you used for `redirect_uri`.</span></span> <span data-ttu-id="50e4e-193">`response_mode` 매개 변수에 지정된 메서드를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-193">It uses the method specified in the `response_mode` parameter.</span></span> <span data-ttu-id="50e4e-194">실행된 정책과 관계 없이 사용자 작업 시나리오 각각에 대한 응답은 정확히 동일합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-194">The response is exactly the same for each of the user action scenarios, independent of the policy that was executed.</span></span>

### <a name="successful-response"></a><span data-ttu-id="50e4e-195">성공적인 응답</span><span class="sxs-lookup"><span data-stu-id="50e4e-195">Successful response</span></span>
<span data-ttu-id="50e4e-196">`response_mode=fragment` 및 `response_type=id_token+token`을 사용하는 성공적인 응답은 다음과 같으며, 쉽게 읽을 수 있도록 줄 바꿈이 적용되었습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-196">A successful response that uses `response_mode=fragment` and `response_type=id_token+token` looks like the following, with line breaks for legibility:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&token_type=Bearer
&expires_in=3599
&scope="90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
&id_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
```

| <span data-ttu-id="50e4e-197">매개 변수를 포함해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-197">Parameter</span></span> | <span data-ttu-id="50e4e-198">설명</span><span class="sxs-lookup"><span data-stu-id="50e4e-198">Description</span></span> |
| --- | --- |
| <span data-ttu-id="50e4e-199">access_token</span><span class="sxs-lookup"><span data-stu-id="50e4e-199">access_token</span></span> |<span data-ttu-id="50e4e-200">앱에서 요청한 액세스 토큰입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-200">The access token that the app requested.</span></span>  <span data-ttu-id="50e4e-201">액세스 토큰은 디코딩하거나 다른 방법으로 검사하지 않아야 하며,</span><span class="sxs-lookup"><span data-stu-id="50e4e-201">The access token should not be decoded or otherwise inspected.</span></span> <span data-ttu-id="50e4e-202">불투명 문자열로 처리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-202">It can be treated as an opaque string.</span></span> |
| <span data-ttu-id="50e4e-203">token_type</span><span class="sxs-lookup"><span data-stu-id="50e4e-203">token_type</span></span> |<span data-ttu-id="50e4e-204">토큰 형식 값입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-204">The token type value.</span></span> <span data-ttu-id="50e4e-205">Azure AD는 전달자 유형만 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-205">The only type that Azure AD supports is Bearer.</span></span> |
| <span data-ttu-id="50e4e-206">expires_in</span><span class="sxs-lookup"><span data-stu-id="50e4e-206">expires_in</span></span> |<span data-ttu-id="50e4e-207">액세스 토큰이 유효한 시간(초)입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-207">The length of time that the access token is valid (in seconds).</span></span> |
| <span data-ttu-id="50e4e-208">scope</span><span class="sxs-lookup"><span data-stu-id="50e4e-208">scope</span></span> |<span data-ttu-id="50e4e-209">토큰이 유효한 범위입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-209">The scopes that the token is valid for.</span></span> <span data-ttu-id="50e4e-210">또한 나중에 사용할 수 있도록 범위를 사용하여 토큰을 캐시할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-210">You also can use scopes to cache tokens for later use.</span></span> |
| <span data-ttu-id="50e4e-211">id_token</span><span class="sxs-lookup"><span data-stu-id="50e4e-211">id_token</span></span> |<span data-ttu-id="50e4e-212">앱이 요청한 ID 토큰입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-212">The ID token that the app requested.</span></span> <span data-ttu-id="50e4e-213">ID 토큰을 사용하여 사용자 ID를 확인하고 사용자와 세션을 시작할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-213">You can use the ID token to verify the user's identity and begin a session with the user.</span></span> <span data-ttu-id="50e4e-214">ID 토큰 및 해당 내용에 대한 자세한 내용은 [Azure AD B2C 토큰 참조](active-directory-b2c-reference-tokens.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="50e4e-214">For more information about ID tokens and their contents, see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |
| <span data-ttu-id="50e4e-215">state</span><span class="sxs-lookup"><span data-stu-id="50e4e-215">state</span></span> |<span data-ttu-id="50e4e-216">요청에 `state` 매개 변수가 포함되어 있으면 동일한 값이 응답에도 나타나야 합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-216">If a `state` parameter is included in the request, the same value should appear in the response.</span></span> <span data-ttu-id="50e4e-217">앱에서 요청 및 응답의 `state` 값이 동일한지 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-217">The app should verify that the `state` values in the request and response are identical.</span></span> |

### <a name="error-response"></a><span data-ttu-id="50e4e-218">오류 응답</span><span class="sxs-lookup"><span data-stu-id="50e4e-218">Error response</span></span>
<span data-ttu-id="50e4e-219">오류 응답은 앱에서 적절히 처리할 수 있도록 리디렉션 URI에 보낼 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-219">Error responses also can be sent to the redirect URI so that the app can handle them appropriately:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=access_denied
&error_description=the+user+canceled+the+authentication
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="50e4e-220">매개 변수</span><span class="sxs-lookup"><span data-stu-id="50e4e-220">Parameter</span></span> | <span data-ttu-id="50e4e-221">설명</span><span class="sxs-lookup"><span data-stu-id="50e4e-221">Description</span></span> |
| --- | --- |
| <span data-ttu-id="50e4e-222">error</span><span class="sxs-lookup"><span data-stu-id="50e4e-222">error</span></span> |<span data-ttu-id="50e4e-223">발생한 오류의 유형을 분류하는 데 사용되는 오류 코드 문자열입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-223">An error code string used to classify types of errors that occur.</span></span> <span data-ttu-id="50e4e-224">오류 코드는 오류를 처리하는 데 사용할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-224">You also can use the error code for error handling.</span></span> |
| <span data-ttu-id="50e4e-225">error_description</span><span class="sxs-lookup"><span data-stu-id="50e4e-225">error_description</span></span> |<span data-ttu-id="50e4e-226">인증 오류의 근본 원인을 식별하도록 도울 수 있는 특정 오류 메시지입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-226">A specific error message that can help you identify the root cause of an authentication error.</span></span> |
| <span data-ttu-id="50e4e-227">state</span><span class="sxs-lookup"><span data-stu-id="50e4e-227">state</span></span> |<span data-ttu-id="50e4e-228">잎의 표에 나와 있는 전체 설명을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="50e4e-228">See the full description in the preceding table.</span></span> <span data-ttu-id="50e4e-229">요청에 `state` 매개 변수가 포함되어 있으면 동일한 값이 응답에도 나타나야 합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-229">If a `state` parameter is included in the request, the same value should appear in the response.</span></span> <span data-ttu-id="50e4e-230">앱에서 요청 및 응답의 `state` 값이 동일한지 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-230">The app should verify that the `state` values in the request and response are identical.</span></span>|

## <a name="validate-the-id-token"></a><span data-ttu-id="50e4e-231">ID 토큰 유효성 검사</span><span class="sxs-lookup"><span data-stu-id="50e4e-231">Validate the ID token</span></span>
<span data-ttu-id="50e4e-232">ID 토큰을 받는 것만으로는 사용자를 인증할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-232">Receiving an ID token is not enough to authenticate the user.</span></span> <span data-ttu-id="50e4e-233">ID 토큰의 서명에 대한 유효성을 검사하고 앱의 요구 사항에 따라 토큰의 클레임을 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-233">You must validate the ID token's signature, and verify the claims in the token per your app's requirements.</span></span> <span data-ttu-id="50e4e-234">Azure AD B2C는 [JWT(JSON 웹 토큰)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) 및 공개 키 암호화를 사용하여 토큰에 서명하고 토큰이 유효한지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-234">Azure AD B2C uses [JSON Web Tokens (JWTs)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) and public key cryptography to sign tokens and verify that they are valid.</span></span>

<span data-ttu-id="50e4e-235">사용하려는 언어에 따라 JWT의 유효성을 검사하는 데 사용할 수 있는 다양한 오픈 소스 라이브러리가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-235">Many open-source libraries are available for validating JWTs, depending on the language you prefer to use.</span></span> <span data-ttu-id="50e4e-236">사용자 고유의 유효성 검사 논리를 구현하는 대신 사용 가능한 오픈 소스 라이브러리를 탐색하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-236">Consider exploring available open-source libraries rather than implementing your own validation logic.</span></span> <span data-ttu-id="50e4e-237">이 문서의 정보를 통해 이러한 라이브러리를 올바르게 사용하는 방법을 알아볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-237">You can use the information in this article to help you learn how to properly use those libraries.</span></span>

<span data-ttu-id="50e4e-238">Azure AD B2C에는 OpenID Connect 메타데이터 끝점이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-238">Azure AD B2C has an OpenID Connect metadata endpoint.</span></span> <span data-ttu-id="50e4e-239">앱에서 런타임에 Azure AD B2C에 대한 정보를 가져오는 데 끝점을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-239">An app can use the endpoint to fetch information about Azure AD B2C at runtime.</span></span> <span data-ttu-id="50e4e-240">이 정보에는 끝점, 토큰 콘텐츠 및 토큰 서명 키가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-240">This information includes endpoints, token contents, and token signing keys.</span></span> <span data-ttu-id="50e4e-241">Azure AD B2C 테넌트의 각 정책에 대한 JSON 메타데이터 문서가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-241">There is a JSON metadata document for each policy in your Azure AD B2C tenant.</span></span> <span data-ttu-id="50e4e-242">예를 들어 fabrikamb2c.onmicrosoft.com 테넌트의 b2c_1_sign_in 정책에 대한 메타데이터 문서는 다음 위치에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-242">For example, the metadata document for the b2c_1_sign_in policy in the fabrikamb2c.onmicrosoft.com tenant is located at:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=b2c_1_sign_in`

<span data-ttu-id="50e4e-243">이 구성 문서의 속성 중 하나가 `jwks_uri`입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-243">One of the properties of this configuration document is the `jwks_uri`.</span></span> <span data-ttu-id="50e4e-244">동일한 정책에 대한 값은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-244">The value for the same policy would be:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in`

<span data-ttu-id="50e4e-245">ID 토큰에 서명하는 데 사용된 정책(및 메타데이터를 가져올 위치)을 결정하려면 두 가지 옵션이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-245">To determine which policy was used to sign an ID token (and where to fetch the metadata from), you have two options.</span></span> <span data-ttu-id="50e4e-246">먼저 `id_token`의 `acr` 클레임에 정책 이름을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-246">First, the policy name is included in the `acr` claim in `id_token`.</span></span> <span data-ttu-id="50e4e-247">ID 토큰에서 클레임을 구문 분석하는 방법에 대한 내용은 [Azure AD B2C 토큰 참조](active-directory-b2c-reference-tokens.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="50e4e-247">For information about how to parse the claims from an ID token, see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> <span data-ttu-id="50e4e-248">다른 옵션은 요청을 발급할 때 정책을 `state` 매개 변수의 값으로 인코딩한 다음,</span><span class="sxs-lookup"><span data-stu-id="50e4e-248">Your other option is to encode the policy in the value of the `state` parameter when you issue the request.</span></span> <span data-ttu-id="50e4e-249">`state` 매개 변수를 디코딩하여 어떤 정책이 사용되었는지 확인하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-249">Then, decode the `state` parameter to determine which policy was used.</span></span> <span data-ttu-id="50e4e-250">두 방법 중 하나는 유효합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-250">Either method is valid.</span></span>

<span data-ttu-id="50e4e-251">OpenID Connect 메타데이터 끝점에서 메타데이터 문서를 가져오면 이 끝점에 있는 RSA-256 공개 키를 사용하여 ID 토큰의 서명에 대한 유효성을 검사할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-251">After you've acquired the metadata document from the OpenID Connect metadata endpoint, you can use the RSA-256 public keys (located at this endpoint) to validate the signature of the ID token.</span></span> <span data-ttu-id="50e4e-252">지정된 시간에 이 끝점에 나열된 키가 여러 개 있을 수 있으며, 각 키는 `kid`로 식별됩니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-252">There might be multiple keys listed at this endpoint at any given time, each identified by a `kid`.</span></span> <span data-ttu-id="50e4e-253">`id_token`의 헤더에는 `kid` 클레임도 포함되어 있으며,</span><span class="sxs-lookup"><span data-stu-id="50e4e-253">The header of `id_token` also contains a `kid` claim.</span></span> <span data-ttu-id="50e4e-254">이는 이러한 키 중에서 ID 토큰 서명에 사용된 키를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-254">It indicates which of these keys was used to sign the ID token.</span></span> <span data-ttu-id="50e4e-255">[토큰 유효성을 검사하는 방법](active-directory-b2c-reference-tokens.md)을 포함하여 자세한 내용은 [Azure AD B2C 토큰 참조](active-directory-b2c-reference-tokens.md#token-validation)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="50e4e-255">For more information, including learning about [validating tokens](active-directory-b2c-reference-tokens.md#token-validation), see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>
<!--TODO: Improve the information on this-->

<span data-ttu-id="50e4e-256">ID 토큰의 서명에 대한 유효성을 검사한 후에는 확인해야 할 몇 가지 클레임이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-256">After you validate the signature of the ID token, several claims require verification.</span></span> <span data-ttu-id="50e4e-257">예:</span><span class="sxs-lookup"><span data-stu-id="50e4e-257">For example:</span></span>

* <span data-ttu-id="50e4e-258">`nonce` 클레임의 유효성을 검사하여 토큰 재생 공격을 방지합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-258">Validate the `nonce` claim to prevent token replay attacks.</span></span> <span data-ttu-id="50e4e-259">해당 값이 로그인 요청에 지정된 값이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-259">Its value should be what you specified in the sign-in request.</span></span>
* <span data-ttu-id="50e4e-260">`aud` 클레임의 유효성을 검사하여 앱에 대한 ID 토큰이 발급되었는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-260">Validate the `aud` claim to ensure that the ID token was issued for your app.</span></span> <span data-ttu-id="50e4e-261">해당 값이 앱의 응용 프로그램  ID여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-261">Its value should be the application ID of your app.</span></span>
* <span data-ttu-id="50e4e-262">`iat` 및 `exp` 클레임의 유효성을 검사하여 ID 토큰이 만료되지 않았는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-262">Validate the `iat` and `exp` claims to ensure that the ID token has not expired.</span></span>

<span data-ttu-id="50e4e-263">수행해야 하는 몇 가지 추가 유효성 검사는 [OpenID Connect 핵심 사양](http://openid.net/specs/openid-connect-core-1_0.html)(영문)에서 자세히 설명하고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-263">Several more validations that you should perform are described in detail in the [OpenID Connect Core Spec](http://openid.net/specs/openid-connect-core-1_0.html).</span></span> <span data-ttu-id="50e4e-264">시나리오에 따라 추가 클레임의 유효성을 검사할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-264">You might also want to validate additional claims, depending on your scenario.</span></span> <span data-ttu-id="50e4e-265">몇 가지 일반적인 유효성 검사는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-265">Some common validations include:</span></span>

* <span data-ttu-id="50e4e-266">사용자 또는 조직이 앱에 등록했는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-266">Ensuring that the user or organization has signed up for the app.</span></span>
* <span data-ttu-id="50e4e-267">사용자에게 적절한 권한 부여 및 권한이 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-267">Ensuring that the user has proper authorization and privileges.</span></span>
* <span data-ttu-id="50e4e-268">Azure Multi-Factor Authentication을 사용하는 것과 같이 특정 강도의 인증이 발생했는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-268">Ensuring that a certain strength of authentication has occurred, such as by using Azure Multi-Factor Authentication.</span></span>

<span data-ttu-id="50e4e-269">ID 토큰의 클레임에 대한 자세한 내용은 [Azure AD B2C 토큰 참조](active-directory-b2c-reference-tokens.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="50e4e-269">For more information about the claims in an ID token, see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>

<span data-ttu-id="50e4e-270">ID 토큰의 유효성을 완전히 검사한 후에는 사용자와 세션을 시작할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-270">After you have completely validated the ID token, you can begin a session with the user.</span></span> <span data-ttu-id="50e4e-271">앱에서 ID 토큰의 클레임을 사용하여 사용자 관련 정보를 가져올 수 있으며,</span><span class="sxs-lookup"><span data-stu-id="50e4e-271">In your app, use the claims in the ID token to obtain information about the user.</span></span> <span data-ttu-id="50e4e-272">이 정보는 표시, 레코드, 권한 부여 등에 사용될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-272">This information can be used for display, records, authorization, and so on.</span></span>

## <a name="get-access-tokens"></a><span data-ttu-id="50e4e-273">액세스 토큰 가져오기</span><span class="sxs-lookup"><span data-stu-id="50e4e-273">Get access tokens</span></span>
<span data-ttu-id="50e4e-274">웹앱에서 정책만 실행해야 하는 경우 다음 몇 가지 섹션을 건너뛸 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-274">If the only thing your web apps needs to do is execute policies, you can skip the next few sections.</span></span> <span data-ttu-id="50e4e-275">다음 섹션의 정보는 Web API에 대해 인증된 호출을 수행해야 하며 Azure AD B2C로 보호되는 웹앱에만 적용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-275">The information in the following sections are applicable only to web apps that need to make authenticated calls to a web API, and which are protected by Azure AD B2C.</span></span>

<span data-ttu-id="50e4e-276">사용자가 단일 페이지 앱에 로그인되도록 했으므로 Azure AD를 통해 보안이 유지되는 웹 API를 호출하기 위한 액세스 토큰을 가져올 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-276">Now that you've signed the user in to your single-page app, you can get access tokens for calling web APIs that are secured by Azure AD.</span></span> <span data-ttu-id="50e4e-277">`token` 응답 형식을 사용하여 토큰을 이미 받았더라도 이 메서드를 사용하여 사용자가 다시 로그인하도록 리디렉션하지 않고도 추가 리소스에 대한 토큰을 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-277">Even if you have already received a token by using the `token` response type, you can use this method to acquire tokens for additional resources without redirecting the user to sign in again.</span></span>

<span data-ttu-id="50e4e-278">일반적인 웹앱 흐름에서는 `/token` 끝점에 요청하여 이 작업을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-278">In a typical web app flow, you would do this by making a request to the `/token` endpoint.</span></span>  <span data-ttu-id="50e4e-279">하지만 끝점은 CORS 요청을 지원하지 않으므로 AJAX 호출을 통해 토큰을 가져오고 새로 고치는 것은 옵션이 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-279">However, the endpoint does not support CORS requests, so making AJAX calls to get and refresh tokens is not an option.</span></span> <span data-ttu-id="50e4e-280">대신 숨겨진 HTML iFrame 요소에서 암시적 흐름을 사용하여 다른 웹 API에 대한 새 토큰을 가져올 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-280">Instead, you can use the implicit flow in a hidden HTML iframe element to get new tokens for other web APIs.</span></span> <span data-ttu-id="50e4e-281">다음은 쉽게 읽을 수 있도록 줄 바꿈을 적용한 예제입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-281">Here's an example, with line breaks for legibility:</span></span>

```

https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
&response_mode=fragment
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&prompt=none
&domain_hint=organizations
&login_hint=myuser@mycompany.com
&p=b2c_1_sign_in
```

| <span data-ttu-id="50e4e-282">매개 변수</span><span class="sxs-lookup"><span data-stu-id="50e4e-282">Parameter</span></span> | <span data-ttu-id="50e4e-283">Required?</span><span class="sxs-lookup"><span data-stu-id="50e4e-283">Required?</span></span> | <span data-ttu-id="50e4e-284">설명</span><span class="sxs-lookup"><span data-stu-id="50e4e-284">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="50e4e-285">client_id</span><span class="sxs-lookup"><span data-stu-id="50e4e-285">client_id</span></span> |<span data-ttu-id="50e4e-286">필수</span><span class="sxs-lookup"><span data-stu-id="50e4e-286">Required</span></span> |<span data-ttu-id="50e4e-287">[Azure Portal](https://portal.azure.com)에서 앱에 할당된 응용 프로그램 ID입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-287">The application ID assigned to your app in the [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="50e4e-288">response_type</span><span class="sxs-lookup"><span data-stu-id="50e4e-288">response_type</span></span> |<span data-ttu-id="50e4e-289">필수</span><span class="sxs-lookup"><span data-stu-id="50e4e-289">Required</span></span> |<span data-ttu-id="50e4e-290">OpenID Connect 로그인을 위한 `id_token` 이 포함되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-290">Must include `id_token` for OpenID Connect sign-in.</span></span>  <span data-ttu-id="50e4e-291">`token` 응답 형식이 포함될 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-291">It might also include the response type `token`.</span></span> <span data-ttu-id="50e4e-292">여기서 `token`을 사용하면 앱에서 권한 부여 끝점에 대한 두 번째 요청을 수행하지 않고도 권한 부여 끝점에서 액세스 토큰을 즉시 받을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-292">If you use `token` here, your app can immediately receive an access token from the authorize endpoint, without making a second request to the authorize endpoint.</span></span> <span data-ttu-id="50e4e-293">`token` 응답 형식을 사용하는 경우 `scope` 매개 변수에는 토큰을 발급할 리소스를 나타내는 범위가 포함되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-293">If you use the `token` response type, the `scope` parameter must contain a scope that indicates which resource to issue the token for.</span></span> |
| <span data-ttu-id="50e4e-294">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="50e4e-294">redirect_uri</span></span> |<span data-ttu-id="50e4e-295">권장</span><span class="sxs-lookup"><span data-stu-id="50e4e-295">Recommended</span></span> |<span data-ttu-id="50e4e-296">앱이 인증 응답을 보내고 받을 수 있는 앱의 리디렉션 URI입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-296">The redirect URI of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="50e4e-297">URL로 인코딩해야 한다는 점을 제외하고는 포털에서 등록한 리디렉션 URI 중 하나와 정확히 일치해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-297">It must exactly match one of the redirect URIs you registered in the portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="50e4e-298">scope</span><span class="sxs-lookup"><span data-stu-id="50e4e-298">scope</span></span> |<span data-ttu-id="50e4e-299">필수</span><span class="sxs-lookup"><span data-stu-id="50e4e-299">Required</span></span> |<span data-ttu-id="50e4e-300">공백으로 구분된 범위 목록입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-300">A space-separated list of scopes.</span></span>  <span data-ttu-id="50e4e-301">토큰을 가져오려면 원하는 리소스에 필요한 모든 범위를 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-301">For getting tokens, include all scopes that you require for the intended resource.</span></span> |
| <span data-ttu-id="50e4e-302">response_mode</span><span class="sxs-lookup"><span data-stu-id="50e4e-302">response_mode</span></span> |<span data-ttu-id="50e4e-303">권장</span><span class="sxs-lookup"><span data-stu-id="50e4e-303">Recommended</span></span> |<span data-ttu-id="50e4e-304">결과 토큰을 앱으로 다시 보내는 데 사용되는 메서드를 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-304">Specifies the method that is used to send the resulting token back to your app.</span></span>  <span data-ttu-id="50e4e-305">`query`, `form_post` 또는 `fragment`일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-305">Can be `query`, `form_post`, or `fragment`.</span></span> |
| <span data-ttu-id="50e4e-306">state</span><span class="sxs-lookup"><span data-stu-id="50e4e-306">state</span></span> |<span data-ttu-id="50e4e-307">권장</span><span class="sxs-lookup"><span data-stu-id="50e4e-307">Recommended</span></span> |<span data-ttu-id="50e4e-308">토큰 응답에 반환되는 요청에 포함된 값입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-308">A value included in the request that is returned in the token response.</span></span>  <span data-ttu-id="50e4e-309">사용하려는 콘텐츠의 문자열일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-309">It can be a string of any content that you want to use.</span></span>  <span data-ttu-id="50e4e-310">일반적으로 교차 사이트 요청 위조 공격을 방지하기 위해 임의로 생성된 고유 값이 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-310">Usually, a randomly generated, unique value is used, to prevent cross-site request forgery attacks.</span></span>  <span data-ttu-id="50e4e-311">또한 state(상태)는 인증 요청이 발생하기 전에 앱에서 사용자 상태에 대한 정보를 인코딩하는 데에도 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-311">The state also is used to encode information about the user's state in the app before the authentication request occurred.</span></span> <span data-ttu-id="50e4e-312">예를 들어 사용자가 있던 페이지 또는 보기입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-312">For example, the page or view the user was on.</span></span> |
| <span data-ttu-id="50e4e-313">nonce</span><span class="sxs-lookup"><span data-stu-id="50e4e-313">nonce</span></span> |<span data-ttu-id="50e4e-314">필수</span><span class="sxs-lookup"><span data-stu-id="50e4e-314">Required</span></span> |<span data-ttu-id="50e4e-315">앱에서 생성한 요청에 포함된 값이며, 결과 ID 토큰에 클레임으로 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-315">A value included in the request, generated by the app, that is included in the resulting ID token as a claim.</span></span>  <span data-ttu-id="50e4e-316">그러면 앱이 이 값을 확인하여 토큰 재생 공격을 완화시킬 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-316">The app can then verify this value to mitigate token replay attacks.</span></span> <span data-ttu-id="50e4e-317">값은 일반적으로 요청의 출처를 식별하는 데 사용할 수 있는 임의의 고유 문자열입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-317">Usually, the value is a randomized, unique string that identifies the origin of the request.</span></span> |
| <span data-ttu-id="50e4e-318">prompt</span><span class="sxs-lookup"><span data-stu-id="50e4e-318">prompt</span></span> |<span data-ttu-id="50e4e-319">필수</span><span class="sxs-lookup"><span data-stu-id="50e4e-319">Required</span></span> |<span data-ttu-id="50e4e-320">숨겨진 iFrame에서 토큰을 새로 고치고 가져오려면 `prompt=none`을 사용하여 iFrame이 로그인 페이지에 머물지 않고 즉시 반환되는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-320">To refresh and get tokens in a hidden iframe, use `prompt=none` to ensure that the iframe does not get stuck on the sign-in page, and returns immediately.</span></span> |
| <span data-ttu-id="50e4e-321">login_hint</span><span class="sxs-lookup"><span data-stu-id="50e4e-321">login_hint</span></span> |<span data-ttu-id="50e4e-322">필수</span><span class="sxs-lookup"><span data-stu-id="50e4e-322">Required</span></span> |<span data-ttu-id="50e4e-323">숨겨진 iFrame에서 토큰을 새로 고치고 가져오려면 사용자가 지정된 시간에 가질 수 있는 여러 세션을 구분하기 위해 이 힌트에 해당 사용자의 사용자 이름을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-323">To refresh and get tokens in a hidden iframe, include the username of the user in this hint to distinguish between multiple sessions the user might have at a given  time.</span></span> <span data-ttu-id="50e4e-324">`preferred_username` 클레임을 사용하여 이전 로그인에서 사용자 이름을 추출할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-324">You can extract the username from an earlier sign-in by using the `preferred_username` claim.</span></span> |
| <span data-ttu-id="50e4e-325">domain_hint</span><span class="sxs-lookup"><span data-stu-id="50e4e-325">domain_hint</span></span> |<span data-ttu-id="50e4e-326">필수</span><span class="sxs-lookup"><span data-stu-id="50e4e-326">Required</span></span> |<span data-ttu-id="50e4e-327">`consumers` 또는 `organizations`일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-327">Can be `consumers` or `organizations`.</span></span>  <span data-ttu-id="50e4e-328">숨겨진 iFrame에서 토큰을 새로 고치고 가져오려면 요청에 `domain_hint` 값을 포함해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-328">For refreshing and getting tokens in a hidden iframe, you must include the `domain_hint` value in the request.</span></span>  <span data-ttu-id="50e4e-329">이전 로그인의 ID 토큰에서 `tid` 클레임을 추출하여 사용할 값을 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-329">Extract the `tid` claim from the ID token of an earlier sign-in to determine which value to use.</span></span>  <span data-ttu-id="50e4e-330">`tid` 클레임 값이 `9188040d-6c67-4c5b-b112-36a304b66dad`인 경우 `domain_hint=consumers`를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-330">If the `tid` claim value is `9188040d-6c67-4c5b-b112-36a304b66dad`,  use `domain_hint=consumers`.</span></span>  <span data-ttu-id="50e4e-331">그렇지 않으면 `domain_hint=organizations`를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-331">Otherwise, use `domain_hint=organizations`.</span></span> |

<span data-ttu-id="50e4e-332">`prompt=none` 매개 변수를 설정하면 이 요청이 즉시 성공하거나 실패하고 응용 프로그램으로 돌아갑니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-332">By setting the `prompt=none` parameter, this request either succeeds or fails immediately, and returns to your application.</span></span>  <span data-ttu-id="50e4e-333">성공적인 응답은 `response_mode` 매개 변수에 지정된 메서드를 사용하여 표시된 리디렉션 URI에서 앱으로 보내집니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-333">A successful response is sent to your app at the indicated redirect URI, by using the method specified in the `response_mode` parameter.</span></span>

### <a name="successful-response"></a><span data-ttu-id="50e4e-334">성공적인 응답</span><span class="sxs-lookup"><span data-stu-id="50e4e-334">Successful response</span></span>
<span data-ttu-id="50e4e-335">`response_mode=fragment`를 사용한 성공적인 응답은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-335">A successful response by using `response_mode=fragment` looks like this:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
&token_type=Bearer
&expires_in=3599
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
```

| <span data-ttu-id="50e4e-336">매개 변수</span><span class="sxs-lookup"><span data-stu-id="50e4e-336">Parameter</span></span> | <span data-ttu-id="50e4e-337">설명</span><span class="sxs-lookup"><span data-stu-id="50e4e-337">Description</span></span> |
| --- | --- |
| <span data-ttu-id="50e4e-338">access_token</span><span class="sxs-lookup"><span data-stu-id="50e4e-338">access_token</span></span> |<span data-ttu-id="50e4e-339">앱이 요청한 토큰입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-339">The token that the app requested.</span></span> |
| <span data-ttu-id="50e4e-340">token_type</span><span class="sxs-lookup"><span data-stu-id="50e4e-340">token_type</span></span> |<span data-ttu-id="50e4e-341">토큰 형식은 항상 Bearer(전달자)입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-341">The token type will always be Bearer.</span></span> |
| <span data-ttu-id="50e4e-342">state</span><span class="sxs-lookup"><span data-stu-id="50e4e-342">state</span></span> |<span data-ttu-id="50e4e-343">요청에 `state` 매개 변수가 포함되어 있으면 동일한 값이 응답에도 나타나야 합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-343">If a `state` parameter is included in the request, the same value should appear in the response.</span></span> <span data-ttu-id="50e4e-344">앱에서 요청 및 응답의 `state` 값이 동일한지 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-344">The app should verify that the `state` values in the request and response are identical.</span></span> |
| <span data-ttu-id="50e4e-345">expires_in</span><span class="sxs-lookup"><span data-stu-id="50e4e-345">expires_in</span></span> |<span data-ttu-id="50e4e-346">액세스 토큰이 유효한 기간(초)입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-346">How long the access token is valid (in seconds).</span></span> |
| <span data-ttu-id="50e4e-347">scope</span><span class="sxs-lookup"><span data-stu-id="50e4e-347">scope</span></span> |<span data-ttu-id="50e4e-348">access_token이 유효한 범위입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-348">The scopes that the access token is valid for.</span></span> |

### <a name="error-response"></a><span data-ttu-id="50e4e-349">오류 응답</span><span class="sxs-lookup"><span data-stu-id="50e4e-349">Error response</span></span>
<span data-ttu-id="50e4e-350">오류 응답은 앱에서 적절히 처리할 수 있도록 리디렉션 URI에 보낼 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-350">Error responses also can be sent to the redirect URI so that the app can handle them appropriately.</span></span>  <span data-ttu-id="50e4e-351">`prompt=none`의 경우 예상되는 오류는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-351">For `prompt=none`, an expected error looks like this:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=user_authentication_required
&error_description=the+request+could+not+be+completed+silently
```

| <span data-ttu-id="50e4e-352">매개 변수</span><span class="sxs-lookup"><span data-stu-id="50e4e-352">Parameter</span></span> | <span data-ttu-id="50e4e-353">설명</span><span class="sxs-lookup"><span data-stu-id="50e4e-353">Description</span></span> |
| --- | --- |
| <span data-ttu-id="50e4e-354">error</span><span class="sxs-lookup"><span data-stu-id="50e4e-354">error</span></span> |<span data-ttu-id="50e4e-355">발생하는 오류 유형을 분류하는 데 사용할 수 있는 오류 코드 문자열입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-355">An error code string that can be used to classify types of errors that occur.</span></span> <span data-ttu-id="50e4e-356">문자열을 사용하여 오류에 대응할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-356">You also can use the string to react to errors.</span></span> |
| <span data-ttu-id="50e4e-357">error_description</span><span class="sxs-lookup"><span data-stu-id="50e4e-357">error_description</span></span> |<span data-ttu-id="50e4e-358">인증 오류의 근본 원인을 식별하도록 도울 수 있는 특정 오류 메시지입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-358">A specific error message that can help you identify the root cause of an authentication error.</span></span> |

<span data-ttu-id="50e4e-359">iFrame 요청에 이러한 오류를 수신하면, 사용자는 새 토큰을 얻기 위해 대화형으로 다시 로그인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-359">If you receive this error in the iframe request, the user must interactively sign in again to retrieve a new token.</span></span> <span data-ttu-id="50e4e-360">응용 프로그램에 적합한 방식으로 이 작업을 처리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-360">You can handle this in a way that makes sense for your application.</span></span>

## <a name="refresh-tokens"></a><span data-ttu-id="50e4e-361">새로 고침 토큰</span><span class="sxs-lookup"><span data-stu-id="50e4e-361">Refresh tokens</span></span>
<span data-ttu-id="50e4e-362">ID 토큰 및 액세스 토큰은 모두 짧은 기간 후에 만료됩니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-362">ID tokens and access tokens both expire after a short period of time.</span></span> <span data-ttu-id="50e4e-363">이러한 토큰을 정기적으로 새로 고치려면 앱을 준비해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-363">Your app must be prepared to refresh these tokens periodically.</span></span>  <span data-ttu-id="50e4e-364">두 가지 형식의 토큰을 새로 고치려면 `prompt=none` 매개 변수를 통해 Azure AD 단계를 제어하여 이전 예제에서 사용한 것과 동일한 숨겨진 iFrame 요청을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-364">To refresh either type of token, perform the same hidden iframe request we used in an earlier example, by using the `prompt=none` parameter to control Azure AD steps.</span></span>  <span data-ttu-id="50e4e-365">새 `id_token` 값을 받으려면 `response_type=id_token`, `scope=openid` 및 `nonce` 매개 변수를 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-365">To receive a new `id_token` value, be sure to use `response_type=id_token` and `scope=openid`, and a `nonce` parameter.</span></span>

## <a name="send-a-sign-out-request"></a><span data-ttu-id="50e4e-366">로그아웃 요청 보내기</span><span class="sxs-lookup"><span data-stu-id="50e4e-366">Send a sign-out request</span></span>
<span data-ttu-id="50e4e-367">사용자를 앱에서 로그아웃하도록 하려면 사용자를 Azure AD로 리디렉션하여 로그아웃시킵니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-367">When you want to sign the user out of the app, redirect the user to Azure AD to sign out.</span></span> <span data-ttu-id="50e4e-368">이 작업을 수행하지 않으면 사용자가 자격 증명을 다시 입력하지 않고 앱을 다시 인증할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-368">If you don't do this, the user might be able to reauthenticate to your app without entering their credentials again.</span></span> <span data-ttu-id="50e4e-369">이는 Azure AD를 사용하는 유효한 Single Sign-On 세션이 있기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-369">This is because they will have a valid single sign-on session with Azure AD.</span></span>

<span data-ttu-id="50e4e-370">[ID 토큰 유효성 검사](#validate-the-id-token)에서 설명한 동일한 OpenID Connect 메타데이터 문서에 나열된 `end_session_endpoint`로 사용자를 리디렉션할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-370">You can simply redirect the user to the `end_session_endpoint` that is listed in the same OpenID Connect metadata document described in [Validate the ID token](#validate-the-id-token).</span></span> <span data-ttu-id="50e4e-371">예:</span><span class="sxs-lookup"><span data-stu-id="50e4e-371">For example:</span></span>

```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/logout?
p=b2c_1_sign_in
&post_logout_redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
```

| <span data-ttu-id="50e4e-372">매개 변수</span><span class="sxs-lookup"><span data-stu-id="50e4e-372">Parameter</span></span> | <span data-ttu-id="50e4e-373">Required?</span><span class="sxs-lookup"><span data-stu-id="50e4e-373">Required?</span></span> | <span data-ttu-id="50e4e-374">설명</span><span class="sxs-lookup"><span data-stu-id="50e4e-374">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="50e4e-375">p</span><span class="sxs-lookup"><span data-stu-id="50e4e-375">p</span></span> |<span data-ttu-id="50e4e-376">필수</span><span class="sxs-lookup"><span data-stu-id="50e4e-376">Required</span></span> |<span data-ttu-id="50e4e-377">사용자가 응용 프로그램에서 로그아웃하도록 하는 데 사용하는 정책입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-377">The policy to use to sign the user out of your application.</span></span> |
| <span data-ttu-id="50e4e-378">post_logout_redirect_uri</span><span class="sxs-lookup"><span data-stu-id="50e4e-378">post_logout_redirect_uri</span></span> |<span data-ttu-id="50e4e-379">권장</span><span class="sxs-lookup"><span data-stu-id="50e4e-379">Recommended</span></span> |<span data-ttu-id="50e4e-380">성공적으로 로그아웃한 후에 사용자가 리디렉션되는 URL입니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-380">The URL that the user should be redirected to after successful sign-out.</span></span> <span data-ttu-id="50e4e-381">포함되어 있지 않으면 Azure AD B2C에서 사용자에게 일반 메시지를 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-381">If it is not included, Azure AD B2C displays a generic message to the user.</span></span> |

> [!NOTE]
> <span data-ttu-id="50e4e-382">사용자를 `end_session_endpoint`로 전달하면 Azure AD B2C로 사용자의 Single Sign-On 상태 중 일부를 지웁니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-382">Directing the user to the `end_session_endpoint` clears some of the user's single sign-on state with Azure AD B2C.</span></span> <span data-ttu-id="50e4e-383">그러나 사용자의 소셜 ID 공급자 세션에서 사용자를 서명하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-383">However, it doesn't sign the user out of the user's social identity provider session.</span></span> <span data-ttu-id="50e4e-384">사용자가 후속 로그인 중에 동일한 ID 공급자를 선택하면 자격 증명을 입력하지 않고도 다시 인증됩니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-384">If the user selects the same identify provider during a subsequent sign-in, the user is reauthenticated, without entering their credentials.</span></span> <span data-ttu-id="50e4e-385">사용자가 Azure AD B2C 응용 프로그램에서 로그아웃하려는 경우 반드시 Facebook과 같은 계정에서 완전히 로그아웃하려는 것은 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-385">If a user wants to sign out of your Azure AD B2C application, it does not necessarily mean they want to completely sign out of their Facebook account, for example.</span></span> <span data-ttu-id="50e4e-386">그러나 로컬 계정의 경우 사용자의 세션이 제대로 종료됩니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-386">However, for local accounts, the user's session will be ended properly.</span></span>
> 
> 

## <a name="use-your-own-azure-ad-b2c-tenant"></a><span data-ttu-id="50e4e-387">사용자 고유의 Azure AD B2C 테넌트 사용</span><span class="sxs-lookup"><span data-stu-id="50e4e-387">Use your own Azure AD B2C tenant</span></span>
<span data-ttu-id="50e4e-388">이러한 요청을 직접 시도하려면 다음 세 단계를 완료합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-388">To try these requests yourself, complete the following three steps.</span></span> <span data-ttu-id="50e4e-389">이 문서에서 사용한 예제 값을 사용자 고유의 값으로 바꿉니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-389">Replace the example values we use in this article with your own values:</span></span>

1. <span data-ttu-id="50e4e-390">[Azure AD B2C 테넌트를 만듭니다](active-directory-b2c-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="50e4e-390">[Create an Azure AD B2C tenant](active-directory-b2c-get-started.md).</span></span> <span data-ttu-id="50e4e-391">요청에 테넌트의 이름을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-391">Use the name of your tenant in the requests.</span></span>
2. <span data-ttu-id="50e4e-392">응용 프로그램 ID 및 `redirect_uri` 값을 얻기 위해 [응용 프로그램을 만듭니다](active-directory-b2c-app-registration.md).</span><span class="sxs-lookup"><span data-stu-id="50e4e-392">[Create an application](active-directory-b2c-app-registration.md) to obtain an application ID and a `redirect_uri` value.</span></span> <span data-ttu-id="50e4e-393">앱에 웹앱 또는 Web API를 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-393">Include a web app or web API in your app.</span></span> <span data-ttu-id="50e4e-394">필요에 따라 응용 프로그램 비밀을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-394">Optionally, you can create an application secret.</span></span>
3. <span data-ttu-id="50e4e-395">[정책을 만들어](active-directory-b2c-reference-policies.md) 정책 이름을 얻습니다.</span><span class="sxs-lookup"><span data-stu-id="50e4e-395">[Create your policies](active-directory-b2c-reference-policies.md) to obtain your policy names.</span></span>

## <a name="samples"></a><span data-ttu-id="50e4e-396">샘플</span><span class="sxs-lookup"><span data-stu-id="50e4e-396">Samples</span></span>

* <span data-ttu-id="50e4e-397">[Node.js를 사용하여 단일 페이지 앱 만들기](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi)(영문)</span><span class="sxs-lookup"><span data-stu-id="50e4e-397">[Create a single-page app by using Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi)</span></span>
* <span data-ttu-id="50e4e-398">[.NET을 사용하여 단일 페이지 앱 만들기](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi)(영문)</span><span class="sxs-lookup"><span data-stu-id="50e4e-398">[Create a single-page app by using .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi)</span></span>

