---
title: "Azure Active Directory B2C: 토큰 참조 | Microsoft Docs"
description: "hello 유형의 Azure Active Directory B2C에 발급 된 토큰"
services: active-directory-b2c
documentationcenter: 
author: dstrockis
manager: mbaldwin
editor: 
ms.assetid: 6df79878-65cb-4dfc-98bb-2b328055bc2e
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 3/17/2017
ms.author: dastrock
ms.openlocfilehash: 776bc88cc0308875ac6e576f19ac9edf50319d08
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-b2c-token-reference"></a><span data-ttu-id="abd7e-103">Azure AD B2C: 토큰 참조</span><span class="sxs-lookup"><span data-stu-id="abd7e-103">Azure AD B2C: Token reference</span></span>
<span data-ttu-id="abd7e-104">Azure AD B2C(Azure Active Directory B2C)는 각 [인증 흐름](active-directory-b2c-apps.md)을 처리할 때 여러 형식의 보안 토큰을 내보냅니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-104">Azure Active Directory B2C (Azure AD B2C) emits several types of security tokens as it processes each [authentication flow](active-directory-b2c-apps.md).</span></span> <span data-ttu-id="abd7e-105">이 문서에서는 hello 형식, 보안 특성 및 각 유형의 토큰의 내용을 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-105">This document describes hello format, security characteristics, and contents of each type of token.</span></span>

## <a name="types-of-tokens"></a><span data-ttu-id="abd7e-106">토큰 형식</span><span class="sxs-lookup"><span data-stu-id="abd7e-106">Types of tokens</span></span>
<span data-ttu-id="abd7e-107">Azure AD B2C 지원 hello [OAuth 2.0 권한 부여 프로토콜](active-directory-b2c-reference-protocols.md)를 사용 하는 둘 다의 액세스 토큰 및 새로 고침 토큰입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-107">Azure AD B2C supports hello [OAuth 2.0 authorization protocol](active-directory-b2c-reference-protocols.md), which makes use of both access tokens and refresh tokens.</span></span> <span data-ttu-id="abd7e-108">또한 인증 및 로그인을 통해 지원 [OpenID Connect](active-directory-b2c-reference-protocols.md), 세 번째 토큰 유형의 도입: hello ID 토큰입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-108">It also supports authentication and sign-in via [OpenID Connect](active-directory-b2c-reference-protocols.md), which introduces a third type of token: hello ID token.</span></span> <span data-ttu-id="abd7e-109">이러한 토큰은 각각 전달자 토큰으로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-109">Each of these tokens is represented as a bearer token.</span></span>

<span data-ttu-id="abd7e-110">전달자 토큰은 보호 된 리소스를 부여 "전달자" 액세스 tooa hello 하는 경량 보안 토큰입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-110">A bearer token is a lightweight security token that grants hello "bearer" access tooa protected resource.</span></span> <span data-ttu-id="abd7e-111">hello 전달자 hello 토큰을 제공할 수 있는 당사자입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-111">hello bearer is any party that can present hello token.</span></span> <span data-ttu-id="abd7e-112">Azure AD에서 전달자 토큰을 받으려면 먼저 당사자를 인증해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-112">Azure AD must first authenticate a party before it can receive a bearer token.</span></span> <span data-ttu-id="abd7e-113">하지만 hello 필요한 단계는 전송 및 저장에서 toosecure hello 토큰을 따르지 않은 경우 차단 하 고 수 있습니다는 의도 하지 않은 당사자에서 사용 하는.</span><span class="sxs-lookup"><span data-stu-id="abd7e-113">But if hello required steps are not taken toosecure hello token in transmission and storage, it can be intercepted and used by an unintended party.</span></span> <span data-ttu-id="abd7e-114">일부 보안 토큰에는 권한이 없는 당사자가 토큰을 사용하는 것을 막는 메커니즘이 기본으로 제공되지만 전달자 토큰에는 이 메커니즘이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-114">Some security tokens have a built-in mechanism for preventing unauthorized parties from using them, but bearer tokens do not have this mechanism.</span></span> <span data-ttu-id="abd7e-115">전송 계층 보안(HTTPS) 등의 보안 채널에서 전송해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-115">They must be transported in a secure channel, such as transport layer security (HTTPS).</span></span>

<span data-ttu-id="abd7e-116">전달자 토큰에 보안 채널 외부 전송 경우 악의적인 사용자 중간자 개입 공격 tooacquire hello 토큰을 사용할 수 있으며 toogain 무단 액세스 tooa 보호 된 리소스를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-116">If a bearer token is transmitted outside a secure channel, a malicious party can use a man-in-the-middle attack tooacquire hello token and use it toogain unauthorized access tooa protected resource.</span></span> <span data-ttu-id="abd7e-117">hello 전달자 토큰을 저장 하거나 나중에 캐시 하는 경우 동일한 보안 원칙이 적용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-117">hello same security principles apply when bearer tokens are stored or cached for later use.</span></span> <span data-ttu-id="abd7e-118">항상 앱이 안전한 방식으로 전달자 토큰을 전송하고 저장하도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-118">Always ensure that your app transmits and stores bearer tokens in a secure manner.</span></span>

<span data-ttu-id="abd7e-119">전달자 토큰의 보안 고려 사항을 자세히 알아보려면 [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="abd7e-119">For additional security considerations on bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="abd7e-120">다양 한 Azure AD B2C 발급 하는 hello 토큰 JSON 웹 토큰 (Jwt)로 구현 됩니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-120">Many of hello tokens that Azure AD B2C issues are implemented as JSON web tokens (JWTs).</span></span> <span data-ttu-id="abd7e-121">JWT는 두 요소 간에 정보를 전송하는 URL로부터 안전한 간단한 수단입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-121">A JWT is a compact, URL-safe means of transferring information between two parties.</span></span> <span data-ttu-id="abd7e-122">JWT는 클레임이라고 하는 정보를 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-122">JWTs contain information known as claims.</span></span> <span data-ttu-id="abd7e-123">이들은 hello 전달자에 대 한 정보 어설션 및 hello 토큰의 주체 hello입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-123">These are assertions of information about hello bearer and hello subject of hello token.</span></span> <span data-ttu-id="abd7e-124">Jwt의 hello 클레임은 인코딩된 및 전송을 위해 serialize 되는 JSON 개체입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-124">hello claims in JWTs are JSON objects that are encoded and serialized for transmission.</span></span> <span data-ttu-id="abd7e-125">JWT toodebug hello 내용을 검사 하 고 쉽게 수 hello Azure AD B2C에서 발급 한 Jwt 서명 아니라 암호화 되지 때문에 해당 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-125">Because hello JWTs issued by Azure AD B2C are signed but not encrypted, you can easily inspect hello contents of a JWT toodebug it.</span></span> <span data-ttu-id="abd7e-126">이 작업을 수행하는 데 [calebb.net](http://calebb.net)을 포함하여 여러 도구를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-126">Several tools are available that can do this, including [calebb.net](http://calebb.net).</span></span> <span data-ttu-id="abd7e-127">Jwt에 대 한 자세한 내용은 참조 너무[JWT 사양](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html)합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-127">For more information about JWTs, refer too[JWT specifications](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span></span>

### <a name="id-tokens"></a><span data-ttu-id="abd7e-128">ID 토큰</span><span class="sxs-lookup"><span data-stu-id="abd7e-128">ID tokens</span></span>
<span data-ttu-id="abd7e-129">ID 토큰은 앱이 Azure AD B2C hello에서 수신 하는 보안 토큰의 형태 `authorize` 및 `token` 끝점입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-129">An ID token is a form of security token that your app receives from hello Azure AD B2C `authorize` and `token` endpoints.</span></span> <span data-ttu-id="abd7e-130">ID 토큰으로 표시 됩니다 [Jwt](#types-of-tokens), 하며 tooidentify 사용자가 앱에서 사용할 수 있는 클레임을 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-130">ID tokens are represented as [JWTs](#types-of-tokens), and they contain claims that you can use tooidentify users in your app.</span></span> <span data-ttu-id="abd7e-131">Hello에서 ID 토큰 획득 때 `authorize` 끝점이 되어 있어 사용자가 tooweb 응용 프로그램에서 사용 되는 toosign 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-131">When ID tokens are acquired from hello `authorize` endpoint, they are often used toosign in users tooweb applications.</span></span> <span data-ttu-id="abd7e-132">Hello에서 ID 토큰 획득 때 `token` 끝점을 보낼 수 있습니다 HTTP 요청 시에서 hello의 두 구성 요소 간 통신 중 동일한 응용 프로그램 또는 서비스입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-132">When ID tokens are acquired from hello `token` endpoint, they can be sent in HTTP requests during communication between two components of hello same application or service.</span></span> <span data-ttu-id="abd7e-133">원하는 대로 hello 클레임 ID 토큰에서 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-133">You can use hello claims in an ID token as you see fit.</span></span> <span data-ttu-id="abd7e-134">자주 사용 되는 toodisplay 계정 정보 또는 toomake 액세스 제어 결정에 서 응용 프로그램에서 됩니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-134">They are commonly used toodisplay account information or toomake access control decisions in an app.</span></span>  

<span data-ttu-id="abd7e-135">ID 토큰은 서명되어 있지만, 현재 암호화되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-135">ID tokens are signed, but they are not currently encrypted.</span></span> <span data-ttu-id="abd7e-136">응용 프로그램 또는 API ID 토큰을 받으면 다음 조건을 충족 해야 [hello 서명 유효성 검사](#token-validation) 토큰 hello tooprove은 진짜 콘텐츠입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-136">When your app or API receives an ID token, it must [validate hello signature](#token-validation) tooprove that hello token is authentic.</span></span> <span data-ttu-id="abd7e-137">응용 프로그램 또는 API 해야 hello 토큰 tooprove 올바른지의 몇 가지 클레임을 확인할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-137">Your app or API must also validate a few claims in hello token tooprove that it is valid.</span></span> <span data-ttu-id="abd7e-138">Hello 시나리오 요구 사항에 따라 응용 프로그램에서 유효성을 검사 하는 hello 클레임 바뀔 수 있지만, 응용 프로그램 일부를 수행 해야 [일반 클레임 유효성 검사](#token-validation) 모든 시나리오에서.</span><span class="sxs-lookup"><span data-stu-id="abd7e-138">Depending on hello scenario requirements, hello claims validated by an app can vary, but your app must perform some [common claim validations](#token-validation) in every scenario.</span></span>

#### <a name="sample-id-token"></a><span data-ttu-id="abd7e-139">샘플 ID 토큰</span><span class="sxs-lookup"><span data-stu-id="abd7e-139">Sample ID token</span></span>
```
// Line breaks for display purposes only

eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IklkVG9rZW5TaWduaW5nS2V5Q29udGFpbmVyIn0.
eyJleHAiOjE0NDIzNjAwMzQsIm5iZiI6MTQ0MjM1NjQzNCwidmVyIjoiMS4wIiwiaXNzIjoiaHR0cHM6Ly9s
b2dpbi5taWNyb3NvZnRvbmxpbmUuY29tLzc3NTUyN2ZmLTlhMzctNDMwNy04YjNkLWNjMzExZjU4ZDkyNS92
Mi4wLyIsImFjciI6ImIyY18xX3NpZ25faW5fc3RvY2siLCJzdWIiOiJOb3Qgc3VwcG9ydGVkIGN1cnJlbnRs
eS4gVXNlIG9pZCBjbGFpbS4iLCJhdWQiOiI5MGMwZmU2My1iY2YyLTQ0ZDUtOGZiNy1iOGJiYzBiMjlkYzYi
LCJpYXQiOjE0NDIzNTY0MzQsImF1dGhfdGltZSI6MTQ0MjM1NjQzNCwiaWRwIjoiZmFjZWJvb2suY29tIn0.
h-uiKcrT882pSKUtWCpj-_3b3vPs3bOWsESAhPMrL-iIIacKc6_uZrWxaWvIYkLra5czBcGKWrYwrAC8ZvQe
DJWZ50WXQrZYODEW1OUwzaD_I1f1HE0c2uvaWdGXBpDEVdsD3ExKaFlKGjFR2V7F-fPThkVDdKmkUDQX3bVc
yyj2V2nlCQ9jd7aGnokTPfLfpOjuIrTsAdPcGpe5hfSEuwYDmqOJjGs9Jp1f-eSNEiCDQOaTBSvr479L5ptP
XWeQZyX2SypN05Rjr05bjZh3j70ZUimiocfJzjibeoDCaQTz907yAg91WYuFOrQxb-5BaUoR7K-O7vxr2M-_
CQhoFA

```

### <a name="access-tokens"></a><span data-ttu-id="abd7e-140">액세스 토큰</span><span class="sxs-lookup"><span data-stu-id="abd7e-140">Access tokens</span></span>
<span data-ttu-id="abd7e-141">액세스 토큰이 앱이 Azure AD B2C hello에서 수신 하는 보안 토큰의 형태 이기도 `authorize` 및 `token` 끝점입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-141">An access token is also a form of security token that your app receives from hello Azure AD B2C `authorize` and `token` endpoints.</span></span> <span data-ttu-id="abd7e-142">액세스 토큰으로도 표현 됩니다 [Jwt](#types-of-tokens), 하며 tooidentify hello 부여 권한을 tooyour Api를 사용할 수 있는 클레임을 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-142">Access tokens are also represented as [JWTs](#types-of-tokens), and they contain claims that you can use tooidentify hello granted permissions tooyour APIs.</span></span> <span data-ttu-id="abd7e-143">액세스 토큰은 서명되어 있지만, 현재 암호화되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-143">Access tokens are signed, but they are not currently encrypted.</span></span> <span data-ttu-id="abd7e-144">액세스 토큰에 사용 되는 tooprovide 액세스 tooAPIs 및 리소스 서버 여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-144">Access tokens should be used tooprovide access tooAPIs and resource servers.</span></span> <span data-ttu-id="abd7e-145">너무 방법에 대 한 자세한[액세스 토큰을 사용 하 여](active-directory-b2c-access-tokens.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-145">Learn more about how too[use access tokens](active-directory-b2c-access-tokens.md).</span></span> 

<span data-ttu-id="abd7e-146">API 액세스 토큰을 받으면 다음 조건을 충족 해야 [hello 서명 유효성 검사](#token-validation) 토큰 hello tooprove은 진짜 콘텐츠입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-146">When your API receives an access token, it must [validate hello signature](#token-validation) tooprove that hello token is authentic.</span></span> <span data-ttu-id="abd7e-147">사용자가 API는 hello 토큰 tooprove 올바른지의 몇 가지 클레임을 확인도 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-147">Your API must also validate a few claims in hello token tooprove that it is valid.</span></span> <span data-ttu-id="abd7e-148">Hello 시나리오 요구 사항에 따라 응용 프로그램에서 유효성을 검사 하는 hello 클레임 바뀔 수 있지만, 응용 프로그램 일부를 수행 해야 [일반 클레임 유효성 검사](#token-validation) 모든 시나리오에서.</span><span class="sxs-lookup"><span data-stu-id="abd7e-148">Depending on hello scenario requirements, hello claims validated by an app can vary, but your app must perform some [common claim validations](#token-validation) in every scenario.</span></span>

### <a name="claims-in-id-and-access-tokens"></a><span data-ttu-id="abd7e-149">ID 및 액세스 토큰의 클레임</span><span class="sxs-lookup"><span data-stu-id="abd7e-149">Claims in ID and access tokens</span></span>
<span data-ttu-id="abd7e-150">Azure AD B2C를 사용 하면 사용자가 토큰의 hello 콘텐츠에 대 한 세분화 된 제어를 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-150">When you use Azure AD B2C, you have fine-grained control over hello content of your tokens.</span></span> <span data-ttu-id="abd7e-151">구성할 수 있습니다 [정책](active-directory-b2c-reference-policies.md) toosend 특정 앱에 필요한 작업에 대 한 클레임의 사용자 데이터의 집합입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-151">You can configure [policies](active-directory-b2c-reference-policies.md) toosend certain sets of user data in claims that your app requires for its operations.</span></span> <span data-ttu-id="abd7e-152">이러한 클레임 hello 사용자와 같은 표준 속성을 포함할 수 있습니다 `displayName` 및 `emailAddress`합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-152">These claims can include standard properties such as hello user's `displayName` and `emailAddress`.</span></span> <span data-ttu-id="abd7e-153">또한 B2C 디렉터리에서 정의할 수 있는 [사용자 지정 특성](active-directory-b2c-reference-custom-attr.md) 도 포함할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-153">They can also include [custom user attributes](active-directory-b2c-reference-custom-attr.md) that you can define in your B2C directory.</span></span> <span data-ttu-id="abd7e-154">받는 모든 ID 및 액세스 토큰에는 보안 관련 클레임의 특정 집합이 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-154">Every ID and access token that you receive contains a certain set of security-related claims.</span></span> <span data-ttu-id="abd7e-155">응용 프로그램 toosecurely 사용자 및 요청을 인증 하 이러한 클레임을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-155">Your applications can use these claims toosecurely authenticate users and requests.</span></span>

<span data-ttu-id="abd7e-156">특정 순서로 hello 토큰의에서 클레임 ID 가져오지는 참고 사항</span><span class="sxs-lookup"><span data-stu-id="abd7e-156">Note that hello claims in ID tokens are not returned in any particular order.</span></span> <span data-ttu-id="abd7e-157">또한 언제든지 새 클레임을 ID 토큰에 도입할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-157">In addition, new claims can be introduced in ID tokens at any time.</span></span> <span data-ttu-id="abd7e-158">새 클레임이 도입되므로 앱을 해제하지 말아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-158">Your app should not break as new claims are introduced.</span></span> <span data-ttu-id="abd7e-159">Hello 클레임 tooexist Azure AD B2C에서 발급 한 ID 및 액세스 토큰에서 예상 되는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-159">Here are hello claims that you expect tooexist in ID and access tokens issued by Azure AD B2C.</span></span> <span data-ttu-id="abd7e-160">모든 추가 클레임은 정책에 따라 결정됩니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-160">Any additional claims are determined by policies.</span></span> <span data-ttu-id="abd7e-161">연습에 붙여 넣어 여 hello 샘플 ID 토큰의 클레임이 hello 검사를 시도 [calebb.net](http://calebb.net)합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-161">For practice, try inspecting hello claims in hello sample ID token by pasting it into [calebb.net](http://calebb.net).</span></span> <span data-ttu-id="abd7e-162">Hello에 자세한 정보를 찾을 수 [OpenID Connect 사양](http://openid.net/specs/openid-connect-core-1_0.html)합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-162">Further details can be found in hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>

| <span data-ttu-id="abd7e-163">이름</span><span class="sxs-lookup"><span data-stu-id="abd7e-163">Name</span></span> | <span data-ttu-id="abd7e-164">클레임</span><span class="sxs-lookup"><span data-stu-id="abd7e-164">Claim</span></span> | <span data-ttu-id="abd7e-165">예제 값</span><span class="sxs-lookup"><span data-stu-id="abd7e-165">Example value</span></span> | <span data-ttu-id="abd7e-166">설명</span><span class="sxs-lookup"><span data-stu-id="abd7e-166">Description</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="abd7e-167">대상</span><span class="sxs-lookup"><span data-stu-id="abd7e-167">Audience</span></span> |`aud` |`90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6` |<span data-ttu-id="abd7e-168">대상 그룹 클레임 hello 토큰의 hello 의도 한 받는 사람을 식별합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-168">An audience claim identifies hello intended recipient of hello token.</span></span> <span data-ttu-id="abd7e-169">Azure AD B2C에 대 한 hello 대상 그룹은 hello 응용 프로그램 등록 포털에 할당 된 tooyour 응용 프로그램으로 응용 프로그램의 응용 프로그램 ID입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-169">For Azure AD B2C, hello audience is your app's application ID, as assigned tooyour app in hello app registration portal.</span></span> <span data-ttu-id="abd7e-170">앱이이 값의 유효성을 검사 하 고 일치 하지 않으면 hello 토큰을 거부 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-170">Your app should validate this value and reject hello token if it does not match.</span></span> |
| <span data-ttu-id="abd7e-171">발급자</span><span class="sxs-lookup"><span data-stu-id="abd7e-171">Issuer</span></span> |`iss` |`https://login.microsoftonline.com/775527ff-9a37-4307-8b3d-cc311f58d925/v2.0/` |<span data-ttu-id="abd7e-172">이 클레임 식별 hello 보안 토큰 서비스 (STS)를 생성 하 고 hello 토큰을 반환 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-172">This claim identifies hello security token service (STS) that constructs and returns hello token.</span></span> <span data-ttu-id="abd7e-173">또한 사용자가 인증 된 어떤 hello hello Azure AD 디렉터리를 식별 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-173">It also identifies hello Azure AD directory in which hello user was authenticated.</span></span> <span data-ttu-id="abd7e-174">앱 토큰 hello tooensure hello Azure Active Directory v2.0 끝점에서 제공 하는 hello 발급자 클레임 유효성을 검사 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-174">Your app should validate hello issuer claim tooensure that hello token came from hello Azure Active Directory v2.0 endpoint.</span></span> |
| <span data-ttu-id="abd7e-175">발급 시간</span><span class="sxs-lookup"><span data-stu-id="abd7e-175">Issued at</span></span> |`iat` |`1438535543` |<span data-ttu-id="abd7e-176">이러한 클레임은 hello는 hello에 토큰이 발급 된 시간, epoch 시간으로 표현 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-176">This claim is hello time at which hello token was issued, represented in epoch time.</span></span> |
| <span data-ttu-id="abd7e-177">만료 시간</span><span class="sxs-lookup"><span data-stu-id="abd7e-177">Expiration time</span></span> |`exp` |`1438539443` |<span data-ttu-id="abd7e-178">hello 만료 시간 클레임은 hello 시간부터 hello 토큰이 잘못 됨, epoch 시간으로 표현 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-178">hello expiration time claim is hello time at which hello token becomes invalid, represented in epoch time.</span></span> <span data-ttu-id="abd7e-179">앱이 클레임 tooverify hello의 유효성을 검사 토큰 수명 hello 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-179">Your app should use this claim tooverify hello validity of hello token lifetime.</span></span> |
| <span data-ttu-id="abd7e-180">이전이 아님</span><span class="sxs-lookup"><span data-stu-id="abd7e-180">Not before</span></span> |`nbf` |`1438535543` |<span data-ttu-id="abd7e-181">이러한 클레임은 hello 시간부터 hello 토큰이 유효 하 고 epoch 시간으로 표현 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-181">This claim is hello time at which hello token becomes valid, represented in epoch time.</span></span> <span data-ttu-id="abd7e-182">이 일반적으로 hello 같은 hello 시간 hello 토큰 발급 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-182">This is usually hello same as hello time hello token was issued.</span></span> <span data-ttu-id="abd7e-183">앱이 클레임 tooverify hello의 유효성을 검사 토큰 수명 hello 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-183">Your app should use this claim tooverify hello validity of hello token lifetime.</span></span> |
| <span data-ttu-id="abd7e-184">버전</span><span class="sxs-lookup"><span data-stu-id="abd7e-184">Version</span></span> |`ver` |`1.0` |<span data-ttu-id="abd7e-185">Azure AD에 의해 정의 된 대로 hello ID 토큰의 hello 버전입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-185">This is hello version of hello ID token, as defined by Azure AD.</span></span> |
| <span data-ttu-id="abd7e-186">코드 해시</span><span class="sxs-lookup"><span data-stu-id="abd7e-186">Code hash</span></span> |`c_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="abd7e-187">OAuth 2.0 권한 부여 코드와 함께 hello 토큰이 발급 될 경우에 코드 해시 ID 토큰에 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-187">A code hash is included in an ID token only when hello token is issued together with an OAuth 2.0 authorization code.</span></span> <span data-ttu-id="abd7e-188">해시 코드를 권한 부여 코드의 사용된 toovalidate hello 신뢰성 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-188">A code hash can be used toovalidate hello authenticity of an authorization code.</span></span> <span data-ttu-id="abd7e-189">방법에 대 한 자세한 내용은 tooperform이 유효성이 검사를 hello 참조 [OpenID Connect 사양](http://openid.net/specs/openid-connect-core-1_0.html)합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-189">For more details on how tooperform this validation, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>  |
| <span data-ttu-id="abd7e-190">액세스 토큰 해시</span><span class="sxs-lookup"><span data-stu-id="abd7e-190">Access token hash</span></span> |`at_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="abd7e-191">OAuth 2.0 액세스 토큰 함께 hello 토큰이 발급 될 경우에 액세스 토큰 해시 ID 토큰에 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-191">An access token hash is included in an ID token only when hello token is issued together with an OAuth 2.0 access token.</span></span> <span data-ttu-id="abd7e-192">액세스 토큰 해시 액세스 토큰의 hello 신뢰성 toovalidate 사용된 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-192">An access token hash can be used toovalidate hello authenticity of an access token.</span></span> <span data-ttu-id="abd7e-193">방법에 대 한 자세한 내용은 tooperform이 유효성이 검사를 hello 참조 [OpenID Connect 사양](http://openid.net/specs/openid-connect-core-1_0.html)</span><span class="sxs-lookup"><span data-stu-id="abd7e-193">For more details on how tooperform this validation, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html)</span></span>  |
| <span data-ttu-id="abd7e-194">nonce</span><span class="sxs-lookup"><span data-stu-id="abd7e-194">Nonce</span></span> |`nonce` |`12345` |<span data-ttu-id="abd7e-195">Nonce는 toomitigate 토큰 재생 공격을 사용 하는 전략입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-195">A nonce is a strategy used toomitigate token replay attacks.</span></span> <span data-ttu-id="abd7e-196">앱 hello를 사용 하 여 권한 부여 요청에서 nonce에 지정할 수 `nonce` 쿼리 매개 변수입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-196">Your app can specify a nonce in an authorization request by using hello `nonce` query parameter.</span></span> <span data-ttu-id="abd7e-197">hello에 수정 되지 않은 hello 값 hello 요청에서 제공 하는 발생 `nonce` 만 ID 토큰의 클레임입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-197">hello value you provide in hello request will be emitted unmodified in hello `nonce` claim of an ID token only.</span></span> <span data-ttu-id="abd7e-198">이렇게 하면 지정 된 ID 토큰을 hello 응용 프로그램의 세션을 연결 하는 hello 요청에 지정 된 hello 값에 대 한 사용자가 앱 tooverify hello 값.</span><span class="sxs-lookup"><span data-stu-id="abd7e-198">This allows your app tooverify hello value against hello value it specified on hello request, which associates hello app's session with a given ID token.</span></span> <span data-ttu-id="abd7e-199">앱은 hello ID 토큰 유효성 검사 프로세스 중이 유효성 검사를 수행 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-199">Your app should perform this validation during hello ID token validation process.</span></span> |
| <span data-ttu-id="abd7e-200">제목</span><span class="sxs-lookup"><span data-stu-id="abd7e-200">Subject</span></span> |`sub` |`884408e1-2918-4cz0-b12d-3aa027d7563b` |<span data-ttu-id="abd7e-201">Hello 보안 주체는 hello에 대 한 토큰 어설션 응용 프로그램의 hello 사용자 등의 정보입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-201">This is hello principal about which hello token asserts information, such as hello user of an app.</span></span> <span data-ttu-id="abd7e-202">이 값은 변경할 수 없으며 재할당 또는 재사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-202">This value is immutable and cannot be reassigned or reused.</span></span> <span data-ttu-id="abd7e-203">을 안전 하 게 경우와 같이 hello 토큰 사용 되는 tooaccess 리소스 권한 부여 확인을 사용 하는 tooperform 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-203">It can be used tooperform authorization checks safely, such as when hello token is used tooaccess a resource.</span></span> <span data-ttu-id="abd7e-204">기본적으로 hello 주체 클레임 hello 디렉터리의 hello 사용자의 개체 ID hello 채워집니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-204">By default, hello subject claim is populated with hello object ID of hello user in hello directory.</span></span> <span data-ttu-id="abd7e-205">toolearn 더 참조 [Azure Active Directory B2C: 토큰, 세션 및 single sign on 구성](active-directory-b2c-token-session-sso.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-205">toolearn more, see [Azure Active Directory B2C: Token, session, and single sign-on configuration](active-directory-b2c-token-session-sso.md).</span></span> |
| <span data-ttu-id="abd7e-206">인증 컨텍스트 클래스 참조</span><span class="sxs-lookup"><span data-stu-id="abd7e-206">Authentication context class reference</span></span> |`acr` |<span data-ttu-id="abd7e-207">해당 없음</span><span class="sxs-lookup"><span data-stu-id="abd7e-207">Not applicable</span></span> |<span data-ttu-id="abd7e-208">이전 정책의 hello 경우를 제외 하 고 현재 사용 하지 않을 경우.</span><span class="sxs-lookup"><span data-stu-id="abd7e-208">Not used currently, except in hello case of older policies.</span></span> <span data-ttu-id="abd7e-209">toolearn 더 참조 [Azure Active Directory B2C: 토큰, 세션 및 single sign on 구성](active-directory-b2c-token-session-sso.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-209">toolearn more, see [Azure Active Directory B2C: Token, session, and single sign-on configuration](active-directory-b2c-token-session-sso.md).</span></span> |
| <span data-ttu-id="abd7e-210">보안 프레임워크 정책</span><span class="sxs-lookup"><span data-stu-id="abd7e-210">Trust framework policy</span></span> |`tfp` |`b2c_1_sign_in` |<span data-ttu-id="abd7e-211">사용 되는 tooacquire hello ID 토큰을가 하는 hello 정책의 hello 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-211">This is hello name of hello policy that was used tooacquire hello ID token.</span></span> |
| <span data-ttu-id="abd7e-212">인증 시간</span><span class="sxs-lookup"><span data-stu-id="abd7e-212">Authentication time</span></span> |`auth_time` |`1438535543` |<span data-ttu-id="abd7e-213">이러한 클레임은 hello 시간 시간을 사용자 마지막 입력 한 자격 epoch 시간으로 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-213">This claim is hello time at which a user last entered credentials, represented in epoch time.</span></span> |

### <a name="refresh-tokens"></a><span data-ttu-id="abd7e-214">새로 고침 토큰</span><span class="sxs-lookup"><span data-stu-id="abd7e-214">Refresh tokens</span></span>
<span data-ttu-id="abd7e-215">새로 고침 토큰은 보안 토큰 앱 tooacquire 새 ID 토큰을 사용 하 고 액세스는 OAuth 2.0 흐름 토큰 수입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-215">Refresh tokens are security tokens that your app can use tooacquire new ID tokens and access tokens in an OAuth 2.0 flow.</span></span> <span data-ttu-id="abd7e-216">응용 프로그램에 제공 장기 액세스 tooresources 사용자를 대신 하 여 해당 사용자와 상호 작용 없이 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-216">They provide your app with long-term access tooresources on behalf of users without requiring interaction with those users.</span></span>

<span data-ttu-id="abd7e-217">토큰 응답에 새로 고침 토큰 tooreceive 앱 hello를 요청 해야 `offline_acesss` 범위입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-217">tooreceive a refresh token in a token response, your app must request hello `offline_acesss` scope.</span></span> <span data-ttu-id="abd7e-218">hello에 대 한 자세한 toolearn `offline_access` 범위, toohello 참조 [Azure AD B2C 프로토콜 참조](active-directory-b2c-reference-protocols.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-218">toolearn more about hello `offline_access` scope, refer toohello [Azure AD B2C protocol reference](active-directory-b2c-reference-protocols.md).</span></span>

<span data-ttu-id="abd7e-219">새로 고침 토큰 및 완전히 불투명 tooyour 응용 프로그램은 항상 됩니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-219">Refresh tokens are, and will always be, completely opaque tooyour app.</span></span> <span data-ttu-id="abd7e-220">새로 고침 토큰은 Azure AD에서 발급되며 Azure AD에서만 검사 및 해석될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-220">They are issued by Azure AD and can be inspected and interpreted only by Azure AD.</span></span> <span data-ttu-id="abd7e-221">수명이 긴 않지만 응용 프로그램을 작성 하 여 새로 고침 토큰은 특정 시간 동안 지속 되는 hello 가정 하 하지 않아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-221">They are long-lived, but your app should not be written with hello expectation that a refresh token will last for a specific period of time.</span></span> <span data-ttu-id="abd7e-222">다양한 이유로 언제든지 새로 고침 토큰이 무효화될 수 있기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-222">Refresh tokens can be invalidated at any moment for a variety of reasons.</span></span> <span data-ttu-id="abd7e-223">새로 고침 토큰이 유효한 경우 응용 프로그램 tooknow 프로그램에 대 한 방법은 tooattempt tooredeem만 hello 토큰 요청 tooAzure AD 함으로써 것입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-223">hello only way for your app tooknow if a refresh token is valid is tooattempt tooredeem it by making a token request tooAzure AD.</span></span>

<span data-ttu-id="abd7e-224">새 토큰에 대 한 새로 고침 토큰을 교환할 때 (hello 응용 프로그램에 게 부여 되 고 `offline_access` 범위)를 hello 토큰 응답에서 새로운 새로 고침 토큰을 받게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-224">When you redeem a refresh token for a new token (and if your app has been granted hello `offline_access` scope), you will receive a new refresh token in hello token response.</span></span> <span data-ttu-id="abd7e-225">새로 발급 하는 hello 새로 고침 토큰을 저장 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-225">You should save hello newly issued refresh token.</span></span> <span data-ttu-id="abd7e-226">이전에 hello 요청에 사용 하는 hello 새로 고침 토큰을 바꿔야 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-226">It should replace hello refresh token you previously used in hello request.</span></span> <span data-ttu-id="abd7e-227">이렇게 하면 새로 고침 토큰이 최대한 오랫동안 유효한 상태로 유지되도록 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-227">This helps guarantee that your refresh tokens remain valid for as long as possible.</span></span>

## <a name="token-validation"></a><span data-ttu-id="abd7e-228">토큰 유효성 검사</span><span class="sxs-lookup"><span data-stu-id="abd7e-228">Token validation</span></span>
<span data-ttu-id="abd7e-229">토큰 toovalidate 앱 hello 서명과 hello 토큰의 클레임을 확인 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-229">toovalidate a token, your app should check both hello signature and claims of hello token.</span></span>

<span data-ttu-id="abd7e-230">기본 설정의 언어에 따라 JWT의 유효성 검사에 다양한 오픈 소스 라이브러리를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-230">Many open source libraries are available for validating JWTs, depending on your preferred language.</span></span> <span data-ttu-id="abd7e-231">고유한 유효성 검사 논리보다는 이러한 옵션을 탐색하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-231">We recommend that you explore those options rather than implement your own validation logic.</span></span> <span data-ttu-id="abd7e-232">이 가이드의 hello 정보 tooproperly 해당 라이브러리를 사용 하는 방법을 배울 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-232">hello information in this guide can help you learn how tooproperly use those libraries.</span></span>

### <a name="validate-hello-signature"></a><span data-ttu-id="abd7e-233">Hello 서명 유효성 검사</span><span class="sxs-lookup"><span data-stu-id="abd7e-233">Validate hello signature</span></span>
<span data-ttu-id="abd7e-234">Hello로 구분 하는 세 개의 세그먼트를 포함 하는 JWT `.` 문자입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-234">A JWT contains three segments, separated by hello `.` character.</span></span> <span data-ttu-id="abd7e-235">hello 첫 번째 세그먼트는 hello *헤더*, 두 번째는 hello hello *본문*, 세 번째는 hello hello 및 *서명*합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-235">hello first segment is hello *header*, hello second is hello *body*, and hello third is hello *signature*.</span></span> <span data-ttu-id="abd7e-236">앱에서 신뢰할 수 있도록 hello 서명 세그먼트 hello 토큰의 사용된 toovalidate hello 신뢰성을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-236">hello signature segment can be used toovalidate hello authenticity of hello token so that it can be trusted by your app.</span></span>

<span data-ttu-id="abd7e-237">Azure AD B2C 토큰은 RSA 256 등의 업계 표준 비대칭 암호화 알고리즘을 사용하여 서명됩니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-237">Azure AD B2C tokens are signed by using industry-standard asymmetric encryption algorithms, such as RSA 256.</span></span> <span data-ttu-id="abd7e-238">hello 토큰의 hello 헤더 hello 키에 대 한 정보를 포함 하 고 toosign hello 토큰을 사용 하는 암호화 방법.</span><span class="sxs-lookup"><span data-stu-id="abd7e-238">hello header of hello token contains information about hello key and encryption method used toosign hello token:</span></span>

```
{
        "typ": "JWT",
        "alg": "RS256",
        "kid": "GvnPApfWMdLRi8PDmisFn7bprKg"
}
```

<span data-ttu-id="abd7e-239">hello `alg` 클레임 토큰이 사용 되는 toosign hello hello 알고리즘을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-239">hello `alg` claim indicates hello algorithm that was used toosign hello token.</span></span> <span data-ttu-id="abd7e-240">hello `kid` 클레임 hello 특정 공개 키를 사용 하는 toosign hello 토큰을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-240">hello `kid` claim indicates hello particular public key that was used toosign hello token.</span></span>

<span data-ttu-id="abd7e-241">Azure AD는 특정 시점에서 공개-개인 키 쌍의 특정 집합 중 하나를 사용하여 토큰에 서명할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-241">At any given time, Azure AD can sign a token by using any one of a certain set of public-private key pairs.</span></span> <span data-ttu-id="abd7e-242">Azure AD 앱 작성 toohandle 해당 키를 자동으로 변경 해야 하므로 hello 가능한 키 집합을 정기적으로 회전 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-242">Azure AD rotates hello possible set of keys periodically, so your app should be written toohandle those key changes automatically.</span></span> <span data-ttu-id="abd7e-243">Azure AD에서 사용 되는 업데이트 toohello 공개 키에 대 한 적절 한 주파수 toocheck 매 24 시간입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-243">A reasonable frequency toocheck for updates toohello public keys used by Azure AD is every 24 hours.</span></span>

<span data-ttu-id="abd7e-244">Azure AD B2C에는 OpenID Connect 메타데이터 끝점이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-244">Azure AD B2C has an OpenID Connect metadata endpoint.</span></span> <span data-ttu-id="abd7e-245">이렇게 하면 응용 프로그램 런타임 시 Azure AD B2C에 대 한 toofetch 정보.</span><span class="sxs-lookup"><span data-stu-id="abd7e-245">This allows apps toofetch information about Azure AD B2C at runtime.</span></span> <span data-ttu-id="abd7e-246">이 정보에는 끝점, 토큰 콘텐츠 및 토큰 서명 키가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-246">This information includes endpoints, token contents, and token signing keys.</span></span> <span data-ttu-id="abd7e-247">B2C 디렉터리에 각 정책에 대한 JSON 메타데이터 문서가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-247">Your B2C directory contains a JSON metadata document for each policy.</span></span> <span data-ttu-id="abd7e-248">Hello에 대 한 메타 데이터 문서의 예를 들어 hello `b2c_1_sign_in` 에서 정책을 `fabrikamb2c.onmicrosoft.com` 에:</span><span class="sxs-lookup"><span data-stu-id="abd7e-248">For example, hello metadata document for hello `b2c_1_sign_in` policy in  `fabrikamb2c.onmicrosoft.com` is located at:</span></span>

```
https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=b2c_1_sign_in
```

<span data-ttu-id="abd7e-249">`fabrikamb2c.onmicrosoft.com`tooauthenticate hello 사용자를 사용 하는 hello B2C 디렉터리 및 `b2c_1_sign_in` hello 정책 tooacquire hello 토큰을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-249">`fabrikamb2c.onmicrosoft.com` is hello B2C directory used tooauthenticate hello user, and `b2c_1_sign_in` is hello policy used tooacquire hello token.</span></span> <span data-ttu-id="abd7e-250">정책에서 사용 되는 toosign 토큰 (및 여기서 toogo toofetch hello 메타 데이터) toodetermine 두 가지 옵션이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-250">toodetermine which policy was used toosign a token (and where toogo toofetch hello metadata), you have two options.</span></span> <span data-ttu-id="abd7e-251">첫째, hello 정책 이름을 ´ â hello `acr` hello 토큰에서 클레임입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-251">First, hello policy name is included in hello `acr` claim in hello token.</span></span> <span data-ttu-id="abd7e-252">Base64 디코딩 hello 본문으로 hello JWT의 hello 본문 밖으로 클레임을 구문 분석할 수 있습니다 및 JSON 문자열 hello를 역직렬화 하는 동안 해당 결과입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-252">You can parse claims out of hello body of hello JWT by base-64 decoding hello body and deserializing hello JSON string that results.</span></span> <span data-ttu-id="abd7e-253">hello `acr` 클레임 토큰이 사용 되는 tooissue hello hello 정책의 hello 이름이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-253">hello `acr` claim will be hello name of hello policy that was used tooissue hello token.</span></span>  <span data-ttu-id="abd7e-254">다른 옵션은 hello hello 값에서 tooencode hello 정책 `state` hello 요청을 발급 하 고 정책을 사용한 toodetermine 디코딩할 때 매개 변수입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-254">Your other option is tooencode hello policy in hello value of hello `state` parameter when you issue hello request, and then decode it toodetermine which policy was used.</span></span> <span data-ttu-id="abd7e-255">두 방법 중 하나는 유효합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-255">Either method is valid.</span></span>

<span data-ttu-id="abd7e-256">hello 메타 데이터 문서는 몇 가지 유용한 정보를 포함 하는 JSON 개체입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-256">hello metadata document is a JSON object that contains several useful pieces of information.</span></span> <span data-ttu-id="abd7e-257">이러한 hello 끝점 필요한 tooperform OpenID Connect 인증의 hello 위치를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-257">These include hello location of hello endpoints required tooperform OpenID Connect authentication.</span></span> <span data-ttu-id="abd7e-258">또한 포함 `jwks_uri`, hello 집합이 사용 되는 toosign 토큰은 공개 키의 hello 위치를 제공 하는 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-258">They also include `jwks_uri`, which gives hello location of hello set of public keys that are used toosign tokens.</span></span> <span data-ttu-id="abd7e-259">해당 위치는 여기에 제공 된 이지만 최상의 toofetch hello 위치 동적으로 구문 분석 및 hello 메타 데이터 문서를 사용 하 여 `jwks_uri`:</span><span class="sxs-lookup"><span data-stu-id="abd7e-259">That location is provided here, but it is best toofetch hello location dynamically by using hello metadata document and parsing out `jwks_uri`:</span></span>

```
https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in
```

<span data-ttu-id="abd7e-260">이 URL에 있는 hello JSON 문서 hello 공개 키에 있는 모든 정보는 특정 순간에 사용 하 여 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-260">hello JSON document located at this URL contains all hello public key information in use at a particular moment.</span></span> <span data-ttu-id="abd7e-261">앱 hello צ ְ ײ `kid` hello JWT 헤더 tooselect hello 공개 키에 사용 되는 toosign hello JSON 문서에서 특정 토큰 클레임입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-261">Your app can use hello `kid` claim in hello JWT header tooselect hello public key in hello JSON document that is used toosign a particular token.</span></span> <span data-ttu-id="abd7e-262">Hello 올바른 공개 키와 hello 표시 된 알고리즘을 사용 하 여 서명 유효성 검사를 수행한 다음 것입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-262">It can then perform signature validation by using hello correct public key and hello indicated algorithm.</span></span>

<span data-ttu-id="abd7e-263">Tooperform 서명 유효성 검사 방법은이 문서의 hello 범위 외부의 설명입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-263">A description of how tooperform signature validation is outside hello scope of this document.</span></span> <span data-ttu-id="abd7e-264">여러 오픈 소스 라이브러리는이 경우가는 필요한 사용 가능한 toohelp입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-264">Many open source libraries are available toohelp you with this if you need it.</span></span>

### <a name="validate-hello-claims"></a><span data-ttu-id="abd7e-265">Hello 클레임의 유효성 검사</span><span class="sxs-lookup"><span data-stu-id="abd7e-265">Validate hello claims</span></span>
<span data-ttu-id="abd7e-266">응용 프로그램 또는 API ID 토큰을 받으면 hello ID 토큰에서 hello 클레임에 대 한 여러 검사를 수행 해야 것입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-266">When your app or API receives an ID token, it should also perform several checks against hello claims in hello ID token.</span></span> <span data-ttu-id="abd7e-267">포함하지만 다음과 같이 제한되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-267">These include, but are not limited to:</span></span>

* <span data-ttu-id="abd7e-268">hello **audience** 클레임:이 확인이 hello ID 토큰 의도 한 toobe tooyour 응용 프로그램을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-268">hello **audience** claim: This verifies that hello ID token was intended toobe given tooyour app.</span></span>
* <span data-ttu-id="abd7e-269">hello **날짜부터** 및 **만료 시간** 클레임: 이러한 해당 hello ID 토큰이 만료 되지 않았는지 확인 하십시오.</span><span class="sxs-lookup"><span data-stu-id="abd7e-269">hello **not before** and **expiration time** claims: These verify that hello ID token has not expired.</span></span>
* <span data-ttu-id="abd7e-270">hello **발급자** 클레임: hello 토큰이 Azure AD에서 발급 된 tooyour 앱 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-270">hello **issuer** claim: This verifies that hello token was issued tooyour app by Azure AD.</span></span>
* <span data-ttu-id="abd7e-271">hello **nonce**: 토큰 재생 공격 완화 하기 위한 전략입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-271">hello **nonce**: This is a strategy for token replay attack mitigation.</span></span>

<span data-ttu-id="abd7e-272">응용 프로그램에서 수행 해야 하는 유효성 검사 목록은 전체 참조 toohello [OpenID Connect 사양](https://openid.net)합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-272">For a full list of validations your app should perform, refer toohello [OpenID Connect specification](https://openid.net).</span></span> <span data-ttu-id="abd7e-273">이러한 클레임에 대 한 hello 예상 값의 세부 정보는 hello 앞에 포함 된 [섹션 토큰](#types-of-tokens)합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-273">Details of hello expected values for these claims are included in hello preceding [token section](#types-of-tokens).</span></span>  

## <a name="token-lifetimes"></a><span data-ttu-id="abd7e-274">토큰 수명</span><span class="sxs-lookup"><span data-stu-id="abd7e-274">Token lifetimes</span></span>
<span data-ttu-id="abd7e-275">토큰 수명 다음 hello는 toofurther 지식을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-275">hello following token lifetimes are provided toofurther your knowledge.</span></span> <span data-ttu-id="abd7e-276">디버그 앱을 개발할 때 도움이 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-276">They can help you when you develop and debug apps.</span></span> <span data-ttu-id="abd7e-277">앱 되지 않아야 하는 이러한 수명 tooremain 상수 중 tooexpect을 기록 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-277">Note that your apps should not be written tooexpect any of these lifetimes tooremain constant.</span></span> <span data-ttu-id="abd7e-278">언제든지 변경될 수 있고 변경됩니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-278">They can and will change.</span></span> <span data-ttu-id="abd7e-279">Hello에 대 한 자세한 [토큰 수명에 대 한 사용자 지정](active-directory-b2c-token-session-sso.md) Azure AD B2C에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-279">Read more about hello [customization of token lifetimes](active-directory-b2c-token-session-sso.md) in Azure AD B2C.</span></span>

| <span data-ttu-id="abd7e-280">위임</span><span class="sxs-lookup"><span data-stu-id="abd7e-280">Token</span></span> | <span data-ttu-id="abd7e-281">수명</span><span class="sxs-lookup"><span data-stu-id="abd7e-281">Lifetime</span></span> | <span data-ttu-id="abd7e-282">설명</span><span class="sxs-lookup"><span data-stu-id="abd7e-282">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="abd7e-283">ID 토큰</span><span class="sxs-lookup"><span data-stu-id="abd7e-283">ID tokens</span></span> |<span data-ttu-id="abd7e-284">1시간</span><span class="sxs-lookup"><span data-stu-id="abd7e-284">One hour</span></span> |<span data-ttu-id="abd7e-285">ID 토큰은 일반적으로 1시간 동안 유효합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-285">ID tokens are typically valid for an hour.</span></span> <span data-ttu-id="abd7e-286">웹 앱이 수명 toomaintain צ ְ ײ 자체 세션 (권장) 사용자가을 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-286">Your web app can use this lifetime toomaintain its own sessions with users (recommended).</span></span> <span data-ttu-id="abd7e-287">다른 세션 수명을 선택할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-287">You can also choose a different session lifetime.</span></span> <span data-ttu-id="abd7e-288">앱 tooget 새 ID 토큰을 필요한 경우 단순히 필요한 toomake 새 로그인 요청 tooAzure AD 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-288">If your app needs tooget a new ID token, it simply needs toomake a new sign-in request tooAzure AD.</span></span> <span data-ttu-id="abd7e-289">사용자가 Azure AD와 올바른 브라우저 세션을 경우 해당 사용자 아닐 필요한 tooenter 자격 증명 다시.</span><span class="sxs-lookup"><span data-stu-id="abd7e-289">If a user has a valid browser session with Azure AD, that user might not be required tooenter credentials again.</span></span> |
| <span data-ttu-id="abd7e-290">새로 고침 토큰</span><span class="sxs-lookup"><span data-stu-id="abd7e-290">Refresh tokens</span></span> |<span data-ttu-id="abd7e-291">Too14 일 수를</span><span class="sxs-lookup"><span data-stu-id="abd7e-291">Up too14 days</span></span> |<span data-ttu-id="abd7e-292">단일 새로 고침 토큰이 최대 14일 동안 유효합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-292">A single refresh token is valid for a maximum of 14 days.</span></span> <span data-ttu-id="abd7e-293">그러나 새로 고침 토큰은 여러 가지 이유로 언제든지 무효화될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-293">However, a refresh token can become invalid at any time for a number of reasons.</span></span> <span data-ttu-id="abd7e-294">Hello 요청이 실패 될 때까지 또는 응용 프로그램 새 hello 새로 고침 토큰으로 대체 될 때까지 앱 tootry toouse 새로 고침 토큰을 계속 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-294">Your app should continue tootry toouse a refresh token until hello request fails, or until your app replaces hello refresh token with a new one.</span></span> <span data-ttu-id="abd7e-295">또한 새로 고침 토큰 90 일이 경과 hello 사용자 마지막 자격 증명을 입력 하는 경우에 잘못 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-295">A refresh token can also become invalid if 90 days have passed since hello user last entered credentials.</span></span> |
| <span data-ttu-id="abd7e-296">권한 부여 코드</span><span class="sxs-lookup"><span data-stu-id="abd7e-296">Authorization codes</span></span> |<span data-ttu-id="abd7e-297">5분</span><span class="sxs-lookup"><span data-stu-id="abd7e-297">Five minutes</span></span> |<span data-ttu-id="abd7e-298">권한 부여 코드는 의도적으로 수명이 단기입니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-298">Authorization codes are intentionally short-lived.</span></span> <span data-ttu-id="abd7e-299">권한 부여 코드가 수신되면 액세스 토큰, ID 토큰 또는 새로 고침 토큰에 대해 즉시 교환해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="abd7e-299">They should be redeemed immediately for access tokens, ID tokens, or refresh tokens when they are received.</span></span> |

