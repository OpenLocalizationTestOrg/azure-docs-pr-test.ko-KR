---
title: "Azure Redis Cache를 모니터링하는 방법 | Microsoft Docs"
description: "Azure Redis Cache 인스턴스의 상태와 성능을 모니터링하는 방법을 알아봅니다."
services: redis-cache
documentationcenter: 
author: steved0x
manager: douge
editor: 
ms.assetid: 7e70b153-9c87-4290-85af-2228f31df118
ms.service: cache
ms.workload: tbd
ms.tgt_pltfrm: cache-redis
ms.devlang: na
ms.topic: article
ms.date: 07/13/2017
ms.author: sdanie
ms.openlocfilehash: 8996f5ce03e39557d9cc9c3de1ec214f5cd664b4
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/03/2017
---
# <a name="how-to-monitor-azure-redis-cache"></a><span data-ttu-id="7645b-103">Azure Redis Cache를 모니터링하는 방법</span><span class="sxs-lookup"><span data-stu-id="7645b-103">How to monitor Azure Redis Cache</span></span>
<span data-ttu-id="7645b-104">Azure Redis Cache에서는 [Azure Monitor](https://docs.microsoft.com/azure/monitoring-and-diagnostics/)를 사용하여 캐시 인스턴스를 모니터링하기 위한 몇 가지 옵션을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-104">Azure Redis Cache uses [Azure Monitor](https://docs.microsoft.com/azure/monitoring-and-diagnostics/) to provide several options for monitoring your cache instances.</span></span> <span data-ttu-id="7645b-105">메트릭을 보고, 메트릭 차트를 시작 보드에 고정하고, 모니터링 차트의 날짜 및 시간 범위를 사용자 지정하고, 차트에서 메트릭을 추가 및 제거하고, 특정 조건이 충족될 경우의 경고를 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-105">You can view metrics, pin metrics charts to the Startboard, customize the date and time range of monitoring charts, add and remove metrics from the charts, and set alerts when certain conditions are met.</span></span> <span data-ttu-id="7645b-106">이러한 도구는 Azure Redis Cache 인스턴스의 상태를 모니터링할 수 있게 해주며 캐싱 응용 프로그램 관리에 도움이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-106">These tools enable you to monitor the health of your Azure Redis Cache instances and help you manage your caching applications.</span></span>

<span data-ttu-id="7645b-107">Azure Redis Cache 인스턴스의 메트릭은 Redis [INFO](http://redis.io/commands/info) 명령을 사용하여 분당 약 2번 수집되고 30일 동안 자동으로 저장되므로(다른 보존 정책을 구성하려는 경우 [캐시 메트릭 내보내기](#export-cache-metrics) 참조) 메트릭 차트에 표시하고 경고 규칙에 따라 평가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-107">Metrics for Azure Redis Cache instances are collected using the Redis [INFO](http://redis.io/commands/info) command approximately twice per minute and automatically stored for 30 days (see [Export cache metrics](#export-cache-metrics) to configure a different retention policy) so they can be displayed in the metrics charts and evaluated by alert rules.</span></span> <span data-ttu-id="7645b-108">각 캐시 메트릭에 사용되는 다양한 INFO 값에 대한 자세한 내용은 [사용 가능한 메트릭 및 보고 간격](#available-metrics-and-reporting-intervals)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="7645b-108">For more information about the different INFO values used for each cache metric, see [Available metrics and reporting intervals](#available-metrics-and-reporting-intervals).</span></span>

<a name="view-cache-metrics"></a>

<span data-ttu-id="7645b-109">캐시 메트릭을 보려면 [Azure Portal](https://portal.azure.com)에서 캐시 인스턴스를 [찾아보세요](cache-configure.md#configure-redis-cache-settings).</span><span class="sxs-lookup"><span data-stu-id="7645b-109">To view cache metrics, [browse](cache-configure.md#configure-redis-cache-settings) to your cache instance in the [Azure portal](https://portal.azure.com).</span></span>  <span data-ttu-id="7645b-110">Azure Redis Cache는 **개요** 블레이드 및 **Redis 메트릭** 블레이드에 몇 가지 기본 제공 차트를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-110">Azure Redis Cache provides some built-in charts on the **Overview** blade and the **Redis metrics** blade.</span></span> <span data-ttu-id="7645b-111">각 차트는 메트릭을 추가하거나 제거하고 보고 간격을 변경하여 사용자 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-111">Each chart can be customized by adding or removing metrics and changing the reporting interval.</span></span>

![Redis 메트릭](./media/cache-how-to-monitor/redis-cache-redis-metrics-blade.png)

## <a name="view-pre-configured-metrics-charts"></a><span data-ttu-id="7645b-113">미리 구성된 메트릭 차트 보기</span><span class="sxs-lookup"><span data-stu-id="7645b-113">View pre-configured metrics charts</span></span>

<span data-ttu-id="7645b-114">**개요** 블레이드에는 미리 구성된 다음 모니터링 차트가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-114">The **Overview** blade has the following pre-configured monitoring charts.</span></span>

* [<span data-ttu-id="7645b-115">모니터링 차트</span><span class="sxs-lookup"><span data-stu-id="7645b-115">Monitoring charts</span></span>](#monitoring-charts)
* [<span data-ttu-id="7645b-116">사용 현황 차트</span><span class="sxs-lookup"><span data-stu-id="7645b-116">Usage charts</span></span>](#usage-charts)

### <a name="monitoring-charts"></a><span data-ttu-id="7645b-117">모니터링 차트</span><span class="sxs-lookup"><span data-stu-id="7645b-117">Monitoring charts</span></span>
<span data-ttu-id="7645b-118">**개요** 블레이드의 **모니터링** 섹션에는 **적중 및 누락**, **가져오기 및 설정** 및 **연결** 및 **총 명령** 차트가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-118">The **Monitoring** section in the **Overview** blade has **Hits and Misses**, **Gets and Sets**, **Connections**, and **Total Commands** charts.</span></span>

![모니터링 차트](./media/cache-how-to-monitor/redis-cache-monitoring-part.png)

### <a name="usage-charts"></a><span data-ttu-id="7645b-120">사용 현황 차트</span><span class="sxs-lookup"><span data-stu-id="7645b-120">Usage charts</span></span>
<span data-ttu-id="7645b-121">**개요** 블레이드의 **사용 현황** 섹션에는 **Redis 서버 부하**, **메모리 사용량**, **네트워크 대역폭** 및 **CPU 사용량** 차트가 있으며 캐시 인스턴스의 **가격 책정 계층**도 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-121">The **Usage** section in the **Overview** blade has **Redis Server Load**, **Memory Usage**, **Network Bandwith**, and **CPU Usage** charts, and also displays the **Pricing tier** for the cache instance.</span></span>

![사용 현황 차트](./media/cache-how-to-monitor/redis-cache-usage-part.png)

<span data-ttu-id="7645b-123">**가격 책정 계층** 은 캐시 가격 책정 계층을 표시하며 다른 가격 책정 계층으로 캐시 [크기를 조정](cache-how-to-scale.md) 하는 데 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-123">The **Pricing tier** displays the cache pricing tier, and can be used to [scale](cache-how-to-scale.md) the cache to a different pricing tier.</span></span>

## <a name="view-metrics-with-azure-monitor"></a><span data-ttu-id="7645b-124">Azure Monitor의 메트릭 보기</span><span class="sxs-lookup"><span data-stu-id="7645b-124">View metrics with Azure monitor</span></span>
<span data-ttu-id="7645b-125">Azure Monitor를 사용하여 Redis 메트릭을 보고 사용자 지정 차트를 만들려면 **리소스 메뉴**에서 **메트릭**을 클릭하고 원하는 메트릭, 보고 간격, 차트 종류 등을 사용하여 차트를 사용자 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-125">To view Redis metrics and create custom charts using Azure Monitor, click **Metrics** from the **Resource menu**, and customize your chart using the desired metrics, reporting interval, chart type, and more.</span></span>

![Redis 메트릭](./media/cache-how-to-monitor/redis-cache-monitor.png)

<span data-ttu-id="7645b-127">Azure Monitor에서 메트릭을 사용하는 방법에 대한 자세한 내용은 [Microsoft Azure의 메트릭 개요](../monitoring-and-diagnostics/monitoring-overview-metrics.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="7645b-127">For more information on working with metrics using Azure Monitor, see [Overview of metrics in Microsoft Azure](../monitoring-and-diagnostics/monitoring-overview-metrics.md).</span></span>

<a name="how-to-view-metrics-and-customize-chart"></a>
<a name="enable-cache-diagnostics"></a>
## <a name="export-cache-metrics"></a><span data-ttu-id="7645b-128">캐시 메트릭 내보내기</span><span class="sxs-lookup"><span data-stu-id="7645b-128">Export cache metrics</span></span>
<span data-ttu-id="7645b-129">기본적으로 Azure Monitor의 캐시 메트릭은 [30일 동안 저장](../monitoring-and-diagnostics/monitoring-overview-azure-monitor.md#store-and-archive)된 후 삭제됩니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-129">By default, cache metrics in Azure Monitor are [stored for 30 days](../monitoring-and-diagnostics/monitoring-overview-azure-monitor.md#store-and-archive) and then deleted.</span></span> <span data-ttu-id="7645b-130">캐시 메트릭을 30일보다 더 오래 유지하려면 [저장소 계정을 지정](../monitoring-and-diagnostics/monitoring-archive-diagnostic-logs.md)하고 캐시 메트릭에 대한 **보존(일)** 정책을 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-130">To persist your cache metrics for longer than 30 days, you can [designate a storage account](../monitoring-and-diagnostics/monitoring-archive-diagnostic-logs.md) and specify a **Retention (days)** policy for your cache metrics.</span></span> 

<span data-ttu-id="7645b-131">캐시 메트릭에 대한 저장소 계정을 구성하려면</span><span class="sxs-lookup"><span data-stu-id="7645b-131">To configure a storage account for your cache metrics:</span></span>

1. <span data-ttu-id="7645b-132">**Redis Cache** 블레이드의 **리소스 메뉴**에서 **진단**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-132">Click **Diagnostics** from the **Resource menu** in the **Redis Cache** blade.</span></span>
2. <span data-ttu-id="7645b-133">**설정**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-133">Click **On**.</span></span>
3. <span data-ttu-id="7645b-134">**저장소 계정에 보관**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-134">Check **Archive to a storage account**.</span></span>
4. <span data-ttu-id="7645b-135">캐시 메트릭을 저장할 저장소 계정을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-135">Select the storage account in which to store the cache metrics.</span></span>
5. <span data-ttu-id="7645b-136">**1분** 확인란을 선택하고 **보존(일)** 정책을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-136">Check the **1 minute** checkbox and specify a **Retention (days)** policy.</span></span> <span data-ttu-id="7645b-137">보존 정책 적용 및 데이터 무기한 보존을 원하지 않는 경우 **보존(일)**을 **0**으로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-137">If you do not want to apply any retention policy and retain data forever, set **Retention (days)** to **0**.</span></span>
6. <span data-ttu-id="7645b-138">**Save**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-138">Click **Save**.</span></span>

![Redis 진단](./media/cache-how-to-monitor/redis-cache-diagnostics.png)

>[!NOTE]
><span data-ttu-id="7645b-140">캐시 메트릭을 저장소에 보관하는 것 외에 [이벤트 허브에 파일을 스트리밍하거나 Log Analytics로 전송](../monitoring-and-diagnostics/monitoring-overview-metrics.md#export-metrics)할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-140">In addition to archiving your cache metrics to storage, you can also [stream them to an Event hub or send them to Log Analytics](../monitoring-and-diagnostics/monitoring-overview-metrics.md#export-metrics).</span></span>
>
>

<span data-ttu-id="7645b-141">메트릭에 액세스하려면 이 문서 앞부분에서 설명한 대로 Azure Portal에서 보고 [Azure Monitor 메트릭 REST API](../monitoring-and-diagnostics/monitoring-overview-metrics.md#access-metrics-via-the-rest-api)를 사용하여 액세스할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-141">To access your metrics, you can view them in the Azure portal as previously described in this article, and you can also access them using the [Azure Monitor Metrics REST API](../monitoring-and-diagnostics/monitoring-overview-metrics.md#access-metrics-via-the-rest-api).</span></span>

> [!NOTE]
> <span data-ttu-id="7645b-142">저장소 계정을 변경하는 경우 이전에 구성된 저장소 계정의 데이터는 계속 다운로드할 수는 있으나 Azure 포털에 표시되지는 않습니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-142">If you change storage accounts, the data in the previously configured storage account remains available for download, but it is not displayed in the Azure portal.</span></span>  
> 
> 

## <a name="available-metrics-and-reporting-intervals"></a><span data-ttu-id="7645b-143">사용 가능한 메트릭 및 보고 간격</span><span class="sxs-lookup"><span data-stu-id="7645b-143">Available metrics and reporting intervals</span></span>
<span data-ttu-id="7645b-144">캐시 메트릭은 **지난 시간**, **오늘**, **지난 주** 및 **사용자 지정**을 포함한 몇 가지 보고 간격을 사용하여 보고됩니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-144">Cache metrics are reported using several reporting intervals, including **Past hour**, **Today**, **Past week**, and **Custom**.</span></span> <span data-ttu-id="7645b-145">각 메트릭 차트의 **메트릭** 블레이드에는 차트의 각 메트릭에 대한 평균값, 최소값 및 최대값이 표시되고 일부 메트릭의 경우 보고 간격에 대한 총계가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-145">The **Metric** blade for each metrics chart displays the average, minimum, and maximum values for each metric in the chart, and some metrics display a total for the reporting interval.</span></span> 

<span data-ttu-id="7645b-146">각 메트릭은 두 가지 버전을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-146">Each metric includes two versions.</span></span> <span data-ttu-id="7645b-147">하나의 메트릭은 전체 캐시 및 [클러스터링](cache-how-to-premium-clustering.md)을 사용하는 캐시에 대한 성능을 측정합니다. 이름에 `(Shard 0-9)`를 포함하는 메트릭의 차기 버전은 캐시에서 단일 분할에 대한 성능을 측정합니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-147">One metric measures performance for the entire cache, and for caches that use [clustering](cache-how-to-premium-clustering.md), a second version of the metric that includes `(Shard 0-9)` in the name measures performance for a single shard in a cache.</span></span> <span data-ttu-id="7645b-148">예를 들어 캐시에 4개의 분할이 있는 경우 `Cache Hits`은 전체 캐시에 대한 총 적중 수이고 `Cache Hits (Shard 3)`는 캐시의 해당 분할에 대한 적중입니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-148">For example if a cache has 4 shards, `Cache Hits` is the total amount of hits for the entire cache, and `Cache Hits (Shard 3)` is just the hits for that shard of the cache.</span></span>

> [!NOTE]
> <span data-ttu-id="7645b-149">활성 클라이언트 응용 프로그램이 연결되어 있지 않아서 캐시가 유휴 상태인 경우에도 연결된 클라이언트, 메모리 사용, 수행 중인 작업 등 일부 캐시 활동이 나타날 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-149">Even when the cache is idle with no connected active client applications, you may see some cache activity, such as connected clients, memory usage, and operations being performed.</span></span> <span data-ttu-id="7645b-150">Azure Redis Cache 인스턴스 작업 중에는 이러한 활동이 일반적으로 나타납니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-150">This activity is normal during the operation of an Azure Redis Cache instance.</span></span>
> 
> 

| <span data-ttu-id="7645b-151">메트릭</span><span class="sxs-lookup"><span data-stu-id="7645b-151">Metric</span></span> | <span data-ttu-id="7645b-152">설명</span><span class="sxs-lookup"><span data-stu-id="7645b-152">Description</span></span> |
| --- | --- |
| <span data-ttu-id="7645b-153">캐시 적중</span><span class="sxs-lookup"><span data-stu-id="7645b-153">Cache Hits</span></span> |<span data-ttu-id="7645b-154">지정한 보고 간격 동안 성공한 키 조회 수입니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-154">The number of successful key lookups during the specified reporting interval.</span></span> <span data-ttu-id="7645b-155">이 값은 Redis [INFO](http://redis.io/commands/info) 명령에서 `keyspace_hits`에 매핑됩니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-155">This maps to `keyspace_hits` from the Redis [INFO](http://redis.io/commands/info) command.</span></span> |
| <span data-ttu-id="7645b-156">캐시 누락</span><span class="sxs-lookup"><span data-stu-id="7645b-156">Cache Misses</span></span> |<span data-ttu-id="7645b-157">지정한 보고 간격 동안 실패한 키 조회 수입니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-157">The number of failed key lookups during the specified reporting interval.</span></span> <span data-ttu-id="7645b-158">이 값은 Redis INFO 명령에서 `keyspace_misses` 에 매핑됩니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-158">This maps to `keyspace_misses` from the Redis INFO command.</span></span> <span data-ttu-id="7645b-159">캐시 누락이 반드시 캐시에 문제가 있음을 의미하는 것은 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-159">Cache misses do not necessarily mean there is an issue with the cache.</span></span> <span data-ttu-id="7645b-160">예를 들어 캐시 배제 프로그래밍 패턴을 사용하는 경우 응용 프로그램은 먼저 캐시에서 항목을 찾습니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-160">For example, when using the cache-aside programming pattern, an application looks first in the cache for an item.</span></span> <span data-ttu-id="7645b-161">항목이 캐시에 없으면(캐시 누락) 데이터베이스에서 항목을 검색하고 다음 검색을 위해 캐시에 항목을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-161">If the item is not there (cache miss), the item is retrieved from the database and added to the cache for next time.</span></span> <span data-ttu-id="7645b-162">캐시 누락은 캐시 배제 프로그래밍 패턴의 일반적인 동작입니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-162">Cache misses are normal behavior for the cache-aside programming pattern.</span></span> <span data-ttu-id="7645b-163">캐시 누락 수가 예상보다 높은 경우 캐시를 채우고 캐시에서 읽는 응용 프로그램 논리를 검사합니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-163">If the number of cache misses is higher than expected, examine the application logic that populates and reads from the cache.</span></span> <span data-ttu-id="7645b-164">메모리 압력 때문에 캐시에서 항목이 제거되고 있는 경우 캐시 누락이 있을 수 있으며 메모리 압력을 모니터링하는 데 더 유용한 메트릭은 `Used Memory` 또는 `Evicted Keys`입니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-164">If items are being evicted from the cache due to memory pressure then there may be some cache misses, but a better metric to monitor for memory pressure would be `Used Memory` or `Evicted Keys`.</span></span> |
| <span data-ttu-id="7645b-165">연결된 클라이언트</span><span class="sxs-lookup"><span data-stu-id="7645b-165">Connected Clients</span></span> |<span data-ttu-id="7645b-166">지정한 보고 간격 동안 캐시에 설정된 클라이언트 연결 수입니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-166">The number of client connections to the cache during the specified reporting interval.</span></span> <span data-ttu-id="7645b-167">이 값은 Redis INFO 명령에서 `connected_clients` 에 매핑됩니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-167">This maps to `connected_clients` from the Redis INFO command.</span></span> <span data-ttu-id="7645b-168">[연결 제한](cache-configure.md#default-redis-server-configuration) 에 도달하면 캐시에 대한 후속 연결 시도가 실패합니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-168">Once the [connection limit](cache-configure.md#default-redis-server-configuration) is reached subsequent connection attempts to the cache will fail.</span></span> <span data-ttu-id="7645b-169">활성 클라이언트 응용 프로그램이 없는 경우에도 내부 프로세스 및 연결 때문에 연결된 클라이언트 인스턴스가 여전히 몇 개 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-169">Note that even if there are no active client application, there may still be a few instances of connected clients due to internal processes and connections.</span></span> |
| <span data-ttu-id="7645b-170">제거된 키</span><span class="sxs-lookup"><span data-stu-id="7645b-170">Evicted Keys</span></span> |<span data-ttu-id="7645b-171">지정한 보고 간격 동안 `maxmemory` 제한 때문에 캐시에서 제거된 항목의 수입니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-171">The number of items evicted from the cache during the specified reporting interval due to the `maxmemory` limit.</span></span> <span data-ttu-id="7645b-172">이 값은 Redis INFO 명령에서 `evicted_keys` 에 매핑됩니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-172">This maps to `evicted_keys` from the Redis INFO command.</span></span> |
| <span data-ttu-id="7645b-173">만료된 키</span><span class="sxs-lookup"><span data-stu-id="7645b-173">Expired Keys</span></span> |<span data-ttu-id="7645b-174">지정한 보고 간격 동안 캐시에서 만료된 항목의 수입니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-174">The number of items expired from the cache during the specified reporting interval.</span></span> <span data-ttu-id="7645b-175">이 값은 Redis INFO 명령에서 `expired_keys` 에 매핑됩니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-175">This value maps to `expired_keys` from the Redis INFO command.</span></span> |
| <span data-ttu-id="7645b-176">전체 키</span><span class="sxs-lookup"><span data-stu-id="7645b-176">Total Keys</span></span>  | <span data-ttu-id="7645b-177">이전 보고 기간 동안 캐시에 있는 최대 키 수입니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-177">The maximum number of keys in the cache during the past reporting time period.</span></span> <span data-ttu-id="7645b-178">이 값은 Redis INFO 명령에서 `keyspace` 에 매핑됩니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-178">This maps to `keyspace` from the Redis INFO command.</span></span> <span data-ttu-id="7645b-179">기본 메트릭 시스템의 제한으로 인해 클러스터링이 사용되도록 설정된 캐시에서 전체 키는 보고 간격 동안 최대 키 수를 가진 분할된 데이터베이스의 최대 키 수를 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-179">Due to a limitation of the underlying metrics system, for caches with clustering enabled, Total Keys returns the maximum number of keys of the shard that had the maximum number of keys during the reporting interval.</span></span>  |
| <span data-ttu-id="7645b-180">가져오기</span><span class="sxs-lookup"><span data-stu-id="7645b-180">Gets</span></span> |<span data-ttu-id="7645b-181">지정한 보고 간격 동안 캐시에서 수행된 가져오기 작업의 수입니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-181">The number of get operations from the cache during the specified reporting interval.</span></span> <span data-ttu-id="7645b-182">이 값은 모든 Redis INFO 명령 `cmdstat_get`, `cmdstat_hget`, `cmdstat_hgetall`, `cmdstat_hmget`, `cmdstat_mget`, `cmdstat_getbit` 및 `cmdstat_getrange` 값의 합계이며 보고 간격 동안의 캐시 적중 및 누락 합계에 해당합니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-182">This value is the sum of the following values from the Redis INFO all command: `cmdstat_get`, `cmdstat_hget`, `cmdstat_hgetall`, `cmdstat_hmget`, `cmdstat_mget`, `cmdstat_getbit`, and `cmdstat_getrange`, and is equivalent to the sum of cache hits and misses during the reporting interval.</span></span> |
| <span data-ttu-id="7645b-183">Redis 서버 부하</span><span class="sxs-lookup"><span data-stu-id="7645b-183">Redis Server Load</span></span> |<span data-ttu-id="7645b-184">Redis 서버가 작업을 처리하는 중이며 유휴 상태로 메시지를 대기하고 있지 않은 주기 비율입니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-184">The percentage of cycles in which the Redis server is busy processing and not waiting idle for messages.</span></span> <span data-ttu-id="7645b-185">이 카운터가 100이 되면 Redis 서버가 성능 한계에 도달하여 CPU가 더 빨리 작업을 처리할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-185">If this counter reaches 100 it means the Redis server has hit a performance ceiling and the CPU can't process work any faster.</span></span> <span data-ttu-id="7645b-186">Redis 서버 부하가 높으면 클라이언트에 시간 제한 예외가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-186">If you are seeing high Redis Server Load then you will see timeout exceptions in the client.</span></span> <span data-ttu-id="7645b-187">이 경우 강화나 여러 캐시로의 데이터 분할을 고려해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-187">In this case you should consider scaling up or partitioning your data into multiple caches.</span></span> |
| <span data-ttu-id="7645b-188">설정</span><span class="sxs-lookup"><span data-stu-id="7645b-188">Sets</span></span> |<span data-ttu-id="7645b-189">지정한 보고 간격 동안 캐시에 수행된 설정 작업의 수입니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-189">The number of set operations to the cache during the specified reporting interval.</span></span> <span data-ttu-id="7645b-190">이 값은 모든 Redis INFO 명령 `cmdstat_set`, `cmdstat_hset`, `cmdstat_hmset`, `cmdstat_hsetnx`, `cmdstat_lset`, `cmdstat_mset`, `cmdstat_msetnx`, `cmdstat_setbit`, `cmdstat_setex`, `cmdstat_setrange` 및 `cmdstat_setnx` 값의 합계입니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-190">This value is the sum of the following values from the Redis INFO all command: `cmdstat_set`, `cmdstat_hset`, `cmdstat_hmset`, `cmdstat_hsetnx`, `cmdstat_lset`, `cmdstat_mset`, `cmdstat_msetnx`, `cmdstat_setbit`, `cmdstat_setex`, `cmdstat_setrange`, and `cmdstat_setnx`.</span></span> |
| <span data-ttu-id="7645b-191">총 작업</span><span class="sxs-lookup"><span data-stu-id="7645b-191">Total Operations</span></span> |<span data-ttu-id="7645b-192">지정한 보고 간격 동안 캐시 서버에서 처리한 총 명령 수입니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-192">The total number of commands processed by the cache server during the specified reporting interval.</span></span> <span data-ttu-id="7645b-193">이 값은 Redis INFO 명령에서 `total_commands_processed` 에 매핑됩니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-193">This value maps to `total_commands_processed` from the Redis INFO command.</span></span> <span data-ttu-id="7645b-194">Azure Redis Cache가 pub/sub에만 사용되는 경우 `Cache Hits`, `Cache Misses`, `Gets` 또는 `Sets`에 대한 메트릭은 없으나 pub/sub 작업의 캐시 사용량을 반영하는 `Total Operations` 메트릭은 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-194">Note that when Azure Redis Cache is used purely for pub/sub there will be no metrics for `Cache Hits`, `Cache Misses`, `Gets`, or `Sets`, but there will be `Total Operations` metrics that reflect the cache usage for pub/sub operations.</span></span> |
| <span data-ttu-id="7645b-195">사용된 메모리</span><span class="sxs-lookup"><span data-stu-id="7645b-195">Used Memory</span></span> |<span data-ttu-id="7645b-196">지정한 보고 간격 동안 캐시의 키/값 쌍에 사용된 캐시 메모리의 양(MB)입니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-196">The amount of cache memory used for key/value pairs in the cache in MB during the specified reporting interval.</span></span> <span data-ttu-id="7645b-197">이 값은 Redis INFO 명령에서 `used_memory` 에 매핑됩니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-197">This value maps to `used_memory` from the Redis INFO command.</span></span> <span data-ttu-id="7645b-198">메타데이터 또는 조각화를 포함하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-198">This does not include metadata or fragmentation.</span></span> |
| <span data-ttu-id="7645b-199">사용된 메모리 RSS</span><span class="sxs-lookup"><span data-stu-id="7645b-199">Used Memory RSS</span></span> |<span data-ttu-id="7645b-200">조각화 및 메타데이터를 포함하여 지정한 보고 간격 동안 사용된 캐시 메모리의 양(MB)입니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-200">The amount of cache memory used in MB during the specified reporting interval, including fragmentation and metadata.</span></span> <span data-ttu-id="7645b-201">이 값은 Redis INFO 명령에서 `used_memory_rss` 에 매핑됩니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-201">This value maps to `used_memory_rss` from the Redis INFO command.</span></span> |
| <span data-ttu-id="7645b-202">CPU</span><span class="sxs-lookup"><span data-stu-id="7645b-202">CPU</span></span> |<span data-ttu-id="7645b-203">지정한 보고 간격 동안의 Azure Redis Cache 서버 CPU 사용률(%)입니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-203">The CPU utilization of the Azure Redis Cache server as a percentage during the specified reporting interval.</span></span> <span data-ttu-id="7645b-204">이 값은 운영 체제 `\Processor(_Total)\% Processor Time` 성능 카운터에 매핑됩니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-204">This value maps to the operating system `\Processor(_Total)\% Processor Time` performance counter.</span></span> |
| <span data-ttu-id="7645b-205">캐시 읽기</span><span class="sxs-lookup"><span data-stu-id="7645b-205">Cache Read</span></span> |<span data-ttu-id="7645b-206">지정한 보고 간격 동안 캐시에서 읽은 초당 메가바이트(MB/s) 단위의 데이터 양입니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-206">The amount of data read from the cache in Megabytes per second (MB/s) during the specified reporting interval.</span></span> <span data-ttu-id="7645b-207">이 값은 캐시를 호스트하는 가상 컴퓨터를 지원하는 네트워크 인터페이스 카드에서 가져오며 Redis에 특정한 값이 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-207">This value is derived from the network interface cards that support the virtual machine that hosts the cache and is not Redis specific.</span></span> <span data-ttu-id="7645b-208">**이 값은 캐시에서 사용되는 네트워크 대역폭에 해당합니다. 서버 쪽 네트워크 대역폭 제한에 대한 경고를 설정하려면 `Cache Read` 카운터를 사용하여 경고를 생성합니다. 다양한 캐시 가격 책정 계층 및 크기에 대해 관찰된 대역폭 제한은 [이 테이블](cache-faq.md#cache-performance)을 참조하세요.**</span><span class="sxs-lookup"><span data-stu-id="7645b-208">**This value corresponds to the network bandwidth used by this cache. If you want to set up alerts for server side network bandwidth limits, then create it using this `Cache Read` counter. See [this table](cache-faq.md#cache-performance) for the observed bandwidth limits for various cache pricing tiers and sizes.**</span></span> |
| <span data-ttu-id="7645b-209">캐시 쓰기</span><span class="sxs-lookup"><span data-stu-id="7645b-209">Cache Write</span></span> |<span data-ttu-id="7645b-210">지정한 보고 간격 동안 캐시에 쓰는 초당 메가바이트(MB/s) 단위의 데이터 양입니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-210">The amount of data written to the cache in Megabytes per second (MB/s) during the specified reporting interval.</span></span> <span data-ttu-id="7645b-211">이 값은 캐시를 호스트하는 가상 컴퓨터를 지원하는 네트워크 인터페이스 카드에서 가져오며 Redis에 특정한 값이 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-211">This value is derived from the network interface cards that support the virtual machine that hosts the cache and is not Redis specific.</span></span> <span data-ttu-id="7645b-212">이 값은 클라이언트에서 캐시로 전송되는 데이터의 네트워크 대역폭에 해당됩니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-212">This value corresponds to the network bandwidth of data sent to the cache from the client.</span></span> |

<a name="operations-and-alerts"></a>
## <a name="alerts"></a><span data-ttu-id="7645b-213">경고</span><span class="sxs-lookup"><span data-stu-id="7645b-213">Alerts</span></span>
<span data-ttu-id="7645b-214">메트릭 및 활동 로그를 기반으로 경고를 수신하도록 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-214">You can configure to receive alerts based on metrics and activity logs.</span></span> <span data-ttu-id="7645b-215">Azure Monitor를 사용하여 트리거되면 다음을 수행하도록 경고를 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-215">Azure Monitor allows you to configure an alert to do the following when it triggers:</span></span>

* <span data-ttu-id="7645b-216">전자 메일 알림 보내기</span><span class="sxs-lookup"><span data-stu-id="7645b-216">Send an email notification</span></span>
* <span data-ttu-id="7645b-217">웹후크 호출</span><span class="sxs-lookup"><span data-stu-id="7645b-217">Call a webhook</span></span>
* <span data-ttu-id="7645b-218">Azure 논리 앱 호출</span><span class="sxs-lookup"><span data-stu-id="7645b-218">Invoke an Azure Logic App</span></span>

<span data-ttu-id="7645b-219">캐시에 대한 경고 규칙을 구성하려면 **리소스 메뉴**에서 **경고 규칙**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-219">To configure Alert rules for your cache, click **Alert rules** from the **Resource menu**.</span></span>

![모니터링](./media/cache-how-to-monitor/redis-cache-monitoring.png)

<span data-ttu-id="7645b-221">경고 구성 및 사용에 대한 자세한 내용은 [경고 개요](../monitoring-and-diagnostics/insights-alerts-portal.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="7645b-221">For more information about configuring and using Alerts, see [Overview of Alerts](../monitoring-and-diagnostics/insights-alerts-portal.md).</span></span>

## <a name="activity-logs"></a><span data-ttu-id="7645b-222">활동 로그</span><span class="sxs-lookup"><span data-stu-id="7645b-222">Activity Logs</span></span>
<span data-ttu-id="7645b-223">활동 로그는 Azure Redis Cache 인스턴스에서 수행된 작업에 대한 정보를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-223">Activity logs provide insight into the operations that were performed on your Azure Redis Cache instances.</span></span> <span data-ttu-id="7645b-224">이전에는 이러한 로그를 "감사 로그" 또는 "작업 로그"라고도 했습니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-224">It was previously known as "audit logs" or "operational logs".</span></span> <span data-ttu-id="7645b-225">활동 로그를 통해 Azure Redis Cache 인스턴스에 대한 모든 쓰기 작업(PUT, POST, DELETE)에서 "무엇을, 누가, 언제"를 판단할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-225">Using activity logs, you can determine the "what, who, and when" for any write operations (PUT, POST, DELETE) taken on your Azure Redis Cache instances.</span></span> 

> [!NOTE]
> <span data-ttu-id="7645b-226">활동 로그에는 읽기(GET) 작업은 포함되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-226">Activity logs do not include read (GET) operations.</span></span>
>
>

<span data-ttu-id="7645b-227">캐시에 대한 활동 로그를 보려면 **리소스 메뉴**에서 **활동 로그**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="7645b-227">To view activity logs for your cache, click **Activity logs** from the **Resource menu**.</span></span>

<span data-ttu-id="7645b-228">활동 로그에 대한 자세한 내용은 [Azure 활동 로그 개요](../monitoring-and-diagnostics/monitoring-overview-activity-logs.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="7645b-228">For more information about Activity logs, see [Overview of the Azure Activity Log](../monitoring-and-diagnostics/monitoring-overview-activity-logs.md).</span></span>











