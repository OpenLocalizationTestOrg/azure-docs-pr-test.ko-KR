---
title: "Redis로 Managed Cache Service 응용 프로그램 마이그레이션 - Azure | Microsoft Docs"
description: "Managed Cache Service 및 In-Role Cache 응용 프로그램을 Azure Redis Cache로 마이그레이션하는 방법에 대해 알아봅니다."
services: redis-cache
documentationcenter: na
author: steved0x
manager: douge
editor: tysonn
ms.assetid: 041f077b-8c8e-4d7c-a3fc-89d334ed70d6
ms.service: cache
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: cache-redis
ms.workload: tbd
ms.date: 05/30/2017
ms.author: sdanie
ms.openlocfilehash: 0fbfb945c66926794721f2ce8cc183dac51ecb27
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/11/2017
---
# <a name="migrate-from-managed-cache-service-to-azure-redis-cache"></a><span data-ttu-id="f63e5-103">관리된 캐시 서비스에서 Azure Redis Cache로 마이그레이션</span><span class="sxs-lookup"><span data-stu-id="f63e5-103">Migrate from Managed Cache Service to Azure Redis Cache</span></span>
<span data-ttu-id="f63e5-104">Azure 관리된 캐시 서비스를 Azure Redis Cache에 사용하는 응용 프로그램을 마이그레이션하는 작업은 캐싱 응용 프로그램에서 사용하는 관리된 캐시 서비스 기능에 따라 응용 프로그램을 최소한으로 변경하여 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-104">Migrating your applications that use Azure Managed Cache Service to Azure Redis Cache can be accomplished with minimal changes to your application, depending on the Managed Cache Service features used by your caching application.</span></span> <span data-ttu-id="f63e5-105">API가 정확히 동일하지 않고 유사하며 캐시에 액세스하는 데 관리된 캐시 서비스를 사용하는 기존 코드의 대부분은 변경을 최소화하면서 다시 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-105">While the APIs are not exactly the same they are similar, and much of your existing code that uses Managed Cache Service to access a cache can be reused with minimal changes.</span></span> <span data-ttu-id="f63e5-106">이 항목에서는 필요한 구성을 만들고 응용 프로그램을 변경하여 관리된 캐시 서비스 응용 프로그램이 Azure Redis Cache를 사용하도록 마이그레이션하는 방법을 보여 줍니다. 그리고 Azure Redis Cache의 기능 일부가 관리된 캐시 서비스 캐시의 기능을 구현하는 데 사용될 수 있는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-106">This topic shows how to make the necessary configuration and application changes to migrate your Managed Cache Service applications to use Azure Redis Cache, and shows how some of the features of Azure Redis Cache can be used to implement the functionality of a Managed Cache Service cache.</span></span>

>[!NOTE]
><span data-ttu-id="f63e5-107">Managed Cache Service와 In-Role Cache는 2016년 11월 30일에 [사용 중지](https://azure.microsoft.com/blog/azure-managed-cache-and-in-role-cache-services-to-be-retired-on-11-30-2016/)되었습니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-107">Managed Cache Service and In-Role Cache were [retired](https://azure.microsoft.com/blog/azure-managed-cache-and-in-role-cache-services-to-be-retired-on-11-30-2016/) November 30, 2016.</span></span> <span data-ttu-id="f63e5-108">Azure Redis Cache로 마이그레이션하려는 In-Role Cache 배포가 있는 경우 이 문서의 단계를 따를 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-108">If you have any In-Role Cache deployments that you want to migrate to Azure Redis Cache, you can follow the steps in this article.</span></span>

## <a name="migration-steps"></a><span data-ttu-id="f63e5-109">마이그레이션 단계</span><span class="sxs-lookup"><span data-stu-id="f63e5-109">Migration Steps</span></span>
<span data-ttu-id="f63e5-110">다음 단계에서는 관리된 캐시 서비스 응용 프로그램을 마이그레이션하여 Azure Redis Cache를 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-110">The following steps are required to migrate a Managed Cache Service application to use Azure Redis Cache.</span></span>

* <span data-ttu-id="f63e5-111">관리된 캐시 서비스 기능에서 Azure Redis Cache로 매핑</span><span class="sxs-lookup"><span data-stu-id="f63e5-111">Map Managed Cache Service features to Azure Redis Cache</span></span>
* <span data-ttu-id="f63e5-112">캐시 제품 선택</span><span class="sxs-lookup"><span data-stu-id="f63e5-112">Choose a Cache Offering</span></span>
* <span data-ttu-id="f63e5-113">캐시 만들기</span><span class="sxs-lookup"><span data-stu-id="f63e5-113">Create a Cache</span></span>
* <span data-ttu-id="f63e5-114">캐시 클라이언트 구성</span><span class="sxs-lookup"><span data-stu-id="f63e5-114">Configure the Cache Clients</span></span>
  * <span data-ttu-id="f63e5-115">관리된 캐시 서비스 구성 제거</span><span class="sxs-lookup"><span data-stu-id="f63e5-115">Remove the Managed Cache Service Configuration</span></span>
  * <span data-ttu-id="f63e5-116">StackExchange.Redis NuGet 패키지를 사용하여 캐시 클라이언트 구성</span><span class="sxs-lookup"><span data-stu-id="f63e5-116">Configure a cache client using the StackExchange.Redis NuGet Package</span></span>
* <span data-ttu-id="f63e5-117">관리된 캐시 서비스 코드 마이그레이션</span><span class="sxs-lookup"><span data-stu-id="f63e5-117">Migrate Managed Cache Service code</span></span>
  * <span data-ttu-id="f63e5-118">ConnectionMultiplexer 클래스를 사용하여 캐시에 연결</span><span class="sxs-lookup"><span data-stu-id="f63e5-118">Connect to the cache using the ConnectionMultiplexer class</span></span>
  * <span data-ttu-id="f63e5-119">캐시에 기본 데이터 형식 액세스</span><span class="sxs-lookup"><span data-stu-id="f63e5-119">Access primitive data types in the cache</span></span>
  * <span data-ttu-id="f63e5-120">캐시의 .NET 개체 사용</span><span class="sxs-lookup"><span data-stu-id="f63e5-120">Work with .NET objects in the cache</span></span>
* <span data-ttu-id="f63e5-121">Azure Redis Cache로 ASP.NET 세션 상태 및 출력 캐싱 마이그레이션</span><span class="sxs-lookup"><span data-stu-id="f63e5-121">Migrate ASP.NET Session State and Output caching to Azure Redis Cache</span></span> 

## <a name="map-managed-cache-service-features-to-azure-redis-cache"></a><span data-ttu-id="f63e5-122">관리된 캐시 서비스 기능에서 Azure Redis Cache로 매핑</span><span class="sxs-lookup"><span data-stu-id="f63e5-122">Map Managed Cache Service features to Azure Redis Cache</span></span>
<span data-ttu-id="f63e5-123">Azure 관리된 캐시 서비스 및 Azure Redis Cache는 유사하지만 다른 방법으로 해당 기능 일부를 구현합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-123">Azure Managed Cache Service and Azure Redis Cache are similar but implement some of their features in different ways.</span></span> <span data-ttu-id="f63e5-124">이 섹션은 차이점 중 일부를 설명하고 Azure Redis Cache에서 관리된 캐시 서비스의 기능을 구현하는 데 대한 지침을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-124">This section describes some of the differences and provides guidance on implementing the features of Managed Cache Service in Azure Redis Cache.</span></span>

| <span data-ttu-id="f63e5-125">관리된 캐시 서비스 기능</span><span class="sxs-lookup"><span data-stu-id="f63e5-125">Managed Cache Service feature</span></span> | <span data-ttu-id="f63e5-126">관리된 캐시 서비스 지원</span><span class="sxs-lookup"><span data-stu-id="f63e5-126">Managed Cache Service support</span></span> | <span data-ttu-id="f63e5-127">Azure Redis Cache 지원</span><span class="sxs-lookup"><span data-stu-id="f63e5-127">Azure Redis Cache support</span></span> |
| --- | --- | --- |
| <span data-ttu-id="f63e5-128">이름이 지정된 캐시</span><span class="sxs-lookup"><span data-stu-id="f63e5-128">Named caches</span></span> |<span data-ttu-id="f63e5-129">기본 캐시는 표준 및 프리미엄 캐시 제품에서 구성됩니다. 원하는 경우 최대 9개의 추가 명명된 캐시가 구성될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-129">A default cache is configured, and in the Standard and Premium cache offerings, up to nine additional named caches can be configured if desired.</span></span> |<span data-ttu-id="f63e5-130">Azure Redis Cache에는 명명된 캐시와 유사한 기능을 구현하는 데 사용할 수 있는 여러 개의 구성 가능한 데이터베이스(기본 16개)가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-130">Azure Redis caches have a configurable number of databases (default of 16) that can be used to implement a similar functionality to named caches.</span></span> <span data-ttu-id="f63e5-131">자세한 내용은 [Redis 데이터베이스란?](cache-faq.md#what-are-redis-databases) 및 [기본 Redis 서버 구성](cache-configure.md#default-redis-server-configuration)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f63e5-131">For more information, see [What are Redis databases?](cache-faq.md#what-are-redis-databases) and [Default Redis server configuration](cache-configure.md#default-redis-server-configuration).</span></span> |
| <span data-ttu-id="f63e5-132">고가용성</span><span class="sxs-lookup"><span data-stu-id="f63e5-132">High Availability</span></span> |<span data-ttu-id="f63e5-133">표준 및 프리미엄 캐시 제품의 캐시에서 항목에 고가용성을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-133">Provides high availability for items in the cache in the Standard and Premium cache offerings.</span></span> <span data-ttu-id="f63e5-134">항목이 오류로 인해 손실된 경우 여전히 캐시에서 항목의 백업 복사본을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-134">If items are lost due to a failure, backup copies of the items in the cache are still available.</span></span> <span data-ttu-id="f63e5-135">보조 캐시에 대한 쓰기는 동기적으로 수행됩니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-135">Writes to the secondary cache are made synchronously.</span></span> |<span data-ttu-id="f63e5-136">고가용성은 두 개의 노드 기본/복제본 구성(프리미엄 캐시의 각 분할에는 하나의 기본/복제본 쌍이 있음)이 있는 표준 및 프리미엄 캐시 제품에서 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-136">High availability is available in the Standard and Premium cache offerings, which have a two node Primary/Replica configuration (each shard in a Premium cache has a primary/replica pair).</span></span> <span data-ttu-id="f63e5-137">복제본에 대한 쓰기는 비동기적으로 수행됩니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-137">Writes to the replica are made asynchronously.</span></span> <span data-ttu-id="f63e5-138">자세한 내용은 [Azure Redis Cache 가격 책정](https://azure.microsoft.com/pricing/details/cache/)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f63e5-138">For more information, see [Azure Redis Cache pricing](https://azure.microsoft.com/pricing/details/cache/).</span></span> |
| <span data-ttu-id="f63e5-139">알림</span><span class="sxs-lookup"><span data-stu-id="f63e5-139">Notifications</span></span> |<span data-ttu-id="f63e5-140">명명된 캐시에서 다양한 캐시 작업이 발생할 때 클라이언트가 비동기 알림을 받을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-140">Allows clients to receive asynchronous notifications when a variety of cache operations occur on a named cache.</span></span> |<span data-ttu-id="f63e5-141">클라이언트 응용 프로그램은 Redis 게시/구독 또는 [Keyspace 알림](cache-configure.md#keyspace-notifications-advanced-settings) 을 사용하여 알림에 유사한 기능을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-141">Client applications can use Redis pub/sub or [Keyspace notifications](cache-configure.md#keyspace-notifications-advanced-settings) to achieve a similar functionality to notifications.</span></span> |
| <span data-ttu-id="f63e5-142">로컬 캐시</span><span class="sxs-lookup"><span data-stu-id="f63e5-142">Local cache</span></span> |<span data-ttu-id="f63e5-143">매우 빠른 액세스를 위해 클라이언트에서 캐시된 개체의 복사본을 로컬로 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-143">Stores a copy of cached objects locally on the client for extra-fast access.</span></span> |<span data-ttu-id="f63e5-144">클라이언트 응용 프로그램은 사전 또는 유사한 데이터 구조를 사용하여 이 기능을 구현해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-144">Client applications would need to implement this functionality using a dictionary or similar data structure.</span></span> |
| <span data-ttu-id="f63e5-145">제거 정책</span><span class="sxs-lookup"><span data-stu-id="f63e5-145">Eviction Policy</span></span> |<span data-ttu-id="f63e5-146">없음 또는 LRU입니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-146">None or LRU.</span></span> <span data-ttu-id="f63e5-147">기본 정책이 LRU입니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-147">The default policy is LRU.</span></span> |<span data-ttu-id="f63e5-148">Azure Redis Cache는 다음의 제거 정책을 지원합니다. volatile-lru, allkeys-lru, volatile-random, allkeys-random, volatile-ttl, noeviction.</span><span class="sxs-lookup"><span data-stu-id="f63e5-148">Azure Redis Cache supports the following eviction policies: volatile-lru, allkeys-lru, volatile-random, allkeys-random, volatile-ttl, noeviction.</span></span> <span data-ttu-id="f63e5-149">기본 정책이 volatile-lru입니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-149">The default policy is volatile-lru.</span></span> <span data-ttu-id="f63e5-150">자세한 내용은 [기본 Redis 서버 구성](cache-configure.md#default-redis-server-configuration)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f63e5-150">For more information, see [Default Redis server configuration](cache-configure.md#default-redis-server-configuration).</span></span> |
| <span data-ttu-id="f63e5-151">만료 정책</span><span class="sxs-lookup"><span data-stu-id="f63e5-151">Expiration Policy</span></span> |<span data-ttu-id="f63e5-152">기본 만료 정책은 절대이며 기본 만료 시간은 10분입니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-152">The default expiration policy is Absolute and the default expiration interval is ten minutes.</span></span> <span data-ttu-id="f63e5-153">또한 슬라이딩 및 없음 정책을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-153">Sliding and Never policies are also available.</span></span> |<span data-ttu-id="f63e5-154">기본적으로 캐시의 항목이 만료되지 않지만 만료는 캐시 집합 오버로드를 사용하여 쓰기 단위로 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-154">By default items in the cache do not expire, but an expiration can be configured on a per write basis using cache set overloads.</span></span> <span data-ttu-id="f63e5-155">자세한 내용은 [캐시에서 개체 추가 및 검색](cache-dotnet-how-to-use-azure-redis-cache.md#add-and-retrieve-objects-from-the-cache)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f63e5-155">For more information, see [Add and retrieve objects from the cache](cache-dotnet-how-to-use-azure-redis-cache.md#add-and-retrieve-objects-from-the-cache).</span></span> |
| <span data-ttu-id="f63e5-156">지역 및 태깅</span><span class="sxs-lookup"><span data-stu-id="f63e5-156">Regions and Tagging</span></span> |<span data-ttu-id="f63e5-157">지역은 캐시된 항목에 대한 하위 그룹입니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-157">Regions are subgroups for cached items.</span></span> <span data-ttu-id="f63e5-158">또한 지역은 태그라는 추가 설명 문자열을 사용하여 캐시된 항목의 주석을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-158">Regions also support the annotation of cached items with additional descriptive strings called tags.</span></span> <span data-ttu-id="f63e5-159">지역은 해당 지역에서 태그가 지정된 항목에 검색 작업을 수행하는 기능을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-159">Regions support the ability to perform search operations on any tagged items in that region.</span></span> <span data-ttu-id="f63e5-160">지역 내의 모든 항목은 캐시 클러스터의 단일 노드 내에 위치합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-160">All items within a region are located within a single node of the cache cluster.</span></span> |<span data-ttu-id="f63e5-161">Redis Cache는 단일 노드로 이루어지므로(Redis 클러스터를 사용하지 않는 한) 관리된 캐시 서비스 지역의 개념이 적용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-161">A Redis cache consists of a single node (unless Redis cluster is enabled) so the concept of Managed Cache Service regions does not apply.</span></span> <span data-ttu-id="f63e5-162">Redis는 키를 검색할 때 검색 및 와일드카드 작업을 지원하므로 설명 태그를 키 이름 내에 포함하고 나중에 항목을 검색하는 데 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-162">Redis supports searching and wildcard operations when retrieving keys so descriptive tags can be embedded within the key names and used to retrieve the items later.</span></span> <span data-ttu-id="f63e5-163">Redis를 사용하는 태그 지정 솔루션을 구현하는 예는 [Redis로 태그를 지정하는 캐시 구현](http://stackify.com/implementing-cache-tagging-redis/)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f63e5-163">For an example of implementing a tagging solution using Redis, see [Implementing cache tagging with Redis](http://stackify.com/implementing-cache-tagging-redis/).</span></span> |
| <span data-ttu-id="f63e5-164">직렬화</span><span class="sxs-lookup"><span data-stu-id="f63e5-164">Serialization</span></span> |<span data-ttu-id="f63e5-165">관리된 캐시는 NetDataContractSerializer, BinaryFormatter 및 사용자 지정 직렬 변환기의 사용을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-165">Managed Cache supports NetDataContractSerializer, BinaryFormatter, and the use of custom serializers.</span></span> <span data-ttu-id="f63e5-166">기본값은 NetDataContractSerializer입니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-166">The default is NetDataContractSerializer.</span></span> |<span data-ttu-id="f63e5-167">직렬 변환기의 선택은 클라이언트 응용 프로그램 개발자에게 맡겨지며 캐시에 두기 전에 .NET 개체를 직렬화하는 것은 클라이언트 응용 프로그램의 책임입니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-167">It is the responsibility of the client application to serialize .NET objects before placing them into the cache, with the choice of the serializer up to the client application developer.</span></span> <span data-ttu-id="f63e5-168">자세한 내용 및 샘플 코드는 [캐시의 .NET 개체 작업](cache-dotnet-how-to-use-azure-redis-cache.md#work-with-net-objects-in-the-cache)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f63e5-168">For more information and sample code, see [Work with .NET objects in the cache](cache-dotnet-how-to-use-azure-redis-cache.md#work-with-net-objects-in-the-cache).</span></span> |
| <span data-ttu-id="f63e5-169">캐시 에뮬레이터</span><span class="sxs-lookup"><span data-stu-id="f63e5-169">Cache emulator</span></span> |<span data-ttu-id="f63e5-170">관리되는 캐시는 로컬 캐시 에뮬레이터를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-170">Managed Cache provides a local cache emulator.</span></span> |<span data-ttu-id="f63e5-171">Azure Redis Cache에는 에뮬레이터가 없지만 [redis-server.exe의 MSOpenTech 빌드를 로컬로 실행](cache-faq.md#cache-emulator) 하여 에뮬레이터 환경을 제공할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-171">Azure Redis Cache does not have an emulator, but you can [run the MSOpenTech build of redis-server.exe locally](cache-faq.md#cache-emulator) to provide an emulator experience.</span></span> |

## <a name="choose-a-cache-offering"></a><span data-ttu-id="f63e5-172">캐시 제품 선택</span><span class="sxs-lookup"><span data-stu-id="f63e5-172">Choose a Cache Offering</span></span>
<span data-ttu-id="f63e5-173">Microsoft Azure Redis 캐시는 다음 계층에서 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-173">Microsoft Azure Redis Cache is available in the following tiers:</span></span>

* <span data-ttu-id="f63e5-174">**기본** – 단일 노드.</span><span class="sxs-lookup"><span data-stu-id="f63e5-174">**Basic** – Single node.</span></span> <span data-ttu-id="f63e5-175">최대 53GB까지 여러 개의 크기</span><span class="sxs-lookup"><span data-stu-id="f63e5-175">Multiple sizes up to 53 GB.</span></span>
* <span data-ttu-id="f63e5-176">**표준** – 2노드 주/복제본.</span><span class="sxs-lookup"><span data-stu-id="f63e5-176">**Standard** – Two-node Primary/Replica.</span></span> <span data-ttu-id="f63e5-177">최대 53GB까지 여러 개의 크기</span><span class="sxs-lookup"><span data-stu-id="f63e5-177">Multiple sizes up to 53 GB.</span></span> <span data-ttu-id="f63e5-178">99.9% SLA</span><span class="sxs-lookup"><span data-stu-id="f63e5-178">99.9% SLA.</span></span>
* <span data-ttu-id="f63e5-179">**프리미엄** – 최대 10개 분할 데이터베이스와 2노드 주/복제본.</span><span class="sxs-lookup"><span data-stu-id="f63e5-179">**Premium** – Two-node Primary/Replica with up to 10 shards.</span></span> <span data-ttu-id="f63e5-180">6GB ~ 530GB에 이르는 여러 개의 크기</span><span class="sxs-lookup"><span data-stu-id="f63e5-180">Multiple sizes from 6 GB to 530 GB.</span></span> <span data-ttu-id="f63e5-181">모든 표준 계층 기능과 추가적인 [Redis 클러스터](cache-how-to-premium-clustering.md), [Redis 지속성](cache-how-to-premium-persistence.md) 및 [Azure Virtual Network](cache-how-to-premium-vnet.md) 지원이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-181">All Standard tier features and more including support for [Redis cluster](cache-how-to-premium-clustering.md), [Redis persistence](cache-how-to-premium-persistence.md), and [Azure Virtual Network](cache-how-to-premium-vnet.md).</span></span> <span data-ttu-id="f63e5-182">99.9% SLA</span><span class="sxs-lookup"><span data-stu-id="f63e5-182">99.9% SLA.</span></span>

<span data-ttu-id="f63e5-183">각 계층은 기능과 가격이 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-183">Each tier differs in terms of features and pricing.</span></span> <span data-ttu-id="f63e5-184">기능에 대해서는 이 가이드의 뒷부분에서 다룹니다. 가격에 대한 자세한 내용은 [캐시 가격 정보](https://azure.microsoft.com/pricing/details/cache/)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f63e5-184">The features are covered later in this guide, and for more information on pricing, see [Cache Pricing Details](https://azure.microsoft.com/pricing/details/cache/).</span></span>

<span data-ttu-id="f63e5-185">마이그레이션을 위한 출발점은 이전의 관리된 캐시 서비스 캐시와 일치하는 크기를 선택하는 것입니다. 그런 다음 응용 프로그램의 요구 사항에 따라 크기를 확장하거나 축소합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-185">A starting point for migration is to pick the size that matches the size of your previous Managed Cache Service cache, and then scale up or down depending on the requirements of your application.</span></span> <span data-ttu-id="f63e5-186">올바른 Azure Redis Cache 제품을 선택하는 데 대한 자세한 가이드는 [어떤 Redis Cache 제품 및 크기를 사용해야 하나요?](cache-faq.md#what-redis-cache-offering-and-size-should-i-use)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f63e5-186">For more guidance on choosing the right Azure Redis Cache offering, see [What Redis Cache offering and size should I use?](cache-faq.md#what-redis-cache-offering-and-size-should-i-use).</span></span>

## <a name="create-a-cache"></a><span data-ttu-id="f63e5-187">캐시 만들기</span><span class="sxs-lookup"><span data-stu-id="f63e5-187">Create a Cache</span></span>
[!INCLUDE [redis-cache-create](../../includes/redis-cache-create.md)]

## <a name="configure-the-cache-clients"></a><span data-ttu-id="f63e5-188">캐시 클라이언트 구성</span><span class="sxs-lookup"><span data-stu-id="f63e5-188">Configure the Cache Clients</span></span>
<span data-ttu-id="f63e5-189">캐시를 만들고 구성하면 다음 단계에서는 관리된 캐시 서비스 구성을 제거하고 추가 Azure Redis Cache 및 참조를 추가하므로 캐시 클라이언트가 캐시에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-189">Once the cache is created and configured, the next step is to remove the Managed Cache Service configuration, and add the add the Azure Redis Cache configuration and references so that cache clients can access the cache.</span></span>

* <span data-ttu-id="f63e5-190">관리된 캐시 서비스 구성 제거</span><span class="sxs-lookup"><span data-stu-id="f63e5-190">Remove the Managed Cache Service Configuration</span></span>
* <span data-ttu-id="f63e5-191">StackExchange.Redis NuGet 패키지를 사용하여 캐시 클라이언트 구성</span><span class="sxs-lookup"><span data-stu-id="f63e5-191">Configure a cache client using the StackExchange.Redis NuGet Package</span></span>

### <a name="remove-the-managed-cache-service-configuration"></a><span data-ttu-id="f63e5-192">관리된 캐시 서비스 구성 제거</span><span class="sxs-lookup"><span data-stu-id="f63e5-192">Remove the Managed Cache Service Configuration</span></span>
<span data-ttu-id="f63e5-193">클라이언트 응용 프로그램이 Azure Redis Cache에 대해 구성되기 전에 기존 관리된 캐시 서비스 구성 및 어셈블리 참조는 관리된 캐시 서비스 NuGet 패키지의 설치를 취소하여 제거해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-193">Before the client applications can be configured for Azure Redis Cache, the existing Managed Cache Service configuration and assembly references must be removed by uninstalling the Managed Cache Service NuGet package.</span></span>

<span data-ttu-id="f63e5-194">관리된 캐시 서비스 NuGet 패키지의 설치를 취소하려면 **솔루션 탐색기**에서 클라이언트 프로젝트를 마우스 오른쪽 단추로 클릭하고 **NuGet 패키지 관리**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-194">To uninstall the Managed Cache Service NuGet package, right-click the client project in **Solution Explorer** and choose **Manage NuGet Packages**.</span></span> <span data-ttu-id="f63e5-195">**설치된 패키지**를 선택하고 검색 설치된 패키지 상자에 **WindowsAzure.Caching**을 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-195">Select the **Installed packages** node, and type W**indowsAzure.Caching** into the Search installed packages box.</span></span> <span data-ttu-id="f63e5-196">**Windows** **Azure 캐시**(또는 NuGet 패키지의 버전에 따라 **Windows** **Azure 캐싱**)을 선택하고 **제거** 및 **닫기**를 차례로 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-196">Select **Windows** **Azure Cache** (or **Windows** **Azure Caching** depending on the version of the NuGet package), click **Uninstall**, and then click **Close**.</span></span>

![Azure 관리된 캐시 서비스 NuGet 패키지 제거](./media/cache-migrate-to-redis/IC757666.jpg)

<span data-ttu-id="f63e5-198">관리된 캐시 서비스 NuGet 패키지의 설치를 취소하면 클라이언트 응용 프로그램의 app.config 또는 web.config에서 관리된 캐시 서비스 어셈블리 및 관리된 캐시 서비스 항목을 제거합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-198">Uninstalling the Managed Cache Service NuGet package removes the Managed Cache Service assemblies and the Managed Cache Service entries in the app.config or web.config of the client application.</span></span> <span data-ttu-id="f63e5-199">NuGet 패키지를 제거하는 경우 일부 사용자 지정된 설정을 제거할 수 없기 때문에 web.config 또는 app.config를 열고 다음 요소가 완전히 제거되었는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-199">Because some customized settings may not be removed when uninstalling the NuGet package, open web.config or app.config and ensure that the following elements are completely removed.</span></span>

<span data-ttu-id="f63e5-200">`dataCacheClients` 항목이 `configSections` 요소에서 제거되도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-200">Ensure that the `dataCacheClients` entry is removed from the `configSections` element.</span></span> <span data-ttu-id="f63e5-201">전체 `configSections` 요소를 제거하지 마세요. 표시된 `dataCacheClients` 항목만 제거합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-201">Do not remove the entire `configSections` element; just remove the `dataCacheClients` entry, if it is present.</span></span>

```xml
<configSections>
  <!-- Existing sections omitted for clarity. -->
  <section name="dataCacheClients"type="Microsoft.ApplicationServer.Caching.DataCacheClientsSection, Microsoft.ApplicationServer.Caching.Core" allowLocation="true" allowDefinition="Everywhere"/>
</configSections>
```

<span data-ttu-id="f63e5-202">`dataCacheClients` 섹션이 제거되도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-202">Ensure that the `dataCacheClients` section is removed.</span></span> <span data-ttu-id="f63e5-203">`dataCacheClients` 섹션은 다음 예제와 비슷합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-203">The `dataCacheClients` section will be similar to the following example.</span></span>

```xml
<dataCacheClients>
  <dataCacheClientname="default">
    <!--To use the in-role flavor of Azure Cache, set identifier to be the cache cluster role name -->
    <!--To use the Azure Managed Cache Service, set identifier to be the endpoint of the cache cluster -->
    <autoDiscoverisEnabled="true"identifier="[Cache role name or Service Endpoint]"/>

    <!--<localCache isEnabled="true" sync="TimeoutBased" objectCount="100000" ttlValue="300" />-->
    <!--Use this section to specify security settings for connecting to your cache. This section is not required if your cache is hosted on a role that is a part of your cloud service. -->
    <!--<securityProperties mode="Message" sslEnabled="true">
      <messageSecurity authorizationInfo="[Authentication Key]" />
    </securityProperties>-->
  </dataCacheClient>
</dataCacheClients>
```

<span data-ttu-id="f63e5-204">관리된 캐시 서비스 구성이 제거되면 다음 섹션에서 설명한 대로 캐시 클라이언트를 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-204">Once the Managed Cache Service configuration is removed, you can configure the cache client as described in the following section.</span></span>

### <a name="configure-a-cache-client-using-the-stackexchangeredis-nuget-package"></a><span data-ttu-id="f63e5-205">StackExchange.Redis NuGet 패키지를 사용하여 캐시 클라이언트 구성</span><span class="sxs-lookup"><span data-stu-id="f63e5-205">Configure a cache client using the StackExchange.Redis NuGet Package</span></span>
[!INCLUDE [redis-cache-configure](../../includes/redis-cache-configure-stackexchange-redis-nuget.md)]

## <a name="migrate-managed-cache-service-code"></a><span data-ttu-id="f63e5-206">관리된 캐시 서비스 코드 마이그레이션</span><span class="sxs-lookup"><span data-stu-id="f63e5-206">Migrate Managed Cache Service code</span></span>
<span data-ttu-id="f63e5-207">StackExchange.Redis 캐시 클라이언트에 대한 API는 관리된 캐시 서비스와 유사합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-207">The API for the StackExchange.Redis cache client is similar to the Managed Cache Service.</span></span> <span data-ttu-id="f63e5-208">이 섹션에서는 차이점의 개요를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-208">This section provides an overview of the differences.</span></span>

### <a name="connect-to-the-cache-using-the-connectionmultiplexer-class"></a><span data-ttu-id="f63e5-209">ConnectionMultiplexer 클래스를 사용하여 캐시에 연결</span><span class="sxs-lookup"><span data-stu-id="f63e5-209">Connect to the cache using the ConnectionMultiplexer class</span></span>
<span data-ttu-id="f63e5-210">관리된 캐시 서비스에서 캐시에 대한 연결은 `DataCacheFactory` 및 `DataCache` 클래스에서 처리됩니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-210">In Managed Cache Service, connections to the cache were handled by the `DataCacheFactory` and `DataCache` classes.</span></span> <span data-ttu-id="f63e5-211">Azure Redis Cache에서 이러한 연결은 `ConnectionMultiplexer` 클래스로 관리됩니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-211">In Azure Redis Cache, these connections are managed by the `ConnectionMultiplexer` class.</span></span>

<span data-ttu-id="f63e5-212">캐시에 액세스하려는 파일의 상단에 다음 using 문을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-212">Add the following using statement to the top of any file from which you want to access the cache.</span></span>

```c#
using StackExchange.Redis
```

<span data-ttu-id="f63e5-213">이 네임스페이스가 해결되지 않으면 [캐시 클라이언트 구성](cache-dotnet-how-to-use-azure-redis-cache.md#configure-the-cache-clients)에서 설명한 대로 StackExchange.Redis NuGet 패키지를 추가했는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-213">If this namespace doesn’t resolve, be sure that you have added the StackExchange.Redis NuGet package as described in [Configure the cache clients](cache-dotnet-how-to-use-azure-redis-cache.md#configure-the-cache-clients).</span></span>

> [!NOTE]
> <span data-ttu-id="f63e5-214">StackExchange.Redis 클라이언트를 사용하려면 .NET Framework 4 이상이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-214">Note that the StackExchange.Redis client requires .NET Framework 4 or higher.</span></span>
> 
> 

<span data-ttu-id="f63e5-215">Azure Redis Cache 인스턴스에 연결하려면 정적 `ConnectionMultiplexer.Connect` 메서드를 호출하고 끝점 및 키에 전달합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-215">To connect to an Azure Redis Cache instance, call the static `ConnectionMultiplexer.Connect` method and pass in the endpoint and key.</span></span> <span data-ttu-id="f63e5-216">응용 프로그램의 `ConnectionMultiplexer` 인스턴스를 공유하는 방법은 다음 예제와 비슷하게 연결된 인스턴스를 반환하는 정적 속성을 갖는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-216">One approach to sharing a `ConnectionMultiplexer` instance in your application is to have a static property that returns a connected instance, similar to the following example.</span></span> <span data-ttu-id="f63e5-217">스레드가 안전하도록 단일 연결된 `ConnectionMultiplexer` 인스턴스를 초기화하는 방법을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-217">This provides a thread-safe way to initialize only a single connected `ConnectionMultiplexer` instance.</span></span> <span data-ttu-id="f63e5-218">이러한 예에서 `abortConnect` 은 false로 설정되며 이는 캐시에 연결이 설정되지 않은 경우에도 호출이 성공한다는 사실을 의미합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-218">In this example `abortConnect` is set to false, which means that the call will succeed even if a connection to the cache is not established.</span></span> <span data-ttu-id="f63e5-219">`ConnectionMultiplexer` 의 한 가지 주요 기능은 연결 네트워크 문제 또는 다른 원인이 해결되면 캐시에 연결이 자동으로 복원된다는 점입니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-219">One key feature of `ConnectionMultiplexer` is that it will automatically restore connectivity to the cache once the network issue or other causes are resolved.</span></span>

```c#
private static Lazy<ConnectionMultiplexer> lazyConnection = new Lazy<ConnectionMultiplexer>(() =>
{
    return ConnectionMultiplexer.Connect("contoso5.redis.cache.windows.net,abortConnect=false,ssl=true,password=...");
});

public static ConnectionMultiplexer Connection
{
    get
    {
        return lazyConnection.Value;
    }
}
```

<span data-ttu-id="f63e5-220">캐시 끝점, 키 및 포트는 캐시 인스턴스에 대한 **Redis Cache** 블레이드에서 가져올 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-220">The cache endpoint, keys, and ports can be obtained from the **Redis Cache** blade for your cache instance.</span></span> <span data-ttu-id="f63e5-221">자세한 내용은 [Redis Cache 속성](cache-configure.md#properties)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f63e5-221">For more information, see [Redis Cache properties](cache-configure.md#properties).</span></span>

<span data-ttu-id="f63e5-222">연결이 설정되고 나면 `ConnectionMultiplexer.GetDatabase` 메서드를 호출하여 Redis Cache 데이터베이스에 대한 참조를 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-222">Once the connection is established, return a reference to the Redis cache database by calling the `ConnectionMultiplexer.GetDatabase` method.</span></span> <span data-ttu-id="f63e5-223">`GetDatabase` 메서드에서 반환된 개체는 경량의 통과 개체이며 저장할 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-223">The object returned from the `GetDatabase` method is a lightweight pass-through object and does not need to be stored.</span></span>

```c#
IDatabase cache = Connection.GetDatabase();

// Perform cache operations using the cache object...
// Simple put of integral data types into the cache
cache.StringSet("key1", "value");
cache.StringSet("key2", 25);

// Simple get of data types from the cache
string key1 = cache.StringGet("key1");
int key2 = (int)cache.StringGet("key2");
```

<span data-ttu-id="f63e5-224">StackExchange.Redis 클라이언트는 캐시의 항목에 액세스하고 저장하는 데 `RedisKey` 및 `RedisValue` 형식을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-224">The StackExchange.Redis client uses the `RedisKey` and `RedisValue` types for accessing and storing items in the cache.</span></span> <span data-ttu-id="f63e5-225">이러한 형식은 문자열을 포함하여 가장 기본적인 언어 형식에 매핑되며 직접 사용되는 경우가 드뭅니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-225">These types map onto most primitive language types, including string, and often are not used directly.</span></span> <span data-ttu-id="f63e5-226">Redis 문자열은 가장 기본적인 종류의 Redis 값이며 직렬화된 이진 스트림을 비롯한 다양한 형식의 데이터를 포함할 수 있습니다. 이 형식을 직접 사용하지 않는 반면 이름에 `String`을 포함하는 메서드를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-226">Redis Strings are the most basic kind of Redis value, and can contain many types of data, including serialized binary streams, and while you may not use the type directly, you will use methods that contain `String` in the name.</span></span> <span data-ttu-id="f63e5-227">가장 기본적인 데이터 형식의 경우 캐시에 컬렉션 또는 기타 Redis 데이터 형식을 저장하지 않는 한 `StringSet` 및 `StringGet` 메서드를 사용하여 캐시에서 항목을 저장하고 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-227">For most primitive data types you store and retrieve items from the cache using the `StringSet` and `StringGet` methods, unless you are storing collections or other Redis data types in the cache.</span></span> 

<span data-ttu-id="f63e5-228">`StringSet` 및 `StringGet`는 관리된 캐시 서비스 `Put` 및 `Get`와 매우 유사합니다. 이러한 결과를 가져오는 한 가지 주요 차이점은 캐시에 .NET 개체를 설정하고 가져오기 전에 먼저 직렬화해야 한다는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-228">`StringSet` and `StringGet` are very similar to the Managed Cache Service `Put` and `Get` methods, with one major difference being that before you set and get a .NET object into the cache you must serialize it first.</span></span> 

<span data-ttu-id="f63e5-229">`StringGet` 호출 시 개체가 있으면 반환되고 없으면 null이 반환됩니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-229">When calling `StringGet`, if the object exists, it is returned, and if it does not, null is returned.</span></span> <span data-ttu-id="f63e5-230">이 경우에는 원하는 데이터 소스에서 값을 검색하여 이후에 사용할 수 있게 캐시에 저장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-230">In this case you can retrieve the value from the desired data source and store it in the cache for subsequent use.</span></span> <span data-ttu-id="f63e5-231">이를 캐시 배제 패턴이라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-231">This is known as the cache-aside pattern.</span></span>

<span data-ttu-id="f63e5-232">캐시에서 항목의 만료를 지정하려면 `StringSet`의 `TimeSpan` 매개 변수를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-232">To specify the expiration of an item in the cache, use the `TimeSpan` parameter of `StringSet`.</span></span>

```c#
cache.StringSet("key1", "value1", TimeSpan.FromMinutes(90));
```

<span data-ttu-id="f63e5-233">Azure Redis Cache는 .NET 개체 및 기본 데이터 형식으로 작업할 수 있지만 .NET 개체를 캐시하려면 먼저 직렬화해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-233">Azure Redis Cache can work with .NET objects as well as primitive data types, but before a .NET object can be cached it must be serialized.</span></span> <span data-ttu-id="f63e5-234">이것은 응용 프로그램 개발자의 책임입니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-234">This is the responsibility of the application developer.</span></span> <span data-ttu-id="f63e5-235">직렬 변환기를 선택할 때 개발자에게 융통성을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-235">This gives the developer flexibility in the choice of the serializer.</span></span> <span data-ttu-id="f63e5-236">자세한 내용 및 샘플 코드는 [캐시의 .NET 개체 작업](cache-dotnet-how-to-use-azure-redis-cache.md#work-with-net-objects-in-the-cache)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f63e5-236">For more information and sample code, see [Work with .NET objects in the cache](cache-dotnet-how-to-use-azure-redis-cache.md#work-with-net-objects-in-the-cache).</span></span>

## <a name="migrate-aspnet-session-state-and-output-caching-to-azure-redis-cache"></a><span data-ttu-id="f63e5-237">Azure Redis Cache로 ASP.NET 세션 상태 및 출력 캐싱 마이그레이션</span><span class="sxs-lookup"><span data-stu-id="f63e5-237">Migrate ASP.NET Session State and Output caching to Azure Redis Cache</span></span>
<span data-ttu-id="f63e5-238">Azure Redis Cache에는 ASP.NET 세션 상태 및 페이지 출력 캐싱 모두에 공급자가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-238">Azure Redis Cache has providers for both ASP.NET Session State and Page Output caching.</span></span> <span data-ttu-id="f63e5-239">관리된 캐시 서비스 버전의 이러한 공급자를 사용하는 응용 프로그램을 마이그레이션하려면 먼저 web.config에서 기존 섹션을 제거하고 Azure Redis Cache 버전의 공급자를 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-239">To migrate your application that uses the Managed Cache Service versions of these providers, first remove the existing sections from your web.config, and then configure the Azure Redis Cache versions of the providers.</span></span> <span data-ttu-id="f63e5-240">Azure Redis Cache ASP.NET 공급자를 사용하는 데 대한 지침은 [Azure Redis Cache에 대한 ASP.NET 세션 상태 제공자](cache-aspnet-session-state-provider.md) 및 [Azure Redis Cache에 대한 ASP.NET 출력 캐시 공급자](cache-aspnet-output-cache-provider.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f63e5-240">For instructions on using the Azure Redis Cache ASP.NET providers, see [ASP.NET Session State Provider for Azure Redis Cache](cache-aspnet-session-state-provider.md) and [ASP.NET Output Cache Provider for Azure Redis Cache](cache-aspnet-output-cache-provider.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="f63e5-241">다음 단계</span><span class="sxs-lookup"><span data-stu-id="f63e5-241">Next steps</span></span>
<span data-ttu-id="f63e5-242">자습서, 샘플, 비디오, 등은 [Azure Redis Cache 설명서](https://azure.microsoft.com/documentation/services/cache/) 를 탐색합니다.</span><span class="sxs-lookup"><span data-stu-id="f63e5-242">Explore the [Azure Redis Cache documentation](https://azure.microsoft.com/documentation/services/cache/) for tutorials, samples, videos, and more.</span></span>

