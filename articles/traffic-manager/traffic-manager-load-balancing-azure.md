---
title: "Azure에서 서비스 aaaUsing 부하 분산 | Microsoft Docs"
description: "이 자습서에서는 방법을 사용 하 여 시나리오 toocreate hello Azure 부하 분산 포트폴리오: 트래픽 관리자, 응용 프로그램 게이트웨이 및 부하 분산 장치입니다."
services: traffic-manager
documentationcenter: 
author: liumichelle
manager: vitinnan
editor: 
ms.assetid: f89be3be-a16f-4d47-bcae-db2ab72ade17
ms.service: traffic-manager
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 10/27/2016
ms.author: limichel
ms.openlocfilehash: d217047102d8c4828250dc0733e8ec9ee1e84b3f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="using-load-balancing-services-in-azure"></a><span data-ttu-id="4109f-103">Azure에서 부하 분산 서비스 사용</span><span class="sxs-lookup"><span data-stu-id="4109f-103">Using load-balancing services in Azure</span></span>

## <a name="introduction"></a><span data-ttu-id="4109f-104">소개</span><span class="sxs-lookup"><span data-stu-id="4109f-104">Introduction</span></span>

<span data-ttu-id="4109f-105">Microsoft Azure는 네트워크 트래픽을 분산하고 부하를 분산하는 방법을 관리하는 여러 서비스를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-105">Microsoft Azure provides multiple services for managing how network traffic is distributed and load balanced.</span></span> <span data-ttu-id="4109f-106">이러한 서비스를 개별적으로 사용 하거나 toobuild hello 최적의 솔루션 요구 사항에 따라 자신의 방법을 결합할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-106">You can use these services individually or combine their methods, depending on your needs, toobuild hello optimal solution.</span></span>

<span data-ttu-id="4109f-107">이 자습서에서는 먼저 고객이 사용 사례를 정의 하 고 다음 Azure 부하 분산 포트폴리오 hello를 사용 하 여 방법으로 설정할 수 있는 보다 강력한 및 고성능을 참조 하십시오: 트래픽 관리자, 응용 프로그램 게이트웨이 및 부하 분산 장치입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-107">In this tutorial, we first define a customer use case and see how it can be made more robust and performant by using hello following Azure load-balancing portfolio: Traffic Manager, Application Gateway, and Load Balancer.</span></span> <span data-ttu-id="4109f-108">그런 다음 각기 다른 유형의 요청을 관리 하는 지리적으로 중복, 트래픽 tooVMs 배포 및는 사용 하면 배포를 만들기 위한 단계별 지침 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-108">We then provide step-by-step instructions for creating a deployment that is geographically redundant, distributes traffic tooVMs, and helps you manage different types of requests.</span></span>

<span data-ttu-id="4109f-109">개념 수준에서 이러한 각 서비스에서에서 역할을 고유 hello 계층 부하 분산 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-109">At a conceptual level, each of these services plays a distinct role in hello load-balancing hierarchy.</span></span>

* <span data-ttu-id="4109f-110">**Traffic Manager**는 전역 DNS 부하 분산을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-110">**Traffic Manager** provides global DNS load balancing.</span></span> <span data-ttu-id="4109f-111">들어오는 DNS 요청 확인 하 고 정상 상태의 끝점을 사용 하 여 응답으로 hello에 따라 라우팅 정책 hello 고객이 선택 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-111">It looks at incoming DNS requests and responds with a healthy endpoint, in accordance with hello routing policy hello customer has selected.</span></span> <span data-ttu-id="4109f-112">라우팅 메서드의 옵션은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-112">Options for routing methods are:</span></span>
  * <span data-ttu-id="4109f-113">성능 라우팅 toosend hello 요청자 toohello 가장 가까운 끝점 지연 시간의 측면에서입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-113">Performance routing toosend hello requestor toohello closest endpoint in terms of latency.</span></span>
  * <span data-ttu-id="4109f-114">우선 순위 라우팅 toodirect 백업으로 다른 끝점과 모든 트래픽 tooan 끝점입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-114">Priority routing toodirect all traffic tooan endpoint, with other endpoints as backup.</span></span>
  * <span data-ttu-id="4109f-115">가중치가 적용 된 라운드 로빈 라우팅, tooeach 끝점 할당 된 hello 가중치에 따라 트래픽을 분산입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-115">Weighted round-robin routing, which distributes traffic based on hello weighting that is assigned tooeach endpoint.</span></span>

  <span data-ttu-id="4109f-116">클라이언트 hello toothat 끝점 직접 연결 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-116">hello client connects directly toothat endpoint.</span></span> <span data-ttu-id="4109f-117">Azure 트래픽 관리자 끝점 손상 되었습니다. 하 고 다음 리디렉션을 hello 클라이언트 tooanother 정상 인스턴스를 검색 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-117">Azure Traffic Manager detects when an endpoint is unhealthy and then redirects hello clients tooanother healthy instance.</span></span> <span data-ttu-id="4109f-118">너무 참조[Azure 트래픽 관리자 설명서](traffic-manager-overview.md) toolearn hello 서비스에 대 한 자세한 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-118">Refer too[Azure Traffic Manager documentation](traffic-manager-overview.md) toolearn more about hello service.</span></span>
* <span data-ttu-id="4109f-119">**Application Gateway**는 ADC(응용 프로그램 전달 컨트롤러)를 서비스로 제공하여 응용 프로그램에 대한 다양한 Layer 7 부하 분산 기능을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-119">**Application Gateway** provides application delivery controller (ADC) as a service, offering various Layer 7 load-balancing capabilities for your application.</span></span> <span data-ttu-id="4109f-120">이 통해 고객 toooptimize 웹 팜 생산성 CPU를 많이 사용 SSL 종료 toohello 응용 프로그램 게이트웨이 오프 로드 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-120">It allows customers toooptimize web farm productivity by offloading CPU-intensive SSL termination toohello application gateway.</span></span> <span data-ttu-id="4109f-121">다른 계층 7 라우팅 기능 들어오는 트래픽을, 쿠키 기반 세션 선호도, URL 경로 기반 라우팅 및 hello 기능 toohost 라운드 로빈 배포는 단일 응용 프로그램 게이트웨이 뒤에 있는 여러 웹 사이트를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-121">Other Layer 7 routing capabilities include round-robin distribution of incoming traffic, cookie-based session affinity, URL path-based routing, and hello ability toohost multiple websites behind a single application gateway.</span></span> <span data-ttu-id="4109f-122">Application Gateway는 인터넷 연결 게이트웨이, 내부 전용 게이트웨이 또는 둘의 조합으로 구성될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-122">Application Gateway can be configured as an Internet-facing gateway, an internal-only gateway, or a combination of both.</span></span> <span data-ttu-id="4109f-123">Application Gateway는 전적으로 Azure에 의해 관리되고, 확장성 및 고가용성을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-123">Application Gateway is fully Azure managed, scalable, and highly available.</span></span> <span data-ttu-id="4109f-124">관리 효율성을 향상시키기 위한 풍부한 진단 및 로깅 기능을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-124">It provides a rich set of diagnostics and logging capabilities for better manageability.</span></span>
* <span data-ttu-id="4109f-125">**부하 분산 장치** 고성능의 대기 시간이 짧은 계층 4 부하 분산 서비스 제공 모든 UDP 및 TCP 프로토콜에 대 한 hello Azure SDN 스택의 필수적인 부분입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-125">**Load Balancer** is an integral part of hello Azure SDN stack, providing high-performance, low-latency Layer 4 load-balancing services for all UDP and TCP protocols.</span></span> <span data-ttu-id="4109f-126">인바운드 및 아웃 바운드 연결을 관리합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-126">It manages inbound and outbound connections.</span></span> <span data-ttu-id="4109f-127">Public 및 내부 부하 분산 된 끝점을 구성 하 고 규칙 toomap 정의할 수 있습니다 연결 tooback 엔드 풀 대상 TCP 및 HTTP 상태 검색 옵션 toomanage 서비스 가용성을 사용 하 여 인바운드 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-127">You can configure public and internal load-balanced endpoints and define rules toomap inbound connections tooback-end pool destinations by using TCP and HTTP health-probing options toomanage service availability.</span></span>

## <a name="scenario"></a><span data-ttu-id="4109f-128">시나리오</span><span class="sxs-lookup"><span data-stu-id="4109f-128">Scenario</span></span>

<span data-ttu-id="4109f-129">이 예제 시나리오에서는 두 가지 유형의 콘텐츠와 동적으로 렌더링 되는 웹 페이지를 제공하는 간단한 웹 사이트를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-129">In this example scenario, we use a simple website that serves two types of content: images and dynamically rendered webpages.</span></span> <span data-ttu-id="4109f-130">hello 웹 사이트는 지리적으로 중복 이어야 하며 사용자 들이 hello 가장 가까운 (가장 낮은 대기 시간)을 제공 해야 위치 toothem 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-130">hello website must be geographically redundant, and it should serve its users from hello closest (lowest latency) location toothem.</span></span> <span data-ttu-id="4109f-131">hello 응용 프로그램 개발자가 결정는 일치 하는 모든 Url hello 패턴/이미지 / * hello hello 웹 팜의 나머지와에서 다른 Vm의 전용된 풀에서 제공 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-131">hello application developer has decided that any URLs that match hello pattern /images/* are served from a dedicated pool of VMs that are different from hello rest of hello web farm.</span></span>

<span data-ttu-id="4109f-132">또한 hello 동적 콘텐츠를 서비스 하는 hello 기본 VM 풀이 tootalk tooa 백 엔드 데이터베이스는 고가용성 클러스터에서 호스트 되는 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-132">Additionally, hello default VM pool serving hello dynamic content needs tootalk tooa back-end database that is hosted on a high-availability cluster.</span></span> <span data-ttu-id="4109f-133">hello 전체 배포 Azure 리소스 관리자를 통해 설정 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-133">hello entire deployment is set up through Azure Resource Manager.</span></span>

<span data-ttu-id="4109f-134">트래픽 관리자, 응용 프로그램 게이트웨이 및 부하 분산 장치를 사용 하 여 사용 하면이 웹 사이트 tooachieve 이러한 목표를 디자인 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-134">Using Traffic Manager, Application Gateway, and Load Balancer allows this website tooachieve these design goals:</span></span>

* <span data-ttu-id="4109f-135">**다중 지리적 중복성**: 하나의 영역 다운 되 면 트래픽 관리자 경로 트래픽 hello 응용 프로그램 소유자의 도움 없이 toohello 가장 가까운 지역 원활 하 게 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-135">**Multi-geo redundancy**: If one region goes down, Traffic Manager routes traffic seamlessly toohello closest region without any intervention from hello application owner.</span></span>
* <span data-ttu-id="4109f-136">**지연 시간이 단축**: hello 웹 페이지 콘텐츠를 요청할 때 hello 사용자 환경과 더 낮은 대기 시간, 때문에 트래픽 관리자는 자동으로 hello 고객 toohello 가장 가까운 지역을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-136">**Reduced latency**: Because Traffic Manager automatically directs hello customer toohello closest region, hello customer experiences lower latency when requesting hello webpage contents.</span></span>
* <span data-ttu-id="4109f-137">**독립 확장성**: hello 웹 응용 프로그램 작업 부하로 콘텐츠 유형의 구분 때문에 hello 응용 프로그램 소유자 hello 요청 작업을 서로 독립적으로 확장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-137">**Independent scalability**: Because hello web application workload is separated by type of content, hello application owner can scale hello request workloads independent of each other.</span></span> <span data-ttu-id="4109f-138">응용 프로그램 게이트웨이 사용 하면 hello 트래픽을 지정 된 hello를 바탕으로 라우트된 toohello 오른쪽 풀 규칙 및 hello 응용 프로그램의 hello 상태입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-138">Application Gateway ensures that hello traffic is routed toohello right pools based on hello specified rules and hello health of hello application.</span></span>
* <span data-ttu-id="4109f-139">**내부 부하 분산**: 때문에 부하 분산 장치 hello 고가용성 클러스터 앞에 사용할 수 있는 데이터베이스에 대 한 hello 활성 상태이 고 정상 상태의 끝점을 노출 된 toohello 응용 프로그램입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-139">**Internal load balancing**: Because Load Balancer is in front of hello high-availability cluster, only hello active and healthy endpoint for a database is exposed toohello application.</span></span> <span data-ttu-id="4109f-140">또한 데이터베이스 관리자는 활성 노드와 수동 복제본 hello 클러스터 독립적 hello 프런트 엔드 응용 프로그램으로 배포 하 여 hello 작업을 최적화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-140">Additionally, a database administrator can optimize hello workload by distributing active and passive replicas across hello cluster independent of hello front-end application.</span></span> <span data-ttu-id="4109f-141">부하 분산 장치 연결 toohello 고가용성 클러스터를 제공 하 고 정상 상태의 데이터베이스에만 연결 요청을 받이 되도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-141">Load Balancer delivers connections toohello high-availability cluster and ensures that only healthy databases receive connection requests.</span></span>

<span data-ttu-id="4109f-142">hello 다음 그림에이 시나리오의 hello 아키텍처:</span><span class="sxs-lookup"><span data-stu-id="4109f-142">hello following diagram shows hello architecture of this scenario:</span></span>

![부하 분산 아키텍처의 다이어그램](./media/traffic-manager-load-balancing-azure/scenario-diagram.png)

> [!NOTE]
> <span data-ttu-id="4109f-144">이 예제에서는 Azure에서 제공 하는 hello 부하 분산 서비스의 구성이 다양 중 하나일 뿐입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-144">This example is only one of many possible configurations of hello load-balancing services that Azure offers.</span></span> <span data-ttu-id="4109f-145">트래픽 관리자, 응용 프로그램 게이트웨이 및 부하 분산 장치를 혼합 될 수와 일치 하는 toobest 부하 분산 요구에 맞게 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-145">Traffic Manager, Application Gateway, and Load Balancer can be mixed and matched toobest suit your load-balancing needs.</span></span> <span data-ttu-id="4109f-146">예를 들어, SSL 오프 로드 또는 Layer 7 처리가 필요 없는 경우 부하 분산 장치 Application Gateway 대신에 Load Balancer를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-146">For example, if SSL offload or Layer 7 processing is not necessary, Load Balancer can be used in place of Application Gateway.</span></span>

## <a name="setting-up-hello-load-balancing-stack"></a><span data-ttu-id="4109f-147">부하 분산 스택 hello 설정</span><span class="sxs-lookup"><span data-stu-id="4109f-147">Setting up hello load-balancing stack</span></span>

### <a name="step-1-create-a-traffic-manager-profile"></a><span data-ttu-id="4109f-148">1단계: Traffic Manager 프로필 만들기</span><span class="sxs-lookup"><span data-stu-id="4109f-148">Step 1: Create a Traffic Manager profile</span></span>

1. <span data-ttu-id="4109f-149">Hello Azure 포털에서에서 클릭 **새로**, 및 "트래픽 관리자 프로필."에 대 한 hello marketplace 다음 검색</span><span class="sxs-lookup"><span data-stu-id="4109f-149">In hello Azure portal, click **New**, and then search hello marketplace for "Traffic Manager profile."</span></span>
2. <span data-ttu-id="4109f-150">Hello에 **만들 트래픽 관리자 프로필** 블레이드에서 hello 다음 기본 정보를 입력 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-150">On hello **Create Traffic Manager profile** blade, enter hello following basic information:</span></span>

  * <span data-ttu-id="4109f-151">**이름**: Traffic Manager 프로필에 DNS 접두사 이름을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-151">**Name**: Give your Traffic Manager profile a DNS prefix name.</span></span>
  * <span data-ttu-id="4109f-152">**라우팅 방법**: 선택 hello 트래픽 라우팅 방법 정책입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-152">**Routing method**: Select hello traffic-routing method policy.</span></span> <span data-ttu-id="4109f-153">Hello 방법에 대 한 자세한 내용은 참조 [트래픽 관리자에 대 한 트래픽 라우팅 방법](traffic-manager-routing-methods.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-153">For more information about hello methods, see [About Traffic Manager traffic routing methods](traffic-manager-routing-methods.md).</span></span>
  * <span data-ttu-id="4109f-154">**구독**: hello 프로필을 포함 하는 hello 구독을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-154">**Subscription**: Select hello subscription that contains hello profile.</span></span>
  * <span data-ttu-id="4109f-155">**리소스 그룹**: hello 프로필이 포함 된 Select hello 리소스 그룹입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-155">**Resource group**: Select hello resource group that contains hello profile.</span></span> <span data-ttu-id="4109f-156">새 리소스 그룹이나 기존 리소스 그룹을 선택할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-156">It can be a new or existing resource group.</span></span>
  * <span data-ttu-id="4109f-157">**리소스 그룹 위치**: 트래픽 관리자 서비스가 전역 이며 바인딩되지 않았습니다 tooa 위치가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-157">**Resource group location**: Traffic Manager service is global and not bound tooa location.</span></span> <span data-ttu-id="4109f-158">그러나 hello 트래픽 관리자 프로필에 연결 된 hello 메타 데이터가 있는 hello 그룹에 대 한 영역을 지정 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-158">However, you must specify a region for hello group where hello metadata associated with hello Traffic Manager profile resides.</span></span> <span data-ttu-id="4109f-159">이 위치는 hello 프로필의 hello 런타임 가용성에 영향을 주어에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-159">This location has no impact on hello runtime availability of hello profile.</span></span>

3. <span data-ttu-id="4109f-160">클릭 **만들기** toogenerate hello 트래픽 관리자 프로필.</span><span class="sxs-lookup"><span data-stu-id="4109f-160">Click **Create** toogenerate hello Traffic Manager profile.</span></span>

  !["Traffic Manager 만들기" 블레이드](./media/traffic-manager-load-balancing-azure/s1-create-tm-blade.png)

### <a name="step-2-create-hello-application-gateways"></a><span data-ttu-id="4109f-162">2 단계: hello 응용 프로그램 게이트웨이 만들기</span><span class="sxs-lookup"><span data-stu-id="4109f-162">Step 2: Create hello application gateways</span></span>

1. <span data-ttu-id="4109f-163">Hello hello 왼쪽된 창에서 Azure 포털에서에서 클릭 **새로** > **네트워킹** > **응용 프로그램 게이트웨이**합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-163">In hello Azure portal, in hello left pane, click **New** > **Networking** > **Application Gateway**.</span></span>
2. <span data-ttu-id="4109f-164">Hello 다음 응용 프로그램 게이트웨이 hello에 대 한 기본 정보를 입력 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-164">Enter hello following basic information about hello application gateway:</span></span>

  * <span data-ttu-id="4109f-165">**이름**: hello hello 응용 프로그램 게이트웨이의 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-165">**Name**: hello name of hello application gateway.</span></span>
  * <span data-ttu-id="4109f-166">**SKU 크기**: hello 크기의 hello 응용 프로그램 게이트웨이 소형, 중형 또는 대형으로 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-166">**SKU size**: hello size of hello application gateway, available as Small, Medium, or Large.</span></span>
  * <span data-ttu-id="4109f-167">**인스턴스 수를**: hello 인스턴스 수, 2에서 10 사이의 값입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-167">**Instance count**: hello number of instances, a value from 2 through 10.</span></span>
  * <span data-ttu-id="4109f-168">**리소스 그룹**: hello 응용 프로그램 게이트웨이 포함 하는 hello 리소스 그룹입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-168">**Resource group**: hello resource group that holds hello application gateway.</span></span> <span data-ttu-id="4109f-169">기존 리소스 그룹이나 새 리소스 그룹을 선택할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-169">It can be an existing resource group or a new one.</span></span>
  * <span data-ttu-id="4109f-170">**위치**: 동일 hello는 응용 프로그램 게이트웨이 hello에 대 한 hello 영역 hello 리소스 그룹 위치입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-170">**Location**: hello region for hello application gateway, which is hello same location as hello resource group.</span></span> <span data-ttu-id="4109f-171">hello 위치는 hello 가상 네트워크와 공용 IP hello에 있어야 하기 때문에, 중요 한 hello 게이트웨이와 동일한 위치입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-171">hello location is important, because hello virtual network and public IP must be in hello same location as hello gateway.</span></span>
3. <span data-ttu-id="4109f-172">**확인**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-172">Click **OK**.</span></span>
4. <span data-ttu-id="4109f-173">Hello 가상 네트워크, 서브넷, 프런트 엔드 IP 및 응용 프로그램 게이트웨이 hello에 대 한 수신기 구성을 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-173">Define hello virtual network, subnet, front-end IP, and listener configurations for hello application gateway.</span></span> <span data-ttu-id="4109f-174">이 시나리오에서는 hello 프런트 엔드 IP 주소는 **공용**, toobe 끝점 toohello 트래픽 관리자 프로필으로 나중에 추가할 수 있는 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-174">In this scenario, hello front-end IP address is **Public**, which allows it toobe added as an endpoint toohello Traffic Manager profile later on.</span></span>
5. <span data-ttu-id="4109f-175">Hello 다음 옵션 중 하나가 지정 된 hello 수신기를 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-175">Configure hello listener with one of hello following options:</span></span>
    * <span data-ttu-id="4109f-176">없는 경우 HTTP를 사용 하면 tooconfigure 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-176">If you use HTTP, there is nothing tooconfigure.</span></span> <span data-ttu-id="4109f-177">**확인**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-177">Click **OK**.</span></span>
    * <span data-ttu-id="4109f-178">HTTPS를 사용하는 경우 추가 구성이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-178">If you use HTTPS, further configuration is required.</span></span> <span data-ttu-id="4109f-179">너무 참조[응용 프로그램 게이트웨이 만들](../application-gateway/application-gateway-create-gateway-portal.md)9 단계에서 시작 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-179">Refer too[Create an application gateway](../application-gateway/application-gateway-create-gateway-portal.md), starting at step 9.</span></span> <span data-ttu-id="4109f-180">Hello 구성을 완료 한 클릭 **확인**합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-180">When you have completed hello configuration, click **OK**.</span></span>

#### <a name="configure-url-routing-for-application-gateways"></a><span data-ttu-id="4109f-181">Application Gateway에 대한 URL 라우팅 구성</span><span class="sxs-lookup"><span data-stu-id="4109f-181">Configure URL routing for application gateways</span></span>

<span data-ttu-id="4109f-182">백 엔드 풀을 선택 하면 경로 기반 규칙으로 구성 된 응용 프로그램 게이트웨이 더하기 tooround 로빈 배포에서 hello 요청 URL의 경로 패턴을 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-182">When you choose a back-end pool, an application gateway that's configured with a path-based rule takes a path pattern of hello request URL in addition tooround-robin distribution.</span></span> <span data-ttu-id="4109f-183">이 시나리오에서는 추가 하 고 경로 기반 규칙 toodirect와 모든 URL "/images/\*" toohello 이미지 서버 풀입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-183">In this scenario, we are adding a path-based rule toodirect any URL with "/images/\*" toohello image server pool.</span></span> <span data-ttu-id="4109f-184">URL을 구성 하는 방법에 대 한 자세한 내용은 응용 프로그램 게이트웨이 대 한 라우팅 경로 기반 참조 너무[응용 프로그램 게이트웨이 대 한 기준으로 경로 규칙을 만들](../application-gateway/application-gateway-create-url-route-portal.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-184">For more information about configuring URL path-based routing for an application gateway, refer too[Create a path-based rule for an application gateway](../application-gateway/application-gateway-create-url-route-portal.md).</span></span>

![Application Gateway 웹 계층 다이어그램](./media/traffic-manager-load-balancing-azure/web-tier-diagram.png)

1. <span data-ttu-id="4109f-186">리소스 그룹에서 toohello 인스턴스의 hello 섹션 앞에서 만든 hello 응용 프로그램 게이트웨이 이동 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-186">From your resource group, go toohello instance of hello application gateway that you created in hello preceding section.</span></span>
2. <span data-ttu-id="4109f-187">아래 **설정**선택, **백 엔드 풀**, 선택한 후 **추가** tooadd hello tooassociate hello 웹 계층 백 엔드 풀과 원하는 Vm입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-187">Under **Settings**, select **Backend pools**, and then select **Add** tooadd hello VMs that you want tooassociate with hello web-tier back-end pools.</span></span>
3. <span data-ttu-id="4109f-188">Hello에 **백 엔드 풀 추가** 블레이드에서 hello 백 엔드 풀의 hello 이름과 hello 풀에 있는 hello 컴퓨터의 모든 hello IP 주소를 입력 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-188">On hello **Add backend pool** blade, enter hello name of hello back-end pool and all hello IP addresses of hello machines that reside in hello pool.</span></span> <span data-ttu-id="4109f-189">이 시나리오에서는 가상 컴퓨터에 있는 두 개의 백 엔드 서버 풀을 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-189">In this scenario, we are connecting two back-end server pools of virtual machines.</span></span>

  ![Application Gateway "백 엔드 풀 추가" 블레이드](./media/traffic-manager-load-balancing-azure/s2-appgw-add-bepool.png)

4. <span data-ttu-id="4109f-191">아래 **설정** hello 응용 프로그램 게이트웨이 선택 **규칙**, hello를 클릭 한 다음 **경로 기반** 단추 tooadd 규칙입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-191">Under **Settings** of hello application gateway, select **Rules**, and then click hello **Path based** button tooadd a rule.</span></span>

  ![Application Gateway 규칙 "경로 기반" 단추](./media/traffic-manager-load-balancing-azure/s2-appgw-add-pathrule.png)

5. <span data-ttu-id="4109f-193">Hello에 **경로 기반 규칙 추가** 블레이드에서 hello 다음 정보를 제공 하 여 hello 규칙을 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-193">On hello **Add path-based rule** blade, configure hello rule by providing hello following information.</span></span>

   <span data-ttu-id="4109f-194">기본 설정:</span><span class="sxs-lookup"><span data-stu-id="4109f-194">Basic settings:</span></span>

   + <span data-ttu-id="4109f-195">**이름**: hello hello 포털에 액세스할 수 있는 hello 규칙의 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-195">**Name**: hello friendly name of hello rule that is accessible in hello portal.</span></span>
   + <span data-ttu-id="4109f-196">**수신기**: hello 규칙에 사용 되는 hello 수신기입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-196">**Listener**: hello listener that is used for hello rule.</span></span>
   + <span data-ttu-id="4109f-197">**백 엔드 풀 기본**: hello 백 엔드 풀 toobe hello 기본 규칙을 함께 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-197">**Default backend pool**: hello back-end pool toobe used with hello default rule.</span></span>
   + <span data-ttu-id="4109f-198">**기본 HTTP 설정**: hello HTTP 설정 toobe hello 기본 규칙을 함께 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-198">**Default HTTP settings**: hello HTTP settings toobe used with hello default rule.</span></span>

   <span data-ttu-id="4109f-199">패스 기반 규칙:</span><span class="sxs-lookup"><span data-stu-id="4109f-199">Path-based rules:</span></span>

   + <span data-ttu-id="4109f-200">**이름**: hello hello 경로 기반 규칙의 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-200">**Name**: hello friendly name of hello path-based rule.</span></span>
   + <span data-ttu-id="4109f-201">**경로**: 트래픽을 전달에 사용 되는 hello 경로 규칙입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-201">**Paths**: hello path rule that is used for forwarding traffic.</span></span>
   + <span data-ttu-id="4109f-202">**백 엔드 풀**:이 규칙으로 사용 되는 백 엔드 풀 toobe hello 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-202">**Backend Pool**: hello back-end pool toobe used with this rule.</span></span>
   + <span data-ttu-id="4109f-203">**HTTP 설정**: hello HTTP 설정 toobe이이 규칙과 함께 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-203">**HTTP Setting**: hello HTTP settings toobe used with this rule.</span></span>

   > [!IMPORTANT]
   > <span data-ttu-id="4109f-204">패스: 유효한 패스는 "/"로 시작해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-204">Paths: Valid paths must start with "/".</span></span> <span data-ttu-id="4109f-205">와일드 카드 hello "\*" hello 끝에만 허용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-205">hello wildcard "\*" is allowed only at hello end.</span></span> <span data-ttu-id="4109f-206">사용 가능한 예는 /xyz, /xyz\* 또는 /xyz/\*입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-206">Valid examples are /xyz, /xyz\*, or /xyz/\*.</span></span>

   ![Application Gateway "경로 기반 규칙 추가" 블레이드](./media/traffic-manager-load-balancing-azure/s2-appgw-pathrule-blade.png)

### <a name="step-3-add-application-gateways-toohello-traffic-manager-endpoints"></a><span data-ttu-id="4109f-208">3 단계: 응용 프로그램 게이트웨이 toohello 트래픽 관리자 끝점 추가</span><span class="sxs-lookup"><span data-stu-id="4109f-208">Step 3: Add application gateways toohello Traffic Manager endpoints</span></span>

<span data-ttu-id="4109f-209">이 시나리오에서는 트래픽 관리자는 서로 다른 지역에 있는 연결 된 tooapplication 게이트웨이 (대로 hello 이전 단계에서에서 구성)는입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-209">In this scenario, Traffic Manager is connected tooapplication gateways (as configured in hello preceding steps) that reside in different regions.</span></span> <span data-ttu-id="4109f-210">Hello 다음 단계는 tooconnect hello 응용 프로그램 게이트웨이 구성 했으므로 해당 tooyour 트래픽 관리자 프로필.</span><span class="sxs-lookup"><span data-stu-id="4109f-210">Now that hello application gateways are configured, hello next step is tooconnect them tooyour Traffic Manager profile.</span></span>

1. <span data-ttu-id="4109f-211">Traffic Manager 프로필을 엽니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-211">Open your Traffic Manager profile.</span></span> <span data-ttu-id="4109f-212">toodo 리소스 그룹이 나에서 hello 트래픽 관리자 프로필의 hello 이름에 대 한 검색, 찾는 **모든 리소스**합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-212">toodo so, look in your resource group or search for hello name of hello Traffic Manager profile from **All Resources**.</span></span>
2. <span data-ttu-id="4109f-213">Hello 왼쪽된 창에서 선택 **끝점**, 클릭 하 고 **추가** tooadd 끝점입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-213">In hello left pane, select **Endpoints**, and then click **Add** tooadd an endpoint.</span></span>

  ![Traffic Manager 끝점 "추가" 단추](./media/traffic-manager-load-balancing-azure/s3-tm-add-endpoint.png)

3. <span data-ttu-id="4109f-215">Hello에 **끝점 추가** 블레이드에서 hello 다음 정보를 입력 하 여 끝점을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-215">On hello **Add endpoint** blade, create an endpoint by entering hello following information:</span></span>

  * <span data-ttu-id="4109f-216">**형식**: hello 유형의 끝점 tooload 균형을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-216">**Type**: Select hello type of endpoint tooload-balance.</span></span> <span data-ttu-id="4109f-217">이 시나리오에서는 선택 **Azure 끝점** toohello 이전에 구성 된 응용 프로그램 게이트웨이 인스턴스가 연결 하려는 것 때문에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-217">In this scenario, select **Azure endpoint** because we are connecting it toohello application gateway instances that were configured previously.</span></span>
  * <span data-ttu-id="4109f-218">**이름**: hello 끝점의 hello 이름을 입력 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-218">**Name**: Enter hello name of hello endpoint.</span></span>
  * <span data-ttu-id="4109f-219">**대상 리소스 종류**: 선택 **공용 IP 주소** 차례로 선택한 다음 **대상 리소스**, 이전에 구성한 hello 응용 프로그램 게이트웨이의 hello 공용 IP를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-219">**Target resource type**: Select **Public IP address** and then, under **Target resource**, select hello public IP of hello application gateway that was configured previously.</span></span>

   ![Traffic Manager "끝점 추가" 블레이드](./media/traffic-manager-load-balancing-azure/s3-tm-add-endpoint-blade.png)

4. <span data-ttu-id="4109f-221">이제 hello 트래픽 관리자 프로필의 DNS에 액세스 하 여 설치 프로그램을 테스트할 수 있습니다 (이 예제의: TrafficManagerScenario.trafficmanager.net).</span><span class="sxs-lookup"><span data-stu-id="4109f-221">Now you can test your setup by accessing it with hello DNS of your Traffic Manager profile (in this example: TrafficManagerScenario.trafficmanager.net).</span></span> <span data-ttu-id="4109f-222">요청을 다시 보냅니다, 그리고 (를) 실행 또는 Vm과 다른 지역에 생성 된 웹 서버를 종료 하 고 변경할 수 hello 트래픽 관리자 프로필 설정을 tootest 설치 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-222">You can resend requests, bring up or bring down VMs and web servers that were created in different regions, and change hello Traffic Manager profile settings tootest your setup.</span></span>

### <a name="step-4-create-a-load-balancer"></a><span data-ttu-id="4109f-223">4단계: 부하 분산 장치 만들기</span><span class="sxs-lookup"><span data-stu-id="4109f-223">Step 4: Create a load balancer</span></span>

<span data-ttu-id="4109f-224">이 시나리오에서 부하 분산 장치 hello 웹 계층 toohello 데이터베이스 고가용성 클러스터 내에서에서 연결을 배포합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-224">In this scenario, Load Balancer distributes connections from hello web tier toohello databases within a high-availability cluster.</span></span>

<span data-ttu-id="4109f-225">가용성이 높은 데이터베이스 클러스터 SQL Server AlwaysOn을 사용 하는 경우 참조 너무[하나 이상의 항상에 가용성 그룹 수신기 구성](../virtual-machines/windows/sql/virtual-machines-windows-portal-sql-ps-alwayson-int-listener.md) 단계별 지침.</span><span class="sxs-lookup"><span data-stu-id="4109f-225">If your high-availability database cluster is using SQL Server AlwaysOn, refer too[Configure one or more Always On Availability Group Listeners](../virtual-machines/windows/sql/virtual-machines-windows-portal-sql-ps-alwayson-int-listener.md) for step-by-step instructions.</span></span>

<span data-ttu-id="4109f-226">내부 부하 분산 장치 구성에 대 한 자세한 내용은 참조 [hello Azure 포털에에서는 내부 부하 분산 장치를 만들](../load-balancer/load-balancer-get-started-ilb-arm-portal.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-226">For more information about configuring an internal load balancer, see [Create an Internal load balancer in hello Azure portal](../load-balancer/load-balancer-get-started-ilb-arm-portal.md).</span></span>

1. <span data-ttu-id="4109f-227">Hello hello 왼쪽된 창에서 Azure 포털에서에서 클릭 **새로** > **네트워킹** > **부하 분산 장치**합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-227">In hello Azure portal, in hello left pane, click **New** > **Networking** > **Load balancer**.</span></span>
2. <span data-ttu-id="4109f-228">Hello에 **부하 분산 장치 만들기** 블레이드, 부하 분산 장치에 대 한 이름을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-228">On hello **Create load balancer** blade, choose a name for your load balancer.</span></span>
3. <span data-ttu-id="4109f-229">집합 hello **형식** 너무**내부**, hello 적절 한 가상 네트워크와 서브넷에 부하 분산 장치 tooreside hello에 대 한를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-229">Set hello **Type** too**Internal**, and choose hello appropriate virtual network and subnet for hello load balancer tooreside in.</span></span>
4. <span data-ttu-id="4109f-230">**IP 주소 할당**에서 **동적** 또는 **정적** 중 하나를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-230">Under **IP address assignment**, select either **Dynamic** or **Static**.</span></span>
5. <span data-ttu-id="4109f-231">아래 **리소스 그룹**, hello 부하 분산 장치에 대 한 hello 리소스 그룹을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-231">Under **Resource group**, choose hello resource group for hello load balancer.</span></span>
6. <span data-ttu-id="4109f-232">아래 **위치**, hello hello 부하 분산 장치에 대 한 적절 한 지역을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-232">Under **Location**, choose hello appropriate region for hello load balancer.</span></span>
7. <span data-ttu-id="4109f-233">클릭 **만들기** toogenerate hello에 대 한 부하 분산 장치입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-233">Click **Create** toogenerate hello load balancer.</span></span>

#### <a name="connect-a-back-end-database-tier-toohello-load-balancer"></a><span data-ttu-id="4109f-234">백 엔드 데이터베이스 계층 toohello 부하 분산 장치 연결</span><span class="sxs-lookup"><span data-stu-id="4109f-234">Connect a back-end database tier toohello load balancer</span></span>

1. <span data-ttu-id="4109f-235">리소스 그룹에서 hello 이전 단계에서 만든 hello 부하 분산 장치를 찾습니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-235">From your resource group, find hello load balancer that was created in hello previous steps.</span></span>
2. <span data-ttu-id="4109f-236">아래 **설정**, 클릭 **백 엔드 풀**, 클릭 하 고 **추가** tooadd 백 엔드 풀입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-236">Under **Settings**, click **Backend pools**, and then click **Add** tooadd a back-end pool.</span></span>

  ![부하 분산 장치 "백 엔드 풀 추가" 블레이드](./media/traffic-manager-load-balancing-azure/s4-ilb-add-bepool.png)

3. <span data-ttu-id="4109f-238">Hello에 **백 엔드 풀 추가** 블레이드에서 hello 백 엔드 풀의 hello 이름을 입력 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-238">On hello **Add backend pool** blade, enter hello name of hello back-end pool.</span></span>
4. <span data-ttu-id="4109f-239">개별 컴퓨터 또는 프로그램 가용성 집합 toohello 백 엔드 풀을 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-239">Add either individual machines or an availability set toohello back-end pool.</span></span>

#### <a name="configure-a-probe"></a><span data-ttu-id="4109f-240">프로브를 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-240">Configure a probe</span></span>

1. <span data-ttu-id="4109f-241">부하 분산 장치에서 아래 **설정**을 선택 **프로브**, 클릭 하 고 **추가** tooadd에 검색 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-241">In your load balancer, under **Settings**, select **Probes**, and then click **Add** tooadd a probe.</span></span>

 ![부하 분산 장치 "프로브 추가" 블레이드](./media/traffic-manager-load-balancing-azure/s4-ilb-add-probe.png)

2. <span data-ttu-id="4109f-243">Hello에 **추가 프로브** 블레이드에서 hello 프로브에 대 한 hello 이름을 입력 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-243">On hello **Add probe** blade, enter hello name for hello probe.</span></span>
3. <span data-ttu-id="4109f-244">선택 hello **프로토콜** hello 검색 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-244">Select hello **Protocol** for hello probe.</span></span> <span data-ttu-id="4109f-245">데이터베이스의 경우 HTTP 프로브가 아닌 TCP 프로브를 사용하려고 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-245">For a database, you might want a TCP probe rather than an HTTP probe.</span></span> <span data-ttu-id="4109f-246">부하 분산 장치 프로브에 대해 자세히 toolearn 너무 참조[이해 부하 분산 장치 프로브](../load-balancer/load-balancer-custom-probe-overview.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-246">toolearn more about load-balancer probes, refer too[Understand load balancer probes](../load-balancer/load-balancer-custom-probe-overview.md).</span></span>
4. <span data-ttu-id="4109f-247">Hello 입력 **포트** hello 프로브를 액세스 하기 위해 사용 하 여 데이터베이스 toobe의 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-247">Enter hello **Port** of your database toobe used for accessing hello probe.</span></span>
5. <span data-ttu-id="4109f-248">아래 **간격**를 얼마나 자주 tooprobe hello 응용 프로그램을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-248">Under **Interval**, specify how frequently tooprobe hello application.</span></span>
6. <span data-ttu-id="4109f-249">아래 **비정상 임계값**, hello 비정상으로 간주 하는 hello 백 엔드 VM toobe 발생 해야 하는 연속 프로브 오류 수를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-249">Under **Unhealthy threshold**, specify hello number of continuous probe failures that must occur for hello back-end VM toobe considered unhealthy.</span></span>
7. <span data-ttu-id="4109f-250">클릭 **확인** toocreate hello 프로브 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-250">Click **OK** toocreate hello probe.</span></span>

#### <a name="configure-hello-load-balancing-rules"></a><span data-ttu-id="4109f-251">Hello 부하 분산 규칙 구성</span><span class="sxs-lookup"><span data-stu-id="4109f-251">Configure hello load-balancing rules</span></span>

1. <span data-ttu-id="4109f-252">아래 **설정** 부하 분산 장치를 선택 **부하 분산 규칙**, 클릭 하 고 **추가** toocreate 규칙입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-252">Under **Settings** of your load balancer, select **Load balancing rules**, and then click **Add** toocreate a rule.</span></span>
2. <span data-ttu-id="4109f-253">Hello에 **추가 부하 분산 규칙** 블레이드에서 hello 입력 **이름** hello 부하 분산 규칙에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-253">On hello **Add load balancing rule** blade, enter hello **Name** for hello load-balancing rule.</span></span>
3. <span data-ttu-id="4109f-254">Hello 선택 **프런트 엔드 IP 주소** hello의 부하 분산 장치, **프로토콜**, 및 **포트**합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-254">Choose hello **Frontend IP Address** of hello load balancer, **Protocol**, and **Port**.</span></span>
4. <span data-ttu-id="4109f-255">아래 **백 엔드 포트가**, hello 백 엔드 풀에서 사용 하는 hello 포트 toobe를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-255">Under **Backend port**, specify hello port toobe used in hello back-end pool.</span></span>
5. <span data-ttu-id="4109f-256">선택 hello **백 엔드 풀** hello 및 **프로브** hello 이전 단계 tooapply hello 규칙이 생성 된입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-256">Select hello **Backend pool** and hello **Probe** that were created in hello previous steps tooapply hello rule to.</span></span>
6. <span data-ttu-id="4109f-257">아래 **세션 지 속성**, hello 세션 toopersist 원하는 형식을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-257">Under **Session persistence**, choose how you want hello sessions toopersist.</span></span>
7. <span data-ttu-id="4109f-258">아래 **유휴 시간 제한을**, hello는 유휴 시간 제한 (분) 수를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-258">Under **Idle timeouts**, specify hello number of minutes before an idle timeout.</span></span>
8. <span data-ttu-id="4109f-259">**부동 IP**에서 **사용 안 함**이나 **사용**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-259">Under **Floating IP**, select either **Disabled** or **Enabled**.</span></span>
9. <span data-ttu-id="4109f-260">클릭 **확인** toocreate hello 규칙입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-260">Click **OK** toocreate hello rule.</span></span>

### <a name="step-5-connect-web-tier-vms-toohello-load-balancer"></a><span data-ttu-id="4109f-261">5 단계: 웹 계층 Vm toohello 부하 분산 장치 연결</span><span class="sxs-lookup"><span data-stu-id="4109f-261">Step 5: Connect web-tier VMs toohello load balancer</span></span>

<span data-ttu-id="4109f-262">이제 모든 데이터베이스 연결에 대해 웹 계층 Vm에서 실행 되는 hello 응용 프로그램에서 hello IP 주소 및 부하 분산 장치 프런트 엔드 포트를 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-262">Now we configure hello IP address and load-balancer front-end port in hello applications that are running on your web-tier VMs for any database connections.</span></span> <span data-ttu-id="4109f-263">이 구성은 이러한 Vm에서 실행 되는 특정 toohello 응용 프로그램에 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-263">This configuration is specific toohello applications that run on these VMs.</span></span> <span data-ttu-id="4109f-264">tooconfigure hello 대상 IP 주소 및 포트를 toohello 응용 프로그램 설명서를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="4109f-264">tooconfigure hello destination IP address and port, refer toohello application documentation.</span></span> <span data-ttu-id="4109f-265">hello Azure 포털에서에서 hello 프런트 엔드의 toofind hello IP 주소 hello toohello 프런트 엔드 IP 풀 이동 **부하 분산 장치 설정** 블레이드입니다.</span><span class="sxs-lookup"><span data-stu-id="4109f-265">toofind hello IP address of hello front end, in hello Azure portal, go toohello front-end IP pool on hello **Load balancer settings** blade.</span></span>

![부하 분산 장치 "프런트 엔드 IP 풀" 탐색 창](./media/traffic-manager-load-balancing-azure/s5-ilb-frontend-ippool.png)

## <a name="next-steps"></a><span data-ttu-id="4109f-267">다음 단계</span><span class="sxs-lookup"><span data-stu-id="4109f-267">Next steps</span></span>

* [<span data-ttu-id="4109f-268">Traffic Manager 개요</span><span class="sxs-lookup"><span data-stu-id="4109f-268">Overview of Traffic Manager</span></span>](traffic-manager-overview.md)
* [<span data-ttu-id="4109f-269">Application Gateway 개요</span><span class="sxs-lookup"><span data-stu-id="4109f-269">Application Gateway overview</span></span>](../application-gateway/application-gateway-introduction.md)
* [<span data-ttu-id="4109f-270">Azure Load Balancer개요</span><span class="sxs-lookup"><span data-stu-id="4109f-270">Azure Load Balancer overview</span></span>](../load-balancer/load-balancer-overview.md)
