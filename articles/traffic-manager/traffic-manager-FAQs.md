---
title: Azure Traffic Manager - FAQ | Microsoft Docs
description: "이 문서에서는 Traffic Manager에 대한 질문과 대답을 제공합니다."
services: traffic-manager
documentationcenter: 
author: kumudd
manager: timlt
editor: 
ms.assetid: 75d5ff9a-f4b9-4b05-af32-700e7bdfea5a
ms.service: traffic-manager
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 06/15/2017
ms.author: kumud
ms.openlocfilehash: 44762864e0a5adf568fcd4928b48661196f05b9e
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/11/2017
---
# <a name="traffic-manager-frequently-asked-questions-faq"></a><span data-ttu-id="3710e-103">Traffic Manager FAQ(질문과 대답)</span><span class="sxs-lookup"><span data-stu-id="3710e-103">Traffic Manager Frequently Asked Questions (FAQ)</span></span>

## <a name="traffic-manager-basics"></a><span data-ttu-id="3710e-104">Traffic Manager 기본 사항</span><span class="sxs-lookup"><span data-stu-id="3710e-104">Traffic Manager basics</span></span>

### <a name="what-ip-address-does-traffic-manager-use"></a><span data-ttu-id="3710e-105">트래픽 관리자가 사용하는 IP 주소는 어떻게 되나요?</span><span class="sxs-lookup"><span data-stu-id="3710e-105">What IP address does Traffic Manager use?</span></span>

<span data-ttu-id="3710e-106">[Traffic Manager 작동 방식](../traffic-manager/traffic-manager-overview.md#how-traffic-manager-works)에서 설명했듯이 Traffic Manager는 DNS 수준에서 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-106">As explained in [How Traffic Manager Works](../traffic-manager/traffic-manager-overview.md#how-traffic-manager-works), Traffic Manager works at the DNS level.</span></span> <span data-ttu-id="3710e-107">클라이언트를 적절한 서비스 끝점으로 보내기 위해 DNS 응답을 전송합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-107">It sends DNS responses to direct clients to the appropriate service endpoint.</span></span> <span data-ttu-id="3710e-108">그러면 클라이언트는 트래픽 관리자를 통해서가 아니라 직접 서비스 끝점에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-108">Clients then connect to the service endpoint directly, not through Traffic Manager.</span></span>

<span data-ttu-id="3710e-109">따라서 트래픽 관리자는 클라이언트가 연결할 끝점 또는 IP 주소를 제공하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-109">Therefore, Traffic Manager does not provide an endpoint or IP address for clients to connect to.</span></span> <span data-ttu-id="3710e-110">따라서 서비스에 고정 IP 주소가 필요한 경우 Traffic Manager가 아니라 서비스에서 구성해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-110">Therefore, if you want static IP address for your service, that must be configured at the service, not in Traffic Manager.</span></span>

### <a name="does-traffic-manager-support-sticky-sessions"></a><span data-ttu-id="3710e-111">Traffic Manager는 '고정' 세션을 지원하나요?</span><span class="sxs-lookup"><span data-stu-id="3710e-111">Does Traffic Manager support 'sticky' sessions?</span></span>

<span data-ttu-id="3710e-112">[Traffic Manager 작동 방식](../traffic-manager/traffic-manager-overview.md#how-traffic-manager-works)에서 설명했듯이 Traffic Manager는 DNS 수준에서 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-112">As explained in [How Traffic Manager Works](../traffic-manager/traffic-manager-overview.md#how-traffic-manager-works), Traffic Manager works at the DNS level.</span></span> <span data-ttu-id="3710e-113">클라이언트를 적절한 서비스 끝점으로 보내기 위해 DNS 응답을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-113">It uses DNS responses to direct clients to the appropriate service endpoint.</span></span> <span data-ttu-id="3710e-114">클라이언트는 Traffic Manager를 통해서가 아니라 직접 서비스 끝점에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-114">Clients connect to the service endpoint directly, not through Traffic Manager.</span></span> <span data-ttu-id="3710e-115">따라서 Traffic Manager는 클라이언트와 서비스 간에 HTTP 트래픽을 표시하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-115">Therefore, Traffic Manager does not see the HTTP traffic between the client and the server.</span></span>

<span data-ttu-id="3710e-116">또한 Traffic Manager에서 수신하는 DNS 쿼리의 원본 IP 주소는 클라이언트가 아니라 재귀 DNS 서비스에 속합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-116">Additionally, the source IP address of the DNS query received by Traffic Manager belongs to the recursive DNS service, not the client.</span></span> <span data-ttu-id="3710e-117">따라서 Traffic Manager에는 개별 클라이언트를 추적할 방법이 없으므로 '고정' 세션을 구현할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-117">Therefore, Traffic Manager has no way to track individual clients and cannot implement 'sticky' sessions.</span></span> <span data-ttu-id="3710e-118">이 제한은 모든 DNS 기반 트래픽 관리 시스템에 공통적으로 적용되며, Traffic Manager에 특정되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-118">This limitation is common to all DNS-based traffic management systems and is not specific to Traffic Manager.</span></span>

### <a name="why-am-i-seeing-an-http-error-when-using-traffic-manager"></a><span data-ttu-id="3710e-119">Traffic Manager를 사용할 때 HTTP 오류가 나타나는 이유는 무엇인가요?</span><span class="sxs-lookup"><span data-stu-id="3710e-119">Why am I seeing an HTTP error when using Traffic Manager?</span></span>

<span data-ttu-id="3710e-120">[Traffic Manager 작동 방식](../traffic-manager/traffic-manager-overview.md#how-traffic-manager-works)에서 설명했듯이 Traffic Manager는 DNS 수준에서 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-120">As explained in [How Traffic Manager Works](../traffic-manager/traffic-manager-overview.md#how-traffic-manager-works), Traffic Manager works at the DNS level.</span></span> <span data-ttu-id="3710e-121">클라이언트를 적절한 서비스 끝점으로 보내기 위해 DNS 응답을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-121">It uses DNS responses to direct clients to the appropriate service endpoint.</span></span> <span data-ttu-id="3710e-122">그러면 클라이언트는 트래픽 관리자를 통해서가 아니라 직접 서비스 끝점에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-122">Clients then connect to the service endpoint directly, not through Traffic Manager.</span></span> <span data-ttu-id="3710e-123">Traffic Manager는 클라이언트와 서버 간에 HTTP 트래픽을 표시하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-123">Traffic Manager does not see HTTP traffic between client and server.</span></span> <span data-ttu-id="3710e-124">따라서 표시된 모든 HTTP 오류는 응용 프로그램에서 가져온 것이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-124">Therefore, any HTTP error you see must be coming from your application.</span></span> <span data-ttu-id="3710e-125">클라이언트를 응용 프로그램에 연결하는 경우 모든 DNS 확인 단계를 완료합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-125">For the client to connect to the application, all DNS resolution steps are complete.</span></span> <span data-ttu-id="3710e-126">Traffic Manager가 응용 프로그램 트래픽 흐름에 있는 모든 상호 작용을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-126">That includes any interaction that Traffic Manager has on the application traffic flow.</span></span>

<span data-ttu-id="3710e-127">따라서 추가 조사는 응용 프로그램에 중점을 두어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-127">Further investigation should therefore focus on the application.</span></span>

<span data-ttu-id="3710e-128">클라이언트의 브라우저에서 보낸 HTTP 호스트 헤더는 문제의 가장 일반적인 소스입니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-128">The HTTP host header sent from the client's browser is the most common source of problems.</span></span> <span data-ttu-id="3710e-129">사용자가 사용하는 도메인 이름에 대한 올바른 호스트 헤더를 수락하도록 응용 프로그램을 구성하는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-129">Make sure that the application is configured to accept the correct host header for the domain name you are using.</span></span> <span data-ttu-id="3710e-130">Azure App Service를 사용하는 끝점의 경우 [Traffic Manager를 사용하는 Azure App Service의 웹앱에 대한 사용자 지정 도메인 이름 구성](../app-service-web/web-sites-traffic-manager-custom-domain-name.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="3710e-130">For endpoints using the Azure App Service, see [configuring a custom domain name for a web app in Azure App Service using Traffic Manager](../app-service-web/web-sites-traffic-manager-custom-domain-name.md).</span></span>

### <a name="what-is-the-performance-impact-of-using-traffic-manager"></a><span data-ttu-id="3710e-131">트래픽 관리자를 사용할 때 성능 영향은 무엇인가요?</span><span class="sxs-lookup"><span data-stu-id="3710e-131">What is the performance impact of using Traffic Manager?</span></span>

<span data-ttu-id="3710e-132">[Traffic Manager 작동 방식](../traffic-manager/traffic-manager-overview.md#how-traffic-manager-works)에서 설명했듯이 Traffic Manager는 DNS 수준에서 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-132">As explained in [How Traffic Manager Works](../traffic-manager/traffic-manager-overview.md#how-traffic-manager-works), Traffic Manager works at the DNS level.</span></span> <span data-ttu-id="3710e-133">클라이언트가 서비스 끝점에 직접 연결되므로 연결이 설정된 후 트래픽 관리자를 사용하면 성능 영향이 발생하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-133">Since clients connect to your service endpoints directly, there is no performance impact incurred when using Traffic Manager once the connection is established.</span></span>

<span data-ttu-id="3710e-134">Traffic Manager는 DNS 수준에서 응용 프로그램과 통합하므로 추가 DNS 조회를 DNS 확인 체인에 삽입해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-134">Since Traffic Manager integrates with applications at the DNS level, it does require an additional DNS lookup to be inserted into the DNS resolution chain.</span></span> <span data-ttu-id="3710e-135">DNS 확인 시간에 대한 트래픽 관리자의 영향은 최소입니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-135">The impact of Traffic Manager on DNS resolution time is minimal.</span></span> <span data-ttu-id="3710e-136">Traffic Manager는 이름 서버의 글로벌 네트워크를 사용하며 DNS 쿼리가 사용 가능한 가장 가까운 이름 서버로 라우팅되도록 [애니캐스트](https://en.wikipedia.org/wiki/Anycast) 네트워킹을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-136">Traffic Manager uses a global network of name servers, and uses [anycast](https://en.wikipedia.org/wiki/Anycast) networking to ensure DNS queries are always routed to the closest available name server.</span></span> <span data-ttu-id="3710e-137">또한 DNS 응답의 캐싱은 트래픽 관리자를 사용하여 발생한 추가 DNS 대기 시간이 세션 중 일부에만 적용되는 것을 의미합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-137">In addition, caching of DNS responses means that the additional DNS latency incurred by using Traffic Manager applies only to a fraction of sessions.</span></span>

<span data-ttu-id="3710e-138">성능 메서드는 사용 가능한 가장 가까운 끝점으로 트래픽을 라우팅합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-138">The Performance method routes traffic to the closest available endpoint.</span></span> <span data-ttu-id="3710e-139">최종적인 결론은 이 메서드와 연결된 전체 성능 영향을 최소화해야 한다는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-139">The net result is that the overall performance impact associated with this method should be minimal.</span></span> <span data-ttu-id="3710e-140">DNS 대기 시간 증가는 끝점에 대한 더 낮은 네트워크 대기 시간으로 오프셋되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-140">Any increase in DNS latency should be offset by lower network latency to the endpoint.</span></span>

### <a name="what-application-protocols-can-i-use-with-traffic-manager"></a><span data-ttu-id="3710e-141">트래픽 관리자에는 어떤 응용 프로그램 프로토콜을 사용할 수 있나요?</span><span class="sxs-lookup"><span data-stu-id="3710e-141">What application protocols can I use with Traffic Manager?</span></span>

<span data-ttu-id="3710e-142">[Traffic Manager 작동 방식](../traffic-manager/traffic-manager-overview.md#how-traffic-manager-works)에서 설명했듯이 Traffic Manager는 DNS 수준에서 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-142">As explained in [How Traffic Manager Works](../traffic-manager/traffic-manager-overview.md#how-traffic-manager-works), Traffic Manager works at the DNS level.</span></span> <span data-ttu-id="3710e-143">DNS 조회가 완료되면 클라이언트는 트래픽 관리자를 통해서가 아닌 응용 프로그램 끝점에 직접 연결됩니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-143">Once the DNS lookup is complete, clients connect to the application endpoint directly, not through Traffic Manager.</span></span> <span data-ttu-id="3710e-144">따라서 이 연결에서는 모든 응용 프로그램 프로토콜을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-144">Therefore, the connection can use any application protocol.</span></span> <span data-ttu-id="3710e-145">TCP를 모니터링 프로토콜로 선택하면 응용 프로그램 프로토콜을 사용하지 않고 Traffic Manager의 끝점 상태 모니터링을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-145">If you select TCP as the monitoring protocol, Traffic Manager's endpoint health monitoring can be done without using any application protocols.</span></span> <span data-ttu-id="3710e-146">응용 프로그램 프로토콜을 사용하여 상태가 확인되도록 선택한 경우 끝점이 HTTP 또는 HTTPS GET 요청에 응답할 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-146">If you choose to have the health verified using an application protocol, the endpoint needs to be able to respond to either HTTP or HTTPS GET requests.</span></span>

### <a name="can-i-use-traffic-manager-with-a-naked-domain-name"></a><span data-ttu-id="3710e-147">'naked' 도메인 이름으로 Traffic Manager를 사용할 수 있나요?</span><span class="sxs-lookup"><span data-stu-id="3710e-147">Can I use Traffic Manager with a 'naked' domain name?</span></span>

<span data-ttu-id="3710e-148">아니요.</span><span class="sxs-lookup"><span data-stu-id="3710e-148">No.</span></span> <span data-ttu-id="3710e-149">DNS 표준은 CNAME이 동일한 이름의 다른 DNS 레코드와 함께 존재하는 것을 허용하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-149">The DNS standards do not permit CNAMEs to co-exist with other DNS records of the same name.</span></span> <span data-ttu-id="3710e-150">DNS 영역의 apex(또는 루트)는 항상 SOA 및 권한이 있는 NS 레코드라는 두 개의 기존 DNS 레코드를 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-150">The apex (or root) of a DNS zone always contains two pre-existing DNS records; the SOA and the authoritative NS records.</span></span> <span data-ttu-id="3710e-151">즉, DNS 표준을 위반하지 않고 영역 apex에 CNAME 레코드를 만들 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-151">This means a CNAME record cannot be created at the zone apex without violating the DNS standards.</span></span>

<span data-ttu-id="3710e-152">Traffic Manager는 베니티 DNS 이름을 매핑하는 데 DNS CNAME 레코드가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-152">Traffic Manager requires a DNS CNAME record to map the vanity DNS name.</span></span> <span data-ttu-id="3710e-153">예를 들어 www.contoso.com을 Traffic Manager 프로필 DNS 이름 contoso.trafficmanager.net에 매핑합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-153">For example, you map www.contoso.com to the Traffic Manager profile DNS name contoso.trafficmanager.net.</span></span> <span data-ttu-id="3710e-154">또한 Traffic Manager 프로필은 클라이언트가 연결해야 하는 끝점을 나타내는 보조 DNS CNAME을 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-154">Additionally, the Traffic Manager profile returns a second DNS CNAME to indicate which endpoint the client should connect to.</span></span>

<span data-ttu-id="3710e-155">이 문제를 해결하려면 naked 도메인 이름에서 다른 URL로 트래픽을 연결하는 HTTP 리디렉션을 사용하는 것이 좋습니다. 그런 다음 Traffic Manager를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-155">To work around this issue, we recommend using an HTTP redirect to direct traffic from the naked domain name to a different URL, which can then use Traffic Manager.</span></span> <span data-ttu-id="3710e-156">예를 들어 naked 도메인 'contoso.com'에서는 사용자를 Traffic Manager DNS 이름을 가리키는 'www.contoso.com'으로 리디렉션할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-156">For example, the naked domain 'contoso.com' can redirect users to the CNAME 'www.contoso.com' that points to the Traffic Manager DNS name.</span></span>

<span data-ttu-id="3710e-157">트래픽 관리자에서 naked 도메인에 대한 전체 지원은 기능 백로그에서 추적됩니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-157">Full support for naked domains in Traffic Manager is tracked in our feature backlog.</span></span> <span data-ttu-id="3710e-158">[커뮤니티 피드백 사이트에서 투표](https://feedback.azure.com/forums/217313-networking/suggestions/5485350-support-apex-naked-domains-more-seamlessly)하여 이 기능 요청에 지원을 등록할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-158">You can register your support for this feature request by [voting for it on our community feedback site](https://feedback.azure.com/forums/217313-networking/suggestions/5485350-support-apex-naked-domains-more-seamlessly).</span></span>

### <a name="does-traffic-manager-consider-the-client-subnet-address-when-handling-dns-queries"></a><span data-ttu-id="3710e-159">DNS 쿼리를 처리할 때 Traffic Manager는 클라이언트 서브넷 주소를 고려하나요?</span><span class="sxs-lookup"><span data-stu-id="3710e-159">Does Traffic Manager consider the client subnet address when handling DNS queries?</span></span> 
<span data-ttu-id="3710e-160">아니요. 현재 Traffic Manager는 지리적 및 성능 라우팅 방법에 대해 조회를 수행할 때 일반적으로 DNS 확인자의 IP 주소에 해당하는 수신된 DNS 쿼리의 원본 IP 주소만 고려합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-160">No, currently Traffic Manager considers only the source IP address of the DNS query it receives, which usually is the IP address of the DNS resolver, when performing lookups for Geographic and Performance routing methods.</span></span>  
<span data-ttu-id="3710e-161">특히 지원하는 확인자의 클라이언트 서브넷 주소를 DNS 서버로 전달할 수 있는 [EDNS0(DNS에 대한 확장 메커니즘)](https://tools.ietf.org/html/rfc2671)을 제공하는 [RFC 7871 – DNS 쿼리의 클라이언트 서브넷](https://tools.ietf.org/html/rfc7871)은 현재 Traffic Manager에서 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-161">Specifically, [RFC 7871 – Client Subnet in DNS Queries](https://tools.ietf.org/html/rfc7871) that provides an [Extension Mechanism for DNS (EDNS0)](https://tools.ietf.org/html/rfc2671) which can pass on the client subnet address from resolvers that support it to DNS servers is currently not supported in Traffic Manager.</span></span> <span data-ttu-id="3710e-162">[커뮤니티 피드백 사이트](https://feedback.azure.com/forums/217313-networking)를 통해 이 기능 요청에 대한 지원을 받도록 등록할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-162">You can register your support for this feature request through our [community feedback site](https://feedback.azure.com/forums/217313-networking).</span></span>


### <a name="what-is-dns-ttl-and-how-does-it-impact-my-users"></a><span data-ttu-id="3710e-163">DNS TTL이란 무엇이며 사용자에게 어떤 영향을 주나요?</span><span class="sxs-lookup"><span data-stu-id="3710e-163">What is DNS TTL and how does it impact my users?</span></span>

<span data-ttu-id="3710e-164">DNS 쿼리가 Traffic Manager에 도착하면 TTL(Time to Live)이라는 값을 응답에 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-164">When a DNS query lands on Traffic Manager, it sets a value in the response called time-to-live (TTL).</span></span> <span data-ttu-id="3710e-165">초 단위로 지정된 이 값은 이 응답을 캐시할 기간을 DNS 확인자 다운스트림에 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-165">This value, whose unit is in seconds, indicates to DNS resolvers downstream on how long to cache this response.</span></span> <span data-ttu-id="3710e-166">DNS 확인자가 항상 이 결과를 캐시하는 것은 아니지만 캐시하면 Traffic Manager DNS 서버로 이동하지 않고 캐시에서 후속 쿼리에 응답할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-166">While DNS resolvers are not guaranteed to cache this result, caching it enables them to respond to any subsequent queries off the cache instead of going to Traffic Manager DNS servers.</span></span> <span data-ttu-id="3710e-167">이 경우 응답에 다음과 같은 영향을 줍니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-167">This impacts the responses as follows:</span></span>
- <span data-ttu-id="3710e-168">TTL이 높을수록 Traffic Manager DNS 서버에 도착하는 쿼리 수가 감소하며, 처리된 쿼리 수가 청구 가능한 사용량이기 때문에 고객의 비용을 줄일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-168">a higher TTL reduces the number of queries that land on the Traffic Manager DNS servers, which can reduce the cost for a customer since number of queries served is a billable usage.</span></span>
- <span data-ttu-id="3710e-169">TTL이 높을수록 DNS 조회를 수행하는 데 걸리는 시간을 줄일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-169">a higher TTL can potentially reduce the time it takes to do a DNS lookup.</span></span>
- <span data-ttu-id="3710e-170">또한 TTL이 높을수록 Traffic Manager가 검색 에이전트를 통해 얻은 최신 상태 정보가 데이터에 반영되지 않음을 의미합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-170">a higher TTL also means that your data does not reflect the latest health information that Traffic Manager has obtained through its probing agents.</span></span>

### <a name="how-high-or-low-can-i-set-the-ttl-for-traffic-manager-responses"></a><span data-ttu-id="3710e-171">Traffic Manager 응답에 대해 설정할 수 있는 TTL 상한 또는 하한은 어느 정도인가요?</span><span class="sxs-lookup"><span data-stu-id="3710e-171">How high or low can I set the TTL for Traffic Manager responses?</span></span>

<span data-ttu-id="3710e-172">프로필 수준별로 DNS TTL을 0초에서 2,147,483,647초 사이로 설정할 수 있습니다(최대 범위는 [RFC-1035](https://www.ietf.org/rfc/rfc1035.txt )에 따름).</span><span class="sxs-lookup"><span data-stu-id="3710e-172">You can set, at a per profile level, the DNS TTL to be as low as 0 seconds and as high as 2,147,483,647 seconds (the maximum range compliant with [RFC-1035](https://www.ietf.org/rfc/rfc1035.txt )).</span></span> <span data-ttu-id="3710e-173">TTL이 0이면 다운스트림 DNS 확인자가 쿼리 응답을 캐시하지 않고 모든 쿼리가 확인을 위해 Traffic Manager DNS 서버에 도착합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-173">A TTL of 0 means that downstream DNS resolvers do not cache query responses and all queries are expected to reach the Traffic Manager DNS servers for resolution.</span></span>

## <a name="traffic-manager-geographic-traffic-routing-method"></a><span data-ttu-id="3710e-174">Traffic Manager 지리적 트래픽 라우팅 방법</span><span class="sxs-lookup"><span data-stu-id="3710e-174">Traffic Manager Geographic traffic routing method</span></span>

### <a name="what-are-some-use-cases-where-geographic-routing-is-useful"></a><span data-ttu-id="3710e-175">지리적 라우팅이 유용한 사용 사례에는 어떤 것이 있습니까?</span><span class="sxs-lookup"><span data-stu-id="3710e-175">What are some use cases where geographic routing is useful?</span></span> 
<span data-ttu-id="3710e-176">지리적 라우팅 형식은 Azure 고객이 지리적 지역에 따라 사용자를 구분해야 하는 시나리오에서 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-176">Geographic routing type can be used in any scenario where an Azure customer needs to distinguish their users based on geographic regions.</span></span> <span data-ttu-id="3710e-177">예를 들어 지리적 트래픽 라우팅 방법을 사용하게 되면 특정 지역의 사용자에게 다른 지역의 사용자와는 다른 사용자 환경을 제공할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-177">For example, using the Geographic traffic routing method, you can give users from specific regions a different user experience than those from other regions.</span></span> <span data-ttu-id="3710e-178">또 다른 예는 특정 지역의 해당 사용자들이 해당 지역의 끝점에서만 제공받도록 하는 로컬 데이터 독립성 지침을 준수하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-178">Another example is complying with local data sovereignty mandates that require that users from a specific region be served only by endpoints in that region.</span></span>

### <a name="what-are-the-regions-that-are-supported-by-traffic-manager-for-geographic-routing"></a><span data-ttu-id="3710e-179">지리적 라우팅에 대해 Traffic Manager에서 지원되는 지역은 어디입니까?</span><span class="sxs-lookup"><span data-stu-id="3710e-179">What are the regions that are supported by Traffic Manager for geographic routing?</span></span> 
<span data-ttu-id="3710e-180">Traffic Manager에서 사용되는 국가/지역 계층 구조는 [여기](traffic-manager-geographic-regions.md)에서 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-180">The country/region hierarchy that is used by Traffic Manager can be found [here](traffic-manager-geographic-regions.md).</span></span> <span data-ttu-id="3710e-181">이 페이지는 변경 내용으로 최신 상태를 유지하지만, [Azure Traffic Manager REST API](https://docs.microsoft.com/rest/api/trafficmanager/)를 사용하여 동일한 정보를 프로그래밍 방식으로 검색할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-181">While this page is kept up-to-date with any changes, you can also programmatically retrieve the same information by using the [Azure Traffic Manager REST API](https://docs.microsoft.com/rest/api/trafficmanager/).</span></span> 

### <a name="how-does-traffic-manager-determine-where-a-user-is-querying-from"></a><span data-ttu-id="3710e-182">Traffic Manager는 어떻게 사용자가 쿼리하는 위치를 결정합니까?</span><span class="sxs-lookup"><span data-stu-id="3710e-182">How does traffic manager determine where a user is querying from?</span></span> 
<span data-ttu-id="3710e-183">Traffic Manager는 쿼리의 원본 IP를 찾고(대개 사용자 대신 쿼리를 수행하는 로컬 DNS 확인자일 수 있음) 지역 맵에 대한 내부 IP를 사용하여 위치를 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-183">Traffic Manager looks at the source IP of the query (this most likely is a local DNS resolver doing the querying on behalf of the user) and uses an internal IP to region map to determine the location.</span></span> <span data-ttu-id="3710e-184">이 맵은 인터넷에서 변화를 확인하기 위해 정기적으로 업데이트됩니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-184">This map is updated on an ongoing basis to account for changes in the internet.</span></span> 

### <a name="is-it-guaranteed-that-traffic-manager-can-correctly-determine-the-exact-geographic-location-of-the-user-in-every-case"></a><span data-ttu-id="3710e-185">Traffic Manager가 모든 경우에 사용자의 정확한 지리적 위치를 올바르게 결정한다고 보장할 수 있나요?</span><span class="sxs-lookup"><span data-stu-id="3710e-185">Is it guaranteed that Traffic Manager can correctly determine the exact geographic location of the user in every case?</span></span>
<span data-ttu-id="3710e-186">아니요. 다음과 같은 이유로 Traffic Manager에서는 DNS 쿼리의 원본 IP 주소에서 유추되는 지리적 하위 지역이 사용자 위치에 항상 올바르게 응답한다고는 보장할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-186">No, Traffic Manager cannot guarantee that the geographic region we infer from the source IP address of a DNS query will always correspond to the user’s location due to the following reasons:</span></span> 

- <span data-ttu-id="3710e-187">첫째, 이전 FAQ에 설명된 것처럼 보고 있는 원본 IP 주소는 DNS 확인자가 사용자를 대신해서 조회를 수행하는 주소입니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-187">First, as described in the previous FAQ, the source IP address we see is that of a DNS resolver doing the lookup on behalf of the user.</span></span> <span data-ttu-id="3710e-188">DNS 확인자의 지리적 위치는 사용자의 지리적 위치에 대한 적절한 프록시이지만, 해당 DNS 확인자 서비스의 사용 공간 및 고객이 사용하도록 선택한 특정 DNS 확인자 서비스에 따라 다를 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-188">While the geographic location of the DNS resolver is a good proxy for the geographic location of the user, it can also be different depending upon the footprint of the DNS resolver service and the specific DNS resolver service a customer has chosen to use.</span></span> <span data-ttu-id="3710e-189">예를 들어 말레이시아에 있는 고객은 싱가포르에 있는 해당 DNS 서버가 해당 사용자/장치에 대한 쿼리 확인을 처리하도록 선택되었을 수 있는 DNS 확인자 서비스를 사용하도록 장치 설정에 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-189">As an example, a customer located in Malaysia could specify in their device’s settings use a DNS resolver service whose DNS server in Singapore might get picked to handle the query resolutions for that user/device.</span></span> <span data-ttu-id="3710e-190">이 경우 Traffic Manager는 싱가포르 위치에 해당하는 확인자의 IP 주소만 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-190">In that case, Traffic Manager can only see the resolver’s IP address that corresponds to the Singapore location.</span></span> <span data-ttu-id="3710e-191">이 페이지에서 클라이언트 서브넷 주소 지원과 관련된 이전 FAQ도 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="3710e-191">Also, see the earlier FAQ regarding client subnet address support on this page.</span></span>

- <span data-ttu-id="3710e-192">둘째, Traffic Manager는 내부 맵을 사용하여 IP 주소-지리적 하위 지역 변환을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-192">Second, Traffic Manager uses an internal map to do the IP address to geographic region translation.</span></span> <span data-ttu-id="3710e-193">이 맵은 정확도를 높이고 인터넷의 변화하는 특성을 고려하기 위해 지속적으로 유효성이 검사되고 업데이트되지만, 제공하는 정보가 모든 IP 주소의 지리적 위치를 정확히 나타내지 않을 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-193">While this map is validated and updated on an ongoing basis to increase its accuracy and account for the evolving nature of the internet, there is still the possibility that our information is not an exact representation of the geographic location of all the IP addresses.</span></span>


###  <a name="does-an-endpoint-need-to-be-physically-located-in-the-same-region-as-the-one-it-is-configured-with-for-geographic-routing"></a><span data-ttu-id="3710e-194">끝점을 지리적 라우팅에 대해 구성된 것과 물리적으로 동일한 지역에 배치해야 합니까?</span><span class="sxs-lookup"><span data-stu-id="3710e-194">Does an endpoint need to be physically located in the same region as the one it is configured with for geographic routing?</span></span> 
<span data-ttu-id="3710e-195">아니요, 끝점의 위치는 지역이 매핑될 수 있는 곳에 대한 제한이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-195">No, the location of the endpoint imposes no restrictions on which regions can be mapped to it.</span></span> <span data-ttu-id="3710e-196">예를 들어 인도에 있는 모든 사용자는 미국 중부 Azure 지역에 있는 끝점으로 향할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-196">For example, an endpoint in US-Central Azure region can have all users from India directed to it.</span></span>

### <a name="can-i-assign-geographic-regions-to-endpoints-in-a-profile-that-is-not-configured-to-do-geographic-routing"></a><span data-ttu-id="3710e-197">지리적 라우팅을 수행하도록 구성되어 있지 않은 프로필의 끝점에 지리적 지역을 할당할 수 있습니까?</span><span class="sxs-lookup"><span data-stu-id="3710e-197">Can I assign geographic regions to endpoints in a profile that is not configured to do geographic routing?</span></span> 

<span data-ttu-id="3710e-198">예. 프로필의 라우팅 방법이 지리적이 아닌 경우 [Azure Traffic Manager REST API](https://docs.microsoft.com/rest/api/trafficmanager/)를 사용하여 지리적 지역을 해당 프로필의 끝점에 할당할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-198">Yes, if the routing method of a profile is not geographic, you can use the [Azure Traffic Manager REST API](https://docs.microsoft.com/rest/api/trafficmanager/) to assign geographic regions to endpoints in that profile.</span></span> <span data-ttu-id="3710e-199">비지리적 라우팅 형식 프로필의 경우 이 구성은 무시됩니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-199">In the case of non-geographic routing type profiles, this configuration is ignored.</span></span> <span data-ttu-id="3710e-200">이러한 프로필을 나중에 지리적 라우팅 형식으로 변경하면 Traffic Manager에서 그러한 매핑을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-200">If you change such a profile to geographic routing type at a later time, Traffic Manager can use those mappings.</span></span>


### <a name="why-am-i-getting-an-error-when-i-try-to-change-the-routing-method-of-an-existing-profile-to-geographic"></a><span data-ttu-id="3710e-201">기존 프로필의 라우팅 방법을 지리적으로 변경하려고 시도하면 오류가 발생하는 이유는 무엇인가요?</span><span class="sxs-lookup"><span data-stu-id="3710e-201">Why am I getting an error when I try to change the routing method of an existing profile to Geographic?</span></span>

<span data-ttu-id="3710e-202">지리적 라우팅을 사용하는 프로필의 모든 끝점에는 매핑되어 있는 지역이 하나 이상 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-202">All the endpoints under a profile with geographic routing need to have at least one region mapped to it.</span></span> <span data-ttu-id="3710e-203">기존 프로필을 지리적 라우팅 형식으로 변환하려면 라우팅 형식을 지리적으로 변경하기 전에 먼저 [Azure Traffic Manager REST API](https://docs.microsoft.com/rest/api/trafficmanager/)를 사용하여 지리적 위치를 모든 해당 끝점에 연결해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-203">To convert an existing profile to geographic routing type, you first need to associate geographic regions to all its endpoints using the [Azure Traffic Manager REST API](https://docs.microsoft.com/rest/api/trafficmanager/) before changing the routing type to geographic.</span></span> <span data-ttu-id="3710e-204">포털을 사용하는 경우 먼저 끝점을 삭제하고, 프로필의 라우팅 방법을 지리적으로 변경한 다음 지리적 지역 매핑과 함께 끝점을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-204">If using portal, first delete the endpoints, change the routing method of the profile to geographic and then add the endpoints along with their geographic region mapping.</span></span> 


###  <a name="why-is-it-strongly-recommended-that-customers-create-nested-profiles-instead-of-endpoints-under-a-profile-with-geographic-routing-enabled"></a><span data-ttu-id="3710e-205">고객에게 지리적 라우팅이 활성화된 프로필의 끝점보다 중첩 프로필을 만드는 것을 권장하는 이유는 무엇입니까?</span><span class="sxs-lookup"><span data-stu-id="3710e-205">Why is it strongly recommended that customers create nested profiles instead of endpoints under a profile with geographic routing enabled?</span></span> 

<span data-ttu-id="3710e-206">지리적 라우팅 형식을 사용하는 경우 프로필 내 하나의 끝점에만 지역을 할당할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-206">A region can be assigned to only one endpoint within a profile if its using geographic routing type.</span></span> <span data-ttu-id="3710e-207">해당 끝점이 연결된 자식 프로필을 갖는 중첩 형식이 아닌 경우, 끝점이 비정상 상태가 되더라도 Traffic Manager는 트래픽을 계속 전송합니다. 트래픽을 전송하지 않는다고 더 나을 것이 없기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-207">If that endpoint is not a nested type with a child profile attached to it, if that endpoint going unhealthy, Traffic Manager continues to send traffic to it since the alternative of not sending any traffic isn’t any better.</span></span> <span data-ttu-id="3710e-208">할당된 지역이 비정상 상태가 된 끝점에 할당된 지역의 "부모"인 경우라도 Traffic Manager는 다른 끝점으로 장애 조치(failover)하지 않습니다. 예를 들어 스페인 지역인 끝점이 비정상 상태인 경우 유럽 지역이 할당된 다른 끝점으로 장애 조치(failover)하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-208">Traffic Manager does not failover to another endpoint, even when the region assigned is a “parent” of the region assigned to the endpoint that went unhealthy (for example, if an endpoint that has region Spain goes unhealthy, we will not failover to another endpoint that has the region Europe assigned to it).</span></span> <span data-ttu-id="3710e-209">이는 고객이 그들의 프로필에서 설정한 지리적 경계를 Traffic Manager가 존중하도록 하기 위함입니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-209">This is done to ensure that Traffic Manager respects the geographic boundaries that a customer has setup in their profile.</span></span> <span data-ttu-id="3710e-210">끝점이 비정상 상태가 될 때 다른 끝점으로 장애 조치(failover)하는 방법을 활용하려면 지리적 지역을 개별 끝점 대신 프로필 내 여러 끝점을 사용하는 중첩 프로필에 할당하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-210">To get the benefit of failing over to another endpoint when an endpoint goes unhealthy, it is recommended that geographic regions be assigned to nested profiles with multiple endpoints within it instead of individual endpoints.</span></span> <span data-ttu-id="3710e-211">이 방식에서 중첩 자식 프로필의 끝점이 실패하면 트래픽은 동일한 중첩 자식 프로필 내부의 다른 끝점으로 장애 조치할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-211">In this way, if an endpoint in the nested child profile fails, traffic can failover to another endpoint inside the same nested child profile.</span></span>

### <a name="are-there-any-restrictions-on-the-api-version-that-supports-this-routing-type"></a><span data-ttu-id="3710e-212">이 라우팅 형식을 지원하는 API 버전에 제한이 있습니까?</span><span class="sxs-lookup"><span data-stu-id="3710e-212">Are there any restrictions on the API version that supports this routing type?</span></span>

<span data-ttu-id="3710e-213">예. API 버전 2017-03-01 이상만 지리적 라우팅 형식을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-213">Yes, only API version 2017-03-01 and newer supports the Geographic routing type.</span></span> <span data-ttu-id="3710e-214">이전 API 버전은 지리적 라우팅 형식의 프로필을 생성하거나 지리적 지역을 끝점으로 할당하는 데 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-214">Any older API versions cannot be used to created profiles of Geographic routing type or assign geographic regions to endpoints.</span></span> <span data-ttu-id="3710e-215">이전 API 버전을 사용하여 Azure 구독에서 프로필을 검색한 경우 지리적 라우팅 형식의 프로필은 반환되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-215">If an older API version is used to retrieve profiles from an Azure subscription, any profile of Geographic routing type is not returned.</span></span> <span data-ttu-id="3710e-216">또한 이전 API 버전을 사용하는 경우, 지리적 지역 할당을 사용하는 끝점이 있는 반환된 프로필에서 지리적 지역 할당이 표시되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-216">In addition, when using older API versions, any profile returned that has endpoints with a geographic region assignment, does not have its geographic region assignment shown.</span></span>



## <a name="traffic-manager-endpoints"></a><span data-ttu-id="3710e-217">Traffic Manager 끝점</span><span class="sxs-lookup"><span data-stu-id="3710e-217">Traffic Manager endpoints</span></span>

### <a name="can-i-use-traffic-manager-with-endpoints-from-multiple-subscriptions"></a><span data-ttu-id="3710e-218">여러 구독에서 끝점으로 Traffic Manager를 사용할 수 있습니까?</span><span class="sxs-lookup"><span data-stu-id="3710e-218">Can I use Traffic Manager with endpoints from multiple subscriptions?</span></span>

<span data-ttu-id="3710e-219">Azure Web Apps의 경우 여러 구독에서 끝점을 사용하는 것은 가능하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-219">Using endpoints from multiple subscriptions is not possible with Azure Web Apps.</span></span> <span data-ttu-id="3710e-220">Azure Web Apps은 Web Apps와 함께 사용되는 모든 사용자 지정 도메인 이름을 단일 구독 내에서만 사용할 것을 요구합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-220">Azure Web Apps requires that any custom domain name used with Web Apps is only used within a single subscription.</span></span> <span data-ttu-id="3710e-221">여러 구독에서 동일한 도메인 이름을 가지고 Web Apps를 사용하는 것은 불가능합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-221">It is not possible to use Web Apps from multiple subscriptions with the same domain name.</span></span>

<span data-ttu-id="3710e-222">다른 끝점 유형의 경우 Traffic Manager를 둘 이상의 구독에서 끝점과 함께 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-222">For other endpoint types, it is possible to use Traffic Manager with endpoints from more than one subscription.</span></span> <span data-ttu-id="3710e-223">Traffic Manager 프로필을 구성하는 사용자에게 끝점에 대한 읽기 권한이 있는 한, Resource Manager에서 모든 구독의 끝점을 Traffic Manager에 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-223">In Resource Manager, endpoints from any subscription can be added to Traffic Manager, as long as the person configuring the Traffic Manager profile has read access to the endpoint.</span></span> <span data-ttu-id="3710e-224">이러한 권한은 [Azure Resource Manager 역할 기반 액세스 제어(RBAC)](../active-directory/role-based-access-control-configure.md)를 사용하여 부여될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-224">These permissions can be granted using [Azure Resource Manager role-based access control (RBAC)](../active-directory/role-based-access-control-configure.md).</span></span>


### <a name="can-i-use-traffic-manager-with-cloud-service-staging-slots"></a><span data-ttu-id="3710e-225">클라우드 서비스 '스테이징' 슬롯으로 Traffic Manager를 사용할 수 있습니까?</span><span class="sxs-lookup"><span data-stu-id="3710e-225">Can I use Traffic Manager with Cloud Service 'Staging' slots?</span></span>

<span data-ttu-id="3710e-226">예.</span><span class="sxs-lookup"><span data-stu-id="3710e-226">Yes.</span></span> <span data-ttu-id="3710e-227">클라우드 서비스 '스테이징' 슬롯은 외부 끝점으로 Traffic Manager에서 구성될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-227">Cloud Service 'staging' slots can be configured in Traffic Manager as External endpoints.</span></span> <span data-ttu-id="3710e-228">상태 검사는 여전히 Azure 끝점 비율로 요금이 청구됩니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-228">Health checks are still be charged at the Azure Endpoints rate.</span></span> <span data-ttu-id="3710e-229">외부 끝점 유형을 사용 중이므로 기본 서비스에 대한 변경 내용은 자동으로 선택되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-229">Because the External endpoint type is in use, changes to the underlying service are not picked up automatically.</span></span> <span data-ttu-id="3710e-230">외부 끝점인 경우 Traffic Manager는 클라우드 서비스가 중지되거나 삭제될 때 감지할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-230">With external endpoints, Traffic Manager cannot detect when the Cloud Service is stopped or deleted.</span></span> <span data-ttu-id="3710e-231">따라서 Traffic Manager는 끝점이 비활성화되거나 삭제될 때까지 상태 검사에 대한 요금 청구를 계속합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-231">Therefore, the Traffic Manager continues billing for health checks until the endpoint is disabled or deleted.</span></span>

### <a name="does-traffic-manager-support-ipv6-endpoints"></a><span data-ttu-id="3710e-232">Traffic Manager는 IPv6 끝점을 지원하나요?</span><span class="sxs-lookup"><span data-stu-id="3710e-232">Does Traffic Manager support IPv6 endpoints?</span></span>

<span data-ttu-id="3710e-233">Traffic Manager는 현재 IPv6으로 주소 지정이 가능한 이름 서버를 제공하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-233">Traffic Manager does not currently provide IPv6-addressible name servers.</span></span> <span data-ttu-id="3710e-234">하지만 IPv6 클라이언트를 IPv6 끝점에 연결하여 Traffic Manager를 여전히 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-234">However, Traffic Manager can still be used by IPv6 clients connecting to IPv6 endpoints.</span></span> <span data-ttu-id="3710e-235">클라이언트는 Traffic Manager에 직접 DNS 요청을 만들지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-235">A client does not make DNS requests directly to Traffic Manager.</span></span> <span data-ttu-id="3710e-236">대신 클라이언트는 재귀 DNS 서비스를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-236">Instead, the client uses a recursive DNS service.</span></span> <span data-ttu-id="3710e-237">IPv6 전용 클라이언트는 IPv6를 통해 재귀 DNS 서비스에 요청을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-237">An IPv6-only client sends requests to the recursive DNS service via IPv6.</span></span> <span data-ttu-id="3710e-238">그런 다음 재귀 서비스는 IPv4를 사용하여 Traffic Manager 이름 서버에 연결할 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-238">Then the recursive service should be able to contact the Traffic Manager name servers using IPv4.</span></span>

<span data-ttu-id="3710e-239">Traffic Manager는 끝점의 DNS 이름으로 응답합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-239">Traffic Manager responds with the DNS name of the endpoint.</span></span> <span data-ttu-id="3710e-240">IPv6 끝점을 지원하기 위해 끝점 DNS 이름이 IPv6 주소를 가리키게 하는 DNS AAAA 레코드가 존재해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-240">To support an IPv6 endpoint, a DNS AAAA record pointing the endpoint DNS name to the IPv6 address must exist.</span></span> <span data-ttu-id="3710e-241">Traffic Manager 상태 검사는 IPv4 주소만 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-241">Traffic Manager health checks only support IPv4 addresses.</span></span> <span data-ttu-id="3710e-242">서비스는 IPv4 끝점을 동일한 DNS 이름에 노출해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-242">The service needs to expose an IPv4 endpoint on the same DNS name.</span></span>

### <a name="can-i-use-traffic-manager-with-more-than-one-web-app-in-the-same-region"></a><span data-ttu-id="3710e-243">동일한 지역에서 둘 이상의 웹앱에 Traffic Manager를 사용할 수 있습니까?</span><span class="sxs-lookup"><span data-stu-id="3710e-243">Can I use Traffic Manager with more than one Web App in the same region?</span></span>

<span data-ttu-id="3710e-244">일반적으로 Traffic Manager는 다른 지역에 배포된 응용 프로그램에 트래픽을 보내는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-244">Typically, Traffic Manager is used to direct traffic to applications deployed in different regions.</span></span> <span data-ttu-id="3710e-245">그러나 응용 프로그램이 동일한 지역에 둘 이상의 배포를 가지는 곳에 사용될 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-245">However, it can also be used where an application has more than one deployment in the same region.</span></span> <span data-ttu-id="3710e-246">Traffic Manager Azure 끝점은 동일한 Traffic Manager 프로필에 추가되는 동일한 Azure 지역에서 둘 이상의 웹앱 끝점을 허용하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-246">The Traffic Manager Azure endpoints do not permit more than one Web App endpoint from the same Azure region to be added to the same Traffic Manager profile.</span></span>

##  <a name="traffic-manager-endpoint-monitoring"></a><span data-ttu-id="3710e-247">Traffic Manager 끝점 모니터링</span><span class="sxs-lookup"><span data-stu-id="3710e-247">Traffic Manager endpoint monitoring</span></span>

### <a name="is-traffic-manager-resilient-to-azure-region-failures"></a><span data-ttu-id="3710e-248">Traffic Manager 자체는 Azure 하위 지역 장애에 복원력이 있나요?</span><span class="sxs-lookup"><span data-stu-id="3710e-248">Is Traffic Manager resilient to Azure region failures?</span></span>

<span data-ttu-id="3710e-249">Traffic Manager는 Azure에서 가용성 높은 응용 프로그램을 전달하는 데 있어서 핵심적인 구성 요소입니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-249">Traffic Manager is a key component of the delivery of highly available applications in Azure.</span></span>
<span data-ttu-id="3710e-250">높은 가용성을 제공하려면 Traffic Manager는 매우 높은 수준의 가용성을 유지해야 하고 지역 실패에 대해 복원력도 뛰어나야 합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-250">To deliver high availability, Traffic Manager must have an exceptionally high level of availability and be resilient to regional failure.</span></span>

<span data-ttu-id="3710e-251">기본적으로 Traffic Manager 구성 요소는 모든 Azure 지역의 전체 오류에 대해 복원력을 갖습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-251">By design, Traffic Manager components are resilient to a complete failure of any Azure region.</span></span> <span data-ttu-id="3710e-252">이러한 복원력은 DNS 이름 서버, API, 저장소 계층 및 끝점 모니터링 서비스 등 모든 Traffic Manager 구성 요소에 해당됩니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-252">This resilience applies to all Traffic Manager components: the DNS name servers, the API, the storage layer, and the endpoint monitoring service.</span></span>

<span data-ttu-id="3710e-253">전체 Azure 하위 지역의 가동 중단과 같은 드문 경우에도, Traffic Manager는 계속 정상적으로 작동해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-253">In the unlikely event of an outage of an entire Azure region, Traffic Manager is expected to continue to function normally.</span></span> <span data-ttu-id="3710e-254">여러 Azure 하위 지역에 배포된 응용 프로그램은 Traffic Manager에 의존하여 응용 프로그램의 사용 가능한 인스턴스로 트래픽을 전달할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-254">Applications deployed in multiple Azure regions can rely on Traffic Manager to direct traffic to an available instance of their application.</span></span>

### <a name="how-does-the-choice-of-resource-group-location-affect-traffic-manager"></a><span data-ttu-id="3710e-255">리소스 그룹의 위치 선택은 Traffic Manager에 어떤 영향을 주나요?</span><span class="sxs-lookup"><span data-stu-id="3710e-255">How does the choice of resource group location affect Traffic Manager?</span></span>

<span data-ttu-id="3710e-256">Traffic Manager는 단일 전역 서비스입니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-256">Traffic Manager is a single, global service.</span></span> <span data-ttu-id="3710e-257">지역에 영향을 받지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-257">It is not regional.</span></span> <span data-ttu-id="3710e-258">리소스 그룹의 위치 선택은 해당 리소스 그룹에 배포된 Traffic Manager 프로필에 어떤 영향도 주지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-258">The choice of resource group location makes no difference to Traffic Manager profiles deployed in that resource group.</span></span>

<span data-ttu-id="3710e-259">Azure Resource Manager에서는 모든 리소스 그룹에서 '위치'를 지정해야 하며 이를 통해 해당 리소스 그룹에 배포된 리소스의 기본 위치가 결정됩니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-259">Azure Resource Manager requires all resource groups to specify a location, which determines the default location for resources deployed in that resource group.</span></span> <span data-ttu-id="3710e-260">Traffic Manager 프로필을 만들면 리소스 그룹에 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-260">When you create a Traffic Manager profile, it is created in a resource group.</span></span> <span data-ttu-id="3710e-261">모든 Traffic Manager 프로필은 위치로 **전역**을 사용하고 리소스 그룹 기본값을 재정의합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-261">All Traffic Manager profiles use **global** as their location, overriding the resource group default.</span></span>

### <a name="how-do-i-determine-the-current-health-of-each-endpoint"></a><span data-ttu-id="3710e-262">각 끝점의 현재 상태를 확인하려면 어떻게 해야 하나요?</span><span class="sxs-lookup"><span data-stu-id="3710e-262">How do I determine the current health of each endpoint?</span></span>

<span data-ttu-id="3710e-263">각 끝점의 현재 상태 모니터링 상태 및 전체 프로필은 Azure 포털에 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-263">The current monitoring status of each endpoint, in addition to the overall profile, is displayed in the Azure portal.</span></span> <span data-ttu-id="3710e-264">이 정보는 Traffic Manager [REST API](https://msdn.microsoft.com/library/azure/mt163667.aspx), [PowerShell cmdlets](https://msdn.microsoft.com/library/mt125941.aspx) 및 [크로스 플랫폼 Azure CLI](../cli-install-nodejs.md)를 통해서도 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-264">This information also is available via the Traffic Monitor [REST API](https://msdn.microsoft.com/library/azure/mt163667.aspx), [PowerShell cmdlets](https://msdn.microsoft.com/library/mt125941.aspx), and [cross-platform Azure CLI](../cli-install-nodejs.md).</span></span>

<span data-ttu-id="3710e-265">Azure는 지난 끝점 상태에 대한 기록 정보를 제공하지 않으며 끝점 상태 변경에 대한 경고를 생성하는 기능도 없습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-265">Azure does not provide historical information about past endpoint health or the ability to raise alerts about changes to endpoint health.</span></span>

### <a name="can-i-monitor-https-endpoints"></a><span data-ttu-id="3710e-266">HTTPS 끝점을 모니터링할 수 있나요?</span><span class="sxs-lookup"><span data-stu-id="3710e-266">Can I monitor HTTPS endpoints?</span></span>

<span data-ttu-id="3710e-267">예.</span><span class="sxs-lookup"><span data-stu-id="3710e-267">Yes.</span></span> <span data-ttu-id="3710e-268">Traffic Manager는 HTTPS를 통한 검색을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-268">Traffic Manager supports probing over HTTPS.</span></span> <span data-ttu-id="3710e-269">모니터링 구성에서 프로토콜로 **HTTPS**를 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-269">Configure **HTTPS** as the protocol in the monitoring configuration.</span></span>

<span data-ttu-id="3710e-270">Traffic Manager는 다음을 포함하는 인증서 유효성 검사를 제공할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-270">Traffic manager cannot provide any certificate validation, including:</span></span>

* <span data-ttu-id="3710e-271">서버 쪽 인증서의 유효성이 검사되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-271">Server-side certificates are not validated</span></span>
* <span data-ttu-id="3710e-272">SNI 서버 쪽 인증서가 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-272">SNI server-side certificates are not supported</span></span>
* <span data-ttu-id="3710e-273">클라이언트 인증서는 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-273">Client certificates are not supported</span></span>

### <a name="can-i-use-traffic-manager-even-if-my-application-does-not-have-support-for-http-or-https"></a><span data-ttu-id="3710e-274">응용 프로그램에 HTTP 또는 HTTPS에 대한 지원이 없는 경우에도 Traffic Manager를 사용할 수 있나요?</span><span class="sxs-lookup"><span data-stu-id="3710e-274">Can I use Traffic Manager even if my application does not have support for HTTP or HTTPS?</span></span>

<span data-ttu-id="3710e-275">예.</span><span class="sxs-lookup"><span data-stu-id="3710e-275">Yes.</span></span> <span data-ttu-id="3710e-276">TCP를 모니터링 프로토콜로 지정하면 Traffic Manager가 TCP 연결을 시작하고 끝점의 응답을 기다릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-276">You can specify TCP as the monitoring protocol and Traffic Manager can initiate a TCP connection and wait for a response from the endpoint.</span></span> <span data-ttu-id="3710e-277">끝점이 제한 시간 내에 연결을 설정하는 응답으로 연결 요청에 회신하면 해당 끝점은 정상 상태로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-277">If the endpoint replies to the connection request with a response to establish the connection, within the timeout period, then that endpoint is marked as healthy.</span></span>

### <a name="what-specific-responses-are-required-from-the-endpoint-when-using-tcp-monitoring"></a><span data-ttu-id="3710e-278">TCP 모니터링을 사용하는 경우 끝점에서 어떤 특정 응답이 필요한가요?</span><span class="sxs-lookup"><span data-stu-id="3710e-278">What specific responses are required from the endpoint when using TCP monitoring?</span></span>

<span data-ttu-id="3710e-279">TCP 모니터링을 사용하는 경우 Traffic Manager는 끝점의 지정된 포트에 SYN 요청을 전송하여 3방향 TCP 핸드셰이크를 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-279">When TCP monitoring is used, Traffic Manager starts a three-way TCP handshake by sending a SYN request to endpoint at the specified port.</span></span> <span data-ttu-id="3710e-280">그런 다음 제한 시간 설정에 지정된 기간 동안 끝점의 응답을 기다립니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-280">It then waits for a period of time (as specified in the timeout settings) for a response from the endpoint.</span></span> <span data-ttu-id="3710e-281">끝점이 모니터링 설정에 지정된 제한 시간 내에 SYN-ACK 응답으로 SYN 요청에 응답하면 해당 끝점은 정상 상태로 간주됩니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-281">If the endpoint responds to the SYN request with a SYN-ACK response within the timeout period specified in the monitoring settings, then that endpoint is considered healthy.</span></span> <span data-ttu-id="3710e-282">SYN-ACK 응답이 수신되면 Traffic Manager는 RST로 다시 응답하여 연결을 다시 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-282">If the SYN-ACK response is received, the Traffic Manager resets the connection by responding back with a RST.</span></span>

### <a name="how-fast-does-traffic-manager-move-my-users-away-from-an-unhealthy-endpoint"></a><span data-ttu-id="3710e-283">Traffic Manager는 사용자를 비정상 끝점에서 얼마나 빨리 이동하나요?</span><span class="sxs-lookup"><span data-stu-id="3710e-283">How fast does Traffic Manager move my users away from an unhealthy endpoint?</span></span>

<span data-ttu-id="3710e-284">Traffic Manager는 다음과 같이 Traffic Manager 프로필의 장애 조치(failover) 동작을 제어할 수 있는 여러 설정을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-284">Traffic Manager provides multiple settings that can help you to control the failover behavior of your Traffic Manager profile as follows:</span></span>
- <span data-ttu-id="3710e-285">검색 간격을 10초로 설정하여 Traffic Manager가 끝점을 더 자주 검색하도록 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-285">you can specify that the Traffic Manager probes the endpoints more frequently by setting the Probing Interval at 10 seconds.</span></span> <span data-ttu-id="3710e-286">이렇게 하면 비정상 상태로 전환되는 끝점을 가능한 한 빨리 검색할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-286">This ensures that any endpoint going unhealthy can be detected as soon as possible.</span></span> 
- <span data-ttu-id="3710e-287">상태 검사 요청이 시간 초과되기 전에 기다릴 기간(최소 제한 시간 값은 5초임)을 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-287">you can specify how long to wait before a health check request times out (minimum time out value is 5 sec).</span></span>
- <span data-ttu-id="3710e-288">끝점이 비정상 상태로 표시되기 전에 발생할 수 있는 오류 수를 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-288">you can specify how many failures can occur before the endpoint is marked as unhealthy.</span></span> <span data-ttu-id="3710e-289">이 값의 하한은 0으로, 이 경우 첫 번째 상태 검사에 실패하는 즉시 끝점이 비정상 상태로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-289">This value can be low as 0, in which case the endpoint is marked unhealthy as soon as it fails the first health check.</span></span> <span data-ttu-id="3710e-290">그러나 허용되는 오류 수에 최소값 0을 사용하면 검색 시 발생할 수 있는 일시적인 문제로 인해 끝점이 회전에서 제거될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-290">However, using the minimum value of 0 for the tolerated number of failures can lead to endpoints being taken out of rotation due to any transient issues that may occur at the time of probing.</span></span>
- <span data-ttu-id="3710e-291">DNS 응답에 대한 TTL(Time to Live)을 하한인 0으로 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-291">you can specify the time-to-live (TTL) for the DNS response to be as low as 0.</span></span> <span data-ttu-id="3710e-292">이렇게 하면 DNS 확인자가 응답을 캐시할 수 없으며, 새 쿼리가 각각 Traffic Manager에 보유된 최신 상태 정보를 통합하는 응답을 받습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-292">Doing so means that DNS resolvers cannot cache the response and each new query gets a response that incorporates the most up-to-date health information that the Traffic Manager has.</span></span>

<span data-ttu-id="3710e-293">이러한 설정을 통해 Traffic Manager는 10초 내에 장애 조치(failover)를 제공할 수 있으며, 이 시간 후에는 끝점이 비정상 상태가 되고 DNS 쿼리가 해당 프로필에 대해 수행됩니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-293">By using these settings, Traffic Manager can provide failovers under 10 seconds after an endpoint goes unhealthy and a DNS query is made against the corresponding profile.</span></span>

### <a name="how-can-i-specify-different-monitoring-settings-for-different-endpoints-in-a-profile"></a><span data-ttu-id="3710e-294">프로필의 끝점마다 다른 모니터링 설정을 지정하려면 어떻게 하나요?</span><span class="sxs-lookup"><span data-stu-id="3710e-294">How can I specify different monitoring settings for different endpoints in a profile?</span></span>

<span data-ttu-id="3710e-295">Traffic Manager 모니터링 설정은 프로필 수준별로 지정됩니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-295">Traffic Manager monitoring settings are at a per profile level.</span></span> <span data-ttu-id="3710e-296">하나의 끝점에 대해서만 다른 모니터링 설정을 사용해야 하는 경우 해당 끝점을 모니터링 설정이 부모 프로필과 다른 [중첩 프로필](traffic-manager-nested-profiles.md)로 설정하면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-296">If you need to use a different monitoring setting for only one endpoint, it can be done by having that endpoint as a [nested profile](traffic-manager-nested-profiles.md) whose monitoring settings are different from the parent profile.</span></span>

### <a name="what-host-header-do-endpoint-health-checks-use"></a><span data-ttu-id="3710e-297">끝점 상태 검사에 어떤 호스트 헤더가 사용되나요?</span><span class="sxs-lookup"><span data-stu-id="3710e-297">What host header do endpoint health checks use?</span></span>

<span data-ttu-id="3710e-298">Traffic Manager는 HTTP 및 HTTPS 상태 검사에서 호스트 헤더를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-298">Traffic Manager uses host headers in HTTP and HTTPS health checks.</span></span> <span data-ttu-id="3710e-299">Traffic Manager가 사용하는 호스트 헤더는 프로필에 구성된 끝점 대상의 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-299">The host header used by Traffic Manager is the name of the endpoint target configured in the profile.</span></span> <span data-ttu-id="3710e-300">호스트 헤더에 사용된 값은 target 속성과 별도로 지정할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-300">The value used in the host header cannot be specified separately from the target property.</span></span>

### <a name="what-are-the-ip-addresses-from-which-the-health-checks-originate"></a><span data-ttu-id="3710e-301">상태 검사가 시작되는 IP 주소는 무엇인가요?</span><span class="sxs-lookup"><span data-stu-id="3710e-301">What are the IP addresses from which the health checks originate?</span></span>

<span data-ttu-id="3710e-302">다음 목록에는 Traffic Manager 상태 검사가 시작될 수 있는 IP 주소가 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-302">The following list contains the IP addresses from which Traffic Manager health checks can originate.</span></span> <span data-ttu-id="3710e-303">이 목록의 IP 주소에서 들어오는 연결의 끝점에서는 상태 검사가 허용됩니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-303">You may use this list to ensure that incoming connections from these IP addresses are allowed at the endpoints to check its health status.</span></span>

* <span data-ttu-id="3710e-304">40.68.30.66</span><span class="sxs-lookup"><span data-stu-id="3710e-304">40.68.30.66</span></span>
* <span data-ttu-id="3710e-305">40.68.31.178</span><span class="sxs-lookup"><span data-stu-id="3710e-305">40.68.31.178</span></span>
* <span data-ttu-id="3710e-306">137.135.80.149</span><span class="sxs-lookup"><span data-stu-id="3710e-306">137.135.80.149</span></span>
* <span data-ttu-id="3710e-307">137.135.82.249</span><span class="sxs-lookup"><span data-stu-id="3710e-307">137.135.82.249</span></span>
* <span data-ttu-id="3710e-308">23.96.236.252</span><span class="sxs-lookup"><span data-stu-id="3710e-308">23.96.236.252</span></span>
* <span data-ttu-id="3710e-309">65.52.217.19</span><span class="sxs-lookup"><span data-stu-id="3710e-309">65.52.217.19</span></span>
* <span data-ttu-id="3710e-310">40.87.147.10</span><span class="sxs-lookup"><span data-stu-id="3710e-310">40.87.147.10</span></span>
* <span data-ttu-id="3710e-311">40.87.151.34</span><span class="sxs-lookup"><span data-stu-id="3710e-311">40.87.151.34</span></span>
* <span data-ttu-id="3710e-312">13.75.124.254</span><span class="sxs-lookup"><span data-stu-id="3710e-312">13.75.124.254</span></span>
* <span data-ttu-id="3710e-313">13.75.127.63</span><span class="sxs-lookup"><span data-stu-id="3710e-313">13.75.127.63</span></span>
* <span data-ttu-id="3710e-314">52.172.155.168</span><span class="sxs-lookup"><span data-stu-id="3710e-314">52.172.155.168</span></span>
* <span data-ttu-id="3710e-315">52.172.158.37</span><span class="sxs-lookup"><span data-stu-id="3710e-315">52.172.158.37</span></span>
* <span data-ttu-id="3710e-316">104.215.91.84</span><span class="sxs-lookup"><span data-stu-id="3710e-316">104.215.91.84</span></span>
* <span data-ttu-id="3710e-317">13.75.153.124</span><span class="sxs-lookup"><span data-stu-id="3710e-317">13.75.153.124</span></span>
* <span data-ttu-id="3710e-318">13.84.222.37</span><span class="sxs-lookup"><span data-stu-id="3710e-318">13.84.222.37</span></span>
* <span data-ttu-id="3710e-319">23.101.191.199</span><span class="sxs-lookup"><span data-stu-id="3710e-319">23.101.191.199</span></span>
* <span data-ttu-id="3710e-320">23.96.213.12</span><span class="sxs-lookup"><span data-stu-id="3710e-320">23.96.213.12</span></span>
* <span data-ttu-id="3710e-321">137.135.46.163</span><span class="sxs-lookup"><span data-stu-id="3710e-321">137.135.46.163</span></span>
* <span data-ttu-id="3710e-322">137.135.47.215</span><span class="sxs-lookup"><span data-stu-id="3710e-322">137.135.47.215</span></span>
* <span data-ttu-id="3710e-323">191.232.208.52</span><span class="sxs-lookup"><span data-stu-id="3710e-323">191.232.208.52</span></span>
* <span data-ttu-id="3710e-324">191.232.214.62</span><span class="sxs-lookup"><span data-stu-id="3710e-324">191.232.214.62</span></span>
* <span data-ttu-id="3710e-325">13.75.152.253</span><span class="sxs-lookup"><span data-stu-id="3710e-325">13.75.152.253</span></span>
* <span data-ttu-id="3710e-326">104.41.187.209</span><span class="sxs-lookup"><span data-stu-id="3710e-326">104.41.187.209</span></span>
* <span data-ttu-id="3710e-327">104.41.190.203</span><span class="sxs-lookup"><span data-stu-id="3710e-327">104.41.190.203</span></span>

### <a name="how-many-health-checks-to-my-endpoint-can-i-expect-from-traffic-manager"></a><span data-ttu-id="3710e-328">Traffic Manager에서 내 끝점에 대해 수행하는 예상 상태 검사 수는 몇 개인가요?</span><span class="sxs-lookup"><span data-stu-id="3710e-328">How many health checks to my endpoint can I expect from Traffic Manager?</span></span>

<span data-ttu-id="3710e-329">끝점에 도착하는 Traffic Manager 상태 검사 수는 다음 요인에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-329">The number of Traffic Manager health checks reaching your endpoint depends on the following:</span></span>
- <span data-ttu-id="3710e-330">모니터링 간격에 대해 설정한 값(간격이 작을수록 주어진 기간 동안 더 많은 요청이 끝점에 도착함)</span><span class="sxs-lookup"><span data-stu-id="3710e-330">the value that you have set for the monitoring interval (smaller interval means more requests landing on your endpoint in any given time period).</span></span>
- <span data-ttu-id="3710e-331">상태 검사가 시작되는 위치 수(이러한 검사가 예상되는 IP 주소는 앞의 FAQ에 나와 있음)</span><span class="sxs-lookup"><span data-stu-id="3710e-331">the number of locations from where the health checks originate (the IP addresses from where you can expect these checks is listed in the preceding FAQ).</span></span>

## <a name="traffic-manager-nested-profiles"></a><span data-ttu-id="3710e-332">Traffic Manager 중첩 프로필</span><span class="sxs-lookup"><span data-stu-id="3710e-332">Traffic Manager nested profiles</span></span>

### <a name="how-do-i-configure-nested-profiles"></a><span data-ttu-id="3710e-333">중첩 프로필을 구성하려면 어떻게 해야 하나요?</span><span class="sxs-lookup"><span data-stu-id="3710e-333">How do I configure nested profiles?</span></span>

<span data-ttu-id="3710e-334">중첩 Traffic Manager 프로필은 Azure Resource Manager 및 클래식 Azure REST API, Azure PowerShell cmdlet, 플랫폼 간 Azure CLI 명령을 사용하여 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-334">Nested Traffic Manager profiles can be configured using both the Azure Resource Manager and the classic Azure REST APIs, Azure PowerShell cmdlets and cross-platform Azure CLI commands.</span></span> <span data-ttu-id="3710e-335">새 Azure Portal을 통해서도 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-335">They are also supported via the new Azure portal.</span></span> <span data-ttu-id="3710e-336">클래식 포털을 통해서는 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-336">They are not supported in the classic portal.</span></span>

### <a name="how-many-layers-of-nesting-does-traffic-manger-support"></a><span data-ttu-id="3710e-337">트래픽 관리자가 지원하는 중첩 계층 수는 얼마나 되나요?</span><span class="sxs-lookup"><span data-stu-id="3710e-337">How many layers of nesting does Traffic Manger support?</span></span>

<span data-ttu-id="3710e-338">프로필을 10개 수준 깊이까지 중첩할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-338">You can nest profiles up to 10 levels deep.</span></span> <span data-ttu-id="3710e-339">'루프'는 허용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-339">'Loops' are not permitted.</span></span>

### <a name="can-i-mix-other-endpoint-types-with-nested-child-profiles-in-the-same-traffic-manager-profile"></a><span data-ttu-id="3710e-340">동일한 트래픽 관리자 프로필에서 중첩 자식 프로필과 다른 끝점 유형을 혼합할 수 있나요?</span><span class="sxs-lookup"><span data-stu-id="3710e-340">Can I mix other endpoint types with nested child profiles, in the same Traffic Manager profile?</span></span>

<span data-ttu-id="3710e-341">예.</span><span class="sxs-lookup"><span data-stu-id="3710e-341">Yes.</span></span> <span data-ttu-id="3710e-342">프로필 내에서 서로 다른 유형의 끝점을 결합하는 방법에는 제한이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-342">There are no restrictions on how you combine endpoints of different types within a profile.</span></span>

### <a name="how-does-the-billing-model-apply-for-nested-profiles"></a><span data-ttu-id="3710e-343">중첩 프로필에는 요금 청구 모델이 어떻게 적용되나요?</span><span class="sxs-lookup"><span data-stu-id="3710e-343">How does the billing model apply for Nested profiles?</span></span>

<span data-ttu-id="3710e-344">중첩 프로필을 사용한다고 해서 가격이 더 부과되지는 않습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-344">There is no negative pricing impact of using nested profiles.</span></span>

<span data-ttu-id="3710e-345">Traffic Manager 요금 청구는 끝점 상태 검사 및 수백만 개의 DNS 쿼리로 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-345">Traffic Manager billing has two components: endpoint health checks and millions of DNS queries</span></span>

* <span data-ttu-id="3710e-346">끝점 상태 검사: 부모 프로필에서 끝점으로 구성된 자식 프로필에 대해서는 요금이 부과되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-346">Endpoint health checks: There is no charge for a child profile when configured as an endpoint in a parent profile.</span></span> <span data-ttu-id="3710e-347">하위 프로필에서 끝점 모니터링은 일반적인 방식으로 청구됩니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-347">Monitoring of the endpoints in the child profile is billed in the usual way.</span></span>
* <span data-ttu-id="3710e-348">DNS 쿼리: 각 쿼리는 한 번만 계산됩니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-348">DNS queries: Each query is only counted once.</span></span> <span data-ttu-id="3710e-349">하위 프로필의 끝점을 반환하는 상위 프로필에 대한 쿼리는 상위 프로필에 대해서만 계산됩니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-349">A query against a parent profile that returns an endpoint from a child profile is counted against the parent profile only.</span></span>

<span data-ttu-id="3710e-350">자세한 내용은 [Traffic Manager 가격 책정 페이지](https://azure.microsoft.com/pricing/details/traffic-manager/)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="3710e-350">For full details, see the [Traffic Manager pricing page](https://azure.microsoft.com/pricing/details/traffic-manager/).</span></span>

### <a name="is-there-a-performance-impact-for-nested-profiles"></a><span data-ttu-id="3710e-351">중첩 프로필이 성능에 영향을 미치나요?</span><span class="sxs-lookup"><span data-stu-id="3710e-351">Is there a performance impact for nested profiles?</span></span>

<span data-ttu-id="3710e-352">아니요.</span><span class="sxs-lookup"><span data-stu-id="3710e-352">No.</span></span> <span data-ttu-id="3710e-353">중첩 프로필을 사용해도 성능에 미치는 영향은 없습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-353">There is no performance impact incurred when using nested profiles.</span></span>

<span data-ttu-id="3710e-354">Traffic Manager 이름 서버는 각 DNS 쿼리를 처리하는 경우 프로필 계층 구조를 내부적으로 통과합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-354">The Traffic Manager name servers traverse the profile hierarchy internally when processing each DNS query.</span></span> <span data-ttu-id="3710e-355">상위 프로필에 대한 DNS 쿼리는 하위 프로필의 끝점에 대한 DNS 응답을 받을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-355">A DNS query to a parent profile can receive a DNS response with an endpoint from a child profile.</span></span> <span data-ttu-id="3710e-356">단일 CNAME 레코드는 단일 프로필이나 중첩 프로필을 사용하는 경우 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-356">A single CNAME record is used whether you are using a single profile or nested profiles.</span></span> <span data-ttu-id="3710e-357">계층 구조에서 각 프로필에 대한 CNAME 레코드를 만들 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-357">There is no need to create a CNAME record for each profile in the hierarchy.</span></span>

### <a name="how-does-traffic-manager-compute-the-health-of-a-nested-endpoint-in-a-parent-profile"></a><span data-ttu-id="3710e-358">Traffic Manager에서 상위 프로필의 중첩 끝점 상태를 계산하려면 어떻게 하나요?</span><span class="sxs-lookup"><span data-stu-id="3710e-358">How does Traffic Manager compute the health of a nested endpoint in a parent profile?</span></span>

<span data-ttu-id="3710e-359">상위 프로필에서는 하위 프로필에 대한 상태 검사를 직접 수행하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-359">The parent profile doesn't perform health checks on the child directly.</span></span> <span data-ttu-id="3710e-360">대신, 하위 프로필 끝점의 상태는 하위 프로필의 전반적인 상태를 계산하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-360">Instead, the health of the child profile's endpoints are used to calculate the overall health of the child profile.</span></span> <span data-ttu-id="3710e-361">이 정보는 중첩 프로필 계층 구조로 전파되어 중첩 끝점의 상태를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-361">This information is propagated up the nested profile hierarchy to determine the health of the nested endpoint.</span></span> <span data-ttu-id="3710e-362">상위 프로필은 이 집계된 상태를 사용하여 하위 프로필에 트래픽을 보낼 수 있을지 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-362">The parent profile uses this aggregated health to determine whether the traffic can be directed to the child.</span></span>

<span data-ttu-id="3710e-363">다음 테이블에서는 중첩 끝점에 대한 Traffic Manager의 상태 검사 동작에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-363">The following table describes the behavior of Traffic Manager health checks for a nested endpoint.</span></span>

| <span data-ttu-id="3710e-364">자식 프로필 모니터 상태</span><span class="sxs-lookup"><span data-stu-id="3710e-364">Child Profile Monitor status</span></span> | <span data-ttu-id="3710e-365">부모 끝점 모니터 상태</span><span class="sxs-lookup"><span data-stu-id="3710e-365">Parent Endpoint Monitor status</span></span> | <span data-ttu-id="3710e-366">참고 사항</span><span class="sxs-lookup"><span data-stu-id="3710e-366">Notes</span></span> |
| --- | --- | --- |
| <span data-ttu-id="3710e-367">Disabled.</span><span class="sxs-lookup"><span data-stu-id="3710e-367">Disabled.</span></span> <span data-ttu-id="3710e-368">하위 프로필을 사용하지 않도록 설정했습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-368">The child profile has been disabled.</span></span> |<span data-ttu-id="3710e-369">중지됨</span><span class="sxs-lookup"><span data-stu-id="3710e-369">Stopped</span></span> |<span data-ttu-id="3710e-370">부모 끝점 상태는 Stopped이며 Disabled가 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-370">The parent endpoint state is Stopped, not Disabled.</span></span> <span data-ttu-id="3710e-371">Disabled 상태는 부모 프로필에서 끝점을 사용할 수 없도록 설정했음을 표시하도록 예약되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-371">The Disabled state is reserved for indicating that you have disabled the endpoint in the parent profile.</span></span> |
| <span data-ttu-id="3710e-372">Degraded.</span><span class="sxs-lookup"><span data-stu-id="3710e-372">Degraded.</span></span> <span data-ttu-id="3710e-373">하나 이상의 자식 프로필 끝점이 Degraded 상태입니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-373">At least one child profile endpoint is in a Degraded state.</span></span> |<span data-ttu-id="3710e-374">Online: 자식 프로필의 Online 끝점 수가 MinChildEndpoints 값 이상입니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-374">Online: the number of Online endpoints in the child profile is at least the value of MinChildEndpoints.</span></span><BR><span data-ttu-id="3710e-375">CheckingEndpoint: 자식 프로필의 Online 및 CheckingEndpoint 끝점 수 합계가 MinChildEndpoints 값 이상입니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-375">CheckingEndpoint: the number of Online plus CheckingEndpoint endpoints in the child profile is at least the value of MinChildEndpoints.</span></span><BR><span data-ttu-id="3710e-376">Degraded: 그렇지 않은 경우</span><span class="sxs-lookup"><span data-stu-id="3710e-376">Degraded: otherwise.</span></span> |<span data-ttu-id="3710e-377">트래픽이 CheckingEndpoint 상태의 끝점으로 라우팅됩니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-377">Traffic is routed to an endpoint of status CheckingEndpoint.</span></span> <span data-ttu-id="3710e-378">MinChildEndpoints를 너무 높게 설정하는 경우 끝점의 성능이 항상 저하됩니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-378">If MinChildEndpoints is set too high, the endpoint is always degraded.</span></span> |
| <span data-ttu-id="3710e-379">Online.</span><span class="sxs-lookup"><span data-stu-id="3710e-379">Online.</span></span> <span data-ttu-id="3710e-380">하나 이상의 하위 프로필 끝점이 온라인 상태입니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-380">At least one child profile endpoint is an Online state.</span></span> <span data-ttu-id="3710e-381">성능이 저하된 끝점이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-381">No endpoint is in the Degraded state.</span></span> |<span data-ttu-id="3710e-382">위 내용을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="3710e-382">See above.</span></span> | |
| <span data-ttu-id="3710e-383">CheckingEndpoints.</span><span class="sxs-lookup"><span data-stu-id="3710e-383">CheckingEndpoints.</span></span> <span data-ttu-id="3710e-384">하나 이상의 하위 프로필 끝점이 'CheckingEndpoint'입니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-384">At least one child profile endpoint is 'CheckingEndpoint'.</span></span> <span data-ttu-id="3710e-385">'온라인' 또는 '성능이 저하'된 끝점이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-385">No endpoints are 'Online' or 'Degraded'</span></span> |<span data-ttu-id="3710e-386">위와 동일합니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-386">Same as above.</span></span> | |
| <span data-ttu-id="3710e-387">Inactive.</span><span class="sxs-lookup"><span data-stu-id="3710e-387">Inactive.</span></span> <span data-ttu-id="3710e-388">모든 하위 프로필 끝점이 사용 안 함 또는 중지됨이거나 끝점이 없는 프로필입니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-388">All child profile endpoints are either Disabled or Stopped, or this profile has no endpoints.</span></span> |<span data-ttu-id="3710e-389">중지됨</span><span class="sxs-lookup"><span data-stu-id="3710e-389">Stopped</span></span> | |

## <a name="next-steps"></a><span data-ttu-id="3710e-390">다음 단계:</span><span class="sxs-lookup"><span data-stu-id="3710e-390">Next steps:</span></span>
- <span data-ttu-id="3710e-391">트래픽 관리자 [끝점 모니터링 및 자동 장애 조치(failover)](../traffic-manager/traffic-manager-monitoring.md)에 대해 자세히 알아봅니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-391">Learn more about Traffic Manager [endpoint monitoring and automatic failover](../traffic-manager/traffic-manager-monitoring.md).</span></span>
- <span data-ttu-id="3710e-392">트래픽 관리자 [트래픽 라우팅 방법](../traffic-manager/traffic-manager-routing-methods.md)에 대해 자세히 알아봅니다.</span><span class="sxs-lookup"><span data-stu-id="3710e-392">Learn more about Traffic Manager [traffic routing methods](../traffic-manager/traffic-manager-routing-methods.md).</span></span>