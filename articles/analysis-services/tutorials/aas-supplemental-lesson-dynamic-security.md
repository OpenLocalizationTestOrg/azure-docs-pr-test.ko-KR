---
<span data-ttu-id="28a47-101">제목: aaa "Azure Analysis Services tutorial 추가 단원: 동적 보안 | Microsoft Docs "설명: hello Azure Analysis Services 자습서의 행을 사용 하 여 동적 보안 toouse 필터링 하는 방법에 대해 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-101">title: aaa"Azure Analysis Services tutorial supplemental lesson: Dynamic security | Microsoft Docs" description: Describes how toouse dynamic security by using row filters in hello Azure Analysis Services tutorial.</span></span>
<span data-ttu-id="28a47-102">서비스: 분석 서비스 documentationcenter: ' 작성자: minewiskan 관리자: erikre 편집기: ' 태그: '</span><span class="sxs-lookup"><span data-stu-id="28a47-102">services: analysis-services documentationcenter: '' author: minewiskan manager: erikre editor: '' tags: ''</span></span>

<span data-ttu-id="28a47-103">ms.assetid: ms.service: 분석 서비스 ms.devlang: NA ms.topic: get 시작 문서 ms.tgt_pltfrm: NA ms.workload: na ms.date: 05/26/2017 ms.author: owend</span><span class="sxs-lookup"><span data-stu-id="28a47-103">ms.assetid: ms.service: analysis-services ms.devlang: NA ms.topic: get-started-article ms.tgt_pltfrm: NA ms.workload: na ms.date: 05/26/2017 ms.author: owend</span></span>
---
# <a name="supplemental-lesson---dynamic-security"></a><span data-ttu-id="28a47-104">추가 단원 - 동적 보안</span><span class="sxs-lookup"><span data-stu-id="28a47-104">Supplemental lesson - Dynamic security</span></span>

[!INCLUDE[analysis-services-appliesto-aas-sql2017-later](../../../includes/analysis-services-appliesto-aas-sql2017-later.md)]

<span data-ttu-id="28a47-105">이 추가 단원에서는 동적 보안을 구현하는 추가 역할을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-105">In this supplemental lesson, you create an additional role that implements dynamic security.</span></span> <span data-ttu-id="28a47-106">동적 보안은 현재 로그온 hello 사용자의 hello 사용자 이름 또는 로그인 id에 따라 행 수준 보안을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-106">Dynamic security provides row-level security based on hello user name or login id of hello user currently logged on.</span></span> 
  
<span data-ttu-id="28a47-107">tooimplement 동적 보안 toohello 모델을 연결 하 고 모델 개체와 데이터를 찾아볼 수 있는 사용자의 hello 사용자 이름이 포함 된 테이블 tooyour 모델을 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-107">tooimplement dynamic security, you add a table tooyour model containing hello user names of those users that can connect toohello model and browse model objects and data.</span></span> <span data-ttu-id="28a47-108">이 자습서를 사용 하 여 만드는 hello 모델은 Adventure Works;의 hello 컨텍스트에서 그러나 toocomplete이 단원, 사용자의 도메인에서 사용자가 포함 된 테이블을 추가 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-108">hello model you create using this tutorial is in hello context of Adventure Works; however, toocomplete this lesson, you must add a table containing users from your own domain.</span></span> <span data-ttu-id="28a47-109">추가 된 hello 사용자 이름에 대 한 hello 암호 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-109">You do not need hello passwords for hello user names that are added.</span></span> <span data-ttu-id="28a47-110">사용자의 도메인에서 사용자의 작은 샘플으로는 EmployeeSecurity 테이블 toocreate hello 붙여넣기 기능을 사용 하면 Excel 스프레드시트의 데이터입니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-110">toocreate an EmployeeSecurity table, with a small sample of users from your own domain, you use hello Paste feature, pasting employee data from an Excel spreadsheet.</span></span> <span data-ttu-id="28a47-111">실제 시나리오에서 사용자 이름을 포함 하는 hello 테이블 일반적으로 것 실제 데이터베이스에서 테이블을 데이터 소스로 예를 들어는 실제 DimEmployee 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-111">In a real-world scenario, hello table containing user names would typically be a table from an actual database as a data source; for example, a real DimEmployee table.</span></span>  
  
<span data-ttu-id="28a47-112">두 개의 DAX 함수를 사용 하면 tooimplement 동적 보안: [USERNAME 함수 (DAX)](http://msdn.microsoft.com/22dddc4b-1648-4c89-8c93-f1151162b93f) 및 [LOOKUPVALUE 함수 (DAX)](http://msdn.microsoft.com/73a51c4d-131c-4c33-a139-b1342d10caab)합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-112">tooimplement dynamic security, you use two DAX functions: [USERNAME Function (DAX)](http://msdn.microsoft.com/22dddc4b-1648-4c89-8c93-f1151162b93f) and [LOOKUPVALUE Function (DAX)](http://msdn.microsoft.com/73a51c4d-131c-4c33-a139-b1342d10caab).</span></span> <span data-ttu-id="28a47-113">행 필터 수식에 적용된 이러한 함수는 새 역할에 정의됩니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-113">These functions, applied in a row filter formula, are defined in a new role.</span></span> <span data-ttu-id="28a47-114">Hello LOOKUPVALUE 함수를 사용 하 여 hello 수식 hello EmployeeSecurity 테이블의 값을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-114">By using hello LOOKUPVALUE function, hello formula specifies a value from hello EmployeeSecurity table.</span></span> <span data-ttu-id="28a47-115">hello 수식 값 toohello USERNAME 함수 로그온 hello 사용자의 hello 사용자 이름을 지정 하는 toothis 역할에 속해 있는지를 전달 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-115">hello formula then passes that value toohello USERNAME function, which specifies hello user name of hello user logged on belongs toothis role.</span></span> <span data-ttu-id="28a47-116">hello 사용자 hello 역할 행 필터에 의해 지정 된 데이터만 탐색할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-116">hello user can then browse only data specified by hello role’s row filters.</span></span> <span data-ttu-id="28a47-117">이 시나리오에서는 영업 직원이 이들이 속한은 hello 영업 지역에 대 한 인터넷 매출 데이터를 찾아볼 수만 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-117">In this scenario, you specify that sales employees can only browse Internet sales data for hello sales territories in which they are a member.</span></span>  
  
<span data-ttu-id="28a47-118">이러한 태스크는 고유한 toothis Adventure Works 테이블 형식 모델 시나리오는 tooa 실제 시나리오에 반드시 적용 되지 않습니다으로 식별 됩니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-118">Those tasks that are unique toothis Adventure Works tabular model scenario, but would not necessarily apply tooa real-world scenario are identified as such.</span></span> <span data-ttu-id="28a47-119">각 태스크는 hello 작업의 hello 용도 설명 하는 추가 정보를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-119">Each task includes additional information describing hello purpose of hello task.</span></span>  
  
<span data-ttu-id="28a47-120">이 단원에서는 시간 toocomplete 예상: **30 분**</span><span class="sxs-lookup"><span data-stu-id="28a47-120">Estimated time toocomplete this lesson: **30 minutes**</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="28a47-121">필수 조건</span><span class="sxs-lookup"><span data-stu-id="28a47-121">Prerequisites</span></span>  
<span data-ttu-id="28a47-122">이 추가 단원 항목은 테이블 형식 모델링 자습서에 포함되며 순서대로 완료해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-122">This supplemental lesson topic is part of a tabular modeling tutorial, which should be completed in order.</span></span> <span data-ttu-id="28a47-123">이 추가 단원 hello 작업을 수행 하려면 이전 단원을 모두 완료 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-123">Before performing hello tasks in this supplemental lesson, you should have completed all previous lessons.</span></span>  
  
## <a name="add-hello-dimsalesterritory-table-toohello-aw-internet-sales-tabular-model-project"></a><span data-ttu-id="28a47-124">Hello DimSalesTerritory 테이블 toohello AW Internet Sales 테이블 형식 모델 프로젝트를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-124">Add hello DimSalesTerritory table toohello AW Internet Sales Tabular Model Project</span></span>  
<span data-ttu-id="28a47-125">tooimplement이 Adventure Works 시나리오에 대 한 동적 보안을 두 개의 추가 테이블 tooyour 모델을 추가 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-125">tooimplement dynamic security for this Adventure Works scenario, you must add two additional tables tooyour model.</span></span> <span data-ttu-id="28a47-126">동일한 AdventureWorksDW 데이터베이스를 hello 하는 hello 첫 번째 테이블에서 dimsalesterritory (Sales Territory)을 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-126">hello first table you add is DimSalesTerritory (as Sales Territory) from hello same AdventureWorksDW database.</span></span> <span data-ttu-id="28a47-127">나중 hello 특정 데이터를 정의 하는 행 필터 toohello SalesTerritory 테이블에 적용 hello 로그온 한 사용자를 찾아볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-127">You later apply a row filter toohello SalesTerritory table that defines hello particular data hello logged on user can browse.</span></span>  
  
#### <a name="tooadd-hello-dimsalesterritory-table"></a><span data-ttu-id="28a47-128">tooadd hello DimSalesTerritory 테이블</span><span class="sxs-lookup"><span data-stu-id="28a47-128">tooadd hello DimSalesTerritory table</span></span>  
  
1.  <span data-ttu-id="28a47-129">테이블 형식 모델 탐색기의 > **데이터 원본**에서 해당 연결을 마우스 오른쪽 단추로 클릭한 다음 **새 테이블 가져오기**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-129">In Tabular Model Explorer > **Data Sources**, right-click your connection, and then click **Import New Tables**.</span></span>  

    <span data-ttu-id="28a47-130">Hello 가장 자격 증명 대화 상자가 나타나면 2 단원에서에서 사용한 hello 가장 자격 증명 입력: 데이터 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-130">If hello Impersonation Credentials dialog box appears, type hello impersonation credentials you used in Lesson 2: Add Data.</span></span>
  
2.  <span data-ttu-id="28a47-131">탐색 창의 hello 선택 **DimSalesTerritory** 테이블을 마우스 클릭 **확인**합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-131">In Navigator, select hello **DimSalesTerritory** table, and then click **OK**.</span></span>    
  
3.  <span data-ttu-id="28a47-132">쿼리 편집기에서 클릭 hello **DimSalesTerritory** 쿼리하고 다음 제거 **SalesTerritoryAlternateKey** 열입니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-132">In Query Editor, click hello **DimSalesTerritory** query, and then remove **SalesTerritoryAlternateKey** column.</span></span>  
  
7.  <span data-ttu-id="28a47-133">**가져오기**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-133">Click **Import**.</span></span>  
  
    <span data-ttu-id="28a47-134">새 테이블 hello toohello 모델 작업 영역에 추가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-134">hello new table is added toohello model workspace.</span></span> <span data-ttu-id="28a47-135">그런 다음 개체 및 hello 원본 DimSalesTerritory 테이블의에서 데이터를 AW Internet Sales Tabular Model으로 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-135">Objects and data from hello source DimSalesTerritory table are then imported into your AW Internet Sales Tabular Model.</span></span>  
  
9. <span data-ttu-id="28a47-136">Hello 테이블을 성공적으로 가져온 후 클릭 **닫기**합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-136">After hello table has been imported successfully, click **Close**.</span></span>  

## <a name="add-a-table-with-user-name-data"></a><span data-ttu-id="28a47-137">사용자 이름 데이터가 있는 테이블 추가</span><span class="sxs-lookup"><span data-stu-id="28a47-137">Add a table with user name data</span></span>  
<span data-ttu-id="28a47-138">hello AdventureWorksDW 예제 데이터베이스의 DimEmployee 테이블 hello hello AdventureWorks 도메인의 사용자가 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-138">hello DimEmployee table in hello AdventureWorksDW sample database contains users from hello AdventureWorks domain.</span></span> <span data-ttu-id="28a47-139">해당 사용자 이름은 사용자 환경에 존재하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-139">Those user names do not exist in your own environment.</span></span> <span data-ttu-id="28a47-140">모델에 조직에서 실제 사용자의 작은 샘플(3개 이상)을 포함하는 테이블을 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-140">You must create a table in your model that contains a small sample (at least three) of actual users from your organization.</span></span> <span data-ttu-id="28a47-141">그런 다음 멤버 toohello 새 역할로 이러한 사용자를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-141">You then add these users as members toohello new role.</span></span> <span data-ttu-id="28a47-142">사용자의 도메인에서 실제 Windows 사용자 이름이 필요는 없지만 hello 샘플 사용자 이름에 대 한 hello 암호 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-142">You do not need hello passwords for hello sample user names, but you do need actual Windows user names from your own domain.</span></span>  
  
#### <a name="tooadd-an-employeesecurity-table"></a><span data-ttu-id="28a47-143">tooadd EmployeeSecurity 테이블</span><span class="sxs-lookup"><span data-stu-id="28a47-143">tooadd an EmployeeSecurity table</span></span>  
  
1.  <span data-ttu-id="28a47-144">Microsoft Excel을 열어 워크시트를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-144">Open Microsoft Excel, creating a worksheet.</span></span>  
  
2.  <span data-ttu-id="28a47-145">다음 표를 hello 머리글 행을 포함 하 여 hello 복사한 hello 워크시트에 붙여 넣습니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-145">Copy hello following table, including hello header row, and then paste it into hello worksheet.</span></span>  

    ```
      |EmployeeId|SalesTerritoryId|FirstName|LastName|LoginId|  
      |---------------|----------------------|--------------|-------------|------------|  
      |1|2|<user first name>|<user last name>|\<domain\username>|  
      |1|3|<user first name>|<user last name>|\<domain\username>|  
      |2|4|<user first name>|<user last name>|\<domain\username>|  
      |3|5|<user first name>|<user last name>|\<domain\username>|  
    ```

3.  <span data-ttu-id="28a47-146">Hello 이름과 조직에 있는 세 개의 사용자의 로그인 id를 가진 hello 이름, 성 및 domain\username을 대체 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-146">Replace hello first name, last name, and domain\username with hello names and login ids of three users in your organization.</span></span> <span data-ttu-id="28a47-147">Hello 배치 EmployeeId 1 이므로이 사용자가 속한 toomore 보다 한 영업 지역에 대 한 hello 처음 두 행에 같은 사용자입니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-147">Put hello same user on hello first two rows, for EmployeeId 1, showing this user belongs toomore than one sales territory.</span></span> <span data-ttu-id="28a47-148">Hello EmployeeId 및 SalesTerritoryId 필드 그대로 둡니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-148">Leave hello EmployeeId and SalesTerritoryId fields as they are.</span></span>  
  
4.  <span data-ttu-id="28a47-149">Hello 워크시트로 저장 **SampleEmployee**합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-149">Save hello worksheet as **SampleEmployee**.</span></span>  
  
5.  <span data-ttu-id="28a47-150">Hello 워크시트에서 hello 헤더를 포함 하 여 직원 데이터가 있는 모든 hello 셀을 선택 하 고 hello 선택한 데이터를 마우스 오른쪽 단추로 클릭 **복사**합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-150">In hello worksheet, select all hello cells with employee data, including hello headers, then right-click hello selected data, and then click **Copy**.</span></span>  
  
6.  <span data-ttu-id="28a47-151">SSDT에서는 hello 클릭 **편집** 메뉴를 차례로 클릭 **붙여넣기**합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-151">In SSDT, click hello **Edit** menu, and then click **Paste**.</span></span>  
  
    <span data-ttu-id="28a47-152">붙여넣기가 회색 hello 모델 디자이너 창의 테이블에서 모든 열을 클릭 하 고 다시 시도 하십시오.</span><span class="sxs-lookup"><span data-stu-id="28a47-152">If Paste is grayed out, click any column in any table in hello model designer window, and try again.</span></span>  
  
7.  <span data-ttu-id="28a47-153">Hello에 **붙여넣기 미리 보기** 대화 상자의 **테이블 이름**, 형식 **EmployeeSecurity**합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-153">In hello **Paste Preview** dialog box, in **Table Name**, type **EmployeeSecurity**.</span></span>  
  
8.  <span data-ttu-id="28a47-154">**붙여 넣은 데이터 toobe**, 모든 hello 사용자 데이터 및 hello SampleEmployee 워크시트에서 머리글 hello 데이터 포함을 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-154">In **Data toobe pasted**, verify hello data includes all hello user data and headers from hello SampleEmployee worksheet.</span></span>  
  
9. <span data-ttu-id="28a47-155">**첫 행을 열 머리글로 사용**이 선택되어 있는지 확인한 후 **확인**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-155">Verify **Use first row as column headers** is checked, and then click **Ok**.</span></span>  
  
    <span data-ttu-id="28a47-156">Hello SampleEmployee 워크시트에서 복사 된 직원 데이터가 있는 EmployeeSecurity 라는 새 테이블이 생성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-156">A new table named EmployeeSecurity with employee data copied from hello SampleEmployee worksheet is created.</span></span>  
  
## <a name="create-relationships-between-factinternetsales-dimgeography-and-dimsalesterritory-table"></a><span data-ttu-id="28a47-157">FactInternetSales, DimGeography 및 DimSalesTerritory 테이블 간의 관계 만들기</span><span class="sxs-lookup"><span data-stu-id="28a47-157">Create relationships between FactInternetSales, DimGeography, and DimSalesTerritory table</span></span>  
<span data-ttu-id="28a47-158">hello FactInternetSales, DimGeography, 및 DimSalesTerritory 테이블에는 모두 SalesTerritoryId 공통 된 열을 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-158">hello FactInternetSales, DimGeography, and DimSalesTerritory table all contain a common column, SalesTerritoryId.</span></span> <span data-ttu-id="28a47-159">hello SalesTerritoryId 열 hello DimSalesTerritory 테이블의 각 영업 지역에 대해 다른 Id 사용 하 여 값을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-159">hello SalesTerritoryId column in hello DimSalesTerritory table contains values with a different Id for each sales territory.</span></span>  
  
#### <a name="toocreate-relationships-between-hello-factinternetsales-dimgeography-and-hello-dimsalesterritory-table"></a><span data-ttu-id="28a47-160">FactInternetSales hello, DimGeography, 및 hello DimSalesTerritory 테이블 간의 toocreate 관계</span><span class="sxs-lookup"><span data-stu-id="28a47-160">toocreate relationships between hello FactInternetSales, DimGeography, and hello DimSalesTerritory table</span></span>  
  
1.  <span data-ttu-id="28a47-161">다이어그램 보기에서 hello **DimGeography** 테이블을 클릭 한 채로 hello **SalesTerritoryId** 열에 있으면 드래그 hello 커서 toohello **SalesTerritoryId** hello의 열 **DimSalesTerritory** 테이블을 마우스를 놓습니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-161">In Diagram View, in hello **DimGeography** table, click, and hold on hello **SalesTerritoryId** column, then drag hello cursor toohello **SalesTerritoryId** column in hello **DimSalesTerritory** table, and then release.</span></span>  
  
2.  <span data-ttu-id="28a47-162">Hello에 **FactInternetSales** 테이블을 클릭 한 채로 hello **SalesTerritoryId** 열에 있으면 드래그 hello 커서 toohello **SalesTerritoryId** hello 의에서열 **DimSalesTerritory** 테이블을 마우스를 놓습니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-162">In hello **FactInternetSales** table, click, and hold on hello **SalesTerritoryId** column, then drag hello cursor toohello **SalesTerritoryId** column in hello **DimSalesTerritory** table, and then release.</span></span>  
  
    <span data-ttu-id="28a47-163">공지 hello이이 관계에 대 한 활성 속성은 False, 되지 않음입니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-163">Notice hello Active property for this relationship is False, meaning it's inactive.</span></span> <span data-ttu-id="28a47-164">hello FactInternetSales 테이블에 다른 활성 관계가 이미 있습니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-164">hello FactInternetSales table already has another active relationship.</span></span>  
  
## <a name="hide-hello-employeesecurity-table-from-client-applications"></a><span data-ttu-id="28a47-165">클라이언트 응용 프로그램에서 hello EmployeeSecurity 테이블 숨기기</span><span class="sxs-lookup"><span data-stu-id="28a47-165">Hide hello EmployeeSecurity Table from client applications</span></span>  
<span data-ttu-id="28a47-166">이 태스크에서는 숨기면 hello EmployeeSecurity 테이블 지속적으로 업데이트를 클라이언트 응용 프로그램의 필드 목록에 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-166">In this task, you hide hello EmployeeSecurity table, keeping it from appearing in a client application’s field list.</span></span> <span data-ttu-id="28a47-167">테이블을 숨긴다고 해서 안전한 것은 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-167">Keep in mind that hiding a table does not secure it.</span></span> <span data-ttu-id="28a47-168">사용자는 EmployeeSecurity 테이블 데이터를 계속 쿼리할 수 있습니다(알고 있는 경우).</span><span class="sxs-lookup"><span data-stu-id="28a47-168">Users can still query EmployeeSecurity table data if they know how.</span></span> <span data-ttu-id="28a47-169">toosecure hello EmployeeSecurity 테이블 데이터를 사용자가 tooquery 수 없도록 방지 데이터, 이후 태스크에서 필터를 적용 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-169">toosecure hello EmployeeSecurity table data, preventing users from being able tooquery any of its data, you apply a filter in a later task.</span></span>  
  
#### <a name="toohide-hello-employeesecurity-table-from-client-applications"></a><span data-ttu-id="28a47-170">클라이언트 응용 프로그램에서 toohide hello EmployeeSecurity 테이블</span><span class="sxs-lookup"><span data-stu-id="28a47-170">toohide hello EmployeeSecurity table from client applications</span></span>  
  
-   <span data-ttu-id="28a47-171">다이어그램 뷰에서 hello 모델 디자이너에서 마우스 오른쪽 단추로 클릭 hello **직원** 테이블 머리글을 마우스 클릭 **클라이언트 도구에서 숨기기**합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-171">In hello model designer, in Diagram View, right-click hello **Employee** table heading, and then click **Hide from Client Tools**.</span></span>  
  
## <a name="create-a-sales-employees-by-territory-user-role"></a><span data-ttu-id="28a47-172">Sales Employees by Territory(지역별 영업 직원) 사용자 역할 만들기</span><span class="sxs-lookup"><span data-stu-id="28a47-172">Create a Sales Employees by Territory user role</span></span>  
<span data-ttu-id="28a47-173">이 작업에서는 사용자 역할을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-173">In this task, you create a user role.</span></span> <span data-ttu-id="28a47-174">이 역할 정의 hello DimSalesTerritory 테이블의 어떤 행이 표시 toousers 행 필터를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-174">This role includes a row filter defining which rows of hello DimSalesTerritory table are visible toousers.</span></span> <span data-ttu-id="28a47-175">hello 필터를 적용 합니다 hello 대 다 관계의 다른 방향 tooall 테이블 관련된 tooDimSalesTerritory 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-175">hello filter is then applied in hello one-to-many relationship direction tooall other tables related tooDimSalesTerritory.</span></span> <span data-ttu-id="28a47-176">도 hello 역할의 구성원 인 모든 사용자가 쿼리할 수 없도록 hello 전체 EmployeeSecurity 테이블의 보안을 유지 하는 필터를 적용 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-176">You also apply a filter that secures hello entire EmployeeSecurity table from being queryable by any user that is a member of hello role.</span></span>  
  
> [!NOTE]  
> <span data-ttu-id="28a47-177">Sales Employees by Territory 역할이이 단원에서 만드는 hello 멤버 toobrowse (또는 쿼리)만 판매 데이터를 자신이 속한 hello 영업 지역 toowhich 제한 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-177">hello Sales Employees by Territory role you create in this lesson restricts members toobrowse (or query) only sales data for hello sales territory toowhich they belong.</span></span> <span data-ttu-id="28a47-178">사용자는 멤버 toohello Sales Employees by Territory 역할에서 만든 역할의 멤버로 존재 하는 추가 하면 [11 단원: 역할 만들기](../tutorials/aas-lesson-11-create-roles.md), 사용 권한의 조합의 얻을 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-178">If you add a user as a member toohello Sales Employees by Territory role that also exists as a member in a role created in [Lesson 11: Create Roles](../tutorials/aas-lesson-11-create-roles.md), you get a combination of permissions.</span></span> <span data-ttu-id="28a47-179">사용자가 여러 역할, hello 사용 권한 및 각 역할에 대해 정의 된 행 필터의 멤버인 경우 누적 됩니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-179">When a user is a member of multiple roles, hello permissions, and row filters defined for each role are cumulative.</span></span> <span data-ttu-id="28a47-180">즉, hello 사용자 hello 더 큰 권한이 hello 역할 조합으로 결정 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-180">That is, hello user has hello greater permissions determined by hello combination of roles.</span></span>  
  
#### <a name="toocreate-a-sales-employees-by-territory-user-role"></a><span data-ttu-id="28a47-181">toocreate Sales Employees by Territory 사용자 역할</span><span class="sxs-lookup"><span data-stu-id="28a47-181">toocreate a Sales Employees by Territory user role</span></span>  
  
1.  <span data-ttu-id="28a47-182">SSDT에서는 hello 클릭 **모델** 메뉴를 차례로 클릭 **역할**합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-182">In SSDT, click hello **Model** menu, and then click **Roles**.</span></span>  
  
2.  <span data-ttu-id="28a47-183">**역할 관리자**에서 **새로 만들기**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-183">In **Role Manager**, click **New**.</span></span>  
  
    <span data-ttu-id="28a47-184">새 역할 hello 사용 권한 없음 toohello 목록을 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-184">A new role with hello None permission is added toohello list.</span></span>  
  
3.  <span data-ttu-id="28a47-185">Hello 새 역할을 클릭 한 다음 hello **이름** 열을 너무 hello 역할 이름 바꾸기**Sales Employees by Territory**합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-185">Click hello new role, and then in hello **Name** column, rename hello role too**Sales Employees by Territory**.</span></span>  
  
4.  <span data-ttu-id="28a47-186">Hello에 **사용 권한을** 열에서 hello 드롭다운 목록에서를 클릭 한 다음 hello 선택 **읽기** 권한.</span><span class="sxs-lookup"><span data-stu-id="28a47-186">In hello **Permissions** column, click hello dropdown list, and then select hello **Read** permission.</span></span>  
  
5.  <span data-ttu-id="28a47-187">Hello 클릭 **멤버** 탭을 클릭 한 다음 **추가**합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-187">Click hello **Members** tab, and then click **Add**.</span></span>  
  
6.  <span data-ttu-id="28a47-188">Hello에 **사용자 또는 그룹 선택** 대화 상자의 **Enter hello 개체인 tooselect**, hello 첫 번째 예제 사용자 이름을 입력 hello EmployeeSecurity 테이블을 만들 때 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-188">In hello **Select User or Group** dialog box, in **Enter hello object named tooselect**, type hello first sample user name you used when creating hello EmployeeSecurity table.</span></span> <span data-ttu-id="28a47-189">클릭 **이름 확인** tooverify hello 사용자 이름이 올바른지와 클릭 **확인**합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-189">Click **Check Names** tooverify hello user name is valid, and then click **Ok**.</span></span>  
  
    <span data-ttu-id="28a47-190">Hello EmployeeSecurity 테이블을 만들 때 사용한 다른 예제 사용자 이름을 추가 hello이이 단계를 반복 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-190">Repeat this step, adding hello other sample user names you used when creating hello EmployeeSecurity table.</span></span>  
  
7.  <span data-ttu-id="28a47-191">Hello 클릭 **행 필터** 탭 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-191">Click hello **Row Filters** tab.</span></span>  
  
8.  <span data-ttu-id="28a47-192">Hello에 대 한 **EmployeeSecurity** 테이블 hello에 **DAX 필터** 다음 수식을 형식 hello, 열:</span><span class="sxs-lookup"><span data-stu-id="28a47-192">For hello **EmployeeSecurity** table, in hello **DAX Filter** column, type hello following formula:</span></span>  
  
    ```
      =FALSE()  
    ```
  
    <span data-ttu-id="28a47-193">이 수식은 모든 열 toohello false 부울 조건 확인할 수 있는지를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-193">This formula specifies that all columns resolve toohello false Boolean condition.</span></span> <span data-ttu-id="28a47-194">Hello EmployeeSecurity 테이블에 대 한 열이 없습니다 hello Sales Employees by Territory 사용자 역할의 멤버가 쿼리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-194">No columns for hello EmployeeSecurity table can be queried by a member of hello Sales Employees by Territory user role.</span></span>  
  
9. <span data-ttu-id="28a47-195">Hello에 대 한 **DimSalesTerritory** 테이블, 다음 수식을 형식 hello:</span><span class="sxs-lookup"><span data-stu-id="28a47-195">For hello **DimSalesTerritory** table, type hello following formula:</span></span>  

    ```  
    ='Sales Territory'[Sales Territory Id]=LOOKUPVALUE('Employee Security'[Sales Territory Id], 
      'Employee Security'[Login Id], USERNAME(), 
      'Employee Security'[Sales Territory Id], 
      'Sales Territory'[Sales Territory Id]) 
    ```
  
    <span data-ttu-id="28a47-196">이 수식에서 LOOKUPVALUE 함수 hello 모든 값이 반환 hello DimEmployeeSecurity [SalesTerritoryId] 열에 대 한 여기서 hello EmployeeSecurity [LoginId]가 hello 동일 현재 로그온 한 Windows 사용자 이름 및 EmployeeSecurity [hello로 SalesTerritoryId] hello DimSalesTerritory [SalesTerritoryId]와 동일 hello 됩니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-196">In this formula, hello LOOKUPVALUE function returns all values for hello DimEmployeeSecurity[SalesTerritoryId] column, where hello EmployeeSecurity[LoginId] is hello same as hello current logged on Windows user name, and EmployeeSecurity[SalesTerritoryId] is hello same as hello DimSalesTerritory[SalesTerritoryId].</span></span>  
  
    <span data-ttu-id="28a47-197">hello LOOKUPVALUE에서 반환 된 sales territory Id 집합에 있으면 사용 되는 toorestrict hello hello DimSalesTerritory 테이블에에서 표시 되는 행.</span><span class="sxs-lookup"><span data-stu-id="28a47-197">hello set of sales territory IDs returned by LOOKUPVALUE is then used toorestrict hello rows shown in hello DimSalesTerritory table.</span></span> <span data-ttu-id="28a47-198">여기서 hello hello 행에 대 한 SalesTerritoryID는 hello LOOKUPVALUE 함수에서 반환 된 Id의 hello 집합에 행만 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-198">Only rows where hello SalesTerritoryID for hello row is in hello set of IDs returned by hello LOOKUPVALUE function are displayed.</span></span>  
  
10. <span data-ttu-id="28a47-199">역할 관리자에서 **확인**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-199">In Role Manager, click **Ok**.</span></span>  
  
## <a name="test-hello-sales-employees-by-territory-user-role"></a><span data-ttu-id="28a47-200">Hello Sales Employees by Territory 사용자 역할 테스트</span><span class="sxs-lookup"><span data-stu-id="28a47-200">Test hello Sales Employees by Territory User Role</span></span>  
<span data-ttu-id="28a47-201">이 태스크에서는 Excel 기능에서 분석 hello를 사용 하 여 hello Sales Employees by Territory 사용자 역할의 SSDT tootest hello 효율성에서.</span><span class="sxs-lookup"><span data-stu-id="28a47-201">In this task, you use hello Analyze in Excel feature in SSDT tootest hello efficacy of hello Sales Employees by Territory user role.</span></span> <span data-ttu-id="28a47-202">하나를 지정 toohello EmployeeSecurity 테이블을 추가한 hello 사용자 이름 및 hello 역할의 구성원으로 합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-202">You specify one of hello user names you added toohello EmployeeSecurity table and as a member of hello role.</span></span> <span data-ttu-id="28a47-203">이 사용자 이름은 Excel 및 hello 모델 간에 만들어진 hello 연결에서 hello 유효 사용자 이름으로 다음 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-203">This user name is then used as hello effective user name in hello connection created between Excel and hello model.</span></span>  
  
#### <a name="tootest-hello-sales-employees-by-territory-user-role"></a><span data-ttu-id="28a47-204">tootest hello Sales Employees by Territory 사용자 역할</span><span class="sxs-lookup"><span data-stu-id="28a47-204">tootest hello Sales Employees by Territory user role</span></span>  
  
1.  <span data-ttu-id="28a47-205">SSDT에서는 hello 클릭 **모델** 메뉴를 차례로 클릭 **Excel에서 분석**합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-205">In SSDT, click hello **Model** menu, and then click **Analyze in Excel**.</span></span>  
  
2.  <span data-ttu-id="28a47-206">Hello에 **Excel에서 분석** 대화 상자의 **지정 hello 사용자 이름 또는 역할 toouse tooconnect toohello 모델**선택, **기타 Windows 사용자**, 클릭하고**찾아보기**합니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-206">In hello **Analyze in Excel** dialog box, in **Specify hello user name or role toouse tooconnect toohello model**, select **Other Windows User**, and then click **Browse**.</span></span>  
  
3.  <span data-ttu-id="28a47-207">Hello에 **사용자 또는 그룹 선택** 대화 상자의 **hello 개체 이름 tooselect 입력**hello EmployeeSecurity 테이블에 포함 된 사용자 이름을 입력 한 다음 클릭 **이름 확인**.</span><span class="sxs-lookup"><span data-stu-id="28a47-207">In hello **Select User or Group** dialog box, in **Enter hello object name tooselect**, type a user name you included in hello EmployeeSecurity table, and then click **Check Names**.</span></span>  
  
4.  <span data-ttu-id="28a47-208">클릭 **확인** tooclose hello **사용자 또는 그룹 선택** 대화 상자를 닫은 다음 **확인** tooclose hello **Excel에서 분석** 대화 상자.</span><span class="sxs-lookup"><span data-stu-id="28a47-208">Click **Ok** tooclose hello **Select User or Group** dialog box, and then click **Ok** tooclose hello **Analyze in Excel** dialog box.</span></span>  
  
    <span data-ttu-id="28a47-209">Excel에서 새 통합 문서가 열립니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-209">Excel opens with a new workbook.</span></span> <span data-ttu-id="28a47-210">피벗 테이블이 자동으로 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-210">A PivotTable is automatically created.</span></span> <span data-ttu-id="28a47-211">hello 피벗 테이블 필드 목록에 새 모델에서 사용할 수 있는 hello 데이터 필드 대부분 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-211">hello PivotTable Fields list includes most of hello data fields available in your new model.</span></span>  
  
    <span data-ttu-id="28a47-212">공지 hello EmployeeSecurity 테이블 hello 피벗 테이블 필드 목록에에서 표시 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-212">Notice hello EmployeeSecurity table is not visible in hello PivotTable Fields list.</span></span> <span data-ttu-id="28a47-213">이전 작업의 클라이언트 도구에서 이 테이블을 숨겼습니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-213">You hid this table from client tools in a previous task.</span></span>  
  
5.  <span data-ttu-id="28a47-214">Hello에 **필드** 목록에서 **∑ Internet Sales** (측정값) 선택 hello **InternetTotalSales** 측정값입니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-214">In hello **Fields** list, in **∑ Internet Sales** (measures), select hello **InternetTotalSales** measure.</span></span> <span data-ttu-id="28a47-215">hello 측정값 hello에 입력 된 **값** 필드입니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-215">hello measure is entered into hello **Values** fields.</span></span>  
  
6.  <span data-ttu-id="28a47-216">선택 hello **SalesTerritoryId** hello에서 열 **DimSalesTerritory** 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-216">Select hello **SalesTerritoryId** column from hello **DimSalesTerritory** table.</span></span> <span data-ttu-id="28a47-217">hello 열 hello에 입력 된 **행 레이블** 필드입니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-217">hello column is entered into hello **Row Labels** fields.</span></span>  
  
    <span data-ttu-id="28a47-218">공지 인터넷 판매 수치 hello 하나의 영역 toowhich hello 유효 사용자 이름을 사용한 경우에 표시 속해 있습니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-218">Notice Internet sales figures appear only for hello one region toowhich hello effective user name you used belongs.</span></span> <span data-ttu-id="28a47-219">다른 열을 선택 하는 경우 City hello DimGeography 테이블에서 같은 행 레이블 필드와만 4 개 도시 hello 영업 지역 toowhich hello 유효 사용자에 속한 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-219">If you select another column, like City from hello DimGeography table as Row Label field, only cities in hello sales territory toowhich hello effective user belongs are displayed.</span></span>  
  
    <span data-ttu-id="28a47-220">이 사용자는 찾아보기 또는 지역에 속해 하나 hello 이외의 다른 지역에 대 한 모든 인터넷 판매 데이터를 쿼리할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="28a47-220">This user cannot browse or query any Internet sales data for territories other than hello one they belong to.</span></span> <span data-ttu-id="28a47-221">이 제한은 hello hello DimSalesTerritory 테이블 hello Sales Employees by Territory 사용자 역할에에서 대해 정의 된 행 필터는 데이터를 보호에 대 한 모든 데이터 때문에 관련 tooother 영업 지역.</span><span class="sxs-lookup"><span data-stu-id="28a47-221">This restriction is because hello row filter defined for hello DimSalesTerritory table, in hello Sales Employees by Territory user role, secures data for all data related tooother sales territories.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="28a47-222">참고 항목</span><span class="sxs-lookup"><span data-stu-id="28a47-222">See Also</span></span>  
[<span data-ttu-id="28a47-223">USERNAME 함수(DAX)</span><span class="sxs-lookup"><span data-stu-id="28a47-223">USERNAME Function (DAX)</span></span>](https://msdn.microsoft.com/library/hh230954.aspx)  
[<span data-ttu-id="28a47-224">LOOKUPVALUE 함수(DAX)</span><span class="sxs-lookup"><span data-stu-id="28a47-224">LOOKUPVALUE Function (DAX)</span></span>](https://msdn.microsoft.com/library/gg492170.aspx)  
[<span data-ttu-id="28a47-225">CUSTOMDATA 함수(DAX)</span><span class="sxs-lookup"><span data-stu-id="28a47-225">CUSTOMDATA Function (DAX)</span></span>](https://msdn.microsoft.com/library/hh213140.aspx)  