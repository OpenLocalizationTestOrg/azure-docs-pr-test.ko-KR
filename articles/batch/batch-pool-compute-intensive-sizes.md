---
title: "aaaUse 계산 집약적 배치와 함께 Azure Vm | Microsoft Docs"
description: "Azure 배치 풀에서 tootake 활용 RDMA 가능 또는 GPU 사용이 가능한 VM 크기 방법"
services: batch
documentationcenter: 
author: dlepow
manager: timlt
editor: 
ms.assetid: 
ms.service: batch
ms.workload: big-compute
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/27/2017
ms.author: danlep
ms.openlocfilehash: 6a462a5f2a44ddcec8bf4e5c200d444cac8fafe6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="use-rdma-capable-or-gpu-enabled-instances-in-batch-pools"></a><span data-ttu-id="06c64-103">Batch 풀에서 RDMA 가능 또는 GPU 가능 인스턴스 사용</span><span class="sxs-lookup"><span data-stu-id="06c64-103">Use RDMA-capable or GPU-enabled instances in Batch pools</span></span>

<span data-ttu-id="06c64-104">toorun 특정 일괄 처리 작업이 tootake 활용 대규모 계산을 위해 설계 된 Azure VM 크기를 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-104">toorun certain Batch jobs, you might want tootake advantage of Azure VM sizes designed for large-scale computation.</span></span> <span data-ttu-id="06c64-105">예를 들어 toorun 다중 인스턴스 [MPI 작업](batch-mpi.md), A8, A9, 선택할 수 있습니다 또는 H 시리즈 크기를 보유 한 네트워크 인터페이스에 대 한 직접 메모리 RDMA (원격 액세스).</span><span class="sxs-lookup"><span data-stu-id="06c64-105">For example, toorun multi-instance [MPI workloads](batch-mpi.md), you can choose A8, A9, or H-series sizes that have a network interface for Remote Direct Memory Access (RDMA).</span></span> <span data-ttu-id="06c64-106">이러한 크기 MPI 응용 프로그램을 가속화할 수 있는 노드 간 통신에 대 한 tooan InfiniBand 네트워크에 연결 합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-106">These sizes connect tooan InfiniBand network for inter-node communication, which can accelerate MPI applications.</span></span> <span data-ttu-id="06c64-107">또는 CUDA 응용 프로그램의 경우 NVIDIA Tesla GPU(그래픽 처리 장치) 카드를 포함하는 N 시리즈 크기를 선택할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-107">Or for CUDA applications, you can choose N-series sizes that include NVIDIA Tesla graphics processing unit (GPU) cards.</span></span>

<span data-ttu-id="06c64-108">이 문서에서는 지침과 예제 toouse 일괄 처리 풀에 있는 Azure의 특별 한 크기의 일부입니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-108">This article provides guidance and examples toouse some of Azure's specialized sizes in Batch pools.</span></span> <span data-ttu-id="06c64-109">사양 및 백그라운드는 다음을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="06c64-109">For specs and background, see:</span></span>

* <span data-ttu-id="06c64-110">고성능 계산 VM 크기([Linux](../virtual-machines/linux/sizes-hpc.md), [Windows](../virtual-machines/windows/sizes-hpc.md))</span><span class="sxs-lookup"><span data-stu-id="06c64-110">High performance compute VM sizes ([Linux](../virtual-machines/linux/sizes-hpc.md), [Windows](../virtual-machines/windows/sizes-hpc.md))</span></span> 

* <span data-ttu-id="06c64-111">GPU 가능 VM 크기([Linux](../virtual-machines/linux/sizes-gpu.md), [Windows](../virtual-machines/windows/sizes-gpu.md))</span><span class="sxs-lookup"><span data-stu-id="06c64-111">GPU-enabled VM sizes ([Linux](../virtual-machines/linux/sizes-gpu.md), [Windows](../virtual-machines/windows/sizes-gpu.md))</span></span> 


## <a name="subscription-and-account-limits"></a><span data-ttu-id="06c64-112">구독 및 계정 제한</span><span class="sxs-lookup"><span data-stu-id="06c64-112">Subscription and account limits</span></span>

* <span data-ttu-id="06c64-113">**할당량** -하나 이상의 Azure 할당량 제한 hello 개수나 유형에 노드의 tooa 배치 풀을 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-113">**Quotas** - One or more Azure quotas may limit hello number or type of nodes you can add tooa Batch pool.</span></span> <span data-ttu-id="06c64-114">사용자는 RDMA 가능, GPU 사용을 선택 하면 제한 된 가능성이 toobe 또는 다른 멀티 코어 VM 크기입니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-114">You are more likely toobe limited when you choose RDMA-capable, GPU-enabled, or other multicore VM sizes.</span></span> <span data-ttu-id="06c64-115">만든 일괄 처리 계정 hello 유형에 따라 hello 할당량 toohello 계정 자체 또는 tooyour 구독을 적용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-115">Depending on hello type of Batch account you created, hello quotas could apply toohello account itself or tooyour subscription.</span></span>

    * <span data-ttu-id="06c64-116">Hello에 일괄 처리 계정을 만든 경우 **서비스 일괄** 구성 hello에 따라 제한 됩니다 [전용된 코어 할당량 일괄 처리 계정 별로](batch-quota-limit.md#resource-quotas)합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-116">If you created your Batch account in hello **Batch service** configuration, you are limited by hello [dedicated cores quota per Batch account](batch-quota-limit.md#resource-quotas).</span></span> <span data-ttu-id="06c64-117">기본적으로 이 할당량은 20개의 코어입니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-117">By default, this quota is 20 cores.</span></span> <span data-ttu-id="06c64-118">별도 할당량이 적용 너무[Vm 낮은 우선 순위](batch-low-pri-vms.md)사용 하는 경우, 합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-118">A separate quota applies too[low-priority VMs](batch-low-pri-vms.md), if you use them.</span></span> 

    * <span data-ttu-id="06c64-119">Hello에 hello 계정을 만든 경우 **사용자 구독** hello / 지역당 VM 코어 수를 제한 하는 구성에서 구독 합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-119">If you created hello account in hello **User subscription** configuration, your subscription limits hello number of VM cores per region.</span></span> <span data-ttu-id="06c64-120">[Azure 구독 및 서비스 제한, 할당량 및 제약 조건](../azure-subscription-service-limits.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="06c64-120">See [Azure subscription and service limits, quotas, and constraints](../azure-subscription-service-limits.md).</span></span> <span data-ttu-id="06c64-121">구독에는 HPC 및 GPU 인스턴스를 포함 하는 지역 할당량 toocertain VM 크기도 적용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-121">Your subscription also applies a regional quota toocertain VM sizes, including HPC and GPU instances.</span></span> <span data-ttu-id="06c64-122">Hello 사용자 구독 구성에서 추가 할당량이 없습니다 toohello 일괄 처리 계정을 적용 합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-122">In hello user subscription configuration, no additional quotas apply toohello Batch account.</span></span> 

  <span data-ttu-id="06c64-123">일괄 처리에서 특수화 된 VM 크기를 사용 하는 경우 하나 이상의 할당량 tooincrease 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-123">You might need tooincrease one or more quotas when using a specialized VM size in Batch.</span></span> <span data-ttu-id="06c64-124">할당량 증가 열기 toorequest는 [온라인 고객 지원 요청](../azure-supportability/how-to-create-azure-support-request.md) 비용 없이 합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-124">toorequest a quota increase, open an [online customer support request](../azure-supportability/how-to-create-azure-support-request.md) at no charge.</span></span>

* <span data-ttu-id="06c64-125">**지역 가용성** -계산 집약적인 Vm 하지 못할 수도 있습니다 일괄 처리 계정을 만들면 hello 지역에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-125">**Region availability** - Compute-intensive VMs might not be available in hello regions where you create your Batch accounts.</span></span> <span data-ttu-id="06c64-126">크기는 사용할 수 있는, toocheck 참조 [지역에 따라 사용할 수 있는 제품](https://azure.microsoft.com/regions/services/)합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-126">toocheck that a size is available, see [Products available by region](https://azure.microsoft.com/regions/services/).</span></span>


## <a name="dependencies"></a><span data-ttu-id="06c64-127">종속성</span><span class="sxs-lookup"><span data-stu-id="06c64-127">Dependencies</span></span>

<span data-ttu-id="06c64-128">계산 집약적인 크기의 GPU 기능과 hello RDMA 특정 운영 체제에만 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-128">hello RDMA and GPU capabilities of compute-intensive sizes are supported only in certain operating systems.</span></span> <span data-ttu-id="06c64-129">운영 체제에 따라 tooinstall 필요 하거나 추가 드라이버 또는 다른 소프트웨어를 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-129">Depending on your operating system, you might need tooinstall or configure additional driver or other software.</span></span> <span data-ttu-id="06c64-130">다음 표에서 hello 이러한 종속성을 요약 합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-130">hello following tables summarize these dependencies.</span></span> <span data-ttu-id="06c64-131">자세한 내용은 연결된 문서를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="06c64-131">See linked articles for details.</span></span> <span data-ttu-id="06c64-132">옵션 tooconfigure 일괄 처리 풀에 대 한이 문서의 뒷부분을 참조 합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-132">For options tooconfigure Batch pools, see later in this article.</span></span>


### <a name="linux-pools---virtual-machine-configuration"></a><span data-ttu-id="06c64-133">Linux 풀 - 가상 컴퓨터 구성</span><span class="sxs-lookup"><span data-stu-id="06c64-133">Linux pools - Virtual machine configuration</span></span>

| <span data-ttu-id="06c64-134">크기</span><span class="sxs-lookup"><span data-stu-id="06c64-134">Size</span></span> | <span data-ttu-id="06c64-135">기능</span><span class="sxs-lookup"><span data-stu-id="06c64-135">Capability</span></span> | <span data-ttu-id="06c64-136">운영 체제</span><span class="sxs-lookup"><span data-stu-id="06c64-136">Operating systems</span></span> | <span data-ttu-id="06c64-137">필수 소프트웨어</span><span class="sxs-lookup"><span data-stu-id="06c64-137">Required software</span></span> | <span data-ttu-id="06c64-138">풀 설정</span><span class="sxs-lookup"><span data-stu-id="06c64-138">Pool settings</span></span> |
| -------- | -------- | ----- |  -------- | ----- |
| [<span data-ttu-id="06c64-139">H16r, H16mr, A8, A9</span><span class="sxs-lookup"><span data-stu-id="06c64-139">H16r, H16mr, A8, A9</span></span>](../virtual-machines/linux/sizes-hpc.md#rdma-capable-instances) | <span data-ttu-id="06c64-140">RDMA</span><span class="sxs-lookup"><span data-stu-id="06c64-140">RDMA</span></span> | <span data-ttu-id="06c64-141">SUSE Linux Enterprise Server 12 HPC 또는</span><span class="sxs-lookup"><span data-stu-id="06c64-141">SUSE Linux Enterprise Server 12 HPC or</span></span><br/><span data-ttu-id="06c64-142">CentOS 기반 HPC</span><span class="sxs-lookup"><span data-stu-id="06c64-142">CentOS-based HPC</span></span><br/><span data-ttu-id="06c64-143">(Azure Marketplace)</span><span class="sxs-lookup"><span data-stu-id="06c64-143">(Azure Marketplace)</span></span> | <span data-ttu-id="06c64-144">Intel MPI 5</span><span class="sxs-lookup"><span data-stu-id="06c64-144">Intel MPI 5</span></span> | <span data-ttu-id="06c64-145">노드 간 통신 사용, 동시 작업 실행 사용 안 함</span><span class="sxs-lookup"><span data-stu-id="06c64-145">Enable inter-node communication, disable concurrent task execution</span></span> |
| [<span data-ttu-id="06c64-146">NC 시리즈*</span><span class="sxs-lookup"><span data-stu-id="06c64-146">NC series*</span></span>](../virtual-machines/linux/n-series-driver-setup.md#install-cuda-drivers-for-nc-vms) | <span data-ttu-id="06c64-147">NVIDIA Tesla K80 GPU</span><span class="sxs-lookup"><span data-stu-id="06c64-147">NVIDIA Tesla K80 GPU</span></span> | <span data-ttu-id="06c64-148">Ubuntu 16.04 LTS.</span><span class="sxs-lookup"><span data-stu-id="06c64-148">Ubuntu 16.04 LTS.</span></span><br/><span data-ttu-id="06c64-149">Red Hat Enterprise Linux 7.3 또는</span><span class="sxs-lookup"><span data-stu-id="06c64-149">Red Hat Enterprise Linux 7.3, or</span></span><br/><span data-ttu-id="06c64-150">CentOS 기반 7.3</span><span class="sxs-lookup"><span data-stu-id="06c64-150">CentOS-based 7.3</span></span><br/><span data-ttu-id="06c64-151">(Azure Marketplace)</span><span class="sxs-lookup"><span data-stu-id="06c64-151">(Azure Marketplace)</span></span> | <span data-ttu-id="06c64-152">NVIDIA CUDA Toolkit 8.0 드라이버</span><span class="sxs-lookup"><span data-stu-id="06c64-152">NVIDIA CUDA Toolkit 8.0 drivers</span></span> | <span data-ttu-id="06c64-153">해당 없음</span><span class="sxs-lookup"><span data-stu-id="06c64-153">N/A</span></span> | 
| [<span data-ttu-id="06c64-154">NV 시리즈</span><span class="sxs-lookup"><span data-stu-id="06c64-154">NV series</span></span>](../virtual-machines/linux/n-series-driver-setup.md#install-grid-drivers-for-nv-vms) | <span data-ttu-id="06c64-155">NVIDIA Tesla M60 GPU</span><span class="sxs-lookup"><span data-stu-id="06c64-155">NVIDIA Tesla M60 GPU</span></span> | <span data-ttu-id="06c64-156">Ubuntu 16.04 LTS</span><span class="sxs-lookup"><span data-stu-id="06c64-156">Ubuntu 16.04 LTS</span></span><br/><span data-ttu-id="06c64-157">Red Hat Enterprise Linux 7.3</span><span class="sxs-lookup"><span data-stu-id="06c64-157">Red Hat Enterprise Linux 7.3</span></span><br/><span data-ttu-id="06c64-158">CentOS 기반 7.3</span><span class="sxs-lookup"><span data-stu-id="06c64-158">CentOS-based 7.3</span></span><br/><span data-ttu-id="06c64-159">(Azure Marketplace)</span><span class="sxs-lookup"><span data-stu-id="06c64-159">(Azure Marketplace)</span></span> | <span data-ttu-id="06c64-160">NVIDIA GRID 4.3 드라이버</span><span class="sxs-lookup"><span data-stu-id="06c64-160">NVIDIA GRID 4.3 drivers</span></span> | <span data-ttu-id="06c64-161">해당 없음</span><span class="sxs-lookup"><span data-stu-id="06c64-161">N/A</span></span> |

<span data-ttu-id="06c64-162">*NC24r VM의 RDMA 연결은 Intel MPI와 CentOS 기반 7.3 HPC에서 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-162">*RDMA connectivity on NC24r VMs is supported on CentOS-based 7.3 HPC with Intel MPI.</span></span>



### <a name="windows-pools---virtual-machine-configuration"></a><span data-ttu-id="06c64-163">Windows 풀 - 가상 컴퓨터 구성</span><span class="sxs-lookup"><span data-stu-id="06c64-163">Windows pools - Virtual machine configuration</span></span>

| <span data-ttu-id="06c64-164">크기</span><span class="sxs-lookup"><span data-stu-id="06c64-164">Size</span></span> | <span data-ttu-id="06c64-165">기능</span><span class="sxs-lookup"><span data-stu-id="06c64-165">Capability</span></span> | <span data-ttu-id="06c64-166">운영 체제</span><span class="sxs-lookup"><span data-stu-id="06c64-166">Operating systems</span></span> | <span data-ttu-id="06c64-167">필수 소프트웨어</span><span class="sxs-lookup"><span data-stu-id="06c64-167">Required software</span></span> | <span data-ttu-id="06c64-168">풀 설정</span><span class="sxs-lookup"><span data-stu-id="06c64-168">Pool settings</span></span> |
| -------- | ------ | -------- | -------- | ----- |
| [<span data-ttu-id="06c64-169">H16r, H16mr, A8, A9</span><span class="sxs-lookup"><span data-stu-id="06c64-169">H16r, H16mr, A8, A9</span></span>](../virtual-machines/windows/sizes-hpc.md#rdma-capable-instances) | <span data-ttu-id="06c64-170">RDMA</span><span class="sxs-lookup"><span data-stu-id="06c64-170">RDMA</span></span> | <span data-ttu-id="06c64-171">Windows Server 2012 R2 또는</span><span class="sxs-lookup"><span data-stu-id="06c64-171">Windows Server 2012 R2 or</span></span><br/><span data-ttu-id="06c64-172">Windows Server 2012(Azure Marketplace)</span><span class="sxs-lookup"><span data-stu-id="06c64-172">Windows Server 2012 (Azure Marketplace)</span></span> | <span data-ttu-id="06c64-173">Microsoft MPI 2012 R2 이상 또는</span><span class="sxs-lookup"><span data-stu-id="06c64-173">Microsoft MPI 2012 R2 or later, or</span></span><br/> <span data-ttu-id="06c64-174">Intel MPI 5</span><span class="sxs-lookup"><span data-stu-id="06c64-174">Intel MPI 5</span></span><br/><br/><span data-ttu-id="06c64-175">HpcVMDrivers Azure VM 확장</span><span class="sxs-lookup"><span data-stu-id="06c64-175">HpcVMDrivers Azure VM extension</span></span> | <span data-ttu-id="06c64-176">노드 간 통신 사용, 동시 작업 실행 사용 안 함</span><span class="sxs-lookup"><span data-stu-id="06c64-176">Enable inter-node communication, disable concurrent task execution</span></span> |
| [<span data-ttu-id="06c64-177">NC 시리즈*</span><span class="sxs-lookup"><span data-stu-id="06c64-177">NC series*</span></span>](../virtual-machines/windows/n-series-driver-setup.md) | <span data-ttu-id="06c64-178">NVIDIA Tesla K80 GPU</span><span class="sxs-lookup"><span data-stu-id="06c64-178">NVIDIA Tesla K80 GPU</span></span> | <span data-ttu-id="06c64-179">Windows Server 2016 또는</span><span class="sxs-lookup"><span data-stu-id="06c64-179">Windows Server 2016 or</span></span> <br/><span data-ttu-id="06c64-180">Windows Server 2012 R2(Azure Marketplace)</span><span class="sxs-lookup"><span data-stu-id="06c64-180">Windows Server 2012 R2 (Azure Marketplace)</span></span> | <span data-ttu-id="06c64-181">NVIDIA Tesla 드라이버 또는 CUDA Toolkit 8.0 드라이버</span><span class="sxs-lookup"><span data-stu-id="06c64-181">NVIDIA Tesla drivers or CUDA Toolkit 8.0 drivers</span></span>| <span data-ttu-id="06c64-182">해당 없음</span><span class="sxs-lookup"><span data-stu-id="06c64-182">N/A</span></span> | 
| [<span data-ttu-id="06c64-183">NV 시리즈</span><span class="sxs-lookup"><span data-stu-id="06c64-183">NV series</span></span>](../virtual-machines/windows/n-series-driver-setup.md) | <span data-ttu-id="06c64-184">NVIDIA Tesla M60 GPU</span><span class="sxs-lookup"><span data-stu-id="06c64-184">NVIDIA Tesla M60 GPU</span></span> | <span data-ttu-id="06c64-185">Windows Server 2016 또는</span><span class="sxs-lookup"><span data-stu-id="06c64-185">Windows Server 2016 or</span></span><br/><span data-ttu-id="06c64-186">Windows Server 2012 R2(Azure Marketplace)</span><span class="sxs-lookup"><span data-stu-id="06c64-186">Windows Server 2012 R2 (Azure Marketplace)</span></span> | <span data-ttu-id="06c64-187">NVIDIA GRID 4.3 드라이버</span><span class="sxs-lookup"><span data-stu-id="06c64-187">NVIDIA GRID 4.3 drivers</span></span> | <span data-ttu-id="06c64-188">해당 없음</span><span class="sxs-lookup"><span data-stu-id="06c64-188">N/A</span></span> |

<span data-ttu-id="06c64-189">*NC24r VM의 RDMA 연결은 HpcVMDrivers 확장 및 Microsoft MPI 또는 Intel MPI를 사용하는 Windows Server 2012 R2에서 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-189">*RDMA connectivity on NC24r VMs is supported on Windows Server 2012 R2 with HpcVMDrivers extension and Microsoft MPI or Intel MPI.</span></span>

### <a name="windows-pools---cloud-services-configuration"></a><span data-ttu-id="06c64-190">Windows 풀 - 클라우드 서비스 구성</span><span class="sxs-lookup"><span data-stu-id="06c64-190">Windows pools - Cloud services configuration</span></span>

> [!NOTE]
> <span data-ttu-id="06c64-191">N 시리즈 크기 hello 클라우드 서비스 구성 사용 하 여 일괄 처리 풀에서 지원 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-191">N-series sizes are not supported in Batch pools with hello cloud services configuration.</span></span>
>

| <span data-ttu-id="06c64-192">크기</span><span class="sxs-lookup"><span data-stu-id="06c64-192">Size</span></span> | <span data-ttu-id="06c64-193">기능</span><span class="sxs-lookup"><span data-stu-id="06c64-193">Capability</span></span> | <span data-ttu-id="06c64-194">운영 체제</span><span class="sxs-lookup"><span data-stu-id="06c64-194">Operating systems</span></span> | <span data-ttu-id="06c64-195">필수 소프트웨어</span><span class="sxs-lookup"><span data-stu-id="06c64-195">Required software</span></span> | <span data-ttu-id="06c64-196">풀 설정</span><span class="sxs-lookup"><span data-stu-id="06c64-196">Pool settings</span></span> |
| -------- | ------- | -------- | -------- | ----- |
| [<span data-ttu-id="06c64-197">H16r, H16mr, A8, A9</span><span class="sxs-lookup"><span data-stu-id="06c64-197">H16r, H16mr, A8, A9</span></span>](../virtual-machines/windows/sizes-hpc.md#rdma-capable-instances) | <span data-ttu-id="06c64-198">RDMA</span><span class="sxs-lookup"><span data-stu-id="06c64-198">RDMA</span></span> | <span data-ttu-id="06c64-199">Windows Server 2012 R2,</span><span class="sxs-lookup"><span data-stu-id="06c64-199">Windows Server 2012 R2,</span></span><br/><span data-ttu-id="06c64-200">Windows Server 2012 또는</span><span class="sxs-lookup"><span data-stu-id="06c64-200">Windows Server 2012, or</span></span><br/><span data-ttu-id="06c64-201">Windows Server 2008 R2(게스트 OS 제품군)</span><span class="sxs-lookup"><span data-stu-id="06c64-201">Windows Server 2008 R2 (Guest OS family)</span></span> | <span data-ttu-id="06c64-202">Microsoft MPI 2012 R2 이상 또는</span><span class="sxs-lookup"><span data-stu-id="06c64-202">Microsoft MPI 2012 R2 or later, or</span></span><br/><span data-ttu-id="06c64-203">Intel MPI 5</span><span class="sxs-lookup"><span data-stu-id="06c64-203">Intel MPI 5</span></span><br/><br/><span data-ttu-id="06c64-204">HpcVMDrivers Azure VM 확장</span><span class="sxs-lookup"><span data-stu-id="06c64-204">HpcVMDrivers Azure VM extension</span></span> | <span data-ttu-id="06c64-205">노드 간 통신 사용</span><span class="sxs-lookup"><span data-stu-id="06c64-205">Enable inter-node communication,</span></span><br/> <span data-ttu-id="06c64-206">동시 작업 실행 사용 안 함</span><span class="sxs-lookup"><span data-stu-id="06c64-206">disable concurrent task execution</span></span> |





## <a name="pool-configuration-options"></a><span data-ttu-id="06c64-207">풀 구성 옵션</span><span class="sxs-lookup"><span data-stu-id="06c64-207">Pool configuration options</span></span>

<span data-ttu-id="06c64-208">tooconfigure 일괄 처리 풀, 일괄 처리 Api hello 및 도구에 대 한 특수 한 VM 크기가 몇 가지 옵션 tooinstall 필요한 소프트웨어 또는 포함 하 여 드라이버를 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-208">tooconfigure a specialized VM size for your Batch pool, hello Batch APIs and tools provide several options tooinstall required software or drivers, including:</span></span>

* <span data-ttu-id="06c64-209">[시작 작업](batch-api-basics.md#start-task) -리소스 파일 tooan hello에 대 한 Azure 저장소 계정으로 설치 패키지를 업로드할 hello 배치 계정과 같은 지역입니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-209">[Start task](batch-api-basics.md#start-task) - Upload an installation package as a resource file tooan Azure storage account in hello same region as hello Batch account.</span></span> <span data-ttu-id="06c64-210">Hello 풀 시작 될 때 시작 작업이 명령줄 tooinstall hello 리소스 파일을 자동으로 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-210">Create a start task command line tooinstall hello resource file silently when hello pool starts.</span></span> <span data-ttu-id="06c64-211">자세한 내용은 참조 hello [REST API 문서](/rest/api/batchservice/add-a-pool-to-an-account#bk_starttask)합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-211">For more information, see hello [REST API documentation](/rest/api/batchservice/add-a-pool-to-an-account#bk_starttask).</span></span>

  > [!NOTE] 
  > <span data-ttu-id="06c64-212">hello 시작 태스크를 관리자 권한 (관리자) 권한으로 실행 해야 하 고 성공에 대 한 대기 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-212">hello start task must run with elevated (admin) permissions, and it must wait for success.</span></span>
  >

* <span data-ttu-id="06c64-213">[응용 프로그램 패키지](batch-application-packages.md) -압축 된 설치 패키지 tooyour 일괄 처리 계정을 추가 하 고 hello 풀에서 패키지 참조를 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-213">[Application package](batch-application-packages.md) - Add a zipped installation package tooyour Batch account, and configure a package reference in hello pool.</span></span> <span data-ttu-id="06c64-214">이 설정은 hello 풀의 모든 노드에서 hello 패키지 압축을 풀고와 업로드 했습니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-214">This setting uploads and unzips hello package on all nodes in hello pool.</span></span> <span data-ttu-id="06c64-215">Hello 패키지 설치 관리자 인 경우 모든 풀 노드에서 시작 작업이 명령줄 toosilently 설치 hello 앱을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-215">If hello package is an installer, create a start task command line toosilently install hello app on all pool nodes.</span></span> <span data-ttu-id="06c64-216">필요에 따라 작업 노드에서 예약 된 toorun 있을 때에 hello 패키지를 설치 합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-216">Optionally, install hello package when a task is scheduled toorun on a node.</span></span>

* <span data-ttu-id="06c64-217">[사용자 정의 풀 이미지](batch-api-basics.md#pool) -사용자 지정 창 만들기 또는 VM 크기 hello에 필요한 드라이버, 소프트웨어 또는 기타 설정을 포함 하는 Linux VM 이미지입니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-217">[Custom pool image](batch-api-basics.md#pool) - Create a custom Windows or Linux VM image that contains drivers, software, or other settings required for hello VM size.</span></span> <span data-ttu-id="06c64-218">Hello 사용자 구독 구성에서 일괄 처리 계정이 만든 경우 hello 일괄 처리 풀에 대 한 사용자 지정 이미지를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-218">If you created your Batch account in hello user subscription configuration, specify hello custom image for your Batch pool.</span></span> <span data-ttu-id="06c64-219">(사용자 지정 이미지 hello 일괄 처리 서비스 구성에는 계정에는 지원 되지 않습니다.) 사용자 지정 이미지 hello 가상 컴퓨터 구성에서 풀과만 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-219">(Custom images are not supported in accounts in hello Batch service configuration.) Custom images can only be used with pools in hello virtual machine configuration.</span></span>

  > [!IMPORTANT]
  > <span data-ttu-id="06c64-220">Batch 풀에서 Managed Disks 또는 Premium Storage로 만든 사용자 지정 이미지를 현재 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-220">In Batch pools, you can't currently use a custom image created with managed disks or with Premium storage.</span></span>
  >



* <span data-ttu-id="06c64-221">[대형 조선소 일괄 처리](https://github.com/Azure/batch-shipyard) 자동으로 Azure 일괄 처리에 대 한 컨테이너 화 된 작업으로 hello GPU 및 RDMA toowork를 투명 하 게 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-221">[Batch Shipyard](https://github.com/Azure/batch-shipyard) automatically configures hello GPU and RDMA toowork transparently with containerized workloads on Azure Batch.</span></span> <span data-ttu-id="06c64-222">Batch Shipyard는 구성 파일에 의해 전적으로 결정됩니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-222">Batch Shipyard is entirely driven with configuration files.</span></span> <span data-ttu-id="06c64-223">여러 가지 샘플 레시피 구성이 사용할 수 있는 hello 등과 같은 GPU 및 RDMA의 작업을 사용할 수 있는 [CNTK GPU 레시피](https://github.com/Azure/batch-shipyard/tree/master/recipes/CNTK-GPU-OpenMPI) N 시리즈 Vm에서 GPU 드라이버를 미리 구성 하 고 Microsoft Cognitive Toolkit 소프트웨어는 Docker 이미지를 로드 합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-223">There are many sample recipe configurations available that enable GPU and RDMA workloads such as hello [CNTK GPU Recipe](https://github.com/Azure/batch-shipyard/tree/master/recipes/CNTK-GPU-OpenMPI)  which preconfigures GPU drivers on N-series VMs and loads Microsoft Cognitive Toolkit software as a Docker image.</span></span>


## <a name="example-microsoft-mpi-on-an-a8-vm-pool"></a><span data-ttu-id="06c64-224">예제: A8 VM 풀의 Microsoft MPI</span><span class="sxs-lookup"><span data-stu-id="06c64-224">Example: Microsoft MPI on an A8 VM pool</span></span>

<span data-ttu-id="06c64-225">Azure A8 노드의 풀에서 toorun Windows MPI 응용 프로그램, tooinstall 지원 되는 MPI 구현 해야합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-225">toorun Windows MPI applications on a pool of Azure A8 nodes, you need tooinstall a supported MPI implementation.</span></span> <span data-ttu-id="06c64-226">다음은 샘플 단계 tooinstall [Microsoft MPI](https://msdn.microsoft.com/library/bb524831(v=vs.85).aspx) windows 일괄 처리 응용 프로그램 패키지를 사용 하 여 풀입니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-226">Here are sample steps tooinstall [Microsoft MPI](https://msdn.microsoft.com/library/bb524831(v=vs.85).aspx) on a Windows pool using a Batch application package.</span></span>

1. <span data-ttu-id="06c64-227">Hello 다운로드 [설치 패키지](http://go.microsoft.com/FWLink/p/?LinkID=389556) (MSMpiSetup.exe) hello Microsoft MPI의 최신 버전에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-227">Download hello [setup package](http://go.microsoft.com/FWLink/p/?LinkID=389556) (MSMpiSetup.exe) for hello latest version of Microsoft MPI.</span></span>
2. <span data-ttu-id="06c64-228">Hello 패키지의 zip 파일을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-228">Create a zip file of hello package.</span></span>
3. <span data-ttu-id="06c64-229">Hello 패키지 tooyour 일괄 처리 계정에 업로드 합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-229">Upload hello package tooyour Batch account.</span></span> <span data-ttu-id="06c64-230">단계를 참조 hello [응용 프로그램 패키지](batch-application-packages.md) 지침.</span><span class="sxs-lookup"><span data-stu-id="06c64-230">For steps, see hello [application packages](batch-application-packages.md) guidance.</span></span> <span data-ttu-id="06c64-231">*MSMPI*와 같은 응용 프로그램 ID 및 *8.1*과 같은 버전을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-231">Specify an application id such as *MSMPI*, and a version such as *8.1*.</span></span> 
4. <span data-ttu-id="06c64-232">Hello 일괄 처리 Api 또는 Azure 포털을 사용, 노드 및 눈금의 원하는 hello 번호로 hello 클라우드 서비스 구성에서 풀을 만들.</span><span class="sxs-lookup"><span data-stu-id="06c64-232">Using hello Batch APIs or Azure portal, create a pool in hello cloud services configuration with hello desired number of nodes and scale.</span></span> <span data-ttu-id="06c64-233">hello 아래 표에 나와 MPI 샘플 설정 tooset 시작 태스크를 사용 하 여 무인된 모드에서.</span><span class="sxs-lookup"><span data-stu-id="06c64-233">hello following table shows sample settings tooset up MPI in unattended mode using a start task:</span></span>

| <span data-ttu-id="06c64-234">설정</span><span class="sxs-lookup"><span data-stu-id="06c64-234">Setting</span></span> | <span data-ttu-id="06c64-235">값</span><span class="sxs-lookup"><span data-stu-id="06c64-235">Value</span></span> |
| ---- | ----- | 
| <span data-ttu-id="06c64-236">**이미지 형식**</span><span class="sxs-lookup"><span data-stu-id="06c64-236">**Image Type**</span></span> | <span data-ttu-id="06c64-237">클라우드 서비스</span><span class="sxs-lookup"><span data-stu-id="06c64-237">Cloud Services</span></span> |
| <span data-ttu-id="06c64-238">**OS 제품군**</span><span class="sxs-lookup"><span data-stu-id="06c64-238">**OS family**</span></span> | <span data-ttu-id="06c64-239">Windows Server 2012 R2(OS 제품군 4)</span><span class="sxs-lookup"><span data-stu-id="06c64-239">Windows Server 2012 R2 (OS family 4)</span></span> |
| <span data-ttu-id="06c64-240">**노드 크기**</span><span class="sxs-lookup"><span data-stu-id="06c64-240">**Node size**</span></span> | <span data-ttu-id="06c64-241">A8 표준</span><span class="sxs-lookup"><span data-stu-id="06c64-241">A8 Standard</span></span> |
| <span data-ttu-id="06c64-242">**노드 간 통신 사용**</span><span class="sxs-lookup"><span data-stu-id="06c64-242">**Internode communication enabled**</span></span> | <span data-ttu-id="06c64-243">True</span><span class="sxs-lookup"><span data-stu-id="06c64-243">True</span></span> |
| <span data-ttu-id="06c64-244">**노드당 최대 작업**</span><span class="sxs-lookup"><span data-stu-id="06c64-244">**Max tasks per node**</span></span> | <span data-ttu-id="06c64-245">1</span><span class="sxs-lookup"><span data-stu-id="06c64-245">1</span></span> |
| <span data-ttu-id="06c64-246">**응용 프로그램 패키지 참조**</span><span class="sxs-lookup"><span data-stu-id="06c64-246">**Application package references**</span></span> | <span data-ttu-id="06c64-247">MSMPI</span><span class="sxs-lookup"><span data-stu-id="06c64-247">MSMPI</span></span> |
| <span data-ttu-id="06c64-248">**시작 작업 사용**</span><span class="sxs-lookup"><span data-stu-id="06c64-248">**Start task enabled**</span></span> | <span data-ttu-id="06c64-249">True</span><span class="sxs-lookup"><span data-stu-id="06c64-249">True</span></span><br><span data-ttu-id="06c64-250">**명령 줄** - `"cmd /c %AZ_BATCH_APP_PACKAGE_MSMPI#8.1%\\MSMpiSetup.exe -unattend -force"`</span><span class="sxs-lookup"><span data-stu-id="06c64-250">**Command line** - `"cmd /c %AZ_BATCH_APP_PACKAGE_MSMPI#8.1%\\MSMpiSetup.exe -unattend -force"`</span></span><br/><span data-ttu-id="06c64-251">**사용자 ID** - 풀 autouser, 관리자</span><span class="sxs-lookup"><span data-stu-id="06c64-251">**User identity** - Pool autouser, admin</span></span><br/><span data-ttu-id="06c64-252">**성공 대기** - True</span><span class="sxs-lookup"><span data-stu-id="06c64-252">**Wait for success** - True</span></span>

## <a name="example-nvidia-tesla-drivers-on-nc-vm-pool"></a><span data-ttu-id="06c64-253">예제: NC VM 풀의 NVIDIA Tesla 드라이버</span><span class="sxs-lookup"><span data-stu-id="06c64-253">Example: NVIDIA Tesla drivers on NC VM pool</span></span>

<span data-ttu-id="06c64-254">toorun CUDA Linux NC 노드의 풀에서 응용 프로그램을 hello 노드에서 CUDA 도구 키트 8.0 tooinstall을 해야합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-254">toorun CUDA applications on a pool of Linux NC nodes, you need tooinstall CUDA Toolkit 8.0 on hello nodes.</span></span> <span data-ttu-id="06c64-255">hello Toolkit hello 필요한 NVIDIA 테슬라 GPU 드라이버를 설치합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-255">hello Toolkit installs hello necessary NVIDIA Tesla GPU drivers.</span></span> <span data-ttu-id="06c64-256">다음은 샘플 단계 toodeploy hello GPU 드라이버와 함께 사용자 지정 16.04 Ubuntu LTS 이미지입니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-256">Here are sample steps toodeploy a custom Ubuntu 16.04 LTS image with hello GPU drivers:</span></span>

1. <span data-ttu-id="06c64-257">Ubuntu 16.04 LTS를 실행하는 Azure NC6 VM을 배포합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-257">Deploy an Azure NC6 VM running Ubuntu 16.04 LTS.</span></span> <span data-ttu-id="06c64-258">예를 들어 hello 미국 남부 중부 지역에 hello VM을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-258">For example, create hello VM in hello US South Central region.</span></span> <span data-ttu-id="06c64-259">표준 저장소도 hello VM을 만드는 있는지 확인 하 고 *없이* 디스크를 관리 합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-259">Make sure that you create hello VM with standard storage, and *without* managed disks.</span></span>
2. <span data-ttu-id="06c64-260">Hello 단계 tooconnect toohello VM에 따라 및 [CUDA 드라이버 설치](../virtual-machines/linux/n-series-driver-setup.md#install-cuda-drivers-for-nc-vms)합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-260">Follow hello steps tooconnect toohello VM and [install CUDA drivers](../virtual-machines/linux/n-series-driver-setup.md#install-cuda-drivers-for-nc-vms).</span></span>
3. <span data-ttu-id="06c64-261">Hello Linux 에이전트를 프로 비전 해제 하 고 hello Azure CLI 1.0 명령을 사용 하 여 Linux VM 이미지를 캡처하십시오.</span><span class="sxs-lookup"><span data-stu-id="06c64-261">Deprovision hello Linux agent, and then capture Linux VM image using hello Azure CLI 1.0 commands.</span></span> <span data-ttu-id="06c64-262">단계는 [Azure에서 실행되는 Linux 가상 컴퓨터 캡처하기](../virtual-machines/linux/capture-image-nodejs.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="06c64-262">For steps, see [Capture a Linux virtual machine running on Azure](../virtual-machines/linux/capture-image-nodejs.md).</span></span> <span data-ttu-id="06c64-263">Hello 이미지 URI 적어 둡니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-263">Make a note of hello image URI.</span></span>
  > [!IMPORTANT]
  > <span data-ttu-id="06c64-264">Azure 일괄 처리에 대 한 Azure CLI 2.0 명령 toocapture hello 이미지를 사용 하지 마십시오.</span><span class="sxs-lookup"><span data-stu-id="06c64-264">Do not use Azure CLI 2.0 commands toocapture hello image for Azure Batch.</span></span> <span data-ttu-id="06c64-265">현재 hello CLI 2.0 명령은 관리 되는 디스크를 사용 하 여 만든 Vm을 캡처합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-265">Currently hello CLI 2.0 commands only capture VMs created using managed disks.</span></span>
  >
4. <span data-ttu-id="06c64-266">Hello 사용자 구독 구성 NC Vm을 지 원하는 있는 영역에 포함 된 일괄 처리 계정 만들기</span><span class="sxs-lookup"><span data-stu-id="06c64-266">Create a Batch account, with hello user subscription configuration, in a region that supports NC VMs.</span></span>
5. <span data-ttu-id="06c64-267">Hello 사용자 지정 이미지를 사용 하 여 풀 hello 일괄 처리 Api 또는 Azure 포털을 사용 하 여 만들고 hello로 원하는 노드 및 소수 자릿수의 숫자입니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-267">Using hello Batch APIs or Azure portal, create a pool using hello custom image and with hello desired number of nodes and scale.</span></span> <span data-ttu-id="06c64-268">hello 아래 표에 나와 hello 이미지에 대 한 샘플 풀 설정.</span><span class="sxs-lookup"><span data-stu-id="06c64-268">hello following table shows sample pool settings for hello image:</span></span>

| <span data-ttu-id="06c64-269">설정</span><span class="sxs-lookup"><span data-stu-id="06c64-269">Setting</span></span> | <span data-ttu-id="06c64-270">값</span><span class="sxs-lookup"><span data-stu-id="06c64-270">Value</span></span> |
| ---- | ---- |
| <span data-ttu-id="06c64-271">**이미지 형식**</span><span class="sxs-lookup"><span data-stu-id="06c64-271">**Image Type**</span></span> | <span data-ttu-id="06c64-272">사용자 지정 이미지</span><span class="sxs-lookup"><span data-stu-id="06c64-272">Custom Image</span></span> |
| <span data-ttu-id="06c64-273">**사용자 지정 이미지**</span><span class="sxs-lookup"><span data-stu-id="06c64-273">**Custom Image**</span></span> | <span data-ttu-id="06c64-274">이미지 hello 폼의 URI`https://yourstorageaccountdisks.blob.core.windows.net/system/Microsoft.Compute/Images/vhds/MyVHDNamePrefix-osDisk.xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.vhd`</span><span class="sxs-lookup"><span data-stu-id="06c64-274">Image URI of hello form `https://yourstorageaccountdisks.blob.core.windows.net/system/Microsoft.Compute/Images/vhds/MyVHDNamePrefix-osDisk.xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.vhd`</span></span> |
| <span data-ttu-id="06c64-275">**노드 에이전트 SKU**</span><span class="sxs-lookup"><span data-stu-id="06c64-275">**Node agent SKU**</span></span> | <span data-ttu-id="06c64-276">batch.node.ubuntu 16.04</span><span class="sxs-lookup"><span data-stu-id="06c64-276">batch.node.ubuntu 16.04</span></span> |
| <span data-ttu-id="06c64-277">**노드 크기**</span><span class="sxs-lookup"><span data-stu-id="06c64-277">**Node size**</span></span> | <span data-ttu-id="06c64-278">NC6 표준</span><span class="sxs-lookup"><span data-stu-id="06c64-278">NC6 Standard</span></span> |



## <a name="next-steps"></a><span data-ttu-id="06c64-279">다음 단계</span><span class="sxs-lookup"><span data-stu-id="06c64-279">Next steps</span></span>

* <span data-ttu-id="06c64-280">Azure 배치 풀에서 MPI 작업을 toorun 참조 hello [Windows](batch-mpi.md) 또는 [Linux](https://blogs.technet.microsoft.com/windowshpc/2016/07/20/introducing-mpi-support-for-linux-on-azure-batch/) 예제입니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-280">toorun MPI jobs on an Azure Batch pool, see hello [Windows](batch-mpi.md) or [Linux](https://blogs.technet.microsoft.com/windowshpc/2016/07/20/introducing-mpi-support-for-linux-on-azure-batch/) examples.</span></span>

* <span data-ttu-id="06c64-281">일괄 처리에서 GPU 작업의 예 hello 참조 [일괄 처리 대형 조선소](https://github.com/Azure/batch-shipyard/) 레시피 합니다.</span><span class="sxs-lookup"><span data-stu-id="06c64-281">For examples of GPU workloads on Batch, see hello [Batch Shipyard](https://github.com/Azure/batch-shipyard/) recipes.</span></span>
