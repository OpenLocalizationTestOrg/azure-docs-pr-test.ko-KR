---
title: "개발자를 위한 Azure 일괄 처리의 aaaOverview | Microsoft Docs"
description: "Hello 일괄 처리 서비스와 해당 Api 개발 측면에서는 hello 기능에 알아봅니다."
services: batch
documentationcenter: .net
author: tamram
manager: timlt
editor: 
ms.assetid: 416b95f8-2d7b-4111-8012-679b0f60d204
ms.service: batch
ms.devlang: multiple
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: big-compute
ms.date: 06/28/2017
ms.author: tamram
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 3da9d82572b28d05d1923166bd08c26725ca3316
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="develop-large-scale-parallel-compute-solutions-with-batch"></a><span data-ttu-id="fe57d-103">Batch를 사용하여 대규모 병렬 계산 솔루션 개발</span><span class="sxs-lookup"><span data-stu-id="fe57d-103">Develop large-scale parallel compute solutions with Batch</span></span>

<span data-ttu-id="fe57d-104">Hello Azure 배치 서비스의 hello 핵심 구성 요소인이 개요에서는 hello 기본 서비스 기능을 설명할 및 리소스 배치 개발자의 toobuild 대규모 병렬 사용 하 여 솔루션을 계산 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-104">In this overview of hello core components of hello Azure Batch service, we discuss hello primary service features and resources that Batch developers can use toobuild large-scale parallel compute solutions.</span></span>

<span data-ttu-id="fe57d-105">분산된 컴퓨팅 응용 프로그램을 개발 하는 또는 서비스에 직접 발급 [REST API] [ batch_rest_api] hello 중 하나를 호출 하거나 사용 중인 [일괄 처리 Sdk](batch-apis-tools.md#azure-accounts-for-batch-development)를 사용 하 여 대부분의 hello 리소스와이 문서에서 설명 하는 기능.</span><span class="sxs-lookup"><span data-stu-id="fe57d-105">Whether you're developing a distributed computational application or service that issues direct [REST API][batch_rest_api] calls or you're using one of hello [Batch SDKs](batch-apis-tools.md#azure-accounts-for-batch-development), you'll use many of hello resources and features discussed in this article.</span></span>

> [!TIP]
> <span data-ttu-id="fe57d-106">더 높은 수준의 소개 toohello 일괄 처리 서비스를 참조 하십시오. [Azure 배치 기본 사항](batch-technical-overview.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-106">For a higher-level introduction toohello Batch service, see [Basics of Azure Batch](batch-technical-overview.md).</span></span>
>
>

## <a name="batch-service-workflow"></a><span data-ttu-id="fe57d-107">Batch 서비스 워크플로</span><span class="sxs-lookup"><span data-stu-id="fe57d-107">Batch service workflow</span></span>
<span data-ttu-id="fe57d-108">hello 다음과 같은 개략적인 워크플로 거의 모든 응용 프로그램 및 병렬 작업을 처리 하기 위한 hello 일괄 처리 서비스를 사용 하는 서비스의 일반적인.</span><span class="sxs-lookup"><span data-stu-id="fe57d-108">hello following high-level workflow is typical of nearly all applications and services that use hello Batch service for processing parallel workloads:</span></span>

1. <span data-ttu-id="fe57d-109">Hello 업로드 **데이터 파일** tooprocess tooan 원하는 [Azure 저장소] [ azure_storage] 계정.</span><span class="sxs-lookup"><span data-stu-id="fe57d-109">Upload hello **data files** that you want tooprocess tooan [Azure Storage][azure_storage] account.</span></span> <span data-ttu-id="fe57d-110">일괄 처리에서는 Azure Blob 저장소에 액세스 하기 위해 기본적으로 지원 하 고 작업 너무 이러한 파일을 다운로드할 수[계산 노드](#compute-node) hello는 태스크는 실행 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-110">Batch includes built-in support for accessing Azure Blob storage, and your tasks can download these files too[compute nodes](#compute-node) when hello tasks are run.</span></span>
2. <span data-ttu-id="fe57d-111">Hello 업로드 **응용 프로그램 파일** 하 여 작업을 실행 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-111">Upload hello **application files** that your tasks will run.</span></span> <span data-ttu-id="fe57d-112">이러한 파일 이진 또는 스크립트와 해당 종속성 수 있으며 작업의 hello 작업으로 실행 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-112">These files can be binaries or scripts and their dependencies, and are executed by hello tasks in your jobs.</span></span> <span data-ttu-id="fe57d-113">작업 저장소 계정에서 이러한 파일을 다운로드할 수 있습니다 또는 hello를 사용할 수 있습니다 [응용 프로그램 패키지](#application-packages) 응용 프로그램 관리 및 배포에 대 한 일괄 처리의 기능입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-113">Your tasks can download these files from your Storage account, or you can use hello [application packages](#application-packages) feature of Batch for application management and deployment.</span></span>
3. <span data-ttu-id="fe57d-114">계산 노드 [풀](#pool)을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-114">Create a [pool](#pool) of compute nodes.</span></span> <span data-ttu-id="fe57d-115">풀을 만들 때 hello hello 풀, 크기 및 hello 운영 체제에 대 한 계산 노드 수를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-115">When you create a pool, you specify hello number of compute nodes for hello pool, their size, and hello operating system.</span></span> <span data-ttu-id="fe57d-116">작업에서 각 태스크를 실행 하는 경우 할당 된 풀의 hello 노드 중 하나에서 tooexecute 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-116">When each task in your job runs, it's assigned tooexecute on one of hello nodes in your pool.</span></span>
4. <span data-ttu-id="fe57d-117">[작업](#job)을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-117">Create a [job](#job).</span></span> <span data-ttu-id="fe57d-118">작업에서는 태스크의 컬렉션을 관리합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-118">A job manages a collection of tasks.</span></span> <span data-ttu-id="fe57d-119">해당 작업의 작업을 실행 하는 여기서 각 작업 tooa 특정 풀을 연결 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-119">You associate each job tooa specific pool where that job's tasks will run.</span></span>
5. <span data-ttu-id="fe57d-120">추가 [작업](#task) toohello 작업 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-120">Add [tasks](#task) toohello job.</span></span> <span data-ttu-id="fe57d-121">각 작업 hello 응용 프로그램 또는 저장소 계정에서 다운로드 tooprocess hello 데이터 파일을 업로드 하는 스크립트를 실행 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-121">Each task runs hello application or script that you uploaded tooprocess hello data files it downloads from your Storage account.</span></span> <span data-ttu-id="fe57d-122">각 작업이 완료 되는 대로 해당 출력 tooAzure 저장소 업로드할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-122">As each task completes, it can upload its output tooAzure Storage.</span></span>
6. <span data-ttu-id="fe57d-123">작업 진행 상황을 모니터링 하 고 Azure 저장소에서 hello 작업 출력을 검색 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-123">Monitor job progress and retrieve hello task output from Azure Storage.</span></span>

<span data-ttu-id="fe57d-124">hello 다음 섹션에서는 대해 고 hello 분산된 컴퓨팅 시나리오를 사용할 수 있는 일괄 처리의 다른 리소스.</span><span class="sxs-lookup"><span data-stu-id="fe57d-124">hello following sections discuss these and hello other resources of Batch that enable your distributed computational scenario.</span></span>

> [!NOTE]
> <span data-ttu-id="fe57d-125">필요한는 [일괄 처리 계정을](#account) toouse hello 일괄 처리 서비스.</span><span class="sxs-lookup"><span data-stu-id="fe57d-125">You need a [Batch account](#account) toouse hello Batch service.</span></span> <span data-ttu-id="fe57d-126">대부분의 Batch 솔루션에서는 파일 저장 및 검색을 위해 [Azure Storage][azure_storage] 계정을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-126">Most Batch solutions also use an [Azure Storage][azure_storage] account for file storage and retrieval.</span></span> <span data-ttu-id="fe57d-127">현재 일괄 처리를 지원만 hello **범용** 의 5 단계에서 설명 된 대로 저장소 계정 유형을 [저장소 계정 만들기](../storage/common/storage-create-storage-account.md#create-a-storage-account) 에 [에 대 한 Azure 저장소 계정](../storage/common/storage-create-storage-account.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-127">Batch currently supports only hello **general-purpose** storage account type, as described in step 5 of [Create a storage account](../storage/common/storage-create-storage-account.md#create-a-storage-account) in [About Azure storage accounts](../storage/common/storage-create-storage-account.md).</span></span>
>
>

## <a name="batch-service-resources"></a><span data-ttu-id="fe57d-128">Batch 서비스 리소스</span><span class="sxs-lookup"><span data-stu-id="fe57d-128">Batch service resources</span></span>
<span data-ttu-id="fe57d-129">Hello 리소스--계정, 다음 중 일부는 hello 일괄 처리 서비스를 사용 하는 모든 솔루션에 필요한 노드, 풀, 작업 및 작업을 계산 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-129">Some of hello following resources--accounts, compute nodes, pools, jobs, and tasks--are required by all solutions that use hello Batch service.</span></span> <span data-ttu-id="fe57d-130">작업 일정, 응용 프로그램 패키지 등의 기타 리소스는 유용하기는 하지만 선택적 기능입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-130">Others, like job schedules and application packages, are helpful, but optional, features.</span></span>

* [<span data-ttu-id="fe57d-131">계정</span><span class="sxs-lookup"><span data-stu-id="fe57d-131">Account</span></span>](#account)
* [<span data-ttu-id="fe57d-132">Compute 노드</span><span class="sxs-lookup"><span data-stu-id="fe57d-132">Compute node</span></span>](#compute-node)
* [<span data-ttu-id="fe57d-133">풀</span><span class="sxs-lookup"><span data-stu-id="fe57d-133">Pool</span></span>](#pool)
* [<span data-ttu-id="fe57d-134">작업</span><span class="sxs-lookup"><span data-stu-id="fe57d-134">Job</span></span>](#job)

  * [<span data-ttu-id="fe57d-135">작업 일정</span><span class="sxs-lookup"><span data-stu-id="fe57d-135">Job schedules</span></span>](#scheduled-jobs)
* [<span data-ttu-id="fe57d-136">Task</span><span class="sxs-lookup"><span data-stu-id="fe57d-136">Task</span></span>](#task)

  * [<span data-ttu-id="fe57d-137">시작 태스크</span><span class="sxs-lookup"><span data-stu-id="fe57d-137">Start task</span></span>](#start-task)
  * [<span data-ttu-id="fe57d-138">작업 관리자 태스크</span><span class="sxs-lookup"><span data-stu-id="fe57d-138">Job manager task</span></span>](#job-manager-task)
  * [<span data-ttu-id="fe57d-139">작업 준비 및 해제 태스크</span><span class="sxs-lookup"><span data-stu-id="fe57d-139">Job preparation and release tasks</span></span>](#job-preparation-and-release-tasks)
  * [<span data-ttu-id="fe57d-140">MPI(다중 인스턴스 태스크)</span><span class="sxs-lookup"><span data-stu-id="fe57d-140">Multi-instance task (MPI)</span></span>](#multi-instance-tasks)
  * [<span data-ttu-id="fe57d-141">작업 종속성</span><span class="sxs-lookup"><span data-stu-id="fe57d-141">Task dependencies</span></span>](#task-dependencies)
* [<span data-ttu-id="fe57d-142">응용 프로그램 패키지</span><span class="sxs-lookup"><span data-stu-id="fe57d-142">Application packages</span></span>](#application-packages)

## <a name="account"></a><span data-ttu-id="fe57d-143">계정</span><span class="sxs-lookup"><span data-stu-id="fe57d-143">Account</span></span>
<span data-ttu-id="fe57d-144">일괄 처리 계정은 hello 일괄 처리 서비스 내에서 고유 하 게 식별 된 엔터티입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-144">A Batch account is a uniquely identified entity within hello Batch service.</span></span> <span data-ttu-id="fe57d-145">모든 처리는 Batch 계정과 연결됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-145">All processing is associated with a Batch account.</span></span>

<span data-ttu-id="fe57d-146">Hello를 사용 하 여 Azure 배치 계정을 만들 수 있습니다 [Azure 포털](batch-account-create-portal.md) 또는 프로그래밍 방식으로와 같이 hello로 [Batch Management.NET 라이브러리](batch-management-dotnet.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-146">You can create an Azure Batch account using hello [Azure portal](batch-account-create-portal.md) or programmatically, such as with hello [Batch Management .NET library](batch-management-dotnet.md).</span></span> <span data-ttu-id="fe57d-147">Hello 계정을 만들 때 Azure 저장소 계정을 연결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-147">When creating hello account, you can associate an Azure storage account.</span></span>

### <a name="pool-allocation-mode"></a><span data-ttu-id="fe57d-148">풀 할당 모드</span><span class="sxs-lookup"><span data-stu-id="fe57d-148">Pool allocation mode</span></span>

<span data-ttu-id="fe57d-149">Batch 계정을 만들 때 계산 노드의 [풀](#pool)이 할당되는 방식을 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-149">When you create a Batch account, you can specify how [pools](#pool) of compute nodes are allocated.</span></span> <span data-ttu-id="fe57d-150">Azure 일괄 처리에 의해 관리 되는 구독에서 계산 노드 tooallocate 풀을 선택할 수 있습니다 또는 사용자의 구독에 할당할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-150">You can choose tooallocate pools of compute nodes in a subscription managed by Azure Batch, or you can allocate them in your own subscription.</span></span> <span data-ttu-id="fe57d-151">hello *풀 할당 모드* hello 계정에 대 한 속성 풀 할당 되는 위치를 결정 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-151">hello *pool allocation mode* property for hello account determines where pools are allocated.</span></span> 

<span data-ttu-id="fe57d-152">toodecide 할당 모드 toouse 풀 있는 시나리오에 가장 잘 맞는 고려해 야 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-152">toodecide which pool allocation mode toouse, consider which best fits your scenario:</span></span>

* <span data-ttu-id="fe57d-153">**서비스 배치**: 일괄 처리 서비스는 hello 기본 풀 할당 모드는 풀 hello 백그라운드 Azure에서 관리 하는 구독에 할당 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-153">**Batch Service**: Batch Service is hello default pool allocation mode, in which pools are allocated behind hello scenes in Azure-managed subscriptions.</span></span> <span data-ttu-id="fe57d-154">Hello 일괄 처리 서비스가 풀 할당 모드에 대 한 핵심 이러한 사항에 유의 하십시오.</span><span class="sxs-lookup"><span data-stu-id="fe57d-154">Keep in mind these key points about hello Batch Service pool allocation mode:</span></span>

    - <span data-ttu-id="fe57d-155">hello 일괄 처리 서비스가 풀 할당 모드는 클라우드 서비스와 가상 컴퓨터를 모두 풀을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-155">hello Batch Service pool allocation mode supports both Cloud Service and Virtual Machine pools.</span></span>
    - <span data-ttu-id="fe57d-156">hello 일괄 처리 서비스가 풀 할당 모드는 지원 모두 공유 키 인증 또는 [Azure Active Directory 인증](batch-aad-auth.md) (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="fe57d-156">hello Batch Service pool allocation mode supports both shared key authentication or [Azure Active Directory authentication](batch-aad-auth.md) (Azure AD).</span></span> 
    - <span data-ttu-id="fe57d-157">Hello 일괄 처리 서비스가 풀 할당 모드를 사용 하 여 할당 된 풀의 전용 또는 우선 순위가 낮은 계산 노드 중 하나를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-157">You can use either dedicated or low-priority compute nodes in pools allocated with hello Batch Service pool allocation mode.</span></span>
    - <span data-ttu-id="fe57d-158">사용자 지정 VM 이미지에서 Azure 가상 컴퓨터 풀을 toocreate 계획 이거나 toouse 가상 네트워크를 계획 하는 경우에 hello 일괄 처리 서비스가 풀 할당 모드를 사용 하지 마십시오.</span><span class="sxs-lookup"><span data-stu-id="fe57d-158">Do not use hello Batch Service pool allocation mode if you plan toocreate Azure virtual machine pools from custom VM images, or if you plan toouse a virtual network.</span></span> <span data-ttu-id="fe57d-159">대신 hello 사용자 구독 풀 할당 모드 계정을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-159">Create your account with hello User Subscription pool allocation mode instead.</span></span>
    - <span data-ttu-id="fe57d-160">Hello 일괄 처리 서비스가 풀 할당 모드를 사용 하 여 만든 계정에서 사용자를 프로 비전 하는 가상 컴퓨터 풀에서 작성 해야 [Azure 가상 컴퓨터 마켓플레이스] [ vm_marketplace] 이미지입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-160">Virtual Machine pools provisioned in an account created with hello Batch Service pool allocation mode must be created from [Azure Virtual Machines Marketplace][vm_marketplace] images.</span></span>

* <span data-ttu-id="fe57d-161">**사용자 구독**: hello 사용자 구독 풀 할당 모드에서 일괄 처리 풀 hello hello 계정이 생성 되는 Azure 구독에에서 할당 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-161">**User subscription**: With hello User Subscription pool allocation mode, Batch pools are allocated in hello Azure subscription where hello account is created.</span></span> <span data-ttu-id="fe57d-162">Hello 사용자 구독 풀 할당 모드에 대 한 핵심 이러한 사항에 유의 하십시오.</span><span class="sxs-lookup"><span data-stu-id="fe57d-162">Keep in mind these key points about hello User Subscription pool allocation mode:</span></span>
     
    - <span data-ttu-id="fe57d-163">hello 사용자 구독 풀 할당 모드에는 가상 컴퓨터 풀만 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-163">hello User Subscription pool allocation mode supports only Virtual Machine pools.</span></span> <span data-ttu-id="fe57d-164">Cloud Services 풀은 지원하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-164">It does not support Cloud Services pools.</span></span>
    - <span data-ttu-id="fe57d-165">사용자 지정 VM 이미지 또는 toouse 가상 네트워크에서 가상 컴퓨터 풀 toocreate을 가상 컴퓨터 풀과, hello 사용자 구독 풀 할당 모드를 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-165">toocreate Virtual Machine pools from custom VM images or toouse a virtual network with Virtual Machine pools, you must use hello User Subscription pool allocation mode.</span></span>  
    - <span data-ttu-id="fe57d-166">사용 해야 [Azure Active Directory 인증](batch-aad-auth.md) hello 사용자 구독에 할당 되는 풀과 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-166">You must use [Azure Active Directory authentication](batch-aad-auth.md) with pools that are allocated in hello user subscription.</span></span> 
    - <span data-ttu-id="fe57d-167">Hello 풀 할당 모드가 tooUser 구독 설정 된 경우에 일괄 처리 계정에는 Azure 키 자격 증명 모음을 설정 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-167">You must set up an Azure key vault for your Batch account if hello pool allocation mode is set tooUser Subscription.</span></span> 
    - <span data-ttu-id="fe57d-168">Hello 사용자 구독 풀 할당 모드를 사용 하 여 만든 계정에서 풀에만 전용된 계산 노드를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-168">You can use only dedicated compute nodes in pools in an account created with hello User Subscription pool allocation mode.</span></span> <span data-ttu-id="fe57d-169">우선 순위가 낮은 노드는 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-169">Low-priority nodes are not supported.</span></span>
    - <span data-ttu-id="fe57d-170">들어오거나 hello 사용자 구독 풀 할당 모드를 가진 계정에서 사용자를 프로 비전 하는 가상 컴퓨터 풀을 만들 수 있습니다 [Azure 가상 컴퓨터 마켓플레이스] [ vm_marketplace] 이미지, 또는 이미지를 사용자 지정 이 옵션을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-170">Virtual Machine pools provisioned in an account with hello User Subscription pool allocation mode can be created either from [Azure Virtual Machines Marketplace][vm_marketplace] images, or from custom images that you provide.</span></span>

<span data-ttu-id="fe57d-171">다음 표에서 hello hello 일괄 처리 서비스 및 사용자 구독 풀 할당 모드를 비교 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-171">hello following table compares hello Batch Service and User Subscription pool allocation modes.</span></span>

| <span data-ttu-id="fe57d-172">**풀 할당 모드**</span><span class="sxs-lookup"><span data-stu-id="fe57d-172">**Pool allocation mode**</span></span>                 | <span data-ttu-id="fe57d-173">**Batch 서비스**</span><span class="sxs-lookup"><span data-stu-id="fe57d-173">**Batch Service**</span></span>                                                                                       | <span data-ttu-id="fe57d-174">**사용자 구독**</span><span class="sxs-lookup"><span data-stu-id="fe57d-174">**User Subscription**</span></span>                                                              |
|-------------------------------------------|---------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------|
| <span data-ttu-id="fe57d-175">**다음에 풀이 할당됨**</span><span class="sxs-lookup"><span data-stu-id="fe57d-175">**Pools are allocated in**</span></span>               | <span data-ttu-id="fe57d-176">Azure에서 관리하는 구독</span><span class="sxs-lookup"><span data-stu-id="fe57d-176">An Azure-managed subscription</span></span>                                                                           | <span data-ttu-id="fe57d-177">hello 사용자 구독 계정을 만든 일괄 처리는 hello에</span><span class="sxs-lookup"><span data-stu-id="fe57d-177">hello user subscription in which hello Batch account is created</span></span>                        |
| <span data-ttu-id="fe57d-178">**지원되는 구성**</span><span class="sxs-lookup"><span data-stu-id="fe57d-178">**Supported configurations**</span></span>             | <ul><li><span data-ttu-id="fe57d-179">클라우드 서비스 구성</span><span class="sxs-lookup"><span data-stu-id="fe57d-179">Cloud Service Configuration</span></span></li><li><span data-ttu-id="fe57d-180">가상 컴퓨터 구성(Linux 및 Windows)</span><span class="sxs-lookup"><span data-stu-id="fe57d-180">Virtual Machine Configuration (Linux and Windows)</span></span></li></ul> | <ul><li><span data-ttu-id="fe57d-181">가상 컴퓨터 구성(Linux 및 Windows)</span><span class="sxs-lookup"><span data-stu-id="fe57d-181">Virtual Machine Configuration (Linux and Windows)</span></span></li></ul>                |
| <span data-ttu-id="fe57d-182">**지원되는 VM 이미지**</span><span class="sxs-lookup"><span data-stu-id="fe57d-182">**Supported VM images**</span></span>                  | <ul><li><span data-ttu-id="fe57d-183">Azure Marketplace 이미지</span><span class="sxs-lookup"><span data-stu-id="fe57d-183">Azure Marketplace images</span></span></li></ul>                                                              | <ul><li><span data-ttu-id="fe57d-184">Azure Marketplace 이미지</span><span class="sxs-lookup"><span data-stu-id="fe57d-184">Azure Marketplace images</span></span></li><li><span data-ttu-id="fe57d-185">사용자 지정 이미지</span><span class="sxs-lookup"><span data-stu-id="fe57d-185">Custom images</span></span></li></ul>                   |
| <span data-ttu-id="fe57d-186">**지원되는 계산 노드 형식**</span><span class="sxs-lookup"><span data-stu-id="fe57d-186">**Supported compute node types**</span></span>         | <ul><li><span data-ttu-id="fe57d-187">전용 노드</span><span class="sxs-lookup"><span data-stu-id="fe57d-187">Dedicated nodes</span></span></li><li><span data-ttu-id="fe57d-188">우선 순위가 낮은 노드</span><span class="sxs-lookup"><span data-stu-id="fe57d-188">Low-priority nodes</span></span></li></ul>                                            | <ul><li><span data-ttu-id="fe57d-189">전용 노드</span><span class="sxs-lookup"><span data-stu-id="fe57d-189">Dedicated nodes</span></span></li></ul>                                                  |
| <span data-ttu-id="fe57d-190">**지원되는 인증**</span><span class="sxs-lookup"><span data-stu-id="fe57d-190">**Supported authentication**</span></span>             | <ul><li><span data-ttu-id="fe57d-191">공유 키</span><span class="sxs-lookup"><span data-stu-id="fe57d-191">Shared Key</span></span></li><li><span data-ttu-id="fe57d-192">Azure AD</span><span class="sxs-lookup"><span data-stu-id="fe57d-192">Azure AD</span></span></li></ul>                                                           | <ul><li><span data-ttu-id="fe57d-193">Azure AD</span><span class="sxs-lookup"><span data-stu-id="fe57d-193">Azure AD</span></span></li></ul>                                                         |
| <span data-ttu-id="fe57d-194">**Azure Key Vault 필요**</span><span class="sxs-lookup"><span data-stu-id="fe57d-194">**Azure Key Vault required**</span></span>             | <span data-ttu-id="fe57d-195">아니요</span><span class="sxs-lookup"><span data-stu-id="fe57d-195">No</span></span>                                                                                                      | <span data-ttu-id="fe57d-196">예</span><span class="sxs-lookup"><span data-stu-id="fe57d-196">Yes</span></span>                                                                                |
| <span data-ttu-id="fe57d-197">**코어 할당량**</span><span class="sxs-lookup"><span data-stu-id="fe57d-197">**Core quota**</span></span>                           | <span data-ttu-id="fe57d-198">Batch 코어 할당량에 의해 결정됨</span><span class="sxs-lookup"><span data-stu-id="fe57d-198">Determined by Batch core quota</span></span>                                                                          | <span data-ttu-id="fe57d-199">구독 코어 할당량에 의해 결정됨</span><span class="sxs-lookup"><span data-stu-id="fe57d-199">Determined by subscription core quota</span></span>                                              |
| <span data-ttu-id="fe57d-200">**Azure Vnet(Virtual Network) 지원**</span><span class="sxs-lookup"><span data-stu-id="fe57d-200">**Azure Virtual Network (Vnet) support**</span></span> | <span data-ttu-id="fe57d-201">클라우드 서비스 구성 hello를 사용 하 여 만든 풀</span><span class="sxs-lookup"><span data-stu-id="fe57d-201">Pools created with hello Cloud Service Configuration</span></span>                                                      | <span data-ttu-id="fe57d-202">가상 컴퓨터 구성 hello를 사용 하 여 만든 풀</span><span class="sxs-lookup"><span data-stu-id="fe57d-202">Pools created with hello Virtual Machine Configuration</span></span>                               |
| <span data-ttu-id="fe57d-203">**Vnet 배포 모델 지원됨**</span><span class="sxs-lookup"><span data-stu-id="fe57d-203">**Vnet deployment model supported**</span></span>      | <span data-ttu-id="fe57d-204">클래식 배포 모델을 사용하여 만든 Vnet</span><span class="sxs-lookup"><span data-stu-id="fe57d-204">Vnets created with classic deployment model</span></span>                                                             | <span data-ttu-id="fe57d-205">Hello 클래식 배포 모델 또는 Azure 리소스 관리자를 사용 하 여 만든 Vnet</span><span class="sxs-lookup"><span data-stu-id="fe57d-205">Vnets created with either hello classic deployment model or Azure   Resource Manager</span></span> |

## <a name="azure-storage-account"></a><span data-ttu-id="fe57d-206">Azure Storage 계정</span><span class="sxs-lookup"><span data-stu-id="fe57d-206">Azure Storage account</span></span>

<span data-ttu-id="fe57d-207">대부분의 Batch 솔루션은 리소스 파일 및 출력 파일을 저장하기 위해 Azure Storage를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-207">Most Batch solutions use Azure Storage for storing resource files and output files.</span></span>  

<span data-ttu-id="fe57d-208">5 단계에서 설명 된 대로 현재 일괄 처리만 hello 범용 저장소 계정 유형은 지원 [저장소 계정을 만드는](../storage/common/storage-create-storage-account.md#create-a-storage-account) 에 [에 대 한 Azure 저장소 계정](../storage/common/storage-create-storage-account.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-208">Batch currently supports only hello general-purpose storage account type, as described in step 5 of [Create a storage account](../storage/common/storage-create-storage-account.md#create-a-storage-account) in [About Azure storage accounts](../storage/common/storage-create-storage-account.md).</span></span> <span data-ttu-id="fe57d-209">Batch 태스크(표준 태스크, 시작 태스크, 작업 준비 태스크 및 작업 릴리스 태스크 포함)은 범용 저장소 계정에서 상주하는 리소스 파일을 지정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-209">Your Batch tasks (including standard tasks, start tasks, job preparation tasks, and job release tasks) must specify resource files that reside in general-purpose storage accounts.</span></span>


## <a name="compute-node"></a><span data-ttu-id="fe57d-210">Compute 노드</span><span class="sxs-lookup"><span data-stu-id="fe57d-210">Compute node</span></span>
<span data-ttu-id="fe57d-211">계산 노드는 Azure 가상 컴퓨터 (VM) 또는 클라우드 서비스 VM 전용된 tooprocessing 응용 프로그램의 작업 부하의 일부입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-211">A compute node is an Azure virtual machine (VM) or cloud service VM that is dedicated tooprocessing a portion of your application's workload.</span></span> <span data-ttu-id="fe57d-212">노드의 hello 크기 hello CPU 코어 수, 메모리 용량 및 toohello 노드에 할당 되는 로컬 파일 시스템 크기를 결정 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-212">hello size of a node determines hello number of CPU cores, memory capacity, and local file system size that is allocated toohello node.</span></span> <span data-ttu-id="fe57d-213">Azure 클라우드 서비스를 hello에서 이미지를 사용 하 여 Windows 또는 Linux 노드 풀을 만들 수 있습니다 [Azure 가상 컴퓨터 마켓플레이스][vm_marketplace], 또는 사용자 지정 이미지를 준비 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-213">You can create pools of Windows or Linux nodes by using Azure Cloud Services, images from hello [Azure Virtual Machines Marketplace][vm_marketplace], or custom images that you prepare.</span></span> <span data-ttu-id="fe57d-214">Hello 다음을 참조 [풀](#pool) 이러한 옵션에 대 한 자세한 내용은 섹션.</span><span class="sxs-lookup"><span data-stu-id="fe57d-214">See hello following [Pool](#pool) section for more information on these options.</span></span>

<span data-ttu-id="fe57d-215">노드 실행 파일 또는 hello 노드의 hello 운영 체제 환경에서 지원 되는 스크립트를 실행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-215">Nodes can run any executable or script that is supported by hello operating system environment of hello node.</span></span> <span data-ttu-id="fe57d-216">여기에 Windows용 \*.exe, \*.cmd, \*.bat 및 PowerShell 스크립트, Linux용 이진 파일, 셸 및 Python 스크립트를 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-216">This includes \*.exe, \*.cmd, \*.bat and PowerShell scripts for Windows--and binaries, shell, and Python scripts for Linux.</span></span>

<span data-ttu-id="fe57d-217">Batch의 모든 계산 노드는 다음 사항도 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-217">All compute nodes in Batch also include:</span></span>

* <span data-ttu-id="fe57d-218">태스크에서 참조로 사용할 수 있는 표준 [폴더 구조](#files-and-directories) 및 연결된 [환경 변수](#environment-settings-for-tasks)</span><span class="sxs-lookup"><span data-stu-id="fe57d-218">A standard [folder structure](#files-and-directories) and associated [environment variables](#environment-settings-for-tasks) that are available for reference by tasks.</span></span>
* <span data-ttu-id="fe57d-219">**방화벽** 된 설정을 toocontrol 액세스를 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-219">**Firewall** settings that are configured toocontrol access.</span></span>
* <span data-ttu-id="fe57d-220">[원격 액세스](#connecting-to-compute-nodes) tooboth (프로토콜 RDP (원격 데스크톱)) Windows 및 Linux (SSH (보안 셸)) 노드.</span><span class="sxs-lookup"><span data-stu-id="fe57d-220">[Remote access](#connecting-to-compute-nodes) tooboth Windows (Remote Desktop Protocol (RDP)) and Linux (Secure Shell (SSH)) nodes.</span></span>

## <a name="pool"></a><span data-ttu-id="fe57d-221">풀</span><span class="sxs-lookup"><span data-stu-id="fe57d-221">Pool</span></span>
<span data-ttu-id="fe57d-222">풀은 응용 프로그램이 실행되는 노드 컬렉션입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-222">A pool is a collection of nodes that your application runs on.</span></span> <span data-ttu-id="fe57d-223">hello 풀 만들 수 있습니다 수동으로 또는 자동으로 일괄 처리 서비스 hello가, 수행 하는 hello 작업 toobe를 지정 하는 경우.</span><span class="sxs-lookup"><span data-stu-id="fe57d-223">hello pool can be created manually by you, or automatically by hello Batch service when you specify hello work toobe done.</span></span> <span data-ttu-id="fe57d-224">만들 수 있으며 응용 프로그램의 hello 리소스 요구 사항을 충족 하는 풀 관리.</span><span class="sxs-lookup"><span data-stu-id="fe57d-224">You can create and manage a pool that meets hello resource requirements of your application.</span></span> <span data-ttu-id="fe57d-225">생성 된 hello 일괄 처리 계정에 의해서만 풀을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-225">A pool can be used only by hello Batch account in which it was created.</span></span> <span data-ttu-id="fe57d-226">하나의 Batch 계정에는 둘 이상의 풀이 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-226">A Batch account can have more than one pool.</span></span>

<span data-ttu-id="fe57d-227">Azure 배치 풀 기반 hello 핵심 Azure 계산 플랫폼을 활용 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-227">Azure Batch pools build on top of hello core Azure compute platform.</span></span> <span data-ttu-id="fe57d-228">대규모 할당, 응용 프로그램 설치, 데이터 분산, 상태 모니터링 및 유연한 조정 hello 풀 내에서 계산 노드 수를 제공 ([배율](#scaling-compute-resources)).</span><span class="sxs-lookup"><span data-stu-id="fe57d-228">They provide large-scale allocation, application installation, data distribution, health monitoring, and flexible adjustment of hello number of compute nodes within a pool ([scaling](#scaling-compute-resources)).</span></span>

<span data-ttu-id="fe57d-229">Tooa 풀 추가 된 모든 노드에 고유 이름 및 IP 주소 할당 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-229">Every node that is added tooa pool is assigned a unique name and IP address.</span></span> <span data-ttu-id="fe57d-230">노드는 풀에서 제거 되 면 toohello 운영 체제 또는 파일이 적용 된 모든 변경 내용이 손실, 하 고 이름 및 IP 주소는 나중에 사용할 해제 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-230">When a node is removed from a pool, any changes that are made toohello operating system or files are lost, and its name and IP address are released for future use.</span></span> <span data-ttu-id="fe57d-231">노드가 풀에서 제거되면 수명이 끝납니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-231">When a node leaves a pool, its lifetime is over.</span></span>

<span data-ttu-id="fe57d-232">풀을 만들 때 hello 다음 특성을 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-232">When you create a pool, you can specify hello following attributes.</span></span> <span data-ttu-id="fe57d-233">Hello 일괄 처리의 hello 풀 할당 모드에 따라 일부 설정이 다르면 [계정](#account):</span><span class="sxs-lookup"><span data-stu-id="fe57d-233">Some settings differ, depending on hello pool allocation mode of hello Batch [account](#account):</span></span>

- <span data-ttu-id="fe57d-234">Compute 노드 운영 체제 및 버전</span><span class="sxs-lookup"><span data-stu-id="fe57d-234">Compute node operating system and version</span></span>
- <span data-ttu-id="fe57d-235">Compute 노드 유형 및 대상 노드 수</span><span class="sxs-lookup"><span data-stu-id="fe57d-235">Compute node type and target number of nodes</span></span>
- <span data-ttu-id="fe57d-236">Hello 계산 노드의 크기</span><span class="sxs-lookup"><span data-stu-id="fe57d-236">Size of hello compute nodes</span></span>
- <span data-ttu-id="fe57d-237">크기 조정 정책</span><span class="sxs-lookup"><span data-stu-id="fe57d-237">Scaling policy</span></span>
- <span data-ttu-id="fe57d-238">태스크 예약 정책</span><span class="sxs-lookup"><span data-stu-id="fe57d-238">Task scheduling policy</span></span>
- <span data-ttu-id="fe57d-239">계산 노드의 통신 상태</span><span class="sxs-lookup"><span data-stu-id="fe57d-239">Communication status for compute nodes</span></span>
- <span data-ttu-id="fe57d-240">계산 노드의 시작 태스크</span><span class="sxs-lookup"><span data-stu-id="fe57d-240">Start tasks for compute nodes</span></span>
- <span data-ttu-id="fe57d-241">응용 프로그램 패키지</span><span class="sxs-lookup"><span data-stu-id="fe57d-241">Application packages</span></span>
- <span data-ttu-id="fe57d-242">네트워크 구성</span><span class="sxs-lookup"><span data-stu-id="fe57d-242">Network configuration</span></span>

<span data-ttu-id="fe57d-243">이러한 각 설정의 hello 다음 섹션에서에서 자세히 설명 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-243">Each of these settings is described in more detail in hello following sections.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="fe57d-244">Hello 일괄 처리 서비스가 풀 할당 모드를 사용 하 여 만든 일괄 처리 계정 hello 일괄 처리 계정에는 코어 수를 제한 하는 기본 할당량이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-244">Batch accounts created with hello Batch Service pool allocation mode have a default quota that limits hello number of cores in a Batch account.</span></span> <span data-ttu-id="fe57d-245">코어 수가 hello toohello 계산 노드 수를 해당합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-245">hello number of cores corresponds toohello number of compute nodes.</span></span> <span data-ttu-id="fe57d-246">찾을 수 있습니다 hello 기본 할당량 및 지침은 방법 너무[는 할당량을 늘리세요](batch-quota-limit.md#increase-a-quota) 에 [할당량과 hello Azure 배치 서비스에 대 한 제한을](batch-quota-limit.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-246">You can find hello default quotas and instructions on how too[increase a quota](batch-quota-limit.md#increase-a-quota) in [Quotas and limits for hello Azure Batch service](batch-quota-limit.md).</span></span> <span data-ttu-id="fe57d-247">풀의 대상 노드 수가 달성은, hello 코어 할당량 hello 이유를 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-247">If your pool is not achieving its target number of nodes, hello core quota might be hello reason.</span></span>
>
><span data-ttu-id="fe57d-248">일괄 처리 계정 hello 사용자 구독 풀 할당 모드를 사용 하 여 만든 hello 일괄 처리 서비스 할당량을 지원 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-248">Batch accounts created with hello User Subscription pool allocation mode do not observe hello Batch service quotas.</span></span> <span data-ttu-id="fe57d-249">Hello에 공유 대신 코어 할당량 hello에 대 한 구독을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-249">Instead, they share in hello core quota for hello specified subscription.</span></span> <span data-ttu-id="fe57d-250">자세한 내용은 [Azure 구독 및 서비스 제한, 할당량 및 제약 조건](../azure-subscription-service-limits.md)에서 [Virtual Machines 제한](../azure-subscription-service-limits.md#virtual-machines-limits)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="fe57d-250">For more information, see [Virtual Machines limits](../azure-subscription-service-limits.md#virtual-machines-limits) in [Azure subscription and service limits, quotas, and constraints](../azure-subscription-service-limits.md).</span></span>
>
>

### <a name="compute-node-operating-system-and-version"></a><span data-ttu-id="fe57d-251">Compute 노드 운영 체제 및 버전</span><span class="sxs-lookup"><span data-stu-id="fe57d-251">Compute node operating system and version</span></span>

<span data-ttu-id="fe57d-252">일괄 처리 풀을 만들 때 hello Azure 가상 컴퓨터 구성 및 운영 체제 hello 풀의 각 계산 노드에서 toorun 원하는의 hello 유형을 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-252">When you create a Batch pool, you can specify hello Azure virtual machine configuration and hello type of operating system you want toorun on each compute node in hello pool.</span></span> <span data-ttu-id="fe57d-253">hello 두 일괄 처리에서 사용할 수 있는 구성 유형은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-253">hello two types of configurations available in Batch are:</span></span>

- <span data-ttu-id="fe57d-254">hello **가상 컴퓨터 구성**, 해당 hello 풀을 지정 하는 Azure 가상 컴퓨터 구성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-254">hello **Virtual Machine Configuration**, which specifies that hello pool is comprised of Azure virtual machines.</span></span> <span data-ttu-id="fe57d-255">이러한 VM은 Linux 또는 Windows 이미지에서 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-255">These VMs may be created from either Linux or Windows images.</span></span> 

    <span data-ttu-id="fe57d-256">Hello 가상 컴퓨터 구성에 따라 풀을 만들 때 지정 해야 hello 사용 되는 이미지 toocreate의 hello 원본과 hello 노드의 hello 크기 뿐만 아니라, 뿐만 아니라 hello **가상 컴퓨터 이미지 참조** 및 hello 일괄 처리 **노드 에이전트 SKU** toobe hello 노드에 설치 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-256">When you create a pool based on hello Virtual Machine Configuration, you must specify not only hello size of hello nodes and hello source of hello images used toocreate them, but also hello **virtual machine image reference** and hello Batch **node agent SKU** toobe installed on hello nodes.</span></span> <span data-ttu-id="fe57d-257">이러한 풀 속성에 대한 자세한 내용은 [Azure Batch 풀에서 Linux 계산 노드 프로비전](batch-linux-nodes.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="fe57d-257">For more information about specifying these pool properties, see [Provision Linux compute nodes in Azure Batch pools](batch-linux-nodes.md).</span></span>

- <span data-ttu-id="fe57d-258">hello **클라우드 서비스 구성**, 해당 hello 풀을 지정 하는 Azure 클라우드 서비스 노드 구성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-258">hello **Cloud Services Configuration**, which specifies that hello pool is comprised of Azure Cloud Services nodes.</span></span> <span data-ttu-id="fe57d-259">Cloud Services는 Windows 계산 노드*만* 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-259">Cloud Services provide Windows compute nodes *only*.</span></span>

    <span data-ttu-id="fe57d-260">클라우드 서비스 구성 풀에 대 한 사용 가능한 운영 체제 hello에 나열 된 [Azure 게스트 OS 릴리스 및 SDK 호환성 매트릭스](../cloud-services/cloud-services-guestos-update-matrix.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-260">Available operating systems for Cloud Services Configuration pools are listed in hello [Azure Guest OS releases and SDK compatibility matrix](../cloud-services/cloud-services-guestos-update-matrix.md).</span></span> <span data-ttu-id="fe57d-261">Toospecify hello 노드 크기 해야 클라우드 서비스 노드를 포함 하는 풀을 만들 때와 해당 *OS 제품군*합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-261">When you create a pool that contains Cloud Services nodes, you need toospecify hello node size and its *OS Family*.</span></span> <span data-ttu-id="fe57d-262">클라우드 서비스는 Windows를 실행 중인 가상 컴퓨터 보다 신속 하 게 배포 된 tooAzure는.</span><span class="sxs-lookup"><span data-stu-id="fe57d-262">Cloud Services are deployed tooAzure more quickly than virtual machines running Windows.</span></span> <span data-ttu-id="fe57d-263">Windows 계산 노드 풀을 원하는 경우 배포 시간 측면에서 Cloud Services가 성능 상의 이점을 제공할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-263">If you want pools of Windows compute nodes, you may find that Cloud Services provide a performance benefit in terms of deployment time.</span></span>

    * <span data-ttu-id="fe57d-264">hello *OS 제품군* 또한 hello OS로 설치 된.net 버전을 결정 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-264">hello *OS Family* also determines which versions of .NET are installed with hello OS.</span></span>
    * <span data-ttu-id="fe57d-265">클라우드 서비스 내에서 작업자 역할로 지정할 수는 *OS 버전* (작업자 역할에 대 한 자세한 내용은 참조 hello [사람에 게 클라우드 서비스에 대 한](../cloud-services/cloud-services-choose-me.md#tell-me-about-cloud-services) hello에 대 한 섹션 [클라우드 서비스 개요](../cloud-services/cloud-services-choose-me.md)).</span><span class="sxs-lookup"><span data-stu-id="fe57d-265">As with worker roles within Cloud Services, you can specify an *OS Version* (for more information on worker roles, see hello [Tell me about cloud services](../cloud-services/cloud-services-choose-me.md#tell-me-about-cloud-services) section in hello [Cloud Services overview](../cloud-services/cloud-services-choose-me.md)).</span></span>
    * <span data-ttu-id="fe57d-266">작업자 역할을 갖는 지정 하는 권장 한 대로 `*` hello에 대 한 *OS 버전* hello 노드는 자동으로 업그레이드 하 고 없는 필요한 작업 toocater toonewly 릴리스된 버전은 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-266">As with worker roles, we recommend that you specify `*` for hello *OS Version* so that hello nodes are automatically upgraded, and there is no work required toocater toonewly released versions.</span></span> <span data-ttu-id="fe57d-267">특정 운영 체제 버전을 선택 하기 위한 기본 사용 사례 hello 이전 버전과 호환성 테스트 toobe hello 버전 toobe 업데이트를 허용 하기 전에 수행할 수 있는 tooensure 응용 프로그램 호환성입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-267">hello primary use case for selecting a specific OS version is tooensure application compatibility, which allows backward compatibility testing toobe performed before allowing hello version toobe updated.</span></span> <span data-ttu-id="fe57d-268">유효성 검사 후 hello *OS 버전* 실행 중인 모든 작업이 중단 되며 다시 대기 hello 새 OS 이미지를 설치할 수 있습니다-및 hello 풀을 업데이트할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-268">After validation, hello *OS Version* for hello pool can be updated and hello new OS image can be installed--any running tasks are interrupted and requeued.</span></span>

<span data-ttu-id="fe57d-269">풀을 만들 때 필요한 tooselect hello 적절 한 **nodeAgentSkuId**hello 기본 VHD 이미지의 OS hello에 따라 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-269">When you create a pool, you need tooselect hello appropriate **nodeAgentSkuId**, depending on hello OS of hello base image of your VHD.</span></span> <span data-ttu-id="fe57d-270">Hello를 호출 하 여 OS 이미지 참조를 사용할 수 있는 노드 에이전트 SKU ID tootheir의 매핑을 얻을 수 [목록 지원 노드 에이전트 Sku](https://docs.microsoft.com/rest/api/batchservice/list-supported-node-agent-skus) 작업 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-270">You can get a mapping of available node agent SKU ID's tootheir OS Image references by calling hello [List Supported Node Agent SKUs](https://docs.microsoft.com/rest/api/batchservice/list-supported-node-agent-skus) operation.</span></span>

<span data-ttu-id="fe57d-271">Hello 참조 [계정](#account) 일괄 처리 계정을 만들 때 hello 풀 할당 모드 설정에 대 한 내용은 섹션입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-271">See hello [Account](#account) section for information on setting hello pool allocation mode when you create a Batch account.</span></span>

#### <a name="custom-images-for-virtual-machine-pools"></a><span data-ttu-id="fe57d-272">가상 컴퓨터 풀에 대한 사용자 지정 이미지</span><span class="sxs-lookup"><span data-stu-id="fe57d-272">Custom images for Virtual Machine pools</span></span>

<span data-ttu-id="fe57d-273">toouse 사용자 지정 이미지 tooprovision 가상 컴퓨터 풀 hello 사용자 구독 풀 할당 모드 일괄 처리 계정을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-273">toouse a custom image tooprovision Virtual Machine pools, create your Batch account with hello User Subscription pool allocation mode.</span></span> <span data-ttu-id="fe57d-274">이 모드에서 일괄 처리 풀 hello 계정이 있는 hello 구독에 할당 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-274">With this mode, Batch pools are allocated into hello subscription where hello account resides.</span></span> <span data-ttu-id="fe57d-275">Hello 참조 [계정](#account) 일괄 처리 계정을 만들 때 hello 풀 할당 모드 설정에 대 한 내용은 섹션입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-275">See hello [Account](#account) section for information on setting hello pool allocation mode when you create a Batch account.</span></span>

<span data-ttu-id="fe57d-276">사용자 지정 이미지 toouse 간에 일반화 하 여 tooprepare hello 이미지가 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-276">toouse a custom image, you'll need tooprepare hello image by generalizing it.</span></span> <span data-ttu-id="fe57d-277">Azure Vm에서 사용자 지정 Linux 이미지를 준비 하는 방법에 대 한 정보를 참조 하십시오. [템플릿으로 Azure Linux VM toouse 캡처](../virtual-machines/linux/capture-image-nodejs.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-277">For information about preparing custom Linux images from Azure VMs, see [Capture an Azure Linux VM toouse as a template](../virtual-machines/linux/capture-image-nodejs.md).</span></span> <span data-ttu-id="fe57d-278">Azure VM에서 사용자 지정 Windows 이미지 준비에 대한 자세한 내용은 [Azure PowerShell을 사용하여 사용자 지정 VM 이미지 만들기](../virtual-machines/windows/tutorial-custom-images.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="fe57d-278">For information about preparing custom Windows images from Azure VMs, see [Create custom VM images with Azure PowerShell](../virtual-machines/windows/tutorial-custom-images.md).</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="fe57d-279">사용자 지정 이미지를 준비할 때는 유의 hello 다음에 유의 하십시오.</span><span class="sxs-lookup"><span data-stu-id="fe57d-279">When preparing your custom image, keep in mind hello following:</span></span>
> - <span data-ttu-id="fe57d-280">일괄 처리 풀 않습니다 tooprovision를 사용 하 여 해당 hello 기본 OS 이미지를 확인 하지는 모든 사전 설치 된 hello 사용자 지정 스크립트 확장 등의 Azure 확장입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-280">Ensure that hello base OS image you use tooprovision your Batch pools does not have any pre-installed Azure extensions, such as hello Custom Script extension.</span></span> <span data-ttu-id="fe57d-281">사전 설치 된 확장을 포함 하는 hello 이미지를 Azure hello VM을 배포 하는 문제가 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-281">If hello image contains a pre-installed extension, Azure may encounter problems deploying hello VM.</span></span>
> - <span data-ttu-id="fe57d-282">제공한 사용 하 여 기본 임시 드라이브 hello hello 배치 노드 에이전트 현재에서는 hello 기본 임시 드라이브 처럼 해당 hello 기본 OS 이미지를 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-282">Ensure that hello base OS image you provide uses hello default temp drive, as hello Batch node agent currently expects hello default temp drive.</span></span>
>
>

<span data-ttu-id="fe57d-283">사용자 지정 이미지를 사용 하 여 가상 컴퓨터 구성 풀 toocreate 해야 하나 이상의 표준 Azure 저장소 계정 toostore 사용자 지정 VHD 이미지 하거나.</span><span class="sxs-lookup"><span data-stu-id="fe57d-283">toocreate a Virtual Machine Configuration pool using a custom image, you'll need one or more standard Azure Storage accounts toostore your custom VHD images.</span></span> <span data-ttu-id="fe57d-284">사용자 지정 이미지는 Blob으로 저장됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-284">Custom images are stored as blobs.</span></span> <span data-ttu-id="fe57d-285">hello hello에 대 한 hello 사용자 지정 이미지 VHD blob의 Uri를 지정 하는 풀을 만들 때 사용자 지정 이미지 tooreference [osDisk](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_osdisk) hello 속성 [virtualMachineConfiguration](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_vmconf) 속성.</span><span class="sxs-lookup"><span data-stu-id="fe57d-285">tooreference your custom images when you create a pool, specify hello URIs of hello custom image VHD blobs for hello [osDisk](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_osdisk) property of hello [virtualMachineConfiguration](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_vmconf) property.</span></span>

<span data-ttu-id="fe57d-286">저장소 계정 hello 다음 조건을 충족 하는지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-286">Make sure that your storage accounts meet hello following criteria:</span></span>   

- <span data-ttu-id="fe57d-287">hello 저장소 계정을 포함 하는 hello 사용자 지정 이미지 VHD blob에서 toobe 필요한 일괄 처리 계정 (hello 사용자 구독) hello으로 동일한 구독을 hello 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-287">hello storage accounts containing hello custom image VHD blobs need toobe in hello same subscription as hello Batch account (hello user subscription).</span></span>
- <span data-ttu-id="fe57d-288">hello hello에 toobe 해야 하는 저장소 계정이 지정 된 일괄 처리 계정 hello와 동일한 영역입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-288">hello specified storage accounts need toobe in hello same region as hello Batch account.</span></span>
- <span data-ttu-id="fe57d-289">현재 표준 범용 저장소 계정만 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-289">Only standard general-purpose storage accounts are currently supported.</span></span> <span data-ttu-id="fe57d-290">Azure 프리미엄 저장소는 hello 나중에 지원 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-290">Azure Premium storage will be supported in hello future.</span></span>
- <span data-ttu-id="fe57d-291">사용자 지정 VHD Blob이 여러 개 있는 단일 저장소 계정을 지정하거나 Blob 하나만 있는 저장소 계정을 여러 개 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-291">You can specify one storage account with multiple custom VHD blobs or multiple storage accounts each having a single blob.</span></span> <span data-ttu-id="fe57d-292">Toouse 권장 여러 저장소 계정 tooget 성능이 향상 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-292">We recommend you toouse multiple storage accounts tooget a better performance.</span></span>
- <span data-ttu-id="fe57d-293">고유한 사용자 지정 이미지 VHD blob 하나 too40 Linux VM 인스턴스 또는 Windows VM 인스턴스를 20 개를 지원할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-293">One unique custom image VHD blob can support up too40 Linux VM instances or 20 Windows VM instances.</span></span> <span data-ttu-id="fe57d-294">많은 수의 Vm 인 hello VHD blob toocreate 풀의 toocreate 복사본이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-294">You will need toocreate copies of hello VHD blob toocreate pools with more VMs.</span></span> <span data-ttu-id="fe57d-295">예를 들어, 200 Windows Vm을 사용 하 여 풀 필요 hello에 대 한 지정 된 10 개의 고유한 VHD blob **osDisk** 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-295">For example, a pool with 200 Windows VMs needs 10 unique VHD blobs specified for hello **osDisk** property.</span></span>

<span data-ttu-id="fe57d-296">toocreate hello Azure 포털을 사용 하 여 사용자 지정 이미지에서 풀:</span><span class="sxs-lookup"><span data-stu-id="fe57d-296">toocreate a pool from a custom image using hello Azure portal:</span></span>

1. <span data-ttu-id="fe57d-297">Hello Azure 포털에서에서 tooyour 일괄 처리 계정을 이동 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-297">Navigate tooyour Batch account in hello Azure portal.</span></span>
2. <span data-ttu-id="fe57d-298">Hello에 **설정** 블레이드, 선택 hello **풀** 메뉴 항목입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-298">On hello **Settings** blade, select hello **Pools** menu item.</span></span>
3. <span data-ttu-id="fe57d-299">Hello에 **풀** 블레이드, 선택 hello **추가** 명령; hello **풀 추가** 블레이드를 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-299">On hello **Pools** blade, select hello **Add** command; hello **Add pool** blade will be displayed.</span></span>
4. <span data-ttu-id="fe57d-300">선택 **사용자 지정 이미지 (Linux/Windows)** hello에서 **이미지 유형** 드롭다운입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-300">Select **Custom Image (Linux/Windows)** from hello **Image Type** dropdown.</span></span> <span data-ttu-id="fe57d-301">hello를 표시 하는 hello 포털 **사용자 지정 이미지** 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-301">hello portal displays hello **Custom Image** picker.</span></span> <span data-ttu-id="fe57d-302">Hello에서 하나 이상의 Vhd를 선택 합니다. 동일한 컨테이너와 클릭 hello **선택** 단추입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-302">Choose one or more VHDs from hello same container and click hello **Select** button.</span></span> 
    <span data-ttu-id="fe57d-303">Hello 나중에 다른 저장소 계정 및 다른 컨테이너에서 여러 Vhd에 대 한 지원이 추가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-303">Support for multiple VHDs from different storage accounts and different containers will be added in hello future.</span></span>
5. <span data-ttu-id="fe57d-304">올바른 선택 hello **게시자/제품/Sku** hello 원하는 사용자 지정 Vhd를 선택 **캐싱** 모드에서는 다음 모든 페이지에서 채우기 hello hello 풀에 대 한 다른 매개 변수입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-304">Select hello correct **Publisher/Offer/Sku** for your custom VHDs, select hello desired **Caching** mode, then fill in all hello other parameters for hello pool.</span></span>
6. <span data-ttu-id="fe57d-305">toocheck 풀을 기반으로 이미지를 사용자 지정 하는 경우 참조 hello **운영 체제** hello의 hello 리소스 요약 섹션에서 속성 **풀** 블레이드입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-305">toocheck if a pool is based on a custom image, see hello **Operating System** property in hello resource summary section of hello **Pool** blade.</span></span> <span data-ttu-id="fe57d-306">이 속성의 hello 값은 **사용자 지정 VM 이미지**합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-306">hello value of this property should be **Custom VM image**.</span></span>
7. <span data-ttu-id="fe57d-307">풀에 연결 된 모든 사용자 지정 Vhd hello 풀에 표시 되는 **속성** 블레이드입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-307">All custom VHDs associated with a pool are displayed on hello pool's **Properties** blade.</span></span>

### <a name="compute-node-type-and-target-number-of-nodes"></a><span data-ttu-id="fe57d-308">Compute 노드 유형 및 대상 노드 수</span><span class="sxs-lookup"><span data-stu-id="fe57d-308">Compute node type and target number of nodes</span></span>

<span data-ttu-id="fe57d-309">풀을 만들 때 어떤 유형의 계산 노드 및 대상 수를 각각에 대해 hello를 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-309">When you create a pool, you can specify which types of compute nodes you want and hello target number for each.</span></span> <span data-ttu-id="fe57d-310">hello 두 계산 노드 유형은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-310">hello two types of compute nodes are:</span></span>

- <span data-ttu-id="fe57d-311">**전용 계산 노드.**</span><span class="sxs-lookup"><span data-stu-id="fe57d-311">**Dedicated compute nodes.**</span></span> <span data-ttu-id="fe57d-312">전용 계산 노드는 사용자 워크로드용으로 예약되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-312">Dedicated compute nodes are reserved for your workloads.</span></span> <span data-ttu-id="fe57d-313">보다 우선 순위가 낮은 노드는 하지만 보장 됩니다 toonever 선점 될 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-313">They are more expensive than low-priority nodes, but they are guaranteed toonever be preempted.</span></span>

- <span data-ttu-id="fe57d-314">**우선 순위가 낮은 계산 노드.**</span><span class="sxs-lookup"><span data-stu-id="fe57d-314">**Low-priority compute nodes.**</span></span> <span data-ttu-id="fe57d-315">우선 순위가 낮은 노드 과도 한 용량에서에서 활용 Azure toorun 일괄 처리 작업 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-315">Low-priority nodes take advantage of surplus capacity in Azure toorun your Batch workloads.</span></span> <span data-ttu-id="fe57d-316">우선 순위가 낮은 노드는 전용 노드보다 시간당 비용이 더 적게 들며, 많은 계산 성능이 필요한 워크로드를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-316">Low-priority nodes are less expensive per hour than dedicated nodes, and enable workloads requiring a lot of compute power.</span></span> <span data-ttu-id="fe57d-317">자세한 내용은 [Batch에서 우선 순위가 낮은 VM 사용](batch-low-pri-vms.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="fe57d-317">For more information, see [Use low-priority VMs with Batch](batch-low-pri-vms.md).</span></span>

    <span data-ttu-id="fe57d-318">Azure에 여유 용량이 부족하면 우선 순위가 낮은 계산 노드는 선취될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-318">Low-priority compute nodes may be preempted when Azure has insufficient surplus capacity.</span></span> <span data-ttu-id="fe57d-319">노드는 작업을 실행 하는 동안 우선 되 면 hello 작업 다시 대기 되며 계산 노드를 다시 사용할 수 있게 되 면 다시 실행 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-319">If a node is preempted while running tasks, hello tasks are requeued and run again once a compute node becomes available again.</span></span> <span data-ttu-id="fe57d-320">우선 순위가 낮은 노드는 작업은 유연 hello 작업 완료 시간 및 hello 작업은 여러 노드에 분산에 적합 한 옵션입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-320">Low-priority nodes are a good option for workloads where hello job completion time is flexible and hello work is distributed across many nodes.</span></span> <span data-ttu-id="fe57d-321">시나리오에 맞는 toouse 우선 순위가 낮은 노드를 결정 하기 전에 모든 작업 인해 분실 하 있는지 확인 toopreemption 최소이 고 쉬운 toorecreate 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-321">Before you decide toouse low-priority nodes for your scenario, make sure that any work lost due toopreemption will be minimal and easy toorecreate.</span></span>

    <span data-ttu-id="fe57d-322">도 hello 풀 할당 모드를 사용 하 여 만든 일괄 처리 계정에 대해서만 사용할 수 있는 우선 순위가 낮은 계산 노드가**일괄 처리 서비스**합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-322">Low-priority compute nodes are available only for Batch accounts created with hello pool allocation mode set too**Batch Service**.</span></span>

<span data-ttu-id="fe57d-323">Hello에 모두 우선 순위가 낮은 토폴로지와 전용 계산 노드를 가질 수 동일한 풀입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-323">You can have both low-priority and dedicated compute nodes in hello same pool.</span></span> <span data-ttu-id="fe57d-324">각 유형의 노드에 &mdash; 우선 순위가 낮은 토폴로지와 전용 &mdash; 가 필요한 hello 노드 수를 지정할 수는 자체 대상 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-324">Each type of node &mdash; low-priority and dedicated &mdash; has its own target setting, for which you can specify hello desired number of nodes.</span></span> 
    
<span data-ttu-id="fe57d-325">hello 계산 노드 수는 참조 된 tooas는 *대상* 하므로 하면 풀에 따라서는 hello 필요한 노드 수에 도달 하지 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-325">hello number of compute nodes is referred tooas a *target* because, in some situations, your pool might not reach hello desired number of nodes.</span></span> <span data-ttu-id="fe57d-326">예를 들어, 풀을 얻지 못할 수도 hello 대상 hello에 도달한 경우 [코어 할당량](batch-quota-limit.md) 먼저 일괄 처리 계정.</span><span class="sxs-lookup"><span data-stu-id="fe57d-326">For example, a pool might not achieve hello target if it reaches hello [core quota](batch-quota-limit.md) for your Batch account first.</span></span> <span data-ttu-id="fe57d-327">자동 크기 조정 적용 한 경우 hello 풀 hello 대상을 얻지 못할 수도 또는 hello 최대 노드 수를 제한 하는 수식 toohello 풀입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-327">Or, hello pool might not achieve hello target if you have applied an auto-scaling formula toohello pool that limits hello maximum number of nodes.</span></span>

<span data-ttu-id="fe57d-328">우선 순위가 낮은 계산 노드 및 전용 계산 노드에 대한 가격 정보는 [Batch 가격 책정](https://azure.microsoft.com/pricing/details/batch/)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="fe57d-328">For pricing information for both low-priority and dedicated compute nodes, see [Batch Pricing](https://azure.microsoft.com/pricing/details/batch/).</span></span>

### <a name="size-of-hello-compute-nodes"></a><span data-ttu-id="fe57d-329">Hello 계산 노드의 크기</span><span class="sxs-lookup"><span data-stu-id="fe57d-329">Size of hello compute nodes</span></span>

<span data-ttu-id="fe57d-330">**Cloud Services 구성** 계산 노드 크기는 [Cloud Services 크기](../cloud-services/cloud-services-sizes-specs.md)에 나열됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-330">**Cloud Services Configuration** compute node sizes are listed in [Sizes for Cloud Services](../cloud-services/cloud-services-sizes-specs.md).</span></span> <span data-ttu-id="fe57d-331">Batch는 `ExtraSmall`, `STANDARD_A1_V2` 및 `STANDARD_A2_V2`를 제외한 모든 Cloud Services 크기를 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-331">Batch supports all Cloud Services sizes except `ExtraSmall`, `STANDARD_A1_V2`, and `STANDARD_A2_V2`.</span></span>

<span data-ttu-id="fe57d-332">**가상 컴퓨터 구성** 계산 노드 크기는 [Azure에서 가상 컴퓨터에 대한 크기](../virtual-machines/linux/sizes.md)(Linux) 및 [Azure에서 가상 컴퓨터에 대한 크기](../virtual-machines/windows/sizes.md)(Windows)에 나열되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-332">**Virtual Machine Configuration** compute node sizes are listed in [Sizes for virtual machines in Azure](../virtual-machines/linux/sizes.md) (Linux) and [Sizes for virtual machines in Azure](../virtual-machines/windows/sizes.md) (Windows).</span></span> <span data-ttu-id="fe57d-333">Batch는 `STANDARD_A0`및 프리미엄 저장소(`STANDARD_GS`, `STANDARD_DS` 및 `STANDARD_DSV2` 시리즈) 크기를 제외한 모든 Azure VM 크기를 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-333">Batch supports all Azure VM sizes except `STANDARD_A0` and those with premium storage (`STANDARD_GS`, `STANDARD_DS`, and `STANDARD_DSV2` series).</span></span>

<span data-ttu-id="fe57d-334">계산 노드 크기를 선택할 때는 hello 특징 및 hello 노드에서 실행 하는 hello 응용 프로그램의 요구 사항을 고려 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-334">When selecting a compute node size, consider hello characteristics and requirements of hello applications you'll run on hello nodes.</span></span> <span data-ttu-id="fe57d-335">Hello 응용 프로그램은 다중 스레드 및 메모리 소비 양을 도와 같은 측면 hello 가장 적합 하 고 비용 효율적인 노드 크기를 결정 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-335">Aspects like whether hello application is multithreaded and how much memory it consumes can help determine hello most suitable and cost-effective node size.</span></span> <span data-ttu-id="fe57d-336">것이 일반적인 tooselect 하나 이상의 태스크를 가정 합니다. 노드 크기는 한 번에 한 노드에서 실행 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-336">It's typical tooselect a node size assuming one task will run on a node at a time.</span></span> <span data-ttu-id="fe57d-337">그러나 가능한 toohave는 여러 작업 (및 따라서 여러 응용 프로그램 인스턴스가) [병렬로 실행](batch-parallel-node-tasks.md) 작업 실행 중에 계산 노드.</span><span class="sxs-lookup"><span data-stu-id="fe57d-337">However, it is possible toohave multiple tasks (and therefore multiple application instances) [run in parallel](batch-parallel-node-tasks.md) on compute nodes during job execution.</span></span> <span data-ttu-id="fe57d-338">이 경우 일반적인 toochoose 큰 노드 크기 tooaccommodate hello 증가 요청을 병렬 작업 실행 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-338">In this case, it is common toochoose a larger node size tooaccommodate hello increased demand of parallel task execution.</span></span> <span data-ttu-id="fe57d-339">자세한 내용은 [태스크 일정 정책](#task-scheduling-policy)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="fe57d-339">See [Task scheduling policy](#task-scheduling-policy) for more information.</span></span>

<span data-ttu-id="fe57d-340">풀의 hello 노드 모두에 동일한 hello 크기입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-340">All of hello nodes in a pool are hello same size.</span></span> <span data-ttu-id="fe57d-341">시스템 요구 사항이 서로 다른 toorun 응용 프로그램 의도 및/또는 한다고 로드 수준, 하는 경우에 별도 풀을 사용 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-341">If you intend toorun applications with differing system requirements and/or load levels, we recommend that you use separate pools.</span></span>

### <a name="scaling-policy"></a><span data-ttu-id="fe57d-342">크기 조정 정책</span><span class="sxs-lookup"><span data-stu-id="fe57d-342">Scaling policy</span></span>

<span data-ttu-id="fe57d-343">동적 작업에 대 한 작성 및 적용할 수 있습니다는 [자동 크기 조정 수식](#scaling-compute-resources) tooa 풀입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-343">For dynamic workloads, you can write and apply an [auto-scaling formula](#scaling-compute-resources) tooa pool.</span></span> <span data-ttu-id="fe57d-344">hello 일괄 처리 서비스는 주기적으로 수식이 평가 하 고 hello 다양 한 풀, 작업 및 지정할 수 있는 작업 매개 변수를 기반으로 하는 hello 풀 내의 노드 수를 조정 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-344">hello Batch service periodically evaluates your formula and adjusts hello number of nodes within hello pool based on various pool, job, and task parameters that you can specify.</span></span>

### <a name="task-scheduling-policy"></a><span data-ttu-id="fe57d-345">태스크 예약 정책</span><span class="sxs-lookup"><span data-stu-id="fe57d-345">Task scheduling policy</span></span>

<span data-ttu-id="fe57d-346">hello [작업 노드당 최대](batch-parallel-node-tasks.md) 구성 옵션 hello hello 풀 내에서 각 계산 노드에서 동시에 실행할 수 있는 작업의 최대 개수를 결정 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-346">hello [max tasks per node](batch-parallel-node-tasks.md) configuration option determines hello maximum number of tasks that can be run in parallel on each compute node within hello pool.</span></span>

<span data-ttu-id="fe57d-347">hello 기본 구성, 노드에서 실행 되는 한 번에 한 작업씩 하지만 시나리오가 toohave 도움이 되는 노드에 동시에 실행 하는 두 개 이상의 작업을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-347">hello default configuration specifies that one task at a time runs on a node, but there are scenarios where it is beneficial toohave two or more tasks executed on a node simultaneously.</span></span> <span data-ttu-id="fe57d-348">Hello 참조 [예제 시나리오](batch-parallel-node-tasks.md#example-scenario) hello에 [동시 노드 작업](batch-parallel-node-tasks.md) 문서 toosee 어떻게 노드당 여러 작업을 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-348">See hello [example scenario](batch-parallel-node-tasks.md#example-scenario) in hello [concurrent node tasks](batch-parallel-node-tasks.md) article toosee how you can benefit from multiple tasks per node.</span></span>

<span data-ttu-id="fe57d-349">지정할 수 있습니다는 *채우기 유형* 는 일괄 처리는 풀의 모든 노드에서 hello 작업을 균등 하 게 분산 작업 tooanother 노드를 할당 하기 전에 hello 최대 작업 수와 각 노드를 압축 하는지 여부를 결정 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-349">You can also specify a *fill type* which determines whether Batch spreads hello tasks evenly across all nodes in a pool, or packs each node with hello maximum number of tasks before assigning tasks tooanother node.</span></span>

### <a name="communication-status-for-compute-nodes"></a><span data-ttu-id="fe57d-350">계산 노드의 통신 상태</span><span class="sxs-lookup"><span data-stu-id="fe57d-350">Communication status for compute nodes</span></span>

<span data-ttu-id="fe57d-351">대부분의 시나리오에서 작업 독립적으로 작동 하 고 서로 toocommunicate 필요는 없습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-351">In most scenarios, tasks operate independently and do not need toocommunicate with one another.</span></span> <span data-ttu-id="fe57d-352">하지만 [MPI 시나리오](batch-mpi.md)와 같이 태스크가 통신해야 하는 응용 프로그램이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-352">However, there are some applications in which tasks must communicate, like [MPI scenarios](batch-mpi.md).</span></span>

<span data-ttu-id="fe57d-353">풀 tooallow를 구성할 수 있습니다 **노드 간 통신**, 런타임에 풀 내에서 노드 통신할 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-353">You can configure a pool tooallow **internode communication**, so that nodes within a pool can communicate at runtime.</span></span> <span data-ttu-id="fe57d-354">노드 간 통신 기능을 사용하는 경우 Cloud Services 구성 풀의 노드는 1100보다 큰 포트에서 서로 통신할 수 있고 가상 컴퓨터 구성 풀은 모든 포트에서 트래픽을 제한하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-354">When internode communication is enabled, nodes in Cloud Services Configuration pools can communicate with each other on ports greater than 1100, and Virtual Machine Configuration pools do not restrict traffic on any port.</span></span>

<span data-ttu-id="fe57d-355">Note는 노드 간 통신을 사용 하도록 설정도 클러스터 내에서 hello 노드의 hello 배치에 영향을 줍니다 및 배포 제한 사항으로 인해 hello 최대는 풀의 노드 수를 제한할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-355">Note that enabling internode communication also impacts hello placement of hello nodes within clusters and might limit hello maximum number of nodes in a pool because of deployment restrictions.</span></span> <span data-ttu-id="fe57d-356">응용 프로그램 노드 간 통신에 필요 하지 않습니다 hello 일괄 처리 서비스 수 잠재적으로 많은 수의 노드가 toohello 풀 서로 다른 여러 클러스터의 할당과 데이터 센터 tooenable 병렬 처리 능력을 증가 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-356">If your application does not require communication between nodes, hello Batch service can allocate a potentially large number of nodes toohello pool from many different clusters and datacenters tooenable increased parallel processing power.</span></span>

### <a name="start-tasks-for-compute-nodes"></a><span data-ttu-id="fe57d-357">계산 노드의 시작 태스크</span><span class="sxs-lookup"><span data-stu-id="fe57d-357">Start tasks for compute nodes</span></span>

<span data-ttu-id="fe57d-358">선택적 hello *시작 작업* hello 풀을 연결 하는 해당 노드의 및 때마다 노드를 다시 시작 하거나 이미지로 다시 설치 하는 같은 방식으로 각 노드에서 실행 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-358">hello optional *start task* executes on each node as that node joins hello pool, and each time a node is restarted or reimaged.</span></span> <span data-ttu-id="fe57d-359">hello 시작 태스크가 hello hello 계산 노드에서 작업을 실행 하는 hello 응용 프로그램을 설치 하는 등의 작업 실행에 대 한 계산 노드를 준비 하기 위한 특히 유용 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-359">hello start task is especially useful for preparing compute nodes for hello execution of tasks, like installing hello applications that your tasks run on hello compute nodes.</span></span>

### <a name="application-packages"></a><span data-ttu-id="fe57d-360">응용 프로그램 패키지</span><span class="sxs-lookup"><span data-stu-id="fe57d-360">Application packages</span></span>

<span data-ttu-id="fe57d-361">지정할 수 있습니다 [응용 프로그램 패키지](#application-packages) toodeploy toohello hello 풀의 노드를 계산 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-361">You can specify [application packages](#application-packages) toodeploy toohello compute nodes in hello pool.</span></span> <span data-ttu-id="fe57d-362">응용 프로그램 패키지는 간소화 된 배포 및 작업을 실행 하는 hello 응용 프로그램의 버전 관리를 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-362">Application packages provide simplified deployment and versioning of hello applications that your tasks run.</span></span> <span data-ttu-id="fe57d-363">풀에 지정할 응용 프로그램 패키지는 해당 풀에 조인되거나 다시 부팅 또는 이미지로 다시 설치되는 모든 노드에 설치됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-363">Application packages that you specify for a pool are installed on every node that joins that pool, and every time a node is rebooted or reimaged.</span></span>

> [!NOTE]
> <span data-ttu-id="fe57d-364">응용 프로그램 패키지는 2017년 7월 5일 이후에 만들어진 모든 Batch 풀에서 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-364">Application packages are supported on all Batch pools created after 5 July 2017.</span></span> <span data-ttu-id="fe57d-365">클라우드 서비스 구성을 사용 하 여 hello 풀이 작성 되었습니다. 경우에 10 2016 년 3 월 사이의 5 년 7 월 2017 생성 되는 일괄 처리 풀에서 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-365">They are supported on Batch pools created between 10 March 2016 and 5 July 2017 only if hello pool was created using a Cloud Service configuration.</span></span> <span data-ttu-id="fe57d-366">2016 년 3 월 이전 too10를 생성 하는 일괄 처리 풀에서 응용 프로그램 패키지를 지원 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-366">Batch pools created prior too10 March 2016 do not support application packages.</span></span> <span data-ttu-id="fe57d-367">응용 프로그램 tooyour 일괄 처리 노드 toodeploy 패키지 하는 응용 프로그램을 사용 하는 방법에 대 한 자세한 내용은 참조 [일괄 처리 응용 프로그램 패키지와 응용 프로그램 toocompute 노드를 배포할](batch-application-packages.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-367">For more information about using application packages toodeploy your applications tooyour Batch nodes, see [Deploy applications toocompute nodes with Batch application packages](batch-application-packages.md).</span></span>
>
>

### <a name="network-configuration"></a><span data-ttu-id="fe57d-368">네트워크 구성</span><span class="sxs-lookup"><span data-stu-id="fe57d-368">Network configuration</span></span>

<span data-ttu-id="fe57d-369">Azure의 hello 서브넷을 지정할 수 있습니다 [가상 네트워크 (VNet)](../virtual-network/virtual-networks-overview.md) 는 hello 풀 계산 노드는 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-369">You can specify hello subnet of an Azure [virtual network (VNet)](../virtual-network/virtual-networks-overview.md) in which hello pool's compute nodes should be created.</span></span> <span data-ttu-id="fe57d-370">Hello 참조 [풀 네트워크 구성](#pool-network-configuration) 한 자세 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-370">See hello [Pool network configuration](#pool-network-configuration) section for more information.</span></span>


## <a name="job"></a><span data-ttu-id="fe57d-371">작업</span><span class="sxs-lookup"><span data-stu-id="fe57d-371">Job</span></span>
<span data-ttu-id="fe57d-372">작업은 태스크의 컬렉션입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-372">A job is a collection of tasks.</span></span> <span data-ttu-id="fe57d-373">풀의 hello 계산 노드에서 해당 작업에 의해 계산 수행 되는 방법을 관리 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-373">It manages how computation is performed by its tasks on hello compute nodes in a pool.</span></span>

* <span data-ttu-id="fe57d-374">hello 작업 지정 hello **풀** 는 hello 작업은 toobe 실행 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-374">hello job specifies hello **pool** in which hello work is toobe run.</span></span> <span data-ttu-id="fe57d-375">각 작업에 새 풀을 만들거나 많은 작업에 하나의 풀을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-375">You can create a new pool for each job, or use one pool for many jobs.</span></span> <span data-ttu-id="fe57d-376">작업 일정과 연결된 각 작업 또는 작업 일정과 연결된 모든 작업에 풀을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-376">You can create a pool for each job that is associated with a job schedule, or for all jobs that are associated with a job schedule.</span></span>
* <span data-ttu-id="fe57d-377">선택적 **작업 우선 순위**를 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-377">You can specify an optional **job priority**.</span></span> <span data-ttu-id="fe57d-378">작업이 현재 진행 중인 작업 보다 높은 우선 순위로 전송 되 면 hello 우선 순위가 높은 작업에 대 한 hello 작업 hello 우선 순위가 낮은 작업에 대 한 작업 보다 먼저 hello 큐에 삽입 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-378">When a job is submitted with a higher priority than jobs that are currently in progress, hello tasks for hello higher-priority job are inserted into hello queue ahead of tasks for hello lower-priority jobs.</span></span> <span data-ttu-id="fe57d-379">이미 실행 중인 우선 순위가 낮은 작업의 태스크는 선취되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-379">Tasks in lower-priority jobs that are already running are not preempted.</span></span>
* <span data-ttu-id="fe57d-380">작업을 사용할 수 있습니다 **제약 조건을** toospecify 작업에 대 한 일정 한 제한:</span><span class="sxs-lookup"><span data-stu-id="fe57d-380">You can use job **constraints** toospecify certain limits for your jobs:</span></span>

    <span data-ttu-id="fe57d-381">설정할 수 있습니다는 **최대 wallclock 시간**에 hello 작업 및 작업의 모든 작업은 지정 된 hello 최대 wallclock 시간 보다 오래 실행을 하는 경우 종료 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-381">You can set a **maximum wallclock time**, so that if a job runs for longer than hello maximum wallclock time that is specified, hello job and all of its tasks are terminated.</span></span>

    <span data-ttu-id="fe57d-382">Batch는 실패한 태스크를 검색하고 다시 시도할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-382">Batch can detect and then retry failed tasks.</span></span> <span data-ttu-id="fe57d-383">Hello를 지정할 수 있습니다 **태스크 다시 시도의 최대 수** 작업이 인지 여부를 포함 하는 제약 조건으로 *항상* 또는 *되지* 다시 시도 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-383">You can specify hello **maximum number of task retries** as a constraint, including whether a task is *always* or *never* retried.</span></span> <span data-ttu-id="fe57d-384">해당 hello 작업은 다시 실행 하는 다시 대기 toobe 의미는 작업을 다시 시도 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-384">Retrying a task means that hello task is requeued toobe run again.</span></span>
* <span data-ttu-id="fe57d-385">클라이언트 응용 프로그램 작업 tooa 작업을 추가 하거나 지정할 수 있습니다는 [작업 관리자 태스크가](#job-manager-task)합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-385">Your client application can add tasks tooa job, or you can specify a [job manager task](#job-manager-task).</span></span> <span data-ttu-id="fe57d-386">작업 관리자 태스크는 작업에 대 한 필요한 toocreate hello 필요한 작업 사용 되는 hello 정보를 포함 하, hello 중 하나에서 실행 되 고 hello 작업 관리자 태스크와 hello 풀의 노드를 계산 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-386">A job manager task contains hello information that is necessary toocreate hello required tasks for a job, with hello job manager task being run on one of hello compute nodes in hello pool.</span></span> <span data-ttu-id="fe57d-387">hello 작업 관리자 태스크는 처리-일괄 처리 전용으로 메시지가 대기 되는 즉시 hello 작업 작성 되 고 실패 한 경우 다시 시작 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-387">hello job manager task is handled specifically by Batch--it is queued as soon as hello job is created, and is restarted if it fails.</span></span> <span data-ttu-id="fe57d-388">작업 관리자 태스크는 *필요한* 하 여 만든 작업에 대 한 한 [작업 일정](#scheduled-jobs) hello 작업 인스턴스화되기 전에 hello 유일한 방법은 toodefine hello 작업 이기 때문에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-388">A job manager task is *required* for jobs that are created by a [job schedule](#scheduled-jobs) because it is hello only way toodefine hello tasks before hello job is instantiated.</span></span>
* <span data-ttu-id="fe57d-389">기본적으로 작업 hello 작업 내에서 모든 작업이 완료 되 면 hello 활성 상태로 남아 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-389">By default, jobs remain in hello active state when all tasks within hello job are complete.</span></span> <span data-ttu-id="fe57d-390">Hello 작업이 자동으로 종료 된 hello 작업의 모든 태스크가 완료 되 면 되도록이 동작을 변경할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-390">You can change this behavior so that hello job is automatically terminated when all tasks in hello job are complete.</span></span> <span data-ttu-id="fe57d-391">세트 hello 작업 **onAllTasksComplete** 속성 ([OnAllTasksComplete] [ net_onalltaskscomplete] 일괄 처리.net에서) 너무*terminatejob* tooautomatically hello 완료 상태에 해당 작업 모두 있을 때 hello 작업을 종료 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-391">Set hello job's **onAllTasksComplete** property ([OnAllTasksComplete][net_onalltaskscomplete] in Batch .NET) too*terminatejob* tooautomatically terminate hello job when all of its tasks are in hello completed state.</span></span>

    <span data-ttu-id="fe57d-392">Hello 일괄 처리 서비스에서 작업으로 간주 참고 *없는* 작업 toohave 해당 작업 모두 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-392">Note that hello Batch service considers a job with *no* tasks toohave all of its tasks completed.</span></span> <span data-ttu-id="fe57d-393">따라서 이 옵션은 [작업 관리자 태스크](#job-manager-task)와 함께 가장 일반적으로 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-393">Therefore, this option is most commonly used with a [job manager task](#job-manager-task).</span></span> <span data-ttu-id="fe57d-394">새 작업을 처음부터 설정 해야 작업 관리자 없이 toouse 작업 자동 종료 하려는 경우 **onAllTasksComplete** 속성 너무*noaction*, 너무 설정한 다음*terminatejob* 작업 toohello 작업 추가 완료 한 후에 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-394">If you want toouse automatic job termination without a job manager, you should initially set a new job's **onAllTasksComplete** property too*noaction*, then set it too*terminatejob* only after you've finished adding tasks toohello job.</span></span>

### <a name="job-priority"></a><span data-ttu-id="fe57d-395">작업 우선 순위</span><span class="sxs-lookup"><span data-stu-id="fe57d-395">Job priority</span></span>
<span data-ttu-id="fe57d-396">일괄 처리에서 만드는 우선 순위 toojobs를 할당할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-396">You can assign a priority toojobs that you create in Batch.</span></span> <span data-ttu-id="fe57d-397">hello 일괄 처리 서비스는 계정 내에서 작업 일정의 hello 작업 toodetermine hello 순서 hello 우선 순위 값을 사용 (이 혼동된 toobe는 [예약 된 작업](#scheduled-jobs)).</span><span class="sxs-lookup"><span data-stu-id="fe57d-397">hello Batch service uses hello priority value of hello job toodetermine hello order of job scheduling within an account (this is not toobe confused with a [scheduled job](#scheduled-jobs)).</span></span> <span data-ttu-id="fe57d-398">hello 우선 순위 값의 범위는-1000 too1000에서,-1000으로 hello 가장 낮은 우선 순위가 고 1000 hello 최고 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-398">hello priority values range from -1000 too1000, with -1000 being hello lowest priority and 1000 being hello highest.</span></span> <span data-ttu-id="fe57d-399">작업을 호출 hello의 tooupdate hello 우선 순위 [hello는 작업의 속성 업데이트] [ rest_update_job] 작업 (일괄 처리 REST) 또는 hello 수정 [CloudJob.Priority] [ net_cloudjob_priority] 속성 (일괄 처리.NET).</span><span class="sxs-lookup"><span data-stu-id="fe57d-399">tooupdate hello priority of a job, call hello [Update hello properties of a job][rest_update_job] operation (Batch REST), or modify hello [CloudJob.Priority][net_cloudjob_priority] property (Batch .NET).</span></span>

<span data-ttu-id="fe57d-400">Hello 내에서 동일한 계정으로 우선 순위가 높은 작업에는 우선 순위가 낮은 작업 보다 우선 순위를 예약 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-400">Within hello same account, higher-priority jobs have scheduling precedence over lower-priority jobs.</span></span> <span data-ttu-id="fe57d-401">하나의 계정에서 우선 순위가 더 높은 작업이 다른 계정에서 우선 순위가 더 낮은 다른 작업보다 먼저 예약되는 것은 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-401">A job with a higher-priority value in one account does not have scheduling precedence over another job with a lower-priority value in a different account.</span></span>

<span data-ttu-id="fe57d-402">풀 간의 예약 작업은 서로 별개입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-402">Job scheduling across pools is independent.</span></span> <span data-ttu-id="fe57d-403">다양한 풀 사이에서, 연결된 풀에 유휴 노드가 부족한 경우 우선 순위가 높은 작업이 먼저 예약된다고 보장할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-403">Between different pools, it is not guaranteed that a higher-priority job is scheduled first if its associated pool is short of idle nodes.</span></span> <span data-ttu-id="fe57d-404">Hello에 동일한 풀 작업 hello로 동일한 우선 순위 수준을 예약 된의 수 있는 같은 기회를 갖게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-404">In hello same pool, jobs with hello same priority level have an equal chance of being scheduled.</span></span>

### <a name="scheduled-jobs"></a><span data-ttu-id="fe57d-405">Scheduled jobs</span><span class="sxs-lookup"><span data-stu-id="fe57d-405">Scheduled jobs</span></span>
<span data-ttu-id="fe57d-406">[작업 일정] [ rest_job_schedules] toocreate hello 일괄 처리 서비스 내에서 되풀이 작업을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-406">[Job schedules][rest_job_schedules] enable you toocreate recurring jobs within hello Batch service.</span></span> <span data-ttu-id="fe57d-407">작업 일정 toorun 작업 하 고 hello 작업 toobe 실행에 대 한 hello 사양을 포함 하는 시기를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-407">A job schedule specifies when toorun jobs and includes hello specifications for hello jobs toobe run.</span></span> <span data-ttu-id="fe57d-408">기간 hello 일정-의 hello 기간을 지정할 수 있습니다 및 때 hello 일정-이 고 기간을 예약 된 작업 hello 하는 동안 만들어지는 빈도.</span><span class="sxs-lookup"><span data-stu-id="fe57d-408">You can specify hello duration of hello schedule--how long and when hello schedule is in effect--and how frequently jobs are created during hello scheduled period.</span></span>

## <a name="task"></a><span data-ttu-id="fe57d-409">작업</span><span class="sxs-lookup"><span data-stu-id="fe57d-409">Task</span></span>
<span data-ttu-id="fe57d-410">태스크는 작업과 연결되는 계산의 단위입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-410">A task is a unit of computation that is associated with a job.</span></span> <span data-ttu-id="fe57d-411">노드에서 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-411">It runs on a node.</span></span> <span data-ttu-id="fe57d-412">작업 실행을 위한 tooa 노드 할당 되거나 노드에 사용할 수 있게 될 때까지 큐에 대기 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-412">Tasks are assigned tooa node for execution, or are queued until a node becomes free.</span></span> <span data-ttu-id="fe57d-413">간단히 말해서, 작업에서 실행 됩니다 하나 이상의 프로그램 또는 스크립트는 계산 노드 tooperform hello 수행 해야 작업.</span><span class="sxs-lookup"><span data-stu-id="fe57d-413">Put simply, a task runs one or more programs or scripts on a compute node tooperform hello work you need done.</span></span>

<span data-ttu-id="fe57d-414">태스크를 만들 때 다음을 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-414">When you create a task, you can specify:</span></span>

* <span data-ttu-id="fe57d-415">hello **명령줄** hello 작업에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-415">hello **command line** for hello task.</span></span> <span data-ttu-id="fe57d-416">이것이 hello 계산 노드에서 응용 프로그램 또는 스크립트를 실행 하는 hello 명령줄입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-416">This is hello command line that runs your application or script on hello compute node.</span></span>

    <span data-ttu-id="fe57d-417">명령줄 hello toonote 실제로 shell에서 실행 되지 않도록 유용 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-417">It is important toonote that hello command line does not actually run under a shell.</span></span> <span data-ttu-id="fe57d-418">따라서와 같은 셸 기능을 기본적으로 사용할 수 없습니다 [환경 변수](#environment-settings-for-tasks) 확장 (여기에 hello `PATH`).</span><span class="sxs-lookup"><span data-stu-id="fe57d-418">Therefore, it cannot natively take advantage of shell features like [environment variable](#environment-settings-for-tasks) expansion (this includes hello `PATH`).</span></span> <span data-ttu-id="fe57d-419">tootake 이점은 이러한 기능을 호출 해야 hello 명령줄에서 hello 셀에 등을 시작 하 여 `cmd.exe` Windows 노드에서 또는 `/bin/sh` Linux에서:</span><span class="sxs-lookup"><span data-stu-id="fe57d-419">tootake advantage of such features, you must invoke hello shell in hello command line--for example, by launching `cmd.exe` on Windows nodes or `/bin/sh` on Linux:</span></span>

    `cmd /c MyTaskApplication.exe %MY_ENV_VAR%`

    `/bin/sh -c MyTaskApplication $MY_ENV_VAR`

    <span data-ttu-id="fe57d-420">응용 프로그램 또는 스크립트에 속하지 않은 노드 hello 작업 필요 toorun `PATH` 환경 변수를 참조 하거나, hello 셸 hello 작업 명령줄에서 명시적으로 호출 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-420">If your tasks need toorun an application or script that is not in hello node's `PATH` or reference environment variables, invoke hello shell explicitly in hello task command line.</span></span>
* <span data-ttu-id="fe57d-421">**리소스 파일** hello 데이터 toobe 처리를 포함 하는 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-421">**Resource files** that contain hello data toobe processed.</span></span> <span data-ttu-id="fe57d-422">이러한 파일 된 hello 작업의 명령줄 실행 되기 전에 범용 Azure 저장소 계정에서 Blob 저장소에서 자동으로 복사 된 toohello 노드입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-422">These files are automatically copied toohello node from Blob storage in a general-purpose Azure Storage account before hello task's command line is executed.</span></span> <span data-ttu-id="fe57d-423">자세한 내용은 hello 섹션을 참조 하십시오. [시작 태스크](#start-task) 및 [파일 및 디렉터리](#files-and-directories)합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-423">For more information, see hello sections [Start task](#start-task) and [Files and directories](#files-and-directories).</span></span>
* <span data-ttu-id="fe57d-424">hello **환경 변수** 응용 프로그램에 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-424">hello **environment variables** that are required by your application.</span></span> <span data-ttu-id="fe57d-425">자세한 내용은 참조 hello [작업에 대 한 환경 설정을](#environment-settings-for-tasks) 섹션.</span><span class="sxs-lookup"><span data-stu-id="fe57d-425">For more information, see hello [Environment settings for tasks](#environment-settings-for-tasks) section.</span></span>
* <span data-ttu-id="fe57d-426">hello **제약 조건** 는 hello 아래의 작업을 실행 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-426">hello **constraints** under which hello task should execute.</span></span> <span data-ttu-id="fe57d-427">제약 조건 hello 최대 시간을 포함 하는 예를 들어 hello 작업 toorun, hello 최대 횟수 실패 한 작업을 재시도할 수 있으며 hello 최대 시간 hello 작업의 작업 디렉터리에 파일이 유지 되도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-427">For example, constraints include hello maximum time that hello task is allowed toorun, hello maximum number of times a failed task should be retried, and hello maximum time that files in hello task's working directory are retained.</span></span>
* <span data-ttu-id="fe57d-428">**응용 프로그램 패키지** toodeploy toohello 계산 노드는 hello 작업은 예약 된 toorun 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-428">**Application packages** toodeploy toohello compute node on which hello task is scheduled toorun.</span></span> <span data-ttu-id="fe57d-429">[응용 프로그램 패키지](#application-packages) 간소화 된 배포 및 작업을 실행 하는 hello 응용 프로그램의 버전 관리를 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-429">[Application packages](#application-packages) provide simplified deployment and versioning of hello applications that your tasks run.</span></span> <span data-ttu-id="fe57d-430">작업 수준 응용 프로그램 패키지는 다른 작업 한 풀에서 실행 되 고 작업이 완료 되 면 hello 풀 삭제 되지 않습니다 공유 풀 환경에 특히 유용 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-430">Task-level application packages are especially useful in shared-pool environments, where different jobs are run on one pool, and hello pool is not deleted when a job is completed.</span></span> <span data-ttu-id="fe57d-431">작업에 hello 풀 노드 보다 적은 작업 인 작업 응용 프로그램 패키지 응용 프로그램 작업을 실행 하는 배포 된 유일한 toohello 노드 이므로 데이터 전송을 최소화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-431">If your job has fewer tasks than nodes in hello pool, task application packages can minimize data transfer since your application is deployed only toohello nodes that run tasks.</span></span>

<span data-ttu-id="fe57d-432">또한 tootasks tooperform 계산 노드에서 정의 특별 한 작업을 수행 하는 hello도 제공 hello 일괄 처리 서비스에서:</span><span class="sxs-lookup"><span data-stu-id="fe57d-432">In addition tootasks you define tooperform computation on a node, hello following special tasks are also provided by hello Batch service:</span></span>

* [<span data-ttu-id="fe57d-433">시작 태스크</span><span class="sxs-lookup"><span data-stu-id="fe57d-433">Start task</span></span>](#start-task)
* [<span data-ttu-id="fe57d-434">작업 관리자 태스크</span><span class="sxs-lookup"><span data-stu-id="fe57d-434">Job manager task</span></span>](#job-manager-task)
* [<span data-ttu-id="fe57d-435">작업 준비 및 해제 태스크</span><span class="sxs-lookup"><span data-stu-id="fe57d-435">Job preparation and release tasks</span></span>](#job-preparation-and-release-tasks)
* [<span data-ttu-id="fe57d-436">MPI(다중 인스턴스 태스크)</span><span class="sxs-lookup"><span data-stu-id="fe57d-436">Multi-instance tasks (MPI)</span></span>](#multi-instance-tasks)
* [<span data-ttu-id="fe57d-437">작업 종속성</span><span class="sxs-lookup"><span data-stu-id="fe57d-437">Task dependencies</span></span>](#task-dependencies)

### <a name="start-task"></a><span data-ttu-id="fe57d-438">시작 태스크</span><span class="sxs-lookup"><span data-stu-id="fe57d-438">Start task</span></span>
<span data-ttu-id="fe57d-439">연결 하 여 한 **시작 작업** 풀을 사용 하 여 hello 운영 환경 노드를 준비할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-439">By associating a **start task** with a pool, you can prepare hello operating environment of its nodes.</span></span> <span data-ttu-id="fe57d-440">예를 들어 작업을 실행 하는 hello 응용 프로그램을 설치 하거나 백그라운드 프로세스를 시작 하는 등의 작업을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-440">For example, you can perform actions like installing hello applications that your tasks run or starting background processes.</span></span> <span data-ttu-id="fe57d-441">hello 시작 태스크-hello 풀에 남아 있는 기간과 같습니다 toohello 풀 및 다시 시작 하거나 이미지로 다시 설치할 때 추가 먼저 hello 노드는 때를 포함 하 여에 대 한 노드 시작 될 때마다 실행 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-441">hello start task runs every time a node starts, for as long as it remains in hello pool--including when hello node is first added toohello pool and when it is restarted or reimaged.</span></span>

<span data-ttu-id="fe57d-442">Hello 시작 작업의 기본 이점은 필요한 tooconfigure 되 hello 정보의 모든 계산 노드를 포함 하 고 작업 실행에 필요한 hello 응용 프로그램을 설치할 수는 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-442">A primary benefit of hello start task is that it can contain all of hello information that is necessary tooconfigure a compute node and install hello applications that are required for task execution.</span></span> <span data-ttu-id="fe57d-443">따라서 hello 풀의 노드 수를 늘리면 하기만 하면 hello 새 대상 노드 수를 지정 하는 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-443">Therefore, increasing hello number of nodes in a pool is as simple as specifying hello new target node count.</span></span> <span data-ttu-id="fe57d-444">hello 시작 태스크가 필요한 tooconfigure hello 새 노드를 사용 하도록 준비 작업을 허용 하기 위해 hello 일괄 처리 서비스 hello 정보를 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-444">hello start task provides hello Batch service hello information that is needed tooconfigure hello new nodes and get them ready for accepting tasks.</span></span>

<span data-ttu-id="fe57d-445">모든 Azure 일괄 처리 작업과 목록을 지정할 수와 **리소스 파일** 에 [Azure 저장소][azure_storage], 또한 tooa **명령줄** toobe 실행 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-445">As with any Azure Batch task, you can specify a list of **resource files** in [Azure Storage][azure_storage], in addition tooa **command line** toobe executed.</span></span> <span data-ttu-id="fe57d-446">hello 일괄 처리 서비스 먼저 hello 리소스 파일 toohello 노드 Azure 저장소에서 복사한 다음 hello 명령줄을 실행 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-446">hello Batch service first copies hello resource files toohello node from Azure Storage, and then runs hello command line.</span></span> <span data-ttu-id="fe57d-447">풀 시작 작업에 대 한 hello 파일 목록 hello 작업 응용 프로그램과 해당 종속성에 일반적으로 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-447">For a pool start task, hello file list typically contains hello task application and its dependencies.</span></span>

<span data-ttu-id="fe57d-448">그러나 hello 시작 태스크가 hello 계산 노드에서 실행 중인 모든 태스크에서 사용 하는 참조 데이터 toobe를 포함 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-448">However, hello start task could also include reference data toobe used by all tasks that are running on hello compute node.</span></span> <span data-ttu-id="fe57d-449">예를 들어 시작 작업의 명령줄을 수행할 수는 `robocopy` 작업 toocopy 응용 프로그램 파일 (리소스 파일로 지정 된 및 toohello 노드 다운로드) hello에서 시작 작업의 [작업 디렉터리](#files-and-directories) toohello [공유 폴더](#files-and-directories), 후 MSI를 실행 또는 `setup.exe`합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-449">For example, a start task's command line could perform a `robocopy` operation toocopy application files (which were specified as resource files and downloaded toohello node) from hello start task's [working directory](#files-and-directories) toohello [shared folder](#files-and-directories), and then run an MSI or `setup.exe`.</span></span>

<span data-ttu-id="fe57d-450">시작 작업 toocomplete hello에 대 한 일괄 처리 서비스 toowait hello에 대 한 일반적으로 바람직한 hello 노드 준비 toobe 할당 된 작업으로 간주 되기 전에 있지만이 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-450">It is typically desirable for hello Batch service toowait for hello start task toocomplete before considering hello node ready toobe assigned tasks, but you can configure this.</span></span>

<span data-ttu-id="fe57d-451">계산 노드에서 시작 태스크가 실패 하면 다음 hello hello 노드의 상태는 업데이트 된 tooreflect hello 실패 및 hello 노드 작업 할당 되지 않았습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-451">If a start task fails on a compute node, then hello state of hello node is updated tooreflect hello failure, and hello node is not assigned any tasks.</span></span> <span data-ttu-id="fe57d-452">시작 태스크의 명령줄에서 실행 된 hello 프로세스 0이 아닌 종료 코드를 반환 하는 경우 또는 저장소에서 해당 리소스 파일을 복사 하는 문제가 있는 경우에 실패할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-452">A start task can fail if there is an issue copying its resource files from storage, or if hello process executed by its command line returns a nonzero exit code.</span></span>

<span data-ttu-id="fe57d-453">를 추가 하거나 기존 풀에 대 한 hello 시작 작업을 업데이트 하는 경우에 hello 시작 작업 적용 toobe toohello 노드는 계산 노드를 다시 부팅 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-453">If you add or update hello start task for an existing pool, you must reboot its compute nodes for hello start task toobe applied toohello nodes.</span></span>

>[!NOTE]
> <span data-ttu-id="fe57d-454">hello 시작 태스크의 총 크기 해야 보다 작거나 같은 too32768 문자를 리소스 파일 및 환경 변수를 포함 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-454">hello total size of a start task must be less than or equal too32768 characters, including resource files and environment variables.</span></span> <span data-ttu-id="fe57d-455">tooensure 시작 작업에이 요구 사항을 충족 하는지, 두 가지 방법 중 하나를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-455">tooensure that your start task meets this requirement, you can use one of two approaches:</span></span>
>
> 1. <span data-ttu-id="fe57d-456">일괄 처리 풀의 각 노드에서 응용 프로그램 패키지 toodistribute 응용 프로그램이 나 데이터를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-456">You can use application packages toodistribute applications or data across each node in your Batch pool.</span></span> <span data-ttu-id="fe57d-457">응용 프로그램 패키지에 대 한 자세한 내용은 참조 [일괄 처리 응용 프로그램 패키지와 응용 프로그램 toocompute 노드를 배포할](batch-application-packages.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-457">For more information about application packages, see [Deploy applications toocompute nodes with Batch application packages](batch-application-packages.md).</span></span>
> 2. <span data-ttu-id="fe57d-458">응용 프로그램 파일이 포함된 압축 보관 파일을 수동으로 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-458">You can manually create a zipped archive containing your applications files.</span></span> <span data-ttu-id="fe57d-459">압축 된 보관 tooAzure 저장소에 blob으로 업로드 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-459">Upload your zipped archive tooAzure Storage as a blob.</span></span> <span data-ttu-id="fe57d-460">시작 작업에 대 한 리소스 파일로 압축 하는 hello 보관 파일을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-460">Specify hello zipped archive as a resource file for your start task.</span></span> <span data-ttu-id="fe57d-461">시작 작업에 대 한 hello 명령줄을 실행 하기 전에 hello 명령줄에서 hello 보관을 압축을 풉니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-461">Before you run hello command line for your start task, unzip hello archive from hello command line.</span></span> 
>
>    <span data-ttu-id="fe57d-462">toounzip hello 보관 hello 보관 선택한 도구를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-462">toounzip hello archive, you can use hello archiving tool of your choice.</span></span> <span data-ttu-id="fe57d-463">Toounzip hello 아카이브를 사용 하 여 hello 시작 작업에 대 한 리소스 파일로 tooinclude hello 도구가 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-463">You will need tooinclude hello tool that you use toounzip hello archive as a resource file for hello start task.</span></span>
>
>

### <a name="job-manager-task"></a><span data-ttu-id="fe57d-464">작업 관리자 태스크</span><span class="sxs-lookup"><span data-stu-id="fe57d-464">Job manager task</span></span>
<span data-ttu-id="fe57d-465">일반적으로 사용 된 **작업 관리자 태스크가** toocontrol 및/또는 모니터 실행--예를 들어 toocreate 작업 및 작업에 대 한 hello 작업 제출, 추가 작업 toorun 확인 및 작업 완료 되는 시점을 결정 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-465">You typically use a **job manager task** toocontrol and/or monitor job execution--for example, toocreate and submit hello tasks for a job, determine additional tasks toorun, and determine when work is complete.</span></span> <span data-ttu-id="fe57d-466">그러나 작업 관리자 태스크가 제한 toothese 활동 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-466">However, a job manager task is not restricted toothese activities.</span></span> <span data-ttu-id="fe57d-467">된 hello 작업에 필요한 모든 작업을 수행할 수 있는 완전 한 작업입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-467">It is a fully fledged task that can perform any actions that are required for hello job.</span></span> <span data-ttu-id="fe57d-468">예를 들어 작업 관리자 태스크 수 매개 변수로 지정 된 파일을 다운로드, 그 파일의 hello 내용을 분석 및 해당 내용에 따라 추가 작업을 제출 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-468">For example, a job manager task might download a file that is specified as a parameter, analyze hello contents of that file, and submit additional tasks based on those contents.</span></span>

<span data-ttu-id="fe57d-469">작업 관리자 태스크는 다른 모든 작업이 시작되기 전에 시작됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-469">A job manager task is started before all other tasks.</span></span> <span data-ttu-id="fe57d-470">Hello를 같은 기능을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-470">It provides hello following features:</span></span>

* <span data-ttu-id="fe57d-471">자동으로 변수로 제출 된 작업 일괄 처리 서비스 hello 하 여 hello 작업이 만들어질 때.</span><span class="sxs-lookup"><span data-stu-id="fe57d-471">It is automatically submitted as a task by hello Batch service when hello job is created.</span></span>
* <span data-ttu-id="fe57d-472">것은 예약 된 tooexecute hello 하기 전에 작업의 다른 작업이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-472">It is scheduled tooexecute before hello other tasks in a job.</span></span>
* <span data-ttu-id="fe57d-473">연결 된 해당 노드는 hello 마지막 toobe hello 풀 downsized 되는 경우 풀에서 제거 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-473">Its associated node is hello last toobe removed from a pool when hello pool is being downsized.</span></span>
* <span data-ttu-id="fe57d-474">해당 종료 hello 작업의 모든 작업의 제한은 toohello 종료 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-474">Its termination can be tied toohello termination of all tasks in hello job.</span></span>
* <span data-ttu-id="fe57d-475">작업 관리자 태스크가 toobe 다시 시작 해야 하는 경우 우선 순위가 가장 높은 hello 제공 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-475">A job manager task is given hello highest priority when it needs toobe restarted.</span></span> <span data-ttu-id="fe57d-476">유휴 노드를 사용할 수 없는 경우 hello 일괄 처리 서비스 종료 될 수 있습니다 하나 hello 작업 관리자 태스크 toorun hello에 대 한 hello 풀 toomake 공간에서 실행 중인 다른 작업입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-476">If an idle node is not available, hello Batch service might terminate one of hello other running tasks in hello pool toomake room for hello job manager task toorun.</span></span>
* <span data-ttu-id="fe57d-477">다른 작업의 hello 작업을 통해 하나의 작업에서 작업 관리자 태스크 우선 순위를 않아도 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-477">A job manager task in one job does not have priority over hello tasks of other jobs.</span></span> <span data-ttu-id="fe57d-478">작업 간에는 작업 수준 우선 순위만 준수됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-478">Across jobs, only job-level priorities are observed.</span></span>

### <a name="job-preparation-and-release-tasks"></a><span data-ttu-id="fe57d-479">작업 준비 및 해제 태스크</span><span class="sxs-lookup"><span data-stu-id="fe57d-479">Job preparation and release tasks</span></span>
<span data-ttu-id="fe57d-480">Batch는 사전 작업 실행 설치를 위한 작업 준비 태스크를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-480">Batch provides job preparation tasks for pre-job execution setup.</span></span> <span data-ttu-id="fe57d-481">작업 릴리스 태스크는 사후 작업 유지 관리 또는 정리를 위한 작업입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-481">Job release tasks are for post-job maintenance or cleanup.</span></span>

* <span data-ttu-id="fe57d-482">**태스크를 준비 하는 작업**: toorun 예약 된 작업 인 모든 계산 노드에서 작업 준비 작업 실행, 이전 hello에 다른 작업 실행 태스크가 실행 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-482">**Job preparation task**: A job preparation task runs on all compute nodes that are scheduled toorun tasks, before any of hello other job tasks are executed.</span></span> <span data-ttu-id="fe57d-483">모든 작업에서 공유 하지만 예를 들어 고유 toohello 작업은 작업 준비 작업 toocopy 데이터를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-483">You can use a job preparation task toocopy data that is shared by all tasks, but is unique toohello job, for example.</span></span>
* <span data-ttu-id="fe57d-484">**작업 그룹 작업**: 작업이 완료 되 면 작업 릴리스 작업이 하나 이상의 작업을 실행 하는 hello 풀의 각 노드에서 실행 되는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-484">**Job release task**: When a job has completed, a job release task runs on each node in hello pool that executed at least one task.</span></span> <span data-ttu-id="fe57d-485">예를 들어 hello 작업 준비 작업으로 복사 하는 작업 릴리스 작업 toodelete 데이터 또는 toocompress 및 업로드 진단 로그 데이터를을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-485">You can use a job release task toodelete data that is copied by hello job preparation task, or toocompress and upload diagnostic log data, for example.</span></span>

<span data-ttu-id="fe57d-486">준비 작업 둘 다, 릴리스 작업 수 toospecify 명령줄 toorun hello 작업을 호출 하는 경우.</span><span class="sxs-lookup"><span data-stu-id="fe57d-486">Both job preparation and release tasks allow you toospecify a command line toorun when hello task is invoked.</span></span> <span data-ttu-id="fe57d-487">파일 다운로드, 상승된 권한 실행, 사용자 지정 환경 변수, 최대 실행 기간, 재시도 횟수 및 파일 보존 시간 등의 기능을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-487">They offer features like file download, elevated execution, custom environment variables, maximum execution duration, retry count, and file retention time.</span></span>

<span data-ttu-id="fe57d-488">작업 준비 및 해제 태스크에 대한 자세한 내용은 [Azure Batch 계산 노드에서 작업 준비 및 완료 태스크 실행](batch-job-prep-release.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="fe57d-488">For more information on job preparation and release tasks, see [Run job preparation and completion tasks on Azure Batch compute nodes](batch-job-prep-release.md).</span></span>

### <a name="multi-instance-task"></a><span data-ttu-id="fe57d-489">다중 인스턴스 태스크</span><span class="sxs-lookup"><span data-stu-id="fe57d-489">Multi-instance task</span></span>
<span data-ttu-id="fe57d-490">A [다중 인스턴스 작업](batch-mpi.md) 동시에 둘 이상의 계산 노드에 대해 구성 된 toorun 되는 작업입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-490">A [multi-instance task](batch-mpi.md) is a task that is configured toorun on more than one compute node simultaneously.</span></span> <span data-ttu-id="fe57d-491">다중 인스턴스 작업을 성능 우선을 사용할 수 있습니다는 계산 노드 그룹을 필요로 하는 컴퓨팅 시나리오 함께 할당 tooprocess 단일 작업 (같은 인터페이스 MPI (Message Passing)).</span><span class="sxs-lookup"><span data-stu-id="fe57d-491">With multi-instance tasks, you can enable high-performance computing scenarios that require a group of compute nodes that are allocated together tooprocess a single workload (like Message Passing Interface (MPI)).</span></span>

<span data-ttu-id="fe57d-492">에 대 한 자세한 내용은 hello 일괄 처리.NET 라이브러리를 사용 하 여 MPI 작업 일괄 처리의 실행을 체크 아웃 [toorun 인터페이스 MPI (Message Passing) 응용 프로그램을 Azure 일괄 처리의 작업을 사용 하 여 다중 인스턴스](batch-mpi.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-492">For a detailed discussion on running MPI jobs in Batch by using hello Batch .NET library, check out [Use multi-instance tasks toorun Message Passing Interface (MPI) applications in Azure Batch](batch-mpi.md).</span></span>

### <a name="task-dependencies"></a><span data-ttu-id="fe57d-493">작업 종속성</span><span class="sxs-lookup"><span data-stu-id="fe57d-493">Task dependencies</span></span>
<span data-ttu-id="fe57d-494">[작업 종속성](batch-task-dependencies.md), 이름에서 알 수 hello로, 작업을 실행 하기 전에 다른 작업의 hello 완료에 따라 달라 지는 toospecify를 허용 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-494">[Task dependencies](batch-task-dependencies.md), as hello name implies, allow you toospecify that a task depends on hello completion of other tasks before its execution.</span></span> <span data-ttu-id="fe57d-495">이 기능은 "다운스트림" 태스크는 업스트림 작업 다운스트림 태스크에 필요한 일부 초기화를 수행 하는 경우 또는 "업스트림" 작업-의 hello 출력을 사용 하는 상황에 대 한 지원을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-495">This feature provides support for situations in which a "downstream" task consumes hello output of an "upstream" task--or when an upstream task performs some initialization that is required by a downstream task.</span></span> <span data-ttu-id="fe57d-496">toouse 일괄 작업에서 첫 번째 사용 작업 종속성을 해야이 기능을 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-496">toouse this feature, you must first enable task dependencies on your Batch job.</span></span> <span data-ttu-id="fe57d-497">다른 종속 된 각 작업에 대 한 다음 (또는 다른 많은), 해당 작업에 따라 달라 지는 hello 작업을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-497">Then, for each task that depends on another (or many others), you specify hello tasks which that task depends on.</span></span>

<span data-ttu-id="fe57d-498">작업 종속성이 있는 hello 다음과 같은 시나리오를 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-498">With task dependencies, you can configure scenarios like hello following:</span></span>

* <span data-ttu-id="fe57d-499">*taskB*가 *taskA*에 종속됨(*taskB*는 *taskA*가 완료될 때까지 실행을 시작하지 않음)</span><span class="sxs-lookup"><span data-stu-id="fe57d-499">*taskB* depends on *taskA* (*taskB* will not begin execution until *taskA* has completed).</span></span>
* <span data-ttu-id="fe57d-500">*taskC*는 *taskA* 및 *taskB*에 종속됨</span><span class="sxs-lookup"><span data-stu-id="fe57d-500">*taskC* depends on both *taskA* and *taskB*.</span></span>
* <span data-ttu-id="fe57d-501">*taskD*는 실행하기 전에 태스크 범위(예: 태스크 *1*~*10*)에 종속됨</span><span class="sxs-lookup"><span data-stu-id="fe57d-501">*taskD* depends on a range of tasks, such as tasks *1* through *10*, before it executes.</span></span>

<span data-ttu-id="fe57d-502">체크 아웃 [Azure 배치의 종속성 작업](batch-task-dependencies.md) 및 hello [TaskDependencies] [ github_sample_taskdeps] hello에 대 한 코드 샘플 [azure 일괄 처리-샘플] [ github_samples] 깊이 있는 자세한 정보도이 기능에 대 한 GitHub 리포지토리 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-502">Check out [Task dependencies in Azure Batch](batch-task-dependencies.md) and hello [TaskDependencies][github_sample_taskdeps] code sample in hello [azure-batch-samples][github_samples] GitHub repository for more in-depth details on this feature.</span></span>

## <a name="environment-settings-for-tasks"></a><span data-ttu-id="fe57d-503">태스크에 대한 환경 설정</span><span class="sxs-lookup"><span data-stu-id="fe57d-503">Environment settings for tasks</span></span>
<span data-ttu-id="fe57d-504">일괄 처리 서비스 hello로 실행 된 각 작업에는 계산 노드에서 설정 하는 액세스 tooenvironment 변수가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-504">Each task executed by hello Batch service has access tooenvironment variables that it sets on compute nodes.</span></span> <span data-ttu-id="fe57d-505">여기에 hello 일괄 처리 서비스에 정의 된 환경 변수 ([서비스 정의][msdn_env_vars]) 및 사용자 정의 환경 변수를 작업에 대해 정의할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-505">This includes environment variables defined by hello Batch service ([service-defined][msdn_env_vars]) and custom environment variables that you can define for your tasks.</span></span> <span data-ttu-id="fe57d-506">hello 응용 프로그램 및 작업을 실행 하는 스크립트 실행 하는 동안 toothese 환경 변수 액세스 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-506">hello applications and scripts your tasks execute have access toothese environment variables during execution.</span></span>

<span data-ttu-id="fe57d-507">Hello 채워 hello 태스크 또는 작업 수준에서 사용자 정의 환경 변수를 설정할 수 *환경 설정* 이러한 엔터티에 대 한 속성.</span><span class="sxs-lookup"><span data-stu-id="fe57d-507">You can set custom environment variables at hello task or job level by populating hello *environment settings* property for these entities.</span></span> <span data-ttu-id="fe57d-508">예를 들어 hello 참조 [작업 tooa 작업에 추가할] [ rest_add_task] 작업 (배치 REST API) 또는 hello [CloudTask.EnvironmentSettings] [ net_cloudtask_env] 및 [ CloudJob.CommonEnvironmentSettings] [ net_job_env] 일괄 처리.net에서 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-508">For example, see hello [Add a task tooa job][rest_add_task] operation (Batch REST API), or hello [CloudTask.EnvironmentSettings][net_cloudtask_env] and [CloudJob.CommonEnvironmentSettings][net_job_env] properties in Batch .NET.</span></span>

<span data-ttu-id="fe57d-509">클라이언트 응용 프로그램 또는 서비스 hello를 사용 하 여 서비스 정의 및 사용자 지정 작업의 환경 변수를 가져올 수 [작업에 대 한 정보를 가져올] [ rest_get_task_info] 작업 (일괄 처리 REST) 또는 액세스 하 여 hello [CloudTask.EnvironmentSettings] [ net_cloudtask_env] 속성 (일괄 처리.NET).</span><span class="sxs-lookup"><span data-stu-id="fe57d-509">Your client application or service can obtain a task's environment variables, both service-defined and custom, by using hello [Get information about a task][rest_get_task_info] operation (Batch REST) or by accessing hello [CloudTask.EnvironmentSettings][net_cloudtask_env] property (Batch .NET).</span></span> <span data-ttu-id="fe57d-510">이러한 계산 노드에서 실행 중인 프로세스에 액세스할 수 있으며 hello 노드에 대 한 다른 환경 변수를 사용 하 여 hello 친숙 한 `%VARIABLE_NAME%` (Windows) 또는 `$VARIABLE_NAME` (Linux) 구문입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-510">Processes executing on a compute node can access these and other environment variables on hello node, for example, by using hello familiar `%VARIABLE_NAME%` (Windows) or `$VARIABLE_NAME` (Linux) syntax.</span></span>

<span data-ttu-id="fe57d-511">[Compute 노드 환경 변수][msdn_env_vars]에서 모든 서비스 정의 환경 변수의 전체 목록을 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-511">You can find a full list of all service-defined environment variables in [Compute node environment variables][msdn_env_vars].</span></span>

## <a name="files-and-directories"></a><span data-ttu-id="fe57d-512">파일 및 디렉터리</span><span class="sxs-lookup"><span data-stu-id="fe57d-512">Files and directories</span></span>
<span data-ttu-id="fe57d-513">각 태스크에는 *작업 디렉터리*가 있으며 여기서 0개 이상의 파일 및 디렉터리를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-513">Each task has a *working directory* under which it creates zero or more files and directories.</span></span> <span data-ttu-id="fe57d-514">작업 디렉터리가 hello 작업을 처리 하는 hello 데이터에서 실행 되는 hello 프로그램을 저장 하는 데 사용할 수 및 hello 출력 hello 처리를 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-514">This working directory can be used for storing hello program that is run by hello task, hello data that it processes, and hello output of hello processing it performs.</span></span> <span data-ttu-id="fe57d-515">모든 파일 및 디렉터리 작업의 hello 작업 사용자가 소유 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-515">All files and directories of a task are owned by hello task user.</span></span>

<span data-ttu-id="fe57d-516">hello 일괄 처리 서비스는 hello와 노드에 hello 파일 시스템의 일부를 노출 *루트 디렉터리*합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-516">hello Batch service exposes a portion of hello file system on a node as hello *root directory*.</span></span> <span data-ttu-id="fe57d-517">작업 hello를 참조 하 여 hello 루트 디렉터리에 액세스할 수 `AZ_BATCH_NODE_ROOT_DIR` 환경 변수입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-517">Tasks can access hello root directory by referencing hello `AZ_BATCH_NODE_ROOT_DIR` environment variable.</span></span> <span data-ttu-id="fe57d-518">환경 변수 사용에 대한 자세한 내용은 [태스크에 대한 환경 설정](#environment-settings-for-tasks)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="fe57d-518">For more information about using environment variables, see [Environment settings for tasks](#environment-settings-for-tasks).</span></span>

<span data-ttu-id="fe57d-519">hello 루트 디렉터리에 디렉터리 구조를 다음 hello를 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-519">hello root directory contains hello following directory structure:</span></span>

![Compute 노드 디렉터리 구조][1]

* <span data-ttu-id="fe57d-521">**공유**:이 디렉터리에서 읽기/쓰기 액세스를 너무 제공*모든* 노드에서 실행 하는 작업입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-521">**shared**: This directory provides read/write access too*all* tasks that run on a node.</span></span> <span data-ttu-id="fe57d-522">Hello 노드에서 실행 되는 모든 작업 수 만들기, 읽기, 업데이트, 및이 디렉터리의 파일을 삭제 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-522">Any task that runs on hello node can create, read, update, and delete files in this directory.</span></span> <span data-ttu-id="fe57d-523">작업 hello를 참조 하 여이 디렉터리에 액세스할 수 `AZ_BATCH_NODE_SHARED_DIR` 환경 변수입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-523">Tasks can access this directory by referencing hello `AZ_BATCH_NODE_SHARED_DIR` environment variable.</span></span>
* <span data-ttu-id="fe57d-524">**startup**: 이 디렉터리는 시작 태스크에서 작업 디렉터리로 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-524">**startup**: This directory is used by a start task as its working directory.</span></span> <span data-ttu-id="fe57d-525">모든 hello 파일을 다운로드 한 toohello 노드 hello 시작 작업은 여기에 저장 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-525">All of hello files that are downloaded toohello node by hello start task are stored here.</span></span> <span data-ttu-id="fe57d-526">hello 시작 태스크 수 만들기, 읽기, 업데이트, 및이 디렉터리에 파일을 삭제 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-526">hello start task can create, read, update, and delete files under this directory.</span></span> <span data-ttu-id="fe57d-527">작업 hello를 참조 하 여이 디렉터리에 액세스할 수 `AZ_BATCH_NODE_STARTUP_DIR` 환경 변수입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-527">Tasks can access this directory by referencing hello `AZ_BATCH_NODE_STARTUP_DIR` environment variable.</span></span>
* <span data-ttu-id="fe57d-528">**작업**: hello 노드에서 실행 되는 각 작업에 대 한 디렉터리가 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-528">**Tasks**: A directory is created for each task that runs on hello node.</span></span> <span data-ttu-id="fe57d-529">Hello를 참조 하 여 액세스 하는 것 `AZ_BATCH_TASK_DIR` 환경 변수입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-529">It is accessed by referencing hello `AZ_BATCH_TASK_DIR` environment variable.</span></span>

    <span data-ttu-id="fe57d-530">각 작업 디렉터리 내에서 hello 일괄 처리 서비스는 작업 디렉터리를 만듭니다 (`wd`) hello에 의해 지정 된 해당 고유 경로 `AZ_BATCH_TASK_WORKING_DIR` 환경 변수입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-530">Within each task directory, hello Batch service creates a working directory (`wd`) whose unique path is specified by hello `AZ_BATCH_TASK_WORKING_DIR` environment variable.</span></span> <span data-ttu-id="fe57d-531">이 디렉터리는 읽기/쓰기 액세스 toohello 작업을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-531">This directory provides read/write access toohello task.</span></span> <span data-ttu-id="fe57d-532">hello 작업 수 만들기, 읽기, 업데이트, 및이 디렉터리에 파일을 삭제 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-532">hello task can create, read, update, and delete files under this directory.</span></span> <span data-ttu-id="fe57d-533">이 디렉터리는 hello에 따라 유지 되는 *RetentionTime* hello 작업에 대해 지정 된 제약 조건입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-533">This directory is retained based on hello *RetentionTime* constraint that is specified for hello task.</span></span>

    <span data-ttu-id="fe57d-534">`stdout.txt`및 `stderr.txt`: 이러한 파일 중 hello 태스크의 실행 hello toohello 작업 폴더에 기록 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-534">`stdout.txt` and `stderr.txt`: These files are written toohello task folder during hello execution of hello task.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="fe57d-535">노드 hello 풀에서 제거 되 면 *모든* hello의 hello 노드에 저장 된 파일을 제거 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-535">When a node is removed from hello pool, *all* of hello files that are stored on hello node are removed.</span></span>
>
>

## <a name="application-packages"></a><span data-ttu-id="fe57d-536">응용 프로그램 패키지</span><span class="sxs-lookup"><span data-stu-id="fe57d-536">Application packages</span></span>
<span data-ttu-id="fe57d-537">hello [응용 프로그램 패키지](batch-application-packages.md) 기능을 쉽게 관리 및 응용 프로그램의 배포 toohello 계산 노드가 제공 풀에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-537">hello [application packages](batch-application-packages.md) feature provides easy management and deployment of applications toohello compute nodes in your pools.</span></span> <span data-ttu-id="fe57d-538">업로드 하 고 및가 이진 파일을 포함 하 여 작업을 하 여 여러 버전의 응용 프로그램을 실행 하는 hello 관리 하 고, 지원 파일 수입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-538">You can upload and manage multiple versions of hello applications run by your tasks, including their binaries and support files.</span></span> <span data-ttu-id="fe57d-539">다음 자동으로 배포할 수 있습니다 또는 이러한 응용 프로그램 toohello 중 풀의 노드를 계산 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-539">Then you can automatically deploy one or more of these applications toohello compute nodes in your pool.</span></span>

<span data-ttu-id="fe57d-540">Hello 풀 및 작업 수준에서 응용 프로그램 패키지를 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-540">You can specify application packages at hello pool and task level.</span></span> <span data-ttu-id="fe57d-541">풀의 응용 프로그램 패키지를 지정 하면 hello 응용 프로그램은 hello 풀에서 배포 된 tooevery 노드입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-541">When you specify pool application packages, hello application is deployed tooevery node in hello pool.</span></span> <span data-ttu-id="fe57d-542">작업 응용 프로그램 패키지를 지정 하면 hello 응용 프로그램은 배포 된 유일한 toonodes hello 수행 하는 작업의 예약 된 toorun 하나 이상 있는, hello 하기 바로 전에 태스크의 명령줄이 실행 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-542">When you specify task application packages, hello application is deployed only toonodes that are scheduled toorun at least one of hello job's tasks, just before hello task's command line is run.</span></span>

<span data-ttu-id="fe57d-543">일괄 처리 핸들 hello Azure 저장소 toostore 응용 프로그램 패키지 작업의 세부 정보 및 사용자 코드 및 관리 오버 헤드를 간소화할 수 있도록 toocompute 노드를 배포 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-543">Batch handles hello details of working with Azure Storage toostore your application packages and deploy them toocompute nodes, so both your code and management overhead can be simplified.</span></span>

<span data-ttu-id="fe57d-544">toofind hello 응용 프로그램 패키지 기능에 대 한 자세한 내용을 확인해 보세요 [일괄 처리 응용 프로그램 패키지와 응용 프로그램 toocompute 노드를 배포할](batch-application-packages.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-544">toofind out more about hello application package feature, check out [Deploy applications toocompute nodes with Batch application packages](batch-application-packages.md).</span></span>

> [!NOTE]
> <span data-ttu-id="fe57d-545">응용 프로그램 패키지 tooan 풀을 추가 하는 경우 *기존* 풀 hello 응용 프로그램 패키지 배포 toobe toohello 노드는 계산 노드를 다시 부팅 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-545">If you add pool application packages tooan *existing* pool, you must reboot its compute nodes for hello application packages toobe deployed toohello nodes.</span></span>
>
>

## <a name="pool-and-compute-node-lifetime"></a><span data-ttu-id="fe57d-546">풀 및 계산 노드 수명</span><span class="sxs-lookup"><span data-stu-id="fe57d-546">Pool and compute node lifetime</span></span>
<span data-ttu-id="fe57d-547">Azure 일괄 처리 솔루션을 디자인할 때 한 toomake 방법에 대 한 디자인을 결정 하며 풀 생성 된 해당 풀 내의 노드 수 있는 상태로 유지 된 시간 계산 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-547">When you design your Azure Batch solution, you have toomake a design decision about how and when pools are created, and how long compute nodes within those pools are kept available.</span></span>

<span data-ttu-id="fe57d-548">Hello 스펙트럼의 한쪽 끝에 제출 하면 각 작업에 대 한 풀을 만들고 작업 실행이 완료 되는 즉시 hello 풀을 삭제 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-548">On one end of hello spectrum, you can create a pool for each job that you submit, and delete hello pool as soon as its tasks finish execution.</span></span> <span data-ttu-id="fe57d-549">이 hello 노드 필요 하 고 자신이 유휴 상태가 되는 즉시 종료 될 때만 할당 되기 때문에 사용률을 최대화 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-549">This maximizes utilization because hello nodes are only allocated when needed, and shut down as soon as they're idle.</span></span> <span data-ttu-id="fe57d-550">즉, hello 작업 기다린 hello 노드 toobe 할당에 대 한 중요 한 toonote 작업 노드를 개별적으로 사용할 수 있는 할당 되는 즉시 실행을 예약 및 hello 하는 동안에 시작 작업이 완료 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-550">While this means that hello job must wait for hello nodes toobe allocated, it's important toonote that tasks are scheduled for execution as soon as nodes are individually available, allocated, and hello start task has completed.</span></span> <span data-ttu-id="fe57d-551">일괄 처리는 *하지* toohello 노드 작업을 할당 하기 전에 사용할 수 있는 풀 내 모든 노드가 될 때까지 기다립니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-551">Batch does *not* wait until all nodes within a pool are available before assigning tasks toohello nodes.</span></span> <span data-ttu-id="fe57d-552">이렇게 하면 사용 가능한 모든 노드의 최대 사용률을 보장합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-552">This ensures maximum utilization of all available nodes.</span></span>

<span data-ttu-id="fe57d-553">Hello에 hello 스펙트럼의 다른 쪽 끝 즉시 시작 하는 작업은 우선 순위가 가장 높은 hello 경우 미리 풀을 만들 있고 작업 제출 하려면 먼저 해당 노드를 사용할 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-553">At hello other end of hello spectrum, if having jobs start immediately is hello highest priority, you can create a pool ahead of time and make its nodes available before jobs are submitted.</span></span> <span data-ttu-id="fe57d-554">이 시나리오에서는 작업을 즉시 시작 되지만 노드 수 유휴을 기다리는 동안 toobe 할당 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-554">In this scenario, tasks can start immediately, but nodes might sit idle while waiting for them toobe assigned.</span></span>

<span data-ttu-id="fe57d-555">통합 접근 방식은 일반적으로 가변적이지만 지속적인 부하를 처리하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-555">A combined approach is typically used for handling a variable, but ongoing, load.</span></span> <span data-ttu-id="fe57d-556">여러 작업에 제출 되어 있지만 toohello 작업 부하에 따라 위아래로 hello 노드 수를 확장할 수는 풀을 사용할 수 있습니다 (참조 [배율 계산 리소스](#scaling-compute-resources) hello 섹션 다음에).</span><span class="sxs-lookup"><span data-stu-id="fe57d-556">You can have a pool that multiple jobs are submitted to, but can scale hello number of nodes up or down according toohello job load (see [Scaling compute resources](#scaling-compute-resources) in hello following section).</span></span> <span data-ttu-id="fe57d-557">이는 현재 부하에 따라 사후 대응적으로 수행하거나 부하를 예측할 수 있는 경우 사전 대응적으로 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-557">You can do this reactively, based on current load, or proactively, if load can be predicted.</span></span>

## <a name="virtual-network-vnet-and-firewall-configuration"></a><span data-ttu-id="fe57d-558">VNet(가상 네트워크) 및 방화벽 구성</span><span class="sxs-lookup"><span data-stu-id="fe57d-558">Virtual network (VNet) and firewall configuration</span></span> 

<span data-ttu-id="fe57d-559">Azure 일괄 처리의 계산 노드는 풀의 프로 비전 할 때 hello 풀을 Azure의 서브넷과 연결할 수 있습니다 [가상 네트워크 (VNet)](../virtual-network/virtual-networks-overview.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-559">When you provision a pool of compute nodes in Azure Batch, you can associate hello pool with a subnet of an Azure [virtual network (VNet)](../virtual-network/virtual-networks-overview.md).</span></span> <span data-ttu-id="fe57d-560">서브넷을 사용 하 여 VNet 만들기에 대해 자세히 toolearn 참조 [Azure 가상 네트워크 서브넷 만들기](../virtual-network/virtual-networks-create-vnet-arm-pportal.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-560">toolearn more about creating a VNet with subnets, see [Create an Azure virtual network with subnets](../virtual-network/virtual-networks-create-vnet-arm-pportal.md).</span></span> 

 * <span data-ttu-id="fe57d-561">풀에 연결 된 VNet hello 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-561">hello VNet associated with a pool must be:</span></span>

   * <span data-ttu-id="fe57d-562">동일한 Azure hello **지역** hello Azure 배치 계정으로 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-562">In hello same Azure **region** as hello Azure Batch account.</span></span>
   * <span data-ttu-id="fe57d-563">동일한 hello **구독** hello Azure 배치 계정으로 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-563">In hello same **subscription** as hello Azure Batch account.</span></span>

* <span data-ttu-id="fe57d-564">hello 유형의 VNet 지원 hello 일괄 처리 계정에 대 한 풀 할당 방법에 따라 달라 집니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-564">hello type of VNet supported depends on how pools are being allocated for hello Batch account:</span></span>

    - <span data-ttu-id="fe57d-565">일괄 처리 계정에 대 한 hello 풀 할당 모드가 tooBatch 서비스를 설정 된 경우 hello를 사용 하 여 만든 VNet 유일한 toopools를 할당할 수 있습니다 **클라우드 서비스 구성**합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-565">If hello pool allocation mode for your Batch account is set tooBatch Service, then you can assign a VNet only toopools created with hello **Cloud Services Configuration**.</span></span> <span data-ttu-id="fe57d-566">또한 hello 지정 VNet hello 클래식 배포 모델을 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-566">Additionally, hello specified VNet must be created with hello classic deployment model.</span></span> <span data-ttu-id="fe57d-567">Vnet hello Azure 리소스 관리자 배포 모델을 사용 하 여 만든 지원 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-567">VNets created with hello Azure Resource Manager deployment model are not supported.</span></span>
 
    - <span data-ttu-id="fe57d-568">배치 계정에 대 한 hello 풀 할당 모드 tooUser 구독을 설정 되어 있으면 hello를 사용 하 여 만든 VNet 유일한 toopools를 할당할 수 있습니다 **가상 컴퓨터 구성**합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-568">If hello pool allocation mode for your Batch account is set tooUser Subscription, then you can assign a VNet only toopools created with hello **Virtual Machine Configuration**.</span></span> <span data-ttu-id="fe57d-569">Hello를 사용 하 여 만든 풀 **클라우드 서비스 구성** 지원 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-569">Pools created with hello **Cloud Service Configuration** are not supported.</span></span> <span data-ttu-id="fe57d-570">hello hello Azure 리소스 관리자 배포 모델 또는 hello 클래식 배포 모델와 연결 된 VNet을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-570">hello associated VNet may be created with either hello Azure Resource Manager deployment model or hello classic deployment model.</span></span>

    <span data-ttu-id="fe57d-571">VNet 지원을 요약 테이블에 대 한 hello 참조 toopool 할당 모드에 따라 [풀 할당 모드](#pool-allocation-mode) 섹션.</span><span class="sxs-lookup"><span data-stu-id="fe57d-571">For a table summarizing VNet support according toopool allocation mode, see hello [Pool allocation mode](#pool-allocation-mode) section.</span></span>

* <span data-ttu-id="fe57d-572">TooBatch 서비스에서 일괄 처리 계정에 대 한 hello 풀 할당 모드가 설정 된 경우 일괄 처리 서비스 보안 주체 tooaccess hello에 대 한 권한을 hello VNet 제공 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-572">If hello pool allocation mode for your Batch account is set tooBatch Service, then you must provide permissions for hello Batch service principal tooaccess hello VNet.</span></span> <span data-ttu-id="fe57d-573">hello VNet hello를 할당 해야 [Classic Virtual Machine Contributor Role-Based 액세스 제어 (RBAC)](https://azure.microsoft.com/documentation/articles/role-based-access-built-in-roles/#classic-virtual-machine-contributor) toohello 일괄 처리 서비스 사용자 역할입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-573">hello VNet must assign hello [Classic Virtual Machine Contributor Role-Based Access Control (RBAC)](https://azure.microsoft.com/documentation/articles/role-based-access-built-in-roles/#classic-virtual-machine-contributor) role toohello Batch service principal.</span></span> <span data-ttu-id="fe57d-574">Hello 지정 RBAC 역할 제공 되지 않는 경우 hello 일괄 처리 서비스는 400 (잘못 된 요청)을 반환 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-574">If hello specified RBAC role is not provided, hello Batch service returns 400 (Bad Request).</span></span> <span data-ttu-id="fe57d-575">hello Azure 포털의에서 tooadd hello 역할:</span><span class="sxs-lookup"><span data-stu-id="fe57d-575">tooadd hello role in hello Azure portal:</span></span>

    1. <span data-ttu-id="fe57d-576">선택 hello **VNet**, 다음 **액세스 제어 (IAM)** > **역할** > **가상 컴퓨터 참가자**  >  **추가**합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-576">Select hello **VNet**, then **Access control (IAM)** > **Roles** > **Virtual Machine Contributor** > **Add**.</span></span>
    2. <span data-ttu-id="fe57d-577">Hello에 **사용 권한을 추가** 블레이드, 선택 hello **가상 컴퓨터 참가자** 역할입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-577">On hello **Add permissions** blade, select hello **Virtual Machine Contributor** role.</span></span>
    3. <span data-ttu-id="fe57d-578">Hello에 **사용 권한을 추가** 블레이드, 일괄 처리 API hello에 대 한 검색 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-578">On hello **Add permissions** blade, search for hello Batch API.</span></span> <span data-ttu-id="fe57d-579">검색 이러한 문자열에 대 한 다시 hello API를 찾을 때까지:</span><span class="sxs-lookup"><span data-stu-id="fe57d-579">Search for each of these strings in turn until you find hello API:</span></span>
        1. <span data-ttu-id="fe57d-580">**MicrosoftAzureBatch**</span><span class="sxs-lookup"><span data-stu-id="fe57d-580">**MicrosoftAzureBatch**.</span></span>
        2. <span data-ttu-id="fe57d-581">**Microsoft Azure Batch** -</span><span class="sxs-lookup"><span data-stu-id="fe57d-581">**Microsoft Azure Batch**.</span></span> <span data-ttu-id="fe57d-582">최신 Azure AD 테넌트에서는 이 이름을 사용할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-582">Newer Azure AD tenants may use this name.</span></span>
        3. <span data-ttu-id="fe57d-583">**ddbf3205-c6bd-46ae-8127-60eb93363864** hello 일괄 처리 API에 대 한 hello id입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-583">**ddbf3205-c6bd-46ae-8127-60eb93363864** is hello ID for hello Batch API.</span></span> 
    3. <span data-ttu-id="fe57d-584">Hello API 일괄 처리 서비스 사용자를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-584">Select hello Batch API service principal.</span></span> 
    4. <span data-ttu-id="fe57d-585">**Save**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-585">Click **Save**.</span></span>

        ![VM 참가자 역할 tooBatch 서비스 사용자를 할당 합니다.](./media/batch-api-basics/iam-add-role.png)


* <span data-ttu-id="fe57d-587">hello 서브넷 충분 한 있어야 지정 무료 **IP 주소** tooaccommodate hello 대상 노드의 총 수, 즉, hello의 합계를 hello `targetDedicatedNodes` 및 `targetLowPriorityNodes` hello 풀의 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-587">hello specified subnet should have enough free **IP addresses** tooaccommodate hello total number of target nodes; that is, hello sum of hello `targetDedicatedNodes` and `targetLowPriorityNodes` properties of hello pool.</span></span> <span data-ttu-id="fe57d-588">Hello 서브넷 없는 경우 충분 한 사용 가능한 IP 주소, 일괄 처리 서비스 hello 부분적으로 hello 계산 노드 hello 풀에 할당 및이 크기 조정 오류를 반환 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-588">If hello subnet doesn't have enough free IP addresses, hello Batch service partially allocates hello compute nodes in hello pool and returns a resize error.</span></span>

* <span data-ttu-id="fe57d-589">hello는 서브넷에 허용 해야 hello 일괄 처리 서비스 toobe에서 통신 작업 수 tooschedule hello 계산 노드를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-589">hello specified subnet must allow communication from hello Batch service toobe able tooschedule tasks on hello compute nodes.</span></span> <span data-ttu-id="fe57d-590">계산 노드 통신 toohello 경우 의해 거부 되는 **보안 그룹 NSG (네트워크)** 다음 일괄 처리 서비스 hello 너무 hello 계산 노드의 hello 상태를 설정 하는 VNet hello와 관련 된**사용할 수 없는**합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-590">If communication toohello compute nodes is denied by a **Network Security Group (NSG)** associated with hello VNet, then hello Batch service sets hello state of hello compute nodes too**unusable**.</span></span>

* <span data-ttu-id="fe57d-591">Hello VNet에 연결 된 지정 된 경우 **(Nsg) 네트워크 보안 그룹** 및/또는 **방화벽**, 인바운드 통신에 대 한 몇 개의 예약 된 시스템 포트를 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-591">If hello specified VNet has associated **Network Security Groups (NSGs)** and/or a **firewall**, then a few reserved system ports must be enabled for inbound communication:</span></span>

- <span data-ttu-id="fe57d-592">가상 컴퓨터 구성을 사용하여 만든 풀의 경우 포트 29876 및 29877을 사용하도록 설정하고 , Linux의 경우 포트 22, Windows의 경우 포트 3389를 사용하도록 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-592">For pools created with a virtual machine configuration, enable ports 29876 and 29877, as well as port 22 for Linux and port 3389 for Windows.</span></span> 
- <span data-ttu-id="fe57d-593">클라우드 서비스 구성을 사용하여 만든 풀의 경우 포트 10100, 20100 및 30100을 사용하도록 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-593">For pools created with a cloud service configuration, enable ports 10100, 20100, and 30100.</span></span> 
- <span data-ttu-id="fe57d-594">아웃 바운드 연결 tooAzure 포트 443에서 저장소를 사용 하도록 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-594">Enable outbound connections tooAzure Storage on port 443.</span></span> <span data-ttu-id="fe57d-595">또한 VNET을 제공하는 모든 사용자 지정 DNS 서버에서 Azure Storage 끝점을 확인할 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-595">Also, ensure that your Azure Storage endpoint can be resolved by any custom DNS servers that serve your VNET.</span></span> <span data-ttu-id="fe57d-596">Hello 양식의 URL 특히 `<account>.table.core.windows.net` 확인할 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-596">Specifically, a URL of hello form `<account>.table.core.windows.net` should be resolvable.</span></span>

    <span data-ttu-id="fe57d-597">hello 다음 표에서 hello 인바운드 tooenable hello 가상 컴퓨터 구성을 사용 하 여 만든 풀에 필요한 포트:</span><span class="sxs-lookup"><span data-stu-id="fe57d-597">hello following table describes hello inbound ports that you need tooenable for pools that you created with hello virtual machine configuration:</span></span>

    |    <span data-ttu-id="fe57d-598">대상 포트</span><span class="sxs-lookup"><span data-stu-id="fe57d-598">Destination Port(s)</span></span>    |    <span data-ttu-id="fe57d-599">원본 IP 주소</span><span class="sxs-lookup"><span data-stu-id="fe57d-599">Source IP address</span></span>      |    <span data-ttu-id="fe57d-600">Batch가 NSG를 추가합니까?</span><span class="sxs-lookup"><span data-stu-id="fe57d-600">Does Batch add NSGs?</span></span>    |    <span data-ttu-id="fe57d-601">사용 가능한 VM toobe에 대 한 필요 합니까?</span><span class="sxs-lookup"><span data-stu-id="fe57d-601">Required for VM toobe usable?</span></span>    |    <span data-ttu-id="fe57d-602">사용자의 작업</span><span class="sxs-lookup"><span data-stu-id="fe57d-602">Action from user</span></span>   |
    |---------------------------|---------------------------|----------------------------|-------------------------------------|-----------------------|
    |    <ul><li><span data-ttu-id="fe57d-603">가상 컴퓨터 구성 hello 사용 하 여 만든 풀에 대 한: 29876, 29877</span><span class="sxs-lookup"><span data-stu-id="fe57d-603">For pools created with hello virtual machine configuration: 29876, 29877</span></span></li><li><span data-ttu-id="fe57d-604">클라우드 서비스 구성 hello 사용 하 여 만든 풀에 대 한: 10100, 20100, 30100</span><span class="sxs-lookup"><span data-stu-id="fe57d-604">For pools created with hello cloud service configuration: 10100, 20100, 30100</span></span></li></ul>         |    <span data-ttu-id="fe57d-605">Batch 서비스 역할 IP 주소만</span><span class="sxs-lookup"><span data-stu-id="fe57d-605">Only Batch service role IP addresses</span></span> |    <span data-ttu-id="fe57d-606">예.</span><span class="sxs-lookup"><span data-stu-id="fe57d-606">Yes.</span></span> <span data-ttu-id="fe57d-607">일괄 처리의 네트워크 인터페이스 (NIC) 연결 된 tooVMs hello 수준에서 Nsg를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-607">Batch adds NSGs at hello level of network interfaces (NIC) attached tooVMs.</span></span> <span data-ttu-id="fe57d-608">이러한 NSG는 Batch 서비스 역할 IP 주소의 트래픽만 허용합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-608">These NSGs allow traffic only from Batch service role IP addresses.</span></span> <span data-ttu-id="fe57d-609">전체 웹 hello에 대 한 이러한 포트를 여는 경우에 hello 트래픽 hello NIC.에서 차단 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-609">Even if you open these ports for hello  entire web, hello traffic will get blocked at hello NIC.</span></span> |    <span data-ttu-id="fe57d-610">예</span><span class="sxs-lookup"><span data-stu-id="fe57d-610">Yes</span></span>  |  <span data-ttu-id="fe57d-611">일괄 처리는 일괄 처리 IP 주소에만 허용 하기 때문에 NSG를 toospecify를 않아도 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-611">You do not need toospecify an NSG, because Batch allows only Batch IP addresses.</span></span> <br /><br /> <span data-ttu-id="fe57d-612">하지만 NSG를 지정하는 경우에는 이러한 포트에 인바운드 트래픽을 허용하세요.</span><span class="sxs-lookup"><span data-stu-id="fe57d-612">However, if you do specify an NSG, please ensure that these ports are open for inbound traffic.</span></span> <br /><br /> <span data-ttu-id="fe57d-613">지정 하는 경우 * 프로그램 NSG의 원본 IP hello, 일괄 처리 여전히 추가 Nsg 연결 된 NIC tooVMs의 hello 수준에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-613">If you specify * as hello source IP in your NSG, Batch still adds NSGs at hello level of NIC attached tooVMs.</span></span> |
    |    <span data-ttu-id="fe57d-614">3389, 22</span><span class="sxs-lookup"><span data-stu-id="fe57d-614">3389, 22</span></span>               |    <span data-ttu-id="fe57d-615">사용자 컴퓨터를 VM hello를 원격으로 액세스할 수 있도록 디버깅을 위해 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-615">User machines, used for debugging purposes, so that you can remotely access hello VM.</span></span>    |    <span data-ttu-id="fe57d-616">아니요</span><span class="sxs-lookup"><span data-stu-id="fe57d-616">No</span></span>                                    |    <span data-ttu-id="fe57d-617">아니요</span><span class="sxs-lookup"><span data-stu-id="fe57d-617">No</span></span>                     |    <span data-ttu-id="fe57d-618">원격 액세스 (RDP/SSH) toohello toopermit VM을 원하는 경우 Nsg를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-618">Add NSGs if you want toopermit remote access (RDP/SSH) toohello VM.</span></span>   |                 

    <span data-ttu-id="fe57d-619">다음 표에서 hello tooenable toopermit 액세스 tooAzure 저장 해야 하는 hello 아웃 바운드 포트를 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-619">hello following table describes hello outbound port that you need tooenable toopermit access tooAzure Storage:</span></span>

    |    <span data-ttu-id="fe57d-620">아웃바운드 포트</span><span class="sxs-lookup"><span data-stu-id="fe57d-620">Outbound Port(s)</span></span>    |    <span data-ttu-id="fe57d-621">대상</span><span class="sxs-lookup"><span data-stu-id="fe57d-621">Destination</span></span>    |    <span data-ttu-id="fe57d-622">Batch가 NSG를 추가합니까?</span><span class="sxs-lookup"><span data-stu-id="fe57d-622">Does Batch add NSGs?</span></span>    |    <span data-ttu-id="fe57d-623">사용 가능한 VM toobe에 대 한 필요 합니까?</span><span class="sxs-lookup"><span data-stu-id="fe57d-623">Required for VM toobe usable?</span></span>    |    <span data-ttu-id="fe57d-624">사용자의 작업</span><span class="sxs-lookup"><span data-stu-id="fe57d-624">Action from user</span></span>    |
    |------------------------|-------------------|----------------------------|-------------------------------------|------------------------|
    |    <span data-ttu-id="fe57d-625">443</span><span class="sxs-lookup"><span data-stu-id="fe57d-625">443</span></span>    |    <span data-ttu-id="fe57d-626">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="fe57d-626">Azure Storage</span></span>    |    <span data-ttu-id="fe57d-627">아니요</span><span class="sxs-lookup"><span data-stu-id="fe57d-627">No</span></span>    |    <span data-ttu-id="fe57d-628">예</span><span class="sxs-lookup"><span data-stu-id="fe57d-628">Yes</span></span>    |    <span data-ttu-id="fe57d-629">모든 Nsg를 추가한 경우이 포트가 열려 toooutbound 트래픽의 임을 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-629">If you add any NSGs, then ensure that this port is open toooutbound   traffic.</span></span>    |


## <a name="scaling-compute-resources"></a><span data-ttu-id="fe57d-630">계산 리소스 크기 조정</span><span class="sxs-lookup"><span data-stu-id="fe57d-630">Scaling compute resources</span></span>
<span data-ttu-id="fe57d-631">와 [자동 크기 조정을](batch-automatic-scaling.md), hello toohello 현재 작업 및 자원 배정 현황을 계산 시나리오에 따라 풀의 계산 노드 수를 동적으로 조정 하는 hello 일괄 처리 서비스를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-631">With [automatic scaling](batch-automatic-scaling.md), you can have hello Batch service dynamically adjust hello number of compute nodes in a pool according toohello current workload and resource usage of your compute scenario.</span></span> <span data-ttu-id="fe57d-632">이렇게 하면 toolower hello 필요한 리소스에만 hello를 사용 하 여 응용 프로그램 실행의 전반적인 비용, 한 필요로 하지 않는 것을 해제 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-632">This allows you toolower hello overall cost of running your application by using only hello resources you need, and releasing those you don't need.</span></span>

<span data-ttu-id="fe57d-633">[자동 크기 조정 수식](batch-automatic-scaling.md#automatic-scaling-formulas)을 작성하고 해당 수식의 풀과 연결하여 자동 크기 조정을 사용하도록 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-633">You enable automatic scaling by writing an [automatic scaling formula](batch-automatic-scaling.md#automatic-scaling-formulas) and associating that formula with a pool.</span></span> <span data-ttu-id="fe57d-634">hello 일괄 처리 서비스는 hello 다음 크기 조정 간격 (구성할 수 있는 간격)에 대 한 hello 풀의 노드 hello 수식 toodetermine hello 대상 수를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-634">hello Batch service uses hello formula toodetermine hello target number of nodes in hello pool for hello next scaling interval (an interval that you can configure).</span></span> <span data-ttu-id="fe57d-635">나중에 풀에 배율을 사용 하도록 설정 또는 만들 때 hello는 풀에 대 한 자동 크기 조정 설정을 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-635">You can specify hello automatic scaling settings for a pool when you create it, or enable scaling on a pool later.</span></span> <span data-ttu-id="fe57d-636">또한 hello 배율에서 크기 조정을 사용 하는 풀에서 설정을 업데이트할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-636">You can also update hello scaling settings on a scaling-enabled pool.</span></span>

<span data-ttu-id="fe57d-637">예를 들어 아마도 작업이 필요 매우 많은 작업 toobe 실행을 제출 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-637">As an example, perhaps a job requires that you submit a very large number of tasks toobe executed.</span></span> <span data-ttu-id="fe57d-638">Hello hello 현재 대기 중인된 작업 수 및 hello 작업의 hello 작업의 hello 완료 비율에 따른 hello 풀의 노드 수를 조정 하는 크기 조정 수식 toohello 풀을 할당할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-638">You can assign a scaling formula toohello pool that adjusts hello number of nodes in hello pool based on hello current number of queued tasks and hello completion rate of hello tasks in hello job.</span></span> <span data-ttu-id="fe57d-639">주기적으로 hello 일괄 처리 서비스는 hello 수식을 계산 하 고 hello 풀, 작업 및 다른 수식 설정을 기반으로 크기를 조정 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-639">hello Batch service periodically evaluates hello formula and resizes hello pool, based on workload and your other formula settings.</span></span> <span data-ttu-id="fe57d-640">hello 서비스 큐에 대기 중인된 작업 수가 많은 경우 필요에 따라 노드를 추가 하 고 큐에 대기 중이거나 실행 중인 작업이 없는 경우 노드를 제거 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-640">hello service adds nodes as needed when there are a large number of queued tasks, and removes nodes when there are no queued or running tasks.</span></span>

<span data-ttu-id="fe57d-641">크기 조정 수식을 기반으로 다음 메트릭을 hello:</span><span class="sxs-lookup"><span data-stu-id="fe57d-641">A scaling formula can be based on hello following metrics:</span></span>

* <span data-ttu-id="fe57d-642">**시간 메트릭으로** 지정 hello에 5 분 마다 수집 된 통계를 기반으로 하는 시간 수입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-642">**Time metrics** are based on statistics collected every five minutes in hello specified number of hours.</span></span>
* <span data-ttu-id="fe57d-643">**리소스 메트릭**은 CPU 사용량, 대역폭 사용량, 메모리 사용량 및 노드 수를 기반으로 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-643">**Resource metrics** are based on CPU usage, bandwidth usage, memory usage, and number of nodes.</span></span>
* <span data-ttu-id="fe57d-644">**태스크 메트릭**은 *활성*(큐에 대기), *실행* 또는 *완료* 등 태스크 상태에 따라 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-644">**Task metrics** are based on task state, such as *Active* (queued), *Running*, or *Completed*.</span></span>

<span data-ttu-id="fe57d-645">자동 크기 조정을 hello 풀의 계산 노드 수가 줄어들면 toohandle 작업 hello hello 시간에 실행 하는 작업을 감소 하는 방법을 고려해 야 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-645">When automatic scaling decreases hello number of compute nodes in a pool, you must consider how toohandle tasks that are running at hello time of hello decrease operation.</span></span> <span data-ttu-id="fe57d-646">tooaccommodate이, 일괄이 처리를 제공는 *노드 할당 취소 옵션* 수식에 포함할 수 있는 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-646">tooaccommodate this, Batch provides a *node deallocation option* that you can include in your formulas.</span></span> <span data-ttu-id="fe57d-647">예를 들어,를 실행 중인 작업을 즉시 중지, 즉시 중지 하 고 다음 다른 노드에서 실행을 위해 다시 대기 하거나 hello 노드 hello 풀에서 제거 되기 전에 toofinish 허용을 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-647">For example, you can specify that running tasks are stopped immediately, stopped immediately and then requeued for execution on another node, or allowed toofinish before hello node is removed from hello pool.</span></span>

<span data-ttu-id="fe57d-648">자동으로 응용 프로그램 크기를 조정하는 방법에 대한 자세한 내용은 [Azure Batch 풀에서 자동으로 계산 노드 크기 조정](batch-automatic-scaling.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="fe57d-648">For more information about automatically scaling an application, see [Automatically scale compute nodes in an Azure Batch pool](batch-automatic-scaling.md).</span></span>

> [!TIP]
> <span data-ttu-id="fe57d-649">toomaximize는 리소스 사용률을 계산 하 고, 작업의 hello 끝에서 노드 toozero hello 대상 수를 설정 하지만 실행 중인 작업 toofinish 허용 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-649">toomaximize compute resource utilization, set hello target number of nodes toozero at hello end of a job, but allow running tasks toofinish.</span></span>
>
>

## <a name="security-with-certificates"></a><span data-ttu-id="fe57d-650">인증서를 사용한 보안</span><span class="sxs-lookup"><span data-stu-id="fe57d-650">Security with certificates</span></span>
<span data-ttu-id="fe57d-651">암호화 또는 암호에 대 한 hello 키 등의 작업에 대 한 중요 한 정보를 해독 하는 경우 일반적으로 toouse 인증서가 필요는 [Azure 저장소 계정][azure_storage]합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-651">You typically need toouse certificates when you encrypt or decrypt sensitive information for tasks, like hello key for an [Azure Storage account][azure_storage].</span></span> <span data-ttu-id="fe57d-652">toosupport이 노드에서 인증서를 설치할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-652">toosupport this, you can install certificates on nodes.</span></span> <span data-ttu-id="fe57d-653">암호화 된 암호는 tootasks 명령줄 매개 변수를 통해 또는 hello 작업 리소스 중 하나에 포함 하 고 설치 하는 hello 인증서 toodecrypt 사용된 될 수 있습니다 이러한.</span><span class="sxs-lookup"><span data-stu-id="fe57d-653">Encrypted secrets are passed tootasks via command-line parameters or embedded in one of hello task resources, and hello installed certificates can be used toodecrypt them.</span></span>

<span data-ttu-id="fe57d-654">Hello를 사용 하 여 [인증서 추가] [ rest_add_cert] 작업 (일괄 처리 REST) 또는 [CertificateOperations.CreateCertificate] [ net_create_cert] 메서드 (일괄 처리.NET) tooadd 인증서 tooa 일괄 처리 계정입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-654">You use hello [Add certificate][rest_add_cert] operation (Batch REST) or [CertificateOperations.CreateCertificate][net_create_cert] method (Batch .NET) tooadd a certificate tooa Batch account.</span></span> <span data-ttu-id="fe57d-655">그런 다음 새로운 또는 기존 풀과 hello 인증서를 연결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-655">You can then associate hello certificate with a new or existing pool.</span></span> <span data-ttu-id="fe57d-656">인증서와 풀과 연결 된 일괄 처리 서비스 hello hello 풀의 각 노드에서 hello 인증서를 설치 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-656">When a certificate is associated with a pool, hello Batch service installs hello certificate on each node in hello pool.</span></span> <span data-ttu-id="fe57d-657">hello 일괄 처리 서비스는 hello 노드 시작 되 면, 모든 작업 (hello 시작 작업 및 작업 관리자 태스크가 포함)를 실행 하기 전에 hello 적절 한 인증서를 설치 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-657">hello Batch service installs hello appropriate certificates when hello node starts up, before launching any tasks (including hello start task and job manager task).</span></span>

<span data-ttu-id="fe57d-658">인증서 tooan를 추가 하는 경우 *기존* 풀 hello 적용 toobe toohello 노드 인증서에 해당 계산 노드를 다시 부팅 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-658">If you add certificates tooan *existing* pool, you must reboot its compute nodes for hello certificates toobe applied toohello nodes.</span></span>

## <a name="error-handling"></a><span data-ttu-id="fe57d-659">오류 처리</span><span class="sxs-lookup"><span data-stu-id="fe57d-659">Error handling</span></span>
<span data-ttu-id="fe57d-660">필요한 toohandle를 찾을 수 있습니다 일괄 처리 솔루션 내에서 작업 및 응용 프로그램 오류가 발생 했습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-660">You might find it necessary toohandle both task and application failures within your Batch solution.</span></span>

### <a name="task-failure-handling"></a><span data-ttu-id="fe57d-661">태스크 오류 처리</span><span class="sxs-lookup"><span data-stu-id="fe57d-661">Task failure handling</span></span>
<span data-ttu-id="fe57d-662">태스크 오류는 다음 범주로 분류됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-662">Task failures fall into these categories:</span></span>

* <span data-ttu-id="fe57d-663">**사전 처리 실패**</span><span class="sxs-lookup"><span data-stu-id="fe57d-663">**Pre-processing failures**</span></span>

    <span data-ttu-id="fe57d-664">작업 실패 toostart 전처리 오류 hello 작업에 대 한 설정 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-664">If a task fails toostart, a pre-processing error is set for hello task.</span></span>  

    <span data-ttu-id="fe57d-665">미리 처리 오류가 발생할 수 없습니다 hello 작업의 리소스 파일을 이동, hello 저장소 계정이 더 이상를 사용할 수 없거나 다른 문제가 발생 했습니다는 금지 hello 성공의 파일을 복사 toohello 노드.</span><span class="sxs-lookup"><span data-stu-id="fe57d-665">Pre-processing errors can occur if hello task's resource files have moved, hello Storage account is no longer available, or another issue was encountered that prevented hello successful copying of files toohello node.</span></span>

* <span data-ttu-id="fe57d-666">**파일 업로드 오류**</span><span class="sxs-lookup"><span data-stu-id="fe57d-666">**File upload failures**</span></span>

    <span data-ttu-id="fe57d-667">어떤 이유로 든 실패 하면 작업에 대해 지정 된 파일을 업로드 하는 경우에 파일 업로드 오류 hello 작업에 대 한 설정 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-667">If uploading files that are specified for a task fails for any reason, a file upload error is set for hello task.</span></span>

    <span data-ttu-id="fe57d-668">파일 업로드가 hello 유효 하지 않거나 없으면 hello 저장소 계정이 더 이상를 쓰기 권한을 제공 하지 않습니다 Azure 저장소에 액세스 하거나 다른 문제가 있는 경우 제공 된 SAS 발견 하지 못한 경우 파일에서의 성공적인 복사 hello 오류가 발생할 수 없습니다 hello 노드입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-668">File upload errors can occur if hello SAS supplied for accessing Azure Storage is invalid or does not provide write permissions, if hello storage account is no longer available, or if another issue was encountered that prevented hello successful copying of files from hello node.</span></span>    

* <span data-ttu-id="fe57d-669">**응용 프로그램 오류**</span><span class="sxs-lookup"><span data-stu-id="fe57d-669">**Application failures**</span></span>

    <span data-ttu-id="fe57d-670">hello 작업의 명령줄에서 지정 된 hello 프로세스도 실패할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-670">hello process that is specified by hello task's command line can also fail.</span></span> <span data-ttu-id="fe57d-671">hello 프로세스 하다 고 판단 되 toohave hello 작업에서 실행 되는 hello 프로세스에 의해 0이 아닌 종료 코드를 반환 하는 경우 실패 (참조 *작업 종료 코드* hello 다음 섹션에서).</span><span class="sxs-lookup"><span data-stu-id="fe57d-671">hello process is deemed toohave failed when a nonzero exit code is returned by hello process that is executed by hello task (see *Task exit codes* in hello next section).</span></span>

    <span data-ttu-id="fe57d-672">응용 프로그램 오류에 대 한 일괄 처리를 구성할 수 있습니다를 tooa tooautomatically 다시 시도 hello 태스크 횟수를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-672">For application failures, you can configure Batch tooautomatically retry hello task up tooa specified number of times.</span></span>

* <span data-ttu-id="fe57d-673">**제약 조건 오류**</span><span class="sxs-lookup"><span data-stu-id="fe57d-673">**Constraint failures**</span></span>

    <span data-ttu-id="fe57d-674">지정 하는 작업 또는 작업에 대 한 최대 실행 시간과 hello hello 제약 조건을 설정할 수 있습니다 *maxWallClockTime*합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-674">You can set a constraint that specifies hello maximum execution duration for a job or task, hello *maxWallClockTime*.</span></span> <span data-ttu-id="fe57d-675">이 tooprogress 실패 하는 작업을 종료 하기 위해 유용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-675">This can be useful for terminating tasks that fail tooprogress.</span></span>

    <span data-ttu-id="fe57d-676">Hello 최대 수명을 초과 되 면 hello 작업으로 표시 됩니다 *완료*, hello 종료 코드가 너무 설정 되어 있지만`0xC000013A` 및 hello *schedulingError* 필드가로 표시 되 `{ category:"ServerError", code="TaskEnded"}`합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-676">When hello maximum amount of time has been exceeded, hello task is marked as *completed*, but hello exit code is set too`0xC000013A` and hello *schedulingError* field is marked as `{ category:"ServerError", code="TaskEnded"}`.</span></span>

### <a name="debugging-application-failures"></a><span data-ttu-id="fe57d-677">응용 프로그램 오류 디버그</span><span class="sxs-lookup"><span data-stu-id="fe57d-677">Debugging application failures</span></span>
* <span data-ttu-id="fe57d-678">`stderr` 및 `stdout`</span><span class="sxs-lookup"><span data-stu-id="fe57d-678">`stderr` and `stdout`</span></span>

    <span data-ttu-id="fe57d-679">실행 하는 동안 응용 프로그램 tootroubleshoot 문제를 사용할 수 있는 진단 출력을 생성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-679">During execution, an application might produce diagnostic output that you can use tootroubleshoot issues.</span></span> <span data-ttu-id="fe57d-680">Hello에 설명 된 대로 이전 섹션 [파일 및 디렉터리](#files-and-directories), 표준 출력과 표준 오류 출력 너무 hello 일괄 처리 서비스에서 기록`stdout.txt` 및 `stderr.txt` hello hello 작업 디렉터리의 파일이 계산 노드.</span><span class="sxs-lookup"><span data-stu-id="fe57d-680">As mentioned in hello earlier section [Files and directories](#files-and-directories), hello Batch service writes standard output and standard error output too`stdout.txt` and `stderr.txt` files in hello task directory on hello compute node.</span></span> <span data-ttu-id="fe57d-681">이 파일 hello Azure 포털 또는 hello 일괄 처리 Sdk toodownload 중 하나를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-681">You can use hello Azure portal or one of hello Batch SDKs toodownload these files.</span></span> <span data-ttu-id="fe57d-682">예를 들어 이러한 파일 및 사용 하 여 문제 해결을 위해 다른 파일을 검색할 수 있습니다 [ComputeNode.GetNodeFile] [ net_getfile_node] 및 [CloudTask.GetNodeFile] [ net_getfile_task] hello 일괄 처리.NET 라이브러리에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-682">For example, you can retrieve these and other files for troubleshooting purposes by using [ComputeNode.GetNodeFile][net_getfile_node] and [CloudTask.GetNodeFile][net_getfile_task] in hello Batch .NET library.</span></span>

* <span data-ttu-id="fe57d-683">**태스크 종료 코드**</span><span class="sxs-lookup"><span data-stu-id="fe57d-683">**Task exit codes**</span></span>

    <span data-ttu-id="fe57d-684">앞서 언급 했 듯이 작업 hello 프로세스 hello 작업에서 실행 되는 0이 아닌 종료 코드를 반환 하는 경우 hello 일괄 처리 서비스에서 실패 한 것으로 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-684">As mentioned earlier, a task is marked as failed by hello Batch service if hello process that is executed by hello task returns a nonzero exit code.</span></span> <span data-ttu-id="fe57d-685">프로세스를 실행 하는 작업을 하는 경우 일괄 처리 hello로 hello 작업의 종료 코드 속성을 채우는 *hello 프로세스의 코드를 반환*합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-685">When a task executes a process, Batch populates hello task's exit code property with hello *return code of hello process*.</span></span> <span data-ttu-id="fe57d-686">작업의 종료 코드는 중요 한 toonote는 **하지** hello 일괄 처리 서비스에 의해 결정 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-686">It is important toonote that a task's exit code is **not** determined by hello Batch service.</span></span> <span data-ttu-id="fe57d-687">작업의 종료 코드는 hello 프로세스 자체 또는 hello 운영 체제에서 실행 되는 hello 프로세스에 의해 결정 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-687">A task's exit code is determined by hello process itself or hello operating system on which hello process executed.</span></span>

### <a name="accounting-for-task-failures-or-interruptions"></a><span data-ttu-id="fe57d-688">태스크 실패 또는 중단에 대한 조정</span><span class="sxs-lookup"><span data-stu-id="fe57d-688">Accounting for task failures or interruptions</span></span>
<span data-ttu-id="fe57d-689">간혹 태스크가 실패하거나 중단될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-689">Tasks might occasionally fail or be interrupted.</span></span> <span data-ttu-id="fe57d-690">hello 작업 응용 프로그램 자체 실패할 수 있습니다, 작업이 실행 되는 hello에 hello 노드 다시 부팅 될 수 있습니다 또는 hello 노드에서에서 제거 될 수 hello 풀 크기 조정 작업 중 이면 hello 풀의 할당 취소 정책까지 기다리지 않고 즉시 tooremove 노드 집합 작업 toofinish 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-690">hello task application itself might fail, hello node on which hello task is running might be rebooted, or hello node might be removed from hello pool during a resize operation if hello pool's deallocation policy is set tooremove nodes immediately without waiting for tasks toofinish.</span></span> <span data-ttu-id="fe57d-691">Hello 작업 모든 경우 일괄 처리에 의해 다른 노드에서 실행을 위해 자동으로 요청할 수 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-691">In all cases, hello task can be automatically requeued by Batch for execution on another node.</span></span>

<span data-ttu-id="fe57d-692">또한 일시적인 문제 toocause 작업 toohang에 대 한 가능한 또는 tooexecute 너무 길어서 수행 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-692">It is also possible for an intermittent issue toocause a task toohang or take too long tooexecute.</span></span> <span data-ttu-id="fe57d-693">작업에 대 한 hello 최대 실행 간격을 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-693">You can set hello maximum execution interval for a task.</span></span> <span data-ttu-id="fe57d-694">Hello 최대 실행 간격을 초과할 경우 hello 일괄 처리 서비스는 hello 작업 응용 프로그램을 중단 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-694">If hello maximum execution interval is exceeded, hello Batch service interrupts hello task application.</span></span>

### <a name="connecting-toocompute-nodes"></a><span data-ttu-id="fe57d-695">Toocompute 노드를 연결</span><span class="sxs-lookup"><span data-stu-id="fe57d-695">Connecting toocompute nodes</span></span>
<span data-ttu-id="fe57d-696">추가 디버깅 및 tooa 계산 노드를 원격으로 로그인 하 여 문제 해결을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-696">You can perform additional debugging and troubleshooting by signing in tooa compute node remotely.</span></span> <span data-ttu-id="fe57d-697">Windows 노드에 대해 hello Azure 포털 toodownload 프로토콜 RDP (원격 데스크톱) 파일을 사용 하 고 Linux 노드에 대 한 SSH (보안 셸) 연결 정보를 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-697">You can use hello Azure portal toodownload a Remote Desktop Protocol (RDP) file for Windows nodes and obtain Secure Shell (SSH) connection information for Linux nodes.</span></span> <span data-ttu-id="fe57d-698">예를 들어 일괄 처리 Api-hello를 함께 사용 하 여 이름을 수행할 수도 있습니다 [일괄 처리.NET] [ net_rdpfile] 또는 [일괄 처리 Python](batch-linux-nodes.md#connect-to-linux-nodes-using-ssh)합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-698">You can also do this by using hello Batch APIs--for example, with [Batch .NET][net_rdpfile] or [Batch Python](batch-linux-nodes.md#connect-to-linux-nodes-using-ssh).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="fe57d-699">RDP 또는 SSH를 통해 tooconnect tooa 노드를 먼저 만들어야 합니다 사용자 hello 노드에서 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-699">tooconnect tooa node via RDP or SSH, you must first create a user on hello node.</span></span> <span data-ttu-id="fe57d-700">toodo이 hello Azure 포털을 사용할 수 있습니다 [사용자 계정 tooa 노드 추가] [ rest_create_user] hello 배치 REST API를 사용 하 여 hello 호출 [ComputeNode.CreateComputeNodeUser] [ net_create_user] 메서드 일괄 처리.NET 또는 호출 hello [add_user] [ py_add_user] hello 일괄 처리 Python 모듈에서 메서드.</span><span class="sxs-lookup"><span data-stu-id="fe57d-700">toodo this, you can use hello Azure portal, [add a user account tooa node][rest_create_user] by using hello Batch REST API, call hello [ComputeNode.CreateComputeNodeUser][net_create_user] method in Batch .NET, or call hello [add_user][py_add_user] method in hello Batch Python module.</span></span>
>
>

### <a name="troubleshooting-problematic-compute-nodes"></a><span data-ttu-id="fe57d-701">문제가 있는 계산 노드 문제 해결</span><span class="sxs-lookup"><span data-stu-id="fe57d-701">Troubleshooting problematic compute nodes</span></span>
<span data-ttu-id="fe57d-702">실패 하는 일부 작업의 경우 일괄 처리 클라이언트 응용 프로그램 또는 서비스 실패 hello 작업 tooidentify 오동작 노드의 hello 메타 데이터를 검사할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-702">In situations where some of your tasks are failing, your Batch client application or service can examine hello metadata of hello failed tasks tooidentify a misbehaving node.</span></span> <span data-ttu-id="fe57d-703">풀의 각 노드에 고유 ID를 지정 하 고 hello 노드는 작업이 실행 되는 hello 작업 메타 데이터에 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-703">Each node in a pool is given a unique ID, and hello node on which a task runs is included in hello task metadata.</span></span> <span data-ttu-id="fe57d-704">문제 노드를 식별하면 다음과 같은 몇 가지 작업을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-704">After you've identified a problem node, you can take several actions with it:</span></span>

* <span data-ttu-id="fe57d-705">**Hello 노드를 다시 부팅** ([REST][rest_reboot] | [.NET][net_reboot])</span><span class="sxs-lookup"><span data-stu-id="fe57d-705">**Reboot hello node** ([REST][rest_reboot] | [.NET][net_reboot])</span></span>

    <span data-ttu-id="fe57d-706">재시작 hello 노드 걸린 또는 손상 프로세스와 같은 잠재적인 문제를 지울 경우에 따라 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-706">Restarting hello node can sometimes clear up latent issues like stuck or crashed processes.</span></span> <span data-ttu-id="fe57d-707">시작 태스크를 사용 하는 경우 풀 또는 작업 준비 태스크 작업에 사용 하는 경우 실행할 hello 노드 다시 시작 될 때 note 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-707">Note that if your pool uses a start task or your job uses a job preparation task, they are executed when hello node restarts.</span></span>
* <span data-ttu-id="fe57d-708">**Hello 노드를 이미지로 다시 설치할** ([REST][rest_reimage] | [.NET][net_reimage])</span><span class="sxs-lookup"><span data-stu-id="fe57d-708">**Reimage hello node** ([REST][rest_reimage] | [.NET][net_reimage])</span></span>

    <span data-ttu-id="fe57d-709">Hello 운영 체제 hello 노드를 다시 설치 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-709">This reinstalls hello operating system on hello node.</span></span> <span data-ttu-id="fe57d-710">노드를 다시 부팅 한와 마찬가지로 작업을 시작 하 고 작업 준비 작업 hello 노드를 이미지로 다시 설치 된 후 다시 실행 하십시오.</span><span class="sxs-lookup"><span data-stu-id="fe57d-710">As with rebooting a node, start tasks and job preparation tasks are rerun after hello node has been reimaged.</span></span>
* <span data-ttu-id="fe57d-711">**Hello 풀에서 hello 노드 제거** ([REST][rest_remove] | [.NET][net_remove])</span><span class="sxs-lookup"><span data-stu-id="fe57d-711">**Remove hello node from hello pool** ([REST][rest_remove] | [.NET][net_remove])</span></span>

    <span data-ttu-id="fe57d-712">때때로 필요한 toocompletely hello 노드 hello 풀에서 제거 됩니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-712">Sometimes it is necessary toocompletely remove hello node from hello pool.</span></span>
* <span data-ttu-id="fe57d-713">**Hello 노드에서 작업 예약 사용 안 함** ([REST][rest_offline] | [.NET][net_offline])</span><span class="sxs-lookup"><span data-stu-id="fe57d-713">**Disable task scheduling on hello node** ([REST][rest_offline] | [.NET][net_offline])</span></span>

    <span data-ttu-id="fe57d-714">이 효과적으로 hello 노드가 오프 라인 더 이상 작업이 tooit를 할당 하지만 hello 노드 tooremain 실행을 가능 하 고 있는 hello 풀에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-714">This effectively takes hello node offline so that no further tasks are assigned tooit, but allows hello node tooremain running and in hello pool.</span></span> <span data-ttu-id="fe57d-715">이렇게 하면 hello 오류의 hello 발생 tooperform 추가 조사 hello 실패 한 작업 데이터의 손실 없이 및 hello 노드 추가 작업 실패를 유발 하지 않고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-715">This enables you tooperform further investigation into hello cause of hello failures without losing hello failed task's data, and without hello node causing additional task failures.</span></span> <span data-ttu-id="fe57d-716">작업 일정 hello 노드에 대 한 다음 비활성화할 수는 예를 들어 [에 원격으로 로그인](#connecting-to-compute-nodes) tooexamine hello 노드의 이벤트 로그 또는 기타 문제 해결을 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-716">For example, you can disable task scheduling on hello node, then [sign in remotely](#connecting-to-compute-nodes) tooexamine hello node's event logs or perform other troubleshooting.</span></span> <span data-ttu-id="fe57d-717">작업 일정을 사용 하 여 hello 노드를 다시 온라인을 상태로 되돌릴 수 조사를 완료 한 후 ([REST][rest_online] | [.NET] [ net_online]), 또는 다른 작업 이전에 설명한 hello 중 하나를 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-717">After you've finished your investigation, you can then bring hello node back online by enabling task scheduling ([REST][rest_online] | [.NET][net_online]), or perform one of hello other actions discussed earlier.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="fe57d-718">Hello 동작을 수행할 때 hello 노드에서 현재 실행 중인 작업의 처리 방법을 수 toospecify은 이미지로 다시 설치, 제거 및 작업 일정 사용 안 함-,-이 섹션에 설명 되어 있는 각 작업을 다시 부팅 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-718">With each action that is described in this section--reboot, reimage, remove, and disable task scheduling--you are able toospecify how tasks currently running on hello node are handled when you perform hello action.</span></span> <span data-ttu-id="fe57d-719">예를 들어 해제할 경우 작업을 지정할 수 있습니다 hello 일괄 처리.NET 클라이언트 라이브러리를 사용 하 여 노드에서 예약 된 [DisableComputeNodeSchedulingOption] [ net_offline_option] enum 값 toospecify 여부 너무**Terminate** 작업 실행, **큐에 다시 넣고** 할 다른 노드에서 예약에 대 한 hello 동작을 수행 하기 전에 실행 중인 작업 toocomplete를 허용 하거나 (**TaskCompletion**).</span><span class="sxs-lookup"><span data-stu-id="fe57d-719">For example, when you disable task scheduling on a node by using hello Batch .NET client library, you can specify a [DisableComputeNodeSchedulingOption][net_offline_option] enum value toospecify whether too**Terminate** running tasks, **Requeue** them for scheduling on other nodes, or allow running tasks toocomplete before performing hello action (**TaskCompletion**).</span></span>
>
>

## <a name="next-steps"></a><span data-ttu-id="fe57d-720">다음 단계</span><span class="sxs-lookup"><span data-stu-id="fe57d-720">Next steps</span></span>
* <span data-ttu-id="fe57d-721">Hello에 대 한 자세한 내용은 [일괄 처리 Api와 도구](batch-apis-tools.md) 일괄 처리 솔루션을 만드는 데 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-721">Learn about hello [Batch APIs and tools](batch-apis-tools.md) available for building Batch solutions.</span></span>
* <span data-ttu-id="fe57d-722">일괄 처리 응용 프로그램에 대 한 단계별 안내 [.NET 용 hello Azure 배치 라이브러리 시작](batch-dotnet-get-started.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-722">Walk through a sample Batch application step-by-step in [Get started with hello Azure Batch Library for .NET](batch-dotnet-get-started.md).</span></span> <span data-ttu-id="fe57d-723">또한 한 [Python 버전](batch-python-tutorial.md) Linux에서 작업을 실행 하는 hello 자습서의 계산 노드.</span><span class="sxs-lookup"><span data-stu-id="fe57d-723">There is also a [Python version](batch-python-tutorial.md) of hello tutorial that runs a workload on Linux compute nodes.</span></span>
* <span data-ttu-id="fe57d-724">다운로드 하 고 hello 빌드 [일괄 처리 탐색기] [ github_batchexplorer] 일괄 처리 솔루션을 개발 하는 동안 사용 하기 위해 샘플 프로젝트입니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-724">Download and build hello [Batch Explorer][github_batchexplorer] sample project for use while you develop your Batch solutions.</span></span> <span data-ttu-id="fe57d-725">일괄 처리 탐색기 hello를 사용 하 여 hello 다음 등을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-725">Using hello Batch Explorer, you can perform hello following and more:</span></span>

  * <span data-ttu-id="fe57d-726">Batch 계정 내에서 풀, 작업 및 태스크 모니터링 및 조작</span><span class="sxs-lookup"><span data-stu-id="fe57d-726">Monitor and manipulate pools, jobs, and tasks within your Batch account</span></span>
  * <span data-ttu-id="fe57d-727">노드에서 `stdout.txt`, `stderr.txt` 및 기타 파일 다운로드</span><span class="sxs-lookup"><span data-stu-id="fe57d-727">Download `stdout.txt`, `stderr.txt`, and other files from nodes</span></span>
  * <span data-ttu-id="fe57d-728">노드에서 사용자를 만들고 원격 로그인을 위한 RDP 파일 다운로드</span><span class="sxs-lookup"><span data-stu-id="fe57d-728">Create users on nodes and download RDP files for remote login</span></span>
* <span data-ttu-id="fe57d-729">너무 방법에 대해 알아봅니다[Linux 계산 노드는 풀을 만들](batch-linux-nodes.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-729">Learn how too[create pools of Linux compute nodes](batch-linux-nodes.md).</span></span>
* <span data-ttu-id="fe57d-730">Hello 방문 [Azure 배치 포럼] [ batch_forum] msdn 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-730">Visit hello [Azure Batch forum][batch_forum] on MSDN.</span></span> <span data-ttu-id="fe57d-731">hello 포럼은 좋은 배우는 하는지 여부는 일괄 처리를 사용 하 여 전문 tooask 질문을 배치 합니다.</span><span class="sxs-lookup"><span data-stu-id="fe57d-731">hello forum is a good place tooask questions, whether you are just learning or are an expert in using Batch.</span></span>

[1]: ./media/batch-api-basics/node-folder-structure.png

[azure_storage]: https://azure.microsoft.com/services/storage/
[batch_forum]: https://social.msdn.microsoft.com/Forums/en-US/home?forum=azurebatch
[cloud_service_sizes]: ../cloud-services/cloud-services-sizes-specs.md
[msmpi]: https://msdn.microsoft.com/library/bb524831.aspx
[github_samples]: https://github.com/Azure/azure-batch-samples
[github_sample_taskdeps]:  https://github.com/Azure/azure-batch-samples/tree/master/CSharp/ArticleProjects/TaskDependencies
[github_batchexplorer]: https://github.com/Azure/azure-batch-samples/tree/master/CSharp/BatchExplorer
[batch_net_api]: https://msdn.microsoft.com/library/azure/mt348682.aspx
[msdn_env_vars]: https://msdn.microsoft.com/library/azure/mt743623.aspx
[net_cloudjob_jobmanagertask]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.jobmanagertask.aspx
[net_cloudjob_priority]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.priority.aspx
[net_cloudpool_starttask]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudpool.starttask.aspx
[net_cloudtask_env]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask.environmentsettings.aspx
[net_create_cert]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.certificateoperations.createcertificate.aspx
[net_create_user]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.createcomputenodeuser.aspx
[net_getfile_node]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.getnodefile.aspx
[net_getfile_task]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask.getnodefile.aspx
[net_job_env]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.commonenvironmentsettings.aspx
[net_multiinstancesettings]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.multiinstancesettings.aspx
[net_onalltaskscomplete]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.onalltaskscomplete.aspx
[net_rdp]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.getrdpfile.aspx
[net_reboot]: https://msdn.microsoft.com/library/azure/mt631495.aspx
[net_reimage]: https://msdn.microsoft.com/library/azure/mt631496.aspx
[net_remove]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.pooloperations.removefrompoolasync.aspx
[net_offline]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.disableschedulingasync.aspx
[net_online]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.enableschedulingasync.aspx
[net_offline_option]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.common.disablecomputenodeschedulingoption.aspx
[net_rdpfile]: https://msdn.microsoft.com/library/azure/Mt272127.aspx
[vnet]: https://msdn.microsoft.com/library/azure/dn820174.aspx#bk_netconf

[py_add_user]: http://azure-sdk-for-python.readthedocs.io/en/latest/ref/azure.batch.operations.html#azure.batch.operations.ComputeNodeOperations.add_user

[batch_rest_api]: https://msdn.microsoft.com/library/azure/Dn820158.aspx
[rest_add_job]: https://msdn.microsoft.com/library/azure/mt282178.aspx
[rest_add_pool]: https://msdn.microsoft.com/library/azure/dn820174.aspx
[rest_add_cert]: https://msdn.microsoft.com/library/azure/dn820169.aspx
[rest_add_task]: https://msdn.microsoft.com/library/azure/dn820105.aspx
[rest_create_user]: https://msdn.microsoft.com/library/azure/dn820137.aspx
[rest_get_task_info]: https://msdn.microsoft.com/library/azure/dn820133.aspx
[rest_job_schedules]: https://msdn.microsoft.com/library/azure/mt282179.aspx
[rest_multiinstance]: https://msdn.microsoft.com/library/azure/mt637905.aspx
[rest_multiinstancesettings]: https://msdn.microsoft.com/library/azure/dn820105.aspx#multiInstanceSettings
[rest_update_job]: https://msdn.microsoft.com/library/azure/dn820162.aspx
[rest_rdp]: https://msdn.microsoft.com/library/azure/dn820120.aspx
[rest_reboot]: https://msdn.microsoft.com/library/azure/dn820171.aspx
[rest_reimage]: https://msdn.microsoft.com/library/azure/dn820157.aspx
[rest_remove]: https://msdn.microsoft.com/library/azure/dn820194.aspx
[rest_offline]: https://msdn.microsoft.com/library/azure/mt637904.aspx
[rest_online]: https://msdn.microsoft.com/library/azure/mt637907.aspx

[vm_marketplace]: https://azure.microsoft.com/marketplace/virtual-machines/
