---
title: "사용자 지정 이미지에서 Azure Batch 풀 프로비전| Microsoft Docs"
description: "사용자 지정 이미지에서 Batch 풀을 만들어 애플리케이션에 대해 사용자가 필요한 소프트웨어 및 데이터가 들어 있는 계산 노드를 프로비전할 수 있습니다. 사용자 지정 이미지는 Batch 워크로드를 실행하도록 계산 노드를 구성하는 효율적인 방법입니다."
services: batch
author: tamram
manager: timlt
ms.service: batch
ms.topic: article
ms.date: 08/07/2017
ms.author: tamram
ms.openlocfilehash: 3d655766b4f2a5efb0c8c29ffa81a89f84b3e17c
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/29/2017
---
# <a name="use-a-custom-image-to-create-a-pool-of-virtual-machines"></a><span data-ttu-id="451c7-104">사용자 지정 이미지를 사용하여 가상 컴퓨터 풀 만들기</span><span class="sxs-lookup"><span data-stu-id="451c7-104">Use a custom image to create a pool of virtual machines</span></span>

<span data-ttu-id="451c7-105">Azure Batch에서 가상 컴퓨터 풀을 만들 경우 풀에서 각 계산 노드에 대해 운영 체제를 제공하는 가상 컴퓨터(VM) 이미지를 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-105">When you create a pool of virtual machines in Azure Batch, you specify a virtual machine (VM) image that provides the operating system for each compute node in the pool.</span></span> <span data-ttu-id="451c7-106">Azure Marketplace 이미지를 사용하거나 사용자가 준비한 사용자 지정 VHD 이미지를 제공하여 가상 컴퓨터 풀을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-106">You can create a pool of virtual machines either by using an Azure Marketplace image, or by providing a custom VHD image that you have prepared.</span></span> <span data-ttu-id="451c7-107">사용자 지정 이미지를 제공할 경우 각 계산 노드가 프로비전되는 시점에서 운영 체제가 구성되는 방식을 제어할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-107">When you provide a custom image, you have control over how the operating system is configured at the time that each compute node is provisioned.</span></span> <span data-ttu-id="451c7-108">사용자 지정 이미지에는 프로비전되는 즉시, 계산 노드에서 사용 가능한 응용 프로그램 및 참조 데이터도 포함할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-108">Your custom image can also include applications and reference data that are available on the compute node as soon as it is provisioned.</span></span>

<span data-ttu-id="451c7-109">사용자 지정 이미지를 사용하면 풀의 계산 노드가 Batch 워크로드를 실행할 준비를 하는 데 걸리는 시간을 절약할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-109">Using a custom image can save you time in getting your pool's compute nodes ready to run your Batch workload.</span></span> <span data-ttu-id="451c7-110">프로비전된 후에는 항상 Azure Marketplace 이미지를 사용하고 각 계산 노드에 소프트웨어를 설치할 수 있지만, 이러한 접근 방식은 사용자 지정 이미지를 사용하는 것보다 효율성이 떨어질 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-110">While you can always use an Azure Marketplace image and install software on each compute node after it has been provisioned, this approach may be less efficient than using a custom image.</span></span> 

<span data-ttu-id="451c7-111">사용자 시나리오에 맞게 구성된 사용자 지정 이미지를 사용해야 하는 몇 가지 이유는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-111">Some reasons to use a custom image that is configured for your scenario include needing to:</span></span>

- <span data-ttu-id="451c7-112">**OS(운영 체제) 구성** 사용자 지정 이미지에서 운영 체제의 모든 특별한 구성을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-112">**Configure the operating system (OS)** Any special configuration of the operating system can be performed on the custom image.</span></span> 
- <span data-ttu-id="451c7-113">**대규모 응용 프로그램 설치.**</span><span class="sxs-lookup"><span data-stu-id="451c7-113">**Install large applications.**</span></span> <span data-ttu-id="451c7-114">사용자 지정 이미지에 응용 프로그램을 설치하는 것이 프로비전 후 각 계산 노드에서 설치하는 것보다 더 효율적입니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-114">Installing applications on a custom image is more efficient than installing them on each compute node after it is provisioned.</span></span>
- <span data-ttu-id="451c7-115">**많은 양의 데이터 복사.**</span><span class="sxs-lookup"><span data-stu-id="451c7-115">**Copy significant amounts of data.**</span></span> <span data-ttu-id="451c7-116">데이터를 사용자 지정 이미지에 복사하는 경우 각 계산 노드에 복사하는 것보다는 한 번만 복사하여 시간과 대역폭을 절감해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-116">If the data is copied to the custom image, it only needs to be copied once, rather than to each compute node, saving time and bandwidth.</span></span>
- <span data-ttu-id="451c7-117">**설치 과정 중에 VM 다시 부팅.**</span><span class="sxs-lookup"><span data-stu-id="451c7-117">**Reboot the VM during the setup process.**</span></span> <span data-ttu-id="451c7-118">VM을 다시 부팅하는 것은 특히 여러 계산 노드가 있는 경우 시간이 많이 소요되는 과정일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-118">Rebooting the VM can be a time-consuming process, especially if you have a number of compute nodes.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="451c7-119">필수 조건</span><span class="sxs-lookup"><span data-stu-id="451c7-119">Prerequisites</span></span>

- <span data-ttu-id="451c7-120">**사용자 구독 풀 할당 모드로 만든 Batch 계정.**</span><span class="sxs-lookup"><span data-stu-id="451c7-120">**A Batch account created with the User Subscription pool allocation mode.**</span></span> <span data-ttu-id="451c7-121">가상 컴퓨터 풀을 프로비전하는 데 사용자 지정 이미지를 사용하려면 사용자 구독 [풀 할당 모드](batch-api-basics.md#pool-allocation-mode)로 Batch 계정을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-121">To use a custom image to provision Virtual Machine pools, create your Batch account with the User Subscription [pool allocation mode](batch-api-basics.md#pool-allocation-mode).</span></span> <span data-ttu-id="451c7-122">이 모드를 사용하면 해당 계정이 있는 구독에 Batch 풀이 할당됩니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-122">With this mode, Batch pools are allocated into the subscription where the account resides.</span></span> <span data-ttu-id="451c7-123">Batch 계정을 만들 때 풀 할당 모드를 설정하는 방법에 대한 자세한 내용은 [Batch를 사용하여 대규모 병렬 계산 솔루션 개발](batch-api-basics.md)의 [계정](batch-api-basics.md#account) 섹션을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="451c7-123">See the [Account](batch-api-basics.md#account) section in [Develop large-scale parallel compute solutions with Batch](batch-api-basics.md) for information on setting the pool allocation mode when you create a Batch account.</span></span>

- <span data-ttu-id="451c7-124">**Azure Storage 계정.**</span><span class="sxs-lookup"><span data-stu-id="451c7-124">**An Azure Storage account.**</span></span> <span data-ttu-id="451c7-125">사용자 지정 이미지를 사용하여 가상 컴퓨터 풀을 만들려면 동일한 구독 및 지역에 표준의 범용 Azure Storage 계정이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-125">To create a pool of virtual machines using a custom image, you need a standard, general-purpose Azure Storage account in the same subscription and region.</span></span> <span data-ttu-id="451c7-126">Azure VM에서 사용자 지정 이미지를 만드는 경우 VM의 OS 디스크가 상주하는 저장소 계정에 이미지를 복사하고 별도의 저장소 계정을 만들 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-126">If you create a custom image from an Azure VM, then you will copy the image to the storage account where the VM's OS disk resides, and you won't need to create a separate storage account.</span></span> 
    
## <a name="prepare-a-custom-image"></a><span data-ttu-id="451c7-127">사용자 지정 이미지 준비</span><span class="sxs-lookup"><span data-stu-id="451c7-127">Prepare a custom image</span></span>

<span data-ttu-id="451c7-128">Batch와 함께 사용할 사용자 지정 이미지를 준비하려면 Linux 또는 Windows의 기존 설치를 일반화해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-128">To prepare a custom image for use with Batch, you must generalize an existing installation of Linux or Windows.</span></span> <span data-ttu-id="451c7-129">운영 체제 설치를 일반화하면 컴퓨터 특정 정보가 제거되며,</span><span class="sxs-lookup"><span data-stu-id="451c7-129">Generalizing an operating system installation removes machine-specific information.</span></span> <span data-ttu-id="451c7-130">결과는 다른 컴퓨터 또는 VM에 설치할 수 있는 이미지입니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-130">The result is an image that can be installed on other computers or VMs.</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="451c7-131">Batch에서는 현재 풀을 프로비전하는 데 Azure 관리 이미지 사용을 지원하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-131">Batch does not currently support using Azure managed images to provision a pool.</span></span> <span data-ttu-id="451c7-132">풀을 프로비전하는 데 사용하는 사용자 지정 이미지는 Azure Storage에 저장해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-132">The custom image you use to provision a pool must be stored in Azure Storage.</span></span> 
>
> <span data-ttu-id="451c7-133">사용자 지정 이미지를 준비할 때는 다음 사항에 유의해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-133">When preparing your custom image, keep in mind the following points:</span></span>
> - <span data-ttu-id="451c7-134">Batch 풀을 프로비전하는 데 사용할 기본 OS 이미지에 사전 설치된 Azure 확장(사용자 지정 스크립트 확장)이 없는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-134">Ensure that the base OS image you use to provision your Batch pools does not have any pre-installed Azure extensions, such as the Custom Script extension.</span></span> <span data-ttu-id="451c7-135">이미지에 사전 설치된 확장이 있는 경우 Azure에서 VM 배포 시 문제가 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-135">If the image contains a pre-installed extension, Azure may encounter problems deploying the VM.</span></span>
> - <span data-ttu-id="451c7-136">Batch 노드 에이전트는 현재 기본 임시 드라이브를 예상하므로 사용자가 제공하는 기본 OS 이미지가 기본 임시 드라이브를 사용하는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-136">Ensure that the base OS image you provide uses the default temp drive, as the Batch node agent currently expects the default temp drive.</span></span>
>
>

<span data-ttu-id="451c7-137">모든 기존의 준비된 Windows 또는 Linux 이미지를 사용자 지정 이미지로 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-137">You can use any existing prepared Windows or Linux image as a custom image.</span></span> <span data-ttu-id="451c7-138">예를 들어 로컬 이미지를 사용하려면 [AzCopy](../storage/storage-use-azcopy.md) 또는 다른 업로드 도구를 사용하여 이미지를 Batch 계정과 동일한 구독 및 지역에 있는 Azure Storage 계정에 업로드합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-138">For example, if you wish to use a local image, then upload the image to an Azure Storage account that is in the same subscription and region as your Batch account using [AzCopy](../storage/storage-use-azcopy.md) or another upload tool.</span></span>

<span data-ttu-id="451c7-139">새로운 또는 기존 Azure VM에서 사용자 지정 이미지를 준비할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-139">You can also prepare a custom image from a new or existing Azure VM.</span></span> <span data-ttu-id="451c7-140">새 VM을 만드는 경우 Azure Marketplace 이미지를 사용자 지정 이미지에 대한 기본 이미지로 사용한 후 사용자 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-140">If you are creating a new VM, you can use an Azure Marketplace image as the base image for your custom image and then customize it.</span></span> <span data-ttu-id="451c7-141">기본 이미지를 사용자 지정하려면 Azure VM을 만들고 응용 프로그램 또는 데이터를 추가하세요.</span><span class="sxs-lookup"><span data-stu-id="451c7-141">To customize the base image, create an Azure VM and add your applications or data to it.</span></span> <span data-ttu-id="451c7-142">그런 다음 사용자 지정 이미지 역할을 하도록 VM을 일반화하고 Azure Storage에 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-142">Then generalize the VM to serve as your custom image and save it to Azure Storage.</span></span> 

<span data-ttu-id="451c7-143">Azure VM에서 사용자 지정 이미지를 준비하려면 다음 단계를 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-143">To prepare a custom image from an Azure VM, follow these steps:</span></span>

1. <span data-ttu-id="451c7-144">Azure Marketplace 이미지에서 **관리되지 않는** Azure VM을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-144">Create an **unmanaged** Azure VM from an Azure Marketplace image.</span></span> <span data-ttu-id="451c7-145">Azure Marketplace에는 [Windows](../virtual-machines/windows/quick-create-portal.md) 및 [Linux](../virtual-machines/linux/quick-create-portal.md) 모두에 대한 이미지가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-145">Azure Marketplace includes images for both [Windows](../virtual-machines/windows/quick-create-portal.md) and [Linux](../virtual-machines/linux/quick-create-portal.md).</span></span>
    
    <span data-ttu-id="451c7-146">VM 만들기 프로세스의 3단계에서 **저장소: Managed Disks 사용** 옵션으로 **아니요**를 선택했는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-146">On step 3 of the VM creation process, make sure that you select **No** for **Storage: Use Managed Disks** option.</span></span> <span data-ttu-id="451c7-147">또한 Azure에서 저장소 계정에 사용자 지정 이미지를 저장하므로 VM의 OS 디스크의 저장소 이름을 기록해 둡니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-147">Also take note of the storage account name for the VM's OS disk, as this storage account is also where Azure will save your custom image:</span></span>

    ![관리되지 않는 VM 만들기 및 저장소 계정 이름 기록](media/batch-custom-images/vm-create-storage.png)
 
2. <span data-ttu-id="451c7-149">VM을 만드는 과정을 완료하고 Azure에서 할당할 때까지 기다립니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-149">Complete the process of creating your VM, and wait for it to be allocated by Azure.</span></span> <span data-ttu-id="451c7-150">다음은 Azure Portal에서 실행 상태의 VM을 보여 주는 이미지입니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-150">Here's an image that shows a VM in the Azure portal in the running state:</span></span>

    ![마켓플레이스 이미지에서 VM 만들기](media/batch-custom-images/vm-status-running.png)

3. <span data-ttu-id="451c7-152">VM이 실행되면 RDP(Windows용) 또는 SSH(Linux용)를 통해 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-152">Once the VM is running, connect to it via RDP (for Windows) or SSH (for Linux).</span></span> <span data-ttu-id="451c7-153">필요한 소프트웨어를 설치하거나 원하는 데이터를 복사한 후 VM을 일반화합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-153">Install any necessary software or copy desired data, and then generalize the VM.</span></span> <span data-ttu-id="451c7-154">[VM 일반화](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized.md#generalize-the-vm)에 설명된 단계를 따릅니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-154">Follow the steps described in [Generalize the VM](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized.md#generalize-the-vm).</span></span> 
   
4. <span data-ttu-id="451c7-155">단계에 따라 [Azure PowerShell에 로그인](../virtual-machines/windows/sa-copy-generalized.md#log-in-to-azure-powershell)합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-155">Follow the steps to [Log in to Azure PowerShell](../virtual-machines/windows/sa-copy-generalized.md#log-in-to-azure-powershell).</span></span> <span data-ttu-id="451c7-156">Azure PowerShell을 설치하려면 [Azure PowerShell 개요](https://docs.microsoft.com/powershell/azure/overview?view=azurermps-4.2.0)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="451c7-156">To install Azure PowerShell, see [Overview of Azure PowerShell](https://docs.microsoft.com/powershell/azure/overview?view=azurermps-4.2.0).</span></span> 

5. <span data-ttu-id="451c7-157">다음으로, 단계에 따라 [VM의 할당을 취소하고 상태를 일반화됨으로 설정](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized#deallocate-the-vm-and-set-the-state-to-generalized)합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-157">Next, follow the steps to [Deallocate the VM and set the state to generalized](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized#deallocate-the-vm-and-set-the-state-to-generalized).</span></span> 

    <span data-ttu-id="451c7-158">Azure Portal에서 VM의 할당 취소를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-158">In the Azure portal, notice that the VM is deallocated:</span></span>

    ![VM의 할당 취소 확인](media/batch-custom-images/vm-status-deallocated.png)

6.  <span data-ttu-id="451c7-160">[Save-AzureRmVMImage](https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvmimage) PowerShell cmdlet을 사용하여 Azure Storage에 VM 이미지를 만들고 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-160">Create and save the VM image to Azure Storage using the [Save-AzureRmVMImage](https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvmimage) PowerShell cmdlet.</span></span> <span data-ttu-id="451c7-161">[이미지 만들기](../virtual-machines/windows/sa-copy-generalized.md#create-the-image)에 설명된 지침을 따릅니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-161">Follow the instructions described in [Create the image](../virtual-machines/windows/sa-copy-generalized.md#create-the-image).</span></span>
    
    <span data-ttu-id="451c7-162">VM 이미지는 이 절차의 1단계에서와 같이 VM을 만들 때 만든 Azure Storage 계정에 저장됩니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-162">The VM image is saved to the Azure Storage account created when the VM was created, as shown in step 1 of this procedure.</span></span> <span data-ttu-id="451c7-163">Save-AzureRmVMImage cmdlet은 이미지를 해당 저장소 계정의 **system** 컨테이너에 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-163">the Save-AzureRmVMImage cmdlet saves the image to the **system** container in that storage account.</span></span> <span data-ttu-id="451c7-164">`-DestinationContainername` 매개 변수 이름은 **system** 컨테이너 내에서 가상 디렉터리 이름을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-164">The `-DestinationContainername` parameter names a virtual directory within the **system** container.</span></span> <span data-ttu-id="451c7-165">`-VHDNamePrefix` 매개 변수는 Blob 이름에 대한 접두사를 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-165">The `-VHDNamePrefix` parameter specifies a prefix for the blob name.</span></span> <span data-ttu-id="451c7-166">이 접두사는 하이픈으로 Blob 이름 앞에 추가됩니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-166">This prefix is prepended to the blob name with a hyphen.</span></span> 

    <span data-ttu-id="451c7-167">예를 들어 다음 매개 변수로 Save-AzureRmVMImage를 호출한다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-167">For example, suppose you call Save-AzureRmVMImage with the following parameters:</span></span>  

        Save-AzureRmVMImage -ResourceGroupName sample-resource-group -Name vm-custom-image -DestinationContainerName batchimages -VHDNamePrefix custom -Path C:\Temp\Images\vm-custom-image.json

    <span data-ttu-id="451c7-168">결과 이미지는 여기에 표시된 위치와 Blob 이름에 저장됩니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-168">The resulting image is saved to the location and blob name shown here:</span></span>

    ![system 컨테이너에 저장된 VHD의 위치](media/batch-custom-images/vhd-in-vm-storage-account.png)

    > [!NOTE]
    > <span data-ttu-id="451c7-170">Azure 관리되지 않는 VM은 다양한 용도로 여러 저장소 계정을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-170">An Azure unmanaged VM creates several storage accounts for different purposes.</span></span> <span data-ttu-id="451c7-171">VM을 만들 때 OS 디스크에 대한 저장소 컨테이너의 이름을 기록해 두지 않았다면 **system** 컨테이너를 포함하는 관련 저장소 계정을 찾습니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-171">If you did not note the name of the storage container for the OS disk when the VM was created, then find the associated storage account that contains the **system** container.</span></span> <span data-ttu-id="451c7-172">**system** 컨테이너를 탐색하여 **Save-AzureRmVMImage** 명령에 대해 지정된 값을 사용하여 사용자 지정 이미지를 찾습니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-172">Navigate through the **system** container to find the custom image using the values you specified for the **Save-AzureRmVMImage** command.</span></span>

## <a name="create-a-pool-from-a-custom-image-in-the-portal"></a><span data-ttu-id="451c7-173">포털의 사용자 지정 이미지에서 풀 만들기</span><span class="sxs-lookup"><span data-stu-id="451c7-173">Create a pool from a custom image in the portal</span></span>

<span data-ttu-id="451c7-174">사용자 지정 이미지를 저장했고 해당 위치를 알고 있으면 해당 이미지에서 Batch 풀을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-174">Once you have saved your custom image and you know its location, you can create a Batch pool from that image.</span></span> <span data-ttu-id="451c7-175">Azure Portal에서 풀을 만들려면 다음 단계를 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-175">Follow these steps to create a pool from the Azure portal:</span></span>

1. <span data-ttu-id="451c7-176">Azure Portal에서 Batch 계정으로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-176">Navigate to your Batch account in the Azure portal.</span></span> <span data-ttu-id="451c7-177">이 계정은 사용자 지정 이미지가 포함된 저장소 계정과 동일한 구독 및 지역에 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-177">This account must be in the same subscription and region as the storage account containing the custom image.</span></span> 
2. <span data-ttu-id="451c7-178">왼쪽의 **설정** 창에서 **풀** 메뉴 항목을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-178">In the **Settings** window on the left, select the **Pools** menu item.</span></span>
3. <span data-ttu-id="451c7-179">**풀** 창에서 **추가** 명령을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-179">In the **Pools** window, select the **Add** command.</span></span>
4. <span data-ttu-id="451c7-180">**풀 추가** 창의 **이미지 형식** 드롭다운에서 **사용자 지정 이미지(Linux/Windows)**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-180">On the **Add Pool** window, select **Custom Image (Linux/Windows)** from the **Image Type** dropdown.</span></span> <span data-ttu-id="451c7-181">포털에서 **사용자 지정 이미지** 선택기가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-181">The portal displays the **Custom Image** picker.</span></span> <span data-ttu-id="451c7-182">사용자 지정 이미지가 있는 저장소 계정으로 이동하고 컨테이너에서 원하는 VHD를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-182">Navigate to the storage account where your custom image is located, and select the desired VHD from the container.</span></span> 
5. <span data-ttu-id="451c7-183">사용자 지정 VHD에 대해 올바른 **게시자/제품/Sku**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-183">Select the correct **Publisher/Offer/Sku** for your custom VHD.</span></span>
6. <span data-ttu-id="451c7-184">**노드 크기**, **대상 전용 노드** 및 **낮은 우선 순위 노드** 등 나머지 필수 설정과 선택 사항인 설정을 원하는 대로 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-184">Specify the remaining required settings, including the **Node size**, **Target dedicated nodes**, and **Low priority nodes**, as well as any desired optional settings.</span></span>

    <span data-ttu-id="451c7-185">예를 들어 Microsoft Windows Server Datacenter 2016 사용자 지정 이미지에 대 해서는 아래 표시된 것처럼 **풀 추가** 창이 나타납니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-185">For example, for a Microsoft Windows Server Datacenter 2016 custom image, the **Add Pool** window appears as shown here:</span></span>

    ![사용자 지정 Windows 이미지에서 풀 추가](media/batch-custom-images/add-pool-custom-image.png)
  
<span data-ttu-id="451c7-187">기존 풀이 사용자 지정 이미지를 기반으로 하는지 확인하려면 **풀** 창의 리소스 요약 섹션에 있는 **운영 체제** 속성을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="451c7-187">To check whether an existing pool is based on a custom image, see the **Operating System** property in the resource summary section of the **Pool** window.</span></span> <span data-ttu-id="451c7-188">사용자 지정 이미지에서 풀을 만든 경우 **사용자 지정 VM 이미지**로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-188">If the pool was created from a custom image, it is set to **Custom VM Image**.</span></span>

<span data-ttu-id="451c7-189">풀과 연결된 모든 사용자 지정 VHD가 해당 풀의 **속성** 창에 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="451c7-189">All custom VHDs associated with a pool are displayed on the pool's **Properties** window.</span></span>
 
## <a name="next-steps"></a><span data-ttu-id="451c7-190">다음 단계</span><span class="sxs-lookup"><span data-stu-id="451c7-190">Next steps</span></span>

- <span data-ttu-id="451c7-191">Batch에 대한 심층적인 개요는 [Batch를 사용하여 대규모 병렬 계산 솔루션 개발](batch-api-basics.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="451c7-191">For an in-depth overview of Batch, see [Develop large-scale parallel compute solutions with Batch](batch-api-basics.md).</span></span>
- <span data-ttu-id="451c7-192">Batch 계정을 만드는 방법에 대한 자세한 내용은 [Azure Portal에서 Batch 계정 만들기](batch-account-create-portal.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="451c7-192">For information about creating a Batch account, see [Create a Batch account with the Azure portal](batch-account-create-portal.md).</span></span>