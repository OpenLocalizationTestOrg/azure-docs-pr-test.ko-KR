---
title: "Azure SQL Database 방화벽 규칙 | Microsoft Docs"
description: "서버 수준 및 데이터베이스 수준 방화벽 규칙으로 SQL 데이터베이스 방화벽을 구성하여 액세스를 관리하는 방법에 대해 알아봅니다."
keywords: "데이터베이스 방화벽"
services: sql-database
documentationcenter: 
author: BYHAM
manager: jhubbard
editor: cgronlun
tags: 
ms.assetid: ac57f84c-35c3-4975-9903-241c8059011e
ms.service: sql-database
ms.custom: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 04/10/2017
ms.author: rickbyh
ms.openlocfilehash: 583c91376418d20d34db17d57d3fa14a1e71cd3b
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/11/2017
---
# <a name="azure-sql-database-server-level-and-database-level-firewall-rules"></a><span data-ttu-id="0014e-104">Azure SQL Database 서버 수준 및 데이터베이스 수준 방화벽 규칙</span><span class="sxs-lookup"><span data-stu-id="0014e-104">Azure SQL Database server-level and database-level firewall rules</span></span> 

<span data-ttu-id="0014e-105">Microsoft Azure SQL 데이터베이스는 Azure 및 기타 인터넷 기반 응용 프로그램의 관계형 데이터베이스 서비스를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-105">Microsoft Azure SQL Database provides a relational database service for Azure and other Internet-based applications.</span></span> <span data-ttu-id="0014e-106">데이터를 보호하기 위해 방화벽은 권한이 있는 컴퓨터를 지정할 때까지 데이터베이스 서버에 대한 모든 액세스를 금지합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-106">To help protect your data, firewalls prevent all access to your database server until you specify which computers have permission.</span></span> <span data-ttu-id="0014e-107">방화벽은 각 요청이 시작된 IP 주소의 데이터베이스에 대한 액세스를 허용합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-107">The firewall grants access to databases based on the originating IP address of each request.</span></span>

## <a name="overview"></a><span data-ttu-id="0014e-108">개요</span><span class="sxs-lookup"><span data-stu-id="0014e-108">Overview</span></span>

<span data-ttu-id="0014e-109">먼저, Azure SQL 서버에 대한 모든 Transact-SQL 액세스는 방화벽에 의해 차단됩니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-109">Initially, all Transact-SQL access to your Azure SQL server is blocked by the firewall.</span></span> <span data-ttu-id="0014e-110">Azure SQL Server를 사용하려면 Azure SQL Server에 액세스를 가능하게 하는 하나 이상의 서버 수준 방화벽 규칙을 지정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-110">To begin using your Azure SQL server, you must specify one or more server-level firewall rules that enable access to your Azure SQL server.</span></span> <span data-ttu-id="0014e-111">방화벽 규칙을 사용하여 인터넷이 허용하는 IP 주소 범위 및 Azure 응용 프로그램 Azure SQL 서버의 연결 시도 가능 여부를 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-111">Use the firewall rules to specify which IP address ranges from the Internet are allowed, and whether Azure applications can attempt to connect to your Azure SQL server.</span></span>

<span data-ttu-id="0014e-112">선택적으로 Azure SQL Server에 있는 데이터베이스 중 하나에 대해서만 액세스 권한을 부여하려면 필수 데이터베이스에 대해 데이터베이스 수준 규칙을 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-112">To selectively grant access to just one of the databases in your Azure SQL server, you must create a database-level rule for the required database.</span></span> <span data-ttu-id="0014e-113">서버 수준 방화벽 규칙에 지정된 IP 주소 범위 밖의 데이터베이스 방화벽 규칙의 IP 주소 범위를 지정한 경우, 클라이언트의 IP 주소가 데이터베이스 수준 규칙에 지정된 범위에 속하는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-113">Specify an IP address range for the database firewall rule that is beyond the IP address range specified in the server-level firewall rule, and ensure that the IP address of the client falls in the range specified in the database-level rule.</span></span>

<span data-ttu-id="0014e-114">인터넷과 Azure로부터의 연결 시도는 다음 다이어그램과 같이 Azure SQL Server 또는 SQL Database에 연결하기 전에 먼저 방화벽을 통과해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-114">Connection attempts from the Internet and Azure must first pass through the firewall before they can reach your Azure SQL server or SQL Database, as shown in the following diagram:</span></span>

   ![방화벽 구성을 설명하는 다이어그램입니다.][1]

* <span data-ttu-id="0014e-116">**서버 수준 방화벽 규칙:** 이 규칙은 모든 Azure SQL 서버, 즉, 동일한 논리 서버 내의 모든 데이터베이스에 클라이언트가 액세스할 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-116">**Server-level firewall rules:** These rules enable clients to access your entire Azure SQL server, that is, all the databases within the same logical server.</span></span> <span data-ttu-id="0014e-117">이 규칙은 **master** 데이터베이스에 저장됩니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-117">These rules are stored in the **master** database.</span></span> <span data-ttu-id="0014e-118">포털 또는 Transact-SQL 문을 사용하여 서버 수준 방화벽 규칙을 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-118">Server-level firewall rules can be configured by using the portal or by using Transact-SQL statements.</span></span> <span data-ttu-id="0014e-119">Azure Portal 또는 PowerShell을 사용하여 서버 수준 방화벽 규칙을 만들려면 구독 소유자 또는 구독 참가자여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-119">To create server-level firewall rules using the Azure portal or PowerShell, you must be the subscription owner or a subscription contributor.</span></span> <span data-ttu-id="0014e-120">Transact-SQL을 사용하여 서버 수준 방화벽 규칙을 만들려면 서버 수준 주체 로그인 또는 Azure Active Directory 관리자로 SQL Database 인스턴스에 연결해야 합니다. 다시 말하면 Azure 수준 권한을 가진 사용자가 먼저 서버 수준 방화벽 규칙을 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-120">To create a server-level firewall rule using Transact-SQL, you must connect to the SQL Database instance as the server-level principal login or the Azure Active Directory administrator (which means that a server-level firewall rule must first be created by a user with Azure-level permissions).</span></span>
* <span data-ttu-id="0014e-121">**데이터베이스 수준 방화벽 규칙:** 이 규칙은 동일한 논리 서버 내의 특정(보안) 데이터베이스에 클라이언트가 액세스할 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-121">**Database-level firewall rules:** These rules enable clients to access certain (secure) databases within the same logical server.</span></span> <span data-ttu-id="0014e-122">각 데이터베이스(**master** 데이터베이스 포함)에 대해 이러한 규칙을 만들 수 있으며 규칙은 개별 데이터베이스에 저장됩니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-122">You can create these rules for each database (including the **master** database0) and they are stored in the individual databases.</span></span> <span data-ttu-id="0014e-123">데이터베이스 수준 방화벽 규칙은 Transact-SQL 문을 사용하는 경우에 한해 첫 번째 서버 수준 방화벽을 구성한 후에 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-123">Database-level firewall rules can only be configured by using Transact-SQL statements and only after you have configured the first server-level firewall.</span></span> <span data-ttu-id="0014e-124">서버 수준 방화벽 규칙 내 지정된 범위 밖의 데이터베이스 수준 방화벽 규칙의 IP 주소 범위를 지정한 경우, 데이터베이스 수준 범위 내에 IP 주소를 가진 클라이언트만이 데이터베이스에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-124">If you specify an IP address range in the database-level firewall rule that is outside the range specified in the server-level firewall rule, only those clients that have IP addresses in the database-level range can access the database.</span></span> <span data-ttu-id="0014e-125">데이터베이스에 대해 최대 128개의 데이터베이스 수준 방화벽 규칙을 가질 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-125">You can have a maximum of 128 database-level firewall rules for a database.</span></span> <span data-ttu-id="0014e-126">master 및 사용자 데이터베이스에 대한 데이터베이스 수준 방화벽 규칙은 Transact-SQL을 통해서만 만들고 관리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-126">Database-level firewall rules for master and user databases can only be created and managed through Transact-SQL.</span></span> <span data-ttu-id="0014e-127">데이터베이스 수준의 방화벽 규칙 구성에 대한 자세한 내용은 이 문서 뒷부분에 나오는 예제와 [sp_set_database_firewall_rule(Azure SQL Database)](https://msdn.microsoft.com/library/dn270010.aspx)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0014e-127">For more information on configuring database-level firewall rules, see the example later in this article and see [sp_set_database_firewall_rule (Azure SQL Databases)](https://msdn.microsoft.com/library/dn270010.aspx).</span></span>

<span data-ttu-id="0014e-128">**권장 사항:** Microsoft는 보안을 강화하고 데이터베이스의 휴대성이 높아질수록 데이터베이스 수준 방화벽을 사용하도록 권장합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-128">**Recommendation:** Microsoft recommends using database-level firewall rules whenever possible to enhance security and to make your database more portable.</span></span> <span data-ttu-id="0014e-129">관리자의 경우 서버 수준 방화벽 규칙을 사용하면 동일한 액세스를 요구하는 데이터베이스가 많을 때 각 데이터베이스를 개별적으로 구성할 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-129">Use server-level firewall rules for administrators and when you have many databases that have the same access requirements and you don't want to spend time configuring each database individually.</span></span>

> [!Note]
> <span data-ttu-id="0014e-130">비즈니스 연속성의 맥락에서 휴대용 데이터베이스에 대한 자세한 내용은 [재해 복구를 위한 인증 요구 사항](sql-database-geo-replication-security-config.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0014e-130">For information about portable databases in the context of business continuity, see [Authentication requirements for disaster recovery](sql-database-geo-replication-security-config.md).</span></span>
>

### <a name="connecting-from-the-internet"></a><span data-ttu-id="0014e-131">인터넷에서 연결하기</span><span class="sxs-lookup"><span data-stu-id="0014e-131">Connecting from the Internet</span></span>

<span data-ttu-id="0014e-132">컴퓨터가 인터넷의 데이터베이스에 연결을 시도할 때, 방화벽은 먼저 연결을 요청하는 데이터베이스를 위해 데이터베이스 수준 방화벽 규칙에 반하는 요청의 본래 IP 주소를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-132">When a computer attempts to connect to your database server from the Internet, the firewall first checks the originating IP address of the request against the database-level firewall rules, for the database that the connection is requesting:</span></span>

* <span data-ttu-id="0014e-133">요청 IP 주소가 데이터베이스 수준 방화벽 규칙의 지정된 범위 안에 있을 경우, 규칙을 포함한 SQL Database 서버 연결이 허용됩니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-133">If the IP address of the request is within one of the ranges specified in the database-level firewall rules, the connection is granted to the SQL Database that contains the rule.</span></span>
* <span data-ttu-id="0014e-134">요청된 IP 주소가 데이터베이스 수준 방화벽 규칙의 지정된 범위 안에 없을 경우, 서버 수준 방화벽 규칙을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-134">If the IP address of the request is not within one of the ranges specified in the database-level firewall rule, the server-level firewall rules are checked.</span></span> <span data-ttu-id="0014e-135">요청된 IP 주소가 서버 수준 방화벽 규칙의 지정된 범위 안에 있을 경우, 연결이 허용됩니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-135">If the IP address of the request is within one of the ranges specified in the server-level firewall rules, the connection is granted.</span></span> <span data-ttu-id="0014e-136">서버 수준 방화벽 규칙은 Azure SQL Server에 있는 모든 SQL Database에 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-136">Server-level firewall rules apply to all SQL databases on the Azure SQL server.</span></span>  
* <span data-ttu-id="0014e-137">요청 IP 주소가 데이터베이스 수준 또는 서버 수준 방화벽 규칙의 지정된 범위 안에 없을 경우, 연결 요청이 실패합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-137">If the IP address of the request is not within the ranges specified in any of the database-level or server-level firewall rules, the connection request fails.</span></span>

> [!NOTE]
> <span data-ttu-id="0014e-138">로컬 컴퓨터에서 Azure SQL Database로 액세스하려면, 네트워크의 방화벽과 로컬 컴퓨터가 TCP 포트 1433으로 나가는 통신을 허용하는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-138">To access Azure SQL Database from your local computer, ensure the firewall on your network and local computer allows outgoing communication on TCP port 1433.</span></span>
> 

### <a name="connecting-from-azure"></a><span data-ttu-id="0014e-139">Azure에서 연결</span><span class="sxs-lookup"><span data-stu-id="0014e-139">Connecting from Azure</span></span>
<span data-ttu-id="0014e-140">Azure에서 응용 프로그램을 Azure SQL Server에 연결할 수 있게 하려면 Azure 연결을 사용하도록 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-140">To allow applications from Azure to connect to your Azure SQL server, Azure connections must be enabled.</span></span> <span data-ttu-id="0014e-141">Azure의 응용 프로그램이 데이터베이스 서버로 연결을 시도할 때, 방화벽은 Azure 연결이 허용되는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-141">When an application from Azure attempts to connect to your database server, the firewall verifies that Azure connections are allowed.</span></span> <span data-ttu-id="0014e-142">0.0.0.0으로 된 시작 및 끝 주소가 포함된 방화벽 설정은 연결이 허용됨을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-142">A firewall setting with starting and ending address equal to 0.0.0.0 indicates these connections are allowed.</span></span> <span data-ttu-id="0014e-143">연결 시도가 허용되지 않는 경우, 요청은 Azure SQL Database 서버로 도달되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-143">If the connection attempt is not allowed, the request does not reach the Azure SQL Database server.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="0014e-144">이 옵션은 다른 고객 구독에서의 연결을 포함하여 Azure에서의 모든 연결을 허용하도록 방화벽을 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-144">This option configures the firewall to allow all connections from Azure including connections from the subscriptions of other customers.</span></span> <span data-ttu-id="0014e-145">이 옵션을 선택할 때 로그인 및 사용자 권한이 부여된 사용자만으로 액세스를 제한하는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-145">When selecting this option, make sure your login and user permissions limit access to only authorized users.</span></span>
> 

## <a name="creating-and-managing-firewall-rules"></a><span data-ttu-id="0014e-146">방화벽 규칙 만들기 및 관리</span><span class="sxs-lookup"><span data-stu-id="0014e-146">Creating and managing firewall rules</span></span>
<span data-ttu-id="0014e-147">첫 번째 서버 수준 방화벽 설정은 [Azure Portal](https://portal.azure.com/)을 사용하거나 [Azure PowerShell](https://msdn.microsoft.com/library/azure/dn546724.aspx), [Azure CLI](/cli/azure/sql/server/firewall-rule#create) 또는 [REST API](https://msdn.microsoft.com/library/azure/dn505712.aspx)를 사용하여 프로그래밍 방식으로 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-147">The first server-level firewall setting can be created using the [Azure portal](https://portal.azure.com/) or programmatically using [Azure PowerShell](https://msdn.microsoft.com/library/azure/dn546724.aspx), [Azure CLI](/cli/azure/sql/server/firewall-rule#create), or the [REST API](https://msdn.microsoft.com/library/azure/dn505712.aspx).</span></span> <span data-ttu-id="0014e-148">후속 서버 수준 방화벽 규칙은 이러한 방법과 Transact-SQL을 사용하여 만들고 관리 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-148">Subsequent server-level firewall rules can be created and managed using these methods, and through Transact-SQL.</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="0014e-149">데이터베이스 수준 방화벽 규칙은 Transact-SQL을 사용해야만 만들고 관리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-149">Database-level firewall rules can only be created and managed using Transact-SQL.</span></span> 
>

<span data-ttu-id="0014e-150">성능 향상을 위해 서버 수준 방화벽 규칙이 데이터베이스 수준에서 일시적으로 캐시됩니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-150">To improve performance, server-level firewall rules are temporarily cached at the database level.</span></span> <span data-ttu-id="0014e-151">캐시를 새로 고치려면 [DBCC FLUSHAUTHCACHE](https://msdn.microsoft.com/library/mt627793.aspx)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0014e-151">To refresh the cache, see [DBCC FLUSHAUTHCACHE](https://msdn.microsoft.com/library/mt627793.aspx).</span></span> 

> [!TIP]
> <span data-ttu-id="0014e-152">[SQL Database 감사](sql-database-auditing.md)를 사용하여 서버 수준 및 데이터베이스 수준의 방화벽 변경 내용을 감사할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-152">You can use [SQL Database Auditing](sql-database-auditing.md) to audit server-level and database-level firewall changes.</span></span>
>

### <a name="azure-portal"></a><span data-ttu-id="0014e-153">Azure 포털</span><span class="sxs-lookup"><span data-stu-id="0014e-153">Azure portal</span></span>

<span data-ttu-id="0014e-154">Azure Portal에서 서버 수준 방화벽 규칙을 설정하려면 Azure SQL Database의 개요 페이지 또는 Azure Database 논리 서버의 개요 페이지로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-154">To set a server-level firewall rule in the Azure portal, you can either go to the Overview page for your Azure SQL database or the Overview page for your Azure Database logical server.</span></span>

> [!TIP]
> <span data-ttu-id="0014e-155">자습서는 [Azure Portal을 사용하여 DB 만들기](sql-database-get-started-portal.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0014e-155">For a tutorial, see [Create a DB using the Azure portal](sql-database-get-started-portal.md).</span></span>
>

<span data-ttu-id="0014e-156">**데이터베이스 개요 페이지에서**</span><span class="sxs-lookup"><span data-stu-id="0014e-156">**From database overview page**</span></span>

1. <span data-ttu-id="0014e-157">데이터베이스 개요 페이지에서 서버 수준 방화벽 규칙을 설정하려면 아래 이미지와 같이 도구 모음에서 **서버 방화벽 설정**을 클릭합니다. SQL Database 서버에 대한 **방화벽 설정** 페이지가 열립니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-157">To set a server-level firewall rule from the database overview page, click **Set server firewall** on the toolbar as shown in the following image: The **Firewall settings** page for the SQL Database server opens.</span></span>

      ![서버 방화벽 규칙](./media/sql-database-get-started-portal/server-firewall-rule.png) 

2. <span data-ttu-id="0014e-159">도구 모음에서 **클라이언트 IP 추가**를 클릭하여 현재 사용 중인 컴퓨터의 IP 주소를 추가한 다음 **저장**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-159">Click **Add client IP** on the toolbar to add the IP address of the computer you are currently using and then click **Save**.</span></span> <span data-ttu-id="0014e-160">현재 IP 주소에 대한 서버 수준 방화벽 규칙이 생성됩니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-160">A server-level firewall rule is created for your current IP address.</span></span>

      ![set server firewall rule](./media/sql-database-get-started-portal/server-firewall-rule-set.png) 

<span data-ttu-id="0014e-162">**서버 개요 페이지에서**</span><span class="sxs-lookup"><span data-stu-id="0014e-162">**From server overview page**</span></span>

<span data-ttu-id="0014e-163">서버에 대한 개요 페이지가 열리고 이 페이지에 정규화된 서버 이름(예: **mynewserver20170403.database.windows.net**)이 표시되며 추가 구성을 위한 옵션도 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-163">The overview page for your server opens, showing you the fully qualified server name (such as **mynewserver20170403.database.windows.net**) and provides options for further configuration.</span></span>

1. <span data-ttu-id="0014e-164">서버 개요 페이지에서 서버 수준 규칙을 설정하려면 다음 이미지와 같이 왼쪽 메뉴에서 설정 아래 **방화벽**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-164">To set a server-level rule from server overview page, click **Firewall** in the left-hand menu under Settings as showed in the following image:</span></span> 

     ![논리 서버 개요](./media/sql-database-migrate-your-sql-server-database/logical-server-overview.png)

2. <span data-ttu-id="0014e-166">도구 모음에서 **클라이언트 IP 추가**를 클릭하여 현재 사용 중인 컴퓨터의 IP 주소를 추가한 다음 **저장**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-166">Click **Add client IP** on the toolbar to add the IP address of the computer you are currently using and then click **Save**.</span></span> <span data-ttu-id="0014e-167">현재 IP 주소에 대한 서버 수준 방화벽 규칙이 생성됩니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-167">A server-level firewall rule is created for your current IP address.</span></span>

     ![set server firewall rule](./media/sql-database-migrate-your-sql-server-database/server-firewall-rule-set.png)

### <a name="transact-sql"></a><span data-ttu-id="0014e-169">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="0014e-169">Transact-SQL</span></span>
| <span data-ttu-id="0014e-170">카탈로그 뷰 또는 저장된 프로시저</span><span class="sxs-lookup"><span data-stu-id="0014e-170">Catalog View or Stored Procedure</span></span> | <span data-ttu-id="0014e-171">수준</span><span class="sxs-lookup"><span data-stu-id="0014e-171">Level</span></span> | <span data-ttu-id="0014e-172">설명</span><span class="sxs-lookup"><span data-stu-id="0014e-172">Description</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="0014e-173">sys.firewall_rules</span><span class="sxs-lookup"><span data-stu-id="0014e-173">sys.firewall_rules</span></span>](https://msdn.microsoft.com/library/dn269980.aspx) |<span data-ttu-id="0014e-174">서버</span><span class="sxs-lookup"><span data-stu-id="0014e-174">Server</span></span> |<span data-ttu-id="0014e-175">현재 서버 수준 방화벽 규칙 표시</span><span class="sxs-lookup"><span data-stu-id="0014e-175">Displays the current server-level firewall rules</span></span> |
| [<span data-ttu-id="0014e-176">sp_set_firewall_rule</span><span class="sxs-lookup"><span data-stu-id="0014e-176">sp_set_firewall_rule</span></span>](https://msdn.microsoft.com/library/dn270017.aspx) |<span data-ttu-id="0014e-177">서버</span><span class="sxs-lookup"><span data-stu-id="0014e-177">Server</span></span> |<span data-ttu-id="0014e-178">서버 수준 방화벽 규칙 생성 및 업데이트</span><span class="sxs-lookup"><span data-stu-id="0014e-178">Creates or updates server-level firewall rules</span></span> |
| [<span data-ttu-id="0014e-179">sp_delete_firewall_rule</span><span class="sxs-lookup"><span data-stu-id="0014e-179">sp_delete_firewall_rule</span></span>](https://msdn.microsoft.com/library/dn270024.aspx) |<span data-ttu-id="0014e-180">서버</span><span class="sxs-lookup"><span data-stu-id="0014e-180">Server</span></span> |<span data-ttu-id="0014e-181">서버 수준 방화벽 규칙 제거</span><span class="sxs-lookup"><span data-stu-id="0014e-181">Removes server-level firewall rules</span></span> |
| [<span data-ttu-id="0014e-182">sys.database_firewall_rules</span><span class="sxs-lookup"><span data-stu-id="0014e-182">sys.database_firewall_rules</span></span>](https://msdn.microsoft.com/library/dn269982.aspx) |<span data-ttu-id="0014e-183">데이터베이스</span><span class="sxs-lookup"><span data-stu-id="0014e-183">Database</span></span> |<span data-ttu-id="0014e-184">현재 데이터베이스 수준 방화벽 규칙 표시</span><span class="sxs-lookup"><span data-stu-id="0014e-184">Displays the current database-level firewall rules</span></span> |
| [<span data-ttu-id="0014e-185">sp_set_database_firewall_rule</span><span class="sxs-lookup"><span data-stu-id="0014e-185">sp_set_database_firewall_rule</span></span>](https://msdn.microsoft.com/library/dn270010.aspx) |<span data-ttu-id="0014e-186">데이터베이스</span><span class="sxs-lookup"><span data-stu-id="0014e-186">Database</span></span> |<span data-ttu-id="0014e-187">데이터베이스 수준 방화벽 규칙 생성 및 업데이트</span><span class="sxs-lookup"><span data-stu-id="0014e-187">Creates or updates the database-level firewall rules</span></span> |
| [<span data-ttu-id="0014e-188">sp_delete_database_firewall_rule</span><span class="sxs-lookup"><span data-stu-id="0014e-188">sp_delete_database_firewall_rule</span></span>](https://msdn.microsoft.com/library/dn270030.aspx) |<span data-ttu-id="0014e-189">데이터베이스</span><span class="sxs-lookup"><span data-stu-id="0014e-189">Databases</span></span> |<span data-ttu-id="0014e-190">데이터베이스 수준 방화벽 규칙 제거</span><span class="sxs-lookup"><span data-stu-id="0014e-190">Removes database-level firewall rules</span></span> |


<span data-ttu-id="0014e-191">다음 예제에서는 기존 규칙을 검토하고 Contoso 서버에서 일정 범위의 IP 주소를 사용하도록 설정하고 방화벽 규칙을 삭제합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-191">The following examples review the existing rules, enable a range of IP addresses on the server Contoso, and deletes a firewall rule:</span></span>
   
```sql
SELECT * FROM sys.firewall_rules ORDER BY name;
```
  
<span data-ttu-id="0014e-192">그런 다음 방화벽 규칙을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-192">Next, add a firewall rule.</span></span>
   
```sql
EXECUTE sp_set_firewall_rule @name = N'ContosoFirewallRule',
   @start_ip_address = '192.168.1.1', @end_ip_address = '192.168.1.10'
```

<span data-ttu-id="0014e-193">서버 수준 방화벽 규칙을 삭제 하려면 sp_delete_firewall_rule 저장 프로시저를 실행 합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-193">To delete a server-level firewall rule, execute the sp_delete_firewall_rule stored procedure.</span></span> <span data-ttu-id="0014e-194">다음 예제에서는 ContosoFirewallRule이라는 규칙을 삭제합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-194">The following example deletes the rule named ContosoFirewallRule:</span></span>
   
```sql
EXECUTE sp_delete_firewall_rule @name = N'ContosoFirewallRule'
```   

### <a name="azure-powershell"></a><span data-ttu-id="0014e-195">Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="0014e-195">Azure PowerShell</span></span>
| <span data-ttu-id="0014e-196">Cmdlet</span><span class="sxs-lookup"><span data-stu-id="0014e-196">Cmdlet</span></span> | <span data-ttu-id="0014e-197">수준</span><span class="sxs-lookup"><span data-stu-id="0014e-197">Level</span></span> | <span data-ttu-id="0014e-198">설명</span><span class="sxs-lookup"><span data-stu-id="0014e-198">Description</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="0014e-199">AzureSqlDatabaseServerFirewallRule가져오기</span><span class="sxs-lookup"><span data-stu-id="0014e-199">Get-AzureSqlDatabaseServerFirewallRule</span></span>](https://msdn.microsoft.com/library/azure/dn546731.aspx) |<span data-ttu-id="0014e-200">서버</span><span class="sxs-lookup"><span data-stu-id="0014e-200">Server</span></span> |<span data-ttu-id="0014e-201">현재 서버 수준 방화벽 규칙 반환</span><span class="sxs-lookup"><span data-stu-id="0014e-201">Returns the current server-level firewall rules</span></span> |
| [<span data-ttu-id="0014e-202">신규 AzureSqlDatabaseServerFirewallRule</span><span class="sxs-lookup"><span data-stu-id="0014e-202">New-AzureSqlDatabaseServerFirewallRule</span></span>](https://msdn.microsoft.com/library/azure/dn546724.aspx) |<span data-ttu-id="0014e-203">서버</span><span class="sxs-lookup"><span data-stu-id="0014e-203">Server</span></span> |<span data-ttu-id="0014e-204">새 서버 수준 방화벽 규칙 만들기</span><span class="sxs-lookup"><span data-stu-id="0014e-204">Creates a new server-level firewall rule</span></span> |
| [<span data-ttu-id="0014e-205">AzureSqlDatabaseServerFirewallRule집합</span><span class="sxs-lookup"><span data-stu-id="0014e-205">Set-AzureSqlDatabaseServerFirewallRule</span></span>](https://msdn.microsoft.com/library/azure/dn546739.aspx) |<span data-ttu-id="0014e-206">서버</span><span class="sxs-lookup"><span data-stu-id="0014e-206">Server</span></span> |<span data-ttu-id="0014e-207">기존 서버 수준 방화벽 규칙 속성 업데이트</span><span class="sxs-lookup"><span data-stu-id="0014e-207">Updates the properties of an existing server-level firewall rule</span></span> |
| [<span data-ttu-id="0014e-208">AzureSqlDatabaseServerFirewallRule삭제</span><span class="sxs-lookup"><span data-stu-id="0014e-208">Remove-AzureSqlDatabaseServerFirewallRule</span></span>](https://msdn.microsoft.com/library/azure/dn546727.aspx) |<span data-ttu-id="0014e-209">서버</span><span class="sxs-lookup"><span data-stu-id="0014e-209">Server</span></span> |<span data-ttu-id="0014e-210">서버 수준 방화벽 규칙 제거</span><span class="sxs-lookup"><span data-stu-id="0014e-210">Removes server-level firewall rules</span></span> |


<span data-ttu-id="0014e-211">다음 예제에서는 PowerShell을 사용하여 서버 수준 방화벽 규칙을 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-211">The following example sets a server-level firewall rule using PowerShell:</span></span>

```powershell
New-AzureRmSqlServerFirewallRule -ResourceGroupName "myResourceGroup" `
    -ServerName $servername `
    -FirewallRuleName "AllowSome" -StartIpAddress "0.0.0.0" -EndIpAddress "0.0.0.0"
```

> [!TIP]
> <span data-ttu-id="0014e-212">빠른 시작의 컨텍스트에서 PowerShell 예제를 보려면 [DB 만들기 - PowerShell](sql-database-get-started-powershell.md) 및 [PowerShell을 사용하여 단일 데이터베이스 만들기 및 방화벽 규칙 구성](scripts/sql-database-create-and-configure-database-powershell.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0014e-212">For PowerShell examples in the context of a quick start, see [Create DB - PowerShell](sql-database-get-started-powershell.md) and [Create a single database and configure a firewall rule using PowerShell](scripts/sql-database-create-and-configure-database-powershell.md)</span></span>
>

### <a name="azure-cli"></a><span data-ttu-id="0014e-213">Azure CLI</span><span class="sxs-lookup"><span data-stu-id="0014e-213">Azure CLI</span></span>
| <span data-ttu-id="0014e-214">Cmdlet</span><span class="sxs-lookup"><span data-stu-id="0014e-214">Cmdlet</span></span> | <span data-ttu-id="0014e-215">수준</span><span class="sxs-lookup"><span data-stu-id="0014e-215">Level</span></span> | <span data-ttu-id="0014e-216">설명</span><span class="sxs-lookup"><span data-stu-id="0014e-216">Description</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="0014e-217">az sql server firewall create</span><span class="sxs-lookup"><span data-stu-id="0014e-217">az sql server firewall create</span></span>](/cli/azure/sql/server/firewall-rule#create) | <span data-ttu-id="0014e-218">입력한 IP 주소 범위의 서버에서 모든 SQL Database에 액세스할 수 있도록 방화벽 규칙을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-218">Creates a firewall rule to allow access to all SQL Databases on the server from the entered IP address range.</span></span>|
| [<span data-ttu-id="0014e-219">az sql server firewall delete</span><span class="sxs-lookup"><span data-stu-id="0014e-219">az sql server firewall delete</span></span>](/cli/azure/sql/server/firewall-rule#delete)| <span data-ttu-id="0014e-220">방화벽 규칙을 삭제합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-220">Deletes a firewall rule.</span></span>|
| [<span data-ttu-id="0014e-221">az sql server firewall list</span><span class="sxs-lookup"><span data-stu-id="0014e-221">az sql server firewall list</span></span>](/cli/azure/sql/server/firewall-rule#list)| <span data-ttu-id="0014e-222">방화벽 규칙을 나열합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-222">Lists the firewall rules.</span></span>|
| [<span data-ttu-id="0014e-223">az sql server firewall rule show</span><span class="sxs-lookup"><span data-stu-id="0014e-223">az sql server firewall rule show</span></span>](/cli/azure/sql/server/firewall-rule#show)| <span data-ttu-id="0014e-224">방화벽 규칙의 세부 정보를 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-224">Shows the details of a firewall rule.</span></span>|
| [<span data-ttu-id="0014e-225">ax sql server firewall rule update</span><span class="sxs-lookup"><span data-stu-id="0014e-225">ax sql server firewall rule update</span></span>](/cli/azure/sql/server/firewall-rule#update)| <span data-ttu-id="0014e-226">방화벽 규칙을 업데이트합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-226">Updates a firewall rule.</span></span>

<span data-ttu-id="0014e-227">다음 예제에서는 Azure CLI를 사용하여 서버 수준 방화벽 규칙을 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-227">The following example sets a server-level firewall rule using the Azure CLI:</span></span> 

```azurecli-interactive
az sql server firewall-rule create --resource-group myResourceGroup --server $servername \
    -n AllowYourIp --start-ip-address 0.0.0.0 --end-ip-address 0.0.0.0
```

> [!TIP]
> <span data-ttu-id="0014e-228">빠른 시작의 컨텍스트에서 Azure CLI 예제를 보려면 [DDB 만들기 - Azure CLI](sql-database-get-started-cli.md) 및 [Azure CLI를 사용하여 단일 데이터베이스 만들기 및 방화벽 규칙 구성](scripts/sql-database-create-and-configure-database-cli.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0014e-228">For an Azure CLI example in the context of a quick start, see [Create DDB - Azure CLI](sql-database-get-started-cli.md) and [Create a single database and configure a firewall rule using the Azure CLI](scripts/sql-database-create-and-configure-database-cli.md)</span></span>
>

### <a name="rest-api"></a><span data-ttu-id="0014e-229">REST API</span><span class="sxs-lookup"><span data-stu-id="0014e-229">REST API</span></span>
| <span data-ttu-id="0014e-230">API</span><span class="sxs-lookup"><span data-stu-id="0014e-230">API</span></span> | <span data-ttu-id="0014e-231">수준</span><span class="sxs-lookup"><span data-stu-id="0014e-231">Level</span></span> | <span data-ttu-id="0014e-232">설명</span><span class="sxs-lookup"><span data-stu-id="0014e-232">Description</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="0014e-233">방화벽 규칙 나열</span><span class="sxs-lookup"><span data-stu-id="0014e-233">List Firewall Rules</span></span>](https://msdn.microsoft.com/library/azure/dn505715.aspx) |<span data-ttu-id="0014e-234">서버</span><span class="sxs-lookup"><span data-stu-id="0014e-234">Server</span></span> |<span data-ttu-id="0014e-235">현재 서버 수준 방화벽 규칙 표시</span><span class="sxs-lookup"><span data-stu-id="0014e-235">Displays the current server-level firewall rules</span></span> |
| [<span data-ttu-id="0014e-236">방화벽 규칙 만들기</span><span class="sxs-lookup"><span data-stu-id="0014e-236">Create Firewall Rule</span></span>](https://msdn.microsoft.com/library/azure/dn505712.aspx) |<span data-ttu-id="0014e-237">서버</span><span class="sxs-lookup"><span data-stu-id="0014e-237">Server</span></span> |<span data-ttu-id="0014e-238">서버 수준 방화벽 규칙 생성 및 업데이트</span><span class="sxs-lookup"><span data-stu-id="0014e-238">Creates or updates server-level firewall rules</span></span> |
| [<span data-ttu-id="0014e-239">방화벽 규칙 설정</span><span class="sxs-lookup"><span data-stu-id="0014e-239">Set Firewall Rule</span></span>](https://msdn.microsoft.com/library/azure/dn505707.aspx) |<span data-ttu-id="0014e-240">서버</span><span class="sxs-lookup"><span data-stu-id="0014e-240">Server</span></span> |<span data-ttu-id="0014e-241">기존 서버 수준 방화벽 규칙 속성 업데이트</span><span class="sxs-lookup"><span data-stu-id="0014e-241">Updates the properties of an existing server-level firewall rule</span></span> |
| [<span data-ttu-id="0014e-242">방화벽 규칙 삭제</span><span class="sxs-lookup"><span data-stu-id="0014e-242">Delete Firewall Rule</span></span>](https://msdn.microsoft.com/library/azure/dn505706.aspx) |<span data-ttu-id="0014e-243">서버</span><span class="sxs-lookup"><span data-stu-id="0014e-243">Server</span></span> |<span data-ttu-id="0014e-244">서버 수준 방화벽 규칙 제거</span><span class="sxs-lookup"><span data-stu-id="0014e-244">Removes server-level firewall rules</span></span> |

## <a name="server-level-firewall-rule-versus-a-database-level-firewall-rule"></a><span data-ttu-id="0014e-245">서버 수준 방화벽 규칙 및 데이터베이스 수준 방화벽 규칙</span><span class="sxs-lookup"><span data-stu-id="0014e-245">Server-level firewall rule versus a database-level firewall rule</span></span>
<span data-ttu-id="0014e-246">Q.</span><span class="sxs-lookup"><span data-stu-id="0014e-246">Q.</span></span> <span data-ttu-id="0014e-247">한 데이터베이스의 사용자가 다른 데이터베이스에서 완전히 분리되어야 하나요?</span><span class="sxs-lookup"><span data-stu-id="0014e-247">Should users of one database be fully isolated from another database?</span></span>   
  <span data-ttu-id="0014e-248">그렇다면 데이터베이스 수준 방화벽 규칙을 사용하여 액세스 권한을 부여하세요.</span><span class="sxs-lookup"><span data-stu-id="0014e-248">If yes, grant access using database-level firewall rules.</span></span> <span data-ttu-id="0014e-249">이렇게 하면 서버 수준 방화벽 규칙을 사용할 수 없게 되며, 방화벽을 통과해서 모든 데이터베이스에 액세스하도록 허용되므로 방어 수준이 약해집니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-249">This avoids using server-level firewall rules, which permit access through the firewall to all databases, reducing the depth of your defenses.</span></span>   
 
<span data-ttu-id="0014e-250">Q.</span><span class="sxs-lookup"><span data-stu-id="0014e-250">Q.</span></span> <span data-ttu-id="0014e-251">해당 IP 주소의 사용자가 모든 데이터베이스에 액세스할 수 있어야 하나요?</span><span class="sxs-lookup"><span data-stu-id="0014e-251">Do users at the IP address’s need access to all databases?</span></span>   
  <span data-ttu-id="0014e-252">서버 수준 방화벽 규칙을 사용하여 방화벽 규칙을 구성해야 하는 횟수를 줄이세요.</span><span class="sxs-lookup"><span data-stu-id="0014e-252">Use server-level firewall rules to reduce the number of times you must configure firewall rules.</span></span>   

<span data-ttu-id="0014e-253">Q.</span><span class="sxs-lookup"><span data-stu-id="0014e-253">Q.</span></span> <span data-ttu-id="0014e-254">방화벽 규칙을 구성하는 개인이나 팀이 Azure Portal, PowerShell 또는 REST API를 통해서만 액세스하나요?</span><span class="sxs-lookup"><span data-stu-id="0014e-254">Does the person or team configuring the firewall rules only have access through the Azure portal, PowerShell, or the REST API?</span></span>   
  <span data-ttu-id="0014e-255">서버 수준 방화벽 규칙을 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-255">You must use server-level firewall rules.</span></span> <span data-ttu-id="0014e-256">데이터베이스 수준 방화벽 규칙은 Transact-SQL을 사용해야만 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-256">Database-level firewall rules can only be configured using Transact-SQL.</span></span>  

<span data-ttu-id="0014e-257">Q.</span><span class="sxs-lookup"><span data-stu-id="0014e-257">Q.</span></span> <span data-ttu-id="0014e-258">방화벽 규칙을 구성하는 개인이나 팀이 데이터베이스 수준에서 높은 수준의 권한을 가질 수 없도록 금지되나요?</span><span class="sxs-lookup"><span data-stu-id="0014e-258">Is the person or team configuring the firewall rules prohibited from having high-level permission at the database level?</span></span>   
  <span data-ttu-id="0014e-259">서버 수준 방화벽 규칙을 사용하세요.</span><span class="sxs-lookup"><span data-stu-id="0014e-259">Use server-level firewall rules.</span></span> <span data-ttu-id="0014e-260">TRANSACT-SQL을 사용하여 데이터베이스 수준 방화벽 규칙을 구성하려면 적어도 데이터베이스 수준에서 `CONTROL DATABASE` 권한이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-260">Configuring database-level firewall rules using Transact-SQL, requires at least `CONTROL DATABASE` permission at the database level.</span></span>  

<span data-ttu-id="0014e-261">Q.</span><span class="sxs-lookup"><span data-stu-id="0014e-261">Q.</span></span> <span data-ttu-id="0014e-262">방화벽 규칙을 구성하거나 감사하는 개인이나 팀이 많은(100개 정도) 데이터베이스에 대한 방화벽 규칙을 중앙에서 관히하고 있나요?</span><span class="sxs-lookup"><span data-stu-id="0014e-262">Is the person or team configuring or auditing the firewall rules, centrally managing firewall rules for many (perhaps 100s) of databases?</span></span>   
  <span data-ttu-id="0014e-263">이 선택은 사용자의 필요 및 환경에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-263">This selection depends upon your needs and environment.</span></span> <span data-ttu-id="0014e-264">서버 수준 방화벽 규칙이 구성하기 더 쉬울 수 있지만 스크립팅은 데이터베이스 수준에서 규칙을 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-264">Server-level firewall rules might be easier to configure, but scripting can configure rules at the database-level.</span></span> <span data-ttu-id="0014e-265">또한 서버 수준 방화벽 규칙을 사용하더라도 데이터베이스에 대해 `CONTROL` 권한이 있는 사용자가 데이터베이스 수준 방화벽 규칙을 만들었는지 확인하기 위해서는 데이터베이스 방화벽 규칙을 감사해야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-265">And even if you use server-level firewall rules, you might need to audit the database-firewall rules, to see if users with `CONTROL` permission on the database have created database-level firewall rules.</span></span>   

<span data-ttu-id="0014e-266">Q.</span><span class="sxs-lookup"><span data-stu-id="0014e-266">Q.</span></span> <span data-ttu-id="0014e-267">서버 수준 및 데이터베이스 수준 방화벽 규칙을 함께 사용할 수 있나요?</span><span class="sxs-lookup"><span data-stu-id="0014e-267">Can I use a mix of both server-level and database-level firewall rules?</span></span>   
  <span data-ttu-id="0014e-268">예.</span><span class="sxs-lookup"><span data-stu-id="0014e-268">Yes.</span></span> <span data-ttu-id="0014e-269">관리자와 같은 일부 사용자는 서버 수준 방화벽 규칙이 필요할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-269">Some users, such as administrators might need server-level firewall rules.</span></span> <span data-ttu-id="0014e-270">데이터베이스 응용 프로그램 사용자와 같은 경우는 데이터베이스 수준 방화벽 규칙이 필요할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-270">Other users, such as users of a database application, might need database-level firewall rules.</span></span>   

## <a name="troubleshooting-the-database-firewall"></a><span data-ttu-id="0014e-271">데이터베이스 방화벽 문제 해결</span><span class="sxs-lookup"><span data-stu-id="0014e-271">Troubleshooting the database firewall</span></span>
<span data-ttu-id="0014e-272">Microsoft Azure SQL 데이터베이스 서비스로의 연결이 예상대로 작동되지 않는 경우 다음 사항을 고려하세요.</span><span class="sxs-lookup"><span data-stu-id="0014e-272">Consider the following points when access to the Microsoft Azure SQL Database service does not behave as you expect:</span></span>

* <span data-ttu-id="0014e-273">**로컬 방화벽 구성:** 사용자의 컴퓨터가 Azure SQL 데이터베이스에 액세스할 수 있게 되기 전에, 사용자의 컴퓨터에 TCP 포트 1433에 대한 방화벽 예외를 만드는 것이 필요할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-273">**Local firewall configuration:** Before your computer can access Azure SQL Database, you may need to create a firewall exception on your computer for TCP port 1433.</span></span> <span data-ttu-id="0014e-274">Azure 클라우드 경계 내에서 연결하는 경우 포트를 추가로 열어야 할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-274">If you are making connections inside the Azure cloud boundary, you may have to open additional ports.</span></span> <span data-ttu-id="0014e-275">자세한 내용은 [ADO.NET 4.5 및 SQL Database에 대한 1433 이외 포트](sql-database-develop-direct-route-ports-adonet-v12.md)의 **SQL Database: 내부 및 외부**를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0014e-275">For more information, see the **SQL Database: Outside vs inside** section of [Ports beyond 1433 for ADO.NET 4.5 and SQL Database](sql-database-develop-direct-route-ports-adonet-v12.md).</span></span>
* <span data-ttu-id="0014e-276">**NAT(Network Address Translation):** NAT로 인해 Azure SQL 데이터베이스로 연결할 때 컴퓨터에서 사용하는 IP 주소는 컴퓨터 IP 구성 설정에서 나타나는 IP 주소와 다를 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-276">**Network address translation (NAT):** Due to NAT, the IP address used by your computer to connect to Azure SQL Database may be different than the IP address shown in your computer IP configuration settings.</span></span> <span data-ttu-id="0014e-277">Azure에 연결할 때 컴퓨터에서 사용하는 IP 주소를 보려면 포털에 로그인하고 데이터베이스를 호스트하는 서버의 **구성** 탭을 탐색합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-277">To view the IP address your computer is using to connect to Azure, log in to the portal and navigate to the **Configure** tab on the server that hosts your database.</span></span> <span data-ttu-id="0014e-278">**허용된 IP 주소** 섹션에 **현재 클라이언트 IP 주소**가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-278">Under the **Allowed IP Addresses** section, the **Current Client IP Address** is displayed.</span></span> <span data-ttu-id="0014e-279">**허용된 IP 주소**에 **추가**를 클릭하여 이 컴퓨터가 서버에 액세스할 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-279">Click **Add** to the **Allowed IP Addresses** to allow this computer to access the server.</span></span>
* <span data-ttu-id="0014e-280">**허용 목록의 변경사항이 아직 적용되지 않았습니다.** Azure SQL 데이터베이스 방화벽 구성에 변경 내용이 적용되려면 최대 5분 정도 걸릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-280">**Changes to the allow list have not taken effect yet:** There may be as much as a five-minute delay for changes to the Azure SQL Database firewall configuration to take effect.</span></span>
* <span data-ttu-id="0014e-281">**로그인이 올바르지 않거나 암호가 올바르지 않습니다.** 로그인에 Azure SQL Database 서버에 대한 권한이 없거나 사용한 암호가 틀렸을 경우 Azure SQL Database 서버에 대한 연결이 거부됩니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-281">**The login is not authorized or an incorrect password was used:** If a login does not have permissions on the Azure SQL Database server or the password used is incorrect, the connection to the Azure SQL Database server is denied.</span></span> <span data-ttu-id="0014e-282">방화벽 설정은 클라이언트에게 서버에 연결을 시도할 수 있는 기회를 제공합니다. 각 클라이언트는 꼭 필요한 보안 자격 증명을 제공해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-282">Creating a firewall setting only provides clients with an opportunity to attempt connecting to your server; each client must provide the necessary security credentials.</span></span> <span data-ttu-id="0014e-283">로그인 준비에 대한 자세한 내용은 Azure SQL Database에서 데이터베이스, 로그인, 사용자 관리를 참조하세요. </span><span class="sxs-lookup"><span data-stu-id="0014e-283">For more information about preparing logins, see Managing Databases, Logins, and Users in Azure SQL Database.</span></span>
* <span data-ttu-id="0014e-284">**동적 IP 주소:** 동적 IP 주소를 통해 인터넷에 연결되어 있고 방화벽을 통과하는 데 문제가 있는 경우 다음 해결 방법 중 하나를 시도할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-284">**Dynamic IP address:** If you have an Internet connection with dynamic IP addressing and you are having trouble getting through the firewall, you could try one of the following solutions:</span></span>
  
  * <span data-ttu-id="0014e-285">인터넷 서비스 공급자(ISP)는 Azure SQL Database 서버에 연결될 클라이언트에 할당된 IP 주소 범위를 요청하고, 방화벽 규칙에 따라 IP 주소 범위를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-285">Ask your Internet Service Provider (ISP) for the IP address range assigned to your client computers that access the Azure SQL Database server, and then add the IP address range as a firewall rule.</span></span>
  * <span data-ttu-id="0014e-286">클라이언트 컴퓨터 대신 고정 IP 주소를 얻고, 방화벽 규칙에 따라 IP 주소 범위를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="0014e-286">Get static IP addressing instead for your client computers, and then add the IP addresses as firewall rules.</span></span>

## <a name="next-steps"></a><span data-ttu-id="0014e-287">다음 단계</span><span class="sxs-lookup"><span data-stu-id="0014e-287">Next steps</span></span>

- <span data-ttu-id="0014e-288">데이터베이스 및 서버 수준 방화벽 규칙 만들기에 대한 빠른 시작은 [Azure SQL Database 만들기](sql-database-get-started-portal.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0014e-288">For a quick start on creating a database and a server-level firewall rule, see [Create an Azure SQL database](sql-database-get-started-portal.md).</span></span>
- <span data-ttu-id="0014e-289">오픈 소스 또는 타사 응용 프로그램에서 Azure SQL 데이터베이스에 연결하는 방법에 대한 도움말은 [SQL 데이터베이스에 대한 클라이언트 빠른 시작 코드 샘플](https://msdn.microsoft.com/library/azure/ee336282.aspx)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0014e-289">For help in connecting to an Azure SQL database from open source or third-party applications, see [Client quick-start code samples to SQL Database](https://msdn.microsoft.com/library/azure/ee336282.aspx).</span></span>
- <span data-ttu-id="0014e-290">열어야 할 수 있는 추가 포트에 대한 자세한 내용은 [ADO.NET 4.5와 SQL Database에 대한 1433 이외 포트](sql-database-develop-direct-route-ports-adonet-v12.md)의 **SQL Database: 내부 및 외부** 섹션을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0014e-290">For information on additional ports that you may need to open, see the **SQL Database: Outside vs inside** section of [Ports beyond 1433 for ADO.NET 4.5 and SQL Database](sql-database-develop-direct-route-ports-adonet-v12.md)</span></span>
- <span data-ttu-id="0014e-291">Azure SQL Database 보안 개요는 [데이터베이스 보안 설정](sql-database-security-overview.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0014e-291">For an overview of Azure SQL Database security, see [Securing your database](sql-database-security-overview.md)</span></span>

<!--Image references-->
[1]: ./media/sql-database-firewall-configure/sqldb-firewall-1.png
