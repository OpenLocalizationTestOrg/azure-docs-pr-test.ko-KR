---
title: "규모가 확장된 클라우드 데이터베이스 관리 | Microsoft Docs"
description: "탄력적 데이터베이스 작업 서비스를 설명합니다."
metakeywords: azure sql database elastic databases
services: sql-database
documentationcenter: 
manager: jhubbard
author: ddove
ms.assetid: 6fa47cf2-1162-4534-a206-6e2d95b78580
ms.service: sql-database
ms.custom: scale out apps
ms.workload: sql-database
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 10/24/2016
ms.author: ddove
ms.openlocfilehash: 8e84562115a866c0df5e0dee6c7f66c036a74737
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/11/2017
---
# <a name="managing-scaled-out-cloud-databases"></a><span data-ttu-id="084ba-103">규모가 확장된 클라우드 데이터베이스 관리</span><span class="sxs-lookup"><span data-stu-id="084ba-103">Managing scaled-out cloud databases</span></span>
<span data-ttu-id="084ba-104">규모가 확장된 분할된 데이터베이스를 관리하기 위해 **탄력적 데이터베이스 작업** 기능(미리 보기)을 사용하면 다음을 포함한 데이터베이스 그룹에 대해 Transact-SQL(T-SQL) 스크립트를 안정적으로 실행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-104">To manage scaled-out sharded databases, the **Elastic Database jobs** feature (preview) enables you to reliably execute a Transact-SQL (T-SQL) script across a group of databases, including:</span></span>

* <span data-ttu-id="084ba-105">데이터베이스의 사용자 정의 컬렉션(아래 설명)</span><span class="sxs-lookup"><span data-stu-id="084ba-105">a custom-defined collection of databases (explained below)</span></span>
* <span data-ttu-id="084ba-106">[탄력적 풀](sql-database-elastic-pool.md)의 모든 데이터베이스</span><span class="sxs-lookup"><span data-stu-id="084ba-106">all databases in an [elastic pool](sql-database-elastic-pool.md)</span></span>
* <span data-ttu-id="084ba-107">분할된 데이터베이스 집합( [탄력적 데이터베이스 클라이언트 라이브러리](sql-database-elastic-database-client-library.md)를 사용하여 생성)</span><span class="sxs-lookup"><span data-stu-id="084ba-107">a shard set (created using [Elastic Database client library](sql-database-elastic-database-client-library.md)).</span></span> 

## <a name="documentation"></a><span data-ttu-id="084ba-108">설명서</span><span class="sxs-lookup"><span data-stu-id="084ba-108">Documentation</span></span>
* <span data-ttu-id="084ba-109">[탄력적 데이터베이스 작업 구성 요소를 설치합니다](sql-database-elastic-jobs-service-installation.md).</span><span class="sxs-lookup"><span data-stu-id="084ba-109">[Install the Elastic Database job components](sql-database-elastic-jobs-service-installation.md).</span></span> 
* <span data-ttu-id="084ba-110">[탄력적 데이터베이스 작업을 시작합니다](sql-database-elastic-jobs-getting-started.md).</span><span class="sxs-lookup"><span data-stu-id="084ba-110">[Get started with Elastic Database jobs](sql-database-elastic-jobs-getting-started.md).</span></span>
* <span data-ttu-id="084ba-111">[PowerShell을 사용하여 작업을 만들고 관리합니다](sql-database-elastic-jobs-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="084ba-111">[Create and manage jobs using PowerShell](sql-database-elastic-jobs-powershell.md).</span></span>
* [<span data-ttu-id="084ba-112">규모가 확장된 Azure SQL 데이터베이스 만들기 및 관리</span><span class="sxs-lookup"><span data-stu-id="084ba-112">Create and manage scaled out Azure SQL Databases</span></span>](sql-database-elastic-jobs-getting-started.md)

<span data-ttu-id="084ba-113">**탄력적 데이터베이스 작업**은 현재 **작업**이라는 임시 및 예약된 관리 태스크를 실행할 수 있도록 하는 고객 호스트된 Azure 클라우드 서비스입니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-113">**Elastic Database jobs** is currently a customer-hosted Azure Cloud Service that enables the execution of ad-hoc and scheduled administrative tasks, which are called **jobs**.</span></span> <span data-ttu-id="084ba-114">작업을 통해 관리 작업을 수행하는 Transact-SQL 스크립트를 실행하여 대규모 그룹의 Azure SQL 데이터베이스를 쉽고 안정적으로 관리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-114">With jobs, you can easily and reliably manage large groups of Azure SQL Databases by running Transact-SQL scripts to perform administrative operations.</span></span> 

![탄력적 데이터베이스 작업 서비스][1]

## <a name="why-use-jobs"></a><span data-ttu-id="084ba-116">작업을 사용하는 이유</span><span class="sxs-lookup"><span data-stu-id="084ba-116">Why use jobs?</span></span>
<span data-ttu-id="084ba-117">**관리**</span><span class="sxs-lookup"><span data-stu-id="084ba-117">**Manage**</span></span>

<span data-ttu-id="084ba-118">스키마 변경, 자격 증명 관리, 참조 데이터 업데이트, 성능 데이터 수집 또는 테넌트(고객) 원격 분석 수집 등을 쉽게 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-118">Easily do schema changes, credentials management, reference data updates, performance data collection or tenant (customer) telemetry collection.</span></span>

<span data-ttu-id="084ba-119">**보고서**</span><span class="sxs-lookup"><span data-stu-id="084ba-119">**Reports**</span></span>

<span data-ttu-id="084ba-120">Azure SQL 데이터베이스의 컬렉션에서 단일 대상 테이블로 데이터를 집계합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-120">Aggregate data from a collection of Azure SQL Databases into a single destination table.</span></span>

<span data-ttu-id="084ba-121">**오버헤드 줄이기**</span><span class="sxs-lookup"><span data-stu-id="084ba-121">**Reduce overhead**</span></span>

<span data-ttu-id="084ba-122">일반적으로는 Transact-SQL 문을 실행하거나 다른 관리 작업을 수행하려면 각 데이터베이스에 개별적으로 연결해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-122">Normally, you must connect to each database independently in order to run Transact-SQL statements or perform other administrative tasks.</span></span> <span data-ttu-id="084ba-123">작업은 대상 그룹의 각 데이터베이스에 로그인하는 태스크를 처리합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-123">A job handles the task of logging in to each database in the target group.</span></span> <span data-ttu-id="084ba-124">Azure SQL 데이터베이스 그룹에서 실행할 Transact-SQL 스크립트를 정의, 유지 관리 및 보존합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-124">You also define, maintain and persist Transact-SQL scripts to be executed across a group of Azure SQL Databases.</span></span>

<span data-ttu-id="084ba-125">**계정 관리**</span><span class="sxs-lookup"><span data-stu-id="084ba-125">**Accounting**</span></span>

<span data-ttu-id="084ba-126">작업은 스크립트를 실행하고 각 데이터베이스에 대한 실행 상태를 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-126">Jobs run the script and log the status of execution for each database.</span></span> <span data-ttu-id="084ba-127">또한 오류가 발생할 때 자동으로 재시도하도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-127">You also get automatic retry when failures occur.</span></span>

<span data-ttu-id="084ba-128">**유연성**</span><span class="sxs-lookup"><span data-stu-id="084ba-128">**Flexibility**</span></span>

<span data-ttu-id="084ba-129">Azure SQL 데이터베이스의 사용자 지정 그룹을 정의하고 작업 실행을 위한 일정을 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-129">Define custom groups of Azure SQL Databases, and define schedules for running a job.</span></span>

> [!NOTE]
> <span data-ttu-id="084ba-130">Azure 포털에서는 SQL Azure 탄력적 풀로 제한된 감소된 기능 집합만 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-130">In the Azure portal, only a reduced set of functions limited to SQL Azure elastic pools is available.</span></span> <span data-ttu-id="084ba-131">PowerShell API를 사용하여 현재 기능의 전체 집합에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-131">Use the PowerShell APIs to access the full set of current functionality.</span></span>
> 
> 

## <a name="applications"></a><span data-ttu-id="084ba-132">응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="084ba-132">Applications</span></span>
* <span data-ttu-id="084ba-133">새 스키마 배포와 같은 관리 작업을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-133">Perform administrative tasks, such as deploying a new schema.</span></span>
* <span data-ttu-id="084ba-134">모든 데이터베이스에서 공통적인 제품 정보와 같은 참조 데이터를 업데이트합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-134">Update reference data-product information common across all databases.</span></span> <span data-ttu-id="084ba-135">평일 근무 외 시간에 자동 업데이트를 예약합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-135">Or schedules automatic updates every weekday, after hours.</span></span>
* <span data-ttu-id="084ba-136">인덱스를 다시 작성하여 쿼리 성능 향상</span><span class="sxs-lookup"><span data-stu-id="084ba-136">Rebuild indexes to improve query performance.</span></span> <span data-ttu-id="084ba-137">사용량이 적은 시간 중과 같이 데이터베이스 컬렉션에 대해 되풀이해서 실행되도록 다시 작성 구성</span><span class="sxs-lookup"><span data-stu-id="084ba-137">The rebuilding can be configured to execute across a collection of databases on a recurring basis, such as during off-peak hours.</span></span>
* <span data-ttu-id="084ba-138">지속적으로 데이터베이스 집합에서 중앙 테이블로 쿼리 결과 수집</span><span class="sxs-lookup"><span data-stu-id="084ba-138">Collect query results from a set of databases into a central table on an on-going basis.</span></span> <span data-ttu-id="084ba-139">지속적으로 성능 쿼리를 실행하고 실행할 추가 작업을 트리거하도록 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-139">Performance queries can be continually executed and configured to trigger additional tasks to be executed.</span></span>
* <span data-ttu-id="084ba-140">큰 데이터베이스 집합에 대해 더 오래 실행되는 데이터 처리 쿼리(예: 고객 원격 분석 수집) 실행.</span><span class="sxs-lookup"><span data-stu-id="084ba-140">Execute longer running data processing queries across a large set of databases, for example the collection of customer telemetry.</span></span> <span data-ttu-id="084ba-141">추가 분석을 위해 결과가 단일 대상 테이블에 수집됩니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-141">Results are collected into a single destination table for further analysis.</span></span>

## <a name="elastic-database-jobs-end-to-end"></a><span data-ttu-id="084ba-142">탄력적 데이터베이스 작업: 종단 간</span><span class="sxs-lookup"><span data-stu-id="084ba-142">Elastic Database jobs: end-to-end</span></span>
1. <span data-ttu-id="084ba-143">**탄력적 데이터베이스 작업** 구성 요소를 설치합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-143">Install the **Elastic Database jobs** components.</span></span> <span data-ttu-id="084ba-144">자세한 내용은 [탄력적 데이터베이스 작업 설치](sql-database-elastic-jobs-service-installation.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="084ba-144">For more information, see [Installing Elastic Database jobs](sql-database-elastic-jobs-service-installation.md).</span></span> <span data-ttu-id="084ba-145">설치에 실패하는 경우 [제거 방법](sql-database-elastic-jobs-uninstall.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="084ba-145">If the installation fails, see [how to uninstall](sql-database-elastic-jobs-uninstall.md).</span></span>
2. <span data-ttu-id="084ba-146">PowerShell API를 사용하여 사용자 지정 데이터베이스 컬렉션 만들기, 일정 추가 및/또는 결과 집합 수집 등 더 많은 기능에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-146">Use the PowerShell APIs to access more functionality, for example creating custom-defined database collections, adding schedules and/or gathering results sets.</span></span> <span data-ttu-id="084ba-147">**탄력적 풀**에 대한 실행으로 제한되는 작업의 생성/모니터링 및 간단한 설치에는 포털을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-147">Use the portal for simple installation and creation/monitoring of jobs limited to execution against a **elastic pool**.</span></span> 
3. <span data-ttu-id="084ba-148">작업 실행을 위한 암호화된 자격 증명을 만들고 [그룹의 각 데이터베이스에 사용자(또는 역할)를 추가](sql-database-security-overview.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-148">Create encrypted credentials for job execution and [add the user (or role) to each database in the group](sql-database-security-overview.md).</span></span>
4. <span data-ttu-id="084ba-149">그룹의 모든 데이터베이스에 대해 실행할 수 있는 idempotent T-SQL 스크립트를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-149">Create an idempotent T-SQL script that can be run against every database in the group.</span></span> 
5. <span data-ttu-id="084ba-150">Azure 포털을 사용하여 [탄력적 데이터베이스 작업 만들기 및 관리](sql-database-elastic-jobs-create-and-manage.md)단계에 따라 작업을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-150">Follow these steps to create jobs using the Azure portal: [Creating and managing Elastic Database jobs](sql-database-elastic-jobs-create-and-manage.md).</span></span> 
6. <span data-ttu-id="084ba-151">또는 PowerShell 스크립트를 사용하여 [PowerShell로 SQL 데이터베이스 탄력적 데이터베이스 작업을 만들고 관리(미리 보기)](sql-database-elastic-jobs-powershell.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-151">Or use PowerShell scripts: [Create and manage a SQL Database elastic database jobs using PowerShell (preview)](sql-database-elastic-jobs-powershell.md).</span></span>

## <a name="idempotent-scripts"></a><span data-ttu-id="084ba-152">Idempotent 스크립트</span><span class="sxs-lookup"><span data-stu-id="084ba-152">Idempotent scripts</span></span>
<span data-ttu-id="084ba-153">스크립트는 [idempotent](https://en.wikipedia.org/wiki/Idempotence)여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-153">The scripts must be [idempotent](https://en.wikipedia.org/wiki/Idempotence).</span></span> <span data-ttu-id="084ba-154">간단히 말해 "idempotent"는 스크립트가 성공한 경우를 나타내고 다시 실행하면 동일한 결과가 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-154">In simple terms, "idempotent" means that if the script succeeds, and it is run again, the same result occurs.</span></span> <span data-ttu-id="084ba-155">일시적인 네트워크 문제로 인해 스크립트가 실패할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-155">A script may fail due to transient network issues.</span></span> <span data-ttu-id="084ba-156">이 경우 작업에서 중지하기 전에 스크립트 실행을 미리 설정된 횟수 만큼 자동으로 다시 시도합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-156">In that case, the job will automatically retry running the script a preset number of times before desisting.</span></span> <span data-ttu-id="084ba-157">idempotent 스크립트는 성공적으로 두 번 실행된 경우에도 동일한 결과를 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-157">An idempotent script has the same result even if has been successfully run twice.</span></span> 

<span data-ttu-id="084ba-158">간단한 방법은 만들기 전에 개체의 존재 여부를 테스트하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-158">A simple tactic is to test for the existence of an object before creating it.</span></span>  

    IF NOT EXIST (some_object)
    -- Create the object 
    -- If it exists, drop the object before recreating it.

<span data-ttu-id="084ba-159">마찬가지로 스크립트는 논리적으로 테스트하고 발견된 모든 조건을 고려하여 성공적으로 실행할 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-159">Similarly, a script must be able to execute successfully by logically testing for and countering any conditions it finds.</span></span>

## <a name="failures-and-logs"></a><span data-ttu-id="084ba-160">오류 및 로그</span><span class="sxs-lookup"><span data-stu-id="084ba-160">Failures and logs</span></span>
<span data-ttu-id="084ba-161">스크립트를 여러 번 시도했지만 실패하면 작업에서 오류를 기록하고 계속합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-161">If a script fails after multiple attempts, the job logs the error and continues.</span></span> <span data-ttu-id="084ba-162">작업이 종료된 후(그룹의 모든 데이터베이스에 대해 실행되는 것을 의미) 실패한 시도 목록을 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-162">After a job ends (meaning a run against all databases in the group), you can check its list of failed attempts.</span></span> <span data-ttu-id="084ba-163">로그는 결함이 있는 스크립트를 디버깅하는 세부 정보를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-163">The logs provide details to debug faulty scripts.</span></span> 

## <a name="group-types-and-creation"></a><span data-ttu-id="084ba-164">그룹 유형 및 만들기</span><span class="sxs-lookup"><span data-stu-id="084ba-164">Group types and creation</span></span>
<span data-ttu-id="084ba-165">두 종류의 그룹이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-165">There are two kinds of groups:</span></span> 

1. <span data-ttu-id="084ba-166">분할된 데이터베이스 집합</span><span class="sxs-lookup"><span data-stu-id="084ba-166">Shard sets</span></span>
2. <span data-ttu-id="084ba-167">사용자 지정 그룹</span><span class="sxs-lookup"><span data-stu-id="084ba-167">Custom groups</span></span>

<span data-ttu-id="084ba-168">분할된 데이터베이스 집합 그룹은 [탄력적 데이터베이스 도구](sql-database-elastic-scale-introduction.md)를 사용하여 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-168">Shard set groups are created using the [Elastic Database tools](sql-database-elastic-scale-introduction.md).</span></span> <span data-ttu-id="084ba-169">분할된 데이터베이스 집합 그룹을 만들면 그룹에서 데이터베이스가 자동으로 추가 또는 제거됩니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-169">When you create a shard set group, databases are added or removed from the group automatically.</span></span> <span data-ttu-id="084ba-170">예를 들어 새 분할된 데이터베이스를 분할된 맵에 추가될 때 자동으로 그룹이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-170">For example, a new shard will be automatically in the group when you add it to the shard map.</span></span> <span data-ttu-id="084ba-171">그런 다음 그룹에 대해 작업을 실행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-171">A job can then be run against the group.</span></span>

<span data-ttu-id="084ba-172">반면에 사용자 지정 그룹은 엄격하게 정의됩니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-172">Custom groups, on the other hand, are rigidly defined.</span></span> <span data-ttu-id="084ba-173">사용자 지정 그룹에서 데이터베이스를 명시적으로 추가하거나 제거해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-173">You must explicitly add or remove databases from custom groups.</span></span> <span data-ttu-id="084ba-174">그룹에서 데이터베이스가 삭제되면 작업은 데이터베이스에 대해 스크립트 실행을 시도하며 결국에는 오류가 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-174">If a database in the group is dropped, the job will attempt to run the script against the database resulting in an eventual failure.</span></span> <span data-ttu-id="084ba-175">현재 Azure 포털을 사용하여 만든 그룹은 사용자 지정 그룹입니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-175">Groups created using the Azure portal currently are custom groups.</span></span> 

## <a name="components-and-pricing"></a><span data-ttu-id="084ba-176">구성 요소 및 가격</span><span class="sxs-lookup"><span data-stu-id="084ba-176">Components and pricing</span></span>
<span data-ttu-id="084ba-177">다음 구성 요소는 함께 작동하여 관리 작업의 임시 실행을 지원하는 Azure 클라우드 서비스를 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-177">The following components work together to create an Azure Cloud service that enables ad-hoc execution of administrative jobs.</span></span> <span data-ttu-id="084ba-178">구성 요소는 구독에 포함되어 설치 도중 자동으로 설치 및 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-178">The components are installed and configured automatically during setup, in your subscription.</span></span> <span data-ttu-id="084ba-179">서비스는 모두 동일하게 자동으로 생성된 이름을 가지므로 식별할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-179">You can identify the services as they all have the same auto-generated name.</span></span> <span data-ttu-id="084ba-180">각 이름은 고유하며, 접두사 "edj"에 이어 임의로 생성된 문자 21개로 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-180">The name is unique, and consists of the prefix "edj" followed by 21 randomly generated characters.</span></span>

* <span data-ttu-id="084ba-181">**Azure 클라우드 서비스**: 탄력적 데이터베이스 작업(Preview)은 고객이 호스트하는 Azure 클라우드 서비스 형태로 제공되어 요청된 작업의 실행을 처리합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-181">**Azure Cloud Service**: elastic database jobs (preview) is delivered as a customer-hosted Azure Cloud service to perform execution of the requested tasks.</span></span> <span data-ttu-id="084ba-182">포털에서 서비스가 배포되며 Microsoft Azure 구독에 포함되어 호스팅됩니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-182">From the portal, the service is deployed and hosted in your Microsoft Azure subscription.</span></span> <span data-ttu-id="084ba-183">기본적으로 배포되는 서비스는 고가용성을 위한 최소 2개의 작업자 역할로 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-183">The default deployed service runs with the minimum of two worker roles for high availability.</span></span> <span data-ttu-id="084ba-184">각 작업자 역할(ElasticDatabaseJobWorker)의 기본 크기가 A0 인스턴스에서 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-184">The default size of each worker role (ElasticDatabaseJobWorker) runs on an A0 instance.</span></span> <span data-ttu-id="084ba-185">가격에 대한 내용은 [클라우드 서비스 가격](https://azure.microsoft.com/pricing/details/cloud-services/)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="084ba-185">For pricing, see [Cloud services pricing](https://azure.microsoft.com/pricing/details/cloud-services/).</span></span> 
* <span data-ttu-id="084ba-186">**Azure SQL Database**: 이 서비스는 **제어 데이터베이스**로 알려진 Azure SQL Database를 사용하여 모든 작업 메타데이터를 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-186">**Azure SQL Database**: The service uses an Azure SQL Database known as the **control database** to store all of the job metadata.</span></span> <span data-ttu-id="084ba-187">기본 서비스 계층은 S0입니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-187">The default service tier is a S0.</span></span> <span data-ttu-id="084ba-188">가격에 대한 내용은 [SQL 데이터베이스 가격](https://azure.microsoft.com/pricing/details/sql-database/)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="084ba-188">For pricing, see [SQL Database Pricing](https://azure.microsoft.com/pricing/details/sql-database/).</span></span>
* <span data-ttu-id="084ba-189">**Azure 서비스 버스**: Azure 서비스 버스는 Azure 클라우드 서비스 내의 작업 조정에 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-189">**Azure Service Bus**: An Azure Service Bus is for coordination of the work within the Azure Cloud Service.</span></span> <span data-ttu-id="084ba-190">[서비스 버스 가격](https://azure.microsoft.com/pricing/details/service-bus/)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="084ba-190">See [Service Bus Pricing](https://azure.microsoft.com/pricing/details/service-bus/).</span></span>
* <span data-ttu-id="084ba-191">**Azure 저장소**: Azure 저장소 계정은 추가로 디버그해야 하는 문제가 있을 경우 이벤트에 진단 출력 로그를 저장하는 데 사용됩니다( [Azure 클라우드 서비스 및 가상 컴퓨터에서 진단 사용](../cloud-services/cloud-services-dotnet-diagnostics.md)참조).</span><span class="sxs-lookup"><span data-stu-id="084ba-191">**Azure Storage**: An Azure Storage account is used to store diagnostic output logging in the event that an issue requires further debugging (see [Enabling Diagnostics in Azure Cloud Services and Virtual Machines](../cloud-services/cloud-services-dotnet-diagnostics.md)).</span></span> <span data-ttu-id="084ba-192">가격에 대한 내용은 [Azure 저장소 가격](https://azure.microsoft.com/pricing/details/storage/)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="084ba-192">For pricing, see [Azure Storage Pricing](https://azure.microsoft.com/pricing/details/storage/).</span></span>

## <a name="how-elastic-database-jobs-work"></a><span data-ttu-id="084ba-193">탄력적 데이터베이스 작업의 작동 방식</span><span class="sxs-lookup"><span data-stu-id="084ba-193">How Elastic Database jobs work</span></span>
1. <span data-ttu-id="084ba-194">Azure SQL 데이터베이스는 모든 메타데이터 및 상태 데이터를 저장하는 **제어 데이터베이스** 로 지정됩니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-194">An Azure SQL Database is designated a **control database** which stores all meta-data and state data.</span></span>
2. <span data-ttu-id="084ba-195">**작업 서비스** 로 제어 데이터베이스에 액세스하여 실행할 작업을 시작 및 추적합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-195">The control database is accessed by the **job service** to launch and track jobs to execute.</span></span>
3. <span data-ttu-id="084ba-196">다음 두 가지 역할이 제어 데이터베이스와 통신합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-196">Two different roles communicate with the control database:</span></span> 
   * <span data-ttu-id="084ba-197">컨트롤러: 요청된 작업을 수행할 태스크가 필요한 작업을 확인하고 새 작업 태스크를 만들어 실패한 작업을 다시 시도합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-197">Controller: Determines which jobs require tasks to perform the requested job, and retries failed jobs by creating new job tasks.</span></span>
   * <span data-ttu-id="084ba-198">작업 태스크 실행: 작업 태스크를 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-198">Job Task Execution: Carries out the job tasks.</span></span>

### <a name="job-task-types"></a><span data-ttu-id="084ba-199">작업 태스크 유형</span><span class="sxs-lookup"><span data-stu-id="084ba-199">Job task types</span></span>
<span data-ttu-id="084ba-200">작업을 실행하는 여러 유형의 작업 태스크가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-200">There are multiple types of job tasks that carry out execution of jobs:</span></span>

* <span data-ttu-id="084ba-201">ShardMapRefresh: 분할된 데이터베이스 맵을 쿼리하여 분할된 데이터베이스로 사용되는 모든 데이터베이스를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-201">ShardMapRefresh: Queries the shard map to determine all the databases used as shards</span></span>
* <span data-ttu-id="084ba-202">ScriptSplit: 'GO' 문에 걸친 스크립트를 일괄 처리로 분할합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-202">ScriptSplit: Splits the script across ‘GO’ statements into batches</span></span>
* <span data-ttu-id="084ba-203">ExpandJob: 데이터베이스 그룹을 대상으로 하는 작업에서 각 데이터베이스에 대한 자식 작업을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-203">ExpandJob: Creates child jobs for each database from a job that targets a group of databases</span></span>
* <span data-ttu-id="084ba-204">ScriptExecution: 정의된 자격 증명을 사용하여 특정 데이터베이스에 대해 스크립트를 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-204">ScriptExecution: Executes a script against a particular database using defined credentials</span></span>
* <span data-ttu-id="084ba-205">Dacpac: 특정 자격 증명을 사용하여 특정 데이터베이스에 DACPAC를 적용합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-205">Dacpac: Applies a DACPAC to a particular database using particular credentials</span></span>

## <a name="end-to-end-job-execution-work-flow"></a><span data-ttu-id="084ba-206">종단 간 작업 실행 워크플로</span><span class="sxs-lookup"><span data-stu-id="084ba-206">End-to-end job execution work-flow</span></span>
1. <span data-ttu-id="084ba-207">포털이나 PowerShell API를 사용하여 **제어 데이터베이스**에 작업이 삽입됩니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-207">Using either the Portal or the PowerShell API, a job is inserted into the  **control database**.</span></span> <span data-ttu-id="084ba-208">작업이 특정 자격 증명을 사용하여 데이터베이스 그룹에 대해 TRANSACT-SQL 스크립트를 실행하도록 요청합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-208">The job requests execution of a Transact-SQL script against a group of databases using specific credentials.</span></span>
2. <span data-ttu-id="084ba-209">컨트롤러가 새 작업을 식별합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-209">The controller identifies the new job.</span></span> <span data-ttu-id="084ba-210">작업 태스크가 생성 및 실행되어 스크립트를 분할하고 그룹의 데이터베이스를 새로 고칩니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-210">Job tasks are created and executed to split the script and to refresh the group’s databases.</span></span> <span data-ttu-id="084ba-211">마지막으로, 새 작업이 생성 및 실행되어 작업을 확장하고 새 자식 작업을 만듭니다. 여기서 각 자식 작업은 그룹의 개별 데이터베이스에 대해 TRANSACT-SQL 스크립트를 실행하도록 지정됩니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-211">Lastly, a new job is created and executed to expand the job and create new child jobs where each child job is specified to execute the Transact-SQL script against an individual database in the group.</span></span>
3. <span data-ttu-id="084ba-212">컨트롤러가 생성된 자식 작업을 식별합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-212">The controller identifies the created child jobs.</span></span> <span data-ttu-id="084ba-213">각 작업에서 컨트롤러가 데이터베이스에 대해 스크립트를 실행할 작업 태스크를 만들고 트리거합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-213">For each job, the controller creates and triggers a job task to execute the script against a database.</span></span> 
4. <span data-ttu-id="084ba-214">모든 작업 태스크가 완료된 후 컨트롤러가 작업을 완료 상태로 업데이트합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-214">After all job tasks have completed, the controller updates the jobs to a completed state.</span></span> 
   <span data-ttu-id="084ba-215">작업 실행 중 언제든지 PowerShell API를 사용하여 작업 실행의 현재 상태를 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-215">At any point during job execution, the PowerShell API can be used to view the current state of job execution.</span></span> <span data-ttu-id="084ba-216">PowerShell API에서 반환되는 모든 시간은 UTC로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-216">All times returned by the PowerShell APIs are represented in UTC.</span></span> <span data-ttu-id="084ba-217">원하는 경우 취소 요청을 시작하여 작업을 중지할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-217">If desired, a cancellation request can be initiated to stop a job.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="084ba-218">다음 단계</span><span class="sxs-lookup"><span data-stu-id="084ba-218">Next steps</span></span>
<span data-ttu-id="084ba-219">[구성 요소를 설치](sql-database-elastic-jobs-service-installation.md)하고 [데이터베이스 그룹의 각 데이터베이스를 만들고 로그인을 추가](sql-database-manage-logins.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="084ba-219">[Install the components](sql-database-elastic-jobs-service-installation.md), then [create and add a log in to each database in the group of databases](sql-database-manage-logins.md).</span></span> <span data-ttu-id="084ba-220">작업 만들기 및 관리를 더 잘 이해하려면 [탄력적 데이터베이스 작업 만들기 및 관리](sql-database-elastic-jobs-create-and-manage.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="084ba-220">To further understand job creation and management, see [creating and managing elastic database jobs](sql-database-elastic-jobs-create-and-manage.md).</span></span> <span data-ttu-id="084ba-221">[탄력적 데이터베이스 작업 시작](sql-database-elastic-jobs-getting-started.md)도 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="084ba-221">See also [Getting started with Elastic Database jobs](sql-database-elastic-jobs-getting-started.md).</span></span>

[!INCLUDE [elastic-scale-include](../../includes/elastic-scale-include.md)]

<!--Image references-->
[1]: ./media/sql-database-elastic-jobs-overview/elastic-jobs.png
<!--anchors-->


