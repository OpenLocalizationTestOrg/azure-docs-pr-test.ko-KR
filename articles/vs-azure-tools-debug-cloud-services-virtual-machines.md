---
title: "Visual Studio에서 Azure 클라우드 서비스 또는 가상 컴퓨터 디버깅 | Microsoft Docs"
description: "Visual Studio에서 클라우드 서비스 또는 가상 컴퓨터 디버깅"
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: 945e06e0-2100-41af-b218-72347367ddab
ms.service: visual-studio-online
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: multiple
ms.workload: na
ms.date: 11/11/2016
ms.author: kraigb
ms.openlocfilehash: 2ea3a9d6b3bdd873c139064b3c400eff5977eda4
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/29/2017
---
# <a name="debugging-an-azure-cloud-service-or-virtual-machine-in-visual-studio"></a><span data-ttu-id="b62bb-103">Visual Studio에서 Azure 클라우드 서비스 또는 가상 컴퓨터 디버깅</span><span class="sxs-lookup"><span data-stu-id="b62bb-103">Debugging an Azure cloud service or virtual machine in Visual Studio</span></span>
<span data-ttu-id="b62bb-104">Visual Studio는 Azure 클라우드 서비스와 가상 컴퓨터 디버깅에 여러 가지 옵션을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-104">Visual Studio gives you different options for debugging Azure cloud services and virtual machines.</span></span>

## <a name="debug-your-cloud-service-on-your-local-computer"></a><span data-ttu-id="b62bb-105">로컬 컴퓨터에서 클라우드 서비스 디버그</span><span class="sxs-lookup"><span data-stu-id="b62bb-105">Debug your cloud service on your local computer</span></span>
<span data-ttu-id="b62bb-106">Azure 계산 에뮬레이터를 사용하여 로컬 컴퓨터에서 클라우드 서비스 디버그하면 시간과 돈을 절약할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-106">You can save time and money by using the Azure compute emulator to debug your cloud service on a local machine.</span></span> <span data-ttu-id="b62bb-107">배포하기 전에 로컬로 서비스를 디버깅하면, 계산 시간이 소요되지 않고 안정성과 성능을 향상할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-107">By debugging a service locally before you deploy it, you can improve reliability and performance without paying for compute time.</span></span> <span data-ttu-id="b62bb-108">그러나, Azure 자체에서 클라우드 서비스를 실행하는 경우, 일부 오류가 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-108">However, some errors might occur only when you run a cloud service in Azure itself.</span></span> <span data-ttu-id="b62bb-109">서비스를 게시하거나 역할 인스턴스에 디버거를 연결할 때 원격 디버깅을 사용하면 이 오류들을 디버그할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-109">You can debug these errors if you enable remote debugging when you publish your service and then attach the debugger to a role instance.</span></span>

<span data-ttu-id="b62bb-110">에뮬레이터가 로컬 환경에서 Azure 계산 서비스를 시뮬레이트 및 실행하여 클라우드 서비스를 배포하기 전에 테스트 및 디버그할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-110">The emulator simulates the Azure Compute service and runs in your local environment so that you can test and debug your cloud service before you deploy it.</span></span> <span data-ttu-id="b62bb-111">에뮬레이터는 역할 인스턴스의 수명 주기를 처리하고 로컬 저장소 같은 시뮬레이트된 리소스에 대한 액세스를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-111">The emulator handles the lifecycle of your role instances and provides access to simulated resources, such as local storage.</span></span> <span data-ttu-id="b62bb-112">Visual Studio에서 서비스를 디버그하거나 실행할 때, 에뮬레이터가 백그라운드 응용 프로그램으로 자동으로 시작되고, 서비스가 에뮬레이터에 배포됩니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-112">When you debug or run your service from Visual Studio, it automatically starts the emulator as a background application and then deploys your service to the emulator.</span></span> <span data-ttu-id="b62bb-113">로컬 환경에서 서비스가 실행되는 것을 보기 위해 에뮬레이터를 사용할 수 있습니다. </span><span class="sxs-lookup"><span data-stu-id="b62bb-113">You can use the emulator to view your service when it runs in the local environment.</span></span> <span data-ttu-id="b62bb-114">에뮬레이터의 정식 버전 또는 Express 버전을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-114">You can run the full version or the express version of the emulator.</span></span> <span data-ttu-id="b62bb-115">(Azure 2.3부터 에뮬레이터의 Express 버전은 기본값입니다.) [로컬로 클라우드 서비스를 실행 및 디버그할 때 에뮬레이터 익스프레스 사용](https://msdn.microsoft.com/library/dn339018.aspx)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="b62bb-115">(Starting with Azure 2.3, the express version of the emulator is the default.) See [Using Emulator Express to Run and Debug a Cloud Service Locally](https://msdn.microsoft.com/library/dn339018.aspx).</span></span>

### <a name="to-debug-your-cloud-service-on-your-local-computer"></a><span data-ttu-id="b62bb-116">로컬 컴퓨터에서 클라우드 서비스를 디버그 하려면</span><span class="sxs-lookup"><span data-stu-id="b62bb-116">To debug your cloud service on your local computer</span></span>
1. <span data-ttu-id="b62bb-117">메뉴 항목에서 **디버그**를 선택하고 Azure 클라우드 서비스 프로젝트를 실행하여 **디버깅을 시작**합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-117">On the menu bar, choose **Debug**, **Start Debugging** to run your Azure cloud service project.</span></span> <span data-ttu-id="b62bb-118">F5를 눌러도 디버깅을 시작할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-118">As an alternative, you can press F5.</span></span> <span data-ttu-id="b62bb-119">계산 에뮬레이터가 시작한다는 메시지가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-119">You’ll see a message that the Compute Emulator is starting.</span></span> <span data-ttu-id="b62bb-120">에뮬레이터를 시작할 때 시스템 트레이 아이콘을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-120">When the emulator starts, the system tray icon confirms it.</span></span>

    ![시스템 트레이의 Azure 에뮬레이터](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC783828.png)
2. <span data-ttu-id="b62bb-122">알림 영역에서 Azure 아이콘에 대한 바로 가기 메뉴를 연 다음 **계산 에뮬레이터 UI 표시**를 선택하여 계산 에뮬레이터에 대한 사용자 인터페이스를 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-122">Display the user interface for the compute emulator by opening the shortcut menu for the Azure icon in the notification area, and then select **Show Compute Emulator UI**.</span></span>

    <span data-ttu-id="b62bb-123">UI의 왼쪽 창에서는 현재 계산 에뮬레이터와 각 서비스를 실행하는 역할 인스턴스가 배포되는 서비스를 보여줍니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-123">The left pane of the UI shows the services that are currently deployed to the compute emulator and the role instances that each service is running.</span></span> <span data-ttu-id="b62bb-124">오른쪽 창에서 수명 주기, 로깅 및 진단 정보를 표시하는 서비스 또는 역할을 선택할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-124">You can choose the service or roles to display lifecycle, logging, and diagnostic information in the right pane.</span></span> <span data-ttu-id="b62bb-125">포함된 창의 위쪽 여백에 포커스를 맞추면 오른쪽 창에 맞게 확장됩니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-125">If you put the focus in the top margin of an included window, it expands to fill the right pane.</span></span>
3. <span data-ttu-id="b62bb-126">**디버그** 메뉴의 명령을 선택하고 코드의 중단점을 설정하여 응용 프로그램의 단계를 진행합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-126">Step through the application by selecting commands on the **Debug** menu and setting breakpoints in your code.</span></span> <span data-ttu-id="b62bb-127">디버거에서 응용 프로그램을 통해 단계를 진행하면 응용 프로그램의 현재 상태로 창이 업데이트됩니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-127">As you step through the application in the debugger, the panes are updated with the current status of the application.</span></span> <span data-ttu-id="b62bb-128">디버깅을 중지하면 응용 프로그램 배포가 삭제됩니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-128">When you stop debugging, the application deployment is deleted.</span></span> <span data-ttu-id="b62bb-129">응용 프로그램이 웹 역할을 포함하고 웹 브라우저를 시작하도록 시작 동작 속성을 설정하면, Visual Studio는 브라우저에서 웹 응용 프로그램을 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-129">If your application includes a web role and you've set the Startup action property to start the web browser, Visual Studio starts your web application in the browser.</span></span> <span data-ttu-id="b62bb-130">서비스 구성에서 역할의 인스턴스 수를 변경한 경우, 클라우드 서비스를 중지하고 역할의 이러한 새 인스턴스를 디버깅할 수 있도록 디버깅을 다시 시작해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-130">If you change the number of instances of a role in the service configuration, you must stop your cloud service and then restart debugging so that you can debug these new instances of the role.</span></span>

    <span data-ttu-id="b62bb-131">**참고:** 서비스 실행이나 디버깅을 중지해도 로컬 계산 에뮬레이터 및 저장소 에뮬레이터는 중지되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-131">**Note:** When you stop running or debugging your service, the local compute emulator and storage emulator aren't stopped.</span></span> <span data-ttu-id="b62bb-132">알림 영역에서 이 에뮬레이터들을 명시적으로 중지해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-132">You must stop them explicitly from the notification area.</span></span>

## <a name="debug-a-cloud-service-in-azure"></a><span data-ttu-id="b62bb-133">Azure에서 클라우드 서비스 디버그</span><span class="sxs-lookup"><span data-stu-id="b62bb-133">Debug a cloud service in Azure</span></span>
<span data-ttu-id="b62bb-134">원격 컴퓨터에서 클라우드 서비스를 디버그하려면, 클라우드 서비스를 배포할 때 명시적으로 이 기능을 사용할 수 있어야 역할 인스턴스에서 실행되는 서비스(예: msvsmon.exe)가 설치됩니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-134">To debug a cloud service from a remote machine, you must enable that functionality explicitly when you deploy your cloud service so that required services (msvsmon.exe, for example) are installed on the virtual machines that run your role instances.</span></span> <span data-ttu-id="b62bb-135">서비스를 게시할 때 원격 디버깅을 사용하지 않으면 원격 디버깅을 사용한 서비스를 다시 게시해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-135">If you didn't enable remote debugging when you published the service, you have to republish the service with remote debugging enabled.</span></span>

<span data-ttu-id="b62bb-136">클라우드 서비스에 원격 디버깅을 사용하면, 성능이 저하되거나 추가 요금이 발생하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-136">If you enable remote debugging for a cloud service, it doesn't exhibit degraded performance or incur additional charges.</span></span> <span data-ttu-id="b62bb-137">서비스를 사용하는 클라이언트에 악영향을 줄 수 있으므로 원격 디버깅을 프로덕션 서비스에 사용하면 안 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-137">You shouldn't use remote debugging on a production service, because clients who use the service might be adversely affected.</span></span>

> [!NOTE]
> <span data-ttu-id="b62bb-138">Visual Studio에서 클라우드 서비스를 게시할 때 .NET Framework 4 또는 .NET Framework 4.5를 대상으로 하는 서비스의 모든 역할에 대해 **IntelliTrace** 를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-138">When you publish a cloud service from Visual Studio, you can enable **IntelliTrace** for any roles in that service that target the .NET Framework 4 or the .NET Framework 4.5.</span></span> <span data-ttu-id="b62bb-139">**IntelliTrace**를 사용하여 이전의 역할 인스턴스에서 발생한 이벤트를 검사하고 그 시점부터 컨텍스트를 재현할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-139">By using **IntelliTrace**, you can examine events that occurred in a role instance in the past and reproduce the context from that time.</span></span> <span data-ttu-id="b62bb-140">[IntelliTrace 및 Visual Studio를 사용하여 게시된 클라우드 서비스 디버깅](http://go.microsoft.com/fwlink/?LinkID=623016) 및 [IntelliTrace 사용하기](https://msdn.microsoft.com/library/dd264915.aspx)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="b62bb-140">See [Debugging a published cloud service with IntelliTrace and Visual Studio](http://go.microsoft.com/fwlink/?LinkID=623016) and [Using IntelliTrace](https://msdn.microsoft.com/library/dd264915.aspx).</span></span>
>
>

### <a name="to-enable-remote-debugging-for-a-cloud-service"></a><span data-ttu-id="b62bb-141">클라우드 서비스의 원격 디버깅을 사용하려면</span><span class="sxs-lookup"><span data-stu-id="b62bb-141">To enable remote debugging for a cloud service</span></span>
1. <span data-ttu-id="b62bb-142">Azure 프로젝트의 바로가기 메뉴를 열고, **게시**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-142">Open the shortcut menu for the Azure project, and then select **Publish**.</span></span>
2. <span data-ttu-id="b62bb-143">**스테이징** 환경 및 **디버그** 구성을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-143">Select the **Staging** environment and the **Debug** configuration.</span></span>

    <span data-ttu-id="b62bb-144">단지 지침일 뿐입니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-144">This is only a guideline.</span></span> <span data-ttu-id="b62bb-145">테스트 환경을 프로덕션 환경에서 실행하도록 선택할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-145">You can opt to run your test environments in a Production environment.</span></span> <span data-ttu-id="b62bb-146">그러나 프로덕션 환경에서 원격 디버깅을 사용할 경우 사용자에게 악영향을 끼칠 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-146">However, you may adversely affect users if you enable remote debugging on the Production environment.</span></span> <span data-ttu-id="b62bb-147">릴리스 구성을 선택할 수도 있지만, 디버그 구성이 디버깅을 더 쉽게 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-147">You can choose the Release configuration, but the Debug configuration makes debugging easier.</span></span>

    ![디버그 구성 선택](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746717.gif)
3. <span data-ttu-id="b62bb-149">일반 단계를 따르지만, **고급 설정** 탭에서 **모든 역할에 원격 디버거 사용** 확인란을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-149">Follow the usual steps, but select the **Enable Remote Debugger for all roles** check box on the **Advanced Settings** tab.</span></span>

    ![디버그 구성](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746718.gif)

### <a name="to-attach-the-debugger-to-a-cloud-service-in-azure"></a><span data-ttu-id="b62bb-151">Azure의 클라우드 서비스에 디버거를 연결하려면</span><span class="sxs-lookup"><span data-stu-id="b62bb-151">To attach the debugger to a cloud service in Azure</span></span>
1. <span data-ttu-id="b62bb-152">서버 탐색기에서 클라우드 서비스 노드를 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-152">In Server Explorer, expand the node for your cloud service.</span></span>
2. <span data-ttu-id="b62bb-153">연결하려는 역할 또는 역할 인스턴스에 대한 바로 가기 메뉴를 연 다음 **디버거 연결**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-153">Open the shortcut menu for the role or role instance to which you want to attach, and then select **Attach Debugger**.</span></span>

    <span data-ttu-id="b62bb-154">역할을 디버깅하는 경우 Visual Studio 디버거는 해당 역할의 각 인스턴스에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-154">If you debug a role, the Visual Studio debugger attaches to each instance of that role.</span></span> <span data-ttu-id="b62bb-155">디버거는 코드 줄을 실행하고 중단점의 아무 조건이나 만족시키는 첫 번째 역할 인스턴스의 중단점에서 멈춥니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-155">The debugger will break on a breakpoint for the first role instance that runs that line of code and meets any conditions of that breakpoint.</span></span> <span data-ttu-id="b62bb-156">인스턴스를 디버그할 경우 디버거는 해당 인스턴스에만 연결되고 특정 인스턴스가 코드 줄을 실행하고 중단점의 조건을 만족시킬 때만 중단점에서 멈춥니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-156">If you debug an instance, the debugger attaches to only that instance and breaks on a breakpoint only when that specific instance runs that line of code and meets the breakpoint's conditions.</span></span>

    ![디버거 연결](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746719.gif)
3. <span data-ttu-id="b62bb-158">인스턴스에 디버거가 연결된 후 평소와 같이 디버깅합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-158">After the debugger attaches to an instance, debug as usual.</span></span> <span data-ttu-id="b62bb-159">디버거는 사용자의 역할에 적절한 호스트 프로세스에 자동으로 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-159">The debugger automatically attaches to the appropriate host process for your role.</span></span> <span data-ttu-id="b62bb-160">역할에 따라 디버거는 w3wp.exe, WaWorkerHost.exe 또는 WallHost.exe에 연결됩니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-160">Depending on what the role is, the debugger attaches to w3wp.exe, WaWorkerHost.exe, or WaIISHost.exe.</span></span> <span data-ttu-id="b62bb-161">프로세스가 어떤 디버거에 연결되어있는지 확인하려면 서버 탐색기에서 인스턴스 노드를 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-161">To verify the process to which the debugger is attached, expand the instance node in Server Explorer.</span></span> <span data-ttu-id="b62bb-162">Azure 프로세스에 대한 자세한 내용은 [Azure 역할 아키텍처](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="b62bb-162">See [Azure Role Architecture](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx) for more information about Azure processes.</span></span>

    ![코드 형식 선택 대화 상자](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718346.png)
4. <span data-ttu-id="b62bb-164">프로세스에 연결된 디버거를 식별하려면 메뉴 모음의 디버그, Windows, 프로세스를 차례대로 선택하여 프로세스 대화 상자를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-164">To identify the processes to which the debugger is attached, open the Processes dialog box by, on the menu bar, choosing Debug, Windows, Processes.</span></span> <span data-ttu-id="b62bb-165">(키보드: Ctrl + Alt + Z) 특정 프로세스와 연결을 분리하려면 해당 바로 가기를 열고 **프로세스 분리**를 선택하세요.</span><span class="sxs-lookup"><span data-stu-id="b62bb-165">(Keyboard: Ctrl+Alt+Z)To detach a specific process, open its shortcut menu, and then select **Detach Process**.</span></span> <span data-ttu-id="b62bb-166">또는, 서버 탐색기에서 인스턴스 노드의 위치를 찾고, 프로세스를 찾고 해당 바로 가기를 열고 **프로세스 분리**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-166">Or, locate the instance node in Server Explorer, find the process, open its shortcut menu, and then select **Detach Process**.</span></span>

    ![디버그 프로세스](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC690787.gif)

> [!WARNING]
> <span data-ttu-id="b62bb-168">원격 디버깅 시 중단점에서 장시간 중지하지 않도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-168">Avoid long stops at breakpoints when remote debugging.</span></span> <span data-ttu-id="b62bb-169">프로세스가 몇 분간 중지되면 Azure는 응답하지 않는 프로세스로 간주하여 해당 인스턴스에 트래픽 전송을 중지합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-169">Azure treats a process that's stopped for longer than a few minutes as unresponsive and stops sending traffic to that instance.</span></span> <span data-ttu-id="b62bb-170">너무 오랫동안 중지하는 경우 msvmon.exe가 프로세스에서 분리됩니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-170">If you stop for too long, msvsmon.exe detaches from the process.</span></span>
>
>

<span data-ttu-id="b62bb-171">인스턴스나 역할의 모든 프로세스에서 디버거를 분리하려면 디버깅하는 역할 또는 인스턴스의 바로가기를 열고 **디버거 분리**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-171">To detach the debugger from all processes in your instance or role, open the shortcut menu for the role or instance that you're debugging, and then select **Detach Debugger**.</span></span>

## <a name="limitations-of-remote-debugging-in-azure"></a><span data-ttu-id="b62bb-172">Azure에서 원격 디버깅의 제한 사항</span><span class="sxs-lookup"><span data-stu-id="b62bb-172">Limitations of remote debugging in Azure</span></span>
<span data-ttu-id="b62bb-173">Azure SDK 2.3의 원격 디버깅은 다음과 같은 제한 사항이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-173">From Azure SDK 2.3, remote debugging has the following limitations.</span></span>

* <span data-ttu-id="b62bb-174">원격 디버깅을 사용하면 모든 역할에 25개 이상의 인스턴스가 있는 클라우드 서비스를 게시할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-174">With remote debugging enabled, you can't publish a cloud service in which any role has more than 25 instances.</span></span>
* <span data-ttu-id="b62bb-175">디버거는 30400에서 30424, 31400에서 31424 및 32400에서 32424의 포트를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-175">The debugger uses ports 30400 to 30424, 31400 to 31424 and 32400 to 32424.</span></span> <span data-ttu-id="b62bb-176">이 포트 중 하나를 사용하려는 경우, 서비스를 게시할 수 없으며, 다음과 같은 오류 메시지 중 하나가 Azure 활동 로그에 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-176">If you try to use any of these ports, you won't be able to publish your service, and one of the following error messages will appear in the activity log for Azure:</span></span>

  * <span data-ttu-id="b62bb-177">.csdef 파일에 대한 .cscfg 파일의 유효성 검사 오류가 발생했습니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-177">Error validating the .cscfg file against the .csdef file.</span></span>
    <span data-ttu-id="b62bb-178">예약된 포트의 범위는 끝점 Microsoft.WindowsAzure.Plugins.RemoteDebugger의 범위입니다. 역할의 커넥터는 이미 정의된 포트 또는 범위를 겹치는 역할입니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-178">The reserved port range 'range' for endpoint Microsoft.WindowsAzure.Plugins.RemoteDebugger.Connector of role 'role' overlaps with an already defined port or range.</span></span>
  * <span data-ttu-id="b62bb-179">할당하지 못했습니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-179">Allocation failed.</span></span> <span data-ttu-id="b62bb-180">나중에 다시 시도하거나, 가상 컴퓨터 사이즈 또는 역할 인스턴스의 수를 줄이거나 다른 지역에 배포해 보십시오.</span><span class="sxs-lookup"><span data-stu-id="b62bb-180">Please retry later, try reducing the VM size or number of role instances, or try deploying to a different region.</span></span>

## <a name="debugging-azure-virtual-machines"></a><span data-ttu-id="b62bb-181">Azure 가상 컴퓨터를 디버깅합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-181">Debugging Azure virtual machines</span></span>
<span data-ttu-id="b62bb-182">Visual Studio의 서버 탐색기를 사용하여 Azure 가상 컴퓨터에서 실행하는 프로그램을 디버그할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-182">You can debug programs that run on Azure virtual machines by using Server Explorer in Visual Studio.</span></span> <span data-ttu-id="b62bb-183">Azure 가상 컴퓨터에서 원격 디버깅을 사용하면 Azure는 가상 컴퓨터에 원격 디버깅 확장을 설치합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-183">When you enable remote debugging on an Azure virtual machine, Azure installs the remote debugging extension on the virtual machine.</span></span> <span data-ttu-id="b62bb-184">그리고 나서, 가상 컴퓨터의 프로세스에 연결할 수 있으며 평소대로 디버그할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-184">Then, you can attach to processes on the virtual machine and debug as you normally would.</span></span>

> [!NOTE]
> <span data-ttu-id="b62bb-185">Visual Studio 2015의 클라우드 탐색기를 이용하여 Azure 리소스 관리자 스택으로 생성한 가상 컴퓨터를 원격으로 디버그할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-185">Virtual machines created through the Azure resource manager stack can be remotely debugged by using Cloud Explorer in Visual Studio 2015.</span></span> <span data-ttu-id="b62bb-186">자세한 내용은 [클라우드 탐색기를 사용하여 Azure 리소스 관리](http://go.microsoft.com/fwlink/?LinkId=623031)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="b62bb-186">For more information, see [Managing Azure Resources with Cloud Explorer](http://go.microsoft.com/fwlink/?LinkId=623031).</span></span>
>
>

### <a name="to-debug-an-azure-virtual-machine"></a><span data-ttu-id="b62bb-187">Azure 가상 컴퓨터를 디버그하려면</span><span class="sxs-lookup"><span data-stu-id="b62bb-187">To debug an Azure virtual machine</span></span>
1. <span data-ttu-id="b62bb-188">서버 탐색기에서 가상 컴퓨터 노드를 확장하고 디버깅하려는 가상 컴퓨터의 노드를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-188">In Server Explorer, expand the Virtual Machines node and select the node of the virtual machine that you want to debug.</span></span>
2. <span data-ttu-id="b62bb-189">컨텍스트 메뉴를 열고 **디버깅 사용**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-189">Open the context menu and select **Enable Debugging**.</span></span> <span data-ttu-id="b62bb-190">가상 컴퓨터 상에 디버깅 사용을 확인하는 메시지가 나오면 **예**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-190">When asked if you're sure if you want to enable debugging on the virtual machine, select **Yes**.</span></span>

    <span data-ttu-id="b62bb-191">디버깅을 사용할 수 있도록 Azure가 원격 디버깅 확장을 가상 컴퓨터에 설치합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-191">Azure installs the remote debugging extension on the virtual machine to enable debugging.</span></span>

    ![가상 컴퓨터 디버깅 사용 명령](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746720.png)

    ![Azure 활동 로그](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746721.png)
3. <span data-ttu-id="b62bb-194">원격 디버깅 확장 설치가 끝나면, 가상 컴퓨터의 상황에 맞는 메뉴를 열고 **디버거 연결...**</span><span class="sxs-lookup"><span data-stu-id="b62bb-194">After the remote debugging extension finishes installing, open the virtual machine's context menu and select **Attach Debugger...**</span></span>

    <span data-ttu-id="b62bb-195">Azure가 가상 컴퓨터에서 프로세스 목록을 가져오고 프로세스에 연결 대화 상자에 이를 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-195">Azure gets a list of the processes on the virtual machine and shows them in the Attach to Process dialog box.</span></span>

    ![디버거 연결 명령](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746722.png)
4. <span data-ttu-id="b62bb-197">**프로세스에 연결** 대화 상자에서 디버그하려는 코드의 유형만 표시하도록 결과 목록 제한 **선택**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-197">In the **Attach to Process** dialog box, select **Select** to limit the results list to show only the types of code you want to debug.</span></span> <span data-ttu-id="b62bb-198">32, 64-비트 관리 코드 및 네이티브 코드 또는 둘 다 디버그할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-198">You can debug 32- or 64-bit managed code, native code, or both.</span></span>

    ![코드 형식 선택 대화 상자](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718346.png)
5. <span data-ttu-id="b62bb-200">가상 컴퓨터에서 디버그하려는 프로세스를 선택하고 **연결**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-200">Select the processes you want to debug on the virtual machine and then select **Attach**.</span></span> <span data-ttu-id="b62bb-201">예를 들어, 가상 컴퓨터에서 웹앱을 디버그하려면 w3wp.exe 프로세스를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-201">For example, you might choose the w3wp.exe process if you wanted to debug a web app on the virtual machine.</span></span> <span data-ttu-id="b62bb-202">자세한 내용은 [Visual Studio에서 하나 이상의 프로세스 디버그](https://msdn.microsoft.com/library/jj919165.aspx) 및 [Azure 역할 아키텍쳐](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="b62bb-202">See [Debug One or More Processes in Visual Studio](https://msdn.microsoft.com/library/jj919165.aspx) and [Azure Role Architecture](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx) for more information.</span></span>

## <a name="create-a-web-project-and-a-virtual-machine-for-debugging"></a><span data-ttu-id="b62bb-203">디버깅을 위한 웹 프로젝트 및 가상 컴퓨터 만들기</span><span class="sxs-lookup"><span data-stu-id="b62bb-203">Create a web project and a virtual machine for debugging</span></span>
<span data-ttu-id="b62bb-204">Azure 프로젝트를 게시하기 전에, 포함된 환경 - 디버깅 및 테스트 시나리오를 지원하고 테스트 및 모니터링 프로그램을 설치할 수 있는-에서 테스트에 유용한 것을 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-204">Before publishing your Azure project, you might find it useful to test it in a contained environment that supports debugging and testing scenarios, and where you can install testing and monitoring programs.</span></span> <span data-ttu-id="b62bb-205">이 작업을 수행하는 한 가지 방법은 가상 컴퓨터에서 앱을 원격으로 디버그합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-205">One way to do this is to remotely debug your app on a virtual machine.</span></span>

<span data-ttu-id="b62bb-206">Visual Studio ASP.NET 프로젝트는 앱 테스트를 위해 사용할 수 있는 편리한 가상 컴퓨터를 만드는 옵션을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-206">Visual Studio ASP.NET projects offer an option to create a handy virtual machine that you can use for app testing.</span></span> <span data-ttu-id="b62bb-207">가상 컴퓨터는 PowerShell, 원격 데스크톱 및 WebDeploy와 같은 일반적으로 필요한 끝점을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-207">The virtual machine includes commonly-needed endpoints such as PowerShell, remote desktop, and WebDeploy.</span></span>

### <a name="to-create-a-web-project-and-a-virtual-machine-for-debugging"></a><span data-ttu-id="b62bb-208">웹 프로젝트 및 디버깅을 위한 가상 컴퓨터를 만들려면</span><span class="sxs-lookup"><span data-stu-id="b62bb-208">To create a web project and a virtual machine for debugging</span></span>
1. <span data-ttu-id="b62bb-209">Visual Studio에서 새 ASP.NET 웹 응용 프로그램을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-209">In Visual Studio, create a new ASP.NET Web Application.</span></span>
2. <span data-ttu-id="b62bb-210">Azure 섹션의 새 ASP.NET 프로젝트 대화 상자에서 드롭 다운 목록 상자의 **가상 컴퓨터** 를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-210">In the New ASP.NET Project dialog, in the Azure section, choose **Virtual Machine** in the dropdown list box.</span></span> <span data-ttu-id="b62bb-211">**원격 리소스 생성** 확인란을 선택한 상태로 둡니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-211">Leave the **Create remote resources** check box selected.</span></span> <span data-ttu-id="b62bb-212">**확인** 을 선택하여 계속합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-212">Select **OK** to proceed.</span></span>

    <span data-ttu-id="b62bb-213">**Azure에 가상 컴퓨터 만들기** 대화 상자가 나타납니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-213">The **Create virtual machine on Azure** dialog box appears.</span></span>

    ![ASP.NET 웹 프로젝트 만들기 대화 상자](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746723.png)

    <span data-ttu-id="b62bb-215">**참고:** Azure 계정에 로그인하지 않은 경우, 로그인하라는 메시지가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-215">**Note:** You'll be asked to sign in to your Azure account if you're not already signed in.</span></span>

1. <span data-ttu-id="b62bb-216">가상 컴퓨터에 대한 다양한 설정을 선택하고 **확인**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-216">Select the various settings for the virtual machine and then select **OK**.</span></span> <span data-ttu-id="b62bb-217">자세한 내용은 [가상 컴퓨터](http://go.microsoft.com/fwlink/?LinkId=623033) 를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="b62bb-217">See [Virtual Machines](http://go.microsoft.com/fwlink/?LinkId=623033) for more information.</span></span>

    <span data-ttu-id="b62bb-218">DNS 이름으로 입력한 이름이 가상 컴퓨터의 이름이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-218">The name you enter for DNS name will be the name of the virtual machine.</span></span>

    ![Azure 대화 상자에 가상 컴퓨터 만들기](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746724.png)

    <span data-ttu-id="b62bb-220">Azure는 가상 컴퓨터를 만들고 원격 데스크톱과 웹 배포와 같은 끝점을 프로비전하고 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-220">Azure creates the virtual machine and then provisions and configures the endpoints, such as Remote Desktop and Web Deploy</span></span>
2. <span data-ttu-id="b62bb-221">가상 컴퓨터를 완벽히 구현한 후에 서버 탐색기에서 가상 컴퓨터의 노드를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-221">After the virtual machine is fully configured, select the virtual machine’s node in Server Explorer.</span></span>
3. <span data-ttu-id="b62bb-222">컨텍스트 메뉴를 열고 **디버깅 사용**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-222">Open the context menu and select **Enable Debugging**.</span></span> <span data-ttu-id="b62bb-223">가상 컴퓨터 상에 디버깅 사용을 확인하는 메시지가 나오면 **예**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-223">When asked if you're sure if you want to enable debugging on the virtual machine, select **Yes**.</span></span>

    <span data-ttu-id="b62bb-224">디버깅을 사용할 수 있도록 Azure가 원격 디버깅 확장을 가상 컴퓨터에 설치합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-224">Azure installs the remote debugging extension to the virtual machine to enable debugging.</span></span>

    ![가상 컴퓨터 디버깅 사용 명령](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746720.png)

    ![Azure 활동 로그](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746721.png)
4. <span data-ttu-id="b62bb-227">[Visual Studio의 One-Click 게시를 사용하여 웹 프로젝트 배포 방법](https://msdn.microsoft.com/library/dd465337.aspx)을 따라 프로젝트를 게시합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-227">Publish your project as outlined in [How to: Deploy a Web Project Using One-Click Publish in Visual Studio](https://msdn.microsoft.com/library/dd465337.aspx).</span></span> <span data-ttu-id="b62bb-228">가상 컴퓨터에서 디버깅하고자 하므로 **게시 웹** 마법사의 **설정** 페이지에서 구성으로 **디버그**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-228">Because you want to debug on the virtual machine, on the **Settings** page of the **Publish Web** wizard, select **Debug** as the configuration.</span></span> <span data-ttu-id="b62bb-229">이 작업은 디버깅하는 동안 코드 기호를 사용할 수 있게 해줍니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-229">This makes sure that code symbols are available while debugging.</span></span>

    ![게시 설정](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718349.png)
5. <span data-ttu-id="b62bb-231">프로젝트가 이전에 이미 배포된 경우, **파일 게시 옵션**에서 **대상에서 추가 파일 제거**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-231">In the **File Publish Options**, select **Remove additional files at destination** if the project was already deployed at an earlier time.</span></span>
6. <span data-ttu-id="b62bb-232">서버 탐색기의 가상 컴퓨터의 상황에 맞는 메뉴에서 프로젝트를 게시 한 후 **디버거 연결...**</span><span class="sxs-lookup"><span data-stu-id="b62bb-232">After the project publishes, on the virtual machine's context menu in Server Explorer, select **Attach Debugger...**</span></span>

    <span data-ttu-id="b62bb-233">Azure가 가상 컴퓨터에서 프로세스 목록을 가져오고 프로세스에 연결 대화 상자에 이를 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-233">Azure gets a list of the processes on the virtual machine and shows them in the Attach to Process dialog box.</span></span>

    ![디버거 연결 명령](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746722.png)
7. <span data-ttu-id="b62bb-235">**프로세스에 연결** 대화 상자에서 디버그하려는 코드의 유형만 표시하도록 결과 목록 제한 **선택**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-235">In the **Attach to Process** dialog box, select **Select** to limit the results list to show only the types of code you want to debug.</span></span> <span data-ttu-id="b62bb-236">32, 64-비트 관리 코드 및 네이티브 코드 또는 둘 다 디버그할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-236">You can debug 32- or 64-bit managed code, native code, or both.</span></span>

    ![코드 형식 선택 대화 상자](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718346.png)
8. <span data-ttu-id="b62bb-238">가상 컴퓨터에서 디버그하려는 프로세스를 선택하고 **연결**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-238">Select the processes you want to debug on the virtual machine and then select **Attach**.</span></span> <span data-ttu-id="b62bb-239">예를 들어, 가상 컴퓨터에서 웹앱을 디버그하려면 w3wp.exe 프로세스를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-239">For example, you might choose the w3wp.exe process if you wanted to debug a web app on the virtual machine.</span></span> <span data-ttu-id="b62bb-240">자세한 내용은 [Visual Studio의 하나 이상의 프로세스 디버그](https://msdn.microsoft.com/library/jj919165.aspx) 를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="b62bb-240">See [Debug One or More Processes in Visual Studio](https://msdn.microsoft.com/library/jj919165.aspx) for more information.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b62bb-241">다음 단계</span><span class="sxs-lookup"><span data-stu-id="b62bb-241">Next steps</span></span>
* <span data-ttu-id="b62bb-242">**Intellitrace** 를 사용하여 릴리스 서버에서 호출 및 이벤트 로그를 수집합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-242">Use **Intellitrace** to collect a log of calls and events from a release server.</span></span> <span data-ttu-id="b62bb-243">[IntelliTrace 및 Visual Studio를 사용하여 게시된 클라우드 서비스 디버깅](http://go.microsoft.com/fwlink/?LinkID=623016)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="b62bb-243">See [Debugging a Published Cloud Service with IntelliTrace and Visual Studio](http://go.microsoft.com/fwlink/?LinkID=623016).</span></span>
* <span data-ttu-id="b62bb-244">**Azure 진단** 을 이용하여 개발 환경 또는 Azure에서 실행되는 역할 내에서 실행되는 코드의 자세한 내용을 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="b62bb-244">Use **Azure Diagnostics** to log detailed information from code running within roles, whether the roles are running in the development environment or in Azure.</span></span> <span data-ttu-id="b62bb-245">[Azure 진단을 사용하여 로깅 데이터 수집](http://go.microsoft.com/fwlink/p/?LinkId=400450)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="b62bb-245">See [Collecting logging data by using Azure Diagnostics](http://go.microsoft.com/fwlink/p/?LinkId=400450).</span></span>
