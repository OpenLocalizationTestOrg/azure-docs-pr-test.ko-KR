---
title: "Azure Log Analytics 쿼리 언어 참고 자료 | Microsoft Docs"
description: "이 문서는 이미 레거시 언어에 잘 알고 있는 경우에 Log Analytics에 대한 새로운 쿼리 언어로의 전환에 관한 지원을 제공합니다."
services: operations-management-suite
documentationcenter: 
author: bwren
manager: carmonm
editor: tysonn
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 08/23/2017
ms.author: bwren
ms.openlocfilehash: 10b7f3ad23d9c5451bc7ff82b8927c260230f6da
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/29/2017
---
# <a name="transitioning-to-azure-log-analytics-new-query-language"></a><span data-ttu-id="b5a29-103">Azure Log Analytics 새로운 쿼리 언어로 전환</span><span class="sxs-lookup"><span data-stu-id="b5a29-103">Transitioning to Azure Log Analytics new query language</span></span>

> [!NOTE]
> <span data-ttu-id="b5a29-104">[Azure Log Analytics 작업 영역을 새 로그 검색으로](log-analytics-log-search-upgrade.md) 업그레이드에서 새 Log Analytics 쿼리 언어에 대해 자세히 알아보고 작업 영역을 업그레이드하는 절차를 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b5a29-104">You can read more about the new Log Analytics query language and get the procedure to upgrade your workspace at Upgrade your [Azure Log Analytics workspace to new log search](log-analytics-log-search-upgrade.md).</span></span>

<span data-ttu-id="b5a29-105">이 문서는 이미 레거시 언어에 잘 알고 있는 경우에 Log Analytics에 대한 새로운 쿼리 언어로의 전환에 관한 지원을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="b5a29-105">This article provides assistance on transitioning to the new query language for Log Analytics if you're already familiar with the legacy language.</span></span>

## <a name="language-converter"></a><span data-ttu-id="b5a29-106">언어 변환기</span><span class="sxs-lookup"><span data-stu-id="b5a29-106">Language converter</span></span>

<span data-ttu-id="b5a29-107">레거시 Log Analytics 쿼리 언어에 익숙한 경우 새 언어로 동일한 쿼리를 만드는 가장 쉬운 방법은 작업 영역을 변환할 때 로그 검색 포털에 설치된 언어 변환기를 사용하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="b5a29-107">If you're familiar with the legacy Log Analytics query language, the easiest way to create the same query in the new language is to use the Language Converter that's installed in the Log Search portal when your workspace is converted.</span></span>  <span data-ttu-id="b5a29-108">변환기를 사용하는 작업은 상위 텍스트 상자에 레거시 쿼리로 입력한 다음 **변환**을 클릭하기만 하면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b5a29-108">Using the converter is as simple as typing in a legacy query in the top text box and then clicking **Convert**.</span></span>  <span data-ttu-id="b5a29-109">검색 단추를 클릭하여 쿼리를 실행하거나, 다른 위치에서 사용하도록 복사하여 붙여넣을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b5a29-109">You can either click the search button to run the query or copy and paste it to use it somewhere else.</span></span>

![언어 변환기](media/log-analytics-log-search-upgrade/language-converter.png)


## <a name="cheat-sheet"></a><span data-ttu-id="b5a29-111">참고 자료</span><span class="sxs-lookup"><span data-stu-id="b5a29-111">Cheat sheet</span></span>

<span data-ttu-id="b5a29-112">다음 테이블에서는 Azure Log Analytics의 신규 및 레거시 쿼리 언어 간 동등한 명령에 관해 다양한 일반 쿼리 간 비교를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="b5a29-112">The following table provides a comparison between a variety of common queries to equivalent commands between the new and legacy query language in Azure Log Analytics.</span></span>

| <span data-ttu-id="b5a29-113">설명</span><span class="sxs-lookup"><span data-stu-id="b5a29-113">Description</span></span> | <span data-ttu-id="b5a29-114">레거시</span><span class="sxs-lookup"><span data-stu-id="b5a29-114">Legacy</span></span> | <span data-ttu-id="b5a29-115">신규</span><span class="sxs-lookup"><span data-stu-id="b5a29-115">new</span></span> |
|:--|:--|:--|
| <span data-ttu-id="b5a29-116">모든 테이블 검색</span><span class="sxs-lookup"><span data-stu-id="b5a29-116">Search all tables</span></span>      | <span data-ttu-id="b5a29-117">error</span><span class="sxs-lookup"><span data-stu-id="b5a29-117">error</span></span> | <span data-ttu-id="b5a29-118">“오류” 검색(대소문자 구분 안 함)</span><span class="sxs-lookup"><span data-stu-id="b5a29-118">search "error"  (not case sensitive)</span></span> |
| <span data-ttu-id="b5a29-119">테이블에서 데이터 선택</span><span class="sxs-lookup"><span data-stu-id="b5a29-119">Select data from table</span></span> | <span data-ttu-id="b5a29-120">Type=Event</span><span class="sxs-lookup"><span data-stu-id="b5a29-120">Type=Event</span></span> |  <span data-ttu-id="b5a29-121">이벤트</span><span class="sxs-lookup"><span data-stu-id="b5a29-121">Event</span></span> |
|                        | <span data-ttu-id="b5a29-122">Type=Event &#124; select Source, EventLog, EventID</span><span class="sxs-lookup"><span data-stu-id="b5a29-122">Type=Event &#124; select Source, EventLog, EventID</span></span> | <span data-ttu-id="b5a29-123">Event &#124; project Source, EventLog, EventID</span><span class="sxs-lookup"><span data-stu-id="b5a29-123">Event &#124; project Source, EventLog, EventID</span></span> |
|                        | <span data-ttu-id="b5a29-124">Type=Event &#124; top 100</span><span class="sxs-lookup"><span data-stu-id="b5a29-124">Type=Event &#124; top 100</span></span> | <span data-ttu-id="b5a29-125">Event &#124; take 100</span><span class="sxs-lookup"><span data-stu-id="b5a29-125">Event &#124; take 100</span></span> |
| <span data-ttu-id="b5a29-126">문자열 비교</span><span class="sxs-lookup"><span data-stu-id="b5a29-126">String comparison</span></span>      | <span data-ttu-id="b5a29-127">Type=Event Computer=srv01.contoso.com</span><span class="sxs-lookup"><span data-stu-id="b5a29-127">Type=Event Computer=srv01.contoso.com</span></span>   | <span data-ttu-id="b5a29-128">Event &#124; where Computer == "srv01.contoso.com"</span><span class="sxs-lookup"><span data-stu-id="b5a29-128">Event &#124; where Computer == "srv01.contoso.com"</span></span> |
|                        | <span data-ttu-id="b5a29-129">Type=Event Computer=contains("contoso")</span><span class="sxs-lookup"><span data-stu-id="b5a29-129">Type=Event Computer=contains("contoso")</span></span> | <span data-ttu-id="b5a29-130">Event &#124; where Computer contains "contoso" (not case sensitive)</span><span class="sxs-lookup"><span data-stu-id="b5a29-130">Event &#124; where Computer contains "contoso" (not case sensitive)</span></span><br><span data-ttu-id="b5a29-131">Event &#124; where Computer contains_cs "Contoso" (case sensitive)</span><span class="sxs-lookup"><span data-stu-id="b5a29-131">Event &#124; where Computer contains_cs "Contoso" (case sensitive)</span></span> |
|                        | <span data-ttu-id="b5a29-132">Type=Event Computer=RegEx("@contoso@")</span><span class="sxs-lookup"><span data-stu-id="b5a29-132">Type=Event Computer=RegEx("@contoso@")</span></span>  | <span data-ttu-id="b5a29-133">Event &#124; where Computer matches regex ".*contoso*"</span><span class="sxs-lookup"><span data-stu-id="b5a29-133">Event &#124; where Computer matches regex ".*contoso*"</span></span> |
| <span data-ttu-id="b5a29-134">날짜 비교</span><span class="sxs-lookup"><span data-stu-id="b5a29-134">Date comparison</span></span>        | <span data-ttu-id="b5a29-135">Type=Event TimeGenerated > NOW-1DAYS</span><span class="sxs-lookup"><span data-stu-id="b5a29-135">Type=Event TimeGenerated > NOW-1DAYS</span></span> | <span data-ttu-id="b5a29-136">Event &#124; where TimeGenerated > ago(1d)</span><span class="sxs-lookup"><span data-stu-id="b5a29-136">Event &#124; where TimeGenerated > ago(1d)</span></span> |
|                        | <span data-ttu-id="b5a29-137">Type=Event TimeGenerated>2017-05-01 TimeGenerated<2017-05-31</span><span class="sxs-lookup"><span data-stu-id="b5a29-137">Type=Event TimeGenerated>2017-05-01 TimeGenerated<2017-05-31</span></span> | <span data-ttu-id="b5a29-138">Event &#124; where TimeGenerated between (datetime(2017-05-01) ..</span><span class="sxs-lookup"><span data-stu-id="b5a29-138">Event &#124; where TimeGenerated between (datetime(2017-05-01) ..</span></span> <span data-ttu-id="b5a29-139">datetime(2017-05-31))</span><span class="sxs-lookup"><span data-stu-id="b5a29-139">datetime(2017-05-31))</span></span> |
| <span data-ttu-id="b5a29-140">부울 비교</span><span class="sxs-lookup"><span data-stu-id="b5a29-140">Boolean comparison</span></span>     | <span data-ttu-id="b5a29-141">Type=Heartbeat IsGatewayInstalled=false</span><span class="sxs-lookup"><span data-stu-id="b5a29-141">Type=Heartbeat IsGatewayInstalled=false</span></span>  | <span data-ttu-id="b5a29-142">Heartbeat</span><span class="sxs-lookup"><span data-stu-id="b5a29-142">Heartbeat</span></span> | <span data-ttu-id="b5a29-143">where IsGatewayInstalled == false</span><span class="sxs-lookup"><span data-stu-id="b5a29-143">where IsGatewayInstalled == false</span></span> |
| <span data-ttu-id="b5a29-144">정렬</span><span class="sxs-lookup"><span data-stu-id="b5a29-144">Sort</span></span>                   | <span data-ttu-id="b5a29-145">Type=Event &#124; sort Computer asc, EventLog desc, EventLevelName asc</span><span class="sxs-lookup"><span data-stu-id="b5a29-145">Type=Event &#124; sort Computer asc, EventLog desc, EventLevelName asc</span></span> | <span data-ttu-id="b5a29-146">Event \\</span><span class="sxs-lookup"><span data-stu-id="b5a29-146">Event \\</span></span>| <span data-ttu-id="b5a29-147">sort by Computer asc, EventLog desc, EventLevelName asc</span><span class="sxs-lookup"><span data-stu-id="b5a29-147">sort by Computer asc, EventLog desc, EventLevelName asc</span></span> |
| <span data-ttu-id="b5a29-148">Distinct</span><span class="sxs-lookup"><span data-stu-id="b5a29-148">Distinct</span></span>               | <span data-ttu-id="b5a29-149">Type=Event &#124; dedup Computer \\</span><span class="sxs-lookup"><span data-stu-id="b5a29-149">Type=Event &#124; dedup Computer \\</span></span>| <span data-ttu-id="b5a29-150">select Computer</span><span class="sxs-lookup"><span data-stu-id="b5a29-150">select Computer</span></span> | <span data-ttu-id="b5a29-151">Event &#124; summarize by Computer, EventLog</span><span class="sxs-lookup"><span data-stu-id="b5a29-151">Event &#124; summarize by Computer, EventLog</span></span> |
| <span data-ttu-id="b5a29-152">열 확장</span><span class="sxs-lookup"><span data-stu-id="b5a29-152">Extend columns</span></span>         | <span data-ttu-id="b5a29-153">Type=Perf CounterName="% Processor Time" &#124; EXTEND if(map(CounterValue,0,50,0,1),"HIGH","LOW") as UTILIZATION</span><span class="sxs-lookup"><span data-stu-id="b5a29-153">Type=Perf CounterName="% Processor Time" &#124; EXTEND if(map(CounterValue,0,50,0,1),"HIGH","LOW") as UTILIZATION</span></span> | <span data-ttu-id="b5a29-154">Perf &#124; where CounterName == "% Processor Time" \\</span><span class="sxs-lookup"><span data-stu-id="b5a29-154">Perf &#124; where CounterName == "% Processor Time" \\</span></span>| <span data-ttu-id="b5a29-155">extend Utilization = iff(CounterValue > 50, "HIGH", "LOW")</span><span class="sxs-lookup"><span data-stu-id="b5a29-155">extend Utilization = iff(CounterValue > 50, "HIGH", "LOW")</span></span> |
| <span data-ttu-id="b5a29-156">집계</span><span class="sxs-lookup"><span data-stu-id="b5a29-156">Aggregation</span></span>            | <span data-ttu-id="b5a29-157">Type=Event &#124; measure count() as Count by Computer</span><span class="sxs-lookup"><span data-stu-id="b5a29-157">Type=Event &#124; measure count() as Count by Computer</span></span> | <span data-ttu-id="b5a29-158">Event &#124; summarize Count = count() by Computer</span><span class="sxs-lookup"><span data-stu-id="b5a29-158">Event &#124; summarize Count = count() by Computer</span></span> |
|                                | <span data-ttu-id="b5a29-159">Type=Perf ObjectName=Processor CounterName="% Processor Time" &#124; measure avg(CounterValue) by Computer interval 5minute</span><span class="sxs-lookup"><span data-stu-id="b5a29-159">Type=Perf ObjectName=Processor CounterName="% Processor Time" &#124; measure avg(CounterValue) by Computer interval 5minute</span></span> | <span data-ttu-id="b5a29-160">Perf &#124; where ObjectName=="Processor" and CounterName=="% Processor Time" &#124; summarize avg(CounterValue) by Computer, bin(TimeGenerated, 5min)</span><span class="sxs-lookup"><span data-stu-id="b5a29-160">Perf &#124; where ObjectName=="Processor" and CounterName=="% Processor Time" &#124; summarize avg(CounterValue) by Computer, bin(TimeGenerated, 5min)</span></span> |
| <span data-ttu-id="b5a29-161">제한있는 집계</span><span class="sxs-lookup"><span data-stu-id="b5a29-161">Aggregation with limit</span></span> | <span data-ttu-id="b5a29-162">Type=Event &#124; measure count() by Computer &#124; top 10</span><span class="sxs-lookup"><span data-stu-id="b5a29-162">Type=Event &#124; measure count() by Computer &#124; top 10</span></span> | <span data-ttu-id="b5a29-163">Event &#124; summarize AggregatedValue = count() by Computer &#124; limit 10</span><span class="sxs-lookup"><span data-stu-id="b5a29-163">Event &#124; summarize AggregatedValue = count() by Computer &#124; limit 10</span></span> |
| <span data-ttu-id="b5a29-164">통합</span><span class="sxs-lookup"><span data-stu-id="b5a29-164">Union</span></span>                  | <span data-ttu-id="b5a29-165">Type=Event or Type=Syslog</span><span class="sxs-lookup"><span data-stu-id="b5a29-165">Type=Event or Type=Syslog</span></span> | <span data-ttu-id="b5a29-166">union Event, Syslog</span><span class="sxs-lookup"><span data-stu-id="b5a29-166">union Event, Syslog</span></span> |
| <span data-ttu-id="b5a29-167">Join</span><span class="sxs-lookup"><span data-stu-id="b5a29-167">Join</span></span>                   | <span data-ttu-id="b5a29-168">Type=NetworkMonitoring &#124; join inner AgentIP (Type=Heartbeat) ComputerIP</span><span class="sxs-lookup"><span data-stu-id="b5a29-168">Type=NetworkMonitoring &#124; join inner AgentIP (Type=Heartbeat) ComputerIP</span></span> | <span data-ttu-id="b5a29-169">NetworkMonitoring &#124; join kind=inner (search Type == "Heartbeat") on $left.AgentIP == $right.ComputerIP</span><span class="sxs-lookup"><span data-stu-id="b5a29-169">NetworkMonitoring &#124; join kind=inner (search Type == "Heartbeat") on $left.AgentIP == $right.ComputerIP</span></span> |



## <a name="next-steps"></a><span data-ttu-id="b5a29-170">다음 단계</span><span class="sxs-lookup"><span data-stu-id="b5a29-170">Next steps</span></span>
- <span data-ttu-id="b5a29-171">새로운 쿼리 언어를 사용한 [쿼리 작성 자습서](https://go.microsoft.com/fwlink/?linkid=856078)를 확인해 보세요.</span><span class="sxs-lookup"><span data-stu-id="b5a29-171">Check out a [tutorial on writing queries](https://go.microsoft.com/fwlink/?linkid=856078) using the new query language.</span></span>
- <span data-ttu-id="b5a29-172">[쿼리 언어 참조](https://go.microsoft.com/fwlink/?linkid=856079)에서 새 쿼리 언어에 대한 모든 명령, 연산자 및 함수를 자세히 알아보세요.</span><span class="sxs-lookup"><span data-stu-id="b5a29-172">Refer to the [Query Language Reference](https://go.microsoft.com/fwlink/?linkid=856079) for details on all command, operators, and functions for the new query language.</span></span>  
