---
title: "Azure Cloud Services용 Application Insights | Microsoft Docs"
description: "Application Insights를 사용하여 웹 및 작업자 역할을 효과적으로 모니터링"
services: application-insights
documentationcenter: 
keywords: "WAD2AI, Azure 진단"
author: CFreemanwa
manager: carmonm
editor: alancameronwills
ms.assetid: 5c7a5b34-329e-42b7-9330-9dcbb9ff1f88
ms.service: application-insights
ms.devlang: na
ms.tgt_pltfrm: ibiza
ms.topic: get-started-article
ms.workload: tbd
ms.date: 05/05/2017
ms.author: bwren
ms.openlocfilehash: c12b225aa351d0c272243469550791a6840091e0
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/18/2017
---
# <a name="application-insights-for-azure-cloud-services"></a><span data-ttu-id="35747-104">Azure 클라우드 서비스용 Application Insights</span><span class="sxs-lookup"><span data-stu-id="35747-104">Application Insights for Azure Cloud Services</span></span>
<span data-ttu-id="35747-105">[Microsoft Azure Cloud Service 앱](https://azure.microsoft.com/services/cloud-services/)은 Application Insights SDK의 데이터를 Cloud Services의 [Azure 진단](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) 데이터와 조합하여 [Application Insights][start]로 가용성, 성능, 오류 및 사용 현황을 모니터링할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-105">[Microsoft Azure Cloud service apps](https://azure.microsoft.com/services/cloud-services/) can be monitored by [Application Insights][start] for availability, performance, failures, and usage by combining data from Application Insights' SDKs with [Azure Diagnotics](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) data from your Cloud Services.</span></span> <span data-ttu-id="35747-106">앱의 성능 및 효과에 대한 생생한 피드백을 통해 충분한 정보를 바탕으로 각 개발 수명 주기의 디자인 방향을 결정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-106">With the feedback you get about the performance and effectiveness of your app in the wild, you can make informed choices about the direction of the design in each development lifecycle.</span></span>

![예제](./media/app-insights-cloudservices/sample.png)

## <a name="before-you-start"></a><span data-ttu-id="35747-108">시작하기 전에</span><span class="sxs-lookup"><span data-stu-id="35747-108">Before you start</span></span>
<span data-ttu-id="35747-109">필요한 사항:</span><span class="sxs-lookup"><span data-stu-id="35747-109">You'll need:</span></span>

* <span data-ttu-id="35747-110">[Microsoft Azure](http://azure.com)를 구독해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-110">A subscription with [Microsoft Azure](http://azure.com).</span></span> <span data-ttu-id="35747-111">Microsoft 계정으로 로그인합니다. Windows, XBox Live 또는 기타 Microsoft 클라우드 서비스의 계정을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-111">Sign in with a Microsoft account, which you might have for Windows, XBox Live, or other Microsoft cloud services.</span></span> 
* <span data-ttu-id="35747-112">Microsoft Azure 도구 2.9 이상</span><span class="sxs-lookup"><span data-stu-id="35747-112">Microsoft Azure tools 2.9 or later</span></span>
* <span data-ttu-id="35747-113">개발자 분석 도구 7.10 이상</span><span class="sxs-lookup"><span data-stu-id="35747-113">Developer Analytics Tools 7.10 or later</span></span>

## <a name="quick-start"></a><span data-ttu-id="35747-114">빠른 시작</span><span class="sxs-lookup"><span data-stu-id="35747-114">Quick start</span></span>
<span data-ttu-id="35747-115">Application Insights를 사용하여 클라우드 서비스를 모니터링하는 가장 쉽고 빠른 방법은 Azure에 서비스를 게시할 때 이 옵션을 선택하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="35747-115">The quickest and easiest way to monitor your cloud service with Application Insights is to choose that option when you publish your service to Azure.</span></span>

![예](./media/app-insights-cloudservices/azure-cloud-application-insights.png)

<span data-ttu-id="35747-117">이 옵션은 런타임에 앱을 계측하여 웹 역할에서 요청, 예외 및 종속성을 모니터링하는 데 필요한 모든 원격 분석뿐 아니라 작업자 역할의 성능 카운터를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-117">This option instruments your app at run time, giving you all the telemetry you need to monitor requests, exceptions, and dependencies in your web role, as well as performance counters from your worker roles.</span></span> <span data-ttu-id="35747-118">앱에서 생성된 모든 진단 추적도 Application Insights로 전송됩니다.</span><span class="sxs-lookup"><span data-stu-id="35747-118">Any diagnostic traces generated by your app are also sent to Application Insights.</span></span>

<span data-ttu-id="35747-119">필요한 항목을 모두 얻었으면 작업이 완료된 것입니다.</span><span class="sxs-lookup"><span data-stu-id="35747-119">If that's all you need, you're done!</span></span> <span data-ttu-id="35747-120">다음 단계에서는 [앱에서 메트릭을 보고](app-insights-metrics-explorer.md), [분석을 사용하여 데이터를 쿼리하고](app-insights-analytics.md), [대시보드](app-insights-dashboards.md)를 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-120">Next steps are [viewing metrics from your app](app-insights-metrics-explorer.md), [querying your data with Analytics](app-insights-analytics.md), and maybe setting up a [dashboard](app-insights-dashboards.md).</span></span> <span data-ttu-id="35747-121">[가용성 테스트](app-insights-monitor-web-app-availability.md)를 설정하고 [웹 페이지에 코드를 추가](app-insights-javascript.md)하여 브라우저에서 성능을 모니터링할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-121">You might want to set up [availability tests](app-insights-monitor-web-app-availability.md) and [add code to your web pages](app-insights-javascript.md) to monitor performance in the browser.</span></span>

<span data-ttu-id="35747-122">하지만 더 많은 옵션을 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-122">But you can also get more options:</span></span>

* <span data-ttu-id="35747-123">여러 구성 요소에서 데이터를 보내고 개별 리소스에 대한 구성을 빌드합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-123">Send data from different components and build configurations to separate resources.</span></span>
* <span data-ttu-id="35747-124">앱에서 사용자 지정 원격 분석을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-124">Add custom telemetry from your app.</span></span>

<span data-ttu-id="35747-125">이러한 옵션에 관심이 있다면 계속 읽어보세요.</span><span class="sxs-lookup"><span data-stu-id="35747-125">If those options are of interest to you, read on.</span></span>

## <a name="sample-application-instrumented-with-application-insights"></a><span data-ttu-id="35747-126">Application Insights를 사용하여 계측하는 샘플 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="35747-126">Sample Application instrumented with Application Insights</span></span>
<span data-ttu-id="35747-127">Application Insights가 Azure에서 두 작업자 역할이 호스팅되는 클라우드 서비스에 추가되는 이 [샘플 응용 프로그램](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService)을 살펴봅니다.</span><span class="sxs-lookup"><span data-stu-id="35747-127">Take a look at this [sample application](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) in which Application Insights is added to a cloud service with two worker roles hosted in Azure.</span></span> 

<span data-ttu-id="35747-128">동일한 방식으로 사용자 자신의 클라우드 서비스 프로젝트를 조정하는 방법을 알려줍니다.</span><span class="sxs-lookup"><span data-stu-id="35747-128">What follows tells you how to adapt your own cloud service project in the same way.</span></span>

## <a name="plan-resources-and-resource-groups"></a><span data-ttu-id="35747-129">리소스 및 리소스 그룹 계획</span><span class="sxs-lookup"><span data-stu-id="35747-129">Plan resources and resource groups</span></span>
<span data-ttu-id="35747-130">앱의 원격 분석은 Application Insights 형식의 Azure 리소스에 저장, 분석 및 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="35747-130">The telemetry from your app is stored, analyzed and displayed in an Azure resource of type Application Insights.</span></span> 

<span data-ttu-id="35747-131">각 리소스는 리소스 그룹에 속합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-131">Each resource belongs to a resource group.</span></span> <span data-ttu-id="35747-132">리소스 그룹은 비용을 관리하고, 팀 구성원에게 액세스 권한을 부여하고, 조정된 단일 트랜잭션에서 업데이트를 배포하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="35747-132">Resource groups are used for managing costs, for granting access to team members, and to deploy updates in a single coordinated transaction.</span></span> <span data-ttu-id="35747-133">예를 들어 한 번의 작업으로 Azure 클라우드 서비스와 해당 Application Insights 모니터링 리소스에 [배포할 스크립트를 작성](../azure-resource-manager/resource-group-template-deploy.md)할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-133">For example, you could [write a script to deploy](../azure-resource-manager/resource-group-template-deploy.md) an Azure Cloud Service and its Application Insights monitoring resources all in one operation.</span></span>

### <a name="resources-for-components"></a><span data-ttu-id="35747-134">구성 요소에 대한 리소스</span><span class="sxs-lookup"><span data-stu-id="35747-134">Resources for components</span></span>
<span data-ttu-id="35747-135">응용 프로그램의 각 구성 요소, 즉 각 웹 역할 및 작업자 역할에 대한 별도의 리소스를 만드는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-135">The recommended scheme is to create a separate resource for each component of your application - that is, each web role and worker role.</span></span> <span data-ttu-id="35747-136">각 구성 요소를 개별적으로 분석할 수 있지만 모든 구성 요소의 주요 차트를 함께 표시하는 [대시보드](app-insights-dashboards.md)를 만들어 이러한 차트를 비교하고 함께 모니터링할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-136">You can analyze each component separately, but can create a [dashboard](app-insights-dashboards.md) that brings together the key charts from all the components, so that you can compare and monitor them together.</span></span> 

<span data-ttu-id="35747-137">또 다른 방법은 둘 이상의 역할에서 동일한 리소스로 원격 분석을 전송하되, [각 원격 분석 항목에 해당 소스 역할을 식별하는 차원 속성을 추가](app-insights-api-filtering-sampling.md#add-properties-itelemetryinitializer)하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="35747-137">An alternative scheme is to send the telemetry from more than one role to the same resource, but [add a dimension property to each telemetry item](app-insights-api-filtering-sampling.md#add-properties-itelemetryinitializer) that identifies its source role.</span></span> <span data-ttu-id="35747-138">이 방법에서는 예외와 같은 메트릭 차트에 일반적으로 여러 역할의 카운트 집계가 표시되지만 필요한 경우 역할 식별자별로 차트를 분할할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-138">In this scheme, metric charts such as exceptions normally show an aggregation of the counts from the different roles, but you can segment the chart by the role identifier when required.</span></span> <span data-ttu-id="35747-139">동일한 차원으로 검색을 필터링할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-139">Searches can also be filtered by the same dimension.</span></span> <span data-ttu-id="35747-140">이 방법을 사용하면 모든 항목을 보다 쉽게 동시에 볼 수 있지만 역할 간에 약간의 혼동이 발생할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-140">This alternative makes it a bit easier to view everything at the same time, but could also lead to some confusion between the roles.</span></span>

<span data-ttu-id="35747-141">브라우저 원격 분석은 일반적으로 해당 서버 쪽 웹 역할과 동일한 리소스에 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="35747-141">Browser telemetry is usually included in the same resource as its server-side web role.</span></span>

<span data-ttu-id="35747-142">서로 다른 구성 요소에 대한 Application Insights 리소스를 하나의 리소스 그룹에 두세요.</span><span class="sxs-lookup"><span data-stu-id="35747-142">Put the Application Insights resources for the different components in one resource group.</span></span> <span data-ttu-id="35747-143">이렇게 하면 함께 관리하기가 쉬워집니다.</span><span class="sxs-lookup"><span data-stu-id="35747-143">This makes it easy to manage them together.</span></span> 

### <a name="separating-development-test-and-production"></a><span data-ttu-id="35747-144">개발, 테스트 및 프로덕션 구분</span><span class="sxs-lookup"><span data-stu-id="35747-144">Separating development, test, and production</span></span>
<span data-ttu-id="35747-145">이전 버전을 사용하는 동안 다음 기능에 대한 사용자 지정 이벤트를 개발하는 경우 개발 원격 분석을 별도의 Application Insights 리소스에 전송할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-145">If you are developing custom events for your next feature while the previous version is live, you want to send the development telemetry to a separate Application Insights resource.</span></span> <span data-ttu-id="35747-146">그렇지 않으면 라이브 사이트의 모든 트래픽에서 테스트 원격 분석을 찾기가 어려워집니다.</span><span class="sxs-lookup"><span data-stu-id="35747-146">Otherwise it will be hard to find your test telemetry among all the traffic from the live site.</span></span>

<span data-ttu-id="35747-147">이 상황을 방지하려면 각 빌드 구성 또는 시스템의 '스탬프'(개발, 테스트, 프로덕션 등)에 대한 별도 리소스를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="35747-147">To avoid this situation, create separate resources for each build configuration or 'stamp' (development, test, production, ...) of your system.</span></span> <span data-ttu-id="35747-148">각 빌드 구성에 대한 리소스를 별도 리소스 그룹에 둡니다.</span><span class="sxs-lookup"><span data-stu-id="35747-148">Put the resources for each build configuration in a separate resource group.</span></span> 

<span data-ttu-id="35747-149">원격 분석을 적절한 리소스에 전송하려면 빌드 구성에 따라 서로 다른 계측 키를 선택할 수 있도록 Application Insights SDK를 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-149">To send the telemetry to the appropriate resources, you can set up the Application Insights SDK so that it picks up a different instrumentation key depending on the build configuration.</span></span> 

## <a name="create-an-application-insights-resource-for-each-role"></a><span data-ttu-id="35747-150">각 역할에 대한 Application Insights 리소스 만들기</span><span class="sxs-lookup"><span data-stu-id="35747-150">Create an Application Insights resource for each role</span></span>
<span data-ttu-id="35747-151">각 역할에 대한 별도의 리소스(각 빌드 구성에 대한 별도의 집합)를 만들기로 결정한 경우 Application Insights 포털에서 모든 리소스를 만드는 것이 가장 간편합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-151">If you've decided to create a separate resource for each role - and perhaps a separate set for each build configuration - then it's easiest to create them all in the Application Insights portal.</span></span> <span data-ttu-id="35747-152">많은 리소스를 만드는 경우 [프로세스를 자동화](app-insights-powershell.md)할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-152">(If you create resources a lot, you can [automate the process](app-insights-powershell.md).</span></span>

1. <span data-ttu-id="35747-153">[Azure Portal][portal]에서 새 Application Insights 리소스를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="35747-153">In the [Azure portal][portal], create a new Application Insights resource.</span></span> <span data-ttu-id="35747-154">응용 프로그램 유형으로 ASP.NET 앱을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-154">For application type, choose ASP.NET app.</span></span> 

    ![새로 만들기, Application Insights 클릭](./media/app-insights-cloudservices/01-new.png)
2. <span data-ttu-id="35747-156">각 리소스는 계측 키로 식별됩니다.</span><span class="sxs-lookup"><span data-stu-id="35747-156">Note that each resource is identified by an Instrumentation Key.</span></span> <span data-ttu-id="35747-157">이는 나중에 SDK의 구성을 수동으로 구성하거나 확인하려는 경우에 필요할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-157">You might need this later if you want to manually configure or verify the configuration of the SDK.</span></span>

    ![속성 클릭, 키 선택 및 ctrl+C 누르기](./media/app-insights-cloudservices/02-props.png) 

## <a name="set-up-azure-diagnostics-for-each-role"></a><span data-ttu-id="35747-159">각 역할에 대한 Azure 진단 설정</span><span class="sxs-lookup"><span data-stu-id="35747-159">Set up Azure Diagnostics for each role</span></span>
<span data-ttu-id="35747-160">Application Insights를 사용하여 앱을 모니터링하려면 이 옵션을 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-160">Set this option to monitor your app with Application Insights.</span></span> <span data-ttu-id="35747-161">웹 역할의 경우 성능 모니터링, 경고 및 진단과 함께 사용 현황 분석이 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="35747-161">For web roles, this provides performance monitoring, alerts, and diagnostics, as well as usage analysis.</span></span> <span data-ttu-id="35747-162">다른 역할의 경우 다시 시작, 성능 카운터 및 System.Diagnostics.Trace 호출과 같은 Azure 진단을 검색하고 모니터링할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-162">For other roles, you can search and monitor Azure diagnostics such as restart, performance counters, and calls to System.Diagnostics.Trace.</span></span> 

1. <span data-ttu-id="35747-163">Visual Studio 솔루션 탐색기의 &lt;YourCloudService&gt; 역할에서 각 역할의 속성을 엽니다.</span><span class="sxs-lookup"><span data-stu-id="35747-163">In Visual Studio Solution Explorer, under &lt;YourCloudService&gt;, Roles, open the properties of each role.</span></span>
2. <span data-ttu-id="35747-164">**구성**에서 **진단 데이터를 Application Insights로 보내기**를 설정하고 이전에 만든 적절한 Application Insights 리소스를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-164">In **Configuration**, set **Send diagnostics data to Application Insights** and select the appropriate Application Insights resource that you created earlier.</span></span>

<span data-ttu-id="35747-165">각 빌드 구성에 대한 별도의 Application Insights 리소스를 사용하려면 먼저 구성을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-165">If you have decided to use a separate Application Insights resource for each build configuration, select the configuration first.</span></span>

![각 Azure 역할의 속성에서 Application Insights를 구성합니다.](./media/app-insights-cloudservices/configure-azure-diagnostics.png)

<span data-ttu-id="35747-167">그러면 Application Insights 계측 키가 `ServiceConfiguration.*.cscfg` 파일에 삽입됩니다.</span><span class="sxs-lookup"><span data-stu-id="35747-167">This has the effect of inserting your Application Insights instrumentation keys into the files named `ServiceConfiguration.*.cscfg`.</span></span> <span data-ttu-id="35747-168">([샘플 코드](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/AzureEmailService/ServiceConfiguration.Cloud.cscfg)).</span><span class="sxs-lookup"><span data-stu-id="35747-168">([Sample code](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/AzureEmailService/ServiceConfiguration.Cloud.cscfg)).</span></span>

<span data-ttu-id="35747-169">Application Insights로 전송되는 진단 정보의 수준을 변경하려는 경우 [`.cscfg` 파일을 직접 편집](app-insights-azure-diagnostics.md)할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-169">If you want to vary the level of diagnostic information sent to Application Insights, you can do so [by editing the `.cscfg` files directly](app-insights-azure-diagnostics.md).</span></span>

## <span data-ttu-id="35747-170"><a name="sdk"></a>각 프로젝트에 SDK 설치</span><span class="sxs-lookup"><span data-stu-id="35747-170"><a name="sdk"></a>Install the SDK in each project</span></span>
<span data-ttu-id="35747-171">이 옵션은 응용 프로그램의 사용 방식 및 성능에 대한 보다 세밀한 분석을 위해 사용자 지정 비즈니스 원격 분석을 역할에 추가하는 기능을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-171">This option adds the ability to add custom business telemetry to any role, for a closer analysis of how your application is used and performs.</span></span>

<span data-ttu-id="35747-172">Visual Studio에서 각 클라우드 앱 프로젝트에 Application Insights SDK를 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-172">In Visual Studio, configure the Application Insights SDK for each cloud app project.</span></span>

1. <span data-ttu-id="35747-173">**웹 역할**: 프로젝트를 마우스 오른쪽 단추로 클릭하고 **Application Insights 구성** 또는 **추가 > Application Insights 원격 분석**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-173">**Web roles**: Right-click the project and choose **Configure Application Insights** or **Add > Application Insights telemetry**.</span></span>

2. <span data-ttu-id="35747-174">**작업자 역할**:</span><span class="sxs-lookup"><span data-stu-id="35747-174">**Worker roles**:</span></span> 
 * <span data-ttu-id="35747-175">프로젝트를 마우스 오른쪽 단추로 클릭하고 **Nuget 패키지 관리**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-175">Right-click the project and select **Manage Nuget Packages**.</span></span>
 * <span data-ttu-id="35747-176">[Windows 서버용 Application Insights](https://www.nuget.org/packages/Microsoft.ApplicationInsights.WindowsServer/)를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-176">Add [Application Insights for Windows Servers](https://www.nuget.org/packages/Microsoft.ApplicationInsights.WindowsServer/).</span></span>

    !["Application Insights" 검색](./media/app-insights-cloudservices/04-ai-nuget.png)

3. <span data-ttu-id="35747-178">Application Insights 리소스에 데이터를 보내도록 SDK를 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-178">Configure the SDK to send data to the Application Insights resource.</span></span>

    <span data-ttu-id="35747-179">적합한 시작 함수에서 .cscfg 파일의 구성 설정에서 계측 키를 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-179">In a suitable startup function, set the instrumentation key from the configuration setting in the .cscfg file:</span></span>
 
    ```C#
   
     TelemetryConfiguration.Active.InstrumentationKey = RoleEnvironment.GetConfigurationSettingValue("APPINSIGHTS_INSTRUMENTATIONKEY");
    ```
   
    <span data-ttu-id="35747-180">응용 프로그램에서 각 역할에 대해 이 작업을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-180">Do this for each role in your application.</span></span> <span data-ttu-id="35747-181">예제 참조:</span><span class="sxs-lookup"><span data-stu-id="35747-181">See the examples:</span></span>
   
   * [<span data-ttu-id="35747-182">웹 역할</span><span class="sxs-lookup"><span data-stu-id="35747-182">Web role</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Global.asax.cs#L27)
   * [<span data-ttu-id="35747-183">작업자 역할</span><span class="sxs-lookup"><span data-stu-id="35747-183">Worker role</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L232)
   * [<span data-ttu-id="35747-184">웹 페이지</span><span class="sxs-lookup"><span data-stu-id="35747-184">For web pages</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Views/Shared/_Layout.cshtml#L13) 
4. <span data-ttu-id="35747-185">항상 출력 디렉터리에 복사되도록 ApplicationInsights.config 파일을 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-185">Set the ApplicationInsights.config file to be copied always to the output directory.</span></span> 
   
    <span data-ttu-id="35747-186">.config 파일에서 해당 위치에 계측 키를 배치할지 묻는 메시지가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="35747-186">(In the .config file, you'll see messages asking you to place the instrumentation key there.</span></span> <span data-ttu-id="35747-187">그러나 클라우드 응용 프로그램의 경우에는 .cscfg 파일에서 설정하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-187">However, for cloud applications it's better to set it from the .cscfg file.</span></span> <span data-ttu-id="35747-188">그래야 포털에서 역할이 정확하게 식별됩니다.</span><span class="sxs-lookup"><span data-stu-id="35747-188">This ensures that the role is correctly identified in the portal.)</span></span>

#### <a name="run-and-publish-the-app"></a><span data-ttu-id="35747-189">앱 실행 및 게시</span><span class="sxs-lookup"><span data-stu-id="35747-189">Run and publish the app</span></span>
<span data-ttu-id="35747-190">앱을 실행하고 Azure에 로그인합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-190">Run your app, and sign into Azure.</span></span> <span data-ttu-id="35747-191">직접 만든 Application Insights 리소스를 열면 개별 데이터 요소가 [검색](app-insights-diagnostic-search.md)에 표시되고 집계 데이터가 [메트릭 탐색기](app-insights-metrics-explorer.md)에 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="35747-191">Open the Application Insights resources you created, and you'll see individual data points appearing in [Search](app-insights-diagnostic-search.md), and aggregated data in [Metric Explorer](app-insights-metrics-explorer.md).</span></span> 

<span data-ttu-id="35747-192">원격 분석을 더 추가한 다음(아래 섹션 참조) 앱을 게시하여 라이브 진단 및 사용 피드백을 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="35747-192">Add more telemetry - see the sections below - and then publish your app to get live diagnostic and usage feedback.</span></span> 

#### <a name="no-data"></a><span data-ttu-id="35747-193">데이터가 없나요?</span><span class="sxs-lookup"><span data-stu-id="35747-193">No data?</span></span>
* <span data-ttu-id="35747-194">[검색][diagnostic] 타일을 열고 개별 이벤트를 봅니다.</span><span class="sxs-lookup"><span data-stu-id="35747-194">Open the [Search][diagnostic] tile, to see individual events.</span></span>
* <span data-ttu-id="35747-195">응용 프로그램을 사용하여 여러 페이지를 열어 원격 분석을 생성해 봅니다.</span><span class="sxs-lookup"><span data-stu-id="35747-195">Use the application, opening different pages so that it generates some telemetry.</span></span>
* <span data-ttu-id="35747-196">몇 초 정도 기다렸다가 새로고침을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-196">Wait a few seconds and click Refresh.</span></span>
* <span data-ttu-id="35747-197">[문제 해결][qna]을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="35747-197">See [Troubleshooting][qna].</span></span>

## <a name="view-azure-diagnostic-events"></a><span data-ttu-id="35747-198">Azure 진단 이벤트 보기</span><span class="sxs-lookup"><span data-stu-id="35747-198">View Azure Diagnostic events</span></span>
<span data-ttu-id="35747-199">여기서 Application Insights의 [Azure 진단](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) 정보를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-199">Where to find the [Azure Diagnostics](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) information in Application Insights:</span></span>

* <span data-ttu-id="35747-200">성능 카운터는 사용자 지정 메트릭으로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="35747-200">Performance counters are displayed as custom metrics.</span></span> 
* <span data-ttu-id="35747-201">Windows 이벤트 로그는 추적 및 사용자 지정 이벤트로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="35747-201">Windows event logs are shown as traces and custom events.</span></span>
* <span data-ttu-id="35747-202">응용 프로그램 로그, ETW 로그 및 진단 인프라 로그는 추적으로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="35747-202">Application logs, ETW logs, and any diagnostics infrastructure logs appear as traces.</span></span>

<span data-ttu-id="35747-203">성능 카운터 및 이벤트 개수를 보려면 [메트릭 탐색기](app-insights-metrics-explorer.md) 를 열고 새 차트를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-203">To see performance counters and counts of events, open [Metrics Explorer](app-insights-metrics-explorer.md) and add a new chart:</span></span>

![Azure 진단 데이터](./media/app-insights-cloudservices/23-wad.png)

<span data-ttu-id="35747-205">[Search](app-insights-diagnostic-search.md) 또는 [분석 쿼리](app-insights-analytics-tour.md)를 사용하여 Azure Diagnostics에서 보낸 다양한 추적 로그를 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-205">Use [Search](app-insights-diagnostic-search.md) or an [Analytics query](app-insights-analytics-tour.md) to search across the various trace logs sent by Azure Diagnostics.</span></span> <span data-ttu-id="35747-206">예를 들어 역할이 충돌하게 만들고 따라서 역할을 재활용하게 만드는 처리되지 않은 예외가 있다고 가정해 봅시다.</span><span class="sxs-lookup"><span data-stu-id="35747-206">For example, suppose you have an unhandled exception which caused a Role to crash and recycle.</span></span> <span data-ttu-id="35747-207">해당 정보는 Windows 이벤트 로그의 응용 프로그램 채널에 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="35747-207">That information would show up in the Application channel of Windows Event Log.</span></span> <span data-ttu-id="35747-208">Search를 사용하여 Windows 이벤트 로그 오류를 살펴보고 예외에 대한 전체 스택 추적을 가져올 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-208">You can use Search to look at the Windows Event Log error and get the full stack trace for the exception.</span></span> <span data-ttu-id="35747-209">이 정보는 문제의 근본 원인을 찾는 데 도움이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="35747-209">That will help you find the root cause of the issue.</span></span>

![Azure 진단 검색](./media/app-insights-cloudservices/25-wad.png)

## <a name="more-telemetry"></a><span data-ttu-id="35747-211">추가 원격 분석</span><span class="sxs-lookup"><span data-stu-id="35747-211">More telemetry</span></span>
<span data-ttu-id="35747-212">다음 섹션에서는 응용 프로그램의 여러 측면에서 추가 원격 분석을 가져오는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="35747-212">The sections below show how to get additional telemetry from different aspects of your application.</span></span>

## <a name="track-requests-from-worker-roles"></a><span data-ttu-id="35747-213">작업자 역할의 요청 추적</span><span class="sxs-lookup"><span data-stu-id="35747-213">Track Requests from Worker roles</span></span>
<span data-ttu-id="35747-214">웹 역할에서 요청 모듈은 자동으로 HTTP 요청에 대한 데이터를 수집합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-214">In web roles, the requests module automatically collects data about HTTP requests.</span></span> <span data-ttu-id="35747-215">기본 컬렉션 동작을 재정의할 수는 방법에 대한 예제는 [샘플 MVCWebRole](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/MvcWebRole)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="35747-215">See the [sample MVCWebRole](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/MvcWebRole) for examples of how you can override the default collection behavior.</span></span> 

<span data-ttu-id="35747-216">HTTP 요청과 같은 방법으로 요청을 추적하여 작업자 역할에 대한 호출의 성능을 캡처할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-216">You can capture the performance of calls to worker roles by tracking them in the same way as HTTP requests.</span></span> <span data-ttu-id="35747-217">Application Insights에서 요청 원격 분석 유형은 시간을 제한할 수 있고 독립적으로 성공 또는 실패할 수 있는 명명된 서버 쪽 작업의 단위를 측정합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-217">In Application Insights, the Request telemetry type measures a unit of named server-side work that can be timed and can independently succeed or fail.</span></span> <span data-ttu-id="35747-218">HTTP 요청은 SDK에서 자동으로 캡처하지만 사용자 고유의 코드를 삽입하여 작업자 역할에 대한 요청을 추적할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-218">While HTTP requests are captured automatically by the SDK, you can insert your own code to track requests to worker roles.</span></span>

<span data-ttu-id="35747-219">보고서 요청에서 대해 계측된 두 샘플 작업자 역할: [WorkerRoleA](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleA) 및 [WorkerRoleB](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleB)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="35747-219">See the two sample worker roles instrumented to report requests: [WorkerRoleA](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleA) and [WorkerRoleB](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleB)</span></span>

## <a name="exceptions"></a><span data-ttu-id="35747-220">예외</span><span class="sxs-lookup"><span data-stu-id="35747-220">Exceptions</span></span>
<span data-ttu-id="35747-221">다른 웹 응용 프로그램 유형에서 처리되지 않은 예외를 수집할 수 있는 방법에 대한 자세한 내용은 [Application Insights에서 예외 모니터링](app-insights-asp-net-exceptions.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="35747-221">See [Monitoring Exceptions in Application Insights](app-insights-asp-net-exceptions.md) for information on how you can collect unhandled exceptions from different web application types.</span></span>

<span data-ttu-id="35747-222">샘플 웹 역할에는 MVC5 및 Web API 2 컨트롤러에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-222">The sample web role has MVC5 and Web API 2 controllers.</span></span> <span data-ttu-id="35747-223">2에서 처리되지 않은 예외는 다음 처리기를 통해 캡처됩니다.</span><span class="sxs-lookup"><span data-stu-id="35747-223">The unhandled exceptions from the two are captured with the following handlers:</span></span>

* <span data-ttu-id="35747-224">MVC5 컨트롤러에 대해 [여기](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/FilterConfig.cs#L12)에서 [AiHandleErrorAttribute](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiHandleErrorAttribute.cs) 설정</span><span class="sxs-lookup"><span data-stu-id="35747-224">[AiHandleErrorAttribute](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiHandleErrorAttribute.cs) set up [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/FilterConfig.cs#L12) for MVC5 controllers</span></span>
* <span data-ttu-id="35747-225">Web API 2 컨트롤러에 대해 [여기](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/WebApiConfig.cs#L25)에서 [AiWebApiExceptionLogger](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiWebApiExceptionLogger.cs) 설정</span><span class="sxs-lookup"><span data-stu-id="35747-225">[AiWebApiExceptionLogger](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiWebApiExceptionLogger.cs) set up [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/WebApiConfig.cs#L25) for Web API 2 controllers</span></span>

<span data-ttu-id="35747-226">작업자 역할의 경우 예외를 추적하는 두 가지 방법이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-226">For worker roles, there are two ways to track exceptions:</span></span>

* <span data-ttu-id="35747-227">TrackException(ex)</span><span class="sxs-lookup"><span data-stu-id="35747-227">TrackException(ex)</span></span>
* <span data-ttu-id="35747-228">Application Insights 추적 수신기 NuGet 패키지를 추가한 경우 **System.Diagnostics.Trace**를 사용하여 예외를 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-228">If you have added the Application Insights trace listener NuGet package, you can use **System.Diagnostics.Trace** to log exceptions.</span></span> [<span data-ttu-id="35747-229">코드 예제.</span><span class="sxs-lookup"><span data-stu-id="35747-229">Code example.</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L107)

## <a name="performance-counters"></a><span data-ttu-id="35747-230">성능 카운터</span><span class="sxs-lookup"><span data-stu-id="35747-230">Performance Counters</span></span>
<span data-ttu-id="35747-231">다음 카운터가 기본적으로 수집됩니다.</span><span class="sxs-lookup"><span data-stu-id="35747-231">The following counters are collected by default:</span></span>

    * <span data-ttu-id="35747-232">\Process(??APP_WIN32_PROC??)\% Processor Time</span><span class="sxs-lookup"><span data-stu-id="35747-232">\Process(??APP_WIN32_PROC??)\% Processor Time</span></span>
    * <span data-ttu-id="35747-233">\Memory\Available Bytes</span><span class="sxs-lookup"><span data-stu-id="35747-233">\Memory\Available Bytes</span></span>
    * <span data-ttu-id="35747-234">\.NET CLR Exceptions(??APP_CLR_PROC??)\# of Exceps Thrown / sec</span><span class="sxs-lookup"><span data-stu-id="35747-234">\.NET CLR Exceptions(??APP_CLR_PROC??)\# of Exceps Thrown / sec</span></span>
    * <span data-ttu-id="35747-235">\Process(??APP_WIN32_PROC??)\Private Bytes</span><span class="sxs-lookup"><span data-stu-id="35747-235">\Process(??APP_WIN32_PROC??)\Private Bytes</span></span>
    * <span data-ttu-id="35747-236">\Process(??APP_WIN32_PROC??)\IO Data Bytes/sec</span><span class="sxs-lookup"><span data-stu-id="35747-236">\Process(??APP_WIN32_PROC??)\IO Data Bytes/sec</span></span>
    * <span data-ttu-id="35747-237">\Processor(_Total)\% Processor Time</span><span class="sxs-lookup"><span data-stu-id="35747-237">\Processor(_Total)\% Processor Time</span></span>

<span data-ttu-id="35747-238">웹 역할의 경우 이러한 카운터도 수집됩니다.</span><span class="sxs-lookup"><span data-stu-id="35747-238">For web roles, these counters are also collected:</span></span>

    * <span data-ttu-id="35747-239">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests/Sec</span><span class="sxs-lookup"><span data-stu-id="35747-239">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests/Sec</span></span>
    * <span data-ttu-id="35747-240">\ASP.NET Applications(??APP_W3SVC_PROC??)\Request Execution Time</span><span class="sxs-lookup"><span data-stu-id="35747-240">\ASP.NET Applications(??APP_W3SVC_PROC??)\Request Execution Time</span></span>
    * <span data-ttu-id="35747-241">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests In Application Queue</span><span class="sxs-lookup"><span data-stu-id="35747-241">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests In Application Queue</span></span>

<span data-ttu-id="35747-242">[이 예제와 같이](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/ApplicationInsights.config#L14) ApplicationInsights.config를 편집하여 추가 사용자 지정 카운터 또는 기타 windows 성능 카운터를 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-242">You can specify additional custom or other windows performance counters by editing ApplicationInsights.config [as in this example](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/ApplicationInsights.config#L14).</span></span>

  ![성능 카운터](./media/app-insights-cloudservices/OLfMo2f.png)

## <a name="correlated-telemetry-for-worker-roles"></a><span data-ttu-id="35747-244">작업자 역할에 대한 상호 관련된 원격 분석</span><span class="sxs-lookup"><span data-stu-id="35747-244">Correlated Telemetry for Worker Roles</span></span>
<span data-ttu-id="35747-245">실패 또는 높은 대기 시간을 초래하는 것이 무엇인지 알 수 있다면 풍부한 진단 경험이 있는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="35747-245">It is a rich diagnostic experience, when you can see what led to a failed or high latency request.</span></span> <span data-ttu-id="35747-246">웹 역할과 함께 SDK는 관련된 원격 분석 간의 상관관계를 자동으로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-246">With web roles, the SDK automatically sets up correlation between related telemetry.</span></span> <span data-ttu-id="35747-247">작업자 역할의 경우, 사용자 지정 원격 분석 이니셜라이저를 사용하여 모든 원격 분석이 이를 설정하도록 공통 Operation.Id 컨텍스트 특성을 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-247">For worker roles, you can use a custom telemetry initializer to set a common Operation.Id context attribute for all the telemetry to achieve this.</span></span> <span data-ttu-id="35747-248">이렇게 하면 대기 시간/실패 문제가 종속성 때문에 발생했는지 아니면 코드 때문에 발생했는지 한 눈에 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-248">This allows you to see whether the latency/failure issue was caused due to a dependency or your code, at a glance!</span></span> 

<span data-ttu-id="35747-249">방법은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-249">Here's how:</span></span>

* <span data-ttu-id="35747-250">[여기](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L36)에 표시된 것처럼 상관관계 ID를 CallContext로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-250">Set the correlation Id into a CallContext as shown [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L36).</span></span> <span data-ttu-id="35747-251">이 경우에 요청 ID를 상관관계 ID로 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-251">In this case, we are using the Request ID as the correlation id</span></span>
* <span data-ttu-id="35747-252">사용자 지정 TelemetryInitializer 구현을 추가하여 Operation.Id를 위에서 설정된 correlationId로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-252">Add a custom TelemetryInitializer implementation, to set the Operation.Id to the correlationId set above.</span></span> <span data-ttu-id="35747-253">그 예로 [ItemCorrelationTelemetryInitializer](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/Telemetry/ItemCorrelationTelemetryInitializer.cs#L13)를 들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-253">There's an example here: [ItemCorrelationTelemetryInitializer](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/Telemetry/ItemCorrelationTelemetryInitializer.cs#L13)</span></span>
* <span data-ttu-id="35747-254">사용자 지정 원격 분석 이니셜라이저를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-254">Add the custom telemetry initializer.</span></span> <span data-ttu-id="35747-255">[여기](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L233)</span><span class="sxs-lookup"><span data-stu-id="35747-255">You could do that in the ApplicationInsights.config file, or in code as shown [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L233)</span></span>

<span data-ttu-id="35747-256">이것으로 끝입니다.</span><span class="sxs-lookup"><span data-stu-id="35747-256">That's it!</span></span> <span data-ttu-id="35747-257">포털 경험이 이미 확보되었으므로 연관된 모든 원격 분석을 한 눈에 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-257">The portal experience is already wired up to help you see all associated telemetry at a glance:</span></span>

![상관 관계가 지정된 원격 분석](./media/app-insights-cloudservices/bHxuUhd.png)

## <a name="client-telemetry"></a><span data-ttu-id="35747-259">클라이언트 원격 분석</span><span class="sxs-lookup"><span data-stu-id="35747-259">Client telemetry</span></span>
<span data-ttu-id="35747-260">[JavaScript SDK를 웹 페이지에 추가][client]하여 페이지 보기 수, 페이지 로드 시간, 스크립트 예외 사항과 같은 브라우저 기반 원격 분석을 가져오고 페이지 스크립트에서 사용자 지정 원격 분석을 작성합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-260">[Add the JavaScript SDK to your web pages][client] to get browser-based telemetry such as page view counts, page load times, script exceptions, and to let you write custom telemetry in your page scripts.</span></span>

## <a name="availability-tests"></a><span data-ttu-id="35747-261">가용성 테스트</span><span class="sxs-lookup"><span data-stu-id="35747-261">Availability tests</span></span>
<span data-ttu-id="35747-262">[웹 테스트를 설정][availability]하여 응용 프로그램이 라이브 상태로 유지되며 응답하는지 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-262">[Set up web tests][availability] to make sure your application stays live and responsive.</span></span>

## <a name="display-everything-together"></a><span data-ttu-id="35747-263">모든 항목을 함께 표시</span><span class="sxs-lookup"><span data-stu-id="35747-263">Display everything together</span></span>
<span data-ttu-id="35747-264">시스템에 대한 전반적인 정보를 얻기 위해 주요 모니터링 차트를 하나의 [대시보드](app-insights-dashboards.md)로 가져올 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-264">To get an overall picture of your system, you can bring the key monitoring charts together on one [dashboard](app-insights-dashboards.md).</span></span> <span data-ttu-id="35747-265">예를 들어 각 역할의 요청 및 실패 수를 고정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-265">For example, you could pin the request and failure counts of each role.</span></span> 

<span data-ttu-id="35747-266">시스템에서 스트림 분석과 같은 다른 Azure 서비스를 사용하는 경우 해당 모니터링 차트도 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-266">If your system uses other Azure services such as Stream Analytics, include their monitoring charts as well.</span></span> 

<span data-ttu-id="35747-267">클라이언트 모바일 앱이 있는 경우 주요 사용자 작업에 대한 사용자 지정 이벤트를 보내는 일부 코드를 삽입하고 [HockeyApp 브리지](app-insights-hockeyapp-bridge-app.md)를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="35747-267">If you have a client mobile app, insert some code to send custom events on key user operations, and create a [HockeyApp bridge](app-insights-hockeyapp-bridge-app.md).</span></span> <span data-ttu-id="35747-268">[분석](app-insights-analytics.md)에서 이벤트 수를 표시하는 쿼리를 만들어 대시보드에 고정합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-268">Create queries in [Analytics](app-insights-analytics.md) to display the event counts, and pin them to the dashboard.</span></span>

## <a name="example"></a><span data-ttu-id="35747-269">예제</span><span class="sxs-lookup"><span data-stu-id="35747-269">Example</span></span>
<span data-ttu-id="35747-270">[예제](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) 는 웹 역할 및 두 작업자 역할이 포함되는 서비스를 모니터링합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-270">[The example](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) monitors a service that has a web role and two worker roles.</span></span>

## <a name="exception-method-not-found-on-running-in-azure-cloud-services"></a><span data-ttu-id="35747-271">Azure 클라우드 서비스에서 실행할 때의 "메서드를 찾을 수 없음" 예외</span><span class="sxs-lookup"><span data-stu-id="35747-271">Exception "method not found" on running in Azure Cloud Services</span></span>
<span data-ttu-id="35747-272">.NET 4.6용으로 빌드하셨나요?</span><span class="sxs-lookup"><span data-stu-id="35747-272">Did you build for .NET 4.6?</span></span> <span data-ttu-id="35747-273">4.6은 Azure 클라우드 서비스 역할에서 자동으로 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="35747-273">4.6 is not automatically supported in Azure Cloud Services roles.</span></span> <span data-ttu-id="35747-274">[각 역할에 4.6을 설치](../cloud-services/cloud-services-dotnet-install-dotnet.md) 합니다.</span><span class="sxs-lookup"><span data-stu-id="35747-274">[Install 4.6 on each role](../cloud-services/cloud-services-dotnet-install-dotnet.md) before running your app.</span></span>

## <a name="video"></a><span data-ttu-id="35747-275">비디오</span><span class="sxs-lookup"><span data-stu-id="35747-275">Video</span></span>

> [!VIDEO https://channel9.msdn.com/events/Connect/2016/100/player]

## <a name="next-steps"></a><span data-ttu-id="35747-276">다음 단계</span><span class="sxs-lookup"><span data-stu-id="35747-276">Next steps</span></span>
* [<span data-ttu-id="35747-277">Application Insights에 Azure 진단을 보내도록 구성</span><span class="sxs-lookup"><span data-stu-id="35747-277">Configure sending Azure Diagnostics to Application Insights</span></span>](app-insights-azure-diagnostics.md)
* [<span data-ttu-id="35747-278">Application Insights 리소스 만들기 자동화</span><span class="sxs-lookup"><span data-stu-id="35747-278">Automate creation of Application Insights resources</span></span>](app-insights-powershell.md)
* [<span data-ttu-id="35747-279">Azure 진단 자동화</span><span class="sxs-lookup"><span data-stu-id="35747-279">Automate Azure diagnostics</span></span>](app-insights-powershell-azure-diagnostics.md)
* [<span data-ttu-id="35747-280">Azure 기능</span><span class="sxs-lookup"><span data-stu-id="35747-280">Azure Functions</span></span>](https://github.com/christopheranderson/azure-functions-app-insights-sample)

[api]: app-insights-api-custom-events-metrics.md
[availability]: app-insights-monitor-web-app-availability.md
[azure]: app-insights-azure.md
[client]: app-insights-javascript.md
[diagnostic]: app-insights-diagnostic-search.md
[netlogs]: app-insights-asp-net-trace-logs.md
[portal]: http://portal.azure.com/
[qna]: app-insights-troubleshoot-faq.md
[redfield]: app-insights-monitor-performance-live-website-now.md
[start]: app-insights-overview.md 
