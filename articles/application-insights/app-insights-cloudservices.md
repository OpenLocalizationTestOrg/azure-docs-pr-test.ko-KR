---
title: "Azure 클라우드 서비스에 대 한 Insights aaaApplication | Microsoft Docs"
description: "Application Insights를 사용하여 웹 및 작업자 역할을 효과적으로 모니터링"
services: application-insights
documentationcenter: 
keywords: "WAD2AI, Azure 진단"
author: CFreemanwa
manager: carmonm
editor: alancameronwills
ms.assetid: 5c7a5b34-329e-42b7-9330-9dcbb9ff1f88
ms.service: application-insights
ms.devlang: na
ms.tgt_pltfrm: ibiza
ms.topic: get-started-article
ms.workload: tbd
ms.date: 05/05/2017
ms.author: bwren
ms.openlocfilehash: 6956ce423eea1e2cf387bd98250bae32d9501ed0
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="application-insights-for-azure-cloud-services"></a><span data-ttu-id="4b7af-104">Azure 클라우드 서비스용 Application Insights</span><span class="sxs-lookup"><span data-stu-id="4b7af-104">Application Insights for Azure Cloud Services</span></span>
<span data-ttu-id="4b7af-105">[Microsoft Azure Cloud Service 앱](https://azure.microsoft.com/services/cloud-services/)은 Application Insights SDK의 데이터를 Cloud Services의 [Azure 진단](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) 데이터와 조합하여 [Application Insights][start]로 가용성, 성능, 오류 및 사용 현황을 모니터링할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-105">[Microsoft Azure Cloud service apps](https://azure.microsoft.com/services/cloud-services/) can be monitored by [Application Insights][start] for availability, performance, failures, and usage by combining data from Application Insights' SDKs with [Azure Diagnotics](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) data from your Cloud Services.</span></span> <span data-ttu-id="4b7af-106">와일드 카드 hello 성능과 hello에서 응용 프로그램의 효율성에 대 한 get hello 피드백을 통해 각 개발 수명 주기의 hello 디자인의 hello 방향에 대 한 선택 가능한 항목을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-106">With hello feedback you get about hello performance and effectiveness of your app in hello wild, you can make informed choices about hello direction of hello design in each development lifecycle.</span></span>

![예제](./media/app-insights-cloudservices/sample.png)

## <a name="before-you-start"></a><span data-ttu-id="4b7af-108">시작하기 전에</span><span class="sxs-lookup"><span data-stu-id="4b7af-108">Before you start</span></span>
<span data-ttu-id="4b7af-109">필요한 사항:</span><span class="sxs-lookup"><span data-stu-id="4b7af-109">You'll need:</span></span>

* <span data-ttu-id="4b7af-110">[Microsoft Azure](http://azure.com)를 구독해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-110">A subscription with [Microsoft Azure](http://azure.com).</span></span> <span data-ttu-id="4b7af-111">Microsoft 계정으로 로그인합니다. Windows, XBox Live 또는 기타 Microsoft 클라우드 서비스의 계정을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-111">Sign in with a Microsoft account, which you might have for Windows, XBox Live, or other Microsoft cloud services.</span></span> 
* <span data-ttu-id="4b7af-112">Microsoft Azure 도구 2.9 이상</span><span class="sxs-lookup"><span data-stu-id="4b7af-112">Microsoft Azure tools 2.9 or later</span></span>
* <span data-ttu-id="4b7af-113">개발자 분석 도구 7.10 이상</span><span class="sxs-lookup"><span data-stu-id="4b7af-113">Developer Analytics Tools 7.10 or later</span></span>

## <a name="quick-start"></a><span data-ttu-id="4b7af-114">빠른 시작</span><span class="sxs-lookup"><span data-stu-id="4b7af-114">Quick start</span></span>
<span data-ttu-id="4b7af-115">Application Insights를 사용 하 여 클라우드 서비스는 서비스 tooAzure 게시 옵션 toochoose 빠르고 쉬운 방법 toomonitor를 hello 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-115">hello quickest and easiest way toomonitor your cloud service with Application Insights is toochoose that option when you publish your service tooAzure.</span></span>

![예제](./media/app-insights-cloudservices/azure-cloud-application-insights.png)

<span data-ttu-id="4b7af-117">Toomonitor 요청, 예외 및 성능 뿐 웹 역할에서 종속성을 해야 하는 모든 hello 원격 분석을 제공 하 여 앱 실행 시 카운터 작업자 역할에서이 옵션 수단입니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-117">This option instruments your app at run time, giving you all hello telemetry you need toomonitor requests, exceptions, and dependencies in your web role, as well as performance counters from your worker roles.</span></span> <span data-ttu-id="4b7af-118">응용 프로그램에 의해 생성 된 모든 진단 추적 tooApplication Insights도 전송 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-118">Any diagnostic traces generated by your app are also sent tooApplication Insights.</span></span>

<span data-ttu-id="4b7af-119">필요한 항목을 모두 얻었으면 작업이 완료된 것입니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-119">If that's all you need, you're done!</span></span> <span data-ttu-id="4b7af-120">다음 단계에서는 [앱에서 메트릭을 보고](app-insights-metrics-explorer.md), [분석을 사용하여 데이터를 쿼리하고](app-insights-analytics.md), [대시보드](app-insights-dashboards.md)를 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-120">Next steps are [viewing metrics from your app](app-insights-metrics-explorer.md), [querying your data with Analytics](app-insights-analytics.md), and maybe setting up a [dashboard](app-insights-dashboards.md).</span></span> <span data-ttu-id="4b7af-121">Tooset를 할 수 있습니다 [가용성 테스트](app-insights-monitor-web-app-availability.md) 및 [tooyour 웹 페이지 코드를 추가할](app-insights-javascript.md) hello 브라우저에서 toomonitor 성능입니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-121">You might want tooset up [availability tests](app-insights-monitor-web-app-availability.md) and [add code tooyour web pages](app-insights-javascript.md) toomonitor performance in hello browser.</span></span>

<span data-ttu-id="4b7af-122">하지만 더 많은 옵션을 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-122">But you can also get more options:</span></span>

* <span data-ttu-id="4b7af-123">다른 구성 요소에서 데이터를 보내고 빌드 tooseparate 리소스를 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-123">Send data from different components and build configurations tooseparate resources.</span></span>
* <span data-ttu-id="4b7af-124">앱에서 사용자 지정 원격 분석을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-124">Add custom telemetry from your app.</span></span>

<span data-ttu-id="4b7af-125">이러한 옵션을 원하는 tooyou의 경우 계속 읽어 보십시오.</span><span class="sxs-lookup"><span data-stu-id="4b7af-125">If those options are of interest tooyou, read on.</span></span>

## <a name="sample-application-instrumented-with-application-insights"></a><span data-ttu-id="4b7af-126">Application Insights를 사용하여 계측하는 샘플 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="4b7af-126">Sample Application instrumented with Application Insights</span></span>
<span data-ttu-id="4b7af-127">이에 대해 살펴봅니다 [샘플 응용 프로그램](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) 를 Application Insights와 Azure에서 호스팅되는 두 가지 작업자 역할로 tooa 클라우드 서비스를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-127">Take a look at this [sample application](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) in which Application Insights is added tooa cloud service with two worker roles hosted in Azure.</span></span> 

<span data-ttu-id="4b7af-128">뒤에 나오는 설명을 알려 어떻게 tooadapt 직접 클라우드 서비스 프로젝트에서 hello 동일한 방식으로 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-128">What follows tells you how tooadapt your own cloud service project in hello same way.</span></span>

## <a name="plan-resources-and-resource-groups"></a><span data-ttu-id="4b7af-129">리소스 및 리소스 그룹 계획</span><span class="sxs-lookup"><span data-stu-id="4b7af-129">Plan resources and resource groups</span></span>
<span data-ttu-id="4b7af-130">앱에서 원격 분석 hello 저장 하 고 분석 하 고 Application Insights 형식의 Azure 리소스에 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-130">hello telemetry from your app is stored, analyzed and displayed in an Azure resource of type Application Insights.</span></span> 

<span data-ttu-id="4b7af-131">각 리소스 tooa 리소스 그룹을 속해 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-131">Each resource belongs tooa resource group.</span></span> <span data-ttu-id="4b7af-132">조정 된 단일 트랜잭션에서 toodeploy 업데이트 및 리소스 그룹 tooteam 멤버 액세스 허용을 위한 비용을 관리 하기 위한 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-132">Resource groups are used for managing costs, for granting access tooteam members, and toodeploy updates in a single coordinated transaction.</span></span> <span data-ttu-id="4b7af-133">예를 들어 할 수 [스크립트 toodeploy 작성](../azure-resource-manager/resource-group-template-deploy.md) Azure 클라우드 서비스 및 해당 Application Insights를 한 번에 모든 리소스를 모니터링 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-133">For example, you could [write a script toodeploy](../azure-resource-manager/resource-group-template-deploy.md) an Azure Cloud Service and its Application Insights monitoring resources all in one operation.</span></span>

### <a name="resources-for-components"></a><span data-ttu-id="4b7af-134">구성 요소에 대한 리소스</span><span class="sxs-lookup"><span data-stu-id="4b7af-134">Resources for components</span></span>
<span data-ttu-id="4b7af-135">hello는 구성표는 각 웹 역할 및 작업자 역할 즉, 응용 프로그램의 각 구성 요소에 대 한 별도 리소스 toocreate 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-135">hello recommended scheme is toocreate a separate resource for each component of your application - that is, each web role and worker role.</span></span> <span data-ttu-id="4b7af-136">각 구성 요소를 개별적으로 분석할 수 있지만 만들 수는 [대시보드](app-insights-dashboards.md) 마무리 함께 hello 주요 차트 모든 hello 구성 요소를 비교 하 고 함께 모니터링할 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-136">You can analyze each component separately, but can create a [dashboard](app-insights-dashboards.md) that brings together hello key charts from all hello components, so that you can compare and monitor them together.</span></span> 

<span data-ttu-id="4b7af-137">대체 스키마에서 둘 이상의 역할 toohello toosend hello 원격 분석은 동일한 리소스에 있지만 [차원 속성 tooeach 원격 분석 항목을 추가](app-insights-api-filtering-sampling.md#add-properties-itelemetryinitializer) 의 소스 역할을 식별 하는 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-137">An alternative scheme is toosend hello telemetry from more than one role toohello same resource, but [add a dimension property tooeach telemetry item](app-insights-api-filtering-sampling.md#add-properties-itelemetryinitializer) that identifies its source role.</span></span> <span data-ttu-id="4b7af-138">이 스키마에서는 예외 등 메트릭 차트 정상적으로 표시 hello hello 개수에 대 한 집계를 서로 다른 역할 되지만 hello 역할 식별자 필요할 때 hello 차트를 분할할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-138">In this scheme, metric charts such as exceptions normally show an aggregation of hello counts from hello different roles, but you can segment hello chart by hello role identifier when required.</span></span> <span data-ttu-id="4b7af-139">검색 hello 하 여 필터링 할 수도 있습니다 동일한 차원입니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-139">Searches can also be filtered by hello same dimension.</span></span> <span data-ttu-id="4b7af-140">이 대체 좀 더 쉽게 tooview를 사용 하면 시간, 동일 하지만 hello 역할 간에 toosome 혼동 이어질 수도 hello에서 모든 항목입니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-140">This alternative makes it a bit easier tooview everything at hello same time, but could also lead toosome confusion between hello roles.</span></span>

<span data-ttu-id="4b7af-141">브라우저 원격 분석 hello에 대체로 포함 되는 서버 쪽 웹 역할로 동일한 리소스입니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-141">Browser telemetry is usually included in hello same resource as its server-side web role.</span></span>

<span data-ttu-id="4b7af-142">하나의 리소스 그룹에 hello 서로 다른 구성 요소에 대 한 hello Application Insights 리소스를 배치 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-142">Put hello Application Insights resources for hello different components in one resource group.</span></span> <span data-ttu-id="4b7af-143">이렇게 하면 쉽게 toomanage 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-143">This makes it easy toomanage them together.</span></span> 

### <a name="separating-development-test-and-production"></a><span data-ttu-id="4b7af-144">개발, 테스트 및 프로덕션 구분</span><span class="sxs-lookup"><span data-stu-id="4b7af-144">Separating development, test, and production</span></span>
<span data-ttu-id="4b7af-145">을 개발 하는 사용자 지정 이벤트에 다음 기능에 대 한 이전 버전 hello 라이브 상태일 경우 원하는 toosend hello 개발 원격 분석 tooa 별도 Application Insights 리소스입니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-145">If you are developing custom events for your next feature while hello previous version is live, you want toosend hello development telemetry tooa separate Application Insights resource.</span></span> <span data-ttu-id="4b7af-146">그렇지 않으면 됩니다 하드 toofind 간에 테스트 원격 분석 hello 라이브 사이트의 트래픽이 hello 모든 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-146">Otherwise it will be hard toofind your test telemetry among all hello traffic from hello live site.</span></span>

<span data-ttu-id="4b7af-147">tooavoid이이 경우 각 빌드 구성 또는 '스탬프' (개발, 테스트, 프로덕션,...)의 시스템에 대 한 별도 리소스를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-147">tooavoid this situation, create separate resources for each build configuration or 'stamp' (development, test, production, ...) of your system.</span></span> <span data-ttu-id="4b7af-148">별도 리소스 그룹에 각 빌드 구성에 대 한 hello 리소스를 넣습니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-148">Put hello resources for each build configuration in a separate resource group.</span></span> 

<span data-ttu-id="4b7af-149">toosend hello 원격 분석 toohello 적절 한 리소스를 hello 빌드 구성에 따라 다른 계측 키.wadcfg 있도록 hello Application Insights SDK를 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-149">toosend hello telemetry toohello appropriate resources, you can set up hello Application Insights SDK so that it picks up a different instrumentation key depending on hello build configuration.</span></span> 

## <a name="create-an-application-insights-resource-for-each-role"></a><span data-ttu-id="4b7af-150">각 역할에 대한 Application Insights 리소스 만들기</span><span class="sxs-lookup"><span data-stu-id="4b7af-150">Create an Application Insights resource for each role</span></span>
<span data-ttu-id="4b7af-151">Toocreate 각 역할에 대해 별도 리소스를 결정 한 각 빌드 구성-에 대 한 별도 설정 아마도 경우 것이 가장 쉬운 toocreate hello Application Insights 포털에서 모든 해당 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-151">If you've decided toocreate a separate resource for each role - and perhaps a separate set for each build configuration - then it's easiest toocreate them all in hello Application Insights portal.</span></span> <span data-ttu-id="4b7af-152">(리소스를 많이 만들어야 하는 경우 다음을 할 수 있습니다 [hello 프로세스를 자동화](app-insights-powershell.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-152">(If you create resources a lot, you can [automate hello process](app-insights-powershell.md).</span></span>

1. <span data-ttu-id="4b7af-153">Hello에 [Azure 포털][portal], 새 Application Insights 리소스를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-153">In hello [Azure portal][portal], create a new Application Insights resource.</span></span> <span data-ttu-id="4b7af-154">응용 프로그램 유형으로 ASP.NET 앱을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-154">For application type, choose ASP.NET app.</span></span> 

    ![새로 만들기, Application Insights 클릭](./media/app-insights-cloudservices/01-new.png)
2. <span data-ttu-id="4b7af-156">각 리소스는 계측 키로 식별됩니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-156">Note that each resource is identified by an Instrumentation Key.</span></span> <span data-ttu-id="4b7af-157">Toomanually 하려는 경우 나중에이 필요할 수 있습니다 구성 하거나 SDK hello hello 구성을 확인 하십시오.</span><span class="sxs-lookup"><span data-stu-id="4b7af-157">You might need this later if you want toomanually configure or verify hello configuration of hello SDK.</span></span>

    ![속성을 클릭 hello 키를 선택 하 고 ctrl + C를 누릅니다.](./media/app-insights-cloudservices/02-props.png) 

## <a name="set-up-azure-diagnostics-for-each-role"></a><span data-ttu-id="4b7af-159">각 역할에 대한 Azure 진단 설정</span><span class="sxs-lookup"><span data-stu-id="4b7af-159">Set up Azure Diagnostics for each role</span></span>
<span data-ttu-id="4b7af-160">이 옵션 toomonitor Application Insights를 사용 하 여 앱을 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-160">Set this option toomonitor your app with Application Insights.</span></span> <span data-ttu-id="4b7af-161">웹 역할의 경우 성능 모니터링, 경고 및 진단과 함께 사용 현황 분석이 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-161">For web roles, this provides performance monitoring, alerts, and diagnostics, as well as usage analysis.</span></span> <span data-ttu-id="4b7af-162">다른 역할에 대 한 검색 하 고 다시 시작, 성능 카운터 및 호출 tooSystem.Diagnostics.Trace 같은 Azure 진단을 모니터링할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-162">For other roles, you can search and monitor Azure diagnostics such as restart, performance counters, and calls tooSystem.Diagnostics.Trace.</span></span> 

1. <span data-ttu-id="4b7af-163">Visual Studio 솔루션 탐색기에서 아래 &lt;YourCloudService&gt;, 역할, 각 역할의 hello 속성을 엽니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-163">In Visual Studio Solution Explorer, under &lt;YourCloudService&gt;, Roles, open hello properties of each role.</span></span>
2. <span data-ttu-id="4b7af-164">**구성**설정, **진단 데이터 tooApplication Insights 보낼** 선택 hello 이전에 만든 적절 한 Application Insights 리소스 및 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-164">In **Configuration**, set **Send diagnostics data tooApplication Insights** and select hello appropriate Application Insights resource that you created earlier.</span></span>

<span data-ttu-id="4b7af-165">각 빌드 구성에 대 한 별도 Application Insights 리소스 toouse 계획인 경우 먼저 hello 구성을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-165">If you have decided toouse a separate Application Insights resource for each build configuration, select hello configuration first.</span></span>

![각 Azure 역할의 hello 속성에서 Application Insights 구성](./media/app-insights-cloudservices/configure-azure-diagnostics.png)

<span data-ttu-id="4b7af-167">이 hello 라는 hello 파일에 Application Insights 계측 키를 삽입 `ServiceConfiguration.*.cscfg`합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-167">This has hello effect of inserting your Application Insights instrumentation keys into hello files named `ServiceConfiguration.*.cscfg`.</span></span> <span data-ttu-id="4b7af-168">([샘플 코드](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/AzureEmailService/ServiceConfiguration.Cloud.cscfg)).</span><span class="sxs-lookup"><span data-stu-id="4b7af-168">([Sample code](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/AzureEmailService/ServiceConfiguration.Cloud.cscfg)).</span></span>

<span data-ttu-id="4b7af-169">Toovary hello 수준의 전송 되는 진단 정보 tooApplication 통찰력을 하려는 경우 그렇게 할 수 있습니다 [hello를 편집 하 여 `.cscfg` 파일을 직접](app-insights-azure-diagnostics.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-169">If you want toovary hello level of diagnostic information sent tooApplication Insights, you can do so [by editing hello `.cscfg` files directly](app-insights-azure-diagnostics.md).</span></span>

## <span data-ttu-id="4b7af-170"><a name="sdk"></a>각 프로젝트에 hello SDK 설치</span><span class="sxs-lookup"><span data-stu-id="4b7af-170"><a name="sdk"></a>Install hello SDK in each project</span></span>
<span data-ttu-id="4b7af-171">이 옵션 hello 기능 tooadd 사용자 지정 비즈니스 원격 분석 tooany 역할을 하는 응용 프로그램의 사용 방법 및 수행 보다 자세하게 분석을 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-171">This option adds hello ability tooadd custom business telemetry tooany role, for a closer analysis of how your application is used and performs.</span></span>

<span data-ttu-id="4b7af-172">Visual Studio에서 각 클라우드 응용 프로그램 프로젝트에 대 한 hello Application Insights SDK를 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-172">In Visual Studio, configure hello Application Insights SDK for each cloud app project.</span></span>

1. <span data-ttu-id="4b7af-173">**웹 역할**: hello 프로젝트를 마우스 오른쪽 단추로 클릭 하 고 선택 **Configure Application Insights** 또는 **추가 > Application Insights 원격 분석**합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-173">**Web roles**: Right-click hello project and choose **Configure Application Insights** or **Add > Application Insights telemetry**.</span></span>

2. <span data-ttu-id="4b7af-174">**작업자 역할**:</span><span class="sxs-lookup"><span data-stu-id="4b7af-174">**Worker roles**:</span></span> 
 * <span data-ttu-id="4b7af-175">Hello 프로젝트를 마우스 오른쪽 단추로 클릭 하 고 선택 **Nuget 패키지 관리**합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-175">Right-click hello project and select **Manage Nuget Packages**.</span></span>
 * <span data-ttu-id="4b7af-176">[Windows 서버용 Application Insights](https://www.nuget.org/packages/Microsoft.ApplicationInsights.WindowsServer/)를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-176">Add [Application Insights for Windows Servers](https://www.nuget.org/packages/Microsoft.ApplicationInsights.WindowsServer/).</span></span>

    !["Application Insights" 검색](./media/app-insights-cloudservices/04-ai-nuget.png)

3. <span data-ttu-id="4b7af-178">Hello SDK toosend 데이터 toohello Application Insights 리소스를 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-178">Configure hello SDK toosend data toohello Application Insights resource.</span></span>

    <span data-ttu-id="4b7af-179">적합 한 시작 함수에서 hello 계측 키를 hello.cscfg 파일에 hello 구성 설정에서 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-179">In a suitable startup function, set hello instrumentation key from hello configuration setting in hello .cscfg file:</span></span>
 
    ```C#
   
     TelemetryConfiguration.Active.InstrumentationKey = RoleEnvironment.GetConfigurationSettingValue("APPINSIGHTS_INSTRUMENTATIONKEY");
    ```
   
    <span data-ttu-id="4b7af-180">응용 프로그램에서 각 역할에 대해 이 작업을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-180">Do this for each role in your application.</span></span> <span data-ttu-id="4b7af-181">Hello 예제를 참조 하십시오.</span><span class="sxs-lookup"><span data-stu-id="4b7af-181">See hello examples:</span></span>
   
   * [<span data-ttu-id="4b7af-182">웹 역할</span><span class="sxs-lookup"><span data-stu-id="4b7af-182">Web role</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Global.asax.cs#L27)
   * [<span data-ttu-id="4b7af-183">작업자 역할</span><span class="sxs-lookup"><span data-stu-id="4b7af-183">Worker role</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L232)
   * [<span data-ttu-id="4b7af-184">웹 페이지</span><span class="sxs-lookup"><span data-stu-id="4b7af-184">For web pages</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Views/Shared/_Layout.cshtml#L13) 
4. <span data-ttu-id="4b7af-185">집합 hello ApplicationInsights.config 파일 toobe 복사 항상 toohello 출력 디렉터리입니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-185">Set hello ApplicationInsights.config file toobe copied always toohello output directory.</span></span> 
   
    <span data-ttu-id="4b7af-186">(Hello.config 파일에 표시 하면 tooplace hello 계측 키 있습니다를 요청 하는 메시지입니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-186">(In hello .config file, you'll see messages asking you tooplace hello instrumentation key there.</span></span> <span data-ttu-id="4b7af-187">그러나 클라우드 응용 프로그램에 대 한 것이 더 나은 tooset hello.cscfg 파일에서 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-187">However, for cloud applications it's better tooset it from hello .cscfg file.</span></span> <span data-ttu-id="4b7af-188">이렇게 하면 해당 hello 역할 hello 포털에서 올바르게 식별 됩니다.)</span><span class="sxs-lookup"><span data-stu-id="4b7af-188">This ensures that hello role is correctly identified in hello portal.)</span></span>

#### <a name="run-and-publish-hello-app"></a><span data-ttu-id="4b7af-189">실행 하 고 hello 앱 게시</span><span class="sxs-lookup"><span data-stu-id="4b7af-189">Run and publish hello app</span></span>
<span data-ttu-id="4b7af-190">앱을 실행하고 Azure에 로그인합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-190">Run your app, and sign into Azure.</span></span> <span data-ttu-id="4b7af-191">열기 hello Application Insights 리소스 생성 하 고 개별 데이터 요소에 나타나는 표시 됩니다 [검색](app-insights-diagnostic-search.md), 집계에서 데이터 및 [메트릭 탐색기](app-insights-metrics-explorer.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-191">Open hello Application Insights resources you created, and you'll see individual data points appearing in [Search](app-insights-diagnostic-search.md), and aggregated data in [Metric Explorer](app-insights-metrics-explorer.md).</span></span> 

<span data-ttu-id="4b7af-192">더 많은 원격 분석 추가-아래-hello 섹션을 참조 하 고 응용 프로그램 tooget 라이브 진단 및 사용 현황 의견을 게시 하십시오.</span><span class="sxs-lookup"><span data-stu-id="4b7af-192">Add more telemetry - see hello sections below - and then publish your app tooget live diagnostic and usage feedback.</span></span> 

#### <a name="no-data"></a><span data-ttu-id="4b7af-193">데이터가 없나요?</span><span class="sxs-lookup"><span data-stu-id="4b7af-193">No data?</span></span>
* <span data-ttu-id="4b7af-194">열기 hello [검색] [ diagnostic] 타일을 toosee 개별 이벤트입니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-194">Open hello [Search][diagnostic] tile, toosee individual events.</span></span>
* <span data-ttu-id="4b7af-195">일부 원격 분석을 생성할 수 있도록 각기 다른 페이지를 여는 hello 응용 프로그램을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-195">Use hello application, opening different pages so that it generates some telemetry.</span></span>
* <span data-ttu-id="4b7af-196">몇 초 정도 기다렸다가 새로고침을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-196">Wait a few seconds and click Refresh.</span></span>
* <span data-ttu-id="4b7af-197">[문제 해결][qna]을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4b7af-197">See [Troubleshooting][qna].</span></span>

## <a name="view-azure-diagnostic-events"></a><span data-ttu-id="4b7af-198">Azure 진단 이벤트 보기</span><span class="sxs-lookup"><span data-stu-id="4b7af-198">View Azure Diagnostic events</span></span>
<span data-ttu-id="4b7af-199">여기서 toofind hello [Azure 진단](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) Application Insights에서 정보:</span><span class="sxs-lookup"><span data-stu-id="4b7af-199">Where toofind hello [Azure Diagnostics](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) information in Application Insights:</span></span>

* <span data-ttu-id="4b7af-200">성능 카운터는 사용자 지정 메트릭으로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-200">Performance counters are displayed as custom metrics.</span></span> 
* <span data-ttu-id="4b7af-201">Windows 이벤트 로그는 추적 및 사용자 지정 이벤트로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-201">Windows event logs are shown as traces and custom events.</span></span>
* <span data-ttu-id="4b7af-202">응용 프로그램 로그, ETW 로그 및 진단 인프라 로그는 추적으로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-202">Application logs, ETW logs, and any diagnostics infrastructure logs appear as traces.</span></span>

<span data-ttu-id="4b7af-203">toosee 성능 카운터 및 이벤트의 개수를 열고 [메트릭 탐색기](app-insights-metrics-explorer.md) 및 새 차트를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-203">toosee performance counters and counts of events, open [Metrics Explorer](app-insights-metrics-explorer.md) and add a new chart:</span></span>

![Azure 진단 데이터](./media/app-insights-cloudservices/23-wad.png)

<span data-ttu-id="4b7af-205">사용 하 여 [검색](app-insights-diagnostic-search.md) 또는 [분석 쿼리](app-insights-analytics-tour.md) 걸쳐 다양 한 추적 로그 Azure 진단에서 보낸 hello toosearch 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-205">Use [Search](app-insights-diagnostic-search.md) or an [Analytics query](app-insights-analytics-tour.md) toosearch across hello various trace logs sent by Azure Diagnostics.</span></span> <span data-ttu-id="4b7af-206">예를 들어 역할 toocrash 및 재활용의 원인이 된 처리 되지 않은 예외를 있다고 가정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-206">For example, suppose you have an unhandled exception which caused a Role toocrash and recycle.</span></span> <span data-ttu-id="4b7af-207">해당 정보 hello 응용 프로그램 채널의 Windows 이벤트 로그에 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-207">That information would show up in hello Application channel of Windows Event Log.</span></span> <span data-ttu-id="4b7af-208">검색 toolook hello Windows 이벤트 로그 오류에 사용할 수 있으며 hello 예외에 대 한 hello 전체 스택 추적을 가져와야 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-208">You can use Search toolook at hello Windows Event Log error and get hello full stack trace for hello exception.</span></span> <span data-ttu-id="4b7af-209">Hello 문제의 근본 원인을 hello를 찾는 데 도움이 됩니다입니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-209">That will help you find hello root cause of hello issue.</span></span>

![Azure 진단 검색](./media/app-insights-cloudservices/25-wad.png)

## <a name="more-telemetry"></a><span data-ttu-id="4b7af-211">추가 원격 분석</span><span class="sxs-lookup"><span data-stu-id="4b7af-211">More telemetry</span></span>
<span data-ttu-id="4b7af-212">show 아래 섹션 hello 방법을 응용 프로그램의 여러 측면에서 tooget 추가 원격 분석 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-212">hello sections below show how tooget additional telemetry from different aspects of your application.</span></span>

## <a name="track-requests-from-worker-roles"></a><span data-ttu-id="4b7af-213">작업자 역할의 요청 추적</span><span class="sxs-lookup"><span data-stu-id="4b7af-213">Track Requests from Worker roles</span></span>
<span data-ttu-id="4b7af-214">웹 역할에 hello 요청 모듈 자동으로 HTTP 요청에 대 한 데이터를 수집합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-214">In web roles, hello requests module automatically collects data about HTTP requests.</span></span> <span data-ttu-id="4b7af-215">Hello 참조 [MVCWebRole 샘플](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/MvcWebRole) hello 기본 컬렉션 동작을 재정의 하는 방법에 대 한 예제입니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-215">See hello [sample MVCWebRole](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/MvcWebRole) for examples of how you can override hello default collection behavior.</span></span> 

<span data-ttu-id="4b7af-216">Hello에이 추적 하 여 호출 tooworker 역할의 hello 성능을 캡처할 수 동일한 방식으로 HTTP 요청입니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-216">You can capture hello performance of calls tooworker roles by tracking them in hello same way as HTTP requests.</span></span> <span data-ttu-id="4b7af-217">Application Insights 요청 원격 분석 유형을 hello 일정 시간이 수 독립적으로 성공 하거나 실패 하는 명명 된 서버 쪽 작업의 단위를 측정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-217">In Application Insights, hello Request telemetry type measures a unit of named server-side work that can be timed and can independently succeed or fail.</span></span> <span data-ttu-id="4b7af-218">HTTP 요청은 hello SDK에서 자동으로 캡처되는 동안에 사용자 고유의 코드 tootrack 요청 tooworker 역할을 삽입할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-218">While HTTP requests are captured automatically by hello SDK, you can insert your own code tootrack requests tooworker roles.</span></span>

<span data-ttu-id="4b7af-219">Hello 두 샘플 작업자 역할 계측 된 tooreport 요청 참조: [WorkerRoleA](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleA) 및 [WorkerRoleB](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleB)</span><span class="sxs-lookup"><span data-stu-id="4b7af-219">See hello two sample worker roles instrumented tooreport requests: [WorkerRoleA](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleA) and [WorkerRoleB](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleB)</span></span>

## <a name="exceptions"></a><span data-ttu-id="4b7af-220">예외</span><span class="sxs-lookup"><span data-stu-id="4b7af-220">Exceptions</span></span>
<span data-ttu-id="4b7af-221">다른 웹 응용 프로그램 유형에서 처리되지 않은 예외를 수집할 수 있는 방법에 대한 자세한 내용은 [Application Insights에서 예외 모니터링](app-insights-asp-net-exceptions.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4b7af-221">See [Monitoring Exceptions in Application Insights](app-insights-asp-net-exceptions.md) for information on how you can collect unhandled exceptions from different web application types.</span></span>

<span data-ttu-id="4b7af-222">hello 샘플 웹 역할에는 m v c 5 및 Web API 2 컨트롤러에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-222">hello sample web role has MVC5 and Web API 2 controllers.</span></span> <span data-ttu-id="4b7af-223">hello hello 2에서에서 처리 되지 않은 예외를 수집 처리기를 다음 hello로 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-223">hello unhandled exceptions from hello two are captured with hello following handlers:</span></span>

* <span data-ttu-id="4b7af-224">MVC5 컨트롤러에 대해 [여기](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/FilterConfig.cs#L12)에서 [AiHandleErrorAttribute](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiHandleErrorAttribute.cs) 설정</span><span class="sxs-lookup"><span data-stu-id="4b7af-224">[AiHandleErrorAttribute](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiHandleErrorAttribute.cs) set up [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/FilterConfig.cs#L12) for MVC5 controllers</span></span>
* <span data-ttu-id="4b7af-225">Web API 2 컨트롤러에 대해 [여기](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/WebApiConfig.cs#L25)에서 [AiWebApiExceptionLogger](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiWebApiExceptionLogger.cs) 설정</span><span class="sxs-lookup"><span data-stu-id="4b7af-225">[AiWebApiExceptionLogger](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiWebApiExceptionLogger.cs) set up [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/WebApiConfig.cs#L25) for Web API 2 controllers</span></span>

<span data-ttu-id="4b7af-226">작업자 역할에 대 한 두 가지가 tootrack 예외:</span><span class="sxs-lookup"><span data-stu-id="4b7af-226">For worker roles, there are two ways tootrack exceptions:</span></span>

* <span data-ttu-id="4b7af-227">TrackException(ex)</span><span class="sxs-lookup"><span data-stu-id="4b7af-227">TrackException(ex)</span></span>
* <span data-ttu-id="4b7af-228">사용할 수 있습니다 hello Application Insights 추적 수신기 NuGet 패키지를 추가한 경우 **System.Diagnostics.Trace** toolog 예외입니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-228">If you have added hello Application Insights trace listener NuGet package, you can use **System.Diagnostics.Trace** toolog exceptions.</span></span> [<span data-ttu-id="4b7af-229">코드 예제.</span><span class="sxs-lookup"><span data-stu-id="4b7af-229">Code example.</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L107)

## <a name="performance-counters"></a><span data-ttu-id="4b7af-230">성능 카운터</span><span class="sxs-lookup"><span data-stu-id="4b7af-230">Performance Counters</span></span>
<span data-ttu-id="4b7af-231">기본적으로 hello 다음 카운터를 수집 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-231">hello following counters are collected by default:</span></span>

    * <span data-ttu-id="4b7af-232">\Process(??APP_WIN32_PROC??)\% Processor Time</span><span class="sxs-lookup"><span data-stu-id="4b7af-232">\Process(??APP_WIN32_PROC??)\% Processor Time</span></span>
    * <span data-ttu-id="4b7af-233">\Memory\Available Bytes</span><span class="sxs-lookup"><span data-stu-id="4b7af-233">\Memory\Available Bytes</span></span>
    * <span data-ttu-id="4b7af-234">\.NET CLR Exceptions(??APP_CLR_PROC??)\# of Exceps Thrown / sec</span><span class="sxs-lookup"><span data-stu-id="4b7af-234">\.NET CLR Exceptions(??APP_CLR_PROC??)\# of Exceps Thrown / sec</span></span>
    * <span data-ttu-id="4b7af-235">\Process(??APP_WIN32_PROC??)\Private Bytes</span><span class="sxs-lookup"><span data-stu-id="4b7af-235">\Process(??APP_WIN32_PROC??)\Private Bytes</span></span>
    * <span data-ttu-id="4b7af-236">\Process(??APP_WIN32_PROC??)\IO Data Bytes/sec</span><span class="sxs-lookup"><span data-stu-id="4b7af-236">\Process(??APP_WIN32_PROC??)\IO Data Bytes/sec</span></span>
    * <span data-ttu-id="4b7af-237">\Processor(_Total)\% Processor Time</span><span class="sxs-lookup"><span data-stu-id="4b7af-237">\Processor(_Total)\% Processor Time</span></span>

<span data-ttu-id="4b7af-238">웹 역할의 경우 이러한 카운터도 수집됩니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-238">For web roles, these counters are also collected:</span></span>

    * <span data-ttu-id="4b7af-239">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests/Sec</span><span class="sxs-lookup"><span data-stu-id="4b7af-239">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests/Sec</span></span>
    * <span data-ttu-id="4b7af-240">\ASP.NET Applications(??APP_W3SVC_PROC??)\Request Execution Time</span><span class="sxs-lookup"><span data-stu-id="4b7af-240">\ASP.NET Applications(??APP_W3SVC_PROC??)\Request Execution Time</span></span>
    * <span data-ttu-id="4b7af-241">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests In Application Queue</span><span class="sxs-lookup"><span data-stu-id="4b7af-241">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests In Application Queue</span></span>

<span data-ttu-id="4b7af-242">[이 예제와 같이](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/ApplicationInsights.config#L14) ApplicationInsights.config를 편집하여 추가 사용자 지정 카운터 또는 기타 windows 성능 카운터를 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-242">You can specify additional custom or other windows performance counters by editing ApplicationInsights.config [as in this example](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/ApplicationInsights.config#L14).</span></span>

  ![성능 카운터](./media/app-insights-cloudservices/OLfMo2f.png)

## <a name="correlated-telemetry-for-worker-roles"></a><span data-ttu-id="4b7af-244">작업자 역할에 대한 상호 관련된 원격 분석</span><span class="sxs-lookup"><span data-stu-id="4b7af-244">Correlated Telemetry for Worker Roles</span></span>
<span data-ttu-id="4b7af-245">어떤 실패 led tooa 또는 대기 시간이 긴 요청을 볼 수 있습니다 때 풍부한 진단 환경을 야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-245">It is a rich diagnostic experience, when you can see what led tooa failed or high latency request.</span></span> <span data-ttu-id="4b7af-246">웹 역할의 경우와 SDK 간 상관 관계를 자동으로 설정 하는 hello 관련 원격 분석 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-246">With web roles, hello SDK automatically sets up correlation between related telemetry.</span></span> <span data-ttu-id="4b7af-247">작업자 역할에 사용할 수 있습니다는 사용자 지정 원격 분석 이니셜라이저 tooset 공통 Operation.Id 컨텍스트 특성 모든 hello 원격 분석 tooachieve에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-247">For worker roles, you can use a custom telemetry initializer tooset a common Operation.Id context attribute for all hello telemetry tooachieve this.</span></span> <span data-ttu-id="4b7af-248">이렇게 하면 toosee 기한 tooa 종속성 또는 코드를 한 눈에 hello 대기 시간/실패 문제의 원인은 여부!</span><span class="sxs-lookup"><span data-stu-id="4b7af-248">This allows you toosee whether hello latency/failure issue was caused due tooa dependency or your code, at a glance!</span></span> 

<span data-ttu-id="4b7af-249">방법은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-249">Here's how:</span></span>

* <span data-ttu-id="4b7af-250">표시 된 대로 CallContext에 hello 상관 관계 Id를 설정 [여기](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L36)합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-250">Set hello correlation Id into a CallContext as shown [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L36).</span></span> <span data-ttu-id="4b7af-251">이 경우 요청 ID hello hello 상관 관계 id로 사용</span><span class="sxs-lookup"><span data-stu-id="4b7af-251">In this case, we are using hello Request ID as hello correlation id</span></span>
* <span data-ttu-id="4b7af-252">사용자 지정 TelemetryInitializer 구현 이상으로 설정 하는 tooset hello Operation.Id toohello correlationId를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-252">Add a custom TelemetryInitializer implementation, tooset hello Operation.Id toohello correlationId set above.</span></span> <span data-ttu-id="4b7af-253">그 예로 [ItemCorrelationTelemetryInitializer](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/Telemetry/ItemCorrelationTelemetryInitializer.cs#L13)를 들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-253">There's an example here: [ItemCorrelationTelemetryInitializer](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/Telemetry/ItemCorrelationTelemetryInitializer.cs#L13)</span></span>
* <span data-ttu-id="4b7af-254">Hello 사용자 지정 원격 분석 이니셜라이저를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-254">Add hello custom telemetry initializer.</span></span> <span data-ttu-id="4b7af-255">수행할 수 있습니다 또는 코드를 hello ApplicationInsights.config 파일에 표시 된 것 처럼 [여기](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L233)</span><span class="sxs-lookup"><span data-stu-id="4b7af-255">You could do that in hello ApplicationInsights.config file, or in code as shown [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L233)</span></span>

<span data-ttu-id="4b7af-256">이것으로 끝입니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-256">That's it!</span></span> <span data-ttu-id="4b7af-257">hello 포털 환경 이미 유선 toohelp를 한 눈에 관련 된 모든 원격 분석 표시:</span><span class="sxs-lookup"><span data-stu-id="4b7af-257">hello portal experience is already wired up toohelp you see all associated telemetry at a glance:</span></span>

![상관 관계가 지정된 원격 분석](./media/app-insights-cloudservices/bHxuUhd.png)

## <a name="client-telemetry"></a><span data-ttu-id="4b7af-259">클라이언트 원격 분석</span><span class="sxs-lookup"><span data-stu-id="4b7af-259">Client telemetry</span></span>
<span data-ttu-id="4b7af-260">[추가 JavaScript SDK tooyour 웹 페이지 hello] [ client] tooget 브라우저 기반 원격 페이지 보기 수, 페이지 로드 시간, 스크립트 예외가 toolet 페이지 스크립트에서 사용자 지정 원격 분석을 작성 등 분석 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-260">[Add hello JavaScript SDK tooyour web pages][client] tooget browser-based telemetry such as page view counts, page load times, script exceptions, and toolet you write custom telemetry in your page scripts.</span></span>

## <a name="availability-tests"></a><span data-ttu-id="4b7af-261">가용성 테스트</span><span class="sxs-lookup"><span data-stu-id="4b7af-261">Availability tests</span></span>
<span data-ttu-id="4b7af-262">[웹 테스트 설정] [ availability] toomake 라이브 및 응답성이 뛰어난 응용 프로그램 없이 계속 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-262">[Set up web tests][availability] toomake sure your application stays live and responsive.</span></span>

## <a name="display-everything-together"></a><span data-ttu-id="4b7af-263">모든 항목을 함께 표시</span><span class="sxs-lookup"><span data-stu-id="4b7af-263">Display everything together</span></span>
<span data-ttu-id="4b7af-264">시스템의 전반적인 tooget 하나에 차트를 함께 모니터링 하는 hello 키를 가져올 수 있습니다 [대시보드](app-insights-dashboards.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-264">tooget an overall picture of your system, you can bring hello key monitoring charts together on one [dashboard](app-insights-dashboards.md).</span></span> <span data-ttu-id="4b7af-265">예를 들어 hello 요청을 고정할 수 있습니다 및 각 역할의 오류를 계산 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-265">For example, you could pin hello request and failure counts of each role.</span></span> 

<span data-ttu-id="4b7af-266">시스템에서 스트림 분석과 같은 다른 Azure 서비스를 사용하는 경우 해당 모니터링 차트도 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-266">If your system uses other Azure services such as Stream Analytics, include their monitoring charts as well.</span></span> 

<span data-ttu-id="4b7af-267">클라이언트 모바일 앱이 있는 주요 사용자 작업에 몇 가지 코드 toosend 사용자 지정 이벤트를 삽입 하 고 만들는 [HockeyApp 브리지](app-insights-hockeyapp-bridge-app.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-267">If you have a client mobile app, insert some code toosend custom events on key user operations, and create a [HockeyApp bridge](app-insights-hockeyapp-bridge-app.md).</span></span> <span data-ttu-id="4b7af-268">쿼리를 만들 [분석](app-insights-analytics.md) toodisplay 이벤트 수를 hello 및 toohello 대시보드에 고정 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-268">Create queries in [Analytics](app-insights-analytics.md) toodisplay hello event counts, and pin them toohello dashboard.</span></span>

## <a name="example"></a><span data-ttu-id="4b7af-269">예제</span><span class="sxs-lookup"><span data-stu-id="4b7af-269">Example</span></span>
<span data-ttu-id="4b7af-270">[hello 예제](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) 웹 역할과 작업자 역할을 두 개의 있는 서비스를 모니터링 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-270">[hello example](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) monitors a service that has a web role and two worker roles.</span></span>

## <a name="exception-method-not-found-on-running-in-azure-cloud-services"></a><span data-ttu-id="4b7af-271">Azure 클라우드 서비스에서 실행할 때의 "메서드를 찾을 수 없음" 예외</span><span class="sxs-lookup"><span data-stu-id="4b7af-271">Exception "method not found" on running in Azure Cloud Services</span></span>
<span data-ttu-id="4b7af-272">.NET 4.6용으로 빌드하셨나요?</span><span class="sxs-lookup"><span data-stu-id="4b7af-272">Did you build for .NET 4.6?</span></span> <span data-ttu-id="4b7af-273">4.6은 Azure 클라우드 서비스 역할에서 자동으로 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-273">4.6 is not automatically supported in Azure Cloud Services roles.</span></span> <span data-ttu-id="4b7af-274">[각 역할에 4.6을 설치](../cloud-services/cloud-services-dotnet-install-dotnet.md) 합니다.</span><span class="sxs-lookup"><span data-stu-id="4b7af-274">[Install 4.6 on each role](../cloud-services/cloud-services-dotnet-install-dotnet.md) before running your app.</span></span>

## <a name="video"></a><span data-ttu-id="4b7af-275">비디오</span><span class="sxs-lookup"><span data-stu-id="4b7af-275">Video</span></span>

> [!VIDEO https://channel9.msdn.com/events/Connect/2016/100/player]

## <a name="next-steps"></a><span data-ttu-id="4b7af-276">다음 단계</span><span class="sxs-lookup"><span data-stu-id="4b7af-276">Next steps</span></span>
* [<span data-ttu-id="4b7af-277">Azure 진단 tooApplication Insights 보내기 구성</span><span class="sxs-lookup"><span data-stu-id="4b7af-277">Configure sending Azure Diagnostics tooApplication Insights</span></span>](app-insights-azure-diagnostics.md)
* [<span data-ttu-id="4b7af-278">Application Insights 리소스 만들기 자동화</span><span class="sxs-lookup"><span data-stu-id="4b7af-278">Automate creation of Application Insights resources</span></span>](app-insights-powershell.md)
* [<span data-ttu-id="4b7af-279">Azure 진단 자동화</span><span class="sxs-lookup"><span data-stu-id="4b7af-279">Automate Azure diagnostics</span></span>](app-insights-powershell-azure-diagnostics.md)
* [<span data-ttu-id="4b7af-280">Azure 기능</span><span class="sxs-lookup"><span data-stu-id="4b7af-280">Azure Functions</span></span>](https://github.com/christopheranderson/azure-functions-app-insights-sample)

[api]: app-insights-api-custom-events-metrics.md
[availability]: app-insights-monitor-web-app-availability.md
[azure]: app-insights-azure.md
[client]: app-insights-javascript.md
[diagnostic]: app-insights-diagnostic-search.md
[netlogs]: app-insights-asp-net-trace-logs.md
[portal]: http://portal.azure.com/
[qna]: app-insights-troubleshoot-faq.md
[redfield]: app-insights-monitor-performance-live-website-now.md
[start]: app-insights-overview.md 
