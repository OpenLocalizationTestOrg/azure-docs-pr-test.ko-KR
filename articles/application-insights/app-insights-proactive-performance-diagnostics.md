---
title: "스마트 감지 - 성능 이상 | Microsoft Docs"
description: "Application Insights는 앱 원격 분석의 스마트 분석을 수행하여 잠재적 성능 문제에 대해 경고합니다. 이 기능에는 설정이 필요하지 않습니다."
services: application-insights
documentationcenter: windows
author: antonfrMSFT
manager: carmonm
ms.assetid: 6acd41b9-fbf0-45b8-b83b-117e19062dd2
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.devlang: na
ms.topic: article
ms.date: 5/04/2017
ms.author: bwren
ms.openlocfilehash: fbcd0c4bf0bf959f8a447d922e1e411b8a2af95f
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/18/2017
---
# <a name="smart-detection---performance-anomalies"></a><span data-ttu-id="f2a11-104">스마트 감지 - 성능 이상</span><span class="sxs-lookup"><span data-stu-id="f2a11-104">Smart Detection - Performance Anomalies</span></span>

<span data-ttu-id="f2a11-105">[Application Insights](app-insights-overview.md)는 웹 응용 프로그램의 성능을 자동으로 분석하고 잠재적 문제에 대해 경고할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-105">[Application Insights](app-insights-overview.md) automatically analyzes the performance of your web application, and can warn you about potential problems.</span></span> <span data-ttu-id="f2a11-106">스마트 검색 알림 중 하나를 수신했으므로 읽어볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-106">You might be reading this because you received one of our smart detection notifications.</span></span>

<span data-ttu-id="f2a11-107">이 기능에는 [ASP.NET](app-insights-asp-net.md), [Java](app-insights-java-get-started.md) 또는 [Node.js](app-insights-nodejs.md) 및 [웹 페이지 코드](app-insights-javascript.md)에서 Application Insights용 앱을 구성하는 것 외에는 특별한 설정이 필요하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-107">This feature requires no special setup, other than configuring your app for Application Insights (on [ASP.NET](app-insights-asp-net.md), [Java](app-insights-java-get-started.md), or [Node.js](app-insights-nodejs.md), and in [web page code](app-insights-javascript.md)).</span></span> <span data-ttu-id="f2a11-108">앱이 충분한 원격 분석을 생성하면 활성화됩니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-108">It is active when your app generates enough telemetry.</span></span>

## <a name="when-would-i-get-a-smart-detection-notification"></a><span data-ttu-id="f2a11-109">스마트 검색 알림은 언제 제공되나요?</span><span class="sxs-lookup"><span data-stu-id="f2a11-109">When would I get a smart detection notification?</span></span>

<span data-ttu-id="f2a11-110">Application Insights가 응용 프로그램 성능이 다음과 같은 방식 중 하나로 저하되었음을 감지했습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-110">Application Insights has detected that the performance of your application has degraded in one of these ways:</span></span>

* <span data-ttu-id="f2a11-111">**응답 시간 성능 저하** - 앱이 이전보다 더 느리게 요청에 응답하기 시작했습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-111">**Response time degradation** - Your app has started responding to requests more slowly than it used to.</span></span> <span data-ttu-id="f2a11-112">예를 들어 최신 배포에 문제가 있어서 이러한 변화가 급격하게 나타났을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-112">The change might have been rapid, for example because there was a regression in your latest deployment.</span></span> <span data-ttu-id="f2a11-113">또는 메모리 누수 등으로 인해 변화가 서서히 나타났을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-113">Or it might have been gradual, maybe caused by a memory leak.</span></span> 
* <span data-ttu-id="f2a11-114">**종속성 기간 저하** - 앱은 REST API, 데이터베이스 또는 기타 종속성을 호출합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-114">**Dependency duration degradation** - Your app makes calls to a REST API, database, or other dependency.</span></span> <span data-ttu-id="f2a11-115">종속성이 이전보다 더 느리게 응답합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-115">The dependency is responding more slowly than it used to.</span></span>
* <span data-ttu-id="f2a11-116">**성능 저하 패턴** - 앱에 일부 요청에만 영향을 미치는 성능 문제가 발생한 것 같습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-116">**Slow performance pattern** - Your app appears to have a performance issue that is affecting only some requests.</span></span> <span data-ttu-id="f2a11-117">예를 들어 페이지가 어느 한 유형의 브라우저에서 다른 유형의 브라우저보다 훨씬 더 느리게 로드되거나 요청이 특정 서버에서 훨씬 더 느리게 처리됩니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-117">For example, pages are loading more slowly on one type of browser than others; or requests are being served more slowly from one particular server.</span></span> <span data-ttu-id="f2a11-118">현재 당사 알고리즘은 페이지 로드 시간, 요청 응답 시간 및 종속성 응답 시간을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-118">Currently, our algorithms look at page load times, request response times, and dependency response times.</span></span>  

<span data-ttu-id="f2a11-119">스마트 검색 기능을 사용하려면 정상 성능 기준을 설정하기 위해 실행 가능한 볼륨에 대한 8일 이상의 원격 분석이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-119">Smart Detection requires at least 8 days of telemetry at a workable volume in order to establish a baseline of normal performance.</span></span> <span data-ttu-id="f2a11-120">따라서 해당 기간 동안 응용 프로그램을 실행한 후 심각한 문제가 발생하면 알림이 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-120">So, after your application has been running for that period, any significant issue will result in a notification.</span></span>


## <a name="does-my-app-definitely-have-a-problem"></a><span data-ttu-id="f2a11-121">내 앱에 분명히 문제가 있나요?</span><span class="sxs-lookup"><span data-stu-id="f2a11-121">Does my app definitely have a problem?</span></span>

<span data-ttu-id="f2a11-122">아니요, 알림이 제공된다고 해서 앱에 반드시 문제가 있는 것은 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-122">No, a notification doesn't mean that your app definitely has a problem.</span></span> <span data-ttu-id="f2a11-123">보다 밀접하게 확인하는 것이 좋겠다는 제안입니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-123">It's simply a suggestion about something you might want to look at more closely.</span></span>

## <a name="how-do-i-fix-it"></a><span data-ttu-id="f2a11-124">이 문제를 어떻게 해결하나요?</span><span class="sxs-lookup"><span data-stu-id="f2a11-124">How do I fix it?</span></span>

<span data-ttu-id="f2a11-125">알림에는 진단 정보가 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-125">The notifications include diagnostic information.</span></span> <span data-ttu-id="f2a11-126">예를 들면 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-126">Here's an example:</span></span>


![다음은 서버 응답 시간 성능 저하 검색의 예입니다.](./media/app-insights-proactive-diagnostics/server_response_time_degradation.png)

1. <span data-ttu-id="f2a11-128">**심사**.</span><span class="sxs-lookup"><span data-stu-id="f2a11-128">**Triage**.</span></span> <span data-ttu-id="f2a11-129">이 알림은 영향을 받은 사용자 수 또는 작업의 수를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-129">The notification shows you how many users or how many operations are affected.</span></span> <span data-ttu-id="f2a11-130">문제에 우선 순위를 할당하는 데 도움이 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-130">This can help you assign a priority to the problem.</span></span>
2. <span data-ttu-id="f2a11-131">**범위**.</span><span class="sxs-lookup"><span data-stu-id="f2a11-131">**Scope**.</span></span> <span data-ttu-id="f2a11-132">이 문제가 모든 트래픽에 영향을 주나요? 아니면 일부 페이지에만 영향을 주나요?</span><span class="sxs-lookup"><span data-stu-id="f2a11-132">Is the problem affecting all traffic, or just some pages?</span></span> <span data-ttu-id="f2a11-133">특정 브라우저 또는 위치로 제한되나요?</span><span class="sxs-lookup"><span data-stu-id="f2a11-133">Is it restricted to particular browsers or locations?</span></span> <span data-ttu-id="f2a11-134">이 정보는 알림에서 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-134">This information can be obtained from the notification.</span></span>
3. <span data-ttu-id="f2a11-135">**진단**.</span><span class="sxs-lookup"><span data-stu-id="f2a11-135">**Diagnose**.</span></span> <span data-ttu-id="f2a11-136">종종 알림의 진단 정보는 문제의 특성을 암시합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-136">Often, the diagnostic information in the notification will suggest the nature of the problem.</span></span> <span data-ttu-id="f2a11-137">예를 들어 요청 속도가 높을 때 응답 시간이 느려지면 서버 또는 종속성이 오버로드된 것을 암시합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-137">For example, if response time slows down when request rate is high, that suggests your server or dependencies are overloaded.</span></span> 

    <span data-ttu-id="f2a11-138">그렇지 않으면 Application Insights에서 성능 블레이드를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-138">Otherwise, open the Performance blade in Application Insights.</span></span> <span data-ttu-id="f2a11-139">여기서 [프로파일러](app-insights-profiler.md) 데이터를 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-139">There, you will find [Profiler](app-insights-profiler.md) data.</span></span> <span data-ttu-id="f2a11-140">예외가 throw되는 경우에는 [스냅숏 디버거](app-insights-snapshot-debugger.md)를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-140">If exceptions are thrown, you can also try the [snapshot debugger](app-insights-snapshot-debugger.md).</span></span>



## <a name="configure-email-notifications"></a><span data-ttu-id="f2a11-141">전자 메일 알림 구성</span><span class="sxs-lookup"><span data-stu-id="f2a11-141">Configure Email Notifications</span></span>

<span data-ttu-id="f2a11-142">스마트 검색 알림은 기본적으로 사용되도록 설정되며 [Application Insights 리소스에 대해 액세스 권한이 있는 소유자, 기고자 및 읽기 권한자](app-insights-resources-roles-access-control.md)에게 전송됩니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-142">Smart Detection notifications are enabled by default and sent to those who have [owners, contributors and readers access to the Application Insights resource](app-insights-resources-roles-access-control.md).</span></span> <span data-ttu-id="f2a11-143">이를 변경하려면 전자 메일 알림에서 **구성**을 클릭하거나 Application Insights에서 스마트 검색 설정을 엽니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-143">To change this, either click **Configure** in the email notification, or open Smart Detection settings in Application Insights.</span></span> 
  
  ![스마트 검색 설정](./media/app-insights-proactive-diagnostics/smart_detection_configuration.png)
  
  * <span data-ttu-id="f2a11-145">스마트 검색 전자 메일에서 **구독 취소** 링크를 사용하여 전자 메일 알림 수신을 중지할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-145">You can use the **unsubscribe** link in the Smart Detection email to stop receiving the email notifications.</span></span>

<span data-ttu-id="f2a11-146">스마트 검색 성능 이상에 대한 전자 메일은 Application Insights 리소스당 매일 하나의 전자 메일로 제한됩니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-146">Emails about Smart Detections performance anomalies are limited to one email per day per Application Insights resource.</span></span> <span data-ttu-id="f2a11-147">이 전자 메일은 해당 날에 하나 이상의 새 문제가 검색된 경우에만 전송됩니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-147">The email will be sent only if there is at least one new issue that was detected on that day.</span></span> <span data-ttu-id="f2a11-148">모든 메시지는 중복으로 보내지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-148">You won't get repeats of any message.</span></span> 

## <a name="faq"></a><span data-ttu-id="f2a11-149">FAQ</span><span class="sxs-lookup"><span data-stu-id="f2a11-149">FAQ</span></span>

* <span data-ttu-id="f2a11-150">*그렇다면, 내 데이터를 확인하고 있습니까?*</span><span class="sxs-lookup"><span data-stu-id="f2a11-150">*So, you guys look at my data?*</span></span>
  * <span data-ttu-id="f2a11-151">아니요.</span><span class="sxs-lookup"><span data-stu-id="f2a11-151">No.</span></span> <span data-ttu-id="f2a11-152">서비스는 완전 자동입니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-152">The service is entirely automatic.</span></span> <span data-ttu-id="f2a11-153">사용자는 알림만 받게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-153">Only you get the notifications.</span></span> <span data-ttu-id="f2a11-154">사용자의 데이터는 [비공개](app-insights-data-retention-privacy.md)입니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-154">Your data is [private](app-insights-data-retention-privacy.md).</span></span>
* <span data-ttu-id="f2a11-155">*Application Insights를 통해 수집되는 모든 데이터를 분석하나요?*</span><span class="sxs-lookup"><span data-stu-id="f2a11-155">*Do you analyze all the data collected by Application Insights?*</span></span>
  * <span data-ttu-id="f2a11-156">현재는 암호화되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-156">Not at present.</span></span> <span data-ttu-id="f2a11-157">현재는 요청 응답 시간, 종속성 응답 시간 및 페이지 로드 시간을 분석합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-157">Currently, we analyze request response time, dependency response time and page load time.</span></span> <span data-ttu-id="f2a11-158">추가 메트릭에 대한 분석은 현재 서비스를 위해 작업 중입니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-158">Analysis of additional metrics is on our backlog looking forward.</span></span>

* <span data-ttu-id="f2a11-159">이러한 분석 기능은 어떤 유형의 응용 프로그램에서 사용할 수 있나요?</span><span class="sxs-lookup"><span data-stu-id="f2a11-159">What types of application does this work for?</span></span>
  * <span data-ttu-id="f2a11-160">이러한 성능 저하는 해당 원격 분석을 생성하는 모든 응용 프로그램에서 검색됩니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-160">These degradations are detected in any application that generates the appropriate telemetry.</span></span> <span data-ttu-id="f2a11-161">웹앱에 Application Insights를 설치한 경우 요청 및 종속성이 자동으로 추적됩니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-161">If you installed Application Insights in your web app, then requests and dependencies are automatically tracked.</span></span> <span data-ttu-id="f2a11-162">그렇지만 백 엔드 서비스 또는 다른 앱에서 [trackrequest ()](app-insights-api-custom-events-metrics.md#trackrequest) 또는 [TrackDependency](app-insights-api-custom-events-metrics.md#trackdependency) 호출을 삽입해도 스마트 검색이 동일한 방식으로 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-162">But in backend services or other apps, if you inserted calls to [TrackRequest()](app-insights-api-custom-events-metrics.md#trackrequest) or [TrackDependency](app-insights-api-custom-events-metrics.md#trackdependency), then Smart Detection will work in the same way.</span></span>

* <span data-ttu-id="f2a11-163">*나만의 이상 감지 규칙을 만들거나 기존 규칙을 사용자 지정할 수 있나요?*</span><span class="sxs-lookup"><span data-stu-id="f2a11-163">*Can I create my own anomaly detection rules or customize existing rules?*</span></span>

  * <span data-ttu-id="f2a11-164">아직은 가능하지 않지만 다음 작업은 가능합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-164">Not yet, but you can:</span></span>
    * <span data-ttu-id="f2a11-165">메트릭 임계값을 초과할 때 알리도록 [경고를 설정](app-insights-alerts.md)할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-165">[Set up alerts](app-insights-alerts.md) that tell you when a metric crosses a threshold.</span></span>
    * <span data-ttu-id="f2a11-166">직접 분석할 수 있는 [데이터베이스](app-insights-code-sample-export-sql-stream-analytics.md), [PowerBI](app-insights-export-power-bi.md)에 [원격 분석을 내보냅니다](app-insights-export-telemetry.md).</span><span class="sxs-lookup"><span data-stu-id="f2a11-166">[Export telemetry](app-insights-export-telemetry.md) to a [database](app-insights-code-sample-export-sql-stream-analytics.md) or [to PowerBI](app-insights-export-power-bi.md), where you can analyze it yourself.</span></span>
* <span data-ttu-id="f2a11-167">*얼마나 자주 분석합니까?*</span><span class="sxs-lookup"><span data-stu-id="f2a11-167">*How often is the analysis performed?*</span></span>

  * <span data-ttu-id="f2a11-168">원격 분석 데이터에 대한 분석은 전날부터 매일 실행됩니다(UTC 표준 시간대로 하루 종일).</span><span class="sxs-lookup"><span data-stu-id="f2a11-168">We run the analysis daily on the telemetry from the previous day (full day in UTC timezone).</span></span>
* <span data-ttu-id="f2a11-169">이것이 *메트릭 경고[를 대신하나요](app-insights-alerts.md)?*</span><span class="sxs-lookup"><span data-stu-id="f2a11-169">*So does this replace [metric alerts](app-insights-alerts.md)?*</span></span>
  * <span data-ttu-id="f2a11-170">안 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-170">No.</span></span>  <span data-ttu-id="f2a11-171">비정상이라고 간주할만한 동작을 모두 감지한다고 커밋할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-171">We don't commit to detecting every behavior that you might consider abnormal.</span></span>


* <span data-ttu-id="f2a11-172">*알림에 대한 응답으로 아무 작업도 수행하지 않을 경우 미리 알림이 제공되나요?*</span><span class="sxs-lookup"><span data-stu-id="f2a11-172">*If I don't do anything in reponse to a notification, will I get a reminder?*</span></span>
  * <span data-ttu-id="f2a11-173">아니요, 각 문제에 대해 한 번만 메시지가 나타납니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-173">No, you get a message about each issue only once.</span></span> <span data-ttu-id="f2a11-174">문제가 지속되면 스마트 검색 피드 블레이드에서 업데이트됩니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-174">If the issue persist it will be updated in the Smart Detection feed blade.</span></span>
* <span data-ttu-id="f2a11-175">*이메일이 삭제되었습니다. 포털의 어디에서 알림을 찾을 수 있습니까?*</span><span class="sxs-lookup"><span data-stu-id="f2a11-175">*I lost the email. Where can I find the notifications in the portal?*</span></span>
  * <span data-ttu-id="f2a11-176">앱의 Application Insights 개요에서 **스마트 감지** 타일을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-176">In the Application Insights overview of your app, click the **Smart Detection** tile.</span></span> <span data-ttu-id="f2a11-177">여기에서 90일 내의 모든 알림을 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-177">There you'll be able to find all notifications up to 90 days back.</span></span>

## <a name="how-can-i-improve-performance"></a><span data-ttu-id="f2a11-178">성능을 어떻게 향상시킬 수 있나요?</span><span class="sxs-lookup"><span data-stu-id="f2a11-178">How can I improve performance?</span></span>
<span data-ttu-id="f2a11-179">느리고 실패한 응답은 경험상 알고 계신대로 웹 사이트 사용자에게 있어 가장 큰 불만 중 하나입니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-179">Slow and failed responses are one of the biggest frustrations for web site users, as you know from your own experience.</span></span> <span data-ttu-id="f2a11-180">따라서 문제를 해결하는 것이 중요합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-180">So, it's important to address the issues.</span></span>

### <a name="triage"></a><span data-ttu-id="f2a11-181">심사</span><span class="sxs-lookup"><span data-stu-id="f2a11-181">Triage</span></span>
<span data-ttu-id="f2a11-182">첫째, 문제가 됩니까?</span><span class="sxs-lookup"><span data-stu-id="f2a11-182">First, does it matter?</span></span> <span data-ttu-id="f2a11-183">페이지가 로드하는 작업이 항상 느리지만 사이트의 사용자의 1%만이 페이지를 보았다면 생각해 봐야할 중요한 사항입니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-183">If a page is always slow to load, but only 1% of your site's users ever have to look at it, maybe you have more important things to think about.</span></span> <span data-ttu-id="f2a11-184">반면에 사용자의 1%가 열지만 그 때마다 예외를 throw한다면 조사할 가치가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-184">On the other hand, if only 1% of users open it, but it throws exceptions every time, that might be worth investigating.</span></span>

<span data-ttu-id="f2a11-185">영향 설명(영향을 받은 사용자 또는 트래픽의 % 비율)을 일반적인 지침으로 사용하되, 이것이 전부가 아니라는 사실에 유의합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-185">Use the impact statement (affected users or % of traffic) as a general guide, but be aware that it isn't the whole story.</span></span> <span data-ttu-id="f2a11-186">확인하려면 다른 증거를 수집합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-186">Gather other evidence to confirm.</span></span>

<span data-ttu-id="f2a11-187">문제의 매개 변수를 고려합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-187">Consider the parameters of the issue.</span></span> <span data-ttu-id="f2a11-188">지리적 위치에 종속적이면 해당 지역을 포함하여 [가용성 테스트](app-insights-monitor-web-app-availability.md)를 설정합니다. 단순히 해당 영역의 네트워크 문제일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-188">If it's geography-dependent, set up [availability tests](app-insights-monitor-web-app-availability.md) including that region: there might simply be network issues in that area.</span></span>

### <a name="diagnose-slow-page-loads"></a><span data-ttu-id="f2a11-189">느린 페이지 로드를 진단합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-189">Diagnose slow page loads</span></span>
<span data-ttu-id="f2a11-190">문제는 어디에 있습니까?</span><span class="sxs-lookup"><span data-stu-id="f2a11-190">Where is the problem?</span></span> <span data-ttu-id="f2a11-191">느리게 응답하는 서버, 매우 긴 페이지 또는 표시하는 데 많은 작업을 수행하는 브라우저입니까?</span><span class="sxs-lookup"><span data-stu-id="f2a11-191">Is the server slow to respond, is the page very long, or does the browser have to do a lot of work to display it?</span></span>

<span data-ttu-id="f2a11-192">브라우저 메트릭 블레이드를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-192">Open the Browsers metric blade.</span></span> <span data-ttu-id="f2a11-193">브라우저 페이지 로드 시간의 분할된 표시는 시간의 흐름을 보여줍니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-193">The segmented display of browser page load time shows where the time is going.</span></span> 

* <span data-ttu-id="f2a11-194">**보내기 요청 시간** 이 높은 경우 서버가 느리게 응답하거나 데이터가 많은 게시물이 요청된 것입니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-194">If **Send Request Time** is high, either the server is responding slowly, or the request is a post with a lot of data.</span></span> <span data-ttu-id="f2a11-195">[성능 메트릭](app-insights-web-monitor-performance.md#metrics) 을 살펴 응답 시간을 조사합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-195">Look at the [performance metrics](app-insights-web-monitor-performance.md#metrics) to investigate response times.</span></span>
* <span data-ttu-id="f2a11-196">[종속성 추적](app-insights-asp-net-dependencies.md) 을 설정하여 속도 저하의 원인이 외부 서비스인지 아니면 사용자의 데이터베이스인지를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-196">Set up [dependency tracking](app-insights-asp-net-dependencies.md) to see whether the slowness is due to external services or your database.</span></span>
* <span data-ttu-id="f2a11-197">**응답 수신** 이 주된 경우 페이지 및 종속 파트 즉, JavaScript, CSS, 이미지 등(그러나 비동기적으로 로드 된 데이터가 아닌)의 길이가 깁니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-197">If **Receiving Response** is predominant, your page and its dependent parts - JavaScript, CSS, images and so on (but not asynchronously loaded data) are long.</span></span> <span data-ttu-id="f2a11-198">[가용성 테스트](app-insights-monitor-web-app-availability.md)를 설정하고 종속 파트를 로드하는 옵션을 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-198">Set up an [availability test](app-insights-monitor-web-app-availability.md), and be sure to set the option to load dependent parts.</span></span> <span data-ttu-id="f2a11-199">일부 결과 얻을 때 결과의 세부 사항을 열고 확장하여 다른 파일의 로드 시간을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-199">When you get some results, open the detail of a result and expand it to see the load times of different files.</span></span>
* <span data-ttu-id="f2a11-200">긴 **클라이언트 처리 시간** 은 스크립트가 느리게 실행됨을 의미합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-200">High **Client Processing time** suggests scripts are running slowly.</span></span> <span data-ttu-id="f2a11-201">이유가 명확하지 않다면 일부 타이밍 코드를 추가하는 것이 좋고 trackMetric 호출에 시간을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-201">If the reason isn't obvious, consider adding some timing code and send the times in trackMetric calls.</span></span>

### <a name="improve-slow-pages"></a><span data-ttu-id="f2a11-202">느린 페이지 개선</span><span class="sxs-lookup"><span data-stu-id="f2a11-202">Improve slow pages</span></span>
<span data-ttu-id="f2a11-203">서버 응답 및 페이지 로드 시간을 향상시키는 데 대한 조언이 가득한 웹이 있으므로 여기서 모두 반복하지는 않겠습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-203">There's a web full of advice on improving your server responses and page load times, so we won't try to repeat it all here.</span></span> <span data-ttu-id="f2a11-204">다음은 이미 알고 있는 몇 가지 팁을 상기시켜 드립니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-204">Here are a few tips that you probably already know about, just to get you thinking:</span></span>

* <span data-ttu-id="f2a11-205">큰 파일로 인해 로드 속도가 느리다면 스크립트 및 기타 부분을 비동기적으로 로드합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-205">Slow loading because of big files: Load the scripts and other parts asynchronously.</span></span> <span data-ttu-id="f2a11-206">스크립트 묶음을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-206">Use script bundling.</span></span> <span data-ttu-id="f2a11-207">해당 데이터를 별도로 로드하는 위젯에 기본 페이지를 나눕니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-207">Break the main page into widgets that load their data separately.</span></span> <span data-ttu-id="f2a11-208">긴 테이블에 이전의 단순한 HTML을 보내지 않습니다. JSON 또는 다른 압축 형식으로 데이터를 요청하는 스크립트를 사용한 다음 테이블을 채웁니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-208">Don't send plain old HTML for long tables: use a script to request the data as JSON or other compact format, then fill the table in place.</span></span> <span data-ttu-id="f2a11-209">이 모든 것을 도울 유용한 프레임워크가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-209">There are great frameworks to help with all this.</span></span> <span data-ttu-id="f2a11-210">(또한 스크립트가 크다는 제약이 따릅니다.)</span><span class="sxs-lookup"><span data-stu-id="f2a11-210">(They also entail big scripts, of course.)</span></span>
* <span data-ttu-id="f2a11-211">서버 종속성이 느리면 구성 요소의 지리적 위치를 고려합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-211">Slow server dependencies: Consider the geographical locations of your components.</span></span> <span data-ttu-id="f2a11-212">예를 들어 Azure를 사용하는 경우 웹 서버와 데이터베이스가 동일한 지역에 있는지를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-212">For example, if you're using Azure, make sure the web server and the database are in the same region.</span></span> <span data-ttu-id="f2a11-213">쿼리가 필요한 양 보다 많은 정보를 검색합니까?</span><span class="sxs-lookup"><span data-stu-id="f2a11-213">Do queries retrieve more information than they need?</span></span> <span data-ttu-id="f2a11-214">캐싱 또는 배치가 도움이 됩니까?</span><span class="sxs-lookup"><span data-stu-id="f2a11-214">Would caching or batching help?</span></span>
* <span data-ttu-id="f2a11-215">용량 문제는 응답 시간 및 요청 수의 서버 메트릭을 살펴봅니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-215">Capacity issues: Look at the server metrics of response times and request counts.</span></span> <span data-ttu-id="f2a11-216">응답 시간이 요청 개수에서 불균형적으로 급증하면 서버가 늘어났을 가능성이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-216">If response times peak disproportionately with peaks in request counts, it's likely that your servers are stretched.</span></span>


## <a name="server-response-time-degradation"></a><span data-ttu-id="f2a11-217">서버 응답 시간 성능 저하</span><span class="sxs-lookup"><span data-stu-id="f2a11-217">Server Response Time Degradation</span></span>

<span data-ttu-id="f2a11-218">응답 시간 성능 저하 알림은 다음을 알려줍니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-218">The response time degradation notification tells you:</span></span>

* <span data-ttu-id="f2a11-219">이 작업에 대해 정상적인 응답 시간과 비교한 응답 시간</span><span class="sxs-lookup"><span data-stu-id="f2a11-219">The response time compared to normal response time for this operation.</span></span>
* <span data-ttu-id="f2a11-220">영향을 받은 사용자 수</span><span class="sxs-lookup"><span data-stu-id="f2a11-220">How many users are affected.</span></span>
* <span data-ttu-id="f2a11-221">검색한 날 및 이전 7일 동안 이 작업에 대한 평균 응답 시간 및 90 백분위수 응답</span><span class="sxs-lookup"><span data-stu-id="f2a11-221">Average response time and 90th percentile response time for this operation on the day of the detection and 7 days before.</span></span> 
* <span data-ttu-id="f2a11-222">검색한 날 및 이전 7일 동안 이 작업 요청의 수</span><span class="sxs-lookup"><span data-stu-id="f2a11-222">Count of this operation requests on the day of the detection and 7 days before.</span></span>
* <span data-ttu-id="f2a11-223">이 작업의 성능 저하 및 관련 종속성의 성능 저하 간 상관 관계</span><span class="sxs-lookup"><span data-stu-id="f2a11-223">Correlation between degradation in this operation and degradations in related dependencies.</span></span> 
* <span data-ttu-id="f2a11-224">문제를 진단하는 데 도움이 되는 링크</span><span class="sxs-lookup"><span data-stu-id="f2a11-224">Links to help you diagnose the problem.</span></span>
  * <span data-ttu-id="f2a11-225">작업 시간이 소요된 위치를 파악하는 데 도움이 되는 프로파일러 추적(검색 기간 동안 이 작업에 대해 프로파일러 추적 예제가 수집된 경우 해당 링크를 사용할 수 있음)</span><span class="sxs-lookup"><span data-stu-id="f2a11-225">Profiler traces to help you view where operation time is spent (the link is available if Profiler trace examples were collected for this operation during the detection period).</span></span> 
  * <span data-ttu-id="f2a11-226">이 작업에 대한 시간 범위/필터를 분석 및 분할할 수 있는 메트릭 탐색기의 성능 보고서</span><span class="sxs-lookup"><span data-stu-id="f2a11-226">Performance reports in Metric Explorer, where you can slice and dice time range/filters for this operation.</span></span>
  * <span data-ttu-id="f2a11-227">이 호출을 검색하여 특정 호출 속성을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-227">Search for this calls to view specific calls properties.</span></span>
  * <span data-ttu-id="f2a11-228">오류 보고 - 오류 수가 1보다 크면 성능 저하에 기여했을 수 있는 작업 실패가 발생한 것입니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-228">Failure reports - If count > 1 this mean that there were failures in this operation that might have contributed to performance degradation.</span></span>

## <a name="dependency-duration-degradation"></a><span data-ttu-id="f2a11-229">종속성 기간 저하</span><span class="sxs-lookup"><span data-stu-id="f2a11-229">Dependency Duration Degradation</span></span>

<span data-ttu-id="f2a11-230">최신 응용 프로그램이 점점 더 많이 마이크로 서비스 디자인 방식을 채택하게 되면서 외부 서비스에 과도하게 의존하는 경우가 많아지고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-230">Modern application more and more adopt micro services design approach, which in many cases leads to heavy reliability on external services.</span></span> <span data-ttu-id="f2a11-231">예를 들어 응용 프로그램이 일부 데이터 플랫폼에 의존하거나 직접 bot 서비스를 구축하는 경우에도, 일부 Cognitive Services 공급자에 릴레이하여 bot이 좀 더 인간적인 방식으로 상호 작용하도록 설정하고, 일부 데이터 저장소 서비스에 릴레이하여 bot이 답변을 끌어오도록 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-231">For example, if your application relies on some data platform or even if you build your own bot service you will probably relay on some cognitive services provider to enable your bots to interact in more human ways and some data store service for bot to pull the answers from.</span></span>  

<span data-ttu-id="f2a11-232">예제 종속성 성능 저하 알림:</span><span class="sxs-lookup"><span data-stu-id="f2a11-232">Example dependency degradation notification:</span></span>

![다음은 종속성 기간 저하 검색 예제입니다.](./media/app-insights-proactive-diagnostics/dependency_duration_degradation.png)

<span data-ttu-id="f2a11-234">여기서 알 수 있는 정보:</span><span class="sxs-lookup"><span data-stu-id="f2a11-234">Notice that it tells you:</span></span>

* <span data-ttu-id="f2a11-235">이 작업에 대해 정상적인 응답 시간과 비교한 기간</span><span class="sxs-lookup"><span data-stu-id="f2a11-235">The duration compared to normal response time for this operation</span></span>
* <span data-ttu-id="f2a11-236">영향을 받은 사용자 수</span><span class="sxs-lookup"><span data-stu-id="f2a11-236">How many users are affected</span></span>
* <span data-ttu-id="f2a11-237">검색한 날 및 이전 7일 동안 이 종속성의 평균 기간 및 90 백분위수 기간</span><span class="sxs-lookup"><span data-stu-id="f2a11-237">Average duration and 90th percentile duration for this dependency on the day of the detection and 7 days before</span></span>
* <span data-ttu-id="f2a11-238">검색한 날 및 이전 7일 동안의 종속성 호출 수</span><span class="sxs-lookup"><span data-stu-id="f2a11-238">Number of dependency calls on the day of the detection and 7 days before</span></span>
* <span data-ttu-id="f2a11-239">문제를 진단하는 데 도움이 되는 링크</span><span class="sxs-lookup"><span data-stu-id="f2a11-239">Links to help you diagnose the problem</span></span>
  * <span data-ttu-id="f2a11-240">이 종속성에 대한 메트릭 탐색기의 성능 보고서</span><span class="sxs-lookup"><span data-stu-id="f2a11-240">Performance reports in Metric Explorer for this dependency</span></span>
  * <span data-ttu-id="f2a11-241">이 종속성 호출을 검색하여 호출 속성 확인</span><span class="sxs-lookup"><span data-stu-id="f2a11-241">Search for this dependency calls to view calls properties</span></span>
  * <span data-ttu-id="f2a11-242">오류 보고 – 오류 수가 1보다 크면 검색 기간 동안 기간 장기화에 기여했을 수 있는 종속성 호출 실패가 발생한 것입니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-242">Failure reports - If count > 1 this mean that there were failed dependency calls during the detection period that might have contributed to duration degradation.</span></span> 
  * <span data-ttu-id="f2a11-243">이 종속성 기간 및 수를 계산하는 쿼리를 사용하여 분석 열기</span><span class="sxs-lookup"><span data-stu-id="f2a11-243">Open Analytics with queries that calculate this dependency duration and count</span></span>  

## <a name="smart-detection-of-slow-performing-patterns"></a><span data-ttu-id="f2a11-244">느린 성능 패턴에 대한 스마트 검색</span><span class="sxs-lookup"><span data-stu-id="f2a11-244">Smart Detection of slow performing patterns</span></span> 

<span data-ttu-id="f2a11-245">Application Insights는 일부 사용자에게만 영향을 주거나 일부 경우에만 사용자에 영향을 주는 성능 문제를 찾습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-245">Application Insights finds performance issues that might only affect some portion of your users, or only affect users in some cases.</span></span> <span data-ttu-id="f2a11-246">예를 들어 페이지가 어느 한 유형의 브라우저에서 다른 유형의 브라우저보다 훨씬 더 느리게 로드되거나 요청이 특정 서버에서 훨씬 더 느리게 처리되는 경우에 대한 알림이 제공될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-246">For example, notification about pages load is slowler on one type of browser than on other types of browsers, or if requests are served more slowly from a particular server.</span></span> <span data-ttu-id="f2a11-247">또한 특정 운영 체제를 사용하는 클라이언트에 대해 특정 지리적 영역의 느린 페이지 로드와 같은 속성의 조합과 관련된 문제를 검색할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-247">It can also discover problems associated with combinations of properties, such as slow page loads in one geographical area for clients using particular operating system.</span></span>  

<span data-ttu-id="f2a11-248">이러한 이상 상태는 데이터를 검사하여 바로 검색하기가 매우 어렵지만 생각보다 훨씬 일반적입니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-248">Anomalies like these are very hard to detect just by inspecting the data, but are more common than you might think.</span></span> <span data-ttu-id="f2a11-249">고객이 불만을 제기할 때에만 알 수 있는 경우가 종종 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-249">Often they only surface when your customers complain.</span></span> <span data-ttu-id="f2a11-250">그때는 너무 늦은 것입니다. 영향을 받은 사용자는 이미 경쟁 제품을 사용하게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-250">By that time, it’s too late: the affected users are already switching to your competitors!</span></span>

<span data-ttu-id="f2a11-251">현재 당사 알고리즘은 페이지 로드 시간, 서버에서의 요청 응답 시간 및 종속성 응답 시간을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-251">Currently, our algorithms look at page load times, request response times at the server, and dependency response times.</span></span>  

<span data-ttu-id="f2a11-252">임계값을 설정하거나 규칙을 구성할 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-252">You don't have to set any thresholds or configure rules.</span></span> <span data-ttu-id="f2a11-253">기계 학습 및 데이터 마이닝 알고리즘이 비정상적인 패턴을 검색하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-253">Machine learning and data mining algorithms are used to detect abnormal patterns.</span></span>

![Azure에서 전자 메일 경고의 진단 보고서를 열려면 해당 링크를 클릭합니다.](./media/app-insights-proactive-performance-diagnostics/03.png)

* <span data-ttu-id="f2a11-255">**When(시간)** 에는 문제가 감지된 시간이 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-255">**When** shows the time the issue was detected.</span></span>
* <span data-ttu-id="f2a11-256">**What(내용)**에는 다음 설명이 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-256">**What** describes:</span></span>

  * <span data-ttu-id="f2a11-257">감지된 문제</span><span class="sxs-lookup"><span data-stu-id="f2a11-257">The problem that was detected;</span></span>
  * <span data-ttu-id="f2a11-258">문제가 되는 동작을 표시하는 이벤트의 특징</span><span class="sxs-lookup"><span data-stu-id="f2a11-258">The characteristics of the set of events that we found displayed the problem behavior.</span></span>
* <span data-ttu-id="f2a11-259">테이블은 성능이 낮은 집합을 다른 모든 이벤트의 평균적인 동작과 비교합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-259">The table compares the poorly-performing set with the average behavior of all other events.</span></span>

<span data-ttu-id="f2a11-260">링크를 클릭하여 메트릭 탐색기를 열고 느리게 수행되는 집합의 시간 및 속성으로 필터링된 적적할 보고서를 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-260">Click the links to open Metric Explorer and Search on relevant reports, filtered on the time and properties of the slow performing set.</span></span>

<span data-ttu-id="f2a11-261">시간 범위와 원격 분석을 탐색하는 필터를 수정합니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-261">Modify the time range and filters to explore the telemetry.</span></span>

## <a name="next-steps"></a><span data-ttu-id="f2a11-262">다음 단계</span><span class="sxs-lookup"><span data-stu-id="f2a11-262">Next steps</span></span>
<span data-ttu-id="f2a11-263">이러한 진단 도구를 사용하면 앱에서 원격 분석을 검사할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-263">These diagnostic tools help you inspect the telemetry from your app:</span></span>

* [<span data-ttu-id="f2a11-264">프로파일러</span><span class="sxs-lookup"><span data-stu-id="f2a11-264">Profiler</span></span>](app-insights-profiler.md) 
* [<span data-ttu-id="f2a11-265">스냅숏 디버거</span><span class="sxs-lookup"><span data-stu-id="f2a11-265">Snapshot debugger</span></span>](app-insights-snapshot-debugger.md)
* [<span data-ttu-id="f2a11-266">분석</span><span class="sxs-lookup"><span data-stu-id="f2a11-266">Analytics</span></span>](app-insights-analytics-tour.md)
* [<span data-ttu-id="f2a11-267">분석 스마트 진단</span><span class="sxs-lookup"><span data-stu-id="f2a11-267">Analytics smart diagnostics</span></span>](app-insights-analytics-diagnostics.md)

<span data-ttu-id="f2a11-268">스마트 감지는 완전히 자동으로 수행됩니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-268">Smart detections are completely automatic.</span></span> <span data-ttu-id="f2a11-269">하지만 보다 많은 경고를 설정하고 싶을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f2a11-269">But maybe you'd like to set up some more alerts?</span></span>

* [<span data-ttu-id="f2a11-270">수동으로 구성된 메트릭 경고</span><span class="sxs-lookup"><span data-stu-id="f2a11-270">Manually configured metric alerts</span></span>](app-insights-alerts.md)
* [<span data-ttu-id="f2a11-271">가용성 웹 테스트</span><span class="sxs-lookup"><span data-stu-id="f2a11-271">Availability web tests</span></span>](app-insights-monitor-web-app-availability.md)
