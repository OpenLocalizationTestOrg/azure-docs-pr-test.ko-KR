---
title: "응용 프로그램 Insights 원격 분석 상관 관계 aaaAzure | Microsoft Docs"
description: "Application Insights 원격 분석 상관 관계"
services: application-insights
documentationcenter: .net
author: SergeyKanzhelev
manager: carmonm
ms.service: application-insights
ms.workload: TBD
ms.tgt_pltfrm: ibiza
ms.devlang: multiple
ms.topic: article
ms.date: 04/25/2017
ms.author: bwren
ms.openlocfilehash: 3ed8c589d237cac5daceac939ca893b7d81a2967
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="telemetry-correlation-in-application-insights"></a><span data-ttu-id="07eed-103">Application Insights의 원격 분석 상관 관계</span><span class="sxs-lookup"><span data-stu-id="07eed-103">Telemetry correlation in Application Insights</span></span>

<span data-ttu-id="07eed-104">마이크로 서비스의 hello world, 모든 논리 작업에는 hello 서비스의 다양 한 구성 요소에서 작업을 수행 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-104">In hello world of micro services, every logical operation requires work done in various components of hello service.</span></span> <span data-ttu-id="07eed-105">이러한 각 구성 요소는 [Application Insights](app-insights-overview.md)에서 개별적으로 모니터링할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-105">Each of these components can be separately monitored by [Application Insights](app-insights-overview.md).</span></span> <span data-ttu-id="07eed-106">hello 웹 응용 프로그램 구성 요소에는 시각화에 대 한 hello API 구성 요소 tooget 데이터 및 인증 공급자 구성 요소 toovalidate 사용자 자격 증명을와 통신 합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-106">hello web app component communicates with authentication provider component toovalidate user credentials, and with hello API component tooget data for visualization.</span></span> <span data-ttu-id="07eed-107">차례로 hello API 구성 요소 캐시 공급자 구성 요소를 사용 및 알림 hello 청구 구성 요소에서이 통화에 대 한 다른 서비스에서 데이터를 쿼리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-107">hello API component in its turn can query data from other services and use cache-provider components and notify hello billing component about this call.</span></span> <span data-ttu-id="07eed-108">Application Insights는 분산 원격 분석 상관 관계를 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-108">Application Insights supports distributed telemetry correlation.</span></span> <span data-ttu-id="07eed-109">어떤 구성 요소는 성능 저하 또는 실패에 대 한 toodetect이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-109">It allows you toodetect which component is responsible for failures or performance degradation.</span></span>

<span data-ttu-id="07eed-110">이 문서는 여러 구성 요소에서 보낸 Application Insights toocorrelate 원격 분석에서 사용 하는 hello 데이터 모델을 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-110">This article explains hello data model used by Application Insights toocorrelate telemetry sent by multiple components.</span></span> <span data-ttu-id="07eed-111">Hello 컨텍스트 전파 기술 및 프로토콜을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-111">It covers hello context propagation techniques and protocols.</span></span> <span data-ttu-id="07eed-112">또한 hello 구현을 서로 다른 언어 및 플랫폼에 hello 상관 관계 개념을 다룹니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-112">It also covers hello implementation of hello correlation concepts on different languages and platforms.</span></span>

## <a name="telemetry-correlation-data-model"></a><span data-ttu-id="07eed-113">원격 분석 상관 관계 데이터 모델</span><span class="sxs-lookup"><span data-stu-id="07eed-113">Telemetry correlation data model</span></span>

<span data-ttu-id="07eed-114">Application Insights는 분산 원격 분석 상관 관계에 대한 [데이터 모델](application-insights-data-model.md)을 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-114">Application Insights defines a [data model](application-insights-data-model.md) for distributed telemetry correlation.</span></span> <span data-ttu-id="07eed-115">원격 분석 tooassociate hello 논리 작업과 모든 원격 분석 항목에 라는 컨텍스트 필드가 `operation_Id`합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-115">tooassociate telemetry with hello logical operation, every telemetry item has a context field called `operation_Id`.</span></span> <span data-ttu-id="07eed-116">이 식별자는 분산 hello 추적에서 모든 원격 분석 항목에서 공유 됩니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-116">This identifier is shared by every telemetry item in hello distributed trace.</span></span> <span data-ttu-id="07eed-117">따라서 단일 계층에서 원격 분석이 손실되더라도 다른 구성 요소에서 보고한 원격 분석을 연결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-117">So even with loss of telemetry from a single layer you still can associate telemetry reported by other components.</span></span>

<span data-ttu-id="07eed-118">분산된 논리 연산 집합 더 작은 작업-hello 구성 요소 중 하나에서 처리 요청을 일반적으로 구성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-118">Distributed logical operation typically consists of a set of smaller operations - requests processed by one of hello components.</span></span> <span data-ttu-id="07eed-119">이러한 작업은 [요청 원격 분석](application-insights-data-model-request-telemetry.md)을 통해 정의됩니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-119">Those operations are defined by [request telemetry](application-insights-data-model-request-telemetry.md).</span></span> <span data-ttu-id="07eed-120">모든 요청 원격 분석에는 전체적으로 고유하게 식별되는 자체 `id`가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-120">Every request telemetry has its own `id` that uniquely globally identifies it.</span></span> <span data-ttu-id="07eed-121">모든 원격 분석-추적, 예외 등이 요청과 관련 된 hello 설정할 `operation_parentId` toohello 요청 값의 hello `id`합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-121">And all telemetry - traces, exceptions, etc. associated with this request should set hello `operation_parentId` toohello value of hello request `id`.</span></span>

<span data-ttu-id="07eed-122">모든 송신 작업 예: http 호출 tooanother 구성 요소를 나타내는 [종속성 원격 분석](application-insights-data-model-dependency-telemetry.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-122">Every outgoing operation like http call tooanother component represented by [dependency telemetry](application-insights-data-model-dependency-telemetry.md).</span></span> <span data-ttu-id="07eed-123">종속성 원격 분석은 전체적으로 고유한 자체 `id`도 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-123">Dependency telemetry also defines its own `id` that is globally unique.</span></span> <span data-ttu-id="07eed-124">이 종속성 호출을 통해 시작된 요청 원격 분석은 이를 `operation_parentId`로 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-124">Request telemetry, initiated by this dependency call, uses it as `operation_parentId`.</span></span>

<span data-ttu-id="07eed-125">Hello 보기의 분산된 논리 연산을 사용 하 여 빌드할 수 `operation_Id`, `operation_parentId`, 및 `request.id` 와 `dependency.id`합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-125">You can build hello view of distributed logical operation using `operation_Id`, `operation_parentId`, and `request.id` with `dependency.id`.</span></span> <span data-ttu-id="07eed-126">이러한 필드는 또한 원격 분석 호출 hello 인과 관계 순서를 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-126">Those fields also define hello causality order of telemetry calls.</span></span>

<span data-ttu-id="07eed-127">마이크로 서비스 환경에서 구성 요소에서 추적 toohello 다른 저장소를 진행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-127">In micro services environment, traces from components may go toohello different storages.</span></span> <span data-ttu-id="07eed-128">모든 구성 요소는 Application Insights에 자체 계측 키가 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-128">Every component may have its own instrumentation key in Application Insights.</span></span> <span data-ttu-id="07eed-129">원격 분석 tooget hello 논리 연산에 대 한 모든 저장소 tooquery 데이터가 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-129">tooget telemetry for hello logical operation, you need tooquery data from every storage.</span></span> <span data-ttu-id="07eed-130">위치에서 toohave 힌트가 필요한 수의 저장소 이면 거 대 한 toolook 다음 합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-130">When number of storages is huge, you need toohave a hint on where toolook next.</span></span>

<span data-ttu-id="07eed-131">Application Insights 데이터 모델 두 개를 정의 합니다.이 문제를 toosolve 필드: `request.source` 및 `dependency.target`합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-131">Application Insights data model defines two fields toosolve this problem: `request.source` and `dependency.target`.</span></span> <span data-ttu-id="07eed-132">첫 번째 필드에 hello hello 종속성 요청을 시작한 hello 구성 요소를 식별 하 고 hello에는 두 번째 hello 종속성 호출의 hello 응답이 반환 되었습니다. 구성 요소를 식별 합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-132">hello first field identifies hello component that initiated hello dependency request, and hello second identifies which component returned hello response of hello dependency call.</span></span>


## <a name="example"></a><span data-ttu-id="07eed-133">예제</span><span class="sxs-lookup"><span data-stu-id="07eed-133">Example</span></span>

<span data-ttu-id="07eed-134">Hello 현재 시장 가격 주식 API를 호출 하는 hello 외부 API를 사용 하는 주가 표시 하는 응용 프로그램 주식 가격의 예를 들어를 보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-134">Let's take an example of an application STOCK PRICES showing hello current market price of a stock using hello external API called STOCKS API.</span></span> <span data-ttu-id="07eed-135">hello 주식 가격 응용 프로그램에는 페이지가 `Stock page` hello 클라이언트 웹 브라우저를 사용 하 여 열린 `GET /Home/Stock`합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-135">hello STOCK PRICES application has a page `Stock page` opened by hello client web browser using `GET /Home/Stock`.</span></span> <span data-ttu-id="07eed-136">hello 응용 프로그램 쿼리 HTTP 호출을 사용 하 여 재고 API hello `GET /api/stock/value`합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-136">hello application queries hello STOCK API by using an HTTP call `GET /api/stock/value`.</span></span>

<span data-ttu-id="07eed-137">쿼리를 실행하여 결과 원격 분석을 분석할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-137">You can analyze resulting telemetry running a query:</span></span>

```
(requests | union dependencies | union pageViews) 
| where operation_Id == "STYz"
| project timestamp, itemType, name, id, operation_ParentId, operation_Id
```

<span data-ttu-id="07eed-138">모든 원격 분석 항목 hello 루트를 공유 하는 hello 결과 보기 note에서 `operation_Id`합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-138">In hello result view note that all telemetry items share hello root `operation_Id`.</span></span> <span data-ttu-id="07eed-139">Hello 페이지-새로운 고유 id에서에서 만든 ajax 호출 하는 경우 `qJSXU` 할당된 toohello 종속성 원격 분석은 및 페이지 보기의 id로 사용 됩니다 `operation_ParentId`합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-139">When ajax call made from hello page - new unique id `qJSXU` is assigned toohello dependency telemetry and pageView's id is used as `operation_ParentId`.</span></span> <span data-ttu-id="07eed-140">따라서 서버 요청은 Ajax의 ID를 `operation_ParentId`로 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-140">In turn server request uses ajax's id as `operation_ParentId`, etc.</span></span>

| <span data-ttu-id="07eed-141">itemType</span><span class="sxs-lookup"><span data-stu-id="07eed-141">itemType</span></span>   | <span data-ttu-id="07eed-142">name</span><span class="sxs-lookup"><span data-stu-id="07eed-142">name</span></span>                      | <span data-ttu-id="07eed-143">id</span><span class="sxs-lookup"><span data-stu-id="07eed-143">id</span></span>           | <span data-ttu-id="07eed-144">operation_ParentId</span><span class="sxs-lookup"><span data-stu-id="07eed-144">operation_ParentId</span></span> | <span data-ttu-id="07eed-145">operation_Id</span><span class="sxs-lookup"><span data-stu-id="07eed-145">operation_Id</span></span> |
|------------|---------------------------|--------------|--------------------|--------------|
| <span data-ttu-id="07eed-146">pageView</span><span class="sxs-lookup"><span data-stu-id="07eed-146">pageView</span></span>   | <span data-ttu-id="07eed-147">Stock page</span><span class="sxs-lookup"><span data-stu-id="07eed-147">Stock page</span></span>                |              | <span data-ttu-id="07eed-148">STYz</span><span class="sxs-lookup"><span data-stu-id="07eed-148">STYz</span></span>               | <span data-ttu-id="07eed-149">STYz</span><span class="sxs-lookup"><span data-stu-id="07eed-149">STYz</span></span>         |
| <span data-ttu-id="07eed-150">dependency</span><span class="sxs-lookup"><span data-stu-id="07eed-150">dependency</span></span> | <span data-ttu-id="07eed-151">GET /Home/Stock</span><span class="sxs-lookup"><span data-stu-id="07eed-151">GET /Home/Stock</span></span>           | <span data-ttu-id="07eed-152">qJSXU</span><span class="sxs-lookup"><span data-stu-id="07eed-152">qJSXU</span></span>        | <span data-ttu-id="07eed-153">STYz</span><span class="sxs-lookup"><span data-stu-id="07eed-153">STYz</span></span>               | <span data-ttu-id="07eed-154">STYz</span><span class="sxs-lookup"><span data-stu-id="07eed-154">STYz</span></span>         |
| <span data-ttu-id="07eed-155">request</span><span class="sxs-lookup"><span data-stu-id="07eed-155">request</span></span>    | <span data-ttu-id="07eed-156">GET Home/Stock</span><span class="sxs-lookup"><span data-stu-id="07eed-156">GET Home/Stock</span></span>            | <span data-ttu-id="07eed-157">KqKwlrSt9PA=</span><span class="sxs-lookup"><span data-stu-id="07eed-157">KqKwlrSt9PA=</span></span> | <span data-ttu-id="07eed-158">qJSXU</span><span class="sxs-lookup"><span data-stu-id="07eed-158">qJSXU</span></span>              | <span data-ttu-id="07eed-159">STYz</span><span class="sxs-lookup"><span data-stu-id="07eed-159">STYz</span></span>         |
| <span data-ttu-id="07eed-160">dependency</span><span class="sxs-lookup"><span data-stu-id="07eed-160">dependency</span></span> | <span data-ttu-id="07eed-161">GET /api/stock/value</span><span class="sxs-lookup"><span data-stu-id="07eed-161">GET /api/stock/value</span></span>      | <span data-ttu-id="07eed-162">bBrf2L7mm2g=</span><span class="sxs-lookup"><span data-stu-id="07eed-162">bBrf2L7mm2g=</span></span> | <span data-ttu-id="07eed-163">KqKwlrSt9PA=</span><span class="sxs-lookup"><span data-stu-id="07eed-163">KqKwlrSt9PA=</span></span>       | <span data-ttu-id="07eed-164">STYz</span><span class="sxs-lookup"><span data-stu-id="07eed-164">STYz</span></span>         |

<span data-ttu-id="07eed-165">이제 호출 때 hello `GET /api/stock/value` 해당 서버의 tooknow hello id 원하는 tooan 외부 서비스를 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-165">Now when hello call `GET /api/stock/value` made tooan external service you want tooknow hello identity of that server.</span></span> <span data-ttu-id="07eed-166">따라서 `dependency.target` 필드를 적절하게 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-166">So you can set `dependency.target` field appropriately.</span></span> <span data-ttu-id="07eed-167">Hello 외부 서비스-모니터링을 지원 하지 않을 때 `target` 같은 hello 서비스의 호스트 이름을 toohello 설정 되어 `stock-prices-api.com`합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-167">When hello external service does not support monitoring - `target` is set toohello host name of hello service like `stock-prices-api.com`.</span></span> <span data-ttu-id="07eed-168">그러나 해당 서비스는 미리 정의 된 반환 하 여 자신을 식별 하는 경우 HTTP 헤더- `target` 해당 서비스의 원격 분석을 쿼리하여 Application Insights distributed toobuild 추적을 허용 하는 hello 서비스 id를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-168">However if that service identifies itself by returning a predefined HTTP header - `target` contains hello service identity that allows Application Insights toobuild distributed trace by querying telemetry from that service.</span></span> 

## <a name="correlation-headers"></a><span data-ttu-id="07eed-169">상관 관계 헤더</span><span class="sxs-lookup"><span data-stu-id="07eed-169">Correlation headers</span></span>

<span data-ttu-id="07eed-170">Hello에 대 한 RFC 제안 작업 [HTTP 프로토콜 상관 관계](https://github.com/lmolkova/correlation/blob/master/http_protocol_proposal_v1.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-170">We are working on RFC proposal for hello [correlation HTTP protocol](https://github.com/lmolkova/correlation/blob/master/http_protocol_proposal_v1.md).</span></span> <span data-ttu-id="07eed-171">이 제안은 다음 두 가지 헤더를 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-171">This proposal defines two headers:</span></span>

- <span data-ttu-id="07eed-172">`Request-Id`hello 호출의 hello 전역적으로 고유 id를 전달 합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-172">`Request-Id` carry hello globally unique id of hello call</span></span>
- <span data-ttu-id="07eed-173">`Correlation-Context`-hello distributed hello 추적 속성의 이름 값 쌍 컬렉션을 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-173">`Correlation-Context` - carry hello name value pairs collection of hello distributed trace properties</span></span>

<span data-ttu-id="07eed-174">hello 표준의 두 개의 스키마 정의 `Request-Id` 세대-플랫 및 계층적입니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-174">hello standard also defines two schemas of `Request-Id` generation - flat and hierarchical.</span></span> <span data-ttu-id="07eed-175">Hello 플랫 스키마는 잘 알려진 `Id` hello에 대해 정의 된 키 `Correlation-Context` 컬렉션입니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-175">With hello flat schema, there is a well-known `Id` key defined for hello `Correlation-Context` collection.</span></span>

<span data-ttu-id="07eed-176">Application Insights 정의 hello [확장](https://github.com/lmolkova/correlation/blob/master/http_protocol_proposal_v2.md) hello 상관 관계 HTTP 프로토콜에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-176">Application Insights defines hello [extension](https://github.com/lmolkova/correlation/blob/master/http_protocol_proposal_v2.md) for hello correlation HTTP protocol.</span></span> <span data-ttu-id="07eed-177">사용 하 여 `Request-Context` toopropagate hello 컬렉션 hello 직접 실행 호출자 또는 호출 수신자에 의해 사용 되는 속성의 이름-값 쌍입니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-177">It uses `Request-Context` name value pairs toopropagate hello collection of properties used by hello immediate caller or callee.</span></span> <span data-ttu-id="07eed-178">Application Insights SDK 사용이 헤더 tooset `dependency.target` 및 `request.source` 필드입니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-178">Application Insights SDK uses this header tooset `dependency.target` and `request.source` fields.</span></span>

## <a name="open-tracing-and-application-insights"></a><span data-ttu-id="07eed-179">Open Tracing 및 Application Insights</span><span class="sxs-lookup"><span data-stu-id="07eed-179">Open tracing and Application Insights</span></span>

<span data-ttu-id="07eed-180">[Open Tracing](http://opentracing.io/) 및 Application Insights 데이터 모델은 다음과 같이 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-180">[Open Tracing](http://opentracing.io/) and Application Insights data models looks</span></span> 

- <span data-ttu-id="07eed-181">`request``pageView` 너무 매핑합니다**범위** 와`span.kind = server`</span><span class="sxs-lookup"><span data-stu-id="07eed-181">`request`, `pageView` maps too**Span** with `span.kind = server`</span></span>
- <span data-ttu-id="07eed-182">`dependency`너무 매핑합니다**범위** 와`span.kind = client`</span><span class="sxs-lookup"><span data-stu-id="07eed-182">`dependency` maps too**Span** with `span.kind = client`</span></span>
- <span data-ttu-id="07eed-183">`id``request` 및 `dependency` 너무 매핑합니다**Span.Id**</span><span class="sxs-lookup"><span data-stu-id="07eed-183">`id` of a `request` and `dependency` maps too**Span.Id**</span></span>
- <span data-ttu-id="07eed-184">`operation_Id`너무 매핑합니다**traceid가**</span><span class="sxs-lookup"><span data-stu-id="07eed-184">`operation_Id` maps too**TraceId**</span></span>
- <span data-ttu-id="07eed-185">`operation_ParentId`너무 매핑합니다**참조** 형식의`ChileOf`</span><span class="sxs-lookup"><span data-stu-id="07eed-185">`operation_ParentId` maps too**Reference** of type `ChileOf`</span></span>

<span data-ttu-id="07eed-186">Application Insights 형식 및 데이터 모델에 대한 자세한 내용은 [데이터 모델](application-insights-data-model.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="07eed-186">See [data model](application-insights-data-model.md) for Application Insights types and data model.</span></span>

<span data-ttu-id="07eed-187">Open Tracing 개념의 정의는 [specification](https://github.com/opentracing/specification/blob/master/specification.md)(사양) 및 [semantic_conventions](https://github.com/opentracing/specification/blob/master/semantic_conventions.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="07eed-187">See [specification](https://github.com/opentracing/specification/blob/master/specification.md) and [semantic_conventions](https://github.com/opentracing/specification/blob/master/semantic_conventions.md) for definitions of Open Tracing concepts.</span></span>


## <a name="telemetry-correlation-in-net"></a><span data-ttu-id="07eed-188">.NET의 원격 분석 상관 관계</span><span class="sxs-lookup"><span data-stu-id="07eed-188">Telemetry correlation in .NET</span></span>

<span data-ttu-id="07eed-189">시간이 지남에 따라.NET 정의 다양 한 방법으로 toocorrelate 원격 분석 및 진단 로그 합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-189">Over time .NET defined number of ways toocorrelate telemetry and diagnostics logs.</span></span> <span data-ttu-id="07eed-190">`System.Diagnostics.CorrelationManager` tootrack 허용 [LogicalOperationStack 및 ActivityId](https://msdn.microsoft.com/library/system.diagnostics.correlationmanager.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-190">There is `System.Diagnostics.CorrelationManager` allowing tootrack [LogicalOperationStack and ActivityId](https://msdn.microsoft.com/library/system.diagnostics.correlationmanager.aspx).</span></span> <span data-ttu-id="07eed-191">`System.Diagnostics.Tracing.EventSource`ETW Windows hello 메서드를 정의 하 고 [SetCurrentThreadActivityId](https://msdn.microsoft.com/library/system.diagnostics.tracing.eventsource.setcurrentthreadactivityid.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-191">`System.Diagnostics.Tracing.EventSource` and Windows ETW define hello method [SetCurrentThreadActivityId](https://msdn.microsoft.com/library/system.diagnostics.tracing.eventsource.setcurrentthreadactivityid.aspx).</span></span> <span data-ttu-id="07eed-192">`ILogger`는 [Log Scopes](https://docs.microsoft.com/aspnet/core/fundamentals/logging#log-scopes)(로그 범위)를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-192">`ILogger` uses [Log Scopes](https://docs.microsoft.com/aspnet/core/fundamentals/logging#log-scopes).</span></span> <span data-ttu-id="07eed-193">WCF 및 HTTP는 "현재" 컨텍스트 전파를 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-193">WCF and Http wire up "current" context propagation.</span></span>

<span data-ttu-id="07eed-194">하지만 해당 메서드는 자동 분산 추적 지원을 사용하지 않았습니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-194">However those methods didn't enable automatic distributed tracing support.</span></span> <span data-ttu-id="07eed-195">`DiagnosticsSource`컴퓨터 상관 관계 교차 자동 방식으로 toosupport 수행 됩니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-195">`DiagnosticsSource` is a way toosupport automatic cross machine correlation.</span></span> <span data-ttu-id="07eed-196">.NET 라이브러리는 진단 소스를 지원 하 고 http 같은 hello 전송을 통해 hello 상관 관계 컨텍스트의 자동 컴퓨터 간 전파를 허용 합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-196">.NET libraries support Diagnostics Source and allow automatic cross machine propagation of hello correlation context via hello transport like http.</span></span>

<span data-ttu-id="07eed-197">hello [tooActivities 안내](https://github.com/dotnet/corefx/blob/master/src/System.Diagnostics.DiagnosticSource/src/ActivityUserGuide.md) 진단 소스 활동 추적의 hello 기본 사항을 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-197">hello [guide tooActivities](https://github.com/dotnet/corefx/blob/master/src/System.Diagnostics.DiagnosticSource/src/ActivityUserGuide.md) in Diagnostics Source explains hello basics of tracking Activities.</span></span> 

<span data-ttu-id="07eed-198">새 활동 hello 시작 및 ASP.NET 코어 2.0 지원 Http 헤더를 추출 합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-198">ASP.NET Core 2.0 supports extraction of Http Headers and starting hello new Activity.</span></span> 

<span data-ttu-id="07eed-199">`System.Net.HttpClient`시작 버전 `<fill in>` hello 상관 관계 Http 헤더 및 활동으로 hello http 호출 추적의 자동 삽입을 지원 합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-199">`System.Net.HttpClient` starting version `<fill in>` supports automatic injection of hello correlation Http Headers and tracking hello http call as an Activity.</span></span>

<span data-ttu-id="07eed-200">새 Http 모듈 [Microsoft.AspNet.TelemetryCorrelation](https://www.nuget.org/packages/Microsoft.AspNet.TelemetryCorrelation/) ASP.NET 클래식 hello에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-200">There is a new Http Module [Microsoft.AspNet.TelemetryCorrelation](https://www.nuget.org/packages/Microsoft.AspNet.TelemetryCorrelation/) for hello ASP.NET Classic.</span></span> <span data-ttu-id="07eed-201">이 모듈은 DiagnosticsSource를 사용하여 원격 분석 상관 관계를 구현합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-201">This module implements telemetry correlation using DiagnosticsSource.</span></span> <span data-ttu-id="07eed-202">들어오는 요청 헤더를 기반으로 활동을 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-202">It starts activity based on incoming request headers.</span></span> <span data-ttu-id="07eed-203">또한 hello 요청 처리의 여러 단계에서 원격 분석을 연관 시킵니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-203">It also correlates telemetry from hello different stages of request processing.</span></span> <span data-ttu-id="07eed-204">Hello 경우 IIS 처리의 모든 단계는 다른 관리 스레드에서 실행 될 때에</span><span class="sxs-lookup"><span data-stu-id="07eed-204">Even for hello cases when every stage of IIS processing runs on a different manage threads.</span></span>

<span data-ttu-id="07eed-205">응용 프로그램 Insights SDK 시작 버전 `2.4.0-beta1` DiagnosticsSource 및 활동 toocollect 원격 분석을 사용 하 고 hello 현재 활동에 연결 합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-205">Application Insights SDK starting version `2.4.0-beta1` uses DiagnosticsSource and Activity toocollect telemetry and associate it with hello current activity.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="07eed-206">다음 단계</span><span class="sxs-lookup"><span data-stu-id="07eed-206">Next steps</span></span>

- <span data-ttu-id="07eed-207">[사용자 지정 원격 분석을 작성합니다](app-insights-api-custom-events-metrics.md).</span><span class="sxs-lookup"><span data-stu-id="07eed-207">[Write custom telemetry](app-insights-api-custom-events-metrics.md)</span></span>
- <span data-ttu-id="07eed-208">Application Insights에서 마이크로 서비스의 모든 구성 요소를 등록합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-208">Onboard all components of your micro service on Application Insights.</span></span> <span data-ttu-id="07eed-209">[지원되는 플랫폼](app-insights-platforms.md)을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-209">Check out [supported platforms](app-insights-platforms.md).</span></span>
- <span data-ttu-id="07eed-210">Application Insights 형식 및 데이터 모델에 대한 자세한 내용은 [데이터 모델](application-insights-data-model.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="07eed-210">See [data model](application-insights-data-model.md) for Application Insights types and data model.</span></span>
- <span data-ttu-id="07eed-211">너무 방법에 대해 알아봅니다[확장 하 고 원격 분석 필터링](app-insights-api-filtering-sampling.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="07eed-211">Learn how too[extend and filter telemetry](app-insights-api-filtering-sampling.md).</span></span>
