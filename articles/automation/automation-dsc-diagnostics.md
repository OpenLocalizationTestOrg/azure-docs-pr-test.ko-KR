---
title: "OMS Log Analytics에 Azure Automation DSC 보고 데이터 전달 | Microsoft Docs"
description: "이 문서에서는 DSC(필요한 상태 구성) 보고 데이터를 Microsoft Operations Management Suite Log Analytics로 보내 통찰력 및 관리를 강화하는 방법을 알아봅니다."
services: automation
documentationcenter: 
author: eslesar
manager: carmonm
editor: tysonn
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/24/2017
ms.author: eslesar
ms.openlocfilehash: 316031c5297a0201c8db4a9e177298c78962c673
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/11/2017
---
# <a name="forward-azure-automation-dsc-reporting-data-to-oms-log-analytics"></a><span data-ttu-id="80fda-103">OMS Log Analytics에 Azure Automation DSC 보고 데이터 전달</span><span class="sxs-lookup"><span data-stu-id="80fda-103">Forward Azure Automation DSC reporting data to OMS Log Analytics</span></span>

<span data-ttu-id="80fda-104">Automation 기능을 통해 Microsoft OMS(Operations Management Suite) Log Analytics 작업 영역으로 DSC 노드 상태 데이터를 보낼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-104">Automation can send DSC node status data to your Microsoft Operations Management Suite (OMS) Log Analytics workspace.</span></span>  
<span data-ttu-id="80fda-105">Azure Portal에서 또는 PowerShell을 사용하여 노드 및 노드 구성의 개별 DSC 리소스에 대해 준수 상태를 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-105">Compliance status is visible in the Azure portal, or with PowerShell, for nodes and for individual DSC resources in node configurations.</span></span> <span data-ttu-id="80fda-106">Log Anaytics를 사용하여 다음을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-106">With Log Analytics you can:</span></span>

* <span data-ttu-id="80fda-107">관리되는 노드 및 개별 리소스에 대한 준수 정보 가져오기</span><span class="sxs-lookup"><span data-stu-id="80fda-107">Get compliance information for managed nodes and individual resources</span></span>
* <span data-ttu-id="80fda-108">준수 상태를 기준으로 전자 메일 또는 경고 트리거</span><span class="sxs-lookup"><span data-stu-id="80fda-108">Trigger an email or alert based on compliance status</span></span>
* <span data-ttu-id="80fda-109">관리되는 노드에서 고급 쿼리 작성</span><span class="sxs-lookup"><span data-stu-id="80fda-109">Write advanced queries across your managed nodes</span></span>
* <span data-ttu-id="80fda-110">Automation 계정에서 준수 상태 상호 연관</span><span class="sxs-lookup"><span data-stu-id="80fda-110">Correlate compliance status across Automation accounts</span></span>
* <span data-ttu-id="80fda-111">시간에 따른 노드 준수 내역 시각화</span><span class="sxs-lookup"><span data-stu-id="80fda-111">Visualize your node compliance history over time</span></span>

## <a name="prerequisites"></a><span data-ttu-id="80fda-112">필수 조건</span><span class="sxs-lookup"><span data-stu-id="80fda-112">Prerequisites</span></span>

<span data-ttu-id="80fda-113">Automation DSC 보고서를 Log Analytics로 보내려면 다음이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-113">To start sending your Automation DSC reports to Log Analytics, you need:</span></span>

* <span data-ttu-id="80fda-114">[Azure PowerShell](/powershell/azure/overview)의 2016년 11월(v2.3.0) 이후 릴리스</span><span class="sxs-lookup"><span data-stu-id="80fda-114">The November 2016 or later release of [Azure PowerShell](/powershell/azure/overview) (v2.3.0).</span></span>
* <span data-ttu-id="80fda-115">Azure 자동화 계정.</span><span class="sxs-lookup"><span data-stu-id="80fda-115">An Azure Automation account.</span></span> <span data-ttu-id="80fda-116">자세한 내용은 [Azure Automation 시작](automation-offering-get-started.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="80fda-116">For more information, see [Getting Started with Azure Automation](automation-offering-get-started.md)</span></span>
* <span data-ttu-id="80fda-117">**Automation & Control** 서비스가 제공되는 Log Analytics 작업 공간</span><span class="sxs-lookup"><span data-stu-id="80fda-117">A Log Analytics workspace with an **Automation & Control** service offering.</span></span> <span data-ttu-id="80fda-118">자세한 내용은 [Log Analytics 시작](../log-analytics/log-analytics-get-started.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="80fda-118">For more information, see [Get started with Log Analytics](../log-analytics/log-analytics-get-started.md).</span></span>
* <span data-ttu-id="80fda-119">하나 이상의 Azure Automation DSC 노드.</span><span class="sxs-lookup"><span data-stu-id="80fda-119">At least one Azure Automation DSC node.</span></span> <span data-ttu-id="80fda-120">자세한 내용은 [Azure Automation DSC를 통한 관리를 위한 컴퓨터 온보드](automation-dsc-onboarding.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="80fda-120">For more information, see [Onboarding machines for management by Azure Automation DSC](automation-dsc-onboarding.md)</span></span> 

## <a name="set-up-integration-with-log-analytics"></a><span data-ttu-id="80fda-121">Log Analytics와의 통합 설정</span><span class="sxs-lookup"><span data-stu-id="80fda-121">Set up integration with Log Analytics</span></span>

<span data-ttu-id="80fda-122">Azure Automation DSC의 데이터를 Log Analytics로 가져오려면 다음 단계를 완료합니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-122">To begin importing data from Azure Automation DSC into Log Analytics, complete the following steps:</span></span>

1. <span data-ttu-id="80fda-123">PowerShell에서 Azure 계정에 로그인합니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-123">Log in to your Azure account in PowerShell.</span></span> <span data-ttu-id="80fda-124">[Azure PowerShell을 사용하여 로그인](https://docs.microsoft.com/en-us/powershell/azure/authenticate-azureps?view=azurermps-4.0.0)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="80fda-124">See [Log in with Azure PowerShell](https://docs.microsoft.com/en-us/powershell/azure/authenticate-azureps?view=azurermps-4.0.0)</span></span>
1. <span data-ttu-id="80fda-125">다음 PowerShell 명령을 실행하여 Automation 계정의 _ResourceId_를 가져옵니다(Automation 계정이 2개 이상 있으면 구성하려는 계정의 _ResourceID_ 선택).</span><span class="sxs-lookup"><span data-stu-id="80fda-125">Get the _ResourceId_ of your automation account by running the following PowerShell command: (if you have more than one automation account, choose the _ResourceID_ for the account you want to configure).</span></span>

  ```powershell
  # Find the ResourceId for the Automation Account
  Find-AzureRmResource -ResourceType "Microsoft.Automation/automationAccounts"
  ```
1. <span data-ttu-id="80fda-126">다음 PowerShell 명령을 실행하여 Log Analytics 작업 영역의 _ResourceId_를 가져옵니다(작업 영역이 2개 이상 있으면 구성하려는 작업 영역의 _ResourceID_ 선택).</span><span class="sxs-lookup"><span data-stu-id="80fda-126">Get the _ResourceId_ of your Log Analytics workspace by running the following PowerShell command: (if you have more than one workspace, choose the _ResourceID_ for the workspace you want to configure).</span></span>

  ```powershell
  # Find the ResourceId for the Log Analytics workspace
  Find-AzureRmResource -ResourceType "Microsoft.OperationalInsights/workspaces"
  ```
1. <span data-ttu-id="80fda-127">다음 PowerShell 명령을 실행하고 `<AutomationResourceId>` 및 `<WorkspaceResourceId>`를 각 이전 단계의 _ResourceId_ 값으로 바꿉니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-127">Run the following PowerShell command, replacing `<AutomationResourceId>` and `<WorkspaceResourceId>` with the _ResourceId_ values from each of the previous steps:</span></span>

  ```powershell
  Set-AzureRmDiagnosticSetting -ResourceId <AutomationResourceId> -WorkspaceId <WorkspaceResourceId> -Enabled $true -Categories "DscNodeStatus"
  ```

<span data-ttu-id="80fda-128">Azure Automation DSC에서 Log Analytics로의 데이터 가져오기를 중지하려면 다음 PowerShell 명령을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-128">If you want to stop importing data from Azure Automation DSC into Log Analytics, run the following PowerShell command.</span></span>

```powershell
Set-AzureRmDiagnosticSetting -ResourceId <AutomationResourceId> -WorkspaceId <WorkspaceResourceId> -Enabled $false -Categories "DscNodeStatus"
```

## <a name="view-the-dsc-logs"></a><span data-ttu-id="80fda-129">DSC 로그 보기</span><span class="sxs-lookup"><span data-stu-id="80fda-129">View the DSC logs</span></span>

<span data-ttu-id="80fda-130">Automation DSC 데이터에 대해 Log Analytics과의 통합을 설정한 후에는 Automation 계정의 **DSC 노드** 블레이드에 **로그 검색** 단추가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-130">After you set up integration with Log Analytics for your Automation DSC data, a **Log search** button will appear on the **DSC Nodes** blade of your automation account.</span></span> <span data-ttu-id="80fda-131">**로그 검색** 단추를 클릭하여 DSC 노드 데이터에 대한 로그를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-131">Click the **Log Search** button to view the logs for DSC node data.</span></span>

![로그 검색 단추](media/automation-dsc-diagnostics/log-search-button.png)

<span data-ttu-id="80fda-133">**로그 검색** 블레이드가 열리고 각 DSC 노드에 대한 **DscNodeStatusData** 작업과 해당 노드에 적용된 노드 구성에서 호출된 각 [DSC 리소스](https://msdn.microsoft.com/powershell/dsc/resources)에 대한 **DscResourceStatusData** 작업이 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-133">The **Log Search** blade opens, and you see a **DscNodeStatusData** operation for each DSC node, and a **DscResourceStatusData** operation for each [DSC resource](https://msdn.microsoft.com/powershell/dsc/resources) called in the Node configuration applied to that node.</span></span>

<span data-ttu-id="80fda-134">**DscResourceStatusData** 작업에는 실패한 모든 DSC 리소스에 대한 오류 정보가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-134">The **DscResourceStatusData** operation contains error information for any DSC resources that failed.</span></span>

<span data-ttu-id="80fda-135">해당 작업에 대한 데이터를 보려면 목록에서 각 작업을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-135">Click each operation in the list to see the data for that operation.</span></span>

<span data-ttu-id="80fda-136">Log Analytics에서 검색하여 로그를 볼 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-136">You can also view the logs by [searching in Log Analytics.</span></span> <span data-ttu-id="80fda-137">[로그 검색을 사용하여 데이터 찾기](../log-analytics/log-analytics-log-searches.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="80fda-137">See [Find data using log searches](../log-analytics/log-analytics-log-searches.md).</span></span>
<span data-ttu-id="80fda-138">다음 쿼리를 입력하여 DSC 로그를 파일을 찾습니다. `Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category = "DscNodeStatus"`</span><span class="sxs-lookup"><span data-stu-id="80fda-138">Type the following query to find your DSC logs: `Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category = "DscNodeStatus"`</span></span>

<span data-ttu-id="80fda-139">또한 작업 이름으로 쿼리 범위를 좁힐 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-139">You can also narrow the query by the operation name.</span></span> <span data-ttu-id="80fda-140">예: \`Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category = "DscNodeStatus" OperationName = "DscNodeStatusData"</span><span class="sxs-lookup"><span data-stu-id="80fda-140">For example: \`Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category = "DscNodeStatus" OperationName = "DscNodeStatusData"</span></span>

### <a name="send-an-email-when-a-dsc-compliance-check-fails"></a><span data-ttu-id="80fda-141">DSC 준수 확인이 실패할 때 전자 메일 보내기</span><span class="sxs-lookup"><span data-stu-id="80fda-141">Send an email when a DSC compliance check fails</span></span>

<span data-ttu-id="80fda-142">고객이 자주 묻는 질문 중 하나는 DSC 구성에 문제가 발생한 경우 전자 메일 또는 텍스트를 보낼 수 있는지 여부입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-142">One of our top customer requests is for the ability to send an email or a text when something goes wrong with a DSC configuration.</span></span>   

<span data-ttu-id="80fda-143">경고 규칙을 만들려면 경고를 호출해야 하는 DSC 보고서 레코드에 대한 로그 검색을 만드는 것으로 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-143">To create an alert rule, you start by creating a log search for the DSC report records that should invoke the alert.</span></span>  <span data-ttu-id="80fda-144">**경고** 단추를 클릭하여 경고 규칙을 만들고 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-144">Click the **Alert** button to create and configure the alert rule.</span></span>

1. <span data-ttu-id="80fda-145">Log Analytics 개요 페이지에서 **로그 검색**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-145">From the Log Analytics Overview page, click **Log Search**.</span></span>
1. <span data-ttu-id="80fda-146">쿼리 필드에 다음 검색을 입력하여 경고에 대한 로그 검색 쿼리를 만듭니다. `Type=AzureDiagnostics Category=DscNodeStatus NodeName_s=DSCTEST1 OperationName=DscNodeStatusData ResultType=Failed`.</span><span class="sxs-lookup"><span data-stu-id="80fda-146">Create a log search query for your alert by typing the following search into the query field:  `Type=AzureDiagnostics Category=DscNodeStatus NodeName_s=DSCTEST1 OperationName=DscNodeStatusData ResultType=Failed`</span></span>

  <span data-ttu-id="80fda-147">둘 이상의 Automation 계정 또는 구독에서 작업 영역으로의 로그를 설정한 경우 구독 또는 Automation 계정별로 경고를 그룹화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-147">If you have set up logs from more than one Automation account or subscription to your workspace, you can group your alerts by subscription and Automation account.</span></span>  
  <span data-ttu-id="80fda-148">자동화 계정 이름은 DscNodeStatusData 검색의 리소스 필드에서 파생될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-148">Automation account name can be derived from the Resource field in the search of DscNodeStatusData.</span></span>  
1. <span data-ttu-id="80fda-149">**경고 규칙 추가** 화면을 열려면 페이지 위쪽의 **경고**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-149">To open the **Add Alert Rule** screen, click **Alert** at the top of the page.</span></span> <span data-ttu-id="80fda-150">경고 구성 옵션에 자세한 내용은 [Log Analytics의 경고](../log-analytics/log-analytics-alerts.md#alert-rules)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="80fda-150">For more information on the options to configure the alert, see [Alerts in Log Analytics](../log-analytics/log-analytics-alerts.md#alert-rules).</span></span>

### <a name="find-failed-dsc-resources-across-all-nodes"></a><span data-ttu-id="80fda-151">모든 노드에서 실패한 DSC 리소스 찾기</span><span class="sxs-lookup"><span data-stu-id="80fda-151">Find failed DSC resources across all nodes</span></span>

<span data-ttu-id="80fda-152">Log Analytics를 사용할 때의 한 가지 이점은 노드에서 실패한 검사를 검색할 수 있다는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-152">One advantage of using Log Analytics is that you can search for failed checks across nodes.</span></span>
<span data-ttu-id="80fda-153">실패한 DSC 리소스의 모든 인스턴스를 찾으려면</span><span class="sxs-lookup"><span data-stu-id="80fda-153">To find all instances of DSC resources that failed.</span></span>

1. <span data-ttu-id="80fda-154">Log Analytics 개요 페이지에서 **로그 검색**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-154">From the Log Analytics Overview page, click **Log Search**.</span></span>
1. <span data-ttu-id="80fda-155">쿼리 필드에 다음 검색을 입력하여 경고에 대한 로그 검색 쿼리를 만듭니다. `Type=AzureDiagnostics Category=DscNodeStatus OperationName=DscResourceStatusData ResultType=Failed`.</span><span class="sxs-lookup"><span data-stu-id="80fda-155">Create a log search query for your alert by typing the following search into the query field:  `Type=AzureDiagnostics Category=DscNodeStatus OperationName=DscResourceStatusData ResultType=Failed`</span></span>

### <a name="view-historical-dsc-node-status"></a><span data-ttu-id="80fda-156">DSC 노드 상태 기록 보기</span><span class="sxs-lookup"><span data-stu-id="80fda-156">View historical DSC node status</span></span>

<span data-ttu-id="80fda-157">마지막으로 시간별 DSC 노드 상태 기록을 시각화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-157">Finally, you may want to visualize your DSC node status history over time.</span></span>  
<span data-ttu-id="80fda-158">이 쿼리를 사용하여 시간이 지남에 따른 DSC 노드 상태를 검색할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-158">You can use this query to search for the status of your DSC node status over time.</span></span>

`Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category=DscNodeStatus NOT(ResultType="started") | measure Count() by ResultType interval 1hour`  

<span data-ttu-id="80fda-159">시간별 노드 상태 차트가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-159">This will display a chart of the node status over time.</span></span>

## <a name="log-analytics-records"></a><span data-ttu-id="80fda-160">Log Analytics 레코드</span><span class="sxs-lookup"><span data-stu-id="80fda-160">Log Analytics records</span></span>

<span data-ttu-id="80fda-161">Azure Automation의 진단은 Log Analytics에 두 가지 범주의 레코드를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-161">Diagnostics from Azure Automation creates two categories of records in Log Analytics.</span></span>

### <a name="dscnodestatusdata"></a><span data-ttu-id="80fda-162">DscNodeStatusData</span><span class="sxs-lookup"><span data-stu-id="80fda-162">DscNodeStatusData</span></span>

| <span data-ttu-id="80fda-163">속성</span><span class="sxs-lookup"><span data-stu-id="80fda-163">Property</span></span> | <span data-ttu-id="80fda-164">설명</span><span class="sxs-lookup"><span data-stu-id="80fda-164">Description</span></span> |
| --- | --- |
| <span data-ttu-id="80fda-165">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="80fda-165">TimeGenerated</span></span> |<span data-ttu-id="80fda-166">준수 확인이 실행된 날짜 및 시간입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-166">Date and time when the compliance check ran.</span></span> |
| <span data-ttu-id="80fda-167">OperationName</span><span class="sxs-lookup"><span data-stu-id="80fda-167">OperationName</span></span> |<span data-ttu-id="80fda-168">DscNodeStatusData</span><span class="sxs-lookup"><span data-stu-id="80fda-168">DscNodeStatusData</span></span> |
| <span data-ttu-id="80fda-169">ResultType</span><span class="sxs-lookup"><span data-stu-id="80fda-169">ResultType</span></span> |<span data-ttu-id="80fda-170">노드가 규정을 준수하는지 여부입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-170">Whether the node is compliant.</span></span> |
| <span data-ttu-id="80fda-171">NodeName_s</span><span class="sxs-lookup"><span data-stu-id="80fda-171">NodeName_s</span></span> |<span data-ttu-id="80fda-172">관리되는 노드의 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-172">The name of the managed node.</span></span> |
| <span data-ttu-id="80fda-173">NodeComplianceStatus_s</span><span class="sxs-lookup"><span data-stu-id="80fda-173">NodeComplianceStatus_s</span></span> |<span data-ttu-id="80fda-174">노드가 규정을 준수하는지 여부입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-174">Whether the node is compliant.</span></span> |
| <span data-ttu-id="80fda-175">DscReportStatus</span><span class="sxs-lookup"><span data-stu-id="80fda-175">DscReportStatus</span></span> |<span data-ttu-id="80fda-176">준수 검사가 성공적으로 실행되었는지 여부입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-176">Whether the compliance check ran successfully.</span></span> |
| <span data-ttu-id="80fda-177">ConfigurationMode</span><span class="sxs-lookup"><span data-stu-id="80fda-177">ConfigurationMode</span></span> | <span data-ttu-id="80fda-178">구성이 노드에 적용되는 방식입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-178">How the configuration is applied to the node.</span></span> <span data-ttu-id="80fda-179">사용 가능한 값은 __"ApplyOnly"__,__"ApplyandMonitior"__ 및 __"ApplyandAutoCorrect"__입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-179">Possible values are __"ApplyOnly"__,__"ApplyandMonitior"__, and __"ApplyandAutoCorrect"__.</span></span> <ul><li><span data-ttu-id="80fda-180">__ApplyOnly__: DSC는 구성을 적용하며, 새 구성이 대상 노드에 푸시되지 않거나 서버에서 새 구성을 가져올 때 아무 작업도 수행하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-180">__ApplyOnly__: DSC applies the configuration and does nothing further unless a new configuration is pushed to the target node or when a new configuration is pulled from a server.</span></span> <span data-ttu-id="80fda-181">새 구성이 초기에 적용된 후 DSC는 이전에 구성된 상태에서 달라졌는지 여부를 확인하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-181">After initial application of a new configuration, DSC does not check for drift from a previously configured state.</span></span> <span data-ttu-id="80fda-182">DSC는 __ApplyOnly__가 적용되기 전에 성공할 때까지 구성을 적용하려고 합니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-182">DSC attempts to apply the configuration until it is successful before __ApplyOnly__ takes effect.</span></span> </li><li> <span data-ttu-id="80fda-183">__ApplyAndMonitor__: 기본값입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-183">__ApplyAndMonitor__: This is the default value.</span></span> <span data-ttu-id="80fda-184">LCM는 새 구성을 적용합니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-184">The LCM applies any new configurations.</span></span> <span data-ttu-id="80fda-185">새 구성이 초기에 적용된 후 대상 노드가 원하는 상태에서 다른 상태로 바뀌면 DSC는 불일치 상황을 로그에 보고합니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-185">After initial application of a new configuration, if the target node drifts from the desired state, DSC reports the discrepancy in logs.</span></span> <span data-ttu-id="80fda-186">DSC는 __ApplyAndMonitor__가 적용되기 전에 성공할 때까지 구성을 적용하려고 합니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-186">DSC attempts to apply the configuration until it is successful before __ApplyAndMonitor__ takes effect.</span></span></li><li><span data-ttu-id="80fda-187">__ApplyAndAutoCorrect__: DSC는 모든 새 구성을 적용합니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-187">__ApplyAndAutoCorrect__: DSC applies any new configurations.</span></span> <span data-ttu-id="80fda-188">새 구성이 초기에 적용된 후 대상 노드가 원하는 상태에서 다른 상태로 바뀌면 DSC는 불일치 상황을 로그에 보고하고 현재 구성을 다시 적용합니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-188">After initial application of a new configuration, if the target node drifts from the desired state, DSC reports the discrepancy in logs, and then reapplies the current configuration.</span></span></li></ul> |
| <span data-ttu-id="80fda-189">HostName_s</span><span class="sxs-lookup"><span data-stu-id="80fda-189">HostName_s</span></span> | <span data-ttu-id="80fda-190">관리되는 노드의 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-190">The name of the managed node.</span></span> |
| <span data-ttu-id="80fda-191">IPAddress</span><span class="sxs-lookup"><span data-stu-id="80fda-191">IPAddress</span></span> | <span data-ttu-id="80fda-192">관리되는 노드의 IPv4 주소입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-192">The IPv4 address of the managed node.</span></span> |
| <span data-ttu-id="80fda-193">Category</span><span class="sxs-lookup"><span data-stu-id="80fda-193">Category</span></span> | <span data-ttu-id="80fda-194">DscNodeStatus</span><span class="sxs-lookup"><span data-stu-id="80fda-194">DscNodeStatus</span></span> |
| <span data-ttu-id="80fda-195">리소스</span><span class="sxs-lookup"><span data-stu-id="80fda-195">Resource</span></span> | <span data-ttu-id="80fda-196">Azure Automation 계정의 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-196">The name of the Azure Automation account.</span></span> |
| <span data-ttu-id="80fda-197">Tenant_g</span><span class="sxs-lookup"><span data-stu-id="80fda-197">Tenant_g</span></span> | <span data-ttu-id="80fda-198">호출자에 대한 테넌트를 식별하는 GUID입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-198">GUID that identifies the tenant for the Caller.</span></span> |
| <span data-ttu-id="80fda-199">NodeId_g</span><span class="sxs-lookup"><span data-stu-id="80fda-199">NodeId_g</span></span> |<span data-ttu-id="80fda-200">관리되는 노드를 식별하는 GUID입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-200">GUID that identifies the managed node.</span></span> |
| <span data-ttu-id="80fda-201">DscReportId_g</span><span class="sxs-lookup"><span data-stu-id="80fda-201">DscReportId_g</span></span> |<span data-ttu-id="80fda-202">보고서를 식별하는 GUID입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-202">GUID that identifies the report.</span></span> |
| <span data-ttu-id="80fda-203">LastSeenTime_t</span><span class="sxs-lookup"><span data-stu-id="80fda-203">LastSeenTime_t</span></span> |<span data-ttu-id="80fda-204">보고서를 마지막으로 본 날짜 및 시간입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-204">Date and time when the report was last viewed.</span></span> |
| <span data-ttu-id="80fda-205">ReportStartTime_t</span><span class="sxs-lookup"><span data-stu-id="80fda-205">ReportStartTime_t</span></span> |<span data-ttu-id="80fda-206">보고서가 시작된 날짜 및 시간입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-206">Date and time when the report was started.</span></span> |
| <span data-ttu-id="80fda-207">ReportEndTime_t</span><span class="sxs-lookup"><span data-stu-id="80fda-207">ReportEndTime_t</span></span> |<span data-ttu-id="80fda-208">보고서가 완료된 날짜 및 시간입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-208">Date and time when the report completed.</span></span> |
| <span data-ttu-id="80fda-209">NumberOfResources_d</span><span class="sxs-lookup"><span data-stu-id="80fda-209">NumberOfResources_d</span></span> |<span data-ttu-id="80fda-210">노드에 적용된 구성에서 호출된 DSC 리소스의 수입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-210">The number of DSC resources called in the configuration applied to the node.</span></span> |
| <span data-ttu-id="80fda-211">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="80fda-211">SourceSystem</span></span> | <span data-ttu-id="80fda-212">Log Analytics가 데이터를 수집한 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-212">How Log Analytics collected the data.</span></span> <span data-ttu-id="80fda-213">Azure 진단의 경우 항상 *Azure*입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-213">Always *Azure* for Azure diagnostics.</span></span> |
| <span data-ttu-id="80fda-214">ResourceId</span><span class="sxs-lookup"><span data-stu-id="80fda-214">ResourceId</span></span> |<span data-ttu-id="80fda-215">Azure Automation 계정을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-215">Specifies the Azure Automation account.</span></span> |
| <span data-ttu-id="80fda-216">ResultDescription</span><span class="sxs-lookup"><span data-stu-id="80fda-216">ResultDescription</span></span> | <span data-ttu-id="80fda-217">이 작업에 대한 설명입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-217">The description for this operation.</span></span> |
| <span data-ttu-id="80fda-218">SubscriptionId</span><span class="sxs-lookup"><span data-stu-id="80fda-218">SubscriptionId</span></span> | <span data-ttu-id="80fda-219">Automation 계정에 대한 Azure 구독 ID(GUID)입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-219">The Azure subscription Id (GUID) for the Automation account.</span></span> |
| <span data-ttu-id="80fda-220">ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="80fda-220">ResourceGroup</span></span> | <span data-ttu-id="80fda-221">Automation 계정에 대한 리소스 그룹의 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-221">Name of the resource group for the Automation account.</span></span> |
| <span data-ttu-id="80fda-222">ResourceProvider</span><span class="sxs-lookup"><span data-stu-id="80fda-222">ResourceProvider</span></span> | <span data-ttu-id="80fda-223">MICROSOFT.AUTOMATION</span><span class="sxs-lookup"><span data-stu-id="80fda-223">MICROSOFT.AUTOMATION</span></span> |
| <span data-ttu-id="80fda-224">ResourceType</span><span class="sxs-lookup"><span data-stu-id="80fda-224">ResourceType</span></span> | <span data-ttu-id="80fda-225">AUTOMATIONACCOUNTS</span><span class="sxs-lookup"><span data-stu-id="80fda-225">AUTOMATIONACCOUNTS</span></span> |
| <span data-ttu-id="80fda-226">CorrelationId</span><span class="sxs-lookup"><span data-stu-id="80fda-226">CorrelationId</span></span> |<span data-ttu-id="80fda-227">준수 보고서의 상관 관계 ID인 GUID입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-227">GUID that is the Correlation Id of the compliance report.</span></span> |

### <a name="dscresourcestatusdata"></a><span data-ttu-id="80fda-228">DscResourceStatusData</span><span class="sxs-lookup"><span data-stu-id="80fda-228">DscResourceStatusData</span></span>

| <span data-ttu-id="80fda-229">속성</span><span class="sxs-lookup"><span data-stu-id="80fda-229">Property</span></span> | <span data-ttu-id="80fda-230">설명</span><span class="sxs-lookup"><span data-stu-id="80fda-230">Description</span></span> |
| --- | --- |
| <span data-ttu-id="80fda-231">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="80fda-231">TimeGenerated</span></span> |<span data-ttu-id="80fda-232">준수 확인이 실행된 날짜 및 시간입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-232">Date and time when the compliance check ran.</span></span> |
| <span data-ttu-id="80fda-233">OperationName</span><span class="sxs-lookup"><span data-stu-id="80fda-233">OperationName</span></span> |<span data-ttu-id="80fda-234">DscResourceStatusData</span><span class="sxs-lookup"><span data-stu-id="80fda-234">DscResourceStatusData</span></span>|
| <span data-ttu-id="80fda-235">ResultType</span><span class="sxs-lookup"><span data-stu-id="80fda-235">ResultType</span></span> |<span data-ttu-id="80fda-236">리소스가 규정을 준수하는지 여부입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-236">Whether the resource is compliant.</span></span> |
| <span data-ttu-id="80fda-237">NodeName_s</span><span class="sxs-lookup"><span data-stu-id="80fda-237">NodeName_s</span></span> |<span data-ttu-id="80fda-238">관리되는 노드의 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-238">The name of the managed node.</span></span> |
| <span data-ttu-id="80fda-239">Category</span><span class="sxs-lookup"><span data-stu-id="80fda-239">Category</span></span> | <span data-ttu-id="80fda-240">DscNodeStatus</span><span class="sxs-lookup"><span data-stu-id="80fda-240">DscNodeStatus</span></span> |
| <span data-ttu-id="80fda-241">리소스</span><span class="sxs-lookup"><span data-stu-id="80fda-241">Resource</span></span> | <span data-ttu-id="80fda-242">Azure Automation 계정의 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-242">The name of the Azure Automation account.</span></span> |
| <span data-ttu-id="80fda-243">Tenant_g</span><span class="sxs-lookup"><span data-stu-id="80fda-243">Tenant_g</span></span> | <span data-ttu-id="80fda-244">호출자에 대한 테넌트를 식별하는 GUID입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-244">GUID that identifies the tenant for the Caller.</span></span> |
| <span data-ttu-id="80fda-245">NodeId_g</span><span class="sxs-lookup"><span data-stu-id="80fda-245">NodeId_g</span></span> |<span data-ttu-id="80fda-246">관리되는 노드를 식별하는 GUID입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-246">GUID that identifies the managed node.</span></span> |
| <span data-ttu-id="80fda-247">DscReportId_g</span><span class="sxs-lookup"><span data-stu-id="80fda-247">DscReportId_g</span></span> |<span data-ttu-id="80fda-248">보고서를 식별하는 GUID입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-248">GUID that identifies the report.</span></span> |
| <span data-ttu-id="80fda-249">DscResourceId_s</span><span class="sxs-lookup"><span data-stu-id="80fda-249">DscResourceId_s</span></span> |<span data-ttu-id="80fda-250">DSC 리소스 인스턴스의 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-250">The name of the DSC resource instance.</span></span> |
| <span data-ttu-id="80fda-251">DscResourceName_s</span><span class="sxs-lookup"><span data-stu-id="80fda-251">DscResourceName_s</span></span> |<span data-ttu-id="80fda-252">DSC 리소스의 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-252">The name of the DSC resource.</span></span> |
| <span data-ttu-id="80fda-253">DscResourceStatus_s</span><span class="sxs-lookup"><span data-stu-id="80fda-253">DscResourceStatus_s</span></span> |<span data-ttu-id="80fda-254">DSC 리소스가 규정을 준수하는지 여부입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-254">Whether the DSC resource is in compliance.</span></span> |
| <span data-ttu-id="80fda-255">DscModuleName_s</span><span class="sxs-lookup"><span data-stu-id="80fda-255">DscModuleName_s</span></span> |<span data-ttu-id="80fda-256">DSC 리소스를 포함하는 PowerShell 모듈의 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-256">The name of the PowerShell module that contains the DSC resource.</span></span> |
| <span data-ttu-id="80fda-257">DscModuleVersion_s</span><span class="sxs-lookup"><span data-stu-id="80fda-257">DscModuleVersion_s</span></span> |<span data-ttu-id="80fda-258">DSC 리소스를 포함하는 PowerShell 모듈의 버전입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-258">The version of the PowerShell module that contains the DSC resource.</span></span> |
| <span data-ttu-id="80fda-259">DscConfigurationName_s</span><span class="sxs-lookup"><span data-stu-id="80fda-259">DscConfigurationName_s</span></span> |<span data-ttu-id="80fda-260">노드에 적용되는 구성의 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-260">The name of the configuration applied to the node.</span></span> |
| <span data-ttu-id="80fda-261">ErrorCode_s</span><span class="sxs-lookup"><span data-stu-id="80fda-261">ErrorCode_s</span></span> | <span data-ttu-id="80fda-262">리소스가 실패한 경우의 오류 코드입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-262">The error code if the resource failed.</span></span> |
| <span data-ttu-id="80fda-263">ErrorMessage_s</span><span class="sxs-lookup"><span data-stu-id="80fda-263">ErrorMessage_s</span></span> |<span data-ttu-id="80fda-264">리소스가 실패한 경우의 오류 메시지입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-264">The error message if the resource failed.</span></span> |
| <span data-ttu-id="80fda-265">DscResourceDuration_d</span><span class="sxs-lookup"><span data-stu-id="80fda-265">DscResourceDuration_d</span></span> |<span data-ttu-id="80fda-266">DSC 리소스가 실행된 시간(초)입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-266">The time, in seconds, that the DSC resource ran.</span></span> |
| <span data-ttu-id="80fda-267">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="80fda-267">SourceSystem</span></span> | <span data-ttu-id="80fda-268">Log Analytics가 데이터를 수집한 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-268">How Log Analytics collected the data.</span></span> <span data-ttu-id="80fda-269">Azure 진단의 경우 항상 *Azure*입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-269">Always *Azure* for Azure diagnostics.</span></span> |
| <span data-ttu-id="80fda-270">ResourceId</span><span class="sxs-lookup"><span data-stu-id="80fda-270">ResourceId</span></span> |<span data-ttu-id="80fda-271">Azure Automation 계정을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-271">Specifies the Azure Automation account.</span></span> |
| <span data-ttu-id="80fda-272">ResultDescription</span><span class="sxs-lookup"><span data-stu-id="80fda-272">ResultDescription</span></span> | <span data-ttu-id="80fda-273">이 작업에 대한 설명입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-273">The description for this operation.</span></span> |
| <span data-ttu-id="80fda-274">SubscriptionId</span><span class="sxs-lookup"><span data-stu-id="80fda-274">SubscriptionId</span></span> | <span data-ttu-id="80fda-275">Automation 계정에 대한 Azure 구독 ID(GUID)입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-275">The Azure subscription Id (GUID) for the Automation account.</span></span> |
| <span data-ttu-id="80fda-276">ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="80fda-276">ResourceGroup</span></span> | <span data-ttu-id="80fda-277">Automation 계정에 대한 리소스 그룹의 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-277">Name of the resource group for the Automation account.</span></span> |
| <span data-ttu-id="80fda-278">ResourceProvider</span><span class="sxs-lookup"><span data-stu-id="80fda-278">ResourceProvider</span></span> | <span data-ttu-id="80fda-279">MICROSOFT.AUTOMATION</span><span class="sxs-lookup"><span data-stu-id="80fda-279">MICROSOFT.AUTOMATION</span></span> |
| <span data-ttu-id="80fda-280">ResourceType</span><span class="sxs-lookup"><span data-stu-id="80fda-280">ResourceType</span></span> | <span data-ttu-id="80fda-281">AUTOMATIONACCOUNTS</span><span class="sxs-lookup"><span data-stu-id="80fda-281">AUTOMATIONACCOUNTS</span></span> |
| <span data-ttu-id="80fda-282">CorrelationId</span><span class="sxs-lookup"><span data-stu-id="80fda-282">CorrelationId</span></span> |<span data-ttu-id="80fda-283">준수 보고서의 상관 관계 ID인 GUID입니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-283">GUID that is the Correlation Id of the compliance report.</span></span> |

## <a name="summary"></a><span data-ttu-id="80fda-284">요약</span><span class="sxs-lookup"><span data-stu-id="80fda-284">Summary</span></span>

<span data-ttu-id="80fda-285">Automation DSC 데이터를 Log Analytics로 전송하면 다음과 같은 작업을 통해 Automation DSC 노드의 상태를 보다 정확히 파악할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-285">By sending your Automation DSC data to Log Analytics, you can get better insight into the status of your Automation DSC nodes by:</span></span>

* <span data-ttu-id="80fda-286">문제가 발생할 때 알리도록 경고 설정</span><span class="sxs-lookup"><span data-stu-id="80fda-286">Setting up alerts to notify you when there is an issue</span></span>
* <span data-ttu-id="80fda-287">사용자 지정 보기와 검색 쿼리를 사용하여 runbook 결과, runbook 작업 상태 및 기타 관련된 핵심 지표 또는 메트릭 시각화.</span><span class="sxs-lookup"><span data-stu-id="80fda-287">Using custom views and search queries to visualize your runbook results, runbook job status, and other related key indicators or metrics.</span></span>  

<span data-ttu-id="80fda-288">Log Analytics는 Automation DSC 데이터의 작동을 보다 정확히 이해하도록 하며 인시던트를 더 빠르게 해결하도록 도와줍니다.</span><span class="sxs-lookup"><span data-stu-id="80fda-288">Log Analytics provides greater operational visibility to your Automation DSC data and can help address incidents more quickly.</span></span>  

## <a name="next-steps"></a><span data-ttu-id="80fda-289">다음 단계</span><span class="sxs-lookup"><span data-stu-id="80fda-289">Next steps</span></span>

* <span data-ttu-id="80fda-290">Log Analytics를 사용하여 여러 검색 쿼리를 작성하고 Automation DSC 로그를 검토하는 방법에 대한 자세한 내용은 [Log Analytics의 로그 검색](../log-analytics/log-analytics-log-searches.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="80fda-290">To learn more about how to construct different search queries and review the Automation DSC logs with Log Analytics, see [Log searches in Log Analytics](../log-analytics/log-analytics-log-searches.md)</span></span>
* <span data-ttu-id="80fda-291">Azure Automation DSC 사용 방법에 대한 자세한 내용은 [Azure Automation DSC 시작하기](automation-dsc-getting-started.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="80fda-291">To learn more about using Azure Automation DSC, see [Getting started with Azure Automation DSC](automation-dsc-getting-started.md)</span></span>
* <span data-ttu-id="80fda-292">OMS Log Analytics 및 데이터 수집 소스에 대한 자세한 내용은 [Log Analytics에서 Azure Storage 데이터 수집 개요](../log-analytics/log-analytics-azure-storage.md)</span><span class="sxs-lookup"><span data-stu-id="80fda-292">To learn more about OMS Log Analytics and data collection sources, see [Collecting Azure storage data in Log Analytics overview](../log-analytics/log-analytics-azure-storage.md)</span></span>

