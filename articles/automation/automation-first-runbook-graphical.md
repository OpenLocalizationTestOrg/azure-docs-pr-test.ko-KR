---
title: "Azure Automation의 내 첫 번째 그래픽 Runbook | Microsoft Docs"
description: "자습서는 간단한 그래픽 runbook의 생성, 테스트, 게시를 단계별로 안내합니다."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: 
keywords: "runbook, runbook 템플릿, runbook 자동화, azure runbook"
ms.assetid: dcb88f19-ed2b-4372-9724-6625cd287c8a
ms.service: automation
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 05/17/2017
ms.author: magoedte;bwren
ms.openlocfilehash: 9d4b28416376482247127698bec7c99b83308885
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/11/2017
---
# <a name="my-first-graphical-runbook"></a><span data-ttu-id="af6bd-104">내 첫 번째 그래픽 Runbook</span><span class="sxs-lookup"><span data-stu-id="af6bd-104">My first graphical runbook</span></span>

> [!div class="op_single_selector"]
> * [<span data-ttu-id="af6bd-105">그래픽</span><span class="sxs-lookup"><span data-stu-id="af6bd-105">Graphical</span></span>](automation-first-runbook-graphical.md)
> * [<span data-ttu-id="af6bd-106">PowerShell</span><span class="sxs-lookup"><span data-stu-id="af6bd-106">PowerShell</span></span>](automation-first-runbook-textual-powershell.md)
> * [<span data-ttu-id="af6bd-107">PowerShell 워크플로</span><span class="sxs-lookup"><span data-stu-id="af6bd-107">PowerShell Workflow</span></span>](automation-first-runbook-textual.md)
> 
> 

<span data-ttu-id="af6bd-108">이 자습서는 Azure Automation에서 [그래픽 Runbook](automation-runbook-types.md#graphical-runbooks)을 만드는 과정을 안내합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-108">This tutorial walks you through the creation of a [graphical runbook](automation-runbook-types.md#graphical-runbooks) in Azure Automation.</span></span>  <span data-ttu-id="af6bd-109">Runbook 작업의 상태를 추적하는 방법을 설명하면서 테스트하고 게시하는 간단한 Runbook으로 시작하겠습니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-109">We start with a simple runbook that tests and publishes while we explain how to track the status of the runbook job.</span></span>  <span data-ttu-id="af6bd-110">그런 다음 실제로 Azure 리소스를 관리하도록 Runbook을 수정합니다. 이 경우에 Azure 가상 컴퓨터를 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-110">Then we modify the runbook to actually manage Azure resources, in this case starting an Azure virtual machine.</span></span>  <span data-ttu-id="af6bd-111">그리고 runbook 매개 변수와 조건부 링크를 추가하여 Runbook을 더욱 강력하게 만듦으로써 자습서를 완료합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-111">Then we complete the tutorial by making the runbook more robust by adding runbook parameters and conditional links.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="af6bd-112">필수 조건</span><span class="sxs-lookup"><span data-stu-id="af6bd-112">Prerequisites</span></span>
<span data-ttu-id="af6bd-113">이 자습서를 완료하려면 다음이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-113">To complete this tutorial, you will need the following.</span></span>

* <span data-ttu-id="af6bd-114">동작합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-114">Azure subscription.</span></span>  <span data-ttu-id="af6bd-115">계정이 아직 없는 경우 [MSDN 구독자 혜택을 활성화](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/)하거나 <a href="/pricing/free-account/" target="_blank">[무료 계정을 등록](https://azure.microsoft.com/free/)할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-115">If you don't have one yet, you can [activate your MSDN subscriber benefits](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/) or <a href="/pricing/free-account/" target="_blank">[sign up for a free account](https://azure.microsoft.com/free/).</span></span>
* <span data-ttu-id="af6bd-116">[Azure Automation 계정](automation-sec-configure-azure-runas-account.md) - Runbook을 보유하고 Azure 리소스에 대해 인증하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-116">[Azure Automation account](automation-sec-configure-azure-runas-account.md) to hold the runbook and authenticate to Azure resources.</span></span>  <span data-ttu-id="af6bd-117">이 계정은 가상 컴퓨터를 시작하고 중지할 수 있는 권한이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-117">This account must have permission to start and stop the virtual machine.</span></span>
* <span data-ttu-id="af6bd-118">Azure 가상 컴퓨터 -</span><span class="sxs-lookup"><span data-stu-id="af6bd-118">An Azure virtual machine.</span></span>  <span data-ttu-id="af6bd-119">프로덕션이 되지 않게하기 위해 이 가상 컴퓨터를 중지하고 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-119">We will stop and start this machine so it should not be production.</span></span>

## <a name="step-1---create-runbook"></a><span data-ttu-id="af6bd-120">1단계 - Runbook 만들기</span><span class="sxs-lookup"><span data-stu-id="af6bd-120">Step 1 - Create runbook</span></span>
<span data-ttu-id="af6bd-121">먼저 *헬로 월드*라는 텍스트를 출력하는 간단한 Runbook을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-121">We start by creating a simple runbook that outputs the text *Hello World*.</span></span>

1. <span data-ttu-id="af6bd-122">Azure 포털에서 자동화 계정을 엽니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-122">In the Azure portal, open your Automation account.</span></span>  
   <span data-ttu-id="af6bd-123">자동화 계정 페이지는 이 계정의 리소스 간략히 보기를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-123">The Automation account page gives you a quick view of the resources in this account.</span></span>  <span data-ttu-id="af6bd-124">사용자는 일부 자산이 이미 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-124">You should already have some Assets.</span></span>  <span data-ttu-id="af6bd-125">대부분의 자산들은 새 자동화 계정에 자동적으로 포함되 있는 모듈입니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-125">Most of those are the modules that are automatically included in a new Automation account.</span></span>  <span data-ttu-id="af6bd-126">또한 사용자는 [필수 구성 요소](#prerequisites)에서 언급된 자격 증명 자산이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-126">You should also have the Credential asset that's mentioned in the [prerequisites](#prerequisites).</span></span>
2. <span data-ttu-id="af6bd-127">**Runbook** 타일을 클릭하여 Runbook 목록을 엽니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-127">Click the **Runbooks** tile to open the list of runbooks.</span></span><br> <span data-ttu-id="af6bd-128">![Runbook 컨트롤](media/automation-first-runbook-graphical/runbooks-resources-tile.png)</span><span class="sxs-lookup"><span data-stu-id="af6bd-128">![Runbooks control](media/automation-first-runbook-graphical/runbooks-resources-tile.png)</span></span>
3. <span data-ttu-id="af6bd-129">**runbook 추가**버튼을 클릭하고 **새 runbook 만들기**를 클릭하여 새 runbook을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-129">Create a new runbook by clicking on the **Add a runbook** button and then **Create a new runbook**.</span></span>
4. <span data-ttu-id="af6bd-130">Runbook 이름을 *MyFirstRunbook-Graphical*로 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-130">Give the runbook the name *MyFirstRunbook-Graphical*.</span></span>
5. <span data-ttu-id="af6bd-131">이 경우 **Runbook 형식**으로 **그래픽**을 선택하여 [그래픽 Runbook](automation-graphical-authoring-intro.md)을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-131">In this case, we're going to create a [graphical runbook](automation-graphical-authoring-intro.md) so select **Graphical** for **Runbook type**.</span></span><br> <span data-ttu-id="af6bd-132">![새 runbook](media/automation-first-runbook-graphical/create-new-runbook.png)</span><span class="sxs-lookup"><span data-stu-id="af6bd-132">![New runbook](media/automation-first-runbook-graphical/create-new-runbook.png)</span></span><br>
6. <span data-ttu-id="af6bd-133">**만들기** 를 클릭하여 Runbook을 만들고 그래픽 편집기를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-133">Click **Create** to create the runbook and open the graphical editor.</span></span>

## <a name="step-2---add-activities-to-the-runbook"></a><span data-ttu-id="af6bd-134">2 단계 - runbook에 활동을 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-134">Step 2 - Add activities to the runbook</span></span>
<span data-ttu-id="af6bd-135">편집기의 왼쪽에 있는 라이브러리 컨트롤은 사용자의 runbook에 추가할 활동을 선택할 수 있게 해줍니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-135">The Library control on the left side of the editor allows you to select activities to add to your runbook.</span></span>  <span data-ttu-id="af6bd-136">**Write-Output** cmdlet을 추가하여 runbook의 텍스트를 출력합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-136">We're going to add a **Write-Output** cmdlet to output text from the runbook.</span></span>

1. <span data-ttu-id="af6bd-137">라이브러리 컨트롤에서 검색 텍스트 상자를 클릭하고 **Write-Output**을 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-137">In the Library control, click in the search textbox and type **Write-Output**.</span></span>  <span data-ttu-id="af6bd-138">검색 결과가 아래에 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-138">The search results will be displayed below.</span></span> <br> <span data-ttu-id="af6bd-139">![Microsoft.PowerShell.Utility](media/automation-first-runbook-graphical/search-powershell-cmdlet-writeoutput.png)</span><span class="sxs-lookup"><span data-stu-id="af6bd-139">![Microsoft.PowerShell.Utility](media/automation-first-runbook-graphical/search-powershell-cmdlet-writeoutput.png)</span></span>
2. <span data-ttu-id="af6bd-140">목록의 아래로 스크롤하십시오.</span><span class="sxs-lookup"><span data-stu-id="af6bd-140">Scroll down to the bottom of the list.</span></span>  <span data-ttu-id="af6bd-141">**Write-Output**을 마우스 오른쪽 단추로 클릭하고 **캔버스에 추가**를 선택하거나, cmdlet 옆의 줄임표를 클릭한 다음 **캔버스에 추가**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-141">You can either right-click **Write-Output** and select **Add to canvas** or click the ellipse next to the cmdlet and then select **Add to canvas**.</span></span>
3. <span data-ttu-id="af6bd-142">캔버스에서 **Write-Output** 활동을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-142">Click the **Write-Output** activity on the canvas.</span></span>  <span data-ttu-id="af6bd-143">그러면 구성 제어 블레이드가 열리며, 여기서 활동을 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-143">This opens the Configuration control blade, which allows you to configure the activity.</span></span>
4. <span data-ttu-id="af6bd-144">**레이블** 은 기본적으로 cmdlet의 이름이지만 보다 친숙하게 바꿀 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-144">The **Label** defaults to the name of the cmdlet, but we can change it to something more friendly.</span></span> <span data-ttu-id="af6bd-145">*Hello World 출력을 위해 쓰기*로 바꿉니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-145">Change it to *Write Hello World to output*.</span></span>
5. <span data-ttu-id="af6bd-146">**매개 변수**를 클릭하여 cmdlet 매개 변수의 값을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-146">Click **Parameters** to provide values for the cmdlet's parameters.</span></span>  
   <span data-ttu-id="af6bd-147">일부 cmdlet에는 여러 매개 변수 집합이 있으며, 사용할 매개 변수 집합을 선택해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-147">Some cmdlets have multiple parameter sets, and you need to select which you one to use.</span></span> <span data-ttu-id="af6bd-148">이 경우 **Write-Output**에는 매개 변수 집합이 하나만 있으므로 선택하지 않아도 됩니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-148">In this case, **Write-Output** has only one parameter set, so you don't need to select one.</span></span> <br> <span data-ttu-id="af6bd-149">![쓰기 출력 속성](media/automation-first-runbook-graphical/write-output-properties-b.png)</span><span class="sxs-lookup"><span data-stu-id="af6bd-149">![Write-Output properties](media/automation-first-runbook-graphical/write-output-properties-b.png)</span></span>
6. <span data-ttu-id="af6bd-150">**InputObject** 매개 변수를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-150">Select the **InputObject** parameter.</span></span>  <span data-ttu-id="af6bd-151">이는 출력 스트림으로 보낼 텍스트를 지정하는 매개 변수입니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-151">This is the parameter where we specify the text to send to the output stream.</span></span>
7. <span data-ttu-id="af6bd-152">**데이터 원본** 드롭다운에서 **PowerShell 식**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-152">In the **Data source** dropdown, select **PowerShell expression**.</span></span>  <span data-ttu-id="af6bd-153">**데이터 원본** 드롭다운은 매개 변수 값을 채우는 데 사용하는 다른 소스들을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-153">The **Data source** dropdown provides different sources that you use to populate a parameter value.</span></span>  
   <span data-ttu-id="af6bd-154">다른 활동, 자동화 자산, 혹은 Power Shell식 같은 특정 소스들로부터 출력을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-154">You can use output from such sources such as another activity, an Automation asset, or a PowerShell expression.</span></span>  <span data-ttu-id="af6bd-155">여기서는 *Hello World*텍스트만 출력하려고 합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-155">In this case, we just want to output the text *Hello World*.</span></span> <span data-ttu-id="af6bd-156">PowerShell 식을 사용하고 문자열을 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-156">We can use a PowerShell expression and specify a string.</span></span>
8. <span data-ttu-id="af6bd-157">**식** 상자에 *"Hello World"*를 입력한 후 **확인**을 두 번 클릭하여 캔버스로 돌아갑니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-157">In the **Expression** box, type *"Hello World"* and then click **OK** twice to return to the canvas.</span></span><br> <span data-ttu-id="af6bd-158">![PowerShell Expression](media/automation-first-runbook-graphical/expression-hello-world.png)</span><span class="sxs-lookup"><span data-stu-id="af6bd-158">![PowerShell Expression](media/automation-first-runbook-graphical/expression-hello-world.png)</span></span>
9. <span data-ttu-id="af6bd-159">**저장**을 클릭하여 Runbook을 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-159">Save the runbook by clicking **Save**.</span></span><br> <span data-ttu-id="af6bd-160">![Runbook을 저장 합니다.](media/automation-first-runbook-graphical/runbook-toolbar-save-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="af6bd-160">![Save runbook](media/automation-first-runbook-graphical/runbook-toolbar-save-revised20165.png)</span></span>

## <a name="step-3---test-the-runbook"></a><span data-ttu-id="af6bd-161">3 단계 - runbook 테스트</span><span class="sxs-lookup"><span data-stu-id="af6bd-161">Step 3 - Test the runbook</span></span>
<span data-ttu-id="af6bd-162">프로덕션 환경에서 사용할 수 있도록 runbook을 게시하기 전에 제대로 작동하는지 확인할 수 있게 테스트합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-162">Before we publish the runbook to make it available in production, we want to test it to make sure that it works properly.</span></span>  <span data-ttu-id="af6bd-163">Runbook을 테스트할 때 **초안** 버전을 실행하고 해당 출력을 대화형으로 봅니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-163">When you test a runbook, you run its **Draft** version and view its output interactively.</span></span>

1. <span data-ttu-id="af6bd-164">**테스트 창**을 클릭하여 테스트 블레이드를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-164">Click **Test pane** to open the Test blade.</span></span><br> <span data-ttu-id="af6bd-165">![테스트 창](media/automation-first-runbook-graphical/runbook-toolbar-test-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="af6bd-165">![Test pane](media/automation-first-runbook-graphical/runbook-toolbar-test-revised20165.png)</span></span>
2. <span data-ttu-id="af6bd-166">**시작** 을 클릭하여 테스트를 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-166">Click **Start** to start the test.</span></span>  <span data-ttu-id="af6bd-167">유일하게 사용 가능한 옵션이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-167">This should be the only enabled option.</span></span>
3. <span data-ttu-id="af6bd-168">이 창에서 [Runbook 작업](automation-runbook-execution.md) 이 생성되고 해당 상태가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-168">A [runbook job](automation-runbook-execution.md) is created and its status displayed in the pane.</span></span>  
   <span data-ttu-id="af6bd-169">작업 상태는 클라우드에서 runbook worker를 사용할 수 있을 때까지 기다리고 있음을 나타내는 *대기*로 시작됩니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-169">The job status starts as *Queued* indicating that it is waiting for a runbook worker in the cloud to become available.</span></span>  <span data-ttu-id="af6bd-170">작업자가 작업을 요구한 경우 *시작 중*으로 바뀐 다음 Runbook이 실제로 실행되기 시작하면 *실행 중*으로 바뀝니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-170">It then moves to *Starting* when a worker claims the job, and then *Running* when the runbook actually starts running.</span></span>  
4. <span data-ttu-id="af6bd-171">Runbook 작업이 완료되면 해당 출력이 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-171">When the runbook job completes, its output is displayed.</span></span> <span data-ttu-id="af6bd-172">여기서는 *Hello World*할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-172">In our case, we should see *Hello World*.</span></span><br> <span data-ttu-id="af6bd-173">![Hello World](media/automation-first-runbook-graphical/runbook-test-results.png)</span><span class="sxs-lookup"><span data-stu-id="af6bd-173">![Hello World](media/automation-first-runbook-graphical/runbook-test-results.png)</span></span>
5. <span data-ttu-id="af6bd-174">캔버스로 돌아가려면 테스트 블레이드를 닫습니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-174">Close the Test blade to return to the canvas.</span></span>

## <a name="step-4---publish-and-start-the-runbook"></a><span data-ttu-id="af6bd-175">4 단계 - runbook 게시 및 시작</span><span class="sxs-lookup"><span data-stu-id="af6bd-175">Step 4 - Publish and start the runbook</span></span>
<span data-ttu-id="af6bd-176">방금 만든 Runbook은 아직 초안 모드입니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-176">The runbook that we created is still in Draft mode.</span></span> <span data-ttu-id="af6bd-177">프로덕션 환경에서 실행하기 전에 게시해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-177">We need to publish it before we can run it in production.</span></span>  <span data-ttu-id="af6bd-178">Runbook을 게시하면 초안 버전으로 기존의 게시된 버전을 덮어씁니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-178">When you publish a runbook, you overwrite the existing Published version with the Draft version.</span></span>  <span data-ttu-id="af6bd-179">사용자의 경우, 방금전에 runbook을 만들었기 때문에 게시 버전이 아직 없습니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-179">In our case, we don't have a Published version yet because we just created the runbook.</span></span>

1. <span data-ttu-id="af6bd-180">**게시**를 클릭하여 Runbook을 게시한 다음 확인 메시지가 표시되면 **예**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-180">Click **Publish** to publish the runbook and then **Yes** when prompted.</span></span><br> <span data-ttu-id="af6bd-181">![게시](media/automation-first-runbook-graphical/runbook-toolbar-publish-revised20166.png)</span><span class="sxs-lookup"><span data-stu-id="af6bd-181">![Publish](media/automation-first-runbook-graphical/runbook-toolbar-publish-revised20166.png)</span></span>
2. <span data-ttu-id="af6bd-182">**Runbooks** 블레이드에서 Runbook을 보기 위해 왼쪽으로 스크롤하면 **작성 상태**가 **게시됨**으로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-182">If you scroll left to view the runbook in the **Runbooks** blade, it shows an **Authoring Status** of **Published**.</span></span>
3. <span data-ttu-id="af6bd-183">오른쪽으로 다시 스크롤하면 **MyFirstRunbook**블레이드가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-183">Scroll back to the right to view the blade for **MyFirstRunbook**.</span></span>  
   <span data-ttu-id="af6bd-184">위쪽에 표시되는 옵션을 사용하여 Runbook을 시작하거나, 미래의 특정 시간에 시작하도록 예약하거나, [webhook](automation-webhooks.md) 을 생성하여 HTTP 호출을 통해 시작할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-184">The options across the top allow us to start the runbook, schedule it to start at some time in the future, or create a [webhook](automation-webhooks.md) so it can be started through an HTTP call.</span></span>
4. <span data-ttu-id="af6bd-185">여기서는 Runbook을 시작하기만 하면 되므로 **시작**을 클릭하고 확인 메시지가 표시되면 **예**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-185">We just want to start the runbook so click **Start** and then **Yes** when prompted.</span></span><br> <span data-ttu-id="af6bd-186">![Runbook 시작](media/automation-first-runbook-graphical/runbook-controls-start-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="af6bd-186">![Start runbook](media/automation-first-runbook-graphical/runbook-controls-start-revised20165.png)</span></span>
5. <span data-ttu-id="af6bd-187">만든 Runbook 작업에 대한 작업 블레이드가 열립니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-187">A job blade is opened for the runbook job that we created.</span></span>  <span data-ttu-id="af6bd-188">이 블레이드를 닫을 수 있지만 이 경우에는 작업의 진행 상황을 보기 위해 열어둡니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-188">We can close this blade, but in this case we leave it open so we can watch the job's progress.</span></span>
6. <span data-ttu-id="af6bd-189">Runbook을 테스트할 때의 상태와 같은 작업 상태가 **작업 요약** 에 표시되며 합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-189">The job status is shown in **Job Summary** and matches the statuses that we saw when we tested the runbook.</span></span><br> <span data-ttu-id="af6bd-190">![작업 요약](media/automation-first-runbook-graphical/runbook-job-summary.png)</span><span class="sxs-lookup"><span data-stu-id="af6bd-190">![Job Summary](media/automation-first-runbook-graphical/runbook-job-summary.png)</span></span>
7. <span data-ttu-id="af6bd-191">Runbook 상태가 *완료됨*으로 표시되면 **출력**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-191">Once the runbook status shows *Completed*, click **Output**.</span></span> <span data-ttu-id="af6bd-192">**출력** 블레이드가 열리고 창에 *Hello World*가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-192">The **Output** blade is opened, and we can see our *Hello World* in the pane.</span></span><br> <span data-ttu-id="af6bd-193">![작업 요약](media/automation-first-runbook-graphical/runbook-job-output.png)</span><span class="sxs-lookup"><span data-stu-id="af6bd-193">![Job Summary](media/automation-first-runbook-graphical/runbook-job-output.png)</span></span>  
8. <span data-ttu-id="af6bd-194">출력 블레이드를 닫습니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-194">Close the Output blade.</span></span>
9. <span data-ttu-id="af6bd-195">**모든 로그** 를 클릭하여 runbook 작업에 대한 스트림 블레이드를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-195">Click **All Logs** to open the Streams blade for the runbook job.</span></span>  <span data-ttu-id="af6bd-196">출력 스트림에 *Hello World* 만 표시되어야 하지만 Runbook이 자세한 정보 표시, 오류와 같은 Runbook 작업에 대한 다른 스트림에 쓰는 경우 해당 스트림이 표시될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-196">We should only see *Hello World* in the output stream, but this can show other streams for a runbook job such as Verbose and Error if the runbook writes to them.</span></span><br> <span data-ttu-id="af6bd-197">![작업 요약](media/automation-first-runbook-graphical/runbook-job-AllLogs.png)</span><span class="sxs-lookup"><span data-stu-id="af6bd-197">![Job Summary](media/automation-first-runbook-graphical/runbook-job-AllLogs.png)</span></span>
10. <span data-ttu-id="af6bd-198">모든 로그 블레이드와 작업 블레이드를 닫고 MyFirstRunbook 블레이드로 돌아갑니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-198">Close the All Logs blade and the Job blade to return to the MyFirstRunbook blade.</span></span>
11. <span data-ttu-id="af6bd-199">**작업** 을 클릭하여 이 runbook에 대한 작업 블레이드를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-199">Click **Jobs** to open the Jobs blade for this runbook.</span></span>  <span data-ttu-id="af6bd-200">이 Runbook으로 만든 모든 작업이 나열됩니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-200">This lists all the jobs created by this runbook.</span></span> <span data-ttu-id="af6bd-201">작업을 한 번만 실행했으므로 하나의 작업만 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-201">We should only see one job listed since we only ran the job once.</span></span><br> <span data-ttu-id="af6bd-202">![작업](media/automation-first-runbook-graphical/runbook-control-jobs.png)</span><span class="sxs-lookup"><span data-stu-id="af6bd-202">![Jobs](media/automation-first-runbook-graphical/runbook-control-jobs.png)</span></span>
12. <span data-ttu-id="af6bd-203">Runbook을 시작했을 때 표시된 동일한 작업창을 열려면 이 작업을 클릭하면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-203">You can click this job to open the same Job pane that we viewed when we started the runbook.</span></span>  <span data-ttu-id="af6bd-204">이 기능을 사용하면 예전으로 돌아가 특정 runbook으로 생성된 모든 작업의 세부 정보를 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-204">This allows you to go back in time and view the details of any job that was created for a particular runbook.</span></span>

## <a name="step-5---create-variable-assets"></a><span data-ttu-id="af6bd-205">5 단계 - 변수 자산 만들기</span><span class="sxs-lookup"><span data-stu-id="af6bd-205">Step 5 - Create variable assets</span></span>
<span data-ttu-id="af6bd-206">지금까지 runbook을 테스트 하고 게시했지만, 딱히 유용하지는 않습니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-206">We've tested and published our runbook, but so far it doesn't do anything useful.</span></span> <span data-ttu-id="af6bd-207">Azure 리소스를 관리하고자 합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-207">We want to have it manage Azure resources.</span></span>  <span data-ttu-id="af6bd-208">Runbook을 인증하도록 구성하기 전에 구독 ID를 보유할 변수를 만들고, 아래 6단계에서 인증할 활동을 설정한 후에 이 구독 ID를 참조합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-208">Before we configure the runbook to authenticate, we  create a variable to hold the subscription ID and reference it after we set up the activity to authenticate in step 6 below.</span></span>  <span data-ttu-id="af6bd-209">구독 컨텍스트에 대한 참조를 포함하면 여러 구독 간에서 쉽게 작업할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-209">Including a reference to the subscription context allows you to easily work between multiple subscriptions.</span></span>  <span data-ttu-id="af6bd-210">계속하기 전에 [탐색] 창에서 [구독] 옵션의 구독 ID를 복사합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-210">Before proceeding, copy your subscription ID from the Subscriptions option off the Navigation pane.</span></span>  

1. <span data-ttu-id="af6bd-211">[Automation 계정] 블레이드에서 **자산** 타일을 클릭하여 **자산** 블레이드를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-211">In the Automation Accounts blade, click the **Assets** tile and the **Assets** blade is opened.</span></span>
2. <span data-ttu-id="af6bd-212">[자산] 블레이드에서 **변수** 타일을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-212">In the Assets blade, click the **Variables** tile.</span></span>
3. <span data-ttu-id="af6bd-213">변수 블레이드에서 **변수 추가**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-213">On the Variables blade, click **Add a variable**.</span></span><br><span data-ttu-id="af6bd-214">![자동화 변수](media/automation-first-runbook-graphical/create-new-subscriptionid-variable.png)</span><span class="sxs-lookup"><span data-stu-id="af6bd-214">![Automation Variable](media/automation-first-runbook-graphical/create-new-subscriptionid-variable.png)</span></span>
4. <span data-ttu-id="af6bd-215">새로운 변수 블레이드의 **이름** 상자에 **AzureSubscriptionId**를 입력하고 **값** 상자에 사용자의 구독 ID를 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-215">In the New variable blade, in the **Name** box, enter **AzureSubscriptionId** and in the **Value** box enter your Subscription ID.</span></span>  <span data-ttu-id="af6bd-216">**형식**에 대한 *문자열* 및 **암호화**에 대한 기본 값을 유지합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-216">Keep *string* for the **Type** and the default value for **Encryption**.</span></span>  
5. <span data-ttu-id="af6bd-217">**만들기** 를 클릭하여 변수를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-217">Click **Create** to create the variable.</span></span>  

## <a name="step-6---add-authentication-to-manage-azure-resources"></a><span data-ttu-id="af6bd-218">6 단계 - Azure 리소스를 관리하는 인증 추가</span><span class="sxs-lookup"><span data-stu-id="af6bd-218">Step 6 - Add authentication to manage Azure resources</span></span>
<span data-ttu-id="af6bd-219">이제 구독 ID를 보유한 변수가 있으므로 [필수 조건](#prerequisites)에 나온 실행 자격 증명을 사용하여 인증하도록 runbook을 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-219">Now that we have a variable to hold our subscription ID, we can configure our runbook to authenticate with the Run As credentials that are referred to in the [prerequisites](#prerequisites).</span></span>  <span data-ttu-id="af6bd-220">Azure 실행 연결 **자산** 및 **Add-AzureRMAccount** cmdlet을 캔버스에 추가하여 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-220">We do that by adding the Azure Run As connection **Asset** and **Add-AzureRMAccount** cmdlet to the canvas.</span></span>  

1. <span data-ttu-id="af6bd-221">MyFirstRunbook 블레이드에서 **편집**을 클릭하여 그래픽 편집기를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-221">Open the graphical editor by clicking **Edit** on the MyFirstRunbook blade.</span></span><br> <span data-ttu-id="af6bd-222">![Runbook 편집](media/automation-first-runbook-graphical/runbook-controls-edit-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="af6bd-222">![Edit runbook](media/automation-first-runbook-graphical/runbook-controls-edit-revised20165.png)</span></span>
2. <span data-ttu-id="af6bd-223">**출력에 헬로 월드 작성**은 더 이상 필요하지 않으므로 마우스 오른쪽 단추를 클릭하고 **삭제**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-223">We don't need the **Write Hello World to output** anymore, so right-click it and select **Delete**.</span></span>
3. <span data-ttu-id="af6bd-224">라이브러리 컨트롤에서 **연결**을 확장하고 **캔버스에 추가**를 선택하여 **AzureRunAsConnection**을 캔버스에 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-224">In the Library control, expand **Connections** and add **AzureRunAsConnection** to the canvas by selecting **Add to canvas**.</span></span>
4. <span data-ttu-id="af6bd-225">캔버스에서 **AzureRunAsConnection**을 선택하고 구성 제어판의 **레이블** 텍스트 상자에 **실행 연결 가져오기**를 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-225">On the canvas, select **AzureRunAsConnection** and in the Configuration control pane, type **Get Run As Connection** in the **Label** textbox.</span></span>  <span data-ttu-id="af6bd-226">연결입니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-226">This is the connection</span></span>
5. <span data-ttu-id="af6bd-227">라이브러리 컨트롤에서 검색 텍스트 상자에 **Add-AzureRmAccount** 을 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-227">In the Library control, type **Add-AzureRmAccount** in the search textbox.</span></span>
6. <span data-ttu-id="af6bd-228">캔버스에 **캔버스에-AzureRmAccount** 를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-228">Add **Add-AzureRmAccount** to the canvas.</span></span><br> <span data-ttu-id="af6bd-229">![Add-AzureRMAccount](media/automation-first-runbook-graphical/search-powershell-cmdlet-addazurermaccount.png)</span><span class="sxs-lookup"><span data-stu-id="af6bd-229">![Add-AzureRMAccount](media/automation-first-runbook-graphical/search-powershell-cmdlet-addazurermaccount.png)</span></span>
7. <span data-ttu-id="af6bd-230">도형 아래에 원이 나타날 때까지 **실행 연결 가져오기** 를 마우스로 가리킵니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-230">Hover over **Get Run As Connection** until a circle appears on the bottom of the shape.</span></span> <span data-ttu-id="af6bd-231">원을 클릭하고 화살표를 **Add-AzureRmAccount**로 끌어 놓습니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-231">Click the circle and drag the arrow to **Add-AzureRmAccount**.</span></span>  <span data-ttu-id="af6bd-232">만든 화살표는 *링크*입니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-232">The arrow that you created is a *link*.</span></span>  <span data-ttu-id="af6bd-233">Runbook에서 **실행 연결 가져오기**를 시작한 다음 **Add-AzureRmAccount**를 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-233">The runbook starts with **Get Run As Connection** and then run **Add-AzureRmAccount**.</span></span><br> <span data-ttu-id="af6bd-234">![활동 간 링크 만들기](media/automation-first-runbook-graphical/runbook-link-auth-activities.png)</span><span class="sxs-lookup"><span data-stu-id="af6bd-234">![Create link between activities](media/automation-first-runbook-graphical/runbook-link-auth-activities.png)</span></span>
8. <span data-ttu-id="af6bd-235">캔버스에서 **Add-AzureRmAccount**를 선택하고 구성 제어판의 **레이블** 텍스트 상자에 **Azure에 로그인**을 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-235">On the canvas, select **Add-AzureRmAccount** and in the Configuration control pane type **Login to Azure** in the **Label** textbox.</span></span>
9. <span data-ttu-id="af6bd-236">**매개 변수** 를 클릭하면 활동 매개 변수 구성 블레이드가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-236">Click **Parameters** and the Activity Parameter Configuration blade appears.</span></span>
10. <span data-ttu-id="af6bd-237">**Add-AzureRmAccount** 에는 여러 매개 변수 집합이 있으므로 매개 변수 값을 입력하기 전에 하나를 선택해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-237">**Add-AzureRmAccount** has multiple parameter sets, so we need to select one before we can provide parameter values.</span></span>  <span data-ttu-id="af6bd-238">**매개 변수 집합**을 클릭한 다음 **ServicePrincipalCertificatewithSubscriptionId** 매개 변수 집합을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-238">Click **Parameter Set** and then select the **ServicePrincipalCertificatewithSubscriptionId** parameter set.</span></span>
11. <span data-ttu-id="af6bd-239">매개 변수 집합을 선택하면, Activity Parameter Configuration(활동 매개 변수 구성) 블레이드에 매개 변수가 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-239">Once you select the parameter set, the parameters are displayed in the Activity Parameter Configuration blade.</span></span>  <span data-ttu-id="af6bd-240">**APPLICATIONID**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-240">Click **APPLICATIONID**.</span></span><br> <span data-ttu-id="af6bd-241">![Azure RM 계정 매개 변수 추가](media/automation-first-runbook-graphical/add-azurermaccount-params.png)</span><span class="sxs-lookup"><span data-stu-id="af6bd-241">![Add Azure RM account parameters](media/automation-first-runbook-graphical/add-azurermaccount-params.png)</span></span>
12. <span data-ttu-id="af6bd-242">매개 변수 값 블레이드에서 **데이터 원본**에 대해 **활동 출력**을 선택하고 목록에서 **실행 연결 가져오기**를 선택한 다음 **필드 경로** 텍스트 상자에 **ApplicationId**를 입력한 다음 **확인**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-242">In the Parameter Value blade, select **Activity output** for the **Data source** and select **Get Run As Connection** from the list, in the **Field path** textbox type **ApplicationId**, and then click **OK**.</span></span>  <span data-ttu-id="af6bd-243">활동에서 여러 속성을 가진 개체를 출력하기 때문에 필드 경로에 대한 속성의 이름을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-243">We are specifying the name of the property for the Field path because the activity outputs an object with multiple properties.</span></span>
13. <span data-ttu-id="af6bd-244">**CERTIFICATETHUMBPRINT**를 클릭하고 매개 변수 값 블레이드에서 **데이터 원본**에 대한 **활동 출력**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-244">Click **CERTIFICATETHUMBPRINT**, and in the Parameter Value blade, select **Activity output** for the **Data source**.</span></span>  <span data-ttu-id="af6bd-245">목록에서 **실행 연결 가져오기**를 선택하고 **필드 경로** 텍스트 상자에서 **CertificateThumbprint**를 입력한 다음 **확인**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-245">Select **Get Run As Connection** from the list, in the **Field path** textbox type **CertificateThumbprint**, and then click **OK**.</span></span>
14. <span data-ttu-id="af6bd-246">**SERVICEPRINCIPAL**을 클릭하고 매개 변수 값 블레이드에서 **데이터 원본**에 대한 **ConstantValue**를 선택하고 **True** 옵션을 클릭한 다음 **확인**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-246">Click **SERVICEPRINCIPAL**, and in the Parameter Value blade, select **ConstantValue** for the **Data source**, click the option **True**, and then click **OK**.</span></span>
15. <span data-ttu-id="af6bd-247">**TENANTID**를 클릭하고 매개 변수 값 블레이드에서 **데이터 원본**에 대한 **활동 출력**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-247">Click **TENANTID**, and in the Parameter Value blade, select **Activity output** for the **Data source**.</span></span>  <span data-ttu-id="af6bd-248">목록에서 **실행 연결 가져오기**를 선택하고 **필드 경로** 텍스트 상자에서 **TenantId**를 입력한 다음 **확인**을 두 번 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-248">Select **Get Run As Connection** from the list, in the **Field path** textbox type **TenantId**, and then click **OK** twice.</span></span>  
16. <span data-ttu-id="af6bd-249">라이브러리 컨트롤에서 검색 텍스트 상자에 **Set-AzureRmContext** 을 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-249">In the Library control, type **Set-AzureRmContext** in the search textbox.</span></span>
17. <span data-ttu-id="af6bd-250">캔버스에 **Set-AzureRmContext** 를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-250">Add **Set-AzureRmContext** to the canvas.</span></span>
18. <span data-ttu-id="af6bd-251">캔버스에서 **Set-AzureRmContext**를 선택하고 구성 제어판의 **레이블** 텍스트 상자에 **구독 ID 지정**을 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-251">On the canvas, select **Set-AzureRmContext** and in the Configuration control pane type **Specify Subscription Id** in the **Label** textbox.</span></span>
19. <span data-ttu-id="af6bd-252">**매개 변수** 를 클릭하면 활동 매개 변수 구성 블레이드가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-252">Click **Parameters** and the Activity Parameter Configuration blade appears.</span></span>
20. <span data-ttu-id="af6bd-253">**Set-AzureRmContext** 에는 여러 매개 변수 집합이 있으므로 매개 변수 값을 입력하기 전에 하나를 선택해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-253">**Set-AzureRmContext** has multiple parameter sets, so we need to select one before we can provide parameter values.</span></span>  <span data-ttu-id="af6bd-254">**매개 변수 집합**을 클릭한 후 **SubscriptionId** 매개 변수 집합을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-254">Click **Parameter Set** and then select the **SubscriptionId** parameter set.</span></span>  
21. <span data-ttu-id="af6bd-255">매개 변수 집합을 선택하면, Activity Parameter Configuration(활동 매개 변수 구성) 블레이드에 매개 변수가 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-255">Once you select the parameter set, the parameters are displayed in the Activity Parameter Configuration blade.</span></span>  <span data-ttu-id="af6bd-256">**SubscriptionID**</span><span class="sxs-lookup"><span data-stu-id="af6bd-256">Click **SubscriptionID**</span></span>
22. <span data-ttu-id="af6bd-257">매개 변수 값 블레이드에서 **데이터 원본**에 대해 **변수 자산**을 선택하고 목록에서 **AzureSubscriptionId**를 선택한 다음 **확인**을 두 번 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-257">In the Parameter Value blade, select **Variable Asset** for the **Data source** and select **AzureSubscriptionId** from the list and then click **OK** twice.</span></span>   
23. <span data-ttu-id="af6bd-258">아래에 원 모양이 나타날 때까지 **Azure에 로그인** 을 마우스로 가리킵니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-258">Hover over **Login to Azure** until a circle appears on the bottom of the shape.</span></span> <span data-ttu-id="af6bd-259">원을 클릭하고 화살표를 **구독 ID 지정**으로 끌어 놓습니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-259">Click the circle and drag the arrow to **Specify Subscription Id**.</span></span>

<span data-ttu-id="af6bd-260">이 시점에서 runbook이 아래와 같이 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-260">Your runbook should look like the following at this point:</span></span> <br>![Runbook 인증 구성](media/automation-first-runbook-graphical/runbook-auth-config.png)

## <a name="step-7---add-activity-to-start-a-virtual-machine"></a><span data-ttu-id="af6bd-262">7 단계 - 가상 컴퓨터를 시작하는 활동 추가</span><span class="sxs-lookup"><span data-stu-id="af6bd-262">Step 7 - Add activity to start a virtual machine</span></span>
<span data-ttu-id="af6bd-263">여기서는 가상 컴퓨터를 시작하기 위한 **Start-AzureRmVM** 활동을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-263">Here we add a **Start-AzureRmVM** activity to start a virtual machine.</span></span>  <span data-ttu-id="af6bd-264">Azure 구독에서 가상 컴퓨터를 선택할 수 있지만, 지금은 cmdlet에 해당 이름을 하드 코드합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-264">You can pick any virtual machine in your Azure subscription, and for now you hardcode that name into the cmdlet.</span></span>

1. <span data-ttu-id="af6bd-265">라이브러리 컨트롤에서 검색 텍스트 상자에 **Start-AzureRm** 을 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-265">In the Library control, type **Start-AzureRm** in the search textbox.</span></span>
2. <span data-ttu-id="af6bd-266">**Start-AzureRmVM**을 캔버스에 추가한 다음 클릭하여 **구독 ID 지정** 아래로 끌어 놓습니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-266">Add **Start-AzureRmVM** to the canvas and then click and drag it underneath **Specify Subscription Id**.</span></span>
3. <span data-ttu-id="af6bd-267">도형 아래에 원이 나타날 때까지 **구독 ID 지정** 을 마우스로 가리킵니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-267">Hover over **Specify Subscription Id** until a circle appears on the bottom of the shape.</span></span>  <span data-ttu-id="af6bd-268">원을 클릭하고 화살표를 **Start-AzureRmVM**으로 끌어 놓습니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-268">Click the circle and drag the arrow to **Start-AzureRmVM**.</span></span>
4. <span data-ttu-id="af6bd-269">**Start-AzureRmVM**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-269">Select **Start-AzureRmVM**.</span></span>  <span data-ttu-id="af6bd-270">**매개 변수**와 **매개 변수 집합**을 차례로 클릭하여 **Start-AzureRmVM**에 대한 집합을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-270">Click **Parameters** and then **Parameter Set** to view the sets for **Start-AzureRmVM**.</span></span>  <span data-ttu-id="af6bd-271">**ResourceGroupNameParameterSetName** 매개 변수 집합을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-271">Select the **ResourceGroupNameParameterSetName** parameter set.</span></span> <span data-ttu-id="af6bd-272">**ResourceGroupName** 및 **이름** 옆에는 느낌표가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-272">Note that **ResourceGroupName** and **Name** have exclamation points next them.</span></span>  <span data-ttu-id="af6bd-273">이것은 매개 변수가 필요하다는 것을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-273">This indicates that they are required parameters.</span></span>  <span data-ttu-id="af6bd-274">또한, 양 쪽 모두에 문자열 값이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-274">Also note both expect string values.</span></span>
5. <span data-ttu-id="af6bd-275">**Name**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-275">Select **Name**.</span></span>  <span data-ttu-id="af6bd-276">**데이터 원본**에 대해 **PowerShell 식**을 선택하고, 이 Runbook으로 시작될 가상 컴퓨터의 이름을 큰따옴표로 묶어서 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-276">Select **PowerShell expression** for the **Data source** and type in the name of the virtual machine surrounded with double quotes that we start with this runbook.</span></span>  <span data-ttu-id="af6bd-277">**확인**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-277">Click **OK**.</span></span><br><span data-ttu-id="af6bd-278">![Start-AzureRmVM 이름 매개 변수 값](media/automation-first-runbook-graphical/runbook-startvm-nameparameter.png)</span><span class="sxs-lookup"><span data-stu-id="af6bd-278">![Start-AzureRmVM Name Parameter Value](media/automation-first-runbook-graphical/runbook-startvm-nameparameter.png)</span></span>
6. <span data-ttu-id="af6bd-279">**ResourceGroupName**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-279">Select **ResourceGroupName**.</span></span> <span data-ttu-id="af6bd-280">**PowerShell 식** 에 대해 **데이터 원본** 을 사용하고 리소스 그룹의 이름을 큰따옴표 안에 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-280">Use **PowerShell expression** for the **Data source** and type in the name of the resource group surrounded with double quotes.</span></span>  <span data-ttu-id="af6bd-281">**확인**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-281">Click **OK**.</span></span><br> <span data-ttu-id="af6bd-282">![Start-AzureRmVM 매개 변수](media/automation-first-runbook-graphical/startazurermvm-params.png)</span><span class="sxs-lookup"><span data-stu-id="af6bd-282">![Start-AzureRmVM Parameters](media/automation-first-runbook-graphical/startazurermvm-params.png)</span></span>
7. <span data-ttu-id="af6bd-283">runbook을 테스트할 수 있도록 테스트 창을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-283">Click Test pane so that we can test the runbook.</span></span>
8. <span data-ttu-id="af6bd-284">**시작** 을 클릭하여 테스트를 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-284">Click **Start** to start the test.</span></span>  <span data-ttu-id="af6bd-285">완료되면, 가상 컴퓨터가 시작되었다는 것을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-285">Once it completes, check that the virtual machine was started.</span></span>

<span data-ttu-id="af6bd-286">이 시점에서 runbook이 아래와 같이 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-286">Your runbook should look like the following at this point:</span></span> <br>![Runbook 인증 구성](media/automation-first-runbook-graphical/runbook-startvm.png)

## <a name="step-8---add-additional-input-parameters-to-the-runbook"></a><span data-ttu-id="af6bd-288">8 단계 - runbook에 입력 매개 변수 추가</span><span class="sxs-lookup"><span data-stu-id="af6bd-288">Step 8 - Add additional input parameters to the runbook</span></span>
<span data-ttu-id="af6bd-289">현재 Runbook은 **Start-AzureRmVM** cmdlet에 지정한 리소스 그룹에서 가상 컴퓨터를 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-289">Our runbook currently starts the virtual machine in the resource group that we specified in the **Start-AzureRmVM** cmdlet.</span></span>  <span data-ttu-id="af6bd-290">Runbook을 시작할 때 둘 다 지정할 수 있으면 이 Runbook이 더욱 유용할 것입니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-290">Our runbook would be more useful if we could specify both when the runbook is started.</span></span>  <span data-ttu-id="af6bd-291">이제 Runbook에 입력 매개 변수를 추가하여 해당 기능을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-291">We now add input parameters to the runbook to provide that functionality.</span></span>

1. <span data-ttu-id="af6bd-292">**MyFirstRunbook** 창에서 **편집**을 클릭하여 그래픽 편집기를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-292">Open the graphical editor by clicking **Edit** on the **MyFirstRunbook** pane.</span></span>
2. <span data-ttu-id="af6bd-293">**입력 및 출력**과 **입력 추가**를 차례로 클릭하여 Runbook 입력 매개 변수 창을 엽니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-293">Click **Input and output** and then **Add input** to open the Runbook Input Parameter pane.</span></span><br> <span data-ttu-id="af6bd-294">![Runbook 입력 및 출력](media/automation-first-runbook-graphical/runbook-toolbar-InputandOutput-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="af6bd-294">![Runbook Input and Output](media/automation-first-runbook-graphical/runbook-toolbar-InputandOutput-revised20165.png)</span></span>
3. <span data-ttu-id="af6bd-295">*Name* 에 대해 **VMName**을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-295">Specify *VMName* for the **Name**.</span></span>  <span data-ttu-id="af6bd-296">**형식**에 대해 *문자열*을 유지하고 **필수**를 *예*로 변경합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-296">Keep *string* for the **Type**, but change **Mandatory** to *Yes*.</span></span>  <span data-ttu-id="af6bd-297">**확인**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-297">Click **OK**.</span></span>
4. <span data-ttu-id="af6bd-298">*ResourceGroupName*이라는 두 번째 필수 입력 매개 변수를 만든 다음 **확인**을 클릭하여 **입력 및 출력** 창을 닫습니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-298">Create a second mandatory input parameter called *ResourceGroupName* and then click **OK** to close the **Input and Output** pane.</span></span><br> <span data-ttu-id="af6bd-299">![Runbook 입력 매개 변수](media/automation-first-runbook-graphical/start-azurermvm-params-outputs.png)</span><span class="sxs-lookup"><span data-stu-id="af6bd-299">![Runbook Input Parameters](media/automation-first-runbook-graphical/start-azurermvm-params-outputs.png)</span></span>
5. <span data-ttu-id="af6bd-300">**Start-AzureRmVM** 활동을 선택하고 **매개 변수**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-300">Select the **Start-AzureRmVM** activity and then click **Parameters**.</span></span>
6. <span data-ttu-id="af6bd-301">**이름**에 대한 **데이터 원본**을 **Runbook 입력**으로 변경한 다음 **VMName**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-301">Change the **Data source** for **Name** to **Runbook input** and then select **VMName**.</span></span><br>
7. <span data-ttu-id="af6bd-302">**ResourceGroupName**에 대한 **데이터 원본**을 **Runbook 입력**으로 변경한 다음 **ResourceGroupName**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-302">Change the **Data source** for **ResourceGroupName** to **Runbook input** and then select **ResourceGroupName**.</span></span><br> <span data-ttu-id="af6bd-303">![Start-azurevm 매개 변수](media/automation-first-runbook-graphical/start-azurermvm-params-runbookinput.png)</span><span class="sxs-lookup"><span data-stu-id="af6bd-303">![Start-AzureVM Parameters](media/automation-first-runbook-graphical/start-azurermvm-params-runbookinput.png)</span></span>
8. <span data-ttu-id="af6bd-304">Runbook을 저장하고 테스트 창을 엽니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-304">Save the runbook and open the Test pane.</span></span>  <span data-ttu-id="af6bd-305">이제 테스트에서 사용하는 두 입력 변수에 대한 값을 제공할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-305">Note that you can now provide values for the two input variables that you use in the test.</span></span>
9. <span data-ttu-id="af6bd-306">창을 닫습니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-306">Close the Test pane.</span></span>
10. <span data-ttu-id="af6bd-307">**게시** 를 클릭하여 Runbook의 새 버전을 게시합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-307">Click **Publish** to publish the new version of the runbook.</span></span>
11. <span data-ttu-id="af6bd-308">이전 단계에서 실행시킨 가상 컴퓨터를 중지합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-308">Stop the virtual machine that you started in the previous step.</span></span>
12. <span data-ttu-id="af6bd-309">**시작** 을 클릭하여 runbook을 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-309">Click **Start** to start the runbook.</span></span>  <span data-ttu-id="af6bd-310">시작하려는 가상 컴퓨터의 **VMName** 및 **ResourceGroupName**을 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-310">Type in the **VMName** and **ResourceGroupName** for the virtual machine that you're going to start.</span></span><br> <span data-ttu-id="af6bd-311">![Start Runbook](media/automation-first-runbook-graphical/runbook-start-inputparams.png)</span><span class="sxs-lookup"><span data-stu-id="af6bd-311">![Start Runbook](media/automation-first-runbook-graphical/runbook-start-inputparams.png)</span></span>
13. <span data-ttu-id="af6bd-312">Runbook이 완료되면 가상 컴퓨터가 시작되었다는 것을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-312">When the runbook completes, check that the virtual machine was started.</span></span>

## <a name="step-9---create-a-conditional-link"></a><span data-ttu-id="af6bd-313">9 단계 - 조건부 링크 만들기</span><span class="sxs-lookup"><span data-stu-id="af6bd-313">Step 9 - Create a conditional link</span></span>
<span data-ttu-id="af6bd-314">이제 Runbook을 수정하여 아직 시작하지 않은 경우에만 가상 컴퓨터를 시작하려고 시도합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-314">We now modify the runbook so that it only attempts to start the virtual machine if it is not already started.</span></span>  <span data-ttu-id="af6bd-315">이렇게 하려면 가상 컴퓨터의 인스턴스 수준 상태를 가져오는 Runbook에 **Get-AzureRmVM** cmdlet을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-315">You do this by adding a **Get-AzureRmVM** cmdlet to the runbook that gets the instance level status of the virtual machine.</span></span> <span data-ttu-id="af6bd-316">그런 다음 PowerShell 코드 조각과 함께 **Get Status**라는 PowerShell 워크플로 코드 모듈을 추가하여 가상 컴퓨터 상태가 실행 중이거나 중지되었는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-316">Then you add a PowerShell Workflow code module called **Get Status** with a snippet of PowerShell code to determine if the virtual machine state is running or stopped.</span></span>  <span data-ttu-id="af6bd-317">**상태 가져오기** 모듈의 조건부 링크는 현재 실행 중인 상태가 중지되는 경우에만 **Start-AzureRmVM**을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-317">A conditional link from the **Get Status** module only runs **Start-AzureRmVM** if the current running state is stopped.</span></span>  <span data-ttu-id="af6bd-318">마지막으로 VM이 성공적으로 시작되었거나 PowerShell Write-Output cmdlet을 사용하지 않았다고 알려주는 메시지를 출력합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-318">Finally, we output a message to inform you if the VM was successfully started or not using the PowerShell Write-Output cmdlet.</span></span>

1. <span data-ttu-id="af6bd-319">그래픽 편집기에서 **MyFirstRunbook** 을 엽니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-319">Open **MyFirstRunbook** in the graphical editor.</span></span>
2. <span data-ttu-id="af6bd-320">**구독 ID 지정**과 **Start-AzureRmVM** 간의 링크를 클릭하고 *삭제* 키를 눌러 제거합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-320">Remove the link between **Specify Subscription Id** and **Start-AzureRmVM** by clicking on it and then pressing the *Delete* key.</span></span>
3. <span data-ttu-id="af6bd-321">라이브러리 컨트롤에서 검색 텍스트 상자에 **Get-AzureRm** 을 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-321">In the Library control, type **Get-AzureRm** in the search textbox.</span></span>
4. <span data-ttu-id="af6bd-322">캔버스에 **Get-AzureRmVM** 을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-322">Add **Get-AzureRmVM** to the canvas.</span></span>
5. <span data-ttu-id="af6bd-323">**Get-AzureRmVM**과 **매개 변수 집합**을 차례로 선택하여 **Get-AzureRmVM**에 대한 집합을 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-323">Select **Get-AzureRmVM** and then **Parameter Set** to view the sets for **Get-AzureRmVM**.</span></span>  <span data-ttu-id="af6bd-324">**GetVirtualMachineInResourceGroupNameParamSet** 매개 변수 집합을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-324">Select the **GetVirtualMachineInResourceGroupNameParamSet** parameter set.</span></span>  <span data-ttu-id="af6bd-325">**ResourceGroupName** 및 **이름** 옆에는 느낌표가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-325">Note that **ResourceGroupName** and **Name** have exclamation points next them.</span></span>  <span data-ttu-id="af6bd-326">이것은 매개 변수가 필요하다는 것을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-326">This indicates that they are required parameters.</span></span>  <span data-ttu-id="af6bd-327">또한, 양 쪽 모두에 문자열 값이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-327">Also note both expect string values.</span></span>
6. <span data-ttu-id="af6bd-328">**이름**에 대한 **데이터 원본**에서 **Runbook 입력**을 선택한 다음 **VMName**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-328">Under **Data source** for **Name**, select **Runbook input** and then select **VMName**.</span></span>  <span data-ttu-id="af6bd-329">**확인**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-329">Click **OK**.</span></span>
7. <span data-ttu-id="af6bd-330">**ResourceGroupName**에 대한 **데이터 원본**에서 **Runbook 입력**을 선택한 다음 **ResourceGroupName**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-330">Under **Data source** for **ResourceGroupName**, select **Runbook input** and then select **ResourceGroupName**.</span></span>  <span data-ttu-id="af6bd-331">**확인**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-331">Click **OK**.</span></span>
8. <span data-ttu-id="af6bd-332">**상태**에 대한 **데이터 원본**에서 **상수 값**을 선택한 다음 **True**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-332">Under **Data source** for **Status**, select **Constant value** and then click  **True**.</span></span>  <span data-ttu-id="af6bd-333">**확인**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-333">Click **OK**.</span></span>  
9. <span data-ttu-id="af6bd-334">**구독 ID 지정**에서 **Get-AzureRmVM**에 대한 링크를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-334">Create a link from **Specify Subscription Id** to **Get-AzureRmVM**.</span></span>
10. <span data-ttu-id="af6bd-335">라이브러리 컨트롤에서 **Runbook 컨트롤**을 확장하고 캔버스에 **코드**를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-335">In the library control, expand **Runbook Control** and add **Code** to the canvas.</span></span>  
11. <span data-ttu-id="af6bd-336">**Get-AzureRmVM**에서 **코드**에 대한 링크를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-336">Create a link from **Get-AzureRmVM** to **Code**.</span></span>  
12. <span data-ttu-id="af6bd-337">**코드**를 클릭하고 구성 창에서 레이블을 **상태 가져오기**로 변경합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-337">Click **Code** and in the Configuration pane, change label to **Get Status**.</span></span>
13. <span data-ttu-id="af6bd-338">**코드** 매개 변수를 선택하면 **코드 편집기** 블레이드가 나타납니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-338">Select **Code** parameter, and the **Code Editor** blade appears.</span></span>  
14. <span data-ttu-id="af6bd-339">코드 편집기에 다음 코드 조각을 붙여 넣습니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-339">In the code editor, paste the following snippet of code:</span></span>
    
     ```
     $StatusesJson = $ActivityOutput['Get-AzureRmVM'].StatusesText
     $Statuses = ConvertFrom-Json $StatusesJson
     $StatusOut =""
     foreach ($Status in $Statuses){
     if($Status.Code -eq "Powerstate/running"){$StatusOut = "running"}
     elseif ($Status.Code -eq "Powerstate/deallocated") {$StatusOut = "stopped"}
     }
     $StatusOut
     ```
15. <span data-ttu-id="af6bd-340">**상태 가져오기**에서 **Start-AzureRmVM**에 대한 링크를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-340">Create a link from **Get Status** to **Start-AzureRmVM**.</span></span><br> <span data-ttu-id="af6bd-341">![코드 모듈과 Runbook](media/automation-first-runbook-graphical/runbook-startvm-get-status.png)</span><span class="sxs-lookup"><span data-stu-id="af6bd-341">![Runbook with Code Module](media/automation-first-runbook-graphical/runbook-startvm-get-status.png)</span></span>  
16. <span data-ttu-id="af6bd-342">링크를 선택하고 구성 창에서 **조건 적용**을 **예**로 변경합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-342">Select the link and in the Configuration pane, change **Apply condition** to **Yes**.</span></span>   <span data-ttu-id="af6bd-343">링크가 True로 확인되는 조건에서만 대상 활동이 실행된다고 나타내는 파선으로 바뀝니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-343">Note the link turns to a dashed line indicating that the target activity only runs if the condition resolves to true.</span></span>  
17. <span data-ttu-id="af6bd-344">**조건 식**에 *$ActivityOutput['Get Status'] -eq "Stopped"*를 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-344">For the **Condition expression**, type *$ActivityOutput['Get Status'] -eq "Stopped"*.</span></span>  <span data-ttu-id="af6bd-345">이제 가상 컴퓨터가 중지된 경우에만 **Start-AzureRmVM**이 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-345">**Start-AzureRmVM** now only runs if the virtual machine is stopped.</span></span>
18. <span data-ttu-id="af6bd-346">라이브러리 컨트롤에서 **Cmdlet**과 **Microsoft.PowerShell.Utility**를 차례로 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-346">In the Library control, expand **Cmdlets** and then **Microsoft.PowerShell.Utility**.</span></span>
19. <span data-ttu-id="af6bd-347">캔버스에 **Write-Output**을 두 번 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-347">Add **Write-Output** to the canvas twice.</span></span><br> <span data-ttu-id="af6bd-348">![쓰기 출력으로 Runbook](media/automation-first-runbook-graphical/runbook-startazurermvm-complete.png)</span><span class="sxs-lookup"><span data-stu-id="af6bd-348">![Runbook with Write-Output](media/automation-first-runbook-graphical/runbook-startazurermvm-complete.png)</span></span>
20. <span data-ttu-id="af6bd-349">첫 번째 **Write-Output** 컨트롤에서 **매개 변수**를 클릭하고 **레이블** 값을 *VM 시작 알림*으로 변경합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-349">On the first **Write-Output** control, click **Parameters** and change the **Label** value to *Notify VM Started*.</span></span>
21. <span data-ttu-id="af6bd-350">**InputObject**에 대해, **데이터 원본**을 **PowerShell 식**으로 변경하고 *"$VMName successfully started"* 식을 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-350">For **InputObject**, change **Data source** to **PowerShell expression** and type in the expression *"$VMName successfully started."*.</span></span>
22. <span data-ttu-id="af6bd-351">두 번째 **Write-Output** 컨트롤에서 **매개 변수**를 클릭하고 **레이블** 값을 *VM 시작 실패 알림*으로 변경합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-351">On the second **Write-Output** control, click **Parameters** and change the **Label** value to *Notify VM Start Failed*</span></span>
23. <span data-ttu-id="af6bd-352">**InputObject**에서 **데이터 원본**을 **PowerShell 식**으로 변경하고 *"$VMName could not start"* 식을 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-352">For **InputObject**, change **Data source** to **PowerShell expression** and type in the expression *"$VMName could not start."*.</span></span>
24. <span data-ttu-id="af6bd-353">**Start-AzureRmVM**에서 **VM 중지 알림** 및 **VM 시작 실패 알림**에 대한 링크를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-353">Create a link from **Start-AzureRmVM** to **Notify VM Started** and **Notify VM Start Failed**.</span></span>
25. <span data-ttu-id="af6bd-354">**VM 시작 알림** 링크를 선택하고 **조건 적용**을 **True**로 변경합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-354">Select the link to **Notify VM Started** and change **Apply condition** to **True**.</span></span>
26. <span data-ttu-id="af6bd-355">**조건 식**에 *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -eq $true*를 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-355">For the **Condition expression**, type *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -eq $true*.</span></span>  <span data-ttu-id="af6bd-356">이제 가상 컴퓨터가 성공적으로 시작된 경우에만 이 Write-Output 컨트롤이 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-356">This Write-Output control now only runs if the virtual machine is successfully started.</span></span>
27. <span data-ttu-id="af6bd-357">**VM 시작 실패 알림** 링크를 선택하고 **조건 적용**을 **True**로 변경합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-357">Select the link to **Notify VM Start Failed** and change **Apply condition** to **True**.</span></span>
28. <span data-ttu-id="af6bd-358">**조건 식**에 *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -ne $true*를 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-358">For the **Condition expression**, type *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -ne $true*.</span></span>  <span data-ttu-id="af6bd-359">이제 가상 컴퓨터가 성공적으로 시작되지 않은 경우에만 이 Write-Output 컨트롤이 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-359">This Write-Output control now only runs if the virtual machine is not successfully started.</span></span>
29. <span data-ttu-id="af6bd-360">Runbook을 저장하고 테스트 창을 엽니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-360">Save the runbook and open the Test pane.</span></span>
30. <span data-ttu-id="af6bd-361">중지된 가상 컴퓨터로 runbook을 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="af6bd-361">Start the runbook with the virtual machine stopped, and it should start.</span></span>

## <a name="next-steps"></a><span data-ttu-id="af6bd-362">다음 단계</span><span class="sxs-lookup"><span data-stu-id="af6bd-362">Next steps</span></span>
* <span data-ttu-id="af6bd-363">그래픽 작성에 대해 자세히 알아보려면 [Azure 자동화에서 그래픽 작성](automation-graphical-authoring-intro.md)</span><span class="sxs-lookup"><span data-stu-id="af6bd-363">To learn more about Graphical Authoring, see [Graphical authoring in Azure Automation](automation-graphical-authoring-intro.md)</span></span>
* <span data-ttu-id="af6bd-364">PowerShell Runbook을 시작하려면 [내 첫 번째 PowerShell Runbook](automation-first-runbook-textual-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="af6bd-364">To get started with PowerShell runbooks, see [My first PowerShell runbook](automation-first-runbook-textual-powershell.md)</span></span>
* <span data-ttu-id="af6bd-365">PowerShell 워크플로 Runbook을 시작하려면 [내 첫 번째 PowerShell 워크플로 Runbook](automation-first-runbook-textual.md)</span><span class="sxs-lookup"><span data-stu-id="af6bd-365">To get started with PowerShell workflow runbooks, see [My first PowerShell workflow runbook](automation-first-runbook-textual.md)</span></span>

