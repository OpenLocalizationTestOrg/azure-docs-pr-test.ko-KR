---
title: "Azure Automation에서 Runbook 출력 및 메시지 | Microsoft Docs"
description: "Azure Automation의 runbook에서 출력 및 오류 메시지를 만들고 검색하는 방법을 설명합니다."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: tysonn
ms.assetid: 13a414f5-0e2c-4be2-9558-a3e3ec84b6b2
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 11/11/2016
ms.author: magoedte;bwren
ms.openlocfilehash: 6f01f97e38aa271034741c8a5e2f8057ab61fcd7
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/11/2017
---
# <a name="runbook-output-and-messages-in-azure-automation"></a><span data-ttu-id="a985e-103">Azure Automation에서 Runbook 출력 및 메시지</span><span class="sxs-lookup"><span data-stu-id="a985e-103">Runbook output and messages in Azure Automation</span></span>
<span data-ttu-id="a985e-104">대부분의 Azure Automation runbook에는 사용자에게 오류 메시지와 같은 일종의 출력이나 다른 워크플로에서 사용하고자 하는 복잡한 개체가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-104">Most Azure Automation runbooks will have some form of output such as an error message to the user or a complex object intended to be consumed by another workflow.</span></span> <span data-ttu-id="a985e-105">Windows PowerShell은 [여러 스트림](http://blogs.technet.com/heyscriptingguy/archive/2014/03/30/understanding-streams-redirection-and-write-host-in-powershell.aspx) 제공하여 스크립트 또는 워크플로에서 출력을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-105">Windows PowerShell provides [multiple streams](http://blogs.technet.com/heyscriptingguy/archive/2014/03/30/understanding-streams-redirection-and-write-host-in-powershell.aspx) to send output from a script or workflow.</span></span> <span data-ttu-id="a985e-106">Azure Automation은 이러한 스트림에서 각각 다르게 작동하고 runbook을 만들 경우 각각을 사용하는 방법은 모범 사례를 따라야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-106">Azure Automation works with each of these streams differently, and you should follow best practices for how to use each when you are creating a runbook.</span></span>

<span data-ttu-id="a985e-107">다음 테이블은 runbook을 실행하거나 [runbook을 테스트](automation-testing-runbook.md)할 경우 Azure 관리 포털에서 각 스트림 및 동작에 대한 간략한 설명을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-107">The following table provides a brief description of each of the streams and their behavior in the Azure Management Portal both when running a published runbook and when [testing a runbook](automation-testing-runbook.md).</span></span> <span data-ttu-id="a985e-108">각 스트림에 대한 자세한 내용은 후속 섹션에 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-108">Further details on each stream are provided in subsequent sections.</span></span>

| <span data-ttu-id="a985e-109">Stream</span><span class="sxs-lookup"><span data-stu-id="a985e-109">Stream</span></span> | <span data-ttu-id="a985e-110">설명</span><span class="sxs-lookup"><span data-stu-id="a985e-110">Description</span></span> | <span data-ttu-id="a985e-111">게시됨</span><span class="sxs-lookup"><span data-stu-id="a985e-111">Published</span></span> | <span data-ttu-id="a985e-112">테스트</span><span class="sxs-lookup"><span data-stu-id="a985e-112">Test</span></span> |
|:--- |:--- |:--- |:--- |
| <span data-ttu-id="a985e-113">출력</span><span class="sxs-lookup"><span data-stu-id="a985e-113">Output</span></span> |<span data-ttu-id="a985e-114">다른 runbook에서 사용할 수 있도록 의도된 개체입니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-114">Objects intended to be consumed by other runbooks.</span></span> |<span data-ttu-id="a985e-115">작업 기록에 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-115">Written to the job history.</span></span> |<span data-ttu-id="a985e-116">테스트 출력 창에 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-116">Displayed in the Test Output Pane.</span></span> |
| <span data-ttu-id="a985e-117">Warning</span><span class="sxs-lookup"><span data-stu-id="a985e-117">Warning</span></span> |<span data-ttu-id="a985e-118">사용자를 위한 경고 메시지입니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-118">Warning message intended for the user.</span></span> |<span data-ttu-id="a985e-119">작업 기록에 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-119">Written to the job history.</span></span> |<span data-ttu-id="a985e-120">테스트 출력 창에 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-120">Displayed in the Test Output Pane.</span></span> |
| <span data-ttu-id="a985e-121">오류</span><span class="sxs-lookup"><span data-stu-id="a985e-121">Error</span></span> |<span data-ttu-id="a985e-122">사용자를 위한 오류 메시지입니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-122">Error message intended for the user.</span></span> <span data-ttu-id="a985e-123">예외와 달리 runbook는 기본적으로 오류 메시지 이후에 계속합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-123">Unlike an exception, the runbook continues after an error message by default.</span></span> |<span data-ttu-id="a985e-124">작업 기록에 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-124">Written to the job history.</span></span> |<span data-ttu-id="a985e-125">테스트 출력 창에 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-125">Displayed in the Test Output Pane.</span></span> |
| <span data-ttu-id="a985e-126">자세한 정보 표시</span><span class="sxs-lookup"><span data-stu-id="a985e-126">Verbose</span></span> |<span data-ttu-id="a985e-127">일반 또는 디버깅 정보를 제공하는 메시지입니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-127">Messages providing general or debugging information.</span></span> |<span data-ttu-id="a985e-128">자세한 정보 표시 로깅이 Runbook에 켜져 있는 경우 작업 기록에 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-128">Written to job history only if verbose logging is turned on for the runbook.</span></span> |<span data-ttu-id="a985e-129">$VerbosePreference runbook가 계속으로 설정된 경우 테스트 출력 창에 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-129">Displayed in the Test Output pane only if $VerbosePreference is set to Continue in the runbook.</span></span> |
| <span data-ttu-id="a985e-130">진행</span><span class="sxs-lookup"><span data-stu-id="a985e-130">Progress</span></span> |<span data-ttu-id="a985e-131">runbook의 각 작업 전과 후에 레코드를 자동으로 생성했습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-131">Records automatically generated before and after each activity in the runbook.</span></span> <span data-ttu-id="a985e-132">자체 진행률 레코드는 대화형 사용자를 위한 것이기 때문에 Runbook이 만들려고 하지 않아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-132">The runbook should not attempt to create its own progress records since they are intended for an interactive user.</span></span> |<span data-ttu-id="a985e-133">진행률 로깅이 Runbook에 켜져 있는 경우 작업 기록에 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-133">Written to job history only if progress logging is turned on for the runbook.</span></span> |<span data-ttu-id="a985e-134">테스트 출력 창에 표시하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-134">Not displayed in the Test Output Pane.</span></span> |
| <span data-ttu-id="a985e-135">디버그</span><span class="sxs-lookup"><span data-stu-id="a985e-135">Debug</span></span> |<span data-ttu-id="a985e-136">대화형 사용자를 위한 메시지입니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-136">Messages intended for an interactive user.</span></span> <span data-ttu-id="a985e-137">Runbook에서 사용하지 않아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-137">Should not be used in runbooks.</span></span> |<span data-ttu-id="a985e-138">작업 기록에 기록하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-138">Not written to job history.</span></span> |<span data-ttu-id="a985e-139">테스트 출력 창에 기록하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-139">Not written to Test Output Pane.</span></span> |

## <a name="output-stream"></a><span data-ttu-id="a985e-140">출력 스트림</span><span class="sxs-lookup"><span data-stu-id="a985e-140">Output stream</span></span>
<span data-ttu-id="a985e-141">출력 스트림이 올바르게 실행되면 스크립트 또는 워크플로에 의해 생성된 개체의 출력을 위한 것입니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-141">The Output stream is intended for output of objects created by a script or workflow when it runs correctly.</span></span> <span data-ttu-id="a985e-142">Azure Automation에서 이 스트림은 주로 [현재 runbook을 호출하는 부모 runbook](automation-child-runbooks.md)에서 사용할 수 있도록 의도한 개체에 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-142">In Azure Automation, this stream is primarily used for objects intended to be consumed by [parent runbooks that call the current runbook](automation-child-runbooks.md).</span></span> <span data-ttu-id="a985e-143">부모 runbook에서 [runbook 인라인을 호출](automation-child-runbooks.md#invoking-a-child-runbook-using-inline-execution)하는 경우 출력 스트림에서 부모 runbook에 데이터를 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-143">When you [call a runbook inline](automation-child-runbooks.md#invoking-a-child-runbook-using-inline-execution) from a parent runbook, it returns data from the output stream to the parent.</span></span> <span data-ttu-id="a985e-144">runbook이 다른 runbook에서 호출되지 않는다는 점을 알고 있는 경우 출력 스트림을 사용하여 다시 사용자에게 일반 정보를 전달해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-144">You should only use the output stream to communicate general information back to the user if you know the runbook will never be called by another runbook.</span></span> <span data-ttu-id="a985e-145">그러나 모범 사례로 일반적으로 [자세한 정보 표시 스트림](#Verbose) 을 사용하여 사용자에게 일반 정보를 전달해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-145">As a best practice, however, you should typically use the [Verbose Stream](#Verbose) to communicate general information to the user.</span></span>

<span data-ttu-id="a985e-146">[쓰기 출력](http://technet.microsoft.com/library/hh849921.aspx) 을 사용하거나 runbook에서 자체 줄에 개체를 배치하여 출력 스트림에 데이터를 쓸 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-146">You can write data to the output stream using [Write-Output](http://technet.microsoft.com/library/hh849921.aspx) or by putting the object on its own line in the runbook.</span></span>

    #The following lines both write an object to the output stream.
    Write-Output –InputObject $object
    $object

### <a name="output-from-a-function"></a><span data-ttu-id="a985e-147">함수에서 출력</span><span class="sxs-lookup"><span data-stu-id="a985e-147">Output from a function</span></span>
<span data-ttu-id="a985e-148">Runbook에 포함된 함수에 출력 스트림을 작성하는 경우 출력은 runbook에 다시 전달됩니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-148">When you write to the output stream in a function that is included in your runbook, the output is passed back to the runbook.</span></span> <span data-ttu-id="a985e-149">runbook이 해당 출력을 변수에 할당하면 출력 스트림에 기록되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-149">If the runbook assigns that output to a variable, then it is not written to the output stream.</span></span> <span data-ttu-id="a985e-150">함수 내에서 다른 스트림에 기록하면 runbook에 해당하는 스트림에 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-150">Writing to any other streams from within the function will write to the corresponding stream for the runbook.</span></span>

<span data-ttu-id="a985e-151">다음과 같은 샘플 runbook을 고려해 보세요.</span><span class="sxs-lookup"><span data-stu-id="a985e-151">Consider the following sample runbook.</span></span>

    Workflow Test-Runbook
    {
        Write-Verbose "Verbose outside of function" -Verbose
        Write-Output "Output outside of function"
        $functionOutput = Test-Function
        $functionOutput

    Function Test-Function
     {
        Write-Verbose "Verbose inside of function" -Verbose
        Write-Output "Output inside of function"
      }
    }


<span data-ttu-id="a985e-152">Runbook 작업에 대한 출력 스트림은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-152">The output stream for the runbook job would be:</span></span>

    Output inside of function
    Output outside of function

<span data-ttu-id="a985e-153">Runbook 작업에 대한 자세한 정보 표시 스트림은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-153">The verbose stream for the runbook job would be:</span></span>

    Verbose outside of function
    Verbose inside of function

<span data-ttu-id="a985e-154">Runbook을 게시하고 시작하기 전에 자세한 정보 표시 스트림 출력을 얻기 위해 Runbook 설정에서 자세한 정보 표시 로깅을 켜야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-154">Once you have published the runbook and before you start it, you must also turn on Verbose logging in the runbook settings in order to get the Verbose stream output.</span></span>

### <a name="declaring-output-data-type"></a><span data-ttu-id="a985e-155">출력 데이터 형식 선언</span><span class="sxs-lookup"><span data-stu-id="a985e-155">Declaring output data type</span></span>
<span data-ttu-id="a985e-156">워크플로는 [OutputType 특성](http://technet.microsoft.com/library/hh847785.aspx)을 사용하여 해당 출력의 데이터 형식을 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-156">A workflow can specify the data type of its output using the [OutputType attribute](http://technet.microsoft.com/library/hh847785.aspx).</span></span> <span data-ttu-id="a985e-157">이 특성은 런타임 시 영향을 주지 않지만 runbook의 예상된 출력에서 디자인 타임에 runbook 작성자에게 표시를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-157">This attribute has no effect during runtime, but it provides an indication to the runbook author at design time of the expected output of the runbook.</span></span> <span data-ttu-id="a985e-158">Runbook용 도구 집합이 계속 진화하기 때문에 디자인 타임에 출력 데이터 형식을 선언하는 중요성이 증가합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-158">As the toolset for runbooks continues to evolve, the importance of declaring output data types at design time will increase in importance.</span></span> <span data-ttu-id="a985e-159">결과적으로 만든 runbook에서 이 선언을 포함하는 것이 모범 사례입니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-159">As a result, it is a best practice to include this declaration in any runbooks that you create.</span></span>

<span data-ttu-id="a985e-160">다음은 예제 출력 형식의 목록입니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-160">Here is a list of example output types:</span></span>

* <span data-ttu-id="a985e-161">System.String</span><span class="sxs-lookup"><span data-stu-id="a985e-161">System.String</span></span>
* <span data-ttu-id="a985e-162">System.Int32</span><span class="sxs-lookup"><span data-stu-id="a985e-162">System.Int32</span></span>
* <span data-ttu-id="a985e-163">System.Collections.Hashtable</span><span class="sxs-lookup"><span data-stu-id="a985e-163">System.Collections.Hashtable</span></span>
* <span data-ttu-id="a985e-164">Microsoft.Azure.Commands.Compute.Models.PSVirtualMachine</span><span class="sxs-lookup"><span data-stu-id="a985e-164">Microsoft.Azure.Commands.Compute.Models.PSVirtualMachine</span></span>

<span data-ttu-id="a985e-165">다음 샘플 runbook은 문자열 개체를 출력하고 해당 출력 형식의 선언을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-165">The following sample runbook outputs a string object and includes a declaration of its output type.</span></span> <span data-ttu-id="a985e-166">Runbook이 특정 유형의 배열을 출력하면 형식의 배열과 달리 형식을 지정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-166">If your runbook outputs an array of a certain type, then you should still specify the type as opposed to an array of the type.</span></span>

    Workflow Test-Runbook
    {
       [OutputType([string])]

       $output = "This is some string output."
       Write-Output $output
    }

<span data-ttu-id="a985e-167">그래픽 또는 그래픽 Grapical PowerShell 워크플로 Runbook에서 출력 형식을 선언하기 위해 **입력 및 출력** 메뉴 옵션을 선택하고 출력 형식 이름을 입력할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-167">To declare an output type in Grapical or Graphical PowerShell Workflow runbooks, you can select the **Input and Output** menu option and type in the name of the output type.</span></span>  <span data-ttu-id="a985e-168">부모 Runbook에서 참조하는 경우 쉽게 식별할 수 있도록 전체 .NET 클래스 이름을 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-168">We recommend you use the full .NET class name to make it easily identifiable when referencing it from a parent runbook.</span></span>  <span data-ttu-id="a985e-169">Runbook의 데이터 버스에 대한 해당 클래스의 모든 속성을 노출하고 Runbook의 다른 활동에 대한 값으로 조건부 논리, 로깅 및 참조에 사용하는 경우 유연성 향상을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-169">This exposes all the properties of that class to the data bus in the runbook and provides a lot of flexibility when using them for conditional logic, logging, and referencing as values for other activities in the runbook.</span></span><br> <span data-ttu-id="a985e-170">![Runbook 입력 및 출력 옵션](media/automation-runbook-output-and-messages/runbook-menu-input-and-output-option.png)</span><span class="sxs-lookup"><span data-stu-id="a985e-170">![Runbook Input and Output option](media/automation-runbook-output-and-messages/runbook-menu-input-and-output-option.png)</span></span>

<span data-ttu-id="a985e-171">다음 예제에서는 이 기능을 보여 주기 위한 두 개의 그래픽 Runbook이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-171">In the following example, we have two graphical runbooks to demonstrate this feature.</span></span>  <span data-ttu-id="a985e-172">모듈식 Runbook 디자인 모델을 적용하는 경우 실행 계정을 사용하여 Azure로 인증을 관리하는 *인증 Runbook 템플릿* 으로 제공하는 하나의 Runbook이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-172">If we apply the modular runbook design model, we have one runbook which serves as the *Authentication Runbook template* managing authentication with Azure using the Run As account.</span></span>  <span data-ttu-id="a985e-173">이 경우에 일반적으로 제공된 시나리오를 자동화하는 핵심 논리를 수행하는 두 번째 Runbook은 *인증 Runbook 템플릿* 을 실행하고 **테스트** 출력 창에 결과를 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-173">Our second runbook, which would normally perform the core logic to automate a given scenario, in this case is going to execute the *Authentication Runbook template* and display the results to your **Test** output pane.</span></span>  <span data-ttu-id="a985e-174">정상적인 상황에서 자식 Runbook의 출력을 활용하는 리소스에 대해 이 Runbook이 작업을 수행하도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-174">Under normal circumstances, we would have this runbook do something against a resource leveraging the output from the child runbook.</span></span>    

<span data-ttu-id="a985e-175">**AuthenticateTo-Azure** Runbook의 기본 논리는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-175">Here is the basic logic of the **AuthenticateTo-Azure** runbook.</span></span><br> <span data-ttu-id="a985e-176">![Runbook 템플릿 예제 인증](media/automation-runbook-output-and-messages/runbook-authentication-template.png)할 경우 Azure 관리 포털에서 각 스트림 및 동작에 대한 간략한 설명을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-176">![Authenticate Runbook Template Example](media/automation-runbook-output-and-messages/runbook-authentication-template.png).</span></span>  

<span data-ttu-id="a985e-177">인증 프로필 속성을 반환하는 출력 형식 *Microsoft.Azure.Commands.Profile.Models.PSAzureContext*를 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-177">It includes the output type *Microsoft.Azure.Commands.Profile.Models.PSAzureContext*, which will return the authentication profile properties.</span></span><br> <span data-ttu-id="a985e-178">![Runbook 출력 형식 예제](media/automation-runbook-output-and-messages/runbook-input-and-output-add-blade.png)</span><span class="sxs-lookup"><span data-stu-id="a985e-178">![Runbook Output Type Example](media/automation-runbook-output-and-messages/runbook-input-and-output-add-blade.png)</span></span> 

<span data-ttu-id="a985e-179">이 Runbook은 매우 단순하지만 여기에서 호출할 하나의 구성 항목이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-179">While this runbook is very straight forward, there is one configuration item to call out here.</span></span>  <span data-ttu-id="a985e-180">마지막 작업은 **Write-Output** cmdlet을 실행하고 해당 cmdlet에 필요한 **Inputobject** 매개 변수에 대해 PowerShell 식을 사용하여 $_ 변수에 대한 프로필 데이터를 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-180">The last activity is executing the **Write-Output** cmdlet and writes the profile data to a $_ variable using a PowerShell expression for the **Inputobject** parameter, which is required for that cmdlet.</span></span>  

<span data-ttu-id="a985e-181">이 예제에서 *Test-ChildOutputType*이라는 두 번째 Runbook의 경우 단순히 두 개의 작업을 가집니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-181">For the second runbook in this example, named *Test-ChildOutputType*, we simply have two activities.</span></span><br> <span data-ttu-id="a985e-182">![예제 자식 출력 형식 Runbook](media/automation-runbook-output-and-messages/runbook-display-authentication-results-example.png)</span><span class="sxs-lookup"><span data-stu-id="a985e-182">![Example Child Output Type Runbook](media/automation-runbook-output-and-messages/runbook-display-authentication-results-example.png)</span></span> 

<span data-ttu-id="a985e-183">첫 번째 작업은 **AuthenticateTo-Azure** Runbook을 호출하고 두 번째 작업은 **작업 출력**의 **데이터 원본**으로 **Write-Verbose** cmdlet을 실행하며 **AuthenticateTo-Azure** Runbook의 컨텍스트 출력을 지정하는 **필드 경로**에 대한 값은 **Context.Subscription.SubscriptionName**입니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-183">The first activity calls the **AuthenticateTo-Azure** runbook and the second activity is running the **Write-Verbose** cmdlet with the **Data source** of **Activity output** and the value for **Field path** is **Context.Subscription.SubscriptionName**, which is specifying the context output from the **AuthenticateTo-Azure** runbook.</span></span><br> <span data-ttu-id="a985e-184">![Write-Verbose cmdlet 매개 변수 데이터 원본](media/automation-runbook-output-and-messages/runbook-write-verbose-parameters-config.png)</span><span class="sxs-lookup"><span data-stu-id="a985e-184">![Write-Verbose cmdlet Parameter Data Source](media/automation-runbook-output-and-messages/runbook-write-verbose-parameters-config.png)</span></span>    

<span data-ttu-id="a985e-185">결과 출력은 구독의 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-185">The resulting output is the name of the subscription.</span></span><br> ![Test-ChildOutputType Runbook 결과](media/automation-runbook-output-and-messages/runbook-test-childoutputtype-results.png)

<span data-ttu-id="a985e-187">출력 형식 제어의 동작에 대한 참고입니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-187">One note about the behavior of the Output Type control.</span></span>  <span data-ttu-id="a985e-188">입력 및 출력 속성 블레이드의 출력 형식 필드에 값을 입력하는 경우 제어에서 항목을 인식하려면 입력한 후 제어의 바깥쪽을 클릭해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-188">When you type a value in the Output Type field on the Input and Output properties blade, you have to click outside of the control  after you type it, in order for your entry to be recognized by the control.</span></span>  

## <a name="message-streams"></a><span data-ttu-id="a985e-189">메시지 스트림</span><span class="sxs-lookup"><span data-stu-id="a985e-189">Message streams</span></span>
<span data-ttu-id="a985e-190">출력 스트림과 달리 메시지 스트림은 사용자에게 정보를 전달하기 위한 것입니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-190">Unlike the output stream, message streams are intended to communicate information to the user.</span></span> <span data-ttu-id="a985e-191">다른 종류의 정보에 대한 여러 메시지 스트림이 있으며 각각 Azure Automation에서 다르게 처리됩니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-191">There are multiple message streams for different kinds of information, and each is handled differently by Azure Automation.</span></span>

### <a name="warning-and-error-streams"></a><span data-ttu-id="a985e-192">경고 및 오류 스트림</span><span class="sxs-lookup"><span data-stu-id="a985e-192">Warning and error streams</span></span>
<span data-ttu-id="a985e-193">경고 및 오류 스트림은 Runbook에서 발생하는 문제를 로그하기 위한 것입니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-193">The Warning and Error streams are intended to log problems that occur in a runbook.</span></span> <span data-ttu-id="a985e-194">runbook을 실행하는 경우 작업 기록에 기록되며 runbook을 테스트할 경우 Azure 관리 포털에서 테스트 출력 창에 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-194">They are written to the job history when a runbook is executed, and are included in the Test Output Pane in the Azure Management Portal when a runbook is tested.</span></span> <span data-ttu-id="a985e-195">기본적으로 runbook은 경고 또는 오류 이후에 계속 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-195">By default, the runbook will continue executing after a warning or error.</span></span> <span data-ttu-id="a985e-196">메시지를 만들기 전에 runbook의 [기본 설정 변수](#PreferenceVariables) 를 설정하여 runbook이 경고 또는 오류로 일시 중단해야 할지를 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-196">You can specify that the runbook should be suspended on a warning or error by setting a [preference variable](#PreferenceVariables) in the runbook before creating the message.</span></span> <span data-ttu-id="a985e-197">예를 들어 runbook이 예외와 마찬가지로 오류로 인해 일시 중단이 발생하려면 **$ErrorActionPreference** 를 중지로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-197">For example, to cause a runbook to suspend on an error as it would an exception, set **$ErrorActionPreference** to Stop.</span></span>

<span data-ttu-id="a985e-198">[Write-Warning](https://technet.microsoft.com/library/hh849931.aspx) 또는 [Write-Error](http://technet.microsoft.com/library/hh849962.aspx) cmdlet를 사용하여 경고 또는 오류 메시지를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-198">Create a warning or error message using the [Write-Warning](https://technet.microsoft.com/library/hh849931.aspx) or [Write-Error](http://technet.microsoft.com/library/hh849962.aspx) cmdlet.</span></span> <span data-ttu-id="a985e-199">또한 활동은 이러한 스트림에 쓸 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-199">Activities may also write to these streams.</span></span>

    #The following lines create a warning message and then an error message that will suspend the runbook.

    $ErrorActionPreference = "Stop"
    Write-Warning –Message "This is a warning message."
    Write-Error –Message "This is an error message that will stop the runbook because of the preference variable."

### <a name="verbose-stream"></a><span data-ttu-id="a985e-200">자세한 정보 표시 스트림</span><span class="sxs-lookup"><span data-stu-id="a985e-200">Verbose stream</span></span>
<span data-ttu-id="a985e-201">자세한 정보 표시 메시지 스트림은Runbook 작업에 대한 일반 정보입니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-201">The Verbose message stream is for general information about the runbook operation.</span></span> <span data-ttu-id="a985e-202">[디버그 스트림](#Debug) 을 runbook에서 사용할 수 없기 때문에 디버그 정보에 자세한 정보 표시 메시지를 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-202">Since the [Debug Stream](#Debug) is not available in a runbook, verbose messages should be used for debug information.</span></span> <span data-ttu-id="a985e-203">기본적으로 게시된 runbook에서 자세한 정보 표시 메시지는 작업 기록에 저장되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-203">By default, verbose messages from published runbooks will not be stored in the job history.</span></span> <span data-ttu-id="a985e-204">자세한 정보 표시 메시지를 저장하기 위해 runbook을 구성하여 Azure 관리 포털의 runbook 구성 탭에서 자세한 정보 표시 레코드를 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-204">To store verbose messages, configure published runbooks to Log Verbose Records on the Configure tab of the runbook in the Azure Management Portal.</span></span> <span data-ttu-id="a985e-205">대부분의 경우 성능상의 이유로 runbook에 대한 자세한 정보 표시 레코드를 기록하지 않는 기본 설정을 유지해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-205">In most cases, you should keep the default setting of not logging verbose records for a runbook for performance reasons.</span></span> <span data-ttu-id="a985e-206">옵션을 켜서 문제를 해결하거나 runbook 디버그합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-206">Turn on this option only to troubleshoot or debug a runbook.</span></span>

<span data-ttu-id="a985e-207">[runbook을 테스트](automation-testing-runbook.md)할 경우 runbook이 자세한 정보 표시 레코드를 기록하도록 구성되면 자세한 정보 표시 메시지는 표시되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-207">When [testing a runbook](automation-testing-runbook.md), verbose messages are not displayed even if the runbook is configured to log verbose records.</span></span> <span data-ttu-id="a985e-208">[runbook을 테스트](automation-testing-runbook.md)하는 동안 자세한 정보 표시 메시지를 표시하려면 $VerbosePreference 변수를 계속으로 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-208">To display verbose messages while [testing a runbook](automation-testing-runbook.md), you must set the $VerbosePreference variable to Continue.</span></span> <span data-ttu-id="a985e-209">해당 변수 세트를 사용하여 자세한 정보 표시 메시지를 Azure 포털의 테스트 출력 창에 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-209">With that variable set, verbose messages will be displayed in the Test Output Pane of the Azure portal.</span></span>

<span data-ttu-id="a985e-210">[Write-Verbose](http://technet.microsoft.com/library/hh849951.aspx) cmdlet를 사용하여 자세한 정보 표시 메시지를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-210">Create a verbose message using the [Write-Verbose](http://technet.microsoft.com/library/hh849951.aspx) cmdlet.</span></span>

    #The following line creates a verbose message.

    Write-Verbose –Message "This is a verbose message."

### <a name="debug-stream"></a><span data-ttu-id="a985e-211">디버그 스트림</span><span class="sxs-lookup"><span data-stu-id="a985e-211">Debug stream</span></span>
<span data-ttu-id="a985e-212">디버그 스트림은 대화형 사용자로 사용하기 위한 것이며 runbook에서 사용하지 않아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-212">The Debug stream is intended for use with an interactive user and should not be used in runbooks.</span></span>

## <a name="progress-records"></a><span data-ttu-id="a985e-213">진행률 레코드</span><span class="sxs-lookup"><span data-stu-id="a985e-213">Progress records</span></span>
<span data-ttu-id="a985e-214">Runbook을 구성하여(Azure 포털의 runbook 구성 탭에서) 진행률 레코드를 기록하는 경우 각 작업을 실행하는 전과 후에 작업 기록에 레코드를 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-214">If you configure a runbook to log progress records (on the Configure tab of the runbook in the Azure portal), then a record will be written to the job history before and after each activity is run.</span></span> <span data-ttu-id="a985e-215">대부분의 경우 성능을 최대화하기 위해 runbook에 대한 진행률 레코드를 기록하지 않는 기본 설정을 유지해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-215">In most cases, you should keep the default setting of not logging progress records for a runbook in order to maximize performance.</span></span> <span data-ttu-id="a985e-216">옵션을 켜서 문제를 해결하거나 runbook 디버그합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-216">Turn on this option only to troubleshoot or debug a runbook.</span></span> <span data-ttu-id="a985e-217">runbook을 테스트할 경우 runbook이 진행률 레코드를 기록하도록 구성되면 진행률 메시지는 표시되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-217">When testing a runbook, progress messages are not displayed even if the runbook is configured to log progress records.</span></span>

<span data-ttu-id="a985e-218">[Write-progress](http://technet.microsoft.com/library/hh849902.aspx) cmdlet은 대화형 사용자로 사용하기 위한 것이기 때문에 runbook에 유효하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-218">The [Write-Progress](http://technet.microsoft.com/library/hh849902.aspx) cmdlet is not valid in a runbook, since this is intended for use with an interactive user.</span></span>

## <a name="preference-variables"></a><span data-ttu-id="a985e-219">기본 설정 변수</span><span class="sxs-lookup"><span data-stu-id="a985e-219">Preference variables</span></span>
<span data-ttu-id="a985e-220">Windows PowerShell은 [기본 설정 변수](http://technet.microsoft.com/library/hh847796.aspx) 를 사용하여 다른 출력 스트림에 전송된 데이터에 대응하는 방법을 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-220">Windows PowerShell uses [preference variables](http://technet.microsoft.com/library/hh847796.aspx) to determine how to respond to data sent to different output streams.</span></span> <span data-ttu-id="a985e-221">runbook에서 이러한 변수를 설정하여 다른 스트림으로 전송된 데이터에 응답하는 방식을 제어할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-221">You can set these variables in a runbook to control how it will respond to data sent into different streams.</span></span>

<span data-ttu-id="a985e-222">다음 테이블은 유효 및 기본값으로 runbook에서 사용할 수 있는 기본 설정 변수를 나열 합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-222">The following table lists the preference variables that can be used in runbooks with their valid and default values.</span></span> <span data-ttu-id="a985e-223">이 테이블은 runbook에서 유효한 값만을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-223">Note that this table only includes the values that are valid in a runbook.</span></span> <span data-ttu-id="a985e-224">추가 값은 Azure Automation 외부의 Windows PowerShell에서 사용되는 경우 기본 설정 변수로 유효합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-224">Additional values are valid for the preference variables when used in Windows PowerShell outside of Azure Automation.</span></span>

| <span data-ttu-id="a985e-225">변수</span><span class="sxs-lookup"><span data-stu-id="a985e-225">Variable</span></span> | <span data-ttu-id="a985e-226">기본값</span><span class="sxs-lookup"><span data-stu-id="a985e-226">Default Value</span></span> | <span data-ttu-id="a985e-227">유효한 값</span><span class="sxs-lookup"><span data-stu-id="a985e-227">Valid Values</span></span> |
|:--- |:--- |:--- |
| <span data-ttu-id="a985e-228">WarningPreference</span><span class="sxs-lookup"><span data-stu-id="a985e-228">WarningPreference</span></span> |<span data-ttu-id="a985e-229">계속</span><span class="sxs-lookup"><span data-stu-id="a985e-229">Continue</span></span> |<span data-ttu-id="a985e-230">중지</span><span class="sxs-lookup"><span data-stu-id="a985e-230">Stop</span></span><br><span data-ttu-id="a985e-231">계속</span><span class="sxs-lookup"><span data-stu-id="a985e-231">Continue</span></span><br><span data-ttu-id="a985e-232">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="a985e-232">SilentlyContinue</span></span> |
| <span data-ttu-id="a985e-233">ErrorActionPreference</span><span class="sxs-lookup"><span data-stu-id="a985e-233">ErrorActionPreference</span></span> |<span data-ttu-id="a985e-234">계속</span><span class="sxs-lookup"><span data-stu-id="a985e-234">Continue</span></span> |<span data-ttu-id="a985e-235">중지</span><span class="sxs-lookup"><span data-stu-id="a985e-235">Stop</span></span><br><span data-ttu-id="a985e-236">계속</span><span class="sxs-lookup"><span data-stu-id="a985e-236">Continue</span></span><br><span data-ttu-id="a985e-237">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="a985e-237">SilentlyContinue</span></span> |
| <span data-ttu-id="a985e-238">VerbosePreference</span><span class="sxs-lookup"><span data-stu-id="a985e-238">VerbosePreference</span></span> |<span data-ttu-id="a985e-239">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="a985e-239">SilentlyContinue</span></span> |<span data-ttu-id="a985e-240">중지</span><span class="sxs-lookup"><span data-stu-id="a985e-240">Stop</span></span><br><span data-ttu-id="a985e-241">계속</span><span class="sxs-lookup"><span data-stu-id="a985e-241">Continue</span></span><br><span data-ttu-id="a985e-242">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="a985e-242">SilentlyContinue</span></span> |

<span data-ttu-id="a985e-243">다음 테이블은 runbook에서 유효한 기본 설정 변수 값에 대한 동작을 나열합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-243">The following table lists the behavior for the preference variable values that are valid in runbooks.</span></span>

| <span data-ttu-id="a985e-244">값</span><span class="sxs-lookup"><span data-stu-id="a985e-244">Value</span></span> | <span data-ttu-id="a985e-245">동작</span><span class="sxs-lookup"><span data-stu-id="a985e-245">Behavior</span></span> |
|:--- |:--- |
| <span data-ttu-id="a985e-246">계속</span><span class="sxs-lookup"><span data-stu-id="a985e-246">Continue</span></span> |<span data-ttu-id="a985e-247">메시지를 기록하고 runbook 실행을 계속합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-247">Logs the message and continues executing the runbook.</span></span> |
| <span data-ttu-id="a985e-248">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="a985e-248">SilentlyContinue</span></span> |<span data-ttu-id="a985e-249">메시지를 기록하지 않고 Runbook을 계속 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-249">Continues executing the runbook without logging the message.</span></span> <span data-ttu-id="a985e-250">메시지를 무시하는 효과가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-250">This has the effect of ignoring the message.</span></span> |
| <span data-ttu-id="a985e-251">중지</span><span class="sxs-lookup"><span data-stu-id="a985e-251">Stop</span></span> |<span data-ttu-id="a985e-252">메시지를 기록하고 runbook을 일시 중단합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-252">Logs the message and suspends the runbook.</span></span> |

## <a name="retrieving-runbook-output-and-messages"></a><span data-ttu-id="a985e-253">Runbook 출력 및 메시지 검색</span><span class="sxs-lookup"><span data-stu-id="a985e-253">Retrieving runbook output and messages</span></span>
### <a name="azure-portal"></a><span data-ttu-id="a985e-254">Azure 포털</span><span class="sxs-lookup"><span data-stu-id="a985e-254">Azure portal</span></span>
<span data-ttu-id="a985e-255">Runbook의 작업 탭의 Azure 포털에서 Runbook 작업의 세부 정보를 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-255">You can view the details of a runbook job in the Azure portal from the Jobs tab of a runbook.</span></span> <span data-ttu-id="a985e-256">작업 요약은 작업 및 발생하는 모든 예외에 대한 일반 정보 외에도 입력 매개 변수 및 [출력 스트림](#Output) 을 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-256">The Summary of the job will display the input parameters and the [Output Stream](#Output) in addition to general information about the job and any exceptions if they occurred.</span></span> <span data-ttu-id="a985e-257">runbook을 구성하여 세부 정보 표시 및 진행률 레코드를 기록하면 기록은 [자세한 정보 표시 스트림](#Output) 및 [진행률 레코드](#WarningError) 외에도 [출력 스트림](#Verbose) 및 [경고 및 오류 스트림](#Progress)의 메시지를 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-257">The History will include messages from the [Output Stream](#Output) and [Warning and Error Streams](#WarningError) in addition to the [Verbose Stream](#Verbose) and [Progress Records](#Progress) if the runbook is configured to log verbose and progress records.</span></span>

### <a name="windows-powershell"></a><span data-ttu-id="a985e-258">Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="a985e-258">Windows PowerShell</span></span>
<span data-ttu-id="a985e-259">Windows PowerShell에서 [Get AzureAutomationJobOutput](https://msdn.microsoft.com/library/mt603476.aspx) cmdlet을 사용하여 runbook에서 출력 및 메시지를 검색할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-259">In Windows PowerShell, you can retrieve output and messages from a runbook using the [Get-AzureAutomationJobOutput](https://msdn.microsoft.com/library/mt603476.aspx) cmdlet.</span></span> <span data-ttu-id="a985e-260">cmdlet은 작업의 ID를 필요로 하고 반환하는 스트림을 지정하는 스트림을 호출한 매개 변수가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-260">This cmdlet requires the ID of the job and has a parameter called Stream where you specify which stream to return.</span></span> <span data-ttu-id="a985e-261">Any를 지정하여 작업에 모든 스트림을 반환할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-261">You can specify Any to return all streams for the job.</span></span>

<span data-ttu-id="a985e-262">다음 예제는 샘플 runbook를 시작한 다음 완료되기를 기다립니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-262">The following example starts a sample runbook and then waits for it to complete.</span></span> <span data-ttu-id="a985e-263">완료되면 해당 출력 스트림을 작업에서 수집합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-263">Once completed, its output stream is collected from the job.</span></span>

    $job = Start-AzureRmAutomationRunbook -ResourceGroupName "ResourceGroup01" `
    –AutomationAccountName "MyAutomationAccount" –Name "Test-Runbook"

    $doLoop = $true
    While ($doLoop) {
       $job = Get-AzureRmAutomationJob -ResourceGroupName "ResourceGroup01" `
       –AutomationAccountName "MyAutomationAccount" -Id $job.JobId
       $status = $job.Status
       $doLoop = (($status -ne "Completed") -and ($status -ne "Failed") -and ($status -ne "Suspended") -and ($status -ne "Stopped")
    }

    Get-AzureRmAutomationJobOutput -ResourceGroupName "ResourceGroup01" `
    –AutomationAccountName "MyAutomationAccount" -Id $job.JobId –Stream Output

### <a name="graphical-authoring"></a><span data-ttu-id="a985e-264">그래픽 작성</span><span class="sxs-lookup"><span data-stu-id="a985e-264">Graphical Authoring</span></span>
<span data-ttu-id="a985e-265">그래픽 Runbook의 경우 추가 로깅은 작업 수준 추적의 형식으로 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-265">For graphical runbooks, extra logging is available in the form of activity-level tracing.</span></span>  <span data-ttu-id="a985e-266">추적에는 기본 추적과 자세히 추적이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-266">There are two levels of tracing: Basic and Detailed.</span></span>  <span data-ttu-id="a985e-267">기본 추적에서는 작업의 시도 횟수 및 시작 시간과 같이 Runbook의 각 작업의 시작 및 종료 시간과 작업 다시 시도와 관련된 정보를 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-267">In Basic tracing, you can see the start and end time of each activity in the runbook plus information related to any activity retries, such as number of attempts and start time of the activity.</span></span>  <span data-ttu-id="a985e-268">자세히 추적에서는 기본 추적 외에도 각 작업에 대한 입력 및 출력 데이터를 얻습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-268">In Detailed tracing, you get Basic tracing plus input and output data for each activity.</span></span>  <span data-ttu-id="a985e-269">현재 추적 레코드는 자세한 정보 표시 스트림을 사용하여 기록되므로 추적을 사용하도록 설정할 경우 자세한 정보 로깅을 사용하도록 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-269">Note that currently the trace records are written using the verbose stream, so you must enable Verbose logging when you enable tracing.</span></span>  <span data-ttu-id="a985e-270">추적을 사용하는 그래픽 Runbook의 경우 기본 추적이 같은 용도로 사용되고 자세한 정보를 제공하기 때문에 진행률 레코드를 기록할 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-270">For graphical runbooks with tracing enabled there is no need to log progress records, because the Basic tracing serves the same purpose and is more informative.</span></span>

![그래픽 작성 작업 스트림 보기](media/automation-runbook-output-and-messages/job-streams-view-blade.png)

<span data-ttu-id="a985e-272">그래픽 Runbook에 대한 자세한 정보 로깅 및 추적을 사용하도록 설정하면 프로덕션 작업 스트림 보기에서 훨씬 더 많은 정보를 사용할 수 있음을 위의 스크린샷에서 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-272">You can see from the above screenshot that when you enable Verbose logging and tracing for Graphical runbooks, much more information is available in the production Job Streams view.</span></span>  <span data-ttu-id="a985e-273">이러한 추가 정보는 Runbook을 사용하는 프로덕션 문제 해결에 필요할 수 있으므로 그 목적으로만 사용하고 일반적으로는 사용하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-273">This extra information can be essential for troubleshooting production problems with a runbook, and therefore you should only enable it for that purpose and not as a general practice.</span></span>    
<span data-ttu-id="a985e-274">추적 레코드는 특히 많을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-274">The Trace records can be especially numerous.</span></span>  <span data-ttu-id="a985e-275">그래픽 Runbook 추적을 사용하면 기본 추적 또는 자세히 추적을 구성했는지에 따라 작업당 2~4개의 레코드를 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-275">With Graphical runbook tracing you can get two to four records per activity depending on whether you have configured Basic or Detailed tracing.</span></span>  <span data-ttu-id="a985e-276">문제 해결에 대한 Runbook의 진행 상황을 추적하는 데 이 정보가 필요하지 않은 한 추적을 끈 상태로 유지하고 싶어 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-276">Unless you need this information to track the progress of a runbook for troubleshooting, you might want to keep Tracing turned off.</span></span>

<span data-ttu-id="a985e-277">**작업 수준 추적을 사용하려면 다음 단계를 수행합니다.**</span><span class="sxs-lookup"><span data-stu-id="a985e-277">**To enable activity-level tracing, perform the following steps.**</span></span>

1. <span data-ttu-id="a985e-278">Azure 포털에서 자동화 계정을 엽니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-278">In the Azure Portal, open your Automation account.</span></span>
2. <span data-ttu-id="a985e-279">**Runbook** 타일을 클릭하여 Runbook 목록을 엽니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-279">Click on the **Runbooks** tile to open the list of runbooks.</span></span>
3. <span data-ttu-id="a985e-280">Runbook 블레이드의 Runbook 목록에서 그래픽 Runbook을 선택하도록 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-280">On the Runbooks blade, click to select a graphical runbook from your list of runbooks.</span></span>
4. <span data-ttu-id="a985e-281">선택한 Runbook에 대한 설정 블레이드에서 **로깅 및 추적**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-281">On the Settings blade for the selected runbook, click **Logging and Tracing**.</span></span>
5. <span data-ttu-id="a985e-282">로깅 및 추적 블레이드의 상세 레코드 기록에서 자세한 정보 로깅을 사용하도록 설정하려면 **켜기**를 클릭하고 작업 수준 추적에서 필요한 추적 수준에 따라 추적 수준을 **기본** 또는 **자세히**로 변경합니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-282">On the Logging and Tracing blade, under Log verbose records, click **On** to enable verbose logging and udner Activity-level tracing, change the trace level to **Basic** or **Detailed** based on the level of tracing you require.</span></span><br>
   
   ![그래픽 작성 로깅 및 추적 블레이드](media/automation-runbook-output-and-messages/logging-and-tracing-settings-blade.png)

### <a name="microsoft-operations-management-suite-oms-log-analytics"></a><span data-ttu-id="a985e-284">Microsoft OMS(Operations Management Suite) Log Analytics</span><span class="sxs-lookup"><span data-stu-id="a985e-284">Microsoft Operations Management Suite (OMS) Log Analytics</span></span>
<span data-ttu-id="a985e-285">자동화에서 Microsoft Operations Management Suite(OMS) Log Analytics 작업 영역으로 runbook 작업 상태 및 작업 스트림을 보낼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-285">Automation can send runbook job status and job streams to your Microsoft Operations Management Suite (OMS) Log Analytics workspace.</span></span>  <span data-ttu-id="a985e-286">Log Anaytics를 사용하여 다음을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a985e-286">With Log Analytics you can,</span></span>

* <span data-ttu-id="a985e-287">자동화 작업에 대한 통찰력 확보</span><span class="sxs-lookup"><span data-stu-id="a985e-287">Get insight on your Automation jobs</span></span> 
* <span data-ttu-id="a985e-288">Runbook 작업 상태(예: 실패 또는 일시 중단)를 기반으로 전자 메일 또는 경고 트리거</span><span class="sxs-lookup"><span data-stu-id="a985e-288">Trigger an email or alert based on your runbook job status (e.g. failed or suspended)</span></span> 
* <span data-ttu-id="a985e-289">작업 스트림에서 고급 쿼리 작성</span><span class="sxs-lookup"><span data-stu-id="a985e-289">Write advanced queries across your job streams</span></span> 
* <span data-ttu-id="a985e-290">자동화 계정 간에 작업 상호 연결</span><span class="sxs-lookup"><span data-stu-id="a985e-290">Correlate jobs across Automation accounts</span></span> 
* <span data-ttu-id="a985e-291">시간별 작업 기록 시각화</span><span class="sxs-lookup"><span data-stu-id="a985e-291">Visualize your job history over time</span></span>    

<span data-ttu-id="a985e-292">Log Analytics와의 통합을 구성하여 작업 데이터를 수집하고, 상관 관계를 설정하고, 작업을 수행하는 방법에 대한 자세한 내용은 [Automation에서 Log Analytics로 작업 상태 및 작업 스트림 전달(OMS)](automation-manage-send-joblogs-log-analytics.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="a985e-292">For more information on how to configure integration with Log Analytics to collect, correlate and act on job data, see [Forward job status and job streams from Automation to Log Analytics (OMS)](automation-manage-send-joblogs-log-analytics.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="a985e-293">다음 단계</span><span class="sxs-lookup"><span data-stu-id="a985e-293">Next steps</span></span>
* <span data-ttu-id="a985e-294">Runbook 실행, Runbook 작업 모니터링 방법 및 기타 기술 세부 정보를 알아보려면 [Runbook 작업 추적](automation-runbook-execution.md)</span><span class="sxs-lookup"><span data-stu-id="a985e-294">To learn more about runbook execution, how to monitor runbook jobs, and other technical details, see [Track a runbook job](automation-runbook-execution.md)</span></span>
* <span data-ttu-id="a985e-295">자식 Runbook을 디자인하고 사용하는 방법을 이해하려면 [Azure Automation의 자식 Runbook](automation-child-runbooks.md)</span><span class="sxs-lookup"><span data-stu-id="a985e-295">To understand how to design and use child runbooks, see [Child runbooks in Azure Automation](automation-child-runbooks.md)</span></span>

