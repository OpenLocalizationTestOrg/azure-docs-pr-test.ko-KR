---
title: "Azure 자동화의 그래픽 runbook에서 처리 aaaError | Microsoft Docs"
description: "이 문서에서는 설명 방법을 tooimplement 오류 Azure 자동화의 그래픽 runbook에서 논리를 처리 합니다."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: tysonn
ms.assetid: 
ms.service: automation
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 12/26/2016
ms.author: magoedte
ms.openlocfilehash: b9ff01361d2ebd9c0174b074a7a290b1cc2fd1c8
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="error-handling-in-azure-automation-graphical-runbooks"></a><span data-ttu-id="a0f90-103">Azure Automation 그래픽 runbook의 오류 처리</span><span class="sxs-lookup"><span data-stu-id="a0f90-103">Error handling in Azure Automation graphical runbooks</span></span>

<span data-ttu-id="a0f90-104">Runbook 경험할 수 있는 다른 문제를 식별 하는 키 runbook 디자인 주 tooconsider입니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-104">A key runbook design principal tooconsider is identifying different issues that a runbook might experience.</span></span> <span data-ttu-id="a0f90-105">이러한 문제는 성공, 예상된 오류 상태 및 예기치 않은 오류 조건을 포함할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-105">These issues can include success, expected error states, and unexpected error conditions.</span></span>

<span data-ttu-id="a0f90-106">runbook은 오류 처리를 포함해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-106">Runbooks should include error handling.</span></span> <span data-ttu-id="a0f90-107">toovalidate 활동 출력 hello 또는 그래픽 runbook으로 오류를 처리, Windows PowerShell 코드 활동을 사용 하 여, hello 활동의 출력 링크 hello에 조건부 논리를 정의 하거나 다른 방법을 적용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-107">toovalidate hello output of an activity or handle an error with graphical runbooks, you could use a Windows PowerShell code activity, define conditional logic on hello output link of hello activity, or apply another method.</span></span>          

<span data-ttu-id="a0f90-108">종종 runbook 작업으로 발생 하는 종료 되지 않는 오류 이면 뒤에 오는 모든 활동 hello 오류에 관계 없이 처리 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-108">Often, if there is a non-terminating error that occurs with a runbook activity, any activity that follows is processed regardless of hello error.</span></span> <span data-ttu-id="a0f90-109">hello 오류는 가능성이 toogenerate 예외가 있지만 hello 다음 활동 toorun 여전히 허용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-109">hello error is likely toogenerate an exception, but hello next activity is still allowed toorun.</span></span> <span data-ttu-id="a0f90-110">PowerShell은 설계 된 toohandle 오류는 hello 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-110">This is hello way that PowerShell is designed toohandle errors.</span></span>    

<span data-ttu-id="a0f90-111">실행 하는 동안 발생할 수 있는 PowerShell 오류 hello 유형의 종료 또는 종료 되지 않는 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-111">hello types of PowerShell errors that can occur during execution are terminating or non-terminating.</span></span> <span data-ttu-id="a0f90-112">종료 및 종료 되지 않는 오류 hello 차이점은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-112">hello differences between terminating and non-terminating errors are as follows:</span></span>

* <span data-ttu-id="a0f90-113">**종료 오류**: hello 명령 (또는 스크립트 실행)을 완전히 중단 실행 하는 동안 심각한 오류가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-113">**Terminating error**: A serious error during execution that halts hello command (or script execution) completely.</span></span> <span data-ttu-id="a0f90-114">예를 들어 존재하지 않는 cmdlet, cmdlet을 실행하지 못하도록 하는 구문 오류 또는 기타 심각한 오류를 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-114">Examples include non-existent cmdlets, syntax errors that prevent a cmdlet from running, or other fatal errors.</span></span>

* <span data-ttu-id="a0f90-115">**종료 되지 않는 오류**: hello 오류 불구 하 고 실행 toocontinue 허용 하는 비 심각한 오류가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-115">**Non-terminating error**: A non-serious error that allows execution toocontinue despite hello failure.</span></span> <span data-ttu-id="a0f90-116">예를 들어 찾을 수 없는 파일 오류 및 권한 문제 등의 작동 오류가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-116">Examples include operational errors such as file not found errors and permissions problems.</span></span>

<span data-ttu-id="a0f90-117">Azure 자동화의 그래픽 runbook으로 hello 기능 tooinclude 오류 처리 개선 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-117">Azure Automation graphical runbooks have been improved with hello capability tooinclude error handling.</span></span> <span data-ttu-id="a0f90-118">이제 예외를 종료되지 않는 오류로 전환하고 활동 간에 오류 링크를 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-118">You can now turn exceptions into non-terminating errors and create error links between activities.</span></span> <span data-ttu-id="a0f90-119">이 프로세스는 runbook 제작자 toocatch 오류 수 하 고 실현 또는 예기치 않은 상태를 관리 합니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-119">This process allows a runbook author toocatch errors and manage realized or unexpected conditions.</span></span>  

## <a name="when-toouse-error-handling"></a><span data-ttu-id="a0f90-120">때 toouse 오류 처리</span><span class="sxs-lookup"><span data-stu-id="a0f90-120">When toouse error handling</span></span>

<span data-ttu-id="a0f90-121">오류 또는 예외를 throw 하는 중요 한 작업 인 때마다 중요 tooprevent hello 처리 및 toohandle hello 오류에서 runbook의 다음 작업 적절 하 게 큽니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-121">Whenever there is a critical activity that throws an error or exception, it's important tooprevent hello next activity in your runbook from processing and toohandle hello error appropriately.</span></span> <span data-ttu-id="a0f90-122">이는 runbook에서 비즈니스 또는 서비스 운영 프로세스를 지원할 때 특히 중요합니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-122">This is especially critical when your runbooks are supporting a business or service operations process.</span></span>

<span data-ttu-id="a0f90-123">오류를 생성할 수 있는 각 활동에 대해 hello runbook 제작자 tooany 다른 활동을 가리키는 오류 링크를 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-123">For each activity that can produce an error, hello runbook author can add an error link pointing tooany other activity.</span></span>  <span data-ttu-id="a0f90-124">hello 대상 활동 수 모든 형식의 코드 활동을 포함 하 여 다른 runbook을 호출 하는 cmdlet을 호출 수 등에입니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-124">hello destination activity can be of any type, including code activities, invoking a cmdlet, invoking another runbook, and so on.</span></span>

<span data-ttu-id="a0f90-125">또한 hello 대상 활동 나가는 링크 있을 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-125">In addition, hello destination activity can also have outgoing links.</span></span> <span data-ttu-id="a0f90-126">이러한 링크는 일반 링크 또는 오류 링크일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-126">These links can be regular links or error links.</span></span> <span data-ttu-id="a0f90-127">즉, hello runbook 제작자 tooa 다시 정렬 하지 않고 복잡 한 오류 처리 논리를 구현할 수 작업 코딩 합니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-127">This means hello runbook author can implement complex error-handling logic without resorting tooa code activity.</span></span> <span data-ttu-id="a0f90-128">hello 좋습니다 toocreate 공통 된 기능을 사용 하 여 전용된 오류 처리 runbook 좋지만 필수는 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-128">hello recommended practice is toocreate a dedicated error-handling runbook with common functionality, but it's not mandatory.</span></span> <span data-ttu-id="a0f90-129">그럴 PowerShell 코드 활동에서 오류 처리 논리 hello만 옵션입니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-129">Error-handling logic in a PowerShell code activity it isn't hello only option.</span></span>  

<span data-ttu-id="a0f90-130">예를 들어 VM toostart를 시도 하는 runbook을 살펴보세요 고에 응용 프로그램을 설치 합니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-130">For example, consider a runbook that tries toostart a VM and install an application on it.</span></span> <span data-ttu-id="a0f90-131">Hello VM 시작 되지 않는다면 올바르게 하는 경우 다음 두 가지 동작을 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-131">If hello VM doesn't start correctly, it performs two actions:</span></span>

1. <span data-ttu-id="a0f90-132">이 문제에 대한 알림을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-132">It sends a notification about this problem.</span></span>
2. <span data-ttu-id="a0f90-133">대신 새 VM을 자동으로 프로비전하는 다른 runbook을 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-133">It starts another runbook that automatically provisions a new VM instead.</span></span>

<span data-ttu-id="a0f90-134">한 가지 해결 toohave tooan 활동 핸들 단계 1을 가리키는 오류 링크입니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-134">One solution is toohave an error link pointing tooan activity that handles step one.</span></span> <span data-ttu-id="a0f90-135">예를 들어 hello를 연결할 수 있습니다 **Write-warning** hello 같은 2 단계에 대 한 cmdlet tooan 활동 **시작 AzureRmAutomationRunbook** cmdlet.</span><span class="sxs-lookup"><span data-stu-id="a0f90-135">For example, you could connect hello **Write-Warning** cmdlet tooan activity for step two, such as hello **Start-AzureRmAutomationRunbook** cmdlet.</span></span>

<span data-ttu-id="a0f90-136">별도 오류 처리 runbook 및 다음 hello 지침 이전 제안으로 이러한 두 활동을 배치 하 여 많은 runbook에서 사용 하기 위해이 문제를 일반화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-136">You could also generalize this behavior for use in many runbooks by putting these two activities in a separate error handling runbook and following hello guidance suggested earlier.</span></span> <span data-ttu-id="a0f90-137">이 오류 처리 runbook을 호출 하기 전에 hello 원래 runbook의 hello 데이터에서 사용자 지정 메시지를 생성 하 고 매개 변수 toohello 오류 처리 runbook로 전달 합니다 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-137">Before calling this error-handling runbook, you could construct a custom message from hello data in hello original runbook, and then pass it as a parameter toohello error-handling runbook.</span></span>

## <a name="how-toouse-error-handling"></a><span data-ttu-id="a0f90-138">어떻게 toouse 오류 처리</span><span class="sxs-lookup"><span data-stu-id="a0f90-138">How toouse error handling</span></span>

<span data-ttu-id="a0f90-139">각 활동에는 예외를 종료되지 않는 오류로 전환하는 구성 설정이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-139">Each activity has a configuration setting that turns exceptions into non-terminating errors.</span></span> <span data-ttu-id="a0f90-140">이 설정은 기본적으로 사용하지 않도록 설정됩니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-140">By default, this setting is disabled.</span></span> <span data-ttu-id="a0f90-141">Toohandle 오류의 하려는 모든 작업에 대해이 설정을 사용 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-141">We recommend that you enable this setting on any activity where you want toohandle errors.</span></span>  

<span data-ttu-id="a0f90-142">이 구성의 기능을 사용 하 여 hello 활동의 오류를 모두 종료 및 종료 되지 않는 종료 되지 않는 오류로 처리 하 고 오류 링크도 처리할 수를 보장 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-142">By enabling this configuration, you are assuring that both terminating and non-terminating errors in hello activity are handled as non-terminating errors, and can be handled with an error link.</span></span>  

<span data-ttu-id="a0f90-143">이 설정의 구성 후 hello 오류를 처리 하는 활동을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-143">After configuring this setting, you create an activity that handles hello error.</span></span> <span data-ttu-id="a0f90-144">작업에서 오류를 생성 하는 경우 다음 링크를 따르면 송신 오류 hello 및 hello 작업은 일반 출력도 생성 하는 경우에 hello 일반 링크로 폴링 되지 않는 합니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-144">If an activity produces any error, then hello outgoing error links are followed, and hello regular links are not, even if hello activity produces regular output as well.</span></span><br><br> ![Automation runbook 오류 링크 예제](media/automation-runbook-graphical-error-handling/error-link-example.png)

<span data-ttu-id="a0f90-146">다음 예제는 hello, runbook 가상 컴퓨터의 hello 컴퓨터 이름을 포함 하는 변수를 검색 합니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-146">In hello following example, a runbook retrieves a variable that contains hello computer name of a virtual machine.</span></span> <span data-ttu-id="a0f90-147">다음 활동 hello와 toostart hello 가상 컴퓨터를 시도합니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-147">It then attempts toostart hello virtual machine with hello next activity.</span></span><br><br> ![Automation runbook 오류 처리 예제](media/automation-runbook-graphical-error-handling/runbook-example-error-handling.png)<br><br>      

<span data-ttu-id="a0f90-149">hello **Get-automationvariable** 활동 및 **시작 AzureRmVm** 구성된 tooconvert 예외 tooerrors 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-149">hello **Get-AutomationVariable** activity and **Start-AzureRmVm** are configured tooconvert exceptions tooerrors.</span></span>  <span data-ttu-id="a0f90-150">변수 또는 시작 hello 시키는 중 문제가 hello VM을 경우 오류가 생성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-150">If there are problems getting hello variable or starting hello VM, then errors are generated.</span></span><br><br> <span data-ttu-id="a0f90-151">![Automation runbook 오류 처리 활동 설정](media/automation-runbook-graphical-error-handling/activity-blade-convertexception-option.png)</span><span class="sxs-lookup"><span data-stu-id="a0f90-151">![Automation runbook error-handling activity settings](media/automation-runbook-graphical-error-handling/activity-blade-convertexception-option.png)</span></span>

<span data-ttu-id="a0f90-152">이러한 활동 tooa 단일에서 흐름 오류 링크 **오류 관리** 활동 (코드 활동).</span><span class="sxs-lookup"><span data-stu-id="a0f90-152">Error links flow from these activities tooa single **error management** activity (a code activity).</span></span> <span data-ttu-id="a0f90-153">이 활동은 hello를 사용 하는 간단한 PowerShell 식으로 구성 되어 *Throw* 함께 사용 하 여 처리 하는 키워드 toostop *$Error.Exception.Message* hello를 설명 하는 tooget hello 메시지 현재 예외입니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-153">This activity is configured with a simple PowerShell expression that uses hello *Throw* keyword toostop processing, along with *$Error.Exception.Message* tooget hello message that describes hello current exception.</span></span><br><br> <span data-ttu-id="a0f90-154">![Automation runbook 오류 처리 코드 예제](media/automation-runbook-graphical-error-handling/runbook-example-error-handling-code.png)</span><span class="sxs-lookup"><span data-stu-id="a0f90-154">![Automation runbook error-handling code example](media/automation-runbook-graphical-error-handling/runbook-example-error-handling-code.png)</span></span>


## <a name="next-steps"></a><span data-ttu-id="a0f90-155">다음 단계</span><span class="sxs-lookup"><span data-stu-id="a0f90-155">Next steps</span></span>

* <span data-ttu-id="a0f90-156">그래픽 runbook에서 링크 형식 및 링크에 대해 자세히 toolearn 참조 [Azure 자동화의 그래픽 제작](automation-graphical-authoring-intro.md#links-and-workflow)합니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-156">toolearn more about links and link types in graphical runbooks, see [Graphical authoring in Azure Automation](automation-graphical-authoring-intro.md#links-and-workflow).</span></span>

* <span data-ttu-id="a0f90-157">toolearn toomonitor runbook 작업 및 기타 기술 정보가 참조 하는 방법 runbook 실행에 대 한 자세한 [runbook 작업을 추적할](automation-runbook-execution.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="a0f90-157">toolearn more about runbook execution, how toomonitor runbook jobs, and other technical details, see [Track a runbook job](automation-runbook-execution.md).</span></span>
