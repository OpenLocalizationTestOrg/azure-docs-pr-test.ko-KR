---
title: "SAP NetWeaver에 대한 Azure Virtual Machines 계획 및 구현 | Microsoft 문서"
description: "SAP NetWeaver에 대한 Azure Virtual Machines 계획 및 구현"
services: virtual-machines-linux,virtual-machines-windows
documentationcenter: 
author: MSSedusch
manager: timlt
editor: 
tags: azure-resource-manager
keywords: 
ms.assetid: d7c59cc1-b2d0-4d90-9126-628f9c7a5538
ms.service: virtual-machines-linux
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: vm-linux
ms.workload: infrastructure-services
ms.date: 11/08/2016
ms.author: sedusch
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 17b2277de7df2ce534896c73bc9a682b9e72196f
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/29/2017
---
# <a name="azure-virtual-machines-planning-and-implementation-for-sap-netweaver"></a><span data-ttu-id="36d1a-103">SAP NetWeaver에 대한 Azure Virtual Machines 계획 및 구현</span><span class="sxs-lookup"><span data-stu-id="36d1a-103">Azure Virtual Machines planning and implementation for SAP NetWeaver</span></span>
[767598]:https://launchpad.support.sap.com/#/notes/767598
[773830]:https://launchpad.support.sap.com/#/notes/773830
[826037]:https://launchpad.support.sap.com/#/notes/826037
[965908]:https://launchpad.support.sap.com/#/notes/965908
[1031096]:https://launchpad.support.sap.com/#/notes/1031096
[1139904]:https://launchpad.support.sap.com/#/notes/1139904
[1173395]:https://launchpad.support.sap.com/#/notes/1173395
[1245200]:https://launchpad.support.sap.com/#/notes/1245200
[1409604]:https://launchpad.support.sap.com/#/notes/1409604
[1558958]:https://launchpad.support.sap.com/#/notes/1558958
[1585981]:https://launchpad.support.sap.com/#/notes/1585981
[1588316]:https://launchpad.support.sap.com/#/notes/1588316
[1590719]:https://launchpad.support.sap.com/#/notes/1590719
[1597355]:https://launchpad.support.sap.com/#/notes/1597355
[1605680]:https://launchpad.support.sap.com/#/notes/1605680
[1619720]:https://launchpad.support.sap.com/#/notes/1619720
[1619726]:https://launchpad.support.sap.com/#/notes/1619726
[1619967]:https://launchpad.support.sap.com/#/notes/1619967
[1750510]:https://launchpad.support.sap.com/#/notes/1750510
[1752266]:https://launchpad.support.sap.com/#/notes/1752266
[1757924]:https://launchpad.support.sap.com/#/notes/1757924
[1757928]:https://launchpad.support.sap.com/#/notes/1757928
[1758182]:https://launchpad.support.sap.com/#/notes/1758182
[1758496]:https://launchpad.support.sap.com/#/notes/1758496
[1772688]:https://launchpad.support.sap.com/#/notes/1772688
[1814258]:https://launchpad.support.sap.com/#/notes/1814258
[1882376]:https://launchpad.support.sap.com/#/notes/1882376
[1909114]:https://launchpad.support.sap.com/#/notes/1909114
[1922555]:https://launchpad.support.sap.com/#/notes/1922555
[1928533]:https://launchpad.support.sap.com/#/notes/1928533
[1941500]:https://launchpad.support.sap.com/#/notes/1941500
[1956005]:https://launchpad.support.sap.com/#/notes/1956005
[1973241]:https://launchpad.support.sap.com/#/notes/1973241
[1984787]:https://launchpad.support.sap.com/#/notes/1984787
[1999351]:https://launchpad.support.sap.com/#/notes/1999351
[2002167]:https://launchpad.support.sap.com/#/notes/2002167
[2015553]:https://launchpad.support.sap.com/#/notes/2015553
[2039619]:https://launchpad.support.sap.com/#/notes/2039619
[2069760]:https://launchpad.support.sap.com/#/notes/2069760
[2121797]:https://launchpad.support.sap.com/#/notes/2121797
[2134316]:https://launchpad.support.sap.com/#/notes/2134316
[2178632]:https://launchpad.support.sap.com/#/notes/2178632
[2191498]:https://launchpad.support.sap.com/#/notes/2191498
[2233094]:https://launchpad.support.sap.com/#/notes/2233094
[2243692]:https://launchpad.support.sap.com/#/notes/2243692

[azure-cli]:../../../cli-install-nodejs.md
[azure-portal]:https://portal.azure.com
[azure-ps]:/powershell/azureps-cmdlets-docs
[azure-quickstart-templates-github]:https://github.com/Azure/azure-quickstart-templates
[azure-script-ps]:https://go.microsoft.com/fwlink/p/?LinkID=395017
[azure-subscription-service-limits]:../../../azure-subscription-service-limits.md
[azure-subscription-service-limits-subscription]:../../../azure-subscription-service-limits.md#subscription-limits

[dbms-guide]:dbms-guide.md
[dbms-guide-2.1]:dbms-guide.md#c7abf1f0-c927-4a7c-9c1d-c7b5b3b7212f
[dbms-guide-2.2]:dbms-guide.md#c8e566f9-21b7-4457-9f7f-126036971a91
[dbms-guide-2.3]:dbms-guide.md#10b041ef-c177-498a-93ed-44b3441ab152
[dbms-guide-2]:dbms-guide.md#65fa79d6-a85f-47ee-890b-22e794f51a64
[dbms-guide-3]:dbms-guide.md#871dfc27-e509-4222-9370-ab1de77021c3
[dbms-guide-5.5.1]:dbms-guide.md#0fef0e79-d3fe-4ae2-85af-73666a6f7268
[dbms-guide-5.5.2]:dbms-guide.md#f9071eff-9d72-4f47-9da4-1852d782087b
[dbms-guide-5.6]:dbms-guide.md#1b353e38-21b3-4310-aeb6-a77e7c8e81c8
[dbms-guide-5.8]:dbms-guide.md#9053f720-6f3b-4483-904d-15dc54141e30
[dbms-guide-5]:dbms-guide.md#3264829e-075e-4d25-966e-a49dad878737
[dbms-guide-8.4.1]:dbms-guide.md#b48cfe3b-48e9-4f5b-a783-1d29155bd573
[dbms-guide-8.4.2]:dbms-guide.md#23c78d3b-ca5a-4e72-8a24-645d141a3f5d
[dbms-guide-8.4.3]:dbms-guide.md#77cd2fbb-307e-4cbf-a65f-745553f72d2c
[dbms-guide-8.4.4]:dbms-guide.md#f77c1436-9ad8-44fb-a331-8671342de818
[dbms-guide-900-sap-cache-server-on-premises]:dbms-guide.md#642f746c-e4d4-489d-bf63-73e80177a0a8

[dbms-guide-figure-100]:media/virtual-machines-shared-sap-dbms-guide/100_storage_account_types.png
[dbms-guide-figure-200]:media/virtual-machines-shared-sap-dbms-guide/200-ha-set-for-dbms-ha.png
[dbms-guide-figure-300]:media/virtual-machines-shared-sap-dbms-guide/300-reference-config-iaas.png
[dbms-guide-figure-400]:media/virtual-machines-shared-sap-dbms-guide/400-sql-2012-backup-to-blob-storage.png
[dbms-guide-figure-500]:media/virtual-machines-shared-sap-dbms-guide/500-sql-2012-backup-to-blob-storage-different-containers.png
[dbms-guide-figure-600]:media/virtual-machines-shared-sap-dbms-guide/600-iaas-maxdb.png
[dbms-guide-figure-700]:media/virtual-machines-shared-sap-dbms-guide/700-livecach-prod.png
[dbms-guide-figure-800]:media/virtual-machines-shared-sap-dbms-guide/800-azure-vm-sap-content-server.png
[dbms-guide-figure-900]:media/virtual-machines-shared-sap-dbms-guide/900-sap-cache-server-on-premises.png

[deployment-guide]:deployment-guide.md
[deployment-guide-2.2]:deployment-guide.md#42ee2bdb-1efc-4ec7-ab31-fe4c22769b94
[deployment-guide-3.1.2]:deployment-guide.md#3688666f-281f-425b-a312-a77e7db2dfab
[deployment-guide-3.2]:deployment-guide.md#db477013-9060-4602-9ad4-b0316f8bb281
[deployment-guide-3.3]:deployment-guide.md#54a1fc6d-24fd-4feb-9c57-ac588a55dff2
[deployment-guide-3.4]:deployment-guide.md#a9a60133-a763-4de8-8986-ac0fa33aa8c1
[deployment-guide-3]:deployment-guide.md#b3253ee3-d63b-4d74-a49b-185e76c4088e
[deployment-guide-4.1]:deployment-guide.md#604bcec2-8b6e-48d2-a944-61b0f5dee2f7
[deployment-guide-4.2]:deployment-guide.md#7ccf6c3e-97ae-4a7a-9c75-e82c37beb18e
[deployment-guide-4.3]:deployment-guide.md#31d9ecd6-b136-4c73-b61e-da4a29bbc9cc
[deployment-guide-4.4.2]:deployment-guide.md#6889ff12-eaaf-4f3c-97e1-7c9edc7f7542
[deployment-guide-4.4]:deployment-guide.md#c7cbb0dc-52a4-49db-8e03-83e7edc2927d
[deployment-guide-4.5.1]:deployment-guide.md#987cf279-d713-4b4c-8143-6b11589bb9d4
[deployment-guide-4.5.2]:deployment-guide.md#408f3779-f422-4413-82f8-c57a23b4fc2f
[deployment-guide-4.5]:deployment-guide.md#d98edcd3-f2a1-49f7-b26a-07448ceb60ca
[deployment-guide-5.1]:deployment-guide.md#bb61ce92-8c5c-461f-8c53-39f5e5ed91f2
[deployment-guide-5.2]:deployment-guide.md#e2d592ff-b4ea-4a53-a91a-e5521edb6cd1
[deployment-guide-5.3]:deployment-guide.md#fe25a7da-4e4e-4388-8907-8abc2d33cfd8

[deployment-guide-configure-monitoring-scenario-1]:deployment-guide.md#ec323ac3-1de9-4c3a-b770-4ff701def65b
[deployment-guide-configure-proxy]:deployment-guide.md#baccae00-6f79-4307-ade4-40292ce4e02d
[deployment-guide-figure-100]:media/virtual-machines-shared-sap-deployment-guide/100-deploy-vm-image.png
[deployment-guide-figure-1000]:media/virtual-machines-shared-sap-deployment-guide/1000-service-properties.png
[deployment-guide-figure-11]:deployment-guide.md#figure-11
[deployment-guide-figure-1100]:media/virtual-machines-shared-sap-deployment-guide/1100-azperflib.png
[deployment-guide-figure-1200]:media/virtual-machines-shared-sap-deployment-guide/1200-cmd-test-login.png
[deployment-guide-figure-1300]:media/virtual-machines-shared-sap-deployment-guide/1300-cmd-test-executed.png
[deployment-guide-figure-14]:deployment-guide.md#figure-14
[deployment-guide-figure-1400]:media/virtual-machines-shared-sap-deployment-guide/1400-azperflib-error-servicenotstarted.png
[deployment-guide-figure-300]:media/virtual-machines-shared-sap-deployment-guide/300-deploy-private-image.png
[deployment-guide-figure-400]:media/virtual-machines-shared-sap-deployment-guide/400-deploy-using-disk.png
[deployment-guide-figure-5]:deployment-guide.md#figure-5
[deployment-guide-figure-50]:media/virtual-machines-shared-sap-deployment-guide/50-forced-tunneling-suse.png
[deployment-guide-figure-500]:media/virtual-machines-shared-sap-deployment-guide/500-install-powershell.png
[deployment-guide-figure-6]:deployment-guide.md#figure-6
[deployment-guide-figure-600]:media/virtual-machines-shared-sap-deployment-guide/600-powershell-version.png
[deployment-guide-figure-7]:deployment-guide.md#figure-7
[deployment-guide-figure-700]:media/virtual-machines-shared-sap-deployment-guide/700-install-powershell-installed.png
[deployment-guide-figure-760]:media/virtual-machines-shared-sap-deployment-guide/760-azure-cli-version.png
[deployment-guide-figure-900]:media/virtual-machines-shared-sap-deployment-guide/900-cmd-update-executed.png
[deployment-guide-figure-azure-cli-installed]:deployment-guide.md#402488e5-f9bb-4b29-8063-1c5f52a892d0
[deployment-guide-figure-azure-cli-version]:deployment-guide.md#0ad010e6-f9b5-4c21-9c09-bb2e5efb3fda
[deployment-guide-install-vm-agent-windows]:deployment-guide.md#b2db5c9a-a076-42c6-9835-16945868e866
[deployment-guide-troubleshooting-chapter]:deployment-guide.md#564adb4f-5c95-4041-9616-6635e83a810b

[deploy-template-cli]:../../../resource-group-template-deploy-cli.md
[deploy-template-portal]:../../../resource-group-template-deploy-portal.md
[deploy-template-powershell]:../../../resource-group-template-deploy.md

[dr-guide-classic]:http://go.microsoft.com/fwlink/?LinkID=521971

[getting-started]:get-started.md
[getting-started-dbms]:get-started.md#1343ffe1-8021-4ce6-a08d-3a1553a4db82
[getting-started-deployment]:get-started.md#6aadadd2-76b5-46d8-8713-e8d63630e955
[getting-started-planning]:get-started.md#3da0389e-708b-4e82-b2a2-e92f132df89c

[getting-started-windows-classic]:../../virtual-machines-windows-classic-sap-get-started.md
[getting-started-windows-classic-dbms]:../../virtual-machines-windows-classic-sap-get-started.md#c5b77a14-f6b4-44e9-acab-4d28ff72a930
[getting-started-windows-classic-deployment]:../../virtual-machines-windows-classic-sap-get-started.md#f84ea6ce-bbb4-41f7-9965-34d31b0098ea
[getting-started-windows-classic-dr]:../../virtual-machines-windows-classic-sap-get-started.md#cff10b4a-01a5-4dc3-94b6-afb8e55757d3
[getting-started-windows-classic-ha-sios]:../../virtual-machines-windows-classic-sap-get-started.md#4bb7512c-0fa0-4227-9853-4004281b1037
[getting-started-windows-classic-planning]:../../virtual-machines-windows-classic-sap-get-started.md#f2a5e9d8-49e4-419e-9900-af783173481c

[ha-guide-classic]:http://go.microsoft.com/fwlink/?LinkId=613056

[install-extension-cli]:virtual-machines-linux-enable-aem.md

[Logo_Linux]:media/virtual-machines-shared-sap-shared/Linux.png
[Logo_Windows]:media/virtual-machines-shared-sap-shared/Windows.png

[msdn-set-azurermvmaemextension]:https://msdn.microsoft.com/library/azure/mt670598.aspx

[planning-guide]:planning-guide.md  
[planning-guide-1.2]:planning-guide.md#e55d1e22-c2c8-460b-9897-64622a34fdff
[planning-guide-11]:planning-guide.md#7cf991a1-badd-40a9-944e-7baae842a058
[planning-guide-11.4.1]:planning-guide.md#5d9d36f9-9058-435d-8367-5ad05f00de77
[planning-guide-11.5]:planning-guide.md#4e165b58-74ca-474f-a7f4-5e695a93204f
[planning-guide-2.1]:planning-guide.md#1625df66-4cc6-4d60-9202-de8a0b77f803
[planning-guide-2.2]:planning-guide.md#f5b3b18c-302c-4bd8-9ab2-c388f1ab3d10
[planning-guide-3.1]:planning-guide.md#be80d1b9-a463-4845-bd35-f4cebdb5424a
[planning-guide-3.2.1]:planning-guide.md#df49dc09-141b-4f34-a4a2-990913b30358
[planning-guide-3.2.2]:planning-guide.md#fc1ac8b2-e54a-487c-8581-d3cc6625e560
[planning-guide-3.2.3]:planning-guide.md#18810088-f9be-4c97-958a-27996255c665
[planning-guide-3.2]:planning-guide.md#8d8ad4b8-6093-4b91-ac36-ea56d80dbf77
[planning-guide-3.3.2]:planning-guide.md#ff5ad0f9-f7f4-4022-9102-af07aef3bc92
[planning-guide-5.1.1]:planning-guide.md#4d175f1b-7353-4137-9d2f-817683c26e53
[planning-guide-5.1.2]:planning-guide.md#e18f7839-c0e2-4385-b1e6-4538453a285c
[planning-guide-5.2.1]:planning-guide.md#1b287330-944b-495d-9ea7-94b83aff73ef
[planning-guide-5.2.2]:planning-guide.md#57f32b1c-0cba-4e57-ab6e-c39fe22b6ec3
[planning-guide-5.2]:planning-guide.md#6ffb9f41-a292-40bf-9e70-8204448559e7
[planning-guide-5.3.1]:planning-guide.md#6e835de8-40b1-4b71-9f18-d45b20959b79
[planning-guide-5.3.2]:planning-guide.md#a43e40e6-1acc-4633-9816-8f095d5a7b6a
[planning-guide-5.4.2]:planning-guide.md#9789b076-2011-4afa-b2fe-b07a8aba58a1
[planning-guide-5.5.1]:planning-guide.md#4efec401-91e0-40c0-8e64-f2dceadff646
[planning-guide-5.5.3]:planning-guide.md#17e0d543-7e8c-4160-a7da-dd7117a1ad9d
[planning-guide-7.1]:planning-guide.md#3e9c3690-da67-421a-bc3f-12c520d99a30
[planning-guide-7]:planning-guide.md#96a77628-a05e-475d-9df3-fb82217e8f14
[planning-guide-9.1]:planning-guide.md#6f0a47f3-a289-4090-a053-2521618a28c3
[planning-guide-azure-premium-storage]:planning-guide.md#ff5ad0f9-f7f4-4022-9102-af07aef3bc92

[planning-guide-figure-100]:media/virtual-machines-shared-sap-planning-guide/100-single-vm-in-azure.png
[planning-guide-figure-1300]:media/virtual-machines-shared-sap-planning-guide/1300-ref-config-iaas-for-sap.png
[planning-guide-figure-1400]:media/virtual-machines-shared-sap-planning-guide/1400-attach-detach-disks.png
[planning-guide-figure-1600]:media/virtual-machines-shared-sap-planning-guide/1600-firewall-port-rule.png
[planning-guide-figure-1700]:media/virtual-machines-shared-sap-planning-guide/1700-single-vm-demo.png
[planning-guide-figure-1900]:media/virtual-machines-shared-sap-planning-guide/1900-vm-set-vnet.png
[planning-guide-figure-200]:media/virtual-machines-shared-sap-planning-guide/200-multiple-vms-in-azure.png
[planning-guide-figure-2100]:media/virtual-machines-shared-sap-planning-guide/2100-s2s.png
[planning-guide-figure-2200]:media/virtual-machines-shared-sap-planning-guide/2200-network-printing.png
[planning-guide-figure-2300]:media/virtual-machines-shared-sap-planning-guide/2300-sapgui-stms.png
[planning-guide-figure-2400]:media/virtual-machines-shared-sap-planning-guide/2400-vm-extension-overview.png
[planning-guide-figure-2500]:media/virtual-machines-shared-sap-planning-guide/planning-monitoring-overview-2502.png
[planning-guide-figure-2600]:media/virtual-machines-shared-sap-planning-guide/2600-sap-router-connection.png
[planning-guide-figure-2700]:media/virtual-machines-shared-sap-planning-guide/2700-exposed-sap-portal.png
[planning-guide-figure-2800]:media/virtual-machines-shared-sap-planning-guide/2800-endpoint-config.png
[planning-guide-figure-2900]:media/virtual-machines-shared-sap-planning-guide/2900-azure-ha-sap-ha.png
[planning-guide-figure-2901]:media/virtual-machines-shared-sap-planning-guide/2901-azure-ha-sap-ha-md.png
[planning-guide-figure-300]:media/virtual-machines-shared-sap-planning-guide/300-vpn-s2s.png
[planning-guide-figure-3000]:media/virtual-machines-shared-sap-planning-guide/3000-sap-ha-on-azure.png
[planning-guide-figure-3200]:media/virtual-machines-shared-sap-planning-guide/3200-sap-ha-with-sql.png
[planning-guide-figure-3201]:media/virtual-machines-shared-sap-planning-guide/3201-sap-ha-with-sql-md.png
[planning-guide-figure-400]:media/virtual-machines-shared-sap-planning-guide/400-vm-services.png
[planning-guide-figure-600]:media/virtual-machines-shared-sap-planning-guide/600-s2s-details.png
[planning-guide-figure-700]:media/virtual-machines-shared-sap-planning-guide/700-decision-tree-deploy-to-azure.png
[planning-guide-figure-800]:media/virtual-machines-shared-sap-planning-guide/800-portal-vm-overview.png
[planning-guide-microsoft-azure-networking]:planning-guide.md#61678387-8868-435d-9f8c-450b2424f5bd
[planning-guide-storage-microsoft-azure-storage-and-data-disks]:planning-guide.md#a72afa26-4bf4-4a25-8cf7-855d6032157f

[powershell-install-configure]:https://docs.microsoft.com/powershell/azure/install-azurerm-ps
[resource-group-authoring-templates]:../../../resource-group-authoring-templates.md
[resource-group-overview]:../../../azure-resource-manager/resource-group-overview.md
[resource-groups-networking]:../../../virtual-network/resource-groups-networking.md
[sap-pam]:https://support.sap.com/pam
[sap-templates-2-tier-marketplace-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-marketplace-image%2Fazuredeploy.json
[sap-templates-2-tier-os-disk]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-user-disk%2Fazuredeploy.json
[sap-templates-2-tier-user-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-user-image%2Fazuredeploy.json
[sap-templates-3-tier-marketplace-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-3-tier-marketplace-image%2Fazuredeploy.json
[sap-templates-3-tier-user-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-3-tier-user-image%2Fazuredeploy.json
[storage-azure-cli]:../../../storage/common/storage-azure-cli.md
[storage-azure-cli-copy-blobs]:../../../storage/common/storage-azure-cli.md#copy-blobs
[storage-introduction]:../../../storage/common/storage-introduction.md
[storage-powershell-guide-full-copy-vhd]:../../../storage/common/storage-powershell-guide-full.md#how-to-copy-blobs-from-one-storage-container-to-another
[storage-premium-storage-preview-portal]:../../../storage/common/storage-premium-storage.md
[storage-redundancy]:../../../storage/common/storage-redundancy.md
[storage-scalability-targets]:../../../storage/common/storage-scalability-targets.md
[storage-use-azcopy]:../../../storage/common/storage-use-azcopy.md
[template-201-vm-from-specialized-vhd]:https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-from-specialized-vhd
[templates-101-simple-windows-vm]:https://github.com/Azure/azure-quickstart-templates/tree/master/101-simple-windows-vm
[templates-101-vm-from-user-image]:https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-from-user-image
[virtual-machines-linux-attach-disk-portal]:../../linux/attach-disk-portal.md
[virtual-machines-azure-resource-manager-architecture]:../../../resource-manager-deployment-model.md
[virtual-machines-azurerm-versus-azuresm]:virtual-machines-linux-compare-deployment-models.md
[virtual-machines-windows-classic-configure-oracle-data-guard]:../../virtual-machines-windows-classic-configure-oracle-data-guard.md
[virtual-machines-linux-cli-deploy-templates]:../../linux/cli-deploy-templates.md
[virtual-machines-deploy-rmtemplates-powershell]:../../virtual-machines-windows-ps-manage.md
[virtual-machines-linux-agent-user-guide]:../../linux/agent-user-guide.md
[virtual-machines-linux-agent-user-guide-command-line-options]:../../linux/agent-user-guide.md#command-line-options
[virtual-machines-linux-capture-image]:../../linux/capture-image.md
[virtual-machines-linux-capture-image-resource-manager]:../../linux/capture-image.md
[virtual-machines-linux-capture-image-resource-manager-capture]:../../linux/capture-image.md#step-2-capture-the-vm
[virtual-machines-windows-capture-image-resource-manager]:../../windows/capture-image.md
[virtual-machines-windows-capture-image]:../../virtual-machines-windows-generalize-vhd.md
[virtual-machines-windows-capture-image-prepare-the-vm-for-image-capture]:../../virtual-machines-windows-generalize-vhd.md
[virtual-machines-linux-configure-raid]:../../linux/configure-raid.md
[virtual-machines-linux-configure-lvm]:../../linux/configure-lvm.md
[virtual-machines-linux-classic-create-upload-vhd-step-1]:../../virtual-machines-linux-classic-create-upload-vhd.md#step-1-prepare-the-image-to-be-uploaded
[virtual-machines-linux-create-upload-vhd-suse]:../../linux/suse-create-upload-vhd.md
[virtual-machines-linux-create-upload-vhd-oracle]:../../linux/oracle-create-upload-vhd.md
[virtual-machines-linux-redhat-create-upload-vhd]:../../linux/redhat-create-upload-vhd.md
[virtual-machines-linux-how-to-attach-disk]:../../linux/add-disk.md
[virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux]:../../linux/add-disk.md#connect-to-the-linux-vm-to-mount-the-new-disk
[virtual-machines-linux-tutorial]:../../linux/quick-create-cli.md
[virtual-machines-linux-update-agent]:../../linux/update-agent.md
[virtual-machines-manage-availability]:../../linux/manage-availability.md
[virtual-machines-ps-create-preconfigure-windows-resource-manager-vms]:virtual-machines-windows-create-powershell.md
[virtual-machines-sizes-linux]:../../linux/sizes.md
[virtual-machines-sizes-windows]:../../windows/sizes.md
[virtual-machines-windows-classic-ps-sql-alwayson-availability-groups]:./../../windows/sqlclassic/virtual-machines-windows-classic-ps-sql-alwayson-availability-groups.md
[virtual-machines-windows-classic-ps-sql-int-listener]:./../../windows/sqlclassic/virtual-machines-windows-classic-ps-sql-int-listener.md
[virtual-machines-sql-server-high-availability-and-disaster-recovery-solutions]:./../../windows/sql/virtual-machines-windows-sql-high-availability-dr.md
[virtual-machines-sql-server-infrastructure-services]:./../../windows/sql/virtual-machines-windows-sql-server-iaas-overview.md
[virtual-machines-sql-server-performance-best-practices]:./../../windows/sql/virtual-machines-windows-sql-performance.md
[virtual-machines-upload-image-windows-resource-manager]:../../virtual-machines-windows-upload-image.md
[virtual-machines-windows-tutorial]:../../virtual-machines-windows-hero-tutorial.md
[virtual-machines-workload-template-sql-alwayson]:https://azure.microsoft.com/documentation/templates/sql-server-2014-alwayson-dsc/
[virtual-network-deploy-multinic-arm-cli]:../../../virtual-network/virtual-network-deploy-multinic-arm-cli.md
[virtual-network-deploy-multinic-arm-ps]:../../../virtual-network/virtual-network-deploy-multinic-arm-ps.md
[virtual-network-deploy-multinic-arm-template]:../../../virtual-network/virtual-network-deploy-multinic-arm-template.md
[virtual-networks-configure-vnet-to-vnet-connection]:../../../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md
[virtual-networks-create-vnet-arm-pportal]:../../../virtual-network/virtual-networks-create-vnet-arm-pportal.md
[virtual-networks-manage-dns-in-vnet]:../../../virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances.md
[virtual-networks-multiple-nics-windows]:../../windows/multiple-nics.md
[virtual-networks-multiple-nics-linux]:../../linux/multiple-nics.md
[virtual-networks-nsg]:../../../virtual-network/virtual-networks-nsg.md
[virtual-networks-reserved-private-ip]:../../../virtual-network/virtual-networks-static-private-ip-arm-ps.md
[virtual-networks-static-private-ip-arm-pportal]:../../../virtual-network/virtual-networks-static-private-ip-arm-pportal.md
[virtual-networks-udr-overview]:../../../virtual-network/virtual-networks-udr-overview.md
[vpn-gateway-about-vpn-devices]:../../../vpn-gateway/vpn-gateway-about-vpn-devices.md
[vpn-gateway-create-site-to-site-rm-powershell]:../../../vpn-gateway/vpn-gateway-create-site-to-site-rm-powershell.md
[vpn-gateway-cross-premises-options]:../../../vpn-gateway/vpn-gateway-plan-design.md
[vpn-gateway-site-to-site-create]:../../../vpn-gateway/vpn-gateway-site-to-site-create.md
[vpn-gateway-vpn-faq]:../../../vpn-gateway/vpn-gateway-vpn-faq.md
[xplat-cli]:../../../cli-install-nodejs.md
[xplat-cli-azure-resource-manager]:../../../xplat-cli-azure-resource-manager.md
[capture-image-linux-step-2-create-vm-image]:../../linux/capture-image.md#step-2-create-vm-image

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-rm-include.md)]

<span data-ttu-id="36d1a-117">회사에서는 Microsoft Azure를 통해 긴 조달 주기를 거치지 않고도 최단 시간에 계산 및 저장소 리소스를 가져올 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-117">Microsoft Azure enables companies to acquire compute and storage resources in minimal time without lengthy procurement cycles.</span></span> <span data-ttu-id="36d1a-118">Azure 가상 컴퓨터를 사용하여 기업에서는 SAP NetWeaver 기반 응용 프로그램과 같은 클래식 응용 프로그램을 Azure에 배포하고, 온-프레미스에서 사용할 수 있는 추가 리소스를 확보하지 않고도 안정성과 가용성을 확장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-118">Azure Virtual Machines allow companies to deploy classical applications, like SAP NetWeaver based applications into Azure and extend their reliability and availability without having further resources available on-premises.</span></span> <span data-ttu-id="36d1a-119">또한 Azure 가상 컴퓨터 서비스는 프레미스 간 연결도 지원하므로 기업에서 Azure 가상 컴퓨터를 온-프레미스 도메인, 사설 클라우드 및 SAP 시스템 지형에 적극적으로 통합할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-119">Azure Virtual Machine Services also supports cross-premises connectivity, which enables companies to actively integrate Azure Virtual Machines into their on-premises domains, their Private Clouds and their SAP System Landscape.</span></span>
<span data-ttu-id="36d1a-120">이 백서에서는 Microsoft Azure 가상 컴퓨터의 기본 사항에 대해 설명하고 Azure의 SAP NetWeaver 설치에 대한 계획 연습 과정 및 구현 고려 사항을 제공하므로 Azure에서 SAP NetWeaver의 실제 배포를 시작하기 전에 이 문서를 읽으면 도움이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-120">This white paper describes the fundamentals of Microsoft Azure Virtual Machine and provides a walk-through of planning and implementation considerations for SAP NetWeaver installations in Azure and as such should be the document to read before starting actual deployments of SAP NetWeaver on Azure.</span></span>
<span data-ttu-id="36d1a-121">이 문서는 지정된 플랫폼에서 SAP 소프트웨어 설치 및 배포에 대한 기본 리소스를 나타내는 SAP 설치 설명서 및 SAP 정보를 보완합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-121">The paper complements the SAP Installation Documentation and SAP Notes, which represent the primary resources for installations and deployments of SAP software on given platforms.</span></span>

## <a name="summary"></a><span data-ttu-id="36d1a-122">요약</span><span class="sxs-lookup"><span data-stu-id="36d1a-122">Summary</span></span>
<span data-ttu-id="36d1a-123">클라우드 컴퓨팅은 중소 기업에서 대기업 및 다국적 기업까지 IT 업계 내에서 점점 더 중요해지는 널리 사용되는 용어입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-123">Cloud Computing is a widely used term, which is gaining more and more importance within the IT industry, from small companies up to large and multinational corporations.</span></span>

<span data-ttu-id="36d1a-124">Microsoft Azure는 다양한 새로운 가능성을 제공하는 Microsoft의 클라우드 서비스 플랫폼입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-124">Microsoft Azure is the Cloud Services Platform from Microsoft, which offers a wide spectrum of new possibilities.</span></span> <span data-ttu-id="36d1a-125">이제 고객은 클라우드의 서비스로 응용 프로그램을 신속하게 프로비전 및 프로비전 해제할 수 있으므로 기술 또는 예산 제한에 제한되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-125">Now customers are able to rapidly provision and de-provision applications as a service in the cloud, so they are not limited to technical or budgeting restrictions.</span></span> <span data-ttu-id="36d1a-126">하드웨어 인프라에 시간과 예산을 투자하는 대신 기업은 고객 및 사용자를 위한 응용 프로그램, 비즈니스 프로세스 및 그 이점에 집중할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-126">Instead of investing time and budget into hardware infrastructure, companies can focus on the application, business processes, and its benefits for customers and users.</span></span>

<span data-ttu-id="36d1a-127">Microsoft Azure 가상 컴퓨터 서비스와 함께 Microsoft는 포괄적인 IaaS(Infrastructure as a Service) 플랫폼을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-127">With Microsoft Azure Virtual Machine Services, Microsoft offers a comprehensive Infrastructure as a Service (IaaS) platform.</span></span> <span data-ttu-id="36d1a-128">SAP NetWeaver 기반 응용 프로그램은 Azure 가상 컴퓨터(IaaS)에서 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-128">SAP NetWeaver based applications are supported on Azure Virtual Machines (IaaS).</span></span> <span data-ttu-id="36d1a-129">이 백서는 플랫폼으로 선택한 Microsoft Azure 내에서 SAP NetWeaver 기반 응용 프로그램을 계획하고 구현하는 방법에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-129">This whitepaper describes how to plan and implement SAP NetWeaver based applications within Microsoft Azure as the platform of choice.</span></span>

<span data-ttu-id="36d1a-130">또한 다음 두 가지 주요 측면을 집중적으로 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-130">The paper itself focuses on two main aspects:</span></span>

* <span data-ttu-id="36d1a-131">첫 번째 부분에서는 Azure의 SAP NetWeaver 기반 응용 프로그램에 대해 지원되는 두 가지 배포 패턴을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-131">The first part describes two supported deployment patterns for SAP NetWeaver based applications on Azure.</span></span> <span data-ttu-id="36d1a-132">또한 SAP 배포를 고려한 Azure의 일반적인 사용에 대해서도 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-132">It also describes general handling of Azure with SAP deployments in mind.</span></span>
* <span data-ttu-id="36d1a-133">두 번째 부분에서는 첫 번째 부분에서 설명하는 두 가지 다른 시나리오의 구현에 대해 자세히 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-133">The second part details implementing the two different scenarios described in the first part.</span></span>

<span data-ttu-id="36d1a-134">추가 리소스는 이 문서의 [리소스][planning-guide-1.2] 장을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-134">For additional resources see chapter [Resources][planning-guide-1.2] in this document.</span></span>

### <a name="definitions-upfront"></a><span data-ttu-id="36d1a-135">사전 정의</span><span class="sxs-lookup"><span data-stu-id="36d1a-135">Definitions upfront</span></span>
<span data-ttu-id="36d1a-136">이 문서 전체에서는 다음과 같은 용어를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-136">Throughout the document, we use the following terms:</span></span>

* <span data-ttu-id="36d1a-137">IaaS: 서비스 제공 인프라</span><span class="sxs-lookup"><span data-stu-id="36d1a-137">IaaS: Infrastructure as a Service</span></span>
* <span data-ttu-id="36d1a-138">PaaS: Platform as a Service</span><span class="sxs-lookup"><span data-stu-id="36d1a-138">PaaS: Platform as a Service</span></span>
* <span data-ttu-id="36d1a-139">SaaS: Software as a Service</span><span class="sxs-lookup"><span data-stu-id="36d1a-139">SaaS: Software as a Service</span></span>
* <span data-ttu-id="36d1a-140">ARM: Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="36d1a-140">ARM: Azure Resource Manager</span></span>
* <span data-ttu-id="36d1a-141">SAP 구성 요소: ECC, BW, Solution Manager 또는 EP 등의 개별 SAP 응용 프로그램.</span><span class="sxs-lookup"><span data-stu-id="36d1a-141">SAP Component: an individual SAP application such as ECC, BW, Solution Manager, or EP.</span></span>  <span data-ttu-id="36d1a-142">SAP 구성 요소는 기존의 ABAP 또는 Java 기술을 기반으로 하거나 비즈니스 개체와 같은 비NetWeaver 기반 응용 프로그램을 기반으로 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-142">SAP components can be based on traditional ABAP or Java technologies or a non-NetWeaver based application such as Business Objects.</span></span>
* <span data-ttu-id="36d1a-143">SAP 환경: 하나 이상의 SAP 구성 요소가 논리적으로 그룹화되어 개발, QAS, 교육, DR 또는 프로덕션과 같은 비즈니스 기능을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-143">SAP Environment: one or more SAP components logically grouped to perform a business function such as Development, QAS, Training, DR, or Production.</span></span>
* <span data-ttu-id="36d1a-144">SAP 배경: 고객 IT 환경의 전체 SAP 자산입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-144">SAP Landscape: This refers to the entire SAP assets in a customer’s IT landscape.</span></span> <span data-ttu-id="36d1a-145">SAP 지형에는 모든 프로덕션 및 비프로덕션 환경이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-145">The SAP landscape includes all production and non-production environments.</span></span>
* <span data-ttu-id="36d1a-146">SAP 시스템: SAP ERP 개발 시스템, SAP BW 테스트 시스템, SAP CRM 프로덕션 시스템 등의 응용 프로그램 계층과 DBMS 계층의 조합입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-146">SAP System: The combination of DBMS layer and application layer of, for example, an SAP ERP development system, SAP BW test system, SAP CRM production system, etc..</span></span> <span data-ttu-id="36d1a-147">Azure 배포에서는 온-프레미스와 Azure 간에 이러한 두 계층을 나눌 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-147">In Azure deployments, it is not supported to divide these two layers between on-premises and Azure.</span></span> <span data-ttu-id="36d1a-148">즉, SAP 시스템은 온-프레미스에 배포되거나 Azure에 배포됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-148">This means an SAP system is either deployed on-premises or it is deployed in Azure.</span></span> <span data-ttu-id="36d1a-149">그러나 Azure 또는 온-프레미스에는 SAP 지형의 서로 다른 시스템을 배포할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-149">However, you can deploy the different systems of an SAP landscape into either Azure or on-premises.</span></span> <span data-ttu-id="36d1a-150">예를 들어 Azure에는 SAP CRM 개발 및 테스트 시스템을 배포할 수 있지만 온-프레미스에는 SAP CRM 프로덕션 시스템을 배포할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-150">For example, you could deploy the SAP CRM development and test systems in Azure but the SAP CRM production system on-premises.</span></span>
* <span data-ttu-id="36d1a-151">클라우드 전용 배포: Azure 구독이 사이트 간 연결 또는 Express 경로 연결을 통해 온-프레미스 네트워크 인프라에 연결되지 않는 배포입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-151">Cloud-Only deployment: A deployment where the Azure subscription is not connected via a site-to-site or ExpressRoute connection to the on-premises network infrastructure.</span></span> <span data-ttu-id="36d1a-152">공통 Azure 설명서에서는 이러한 종류의 배포를 '클라우드 전용' 배포라고도 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-152">In common Azure documentation these kinds of deployments are also described as ‘Cloud-Only’ deployments.</span></span> <span data-ttu-id="36d1a-153">이 방법으로 배포된 Virtual Machines는 인터넷과 공용 IP 주소 및/또는 Azure의 VM에 할당된 공용 DNS 이름을 통해 액세스됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-153">Virtual Machines deployed with this method are accessed through the internet and a public IP address and/or a public DNS name assigned to the VMs in Azure.</span></span> <span data-ttu-id="36d1a-154">Microsoft Windows의 경우 이러한 유형의 배포에서 온-프레미스 AD(Active Directory) 및 DNS가 Azure로 확장되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-154">For Microsoft Windows the on-premises Active Directory (AD) and DNS is not extended to Azure in these types of deployments.</span></span> <span data-ttu-id="36d1a-155">따라서 VM은 온-프레미스 Active Directory에 속하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-155">Hence the VMs are not part of the on-premises Active Directory.</span></span> <span data-ttu-id="36d1a-156">예를 들어 OpenLDAP와 Kerberos를 함께 사용하는 Linux 구현에서도 마찬가지입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-156">Same is true for Linux implementations using, for example, OpenLDAP + Kerberos.</span></span>

> [!NOTE]
> <span data-ttu-id="36d1a-157">이 문서에서 클라우드 전용 배포는 온-프레미스에서 Active Directory/OpenLDAP 또는 이름 확인을 공용 클라우드로 확장하지 않고 Azure에서 단독으로 실행 중인 전체 SAP 지형으로 정의됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-157">Cloud-Only deployment in this document is defined as complete SAP landscapes are running exclusively in Azure without extension of Active Directory / OpenLDAP  or name resolution from on-premises into public cloud.</span></span> <span data-ttu-id="36d1a-158">Azure에서 호스트되는 SAP 시스템과 온-프레미스에 상주하는 리소스 간에 SAP STMS 또는 기타 온-프레미스 리소스를 사용해야 하는 프로덕션 SAP 시스템 또는 구성에 대해서는 클라우드 전용 구성이 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-158">Cloud-Only configurations are not supported for production SAP systems or configurations where SAP STMS or other on-premises resources need to be used between SAP systems hosted on Azure and resources residing on-premises.</span></span>
>
>

* <span data-ttu-id="36d1a-159">크로스-프레미스: VM이 온-프레미스 데이터 센터와 Azure 간에 사이트-사이트, 다중 사이트 또는 ExpressRoute 방식으로 연결되는 Azure 구독에 배포되는 시나리오를 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-159">Cross-premises: Describes a scenario where VMs are deployed to an Azure subscription that has site-to-site, multi-site, or ExpressRoute connectivity between the on-premises datacenter(s) and Azure.</span></span> <span data-ttu-id="36d1a-160">공통 Azure 설명서에서 이러한 종류의 배포를 크로스-프레미스 시나리오라고도 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-160">In common Azure documentation, these kinds of deployments are also described as cross-premises scenarios.</span></span> <span data-ttu-id="36d1a-161">연결하는 이유는 온-프레미스 도메인, 온-프레미스 Active Directory/OpenLDAP 및 온-프레미스 DNS를 Azure로 확장하기 위한 것입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-161">The reason for the connection is to extend on-premises domains, on-premises Active Directory/OpenLDAP, and on-premises DNS into Azure.</span></span> <span data-ttu-id="36d1a-162">온-프레미스 배경은 구독의 Azure 자산으로 확장됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-162">The on-premises landscape is extended to the Azure assets of the subscription.</span></span> <span data-ttu-id="36d1a-163">이렇게 확장된 VM은 온-프레미스 도메인에 속할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-163">Having this extension, the VMs can be part of the on-premises domain.</span></span> <span data-ttu-id="36d1a-164">온-프레미스 도메인의 도메인 사용자는 서버에 액세스하고 이러한 VM에서 서비스(예: DBMS 서비스)를 실행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-164">Domain users of the on-premises domain can access the servers and can run services on those VMs (like DBMS services).</span></span> <span data-ttu-id="36d1a-165">온-프레미스에 배포된 VM과 Azure에 배포된 VM 간의 통신 및 이름 확인이 가능합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-165">Communication and name resolution between VMs deployed on-premises and Azure deployed VMs is possible.</span></span> <span data-ttu-id="36d1a-166">이 시나리오에서는 대부분의 SAP 자산이 배포된다고 예상할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-166">This is the scenario we expect most SAP assets to be deployed in.</span></span> <span data-ttu-id="36d1a-167">자세한 내용은 [이 문서][vpn-gateway-cross-premises-options] 및 [이 문서][vpn-gateway-site-to-site-create]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-167">For more information, see [this][vpn-gateway-cross-premises-options] article and [this][vpn-gateway-site-to-site-create].</span></span>

> [!NOTE]
> <span data-ttu-id="36d1a-168">프로덕션 SAP 시스템의 경우 SAP 시스템을 실행 중인 Azure 가상 컴퓨터가 온-프레미스 도메인의 멤버인 SAP 시스템의 크로스-프레미스 배포가 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-168">Cross-premises deployments of SAP systems where Azure Virtual Machines running SAP systems are members of an on-premises domain are supported for production SAP systems.</span></span> <span data-ttu-id="36d1a-169">일부 또는 전체 SAP 지형을 Azure로 배포하기 위한 크로스-프레미스 구성이 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-169">Cross-premises configurations are supported for deploying parts or complete SAP landscapes into Azure.</span></span> <span data-ttu-id="36d1a-170">Azure에서 전체 SAP 지형을 실행하려고 해도 이러한 VM이 온-프레미스 도메인 및 ADS/OpenLDAP에 포함되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-170">Even running the complete SAP landscape in Azure requires having those VMs being part of on-premises domain and ADS/OpenLDAP.</span></span> <span data-ttu-id="36d1a-171">이전 버전의 문서에서 하이브리드-IT 시나리오에 대해 설명했습니다. '하이브리드'란 온-프레미스와 Azure가 크로스-프레미스 연결을 사용한다는 사실을 기반으로 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-171">In former versions of the documentation, we talked about Hybrid-IT scenarios, where the term ‘Hybrid’ is rooted in the fact that there is a cross-premises connectivity between on-premises and Azure.</span></span> <span data-ttu-id="36d1a-172">또한 Azure의 VM이 온-프레미스 Active Directory/OpenLDAP의 일부이기도 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-172">Plus, the fact that the VMs in Azure are part of the on-premises Active Directory / OpenLDAP.</span></span>
>
>

<span data-ttu-id="36d1a-173">일부 Microsoft 문서에서는 특히 DBMS HA 구성의 경우 크로스-프레미스 시나리오를 약간 다르게 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-173">Some Microsoft documentation describes cross-premises scenarios a bit differently, especially for DBMS HA configurations.</span></span> <span data-ttu-id="36d1a-174">SAP 관련 문서의 경우 크로스-프레미스 시나리오가 사이트 간 또는 개인(ExpressRoute) 방식으로 연결되고 SAP 지형이 온-프레미스와 Azure 간에 분산되는 것으로 된다고 요약되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-174">In the case of the SAP-related documents, the cross-premises scenario just boils down to having a site-to-site or private (ExpressRoute) connectivity and the fact that the SAP landscape is distributed between on-premises and Azure.</span></span>  

### <span data-ttu-id="36d1a-175"><a name="e55d1e22-c2c8-460b-9897-64622a34fdff"></a>리소스</span><span class="sxs-lookup"><span data-stu-id="36d1a-175"><a name="e55d1e22-c2c8-460b-9897-64622a34fdff"></a>Resources</span></span>
<span data-ttu-id="36d1a-176">다음 추가 가이드는 Azure의 SAP 배포 항목에 대해 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-176">The following additional guides are available for the topic of SAP deployments on Azure:</span></span>

* <span data-ttu-id="36d1a-177">[SAP NetWeaver에 대한 Azure Virtual Machines 계획 및 구현(이 문서)][planning-guide]</span><span class="sxs-lookup"><span data-stu-id="36d1a-177">[Azure Virtual Machines planning and implementation for SAP NetWeaver (this document)][planning-guide]</span></span>
* <span data-ttu-id="36d1a-178">[SAP NetWeaver에 대한 Azure Virtual Machines 배포][deployment-guide]</span><span class="sxs-lookup"><span data-stu-id="36d1a-178">[Azure Virtual Machines deployment for SAP NetWeaver][deployment-guide]</span></span>
* <span data-ttu-id="36d1a-179">[SAP NetWeaver에 대한 Azure Virtual Machines DBMS 배포][dbms-guide]</span><span class="sxs-lookup"><span data-stu-id="36d1a-179">[Azure Virtual Machines DBMS deployment for SAP NetWeaver][dbms-guide]</span></span>

> [!IMPORTANT]
> <span data-ttu-id="36d1a-180">가능한 경우 SAP 설치 가이드에 대한 링크가 사용됩니다(InstGuide-01, <http://service.sap.com/instguides> 참조).</span><span class="sxs-lookup"><span data-stu-id="36d1a-180">Wherever possible a link to the referring SAP Installation Guide is used (Reference InstGuide-01, see <http://service.sap.com/instguides>).</span></span> <span data-ttu-id="36d1a-181">SAP NetWeaver 설치 가이드는 Microsoft Azure 가상 컴퓨터에 설치된 SAP NetWeaver 시스템에 대한 특정 작업만 처리하므로 필수 구성 요소 및 설치 프로세스 부분을 신중하게 읽어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-181">When it comes to the prerequisites and installation process, the SAP NetWeaver Installation Guides should always be read carefully, as this document only covers specific tasks for SAP NetWeaver systems installed in a Microsoft Azure Virtual Machine.</span></span>
>
>

<span data-ttu-id="36d1a-182">다음 SAP 정보는 Azure의 SAP 항목과 관련이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-182">The following SAP Notes are related to the topic of SAP on Azure:</span></span>

| <span data-ttu-id="36d1a-183">Note 번호</span><span class="sxs-lookup"><span data-stu-id="36d1a-183">Note number</span></span> | <span data-ttu-id="36d1a-184">제목</span><span class="sxs-lookup"><span data-stu-id="36d1a-184">Title</span></span> |
| --- | --- |
| <span data-ttu-id="36d1a-185">[1928533]</span><span class="sxs-lookup"><span data-stu-id="36d1a-185">[1928533]</span></span> |<span data-ttu-id="36d1a-186">Azure의 SAP 응용 프로그램: 지원 제품 및 크기 조정</span><span class="sxs-lookup"><span data-stu-id="36d1a-186">SAP Applications on Azure: Supported Products and Sizing</span></span> |
| <span data-ttu-id="36d1a-187">[2015553]</span><span class="sxs-lookup"><span data-stu-id="36d1a-187">[2015553]</span></span> |<span data-ttu-id="36d1a-188">Microsoft Azure의 SAP: 지원 필수 조건</span><span class="sxs-lookup"><span data-stu-id="36d1a-188">SAP on Microsoft Azure: Support Prerequisites</span></span> |
| <span data-ttu-id="36d1a-189">[1999351]</span><span class="sxs-lookup"><span data-stu-id="36d1a-189">[1999351]</span></span> |<span data-ttu-id="36d1a-190">SAP용 고급 Azure 모니터링 문제 해결</span><span class="sxs-lookup"><span data-stu-id="36d1a-190">Troubleshooting Enhanced Azure Monitoring for SAP</span></span> |
| <span data-ttu-id="36d1a-191">[2178632]</span><span class="sxs-lookup"><span data-stu-id="36d1a-191">[2178632]</span></span> |<span data-ttu-id="36d1a-192">Microsoft Azure의 SAP용 주요 모니터링 메트릭</span><span class="sxs-lookup"><span data-stu-id="36d1a-192">Key Monitoring Metrics for SAP on Microsoft Azure</span></span> |
| <span data-ttu-id="36d1a-193">[1409604]</span><span class="sxs-lookup"><span data-stu-id="36d1a-193">[1409604]</span></span> |<span data-ttu-id="36d1a-194">Windows에서의 가상화: 향상된 모니터링</span><span class="sxs-lookup"><span data-stu-id="36d1a-194">Virtualization on Windows: Enhanced Monitoring</span></span> |
| <span data-ttu-id="36d1a-195">[2191498]</span><span class="sxs-lookup"><span data-stu-id="36d1a-195">[2191498]</span></span> |<span data-ttu-id="36d1a-196">Azure와 Linux의 SAP: 향상된 모니터링</span><span class="sxs-lookup"><span data-stu-id="36d1a-196">SAP on Linux with Azure: Enhanced Monitoring</span></span> |
| <span data-ttu-id="36d1a-197">[2243692]</span><span class="sxs-lookup"><span data-stu-id="36d1a-197">[2243692]</span></span> |<span data-ttu-id="36d1a-198">Microsoft Azure(IaaS) VM의 Linux: SAP 라이선스 문제</span><span class="sxs-lookup"><span data-stu-id="36d1a-198">Linux on Microsoft Azure (IaaS) VM: SAP license issues</span></span> |
| <span data-ttu-id="36d1a-199">[1984787]</span><span class="sxs-lookup"><span data-stu-id="36d1a-199">[1984787]</span></span> |<span data-ttu-id="36d1a-200">SUSE LINUX Enterprise Server 12: 설치 참고</span><span class="sxs-lookup"><span data-stu-id="36d1a-200">SUSE LINUX Enterprise Server 12: Installation notes</span></span> |
| <span data-ttu-id="36d1a-201">[2002167]</span><span class="sxs-lookup"><span data-stu-id="36d1a-201">[2002167]</span></span> |<span data-ttu-id="36d1a-202">Red Hat Enterprise Linux 7.x: 설치 및 업그레이드</span><span class="sxs-lookup"><span data-stu-id="36d1a-202">Red Hat Enterprise Linux 7.x: Installation and Upgrade</span></span> |
| <span data-ttu-id="36d1a-203">[2069760]</span><span class="sxs-lookup"><span data-stu-id="36d1a-203">[2069760]</span></span> |<span data-ttu-id="36d1a-204">Oracle Linux 7.x SAP 설치 및 업그레이드</span><span class="sxs-lookup"><span data-stu-id="36d1a-204">Oracle Linux 7.x SAP Installation and Upgrade</span></span> |
| <span data-ttu-id="36d1a-205">[1597355]</span><span class="sxs-lookup"><span data-stu-id="36d1a-205">[1597355]</span></span> |<span data-ttu-id="36d1a-206">Linux에 대한 스왑 공간 권장 사항</span><span class="sxs-lookup"><span data-stu-id="36d1a-206">Swap-space recommendation for Linux</span></span> |

<span data-ttu-id="36d1a-207">Linux용 SAP 정보를 모두 포함하는 [SCN Wiki](https://wiki.scn.sap.com/wiki/display/HOME/SAPonLinuxNotes)도 확인해 보세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-207">Also read the [SCN Wiki](https://wiki.scn.sap.com/wiki/display/HOME/SAPonLinuxNotes) that contains all SAP Notes for Linux.</span></span>

<span data-ttu-id="36d1a-208">Azure 구독의 일반적인 기본 제한 및 최대 제한은 [이 문서][azure-subscription-service-limits-subscription]에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-208">General default limitations and maximum limitations of Azure subscriptions can be found in [this article][azure-subscription-service-limits-subscription].</span></span>

## <a name="possible-scenarios"></a><span data-ttu-id="36d1a-209">가능한 시나리오</span><span class="sxs-lookup"><span data-stu-id="36d1a-209">Possible Scenarios</span></span>
<span data-ttu-id="36d1a-210">SAP는 기업 내에서 중요 업무용 응용 프로그램 중 하나로 보는 경우가 많습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-210">SAP is often seen as one of the most mission-critical applications within enterprises.</span></span> <span data-ttu-id="36d1a-211">이러한 응용 프로그램의 아키텍처 및 작업은 대부분 매우 복잡하며, 가용성 및 성능에 대한 요구를 충족하는 것이 매우 중요합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-211">The architecture and operations of these applications is mostly very complex and ensuring that you meet requirements on availability and performance is important.</span></span>

<span data-ttu-id="36d1a-212">따라서 기업에서는 선택한 클라우드 공급자와는 별개로, 공용 클라우드 환경에서 실행할 수 있는 응용 프로그램을 신중히 고려해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-212">Thus enterprises have to think carefully about which applications can be run in a public cloud environment, independent of the chosen cloud provider.</span></span>

<span data-ttu-id="36d1a-213">공용 클라우드 내에서 SAP NetWeaver 기반 응용 프로그램을 배포하기 위한 가능한 시스템 유형은 아래와 같습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-213">Possible system types for deploying SAP NetWeaver based applications within public cloud environments are listed below:</span></span>

1. <span data-ttu-id="36d1a-214">중간 규모의 프로덕션 시스템</span><span class="sxs-lookup"><span data-stu-id="36d1a-214">Medium-sized production systems</span></span>
2. <span data-ttu-id="36d1a-215">개발 시스템</span><span class="sxs-lookup"><span data-stu-id="36d1a-215">Development systems</span></span>
3. <span data-ttu-id="36d1a-216">테스트 시스템</span><span class="sxs-lookup"><span data-stu-id="36d1a-216">Testing systems</span></span>
4. <span data-ttu-id="36d1a-217">프로토타입 시스템</span><span class="sxs-lookup"><span data-stu-id="36d1a-217">Prototype systems</span></span>
5. <span data-ttu-id="36d1a-218">학습/데모 시스템</span><span class="sxs-lookup"><span data-stu-id="36d1a-218">Learning / Demonstration systems</span></span>

<span data-ttu-id="36d1a-219">Azure IaaS 또는 일반적인 IaaS에 SAP 시스템을 성공적으로 배포하려면 전형적인 외주 업체나 호스팅 서비스 공급자 및 IaaS 제품 간의 주요 차이점을 이해해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-219">In order to successfully deploy SAP systems into either Azure IaaS or IaaS in general, it is important to understand the significant differences between the offerings of traditional outsourcers or hosters and IaaS offerings.</span></span> <span data-ttu-id="36d1a-220">기존 호스팅 서비스 공급자 또는 외주 업체는 고객이 호스트하려는 작업에 맞게 인프라(네트워크, 저장소 및 서버 유형)를 조정하지만 IaaS 배포에 적합한 작업을 선택하는 것은 고객의 책임입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-220">Whereas the traditional hoster or outsourcer adapts infrastructure (network, storage and server type) to the workload a customer wants to host, it is instead the customer’s responsibility to choose the right workload for IaaS deployments.</span></span>

<span data-ttu-id="36d1a-221">첫 번째 단계로, 고객은 다음 항목을 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-221">As a first step, customers need to verify the following items:</span></span>

* <span data-ttu-id="36d1a-222">SAP에서 지원하는 Azure의 VM 유형</span><span class="sxs-lookup"><span data-stu-id="36d1a-222">The SAP supported VM types of Azure</span></span>
* <span data-ttu-id="36d1a-223">Azure의 SAP 지원 제품/릴리스</span><span class="sxs-lookup"><span data-stu-id="36d1a-223">The SAP supported products/releases on Azure</span></span>
* <span data-ttu-id="36d1a-224">Azure의 특정 SAP 릴리스에 대해 지원되는 OS 및 DBMS 릴리스</span><span class="sxs-lookup"><span data-stu-id="36d1a-224">The supported OS and DBMS releases for the specific SAP releases in Azure</span></span>
* <span data-ttu-id="36d1a-225">여러 다른 Azure SKU에서 제공하는 SAP 처리량</span><span class="sxs-lookup"><span data-stu-id="36d1a-225">SAPS throughput provided by different Azure SKUs</span></span>

<span data-ttu-id="36d1a-226">이러한 질문에 대한 답변은 SAP 정보 [1928533]에서 읽을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-226">The answers to these questions can be read in SAP Note [1928533].</span></span>

<span data-ttu-id="36d1a-227">두 번째 단계로, Azure 리소스 및 대역폭 제한을 온-프레미스 시스템의 실제 리소스 사용량과 비교해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-227">As a second step, Azure resource and bandwidth limitations need to be compared to actual resource consumption of on-premises systems.</span></span> <span data-ttu-id="36d1a-228">따라서 고객은 다음 영역에서 SAP가 지원하는 Azure 유형의 다양한 기능에 익숙해져야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-228">Therefore, customers need to be familiar with the different capabilities of the Azure types supported with SAP in the area of:</span></span>

* <span data-ttu-id="36d1a-229">여러 VM 유형의 CPU 및 메모리 리소스</span><span class="sxs-lookup"><span data-stu-id="36d1a-229">CPU and memory resources of different VM types and</span></span>
* <span data-ttu-id="36d1a-230">여러 VM 유형의 IOPS 대역폭</span><span class="sxs-lookup"><span data-stu-id="36d1a-230">IOPS bandwidth of different VM types and</span></span>
* <span data-ttu-id="36d1a-231">여러 VM 유형의 네트워크 기능.</span><span class="sxs-lookup"><span data-stu-id="36d1a-231">Network capabilities of different VM types.</span></span>

<span data-ttu-id="36d1a-232">대부분의 데이터는 [여기(Linux)][virtual-machines-sizes-linux]와 [여기(Windows)][virtual-machines-sizes-windows]에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-232">Most of that data can be found [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="36d1a-233">위의 링크에 나와 있는 제한은 상한입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-233">Keep in mind that the limits listed in the link above are upper limits.</span></span> <span data-ttu-id="36d1a-234">모든 리소스에 대해 제한이 있는 것은 아닙니다. 예를 들어 IOPS는 모든 상황에서 제공될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-234">It does not mean that the limits for any of the resources, for example IOPS can be provided under all circumstances.</span></span> <span data-ttu-id="36d1a-235">선택한 VM 유형의 CPU 및 메모리 리소스는 예외입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-235">The exceptions though are the CPU and memory resources of a chosen VM type.</span></span> <span data-ttu-id="36d1a-236">SAP에서 지원하는 VM 유형의 경우 CPU 및 메모리 리소스가 예약되므로 VM 내에서 언제든지 사용 가능합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-236">For the VM types supported by SAP, the CPU and memory resources are reserved and as such available at any point in time for consumption within the VM.</span></span>

<span data-ttu-id="36d1a-237">다른 IaaS 플랫폼과 같은 Microsoft Azure Platform은 다중 테넌트 플랫폼입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-237">The Microsoft Azure platform like other IaaS platforms is a multi-tenant platform.</span></span> <span data-ttu-id="36d1a-238">즉, 저장소, 네트워크 및 기타 리소스가 테넌트 간에 공유됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-238">This means that storage, network, and other resources are shared between tenants.</span></span> <span data-ttu-id="36d1a-239">한 테넌트가 다른 테넌트(시끄러운 이웃)의 성능에 심각하게 영향을 주지 못하게 하기 위해 지능적 제한 및 할당량 논리가 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-239">Intelligent throttling and quota logic is used to prevent one tenant from impacting the performance of another tenant (noisy neighbor) in a drastic way.</span></span> <span data-ttu-id="36d1a-240">Azure의 논리는 대역폭에서 비교적 작은 변화를 경험하게 하려는 것이지만 공유가 많이 되는 플랫폼의 경우 고객이 온-프레미스 배포에서 익숙해진 것보다 리소스/대역폭 가용성에서 더 큰 차이를 나타내는 경향이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-240">Though logic in Azure tries to keep variances in bandwidth experienced small, highly shared platforms tend to introduce larger variances in resource/bandwidth availability than many customers are used to in their on-premises deployments.</span></span> <span data-ttu-id="36d1a-241">결과적으로 네트워킹 또는 저장소 I/O(대기 시간 및 볼륨)와 관련해서 분당 대역폭 수준이 다른 것을 경험할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-241">As a result, you might experience different levels of bandwidth regarding networking or storage I/O (the volume as well as latency) from minute to minute.</span></span> <span data-ttu-id="36d1a-242">Azure의 SAP 시스템이 온-프레미스 시스템의 경우보다 더 큰 차이를 경험할 가능성을 고려해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-242">The probability that an SAP system on Azure could experience larger variances than in an on-premises system needs to be taken into account.</span></span>

<span data-ttu-id="36d1a-243">마지막 단계는 가용성 요구 사항을 평가하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-243">A last step is to evaluate availability requirements.</span></span> <span data-ttu-id="36d1a-244">기본 Azure 인프라를 업데이트해야 하고 VM이 실행되는 호스트를 재부팅해야 하는 경우가 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-244">It can happen, that the underlying Azure infrastructure needs to get updated and requires the hosts running VMs to be rebooted.</span></span> <span data-ttu-id="36d1a-245">이러한 경우 해당 호스트에서 실행되는 VM을 종료한 후 다시 시작할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-245">In these cases, VMs running on those hosts would be shut down and restarted as well.</span></span> <span data-ttu-id="36d1a-246">이러한 유지 관리 시간은 특정 지역의 경우 핵심적인 업무 시간이 아니지만 다시 시작이 진행되는 몇 시간의 기간은 비교적 긴 시간입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-246">The timing of such maintenance is done during non-core business hours for a particular region but the potential window of a few hours during which a restart will occur is relatively wide.</span></span> <span data-ttu-id="36d1a-247">이러한 업데이트의 영향 중 일부 또는 전체를 완화하도록 Azure 플랫폼 내의 다양한 기술을 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-247">There are various technologies within the Azure platform that can be configured to mitigate some or all of the impact of such updates.</span></span> <span data-ttu-id="36d1a-248">Azure 플랫폼, DBMS 및 SAP 응용 프로그램은 앞으로 이러한 다시 시작이 미치는 영향을 최소화하도록 개선될 것입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-248">Future enhancements of the Azure platform, DBMS, and SAP application are designed to minimize the impact of such restarts.</span></span>

<span data-ttu-id="36d1a-249">Azure에 SAP 시스템을 성공적으로 배포하려면 온-프레미스 SAP 시스템 운영 체제, 데이터베이스 및 SAP 응용 프로그램이 SAP Azure 지원 매트릭스에 표시되고, Azure 인프라가 제공할 수 있고 가용성 SLA Microsoft Azure 제공 서비스에서 작동될 수 있는 리소스에 잘 맞아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-249">In order to successfully deploy an SAP system onto Azure, the on-premises SAP system(s) Operating System, Database, and SAP applications must appear on the SAP Azure support matrix, fit within the resources the Azure infrastructure can provide and which can work with the Availability SLAs Microsoft Azure offers.</span></span> <span data-ttu-id="36d1a-250">이러한 시스템이 파악되면 다음과 같은 두 가지 배포 시나리오 중 하나를 결정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-250">As those systems are identified, you need to decide on one of the following two deployment scenarios.</span></span>

### <span data-ttu-id="36d1a-251"><a name="1625df66-4cc6-4d60-9202-de8a0b77f803"></a>클라우드 전용 - 온-프레미스 고객 네트워크에 의존하지 않고 Azure에 가상 컴퓨터 배포</span><span class="sxs-lookup"><span data-stu-id="36d1a-251"><a name="1625df66-4cc6-4d60-9202-de8a0b77f803"></a>Cloud-Only - Virtual Machine deployments into Azure without dependencies on the on-premises customer network</span></span>
![SAP 데모 또는 학습 시나리오가 Azure에 배포된 단일 VM][planning-guide-figure-100]

<span data-ttu-id="36d1a-253">이 시나리오는 단일 VM 내에 SAP 및 비 SAP 소프트웨어의 모든 구성 요소가 설치되는 학습 또는 데모 시스템에 일반적입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-253">This scenario is typical for trainings or demo systems, where all the components of SAP and non-SAP software are installed within a single VM.</span></span> <span data-ttu-id="36d1a-254">프로덕션 SAP 시스템은 이 배포 시나리오에서 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-254">Production SAP systems are not supported in this deployment scenario.</span></span> <span data-ttu-id="36d1a-255">일반적으로 이 시나리오는 다음 요구 사항을 충족합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-255">In general, this scenario meets the following requirements:</span></span>

* <span data-ttu-id="36d1a-256">VM 자체는 공용 네트워크를 통해 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-256">The VMs themselves are accessible over the public network.</span></span> <span data-ttu-id="36d1a-257">VM 내에서 실행되는 응용 프로그램을 데모 또는 학습 콘텐츠를 소유하는 회사나 고객의 온-프레미스 네트워크에 직접 연결할 필요는 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-257">Direct network connectivity for the applications running within the VMs to the on-premises network of either the company owning the demos or trainings content or the customer is not necessary.</span></span>
* <span data-ttu-id="36d1a-258">교육 또는 데모 시나리오를 나타내는 여러 VM의 경우 VM 간에 네트워크 통신 및 이름 확인이 작동해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-258">In case of multiple VMs representing the trainings or demo scenario, network communications and name resolution needs to work between the VMs.</span></span> <span data-ttu-id="36d1a-259">하지만 여러 VM 집합을 간섭 없이 나란히 배포할 수 있도록 VM 집합 간의 통신을 격리해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-259">But communications between the set of VMs need to be isolated so that several sets of VMs can be deployed side by side without interference.</span></span>  
* <span data-ttu-id="36d1a-260">최종 사용자가 Azure에서 호스트되는 VM에 원격으로 로그인하려면 인터넷에 연결되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-260">Internet connectivity is required for the end user to remote login into to the VMs hosted in Azure.</span></span> <span data-ttu-id="36d1a-261">게스트 OS에 따라 터미널 서비스/RDS 또는 VNC/ssh를 통해 VM에 액세스한 후 학습 작업을 수행하거나 데모를 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-261">Depending on the guest OS, Terminal Services/RDS or VNC/ssh is used to access the VM to either fulfill the training tasks or perform the demos.</span></span> <span data-ttu-id="36d1a-262">3200, 3300 및 3600과 같은 SAP 포트도 노출될 수 있는 경우 인터넷에 연결된 모든 데스크톱에서 SAP 응용 프로그램 인스턴스에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-262">If SAP ports such as 3200, 3300 & 3600 can also be exposed the SAP application instance can be accessed from any Internet connected desktop.</span></span>
* <span data-ttu-id="36d1a-263">SAP 시스템(및 VM)은 최종 사용자 액세스를 위한 공용 인터넷 연결만 필요하고 Azure의 다른 VM에는 연결하지 않아도 되는 Azure의 독립 실행형 시나리오를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-263">The SAP system(s) (and VM(s)) represent a standalone scenario in Azure, which only requires public internet connectivity for end-user access and does not require a connection to other VMs in Azure.</span></span>
* <span data-ttu-id="36d1a-264">SAPGUI 및 브라우저는 VM에서 직접 설치되고 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-264">SAPGUI and a browser are installed and run directly on the VM.</span></span>
* <span data-ttu-id="36d1a-265">VM을 원래 상태로 빠르게 다시 복원해야 하고 해당 원래 상태의 새 배포가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-265">A fast reset of a VM to the original state and new deployment of that original state again is required.</span></span>
* <span data-ttu-id="36d1a-266">여러 VM에서 실현되는 데모 및 교육 시나리오의 경우 각 VM 집합에 Active Directory/OpenLDAP 및/또는 DNS 서비스가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-266">In the case of demo and training scenarios, which are realized in multiple VMs, an Active Directory / OpenLDAP and/or DNS service is required for each set of VMs.</span></span>

![Azure 클라우드 서비스의 단일 데모 또는 학습 시나리오를 나타내는 VM 그룹][planning-guide-figure-200]

<span data-ttu-id="36d1a-268">각 집합의 VM은 동시에 배포해야 하며 각 집합의 VM 이름이 동일해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-268">It is important to keep in mind that the VM(s) in each of the sets need to be deployed in parallel, where the VM names in each of the set are the same.</span></span>

### <span data-ttu-id="36d1a-269"><a name="f5b3b18c-302c-4bd8-9ab2-c388f1ab3d10"></a>크로스 프레미스 - 온-프레미스 네트워크에 완전히 통합될 필요가 있는 단일 또는 다중 SAP VM을 Azure에 배포</span><span class="sxs-lookup"><span data-stu-id="36d1a-269"><a name="f5b3b18c-302c-4bd8-9ab2-c388f1ab3d10"></a>Cross-Premises - Deployment of single or multiple SAP VMs into Azure with the requirement of being fully integrated into the on-premises network</span></span>
![사이트 간 연결이 있는 VPN(크로스 프레미스)][planning-guide-figure-300]

<span data-ttu-id="36d1a-271">이 시나리오는 가능한 여러 배포 패턴을 포함하는 크로스-프레미스 시나리오입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-271">This scenario is a cross-premises scenario with many possible deployment patterns.</span></span> <span data-ttu-id="36d1a-272">간단히 말해서 온-프레미스에서 SAP 지형의 일부를 실행하고 SAP 지형의 다른 부분을 Azure에서 실행하는 것으로 설명할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-272">It can be described as simply as running some parts of the SAP landscape on-premises and other parts of the SAP landscape on Azure.</span></span> <span data-ttu-id="36d1a-273">SAP 구성 요소 중 일부가 Azure에서 실행된다는 사실의 모든 측면이 최종 사용자에게 투명하게 공개되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-273">All aspects of the fact that part of the SAP components are running on Azure should be transparent for end users.</span></span> <span data-ttu-id="36d1a-274">따라서 SAP Transport Correction System(STMS), RFC 통신, 인쇄, 보안(예: SSO) 등은 Azure에서 실행되는 SAP 시스템에서 원활하게 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-274">Hence the SAP Transport Correction System (STMS), RFC Communication, Printing, Security (like SSO), etc. work seamlessly for the SAP systems running on Azure.</span></span> <span data-ttu-id="36d1a-275">그러나 크로스-프레미스 시나리오도 고객의 도메인 및 DNS가 Azure로 확장된 상태로 Azure에서 전체 SAP 지형이 실행되는 시나리오를 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-275">But the cross-premises scenario also describes a scenario where the complete SAP landscape runs in Azure with the customer’s domain and DNS extended into Azure.</span></span>

> [!NOTE]
> <span data-ttu-id="36d1a-276">이것은 생산성이 뛰어난 SAP 시스템을 실행하기 위해 지원되는 배포 시나리오입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-276">This is the deployment scenario, which is supported for running productive SAP systems.</span></span>
>
>

<span data-ttu-id="36d1a-277">온-프레미스 네트워크를 Microsoft Azure에 연결하는 방법에 대한 자세한 내용은 [이 문서][vpn-gateway-create-site-to-site-rm-powershell]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-277">Read [this article][vpn-gateway-create-site-to-site-rm-powershell] for more information on how to connect your on-premises network to Microsoft Azure</span></span>

> [!IMPORTANT]
> <span data-ttu-id="36d1a-278">Azure 및 온-프레미스 고객 배포 간의 크로스-프레미스 시나리오에 대해 논의할 경우 전체 SAP 시스템의 세분성을 고려하게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-278">When we are talking about cross-premises scenarios between Azure and on-premises customer deployments, we are looking at the granularity of whole SAP systems.</span></span> <span data-ttu-id="36d1a-279">크로스-프레미스 시나리오에서 *지원되지 않는* 시나리오는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-279">Scenarios which are *not supported* for cross-premises scenarios are:</span></span>
>
> * <span data-ttu-id="36d1a-280">배포 방법마다 SAP 응용 프로그램의 다른 계층을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-280">Running different layers of SAP applications in different deployment methods.</span></span> <span data-ttu-id="36d1a-281">예를 들어 온-프레미스에서는 DBMS 계층을 실행하지만 Azure VM으로 배포된 VM에서는 SAP 응용 프로그램 계층을 실행하거나 그 반대로 실행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-281">For example running the DBMS layer on-premises, but the SAP application layer in VMs deployed as Azure VMs or vice versa.</span></span>
> * <span data-ttu-id="36d1a-282">SAP 계층 구성 요소 일부는 Azure에 있고, 일부는 온-프레미스에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-282">Some components of an SAP layer in Azure and some on-premises.</span></span> <span data-ttu-id="36d1a-283">온-프레미스와 Azure VM 간에 SAP 응용 프로그램 계층의 인스턴스를 분할하는 경우를 예로 들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-283">For example splitting Instances of the SAP application layer between on-premises and Azure VMs.</span></span>
> * <span data-ttu-id="36d1a-284">단일 시스템의 SAP 인스턴스를 실행하는 VM을 여러 Azure 영역에 배포하는 것은 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-284">Distribution of VMs running SAP instances of one system over multiple Azure Regions is not supported.</span></span>
>
> <span data-ttu-id="36d1a-285">이러한 제한이 적용되는 이유는 단일 SAP 시스템 내에서, 특히 SAP 시스템의 응용 프로그램 인스턴스와 DBMS 계층 사이에서 대기 시간이 짧은 고성능 네트워크를 보장하기 위해서입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-285">The reason for these restrictions is the requirement for a very low latency high-performance network within one SAP system, especially between the application instances and the DBMS layer of an SAP system.</span></span>
>
>

### <a name="supported-os-and-database-releases"></a><span data-ttu-id="36d1a-286">지원되는 OS 및 데이터베이스 릴리스</span><span class="sxs-lookup"><span data-stu-id="36d1a-286">Supported OS and Database Releases</span></span>
* <span data-ttu-id="36d1a-287">Azure Virtual Machines 서비스에 대해 지원되는 Microsoft 서버 소프트웨어는 이 문서에 나열되어 있습니다. <http://support.microsoft.com/kb/2721672></span><span class="sxs-lookup"><span data-stu-id="36d1a-287">Microsoft server software supported for Azure Virtual Machine Services is listed in this article: <http://support.microsoft.com/kb/2721672>.</span></span>
* <span data-ttu-id="36d1a-288">지원되는 운영 체제 릴리스, SAP 소프트웨어와 연계해서 Azure 가상 컴퓨터 서비스에서 지원되는 데이터베이스 시스템 릴리스는 SAP 정보 [1928533]에 설명되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-288">Supported operating system releases, database system releases supported on Azure Virtual Machine Services in conjunction with SAP software are documented in SAP Note [1928533].</span></span>
* <span data-ttu-id="36d1a-289">Azure 가상 컴퓨터 서비스에서 지원되는 SAP 응용 프로그램 및 릴리스는 SAP 정보 [1928533]에 설명되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-289">SAP applications and releases supported on Azure Virtual Machine Services are documented in SAP Note [1928533].</span></span>
* <span data-ttu-id="36d1a-290">SAP용 Azure 시나리오에서는 64비트 이미지만 게스트 VM으로 실행될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-290">Only 64Bit images are supported to run as Guest VMs in Azure for SAP scenarios.</span></span> <span data-ttu-id="36d1a-291">즉, 64비트 SAP 응용 프로그램 및 데이터베이스만 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-291">This also means that only 64-bit SAP applications and databases are supported.</span></span>

## <a name="microsoft-azure-virtual-machine-services"></a><span data-ttu-id="36d1a-292">Microsoft Azure 가상 컴퓨터 서비스</span><span class="sxs-lookup"><span data-stu-id="36d1a-292">Microsoft Azure Virtual Machine Services</span></span>
<span data-ttu-id="36d1a-293">Microsoft Azure Platform은 Microsoft 데이터 센터에서 호스트되고 작동되는 인터넷 규모 클라우드 서비스 플랫폼입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-293">The Microsoft Azure platform is an internet-scale cloud services platform hosted and operated in Microsoft data centers.</span></span> <span data-ttu-id="36d1a-294">이 플랫폼에는 Microsoft Azure 가상 컴퓨터 서비스(Infrastructure as a Service 또는 IaaS) 및 풍부한 PaaS(Platform as a Service) 기능 집합이 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-294">The platform includes the Microsoft Azure Virtual Machine Services (Infrastructure as a Service, or IaaS) and a set of rich Platform as a Service (PaaS) capabilities.</span></span>

<span data-ttu-id="36d1a-295">Azure 플랫폼을 사용하면 사전에 기술 및 인프라를 구입할 필요가 줄어듭니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-295">The Azure platform reduces the need for up-front technology and infrastructure purchases.</span></span> <span data-ttu-id="36d1a-296">이 플랫폼은 웹 응용 프로그램 및 연결된 응용 프로그램을 호스트, 확장 및 관리하기 위한 주문형 컴퓨팅 및 저장소를 제공하여 응용 프로그램 유지 관리 및 운영을 간소화합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-296">It simplifies maintaining and operating applications by providing on-demand compute and storage to host, scale, and manage web application and connected applications.</span></span> <span data-ttu-id="36d1a-297">인프라 관리는 사용 요구에 맞는 종량제 가격 모델 옵션을 사용하도록 하여 고가용성 및 동적 확장을 충족하도록 설계된 플랫폼으로 자동화됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-297">Infrastructure management is automated with a platform that is designed for high availability and dynamic scaling to match usage needs with the option of a pay-as-you-go pricing model.</span></span>

![Microsoft Azure 가상 컴퓨터 서비스 위치 지정][planning-guide-figure-400]

<span data-ttu-id="36d1a-299">Azure 가상 컴퓨터 서비스를 사용하여 사용자 지정 서버 이미지를 Azure에 IaaS 인스턴스로 배포할 수 있습니다(그림 4 참조).</span><span class="sxs-lookup"><span data-stu-id="36d1a-299">With Azure Virtual Machine Services, Microsoft is enabling you to deploy custom server images to Azure as IaaS instances (see Figure 4).</span></span> <span data-ttu-id="36d1a-300">Azure의 가상 컴퓨터는 Hyper-V VHD(가상 하드 드라이브)를 기준으로 하며 다른 운영 체제를 게스트 OS로 실행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-300">The Virtual Machines in Azure are based on Hyper-V virtual hard drives (VHD) and are able to run different operating systems as Guest OS.</span></span>

<span data-ttu-id="36d1a-301">운영 측면에서 Azure 가상 컴퓨터 서비스는 온-프레미스에 배포된 가상 컴퓨터와 유사한 환경을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-301">From an operational perspective, the Azure Virtual Machine Service offers similar experiences as virtual machines deployed on premises.</span></span> <span data-ttu-id="36d1a-302">그러나 인프라를 조달, 운영 및 관리할 필요가 없다는 중요한 이점이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-302">However, it has the significant advantage that you don’t need to procure, administer, and manage the infrastructure.</span></span> <span data-ttu-id="36d1a-303">개발자와 관리자는 이러한 가상 컴퓨터 내의 운영 체제 이미지에 대해 모든 권한을 가집니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-303">Developers and Administrators have full control of the operating system image within these virtual machines.</span></span> <span data-ttu-id="36d1a-304">관리자는 이러한 가상 컴퓨터에 원격으로 로그온하여 소프트웨어 배포 작업뿐 아니라 유지 관리 및 문제 해결 작업을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-304">Administrators can log on remotely in to those virtual machines to perform maintenance and troubleshooting tasks as well as software deployment tasks.</span></span> <span data-ttu-id="36d1a-305">배포 측면에서는 Azure VM의 크기 및 기능만 제한됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-305">In regard to deployment, the only restrictions are the sizes and capabilities of Azure VMs.</span></span> <span data-ttu-id="36d1a-306">배포는 온-프레미스에서 수행될 수 있으므로 이러한 제한이 구성에서 그리 세밀한 부분이 아닐 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-306">These may not be as fine granular in configuration as this could be done on premises.</span></span> <span data-ttu-id="36d1a-307">다음을 조합한 다양한 VM 유형을 선택할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-307">There is a choice of VM types that represent a combination of:</span></span>

* <span data-ttu-id="36d1a-308">vCPU 수</span><span class="sxs-lookup"><span data-stu-id="36d1a-308">Number of vCPUs,</span></span>
* <span data-ttu-id="36d1a-309">메모리</span><span class="sxs-lookup"><span data-stu-id="36d1a-309">Memory,</span></span>
* <span data-ttu-id="36d1a-310">연결할 수 있는 VHD 수</span><span class="sxs-lookup"><span data-stu-id="36d1a-310">Number of VHDs that can be attached,</span></span>
* <span data-ttu-id="36d1a-311">네트워크 및 저장소 대역폭</span><span class="sxs-lookup"><span data-stu-id="36d1a-311">Network and Storage bandwidths.</span></span>

<span data-ttu-id="36d1a-312">제공되는 다양한 가상 컴퓨터의 크기 및 크기 제한은 [이 문서(Linux)][virtual-machines-sizes-linux]와 [이 문서(Windows)][virtual-machines-sizes-windows]의 표에서 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-312">The size and limitations of various different virtual machines sizes offered can be seen in a table in [this article (Linux)][virtual-machines-sizes-linux] and [this article (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="36d1a-313">아시다시피 가상 컴퓨터에는 다양한 제품군 또는 시리즈가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-313">As you realize, there are different families or series of virtual machines.</span></span> <span data-ttu-id="36d1a-314">VM 제품군은 다음과 같이 구분할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-314">You can distinguish the following families of VMs:</span></span>

* <span data-ttu-id="36d1a-315">A0-A7 VM 유형: 모든 VM이 SAP용으로 인증된 것은 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-315">A0-A7 VM types: Not all of those are certified for SAP.</span></span> <span data-ttu-id="36d1a-316">Azure IaaS가 도입된 첫 번째 VM 시리즈입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-316">First VM series that Azure IaaS got introduced with.</span></span>
* <span data-ttu-id="36d1a-317">A8-A11 VM 유형: 고성능 컴퓨팅 인스턴스.</span><span class="sxs-lookup"><span data-stu-id="36d1a-317">A8-A11 VM types: High Performance computing instances.</span></span> <span data-ttu-id="36d1a-318">기타 A 시리즈 VM보다 더 나은 성능의 다른 컴퓨팅 호스트에서 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-318">Running on different better performing compute hosts than other A-series VMs.</span></span>
* <span data-ttu-id="36d1a-319">D/Dv2 시리즈 VM 유형: A0-A7보다 더 나은 성능을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-319">D/Dv2-Series VM types: Better performing than A0-A7.</span></span> <span data-ttu-id="36d1a-320">모든 VM 유형이 SAP용으로 인증된 것은 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-320">Not all of the VM types are certified with SAP.</span></span>
* <span data-ttu-id="36d1a-321">DS/DSv2 시리즈 VM 유형: D/Dv2 시리즈와 비슷하지만 Azure Premium Storage에 연결할 수 있습니다(이 문서의 [Azure Premium Storage][planning-guide-3.3.2] 장 참조).</span><span class="sxs-lookup"><span data-stu-id="36d1a-321">DS/DSv2-Series VM types: Similar to D/Dv2-series, but are able to connect to Azure Premium Storage (see chapter [Azure Premium Storage][planning-guide-3.3.2] of this document).</span></span> <span data-ttu-id="36d1a-322">마찬가지로 모든 VM 유형이 SAP용으로 인증된 것은 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-322">Again not all VM types are certified with SAP.</span></span>
* <span data-ttu-id="36d1a-323">G 시리즈 VM 유형: 높은 메모리 VM 유형입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-323">G-Series VM types: High memory VM types.</span></span>
* <span data-ttu-id="36d1a-324">GS 시리즈 VM 유형: G 시리즈와 같지만 Azure Premium Storage를 사용하기 위한 옵션을 포함하고 있습니다(이 문서의 [Azure Premium Storage][planning-guide-3.3.2] 장 참조).</span><span class="sxs-lookup"><span data-stu-id="36d1a-324">GS-Series VM types: like G-Series but including the option to use Azure Premium Storage (see chapter [Azure Premium Storage][planning-guide-3.3.2] of this document).</span></span> <span data-ttu-id="36d1a-325">GS 시리즈 VM을 데이터베이스 서버로 사용할 경우 DB 데이터 및 트랜잭션 로그 파일을 위해 반드시 프리미엄 저장소를 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-325">When using GS-Series VMs as database servers, it's mandatory to use Premium Storage for DB data and transaction log files</span></span>

<span data-ttu-id="36d1a-326">다른 VM 시리즈에서 동일한 CPU 및 메모리 구성을 찾을 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-326">You may find the same CPU and memory configurations in different VM series.</span></span> <span data-ttu-id="36d1a-327">그렇지만 다른 시리즈 중에서 이러한 VM의 처리량 성능을 조회해보면 크게 다르다는 것을 알 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-327">Nevertheless, when you look up the throughput performance of these VMs out of the different series they might differ significantly.</span></span> <span data-ttu-id="36d1a-328">CPU 및 메모리 구성이 같더라도 마찬가지입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-328">Despite having the same CPU and memory configuration.</span></span> <span data-ttu-id="36d1a-329">이유는 여러 VM 유형을 도입할 때 기본 호스트 서버 하드웨어가 다른 처리량 특성을 갖기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-329">Reason is that the underlying host server hardware at the introduction of the different VM types had different throughput characteristics.</span></span>  <span data-ttu-id="36d1a-330">일반적으로 처리량 성능에서 나타나는 차이가 다른 VM의 가격에서도 반영됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-330">Usually the difference shown in throughput performance also is reflected in the price of the different VMs.</span></span>

<span data-ttu-id="36d1a-331">각 Azure 지역에 모두 다른 VM 시리즈가 제공되는 것은 아닐 수 있습니다(Azure 지역에 대해서는 다음 장 참조).</span><span class="sxs-lookup"><span data-stu-id="36d1a-331">Not all different VM series might be offered in each one of the Azure Regions (for Azure Regions see next chapter).</span></span> <span data-ttu-id="36d1a-332">또한 일부 VM 또는 VM 시리즈만 SAP용으로 인증되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-332">Also be aware that not all VMs or VM-Series are certified for SAP.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="36d1a-333">SAP NetWeaver 기반 응용 프로그램을 사용하는 경우 SAP 정보 [1928533] 에 나열된 VM 형식 및 구성 일부만 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-333">For the use of SAP NetWeaver based applications, only the subset of VM types and configurations listed in SAP Note [1928533] are supported.</span></span>
>
>

### <span data-ttu-id="36d1a-334"><a name="be80d1b9-a463-4845-bd35-f4cebdb5424a"></a>Azure 지역</span><span class="sxs-lookup"><span data-stu-id="36d1a-334"><a name="be80d1b9-a463-4845-bd35-f4cebdb5424a"></a>Azure Regions</span></span>
<span data-ttu-id="36d1a-335">Microsoft는 소위 말하는 'Azure 영역'에 가상 컴퓨터를 배포할 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-335">Microsoft allows to deploy Virtual Machines into so called ‘Azure Regions’.</span></span> <span data-ttu-id="36d1a-336">Azure 지역은 지리적으로 근접한 하나 또는 여러 개의 데이터 센터일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-336">An Azure Region may be one or multiple data centers that are located in close proximity.</span></span> <span data-ttu-id="36d1a-337">전 세계의 지정학적 지역 대부분에 대해 Microsoft는 2개 이상의 Azure 지역을 유지합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-337">For most of the geopolitical regions in the world Microsoft has at least two Azure Regions.</span></span> <span data-ttu-id="36d1a-338">유럽의 경우 '북유럽' 및 '유럽 서부'라는 Azure 지역이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-338">For example, in Europe there is an Azure Region of ‘North Europe’ and one of ‘West Europe’.</span></span> <span data-ttu-id="36d1a-339">이러한 지정학적 지역 한 곳 내의 두 Azure 지역은 충분히 먼 거리로 구분되어 있으므로 자연 또는 기술적 재해가 같은 지정학적 지역의 두 Azure 지역에 영향을 주지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-339">Such two Azure Regions within a geopolitical region are separated by significant enough distance so that natural or technical disasters do not affect both Azure Regions in the same geopolitical region.</span></span> <span data-ttu-id="36d1a-340">Microsoft는 꾸준히 전 세계의 여러 다른 지정학적 지역에 새로운 Azure 지역을 구축하고 있으므로 이러한 지역의 수가 꾸준히 늘어나고 있으며 2015년 12월을 기준으로 이미 발표된 추가 지역을 포함하여 20개의 Azure 지역이 구축되었습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-340">Since Microsoft is steadily building out new Azure Regions in different geopolitical regions globally, the number of these regions is steadily growing and as of Dec 2015 reached the number of 20 Azure Regions with additional Regions announced already.</span></span> <span data-ttu-id="36d1a-341">고객은 중국의 두 Azure 지역을 포함하는 이러한 모든 지역에 SAP 시스템을 배포할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-341">You as a customer can deploy SAP systems into all these regions, including the two Azure Regions in China.</span></span> <span data-ttu-id="36d1a-342">Azure 지역에 대한 최신 정보를 보려면 <https://azure.microsoft.com/regions/> 웹 사이트를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-342">For current up-to-date information about Azure regions see this website: <https://azure.microsoft.com/regions/></span></span>

### <span data-ttu-id="36d1a-343"><a name="8d8ad4b8-6093-4b91-ac36-ea56d80dbf77"></a>Microsoft Azure Virtual Machine 개념</span><span class="sxs-lookup"><span data-stu-id="36d1a-343"><a name="8d8ad4b8-6093-4b91-ac36-ea56d80dbf77"></a>The Microsoft Azure Virtual Machine Concept</span></span>
<span data-ttu-id="36d1a-344">Microsoft Azure는 온-프레미스 가상화 솔루션과 비슷한 기능을 갖는 가상 컴퓨터를 호스트하기 위해 IaaS(Infrastructure as a Service) 솔루션을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-344">Microsoft Azure offers an Infrastructure as a Service (IaaS) solution to host Virtual Machines with similar functionalities as an on-premises virtualization solution.</span></span> <span data-ttu-id="36d1a-345">Azure Portal, PowerShell 또는 CLI 내에서도 배포 및 관리 기능을 제공하는 가상 컴퓨터를 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-345">You are able to create Virtual Machines from within the Azure portal, PowerShell or CLI, which also offer deployment and management capabilities.</span></span>

<span data-ttu-id="36d1a-346">Azure Resource Manager를 사용하면 선언적 템플릿을 통해 응용 프로그램을 프로비전할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-346">Azure Resource Manager allows you to provision your applications using a declarative template.</span></span> <span data-ttu-id="36d1a-347">단일 템플릿에서 여러 서비스를 해당 종속성과 함께 배포할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-347">In a single template, you can deploy multiple services along with their dependencies.</span></span> <span data-ttu-id="36d1a-348">동일한 템플릿을 사용하여 응용 프로그램 수명 주기의 각 단계 중에 응용 프로그램을 반복해서 배포합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-348">You use the same template to repeatedly deploy your application during every stage of the application life cycle.</span></span>

<span data-ttu-id="36d1a-349">Resource Manager 템플릿 사용에 대한 자세한 내용은 다음 항목에서 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-349">More information about using Resource Manager templates can be found here:</span></span>

* <span data-ttu-id="36d1a-350">[Azure Resource Manager 템플릿 및 Azure CLI를 사용하여 가상 컴퓨터 배포 및 관리][../../linux/create-ssh-secured-vm-from-template.md]</span><span class="sxs-lookup"><span data-stu-id="36d1a-350">[Deploy and manage virtual machines by using Azure Resource Manager templates and the Azure CLI][../../linux/create-ssh-secured-vm-from-template.md]</span></span>
* <span data-ttu-id="36d1a-351">[Azure Resource Manager 및 PowerShell을 사용하여 가상 컴퓨터 관리][virtual-machines-deploy-rmtemplates-powershell]</span><span class="sxs-lookup"><span data-stu-id="36d1a-351">[Manage virtual machines using Azure Resource Manager and PowerShell][virtual-machines-deploy-rmtemplates-powershell]</span></span>
* <span data-ttu-id="36d1a-352"><https://azure.microsoft.com/documentation/templates/></span><span class="sxs-lookup"><span data-stu-id="36d1a-352"><https://azure.microsoft.com/documentation/templates/></span></span>

<span data-ttu-id="36d1a-353">또 다른 흥미로운 기능은 가상 컴퓨터에서 이미지를 만들 수 있다는 것입니다. 이를 통해 요구 사항을 충족하는 가상 컴퓨터 인스턴스를 빠르게 배포할 수 있는 특정 리포지토리를 준비할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-353">Another interesting feature is the ability to create images from Virtual Machines, which allows you to prepare certain repositories from which you are able to quickly deploy Virtual machine instances, which meet your requirements.</span></span>

<span data-ttu-id="36d1a-354">Virtual Machines에서 이미지를 만드는 방법에 대한 자세한 내용은 [이 문서(Linux)][virtual-machines-linux-capture-image-resource-manager] 및 [이 문서(Windows)][virtual-machines-windows-capture-image-resource-manager]에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-354">More information about creating images from Virtual Machines can be found in [this article (Linux)][virtual-machines-linux-capture-image-resource-manager] and [this article (Windows)][virtual-machines-windows-capture-image-resource-manager].</span></span>

#### <span data-ttu-id="36d1a-355"><a name="df49dc09-141b-4f34-a4a2-990913b30358"></a>장애 도메인</span><span class="sxs-lookup"><span data-stu-id="36d1a-355"><a name="df49dc09-141b-4f34-a4a2-990913b30358"></a>Fault Domains</span></span>
<span data-ttu-id="36d1a-356">장애 도메인은 데이터 센터에 포함된 물리적 인프라와 매우 밀접하게 관련되어 있는 실패의 물리적 단위를 나타내며, 물리적 블레이드나 랙이 장애 도메인으로 간주될 수 있는 경우 둘 간의 직접적인 일대일 매핑은 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-356">Fault Domains represent a physical unit of failure, very closely related to the physical infrastructure contained in data centers, and while a physical blade or rack can be considered a Fault Domain, there is no direct one-to-one mapping between the two.</span></span>

<span data-ttu-id="36d1a-357">여러 가상 컴퓨터를 Microsoft Azure 가상 컴퓨터 서비스에서 단일 SAP 시스템의 일부로 배포할 경우 Azure 패브릭 컨트롤러에 영향을 주어 응용 프로그램을 여러 다른 장애 도메인으로 배포할 수 있으므로 Microsoft Azure SLA의 요구 사항을 충족할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-357">When you deploy multiple Virtual Machines as part of one SAP system in Microsoft Azure Virtual Machine Services, you can influence the Azure Fabric Controller to deploy your application into different Fault Domains, thereby meeting the requirements of the Microsoft Azure SLA.</span></span> <span data-ttu-id="36d1a-358">그러나 Azure 배율 단위(수백 개의 컴퓨터 노드 또는 저장소 노드 및 네트워킹 컬렉션)에 장애 도메인을 배포하거나 특정 장애 도메인에 VM을 할당하는 것은 직접 제어할 수 없는 영역입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-358">However, the distribution of Fault Domains over an Azure Scale Unit (collection of hundreds of Compute nodes or Storage nodes and networking) or the assignment of VMs to a specific Fault Domain is something over which you do not have direct control.</span></span> <span data-ttu-id="36d1a-359">Azure 패브릭 컨트롤러가 여러 다른 장애 도메인에 VM 집합을 배포하도록 하려면 배포 시에 Azure 가용성 집합을 하는 VM에 할당해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-359">In order to direct the Azure fabric controller to deploy a set of VMs over different Fault Domains, you need to assign an Azure Availability Set to the VMs at deployment time.</span></span> <span data-ttu-id="36d1a-360">Azure 가용성 집합에 대한 자세한 내용은 이 문서의 [Azure 가용성 집합][planning-guide-3.2.3] 장을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-360">For more information on Azure Availability Sets, see chapter [Azure Availability Sets][planning-guide-3.2.3] in this document.</span></span>

#### <span data-ttu-id="36d1a-361"><a name="fc1ac8b2-e54a-487c-8581-d3cc6625e560"></a>업그레이드 도메인</span><span class="sxs-lookup"><span data-stu-id="36d1a-361"><a name="fc1ac8b2-e54a-487c-8581-d3cc6625e560"></a>Upgrade Domains</span></span>
<span data-ttu-id="36d1a-362">업그레이드 도메인은 여러 VM에서 실행되는 SAP 인스턴스를 구성하는 SAP 시스템 내의 VM이 업데이트되는 방식을 결정하는 데 도움이 되는 논리적 단위를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-362">Upgrade Domains represent a logical unit that help to determine how a VM within an SAP system, that consists of SAP instances running in multiple VMs, is updated.</span></span> <span data-ttu-id="36d1a-363">업그레이드가 수행될 때 Microsoft Azure는 이러한 업그레이드 도메인을 하나씩 업데이트합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-363">When an upgrade occurs, Microsoft Azure goes through the process of updating these Upgrade Domains one by one.</span></span> <span data-ttu-id="36d1a-364">배포 시에 여러 업그레이드 도메인에 VM을 분산하여 잠재적인 가동 중지 시간으로부터 SAP 시스템을 일부 보호할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-364">By spreading VMs at deployment time over different Upgrade Domains, you can protect your SAP system partly from potential downtime.</span></span> <span data-ttu-id="36d1a-365">강제로 Azure가 여러 업그레이드 도메인에 SAP 시스템의 VM을 분산 배포하게 하려면 각 VM의 배포 시에 특정 특성을 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-365">In order to force Azure to deploy the VMs of an SAP system spread over different Upgrade Domains, you need to set a specific attribute at deployment time of each VM.</span></span> <span data-ttu-id="36d1a-366">장애 도메인과 마찬가지로 Azure 배율 단위는 여러 업그레이드 도메인으로 나뉩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-366">Similar to Fault Domains, an Azure Scale Unit is divided into multiple Upgrade Domains.</span></span> <span data-ttu-id="36d1a-367">Azure 패브릭 컨트롤러가 여러 다른 업그레이드 도메인에 VM 집합을 배포하도록 하려면 배포 시에 Azure 가용성 집합을 하는 VM에 할당해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-367">In order to direct the Azure fabric controller to deploy a set of VMs over different Upgrade Domains, you need to assign an Azure Availability Set to the VMs at deployment time.</span></span> <span data-ttu-id="36d1a-368">Azure 가용성 집합에 대한 자세한 내용은 아래의 [Azure 가용성 집합][planning-guide-3.2.3] 장을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-368">For more information on Azure Availability Sets, see chapter [Azure Availability Sets][planning-guide-3.2.3] below.</span></span>

#### <span data-ttu-id="36d1a-369"><a name="18810088-f9be-4c97-958a-27996255c665"></a>Azure 가용성 집합</span><span class="sxs-lookup"><span data-stu-id="36d1a-369"><a name="18810088-f9be-4c97-958a-27996255c665"></a>Azure Availability Sets</span></span>
<span data-ttu-id="36d1a-370">단일 Azure 가용성 집합 내의 Azure 가상 컴퓨터는 Azure 패브릭 컨트롤러에 의해 여러 장애 도메인 및 업그레이드 도메인에 배포됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-370">Azure Virtual Machines within one Azure Availability Set are distributed by the Azure Fabric Controller over different Fault and Upgrade Domains.</span></span> <span data-ttu-id="36d1a-371">여러 장애 도메인과 업그레이드 도메인에 배포하는 목적은 단일 장애 도메인 내에서 인프라 유지 관리를 수행하거나 오류가 발생하는 경우 SAP 시스템의 모든 VM이 종료되지 않도록 하기 위해서입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-371">The purpose of the distribution over different Fault and Upgrade Domains is to prevent all VMs of an SAP system from being shut down in the case of infrastructure maintenance or a failure within one Fault Domain.</span></span> <span data-ttu-id="36d1a-372">기본적으로 VM은 가용성 집합에 속하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-372">By default, VMs are not part of an Availability Set.</span></span> <span data-ttu-id="36d1a-373">가용성 집합에 VM을 포함하는 작업은 배포 시에 또는 VM의 재구성이나 재배포에 의해 나중에 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-373">The participation of a VM in an Availability Set is defined at deployment time or later on by a reconfiguration and re-deployment of a VM.</span></span>

<span data-ttu-id="36d1a-374">Azure 가용성 집합의 개념 및 가용성 집합이 장애 도메인 및 업그레이드 도메인과 관련되는 방식을 이해하려면 [이 문서][virtual-machines-manage-availability]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-374">To understand the concept of Azure Availability Sets and the way Availability Sets relate to Fault and Upgrade Domains, read [this article][virtual-machines-manage-availability]</span></span>

<span data-ttu-id="36d1a-375">json 템플릿을 통해 ARM에 대한 가용성 집합을 정의하려면 [rest-api 사양](https://github.com/Azure/azure-rest-api-specs/blob/master/arm-compute/2015-06-15/swagger/compute.json) 을 참조하고 "가용성"을 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-375">To define availability sets for ARM via a json template see [the rest-api specs](https://github.com/Azure/azure-rest-api-specs/blob/master/arm-compute/2015-06-15/swagger/compute.json) and search for "availability".</span></span>

### <span data-ttu-id="36d1a-376"><a name="a72afa26-4bf4-4a25-8cf7-855d6032157f"></a>저장소: Microsoft Azure Storage 및 데이터 디스크</span><span class="sxs-lookup"><span data-stu-id="36d1a-376"><a name="a72afa26-4bf4-4a25-8cf7-855d6032157f"></a>Storage: Microsoft Azure Storage and Data Disks</span></span>
<span data-ttu-id="36d1a-377">Microsoft Azure 가상 컴퓨터는 다양한 저장소 유형을 활용합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-377">Microsoft Azure Virtual Machines utilize different storage types.</span></span> <span data-ttu-id="36d1a-378">Azure 가상 컴퓨터 서비스에서 SAP를 구현할 때는 다음 두 가지 주요 저장소 유형 간의 차이점을 이해하는 것이 중요합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-378">When implementing SAP on Azure Virtual Machine Services, it is important to understand the differences between these two main types of storage:</span></span>

* <span data-ttu-id="36d1a-379">비영구 휘발성 저장소</span><span class="sxs-lookup"><span data-stu-id="36d1a-379">Non-Persistent, volatile storage.</span></span>
* <span data-ttu-id="36d1a-380">영구 저장소</span><span class="sxs-lookup"><span data-stu-id="36d1a-380">Persistent storage.</span></span>

<span data-ttu-id="36d1a-381">비영구 저장소는 실행 중인 가상 컴퓨터에 직접 연결되고 계산 노드 자체, 즉 로컬 인스턴스 저장소(임시 저장소)에 상주합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-381">The non-persistent storage is directly attached to the running Virtual Machines and resides on the compute nodes themselves – the local instance storage (temporary storage).</span></span> <span data-ttu-id="36d1a-382">크기는 배포 시작 시 선택한 가상 컴퓨터의 크기에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-382">The size depends on the size of the Virtual Machine chosen when the deployment started.</span></span> <span data-ttu-id="36d1a-383">이 저장소 유형은 휘발성이므로 가상 컴퓨터 인스턴스를 다시 시작하면 디스크가 초기화됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-383">This storage type is volatile and therefore the disk is initialized when a Virtual Machine instance is restarted.</span></span> <span data-ttu-id="36d1a-384">일반적으로 운영 체제용 페이지 파일은 이 임시 디스크에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-384">Typically, the pagefile for the operating system is located on this temporary disk.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="36d1a-386">Windows</span><span class="sxs-lookup"><span data-stu-id="36d1a-386">Windows</span></span>
>
> <span data-ttu-id="36d1a-387">Windows VM에서 임시 드라이브는 배포된 VM의 D:\ 드라이브로 탑재됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-387">On Windows VMs the temp drive is mounted as drive D:\ in a deployed VM.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="36d1a-389">Linux</span><span class="sxs-lookup"><span data-stu-id="36d1a-389">Linux</span></span>
>
> <span data-ttu-id="36d1a-390">Linux VM에서는 /mnt/resource 또는 /mnt로 탑재됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-390">On Linux VMs, it's mounted as /mnt/resource or /mnt.</span></span> <span data-ttu-id="36d1a-391">자세한 내용은 다음 항목을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-391">See more details here:</span></span>
>
> * <span data-ttu-id="36d1a-392">[Linux 가상 컴퓨터에 데이터 디스크를 연결하는 방법][virtual-machines-linux-how-to-attach-disk]</span><span class="sxs-lookup"><span data-stu-id="36d1a-392">[How to Attach a Data Disk to a Linux Virtual Machine][virtual-machines-linux-how-to-attach-disk]</span></span>
> * <span data-ttu-id="36d1a-393"><https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux#temporary-disk></span><span class="sxs-lookup"><span data-stu-id="36d1a-393"><https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux#temporary-disk></span></span>
>
>

- - -
<span data-ttu-id="36d1a-394">실제 드라이브는 호스트 서버 자체에 저장되므로 휘발성입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-394">The actual drive is volatile because it is getting stored on the host server itself.</span></span> <span data-ttu-id="36d1a-395">재배포 시 VM이 이동되면(예: 호스트에 대한 유지 관리 또는 종료 및 다시 시작으로 인해) 드라이브의 내용이 유실됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-395">If the VM moved in a redeployment (for example due to maintenance on the host or shutdown and restart) the content of the drive is lost.</span></span> <span data-ttu-id="36d1a-396">따라서 이 드라이브에 중요한 데이터를 저장하는 것은 바람직하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-396">Therefore, it is not an option to store any important data on this drive.</span></span> <span data-ttu-id="36d1a-397">이러한 유형의 저장소에 사용되는 미디어 유형은 2015년 6월을 기준으로 다음과 같이 매우 다른 성능 특성을 나타내며 VM 시리즈 간에 차이를 보입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-397">The type of media used for this type of storage differs between different VM series with very different performance characteristics which as of June 2015 look like:</span></span>

* <span data-ttu-id="36d1a-398">A5-A7: 매우 제한된 성능.</span><span class="sxs-lookup"><span data-stu-id="36d1a-398">A5-A7: Very limited performance.</span></span> <span data-ttu-id="36d1a-399">페이지 파일 이외의 다른 항목에는 권장되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-399">Not recommended for anything beyond page file</span></span>
* <span data-ttu-id="36d1a-400">A8-A11: 매우 양호한 성능(수 만 IOPS 및 1GB/초 이상의 처리량)</span><span class="sxs-lookup"><span data-stu-id="36d1a-400">A8-A11: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput.</span></span>
* <span data-ttu-id="36d1a-401">D 시리즈: 매우 양호한 성능(수 만 IOPS 및 1GB/초 이상의 처리량)</span><span class="sxs-lookup"><span data-stu-id="36d1a-401">D-Series: Very good performance characteristics with some then thousand IOPS and >1GB/sec throughput.</span></span>
* <span data-ttu-id="36d1a-402">DS 시리즈: 매우 양호한 성능(수 만 IOPS 및 1GB/초 이상의 처리량)</span><span class="sxs-lookup"><span data-stu-id="36d1a-402">DS-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput.</span></span>
* <span data-ttu-id="36d1a-403">G 시리즈: 매우 양호한 성능(수 만 IOPS 및 1GB/초 이상의 처리량)</span><span class="sxs-lookup"><span data-stu-id="36d1a-403">G-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput.</span></span>
* <span data-ttu-id="36d1a-404">GS 시리즈: 매우 양호한 성능(수 만 IOPS 및 1GB/초 이상의 처리량)</span><span class="sxs-lookup"><span data-stu-id="36d1a-404">GS-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput.</span></span>

<span data-ttu-id="36d1a-405">위의 문은 SAP에서 인증된 VM 형식에 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-405">Statements above are applying to the VM types that are certified with SAP.</span></span> <span data-ttu-id="36d1a-406">일부 DBMS 기능에서 사용하는 데 필요한 뛰어난 IOPS 및 처리량을 제공하는 VM 시리즈입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-406">The VM-series with excellent IOPS and throughput qualify for leverage by some DBMS features.</span></span> <span data-ttu-id="36d1a-407">자세한 내용은 [DBMS 배포 가이드][dbms-guide]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-407">For more information, see the [DBMS Deployment Guide][dbms-guide].</span></span>

<span data-ttu-id="36d1a-408">Microsoft Azure 저장소는 영구 저장소와 SAN 저장소에서 확인되는 일반적인 수준의 보호 및 중복성을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-408">Microsoft Azure Storage provides persisted storage and the typical levels of protection and redundancy seen on SAN storage.</span></span> <span data-ttu-id="36d1a-409">Azure 저장소를 기준으로 하는 디스크는 Azure 저장소 서비스에 있는 VHD(가상 하드 디스크)입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-409">Disks based on Azure Storage are virtual hard disk (VHDs) located in the Azure Storage Services.</span></span> <span data-ttu-id="36d1a-410">로컬 OS 디스크(Windows C:\, Linux /dev/sda1)는 Azure Storage에 저장되고, VM에 탑재된 추가 볼륨/디스크도 여기에 저장됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-410">The local OS-Disk (Windows C:\, Linux /dev/sda1) is stored on the Azure Storage, and additional Volumes/Disks mounted to the VM get stored there, too.</span></span>

<span data-ttu-id="36d1a-411">온-프레미스에서 기존 VHD를 업로드하거나 Azure 내에서 빈 VHD를 만든 후에 배포된 VM에 연결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-411">It is possible to upload an existing VHD from on-premises or create empty ones from within Azure and attach those to deployed VMs.</span></span>

<span data-ttu-id="36d1a-412">VHD를 만들거나 Azure 저장소에 업로드한 후 기존 가상 컴퓨터에 탑재하고 연결하고 기존(분리된) VHD를 복사할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-412">After creating or uploading a VHD into Azure Storage, it is possible to mount and attach those to an existing Virtual Machine and to copy existing (unmounted) VHD.</span></span>

<span data-ttu-id="36d1a-413">해당 VHD는 지속되므로 해당 VHD 내의 데이터 및 변경 내용은 재부팅한 후 가상 컴퓨터 인스턴스를 다시 만들어도 안전하게 유지됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-413">As those VHDs are persisted, data and changes within those are safe when rebooting and recreating a Virtual Machine instance.</span></span> <span data-ttu-id="36d1a-414">인스턴스를 삭제하는 경우에도 이러한 VHD가 안전하게 유지되며 재배포될 수 있으며, OS가 아닌 디스크의 경우에도 다른 VM에 탑재할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-414">Even if an instance is deleted, these VHDs stay safe and can be redeployed or in case of non-OS disks can be mounted to other VMs.</span></span>

<span data-ttu-id="36d1a-415">Azure 저장소의 네트워크 내에서 다음과 같은 여러 다른 중복 수준을 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-415">Within the network of Azure Storage different redundancy levels can be configured:</span></span>

* <span data-ttu-id="36d1a-416">선택할 수 있는 최소 수준은 '로컬 중복성'입니다. 이는 Azure 지역의 동일한 데이터 센터 내에 데이터의 3개 복제본이 있는 것과 같습니다([Azure 지역][planning-guide-3.1] 장 참조).</span><span class="sxs-lookup"><span data-stu-id="36d1a-416">Minimum level that can be selected is ‘local redundancy’, which is equivalent to three-replica of the data within the same data center of an Azure Region (see chapter [Azure Regions][planning-guide-3.1]).</span></span>
* <span data-ttu-id="36d1a-417">동일한 Azure 지역 내의 여러 다른 데이터 센터로 3개의 이미지를 분산하는 영역 중복 저장소.</span><span class="sxs-lookup"><span data-stu-id="36d1a-417">Zone redundant storage, which spreads the three images over different data centers within the same Azure Region.</span></span>
* <span data-ttu-id="36d1a-418">기본 중복성 수준은 콘텐츠를 데이터의 다른 세 개의 이미지 형태로, 동일한 지정학적 지역에 호스트된 다른 Azure 지역에 비동기식으로 복제하는 지리적 중복성입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-418">Default redundancy level is geographic redundancy, which asynchronously replicates the content into another three images of the data into another Azure Region, which is hosted in the same geopolitical region.</span></span>

<span data-ttu-id="36d1a-419">여러 중복성 옵션에 대해서는 <https://azure.microsoft.com/pricing/details/storage/> 문서 위쪽에 있는 표도 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-419">Also see the table on top of this article regarding the different redundancy options: <https://azure.microsoft.com/pricing/details/storage/></span></span>

<span data-ttu-id="36d1a-420">Azure Storage에 관한 자세한 내용은 다음 항목에서 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-420">More information about Azure Storage can be found here:</span></span>

* <span data-ttu-id="36d1a-421"><https://azure.microsoft.com/documentation/services/storage/></span><span class="sxs-lookup"><span data-stu-id="36d1a-421"><https://azure.microsoft.com/documentation/services/storage/></span></span>
* <span data-ttu-id="36d1a-422"><https://azure.microsoft.com/services/site-recovery></span><span class="sxs-lookup"><span data-stu-id="36d1a-422"><https://azure.microsoft.com/services/site-recovery></span></span>
* <span data-ttu-id="36d1a-423"><https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs></span><span class="sxs-lookup"><span data-stu-id="36d1a-423"><https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs></span></span>
* <span data-ttu-id="36d1a-424"><https://blogs.msdn.com/b/azuresecurity/archive/2015/11/17/azure-disk-encryption-for-linux-and-windows-virtual-machines-public-preview.aspx></span><span class="sxs-lookup"><span data-stu-id="36d1a-424"><https://blogs.msdn.com/b/azuresecurity/archive/2015/11/17/azure-disk-encryption-for-linux-and-windows-virtual-machines-public-preview.aspx></span></span>

#### <a name="azure-standard-storage"></a><span data-ttu-id="36d1a-425">Azure 표준 저장소</span><span class="sxs-lookup"><span data-stu-id="36d1a-425">Azure Standard Storage</span></span>
<span data-ttu-id="36d1a-426">Azure Standard Storage는 Azure IaaS가 출시되었을 때 사용할 수 있던 저장소의 유형입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-426">Azure Standard storage was the type of storage available when Azure IaaS was released.</span></span> <span data-ttu-id="36d1a-427">이 저장소에서는 IOPS 할당량이 단일 디스크 단위로 적용되었습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-427">There were IOPS quotas enforced per single disk.</span></span> <span data-ttu-id="36d1a-428">대기 시간도 온-프레미스에 호스트된 고성능 SAP 시스템에 대해 일반적으로 배포되는 SAN/NAS 장치와 동일한 수준이 아니었습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-428">Latency experienced was not in the same class as SAN/NAS devices typically deployed for high-end SAP systems hosted on-premises.</span></span> <span data-ttu-id="36d1a-429">그럼에도 불구하고 Azure 표준 저장소는 Azure에 배포되는 수백 가지 SAP 시스템에 충분한 것으로 입증되었습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-429">Nevertheless, the Azure Standard Storage proved sufficient for many hundreds SAP systems meanwhile deployed in Azure.</span></span>

<span data-ttu-id="36d1a-430">Azure Standard Storage 계정에 저장되는 데이터는 저장된 실제 데이터, 저장소 트랜잭션 볼륨, 아웃바운드 데이터 전송 및 선택한 중복성 옵션에 따라 비용이 청구됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-430">Disks that are stored on Azure Standard Storage Accounts are charged based on the actual data that is stored, the volume of storage transactions, outbound data transfers, and redundancy option chosen.</span></span> <span data-ttu-id="36d1a-431">많은 디스크를 최대 1TB의 크기로 만들 수 있지만 비어 있는 경우에는 무료입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-431">Many disks can be created at the maximum 1TB in size, but as long as those remain empty there is no charge.</span></span> <span data-ttu-id="36d1a-432">VHD를 각각 100GB로 채우면 VHD가 만들어질 때의 보통 크기가 아니라 100GB를 저장하기 위한 비용이 청구됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-432">If you then fill one VHD with 100GB each, you are charged for storing 100GB and not for the nominal size the VHD got created with.</span></span>

#### <span data-ttu-id="36d1a-433"><a name="ff5ad0f9-f7f4-4022-9102-af07aef3bc92"></a>Azure 프리미엄 저장소</span><span class="sxs-lookup"><span data-stu-id="36d1a-433"><a name="ff5ad0f9-f7f4-4022-9102-af07aef3bc92"></a>Azure Premium Storage</span></span>
<span data-ttu-id="36d1a-434">2015년 4월 Microsoft는 Azure Premium Storage를 도입했습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-434">In April 2015, Microsoft introduced Azure Premium Storage.</span></span> <span data-ttu-id="36d1a-435">프리미엄 저장소는 다음을 제공하는 것을 목표로 도입되었습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-435">Premium Storage got introduced with the goal to provide:</span></span>

* <span data-ttu-id="36d1a-436">더 나은 I/O 대기 시간</span><span class="sxs-lookup"><span data-stu-id="36d1a-436">Better I/O latency.</span></span>
* <span data-ttu-id="36d1a-437">향상된 처리량</span><span class="sxs-lookup"><span data-stu-id="36d1a-437">Better throughput.</span></span>
* <span data-ttu-id="36d1a-438">변동이 작은 I/O 대기 시간</span><span class="sxs-lookup"><span data-stu-id="36d1a-438">Less variability in I/O latency.</span></span>

<span data-ttu-id="36d1a-439">이를 위해 여러 가지 사항이 변경되었으며, 그 중에서 가장 중요한 두 가지 변경 사항은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-439">For that purpose, many changes were introduced of which the two most significant are:</span></span>

* <span data-ttu-id="36d1a-440">Azure 저장소 노드에 SSD 디스크 사용</span><span class="sxs-lookup"><span data-stu-id="36d1a-440">Usage of SSD disks in the Azure Storage nodes</span></span>
* <span data-ttu-id="36d1a-441">Azure 계산 노드의 로컬 SSD에서 지원하는 새 캐시 읽기</span><span class="sxs-lookup"><span data-stu-id="36d1a-441">A new read cache that is backed by the local SSD of an Azure compute node</span></span>

<span data-ttu-id="36d1a-442">해당 기능이 디스크(또는 VHD)의 크기에 따라 달라지지 않는 Standard Storage와 달리, Premium Storage에는 <https://azure.microsoft.com/pricing/details/storage/unmanaged-disks/> 문서에 나와 있는 각기 다른 세 가지 디스크 범주가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-442">In opposite to Standard storage where capabilities did not change dependent on the size of the disk (or VHD), Premium Storage currently has three different disk categories, which are shown in this article: <https://azure.microsoft.com/pricing/details/storage/unmanaged-disks/></span></span>

<span data-ttu-id="36d1a-443">디스크별 IOPS 및 디스크 처리량은 디스크의 크기 범주에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-443">You see that IOPS/disk and disk throughput/disk are dependent on the size category of the disks</span></span>

<span data-ttu-id="36d1a-444">Premium Storage의 경우 이러한 디스크에 저장된 실제 데이터 볼륨이 아니라 디스크 내에 저장된 데이터 양과는 관계없는 이러한 디스크의 크기 범주에 따라 비용이 부과됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-444">Cost basis in the case of Premium Storage is not the actual data volume stored in such disks, but the size category of such a disk, independent of the amount of the data that is stored within the disk.</span></span>

<span data-ttu-id="36d1a-445">표시된 크기 범주에 직접 매핑되지 않는 디스크를 Premium Storage에 만들 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-445">You also can create disks on Premium Storage that are not directly mapping into the size categories shown.</span></span> <span data-ttu-id="36d1a-446">특히 Standard Storage의 디스크를 Premium Storage에 복사하는 경우가 여기에 해당됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-446">This may be the case, especially when copying disks from Standard Storage into Premium Storage.</span></span> <span data-ttu-id="36d1a-447">이러한 경우에는 다음으로 가장 큰 프리미엄 저장소 디스크 옵션으로 매핑됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-447">In such cases a mapping to the next largest Premium Storage disk option is performed.</span></span>

<span data-ttu-id="36d1a-448">특정 VM 시리즈만 Azure Premium Storage에서 이점을 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-448">Be aware that only certain VM series can benefit from the Azure Premium Storage.</span></span> <span data-ttu-id="36d1a-449">2015년 12월을 기준으로 DS 및 GS 시리즈가 여기에 해당합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-449">As of Dec 2015, these are the DS- and GS-series.</span></span> <span data-ttu-id="36d1a-450">기본적으로 DS 시리즈는 Azure Standard Storage에 호스트된 디스크에 추가적으로 Premium Storage 기반 VM을 탑재할 수 있다는 점을 제외하고 D 시리즈와 같습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-450">The DS-series is basically the same as D-series with the exception that DS-series has the ability to mount Premium Storage based VMs additionally to disks that are hosted on Azure Standard Storage.</span></span> <span data-ttu-id="36d1a-451">GS 시리즈와 G 시리즈를 비교할 때도 마찬가지입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-451">Same thing is valid for G-series compared to GS-series.</span></span>

<span data-ttu-id="36d1a-452">[이 문서(Linux)][virtual-machines-sizes-linux]와 [이 문서(Windows)][virtual-machines-sizes-windows]에서 DS 시리즈 VM 부분을 확인하면 VM 수준의 세분성에 따라 Premium Storage 디스크에 대한 데이터 볼륨 제한이 있음을 알 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-452">If you are checking out the part of the DS-series VMs in [this article (Linux)][virtual-machines-sizes-linux] and [this article (Windows)][virtual-machines-sizes-windows], you realize that there are data volume limitations to Premium Storage disks on the granularity of the VM level.</span></span> <span data-ttu-id="36d1a-453">다른 DS 시리즈 또는 GS 시리즈 VM에도 탑재할 수 있는 데이터 디스크 수와 관련해서 다른 제한 사항이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-453">Different DS-series or GS-series VMs also have different limitations in regards to the number of data disks that can be mounted.</span></span> <span data-ttu-id="36d1a-454">이러한 제한도 위에 언급된 문서에 설명되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-454">These limits are documented in the article mentioned above as well.</span></span> <span data-ttu-id="36d1a-455">하지만 기본적으로 P30 디스크 32개를 단일 DS14 VM에 탑재한다고 해도 P30 디스크 최대 처리량의 32배를 얻을 수는 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-455">But in essence it means that if you, for example, mount 32 x P30 disks to a single DS14 VM you can NOT get 32 x the maximum throughput of a P30 disk.</span></span> <span data-ttu-id="36d1a-456">대신 이 문서에 설명된 것처럼 VM 수준의 최대 처리량에 따라 데이터 처리량이 제한됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-456">Instead the maximum throughput on VM level as documented in the article limits data throughput.</span></span>

<span data-ttu-id="36d1a-457">프리미엄 Storage에 대한 자세한 내용은 <http://azure.microsoft.com/blog/2015/04/16/azure-premium-storage-now-generally-available-2>에서 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-457">More information on Premium Storage can be found here: <http://azure.microsoft.com/blog/2015/04/16/azure-premium-storage-now-generally-available-2></span></span>

#### <span data-ttu-id="36d1a-458"><a name="c55b2c6e-3ca1-4476-be16-16c81927550f"></a>관리 디스크</span><span class="sxs-lookup"><span data-stu-id="36d1a-458"><a name="c55b2c6e-3ca1-4476-be16-16c81927550f"></a>Managed Disks</span></span>
<span data-ttu-id="36d1a-459">Managed Disks는 Azure Storage 계정에 저장된 VHD 대신 사용할 수 있는 Azure Resource Manager의 새로운 리소스 종류입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-459">Managed Disks are a new resource type in Azure Resource Manager that can be used instead of VHDs that are stored in Azure Storage Accounts.</span></span> <span data-ttu-id="36d1a-460">관리 디스크는 연결되어 있는 가상 컴퓨터의 가용성 집합에 맞게 자동으로 조정되므로, 가상 컴퓨터에서 실행되는 서비스와 가상 컴퓨터의 가용성을 높여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-460">Managed Disks automatically align with the Availability Set of the virtual machine they are attached to and therefore increase the availability of your virtual machine and the services that are running on the virtual machine.</span></span> <span data-ttu-id="36d1a-461">자세한 내용은 [개요 문서](https://docs.microsoft.com/azure/storage/storage-managed-disks-overview)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-461">For more information, read the [overview article](https://docs.microsoft.com/azure/storage/storage-managed-disks-overview).</span></span>

<span data-ttu-id="36d1a-462">관리 디스크를 사용하면 가상 컴퓨터를 간편하고 배포 및 관리할 수 있으므로 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-462">We recommend to you use Managed disk, because they simplify the deployment and management of your virtual machines.</span></span>
<span data-ttu-id="36d1a-463">SAP는 현재 지원 프리미엄 관리 디스크만 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-463">SAP currently only supports Premium Managed Disks.</span></span> <span data-ttu-id="36d1a-464">자세한 내용은 SAP Note [1928533]을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-464">For more information, read SAP Note [1928533].</span></span>

#### <a name="azure-storage-accounts"></a><span data-ttu-id="36d1a-465">Azure 저장소 계정</span><span class="sxs-lookup"><span data-stu-id="36d1a-465">Azure Storage Accounts</span></span>
<span data-ttu-id="36d1a-466">Azure에서 서비스 또는 VM을 배포할 때 VHD 및 VM 이미지의 배포는 Azure Storage 계정이라는 단위로 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-466">When deploying services or VMs in Azure, deployment of VHDs and VM Images can be organized in units called Azure Storage Accounts.</span></span> <span data-ttu-id="36d1a-467">Azure 배포를 계획할 때는 Azure의 제한 사항을 신중히 고려해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-467">When planning an Azure deployment, you need to carefully consider the restrictions of Azure.</span></span> <span data-ttu-id="36d1a-468">한쪽 측면에서는 Azure 구독당 저장소 계정 수가 제한되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-468">On the one side, there is a limited number of Storage Accounts per Azure subscription.</span></span> <span data-ttu-id="36d1a-469">각 Azure 저장소 계정은 많은 수의 VHD 파일을 보유할 수 있지만 저장소 계정당 총 IOPS 수의 한도는 고정되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-469">Although each Azure Storage Account can hold a large number of VHD files, there is a fixed limit on the total IOPS per Storage Account.</span></span> <span data-ttu-id="36d1a-470">DBMS 시스템에 수백 개의 SAP VM을 배포하여 많은 I/O 호출을 발생하는 경우 여러 Azure 저장소 계정 간에 높은 IOPS DBMS VM을 배포하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-470">When deploying hundreds of SAP VMs with DBMS systems creating significant IO calls, it is recommended to distribute high IOPS DBMS VMs between multiple Azure Storage Accounts.</span></span> <span data-ttu-id="36d1a-471">구독당 적용되는 Azure 저장소 계정의 현재 제한을 초과하지 않도록 주의해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-471">Care must be taken not to exceed the current limit of Azure Storage Accounts per subscription.</span></span> <span data-ttu-id="36d1a-472">저장소는 SAP 시스템의 데이터베이스 배포에서 중요한 부분이므로 이 개념은 이미 언급한 [DBMS 배포 가이드][dbms-guide]에서 더 자세히 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-472">Because storage is a vital part of the database deployment for an SAP system, this concept is discussed in more detail in the already referenced [DBMS Deployment Guide][dbms-guide].</span></span>

<span data-ttu-id="36d1a-473">Azure Storage 계정에 대한 자세한 내용은 [이 문서][storage-scalability-targets]에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-473">More information about Azure Storage Accounts can be found in [this article][storage-scalability-targets].</span></span> <span data-ttu-id="36d1a-474">이 문서를 읽으면 Azure Standard Storage 계정과 Premium Storage 계정에서 제한 사항이 서로 다르다는 것을 알게 될 것입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-474">Reading this article, you realize that there are differences in the limitations between Azure Standard Storage Accounts and Premium Storage Accounts.</span></span> <span data-ttu-id="36d1a-475">주요 차이점은 이러한 저장소 계정 내에 저장할 수 있는 데이터의 볼륨입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-475">Major differences are the volume of data that can be stored within such a Storage Account.</span></span> <span data-ttu-id="36d1a-476">표준 저장소에서 이 볼륨은 프리미엄 저장소를 사용할 때보다 훨씬 더 큽니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-476">In Standard Storage the volume is a magnitude larger than with Premium Storage.</span></span> <span data-ttu-id="36d1a-477">그 밖에도 Standard Storage 계정은 IOPS에서 크게 제한되지만('총 요청 속도' 열 참조) Azure Premium Storage 계정에는 이러한 제한이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-477">On the other side, the Standard Storage Account is severely limited in IOPS (see column ‘Total Request Rate’), whereas the Azure Premium Storage Account has no such limitation.</span></span> <span data-ttu-id="36d1a-478">SAP 시스템, 특히 DBMS 서버의 배포를 설명할 때 이러한 차이점의 세부 정보 및 결과를 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-478">We will discuss details and results of these differences when discussing the deployments of SAP systems, especially the DBMS servers.</span></span>

<span data-ttu-id="36d1a-479">저장소 계정 내에서는 여러 다른 VHD를 구성하고 분류하기 위해 다른 컨테이너를 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-479">Within a Storage Account, you have the possibility to create different containers for the purpose of organizing and categorizing different VHDs.</span></span> <span data-ttu-id="36d1a-480">이러한 컨테이너는 일반적으로 다른 VM의 VHD를 분리하는 등의 용도로 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-480">These containers are usually used to, for example, separate VHDs of different VMs.</span></span> <span data-ttu-id="36d1a-481">단일 Azure 저장소 계정 아래에서 컨테이너를 하나만 사용하거나 여러 개를 사용할 경우 성능상의 문제는 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-481">There are no performance implications in using just one container or multiple containers underneath a single Azure Storage Account.</span></span>

<span data-ttu-id="36d1a-482">Azure 내에서 VHD 이름은 Azure 내에서 VHD에 대해 고유한 이름을 제공해야 하는 다음과 같은 명명 관계를 따릅니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-482">Within Azure a VHD name follows the following naming connection that needs to provide a unique name for the VHD within Azure:</span></span>

    http(s)://<storage account name>.blob.core.windows.net/<container name>/<vhd name>

<span data-ttu-id="36d1a-483">언급한 것처럼 위의 문자열은 Azure 저장소에 저장된 VHD를 고유하게 식별해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-483">As mentioned the string above needs to uniquely identify the VHD that is stored on Azure Storage.</span></span>

### <span data-ttu-id="36d1a-484"><a name="61678387-8868-435d-9f8c-450b2424f5bd"></a>Microsoft Azure 네트워킹</span><span class="sxs-lookup"><span data-stu-id="36d1a-484"><a name="61678387-8868-435d-9f8c-450b2424f5bd"></a>Microsoft Azure Networking</span></span>
<span data-ttu-id="36d1a-485">Microsoft Azure는 구현하려는 모든 시나리오의 SAP 소프트웨어 매핑을 가능하게 하는 네트워크 인프라를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-485">Microsoft Azure provides a network infrastructure, which allows the mapping of all scenarios, which we want to realize with SAP software.</span></span> <span data-ttu-id="36d1a-486">해당 기능은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-486">The capabilities are:</span></span>

* <span data-ttu-id="36d1a-487">외부에서 Windows 터미널 서비스 또는 ssh/VNC를 통해 VM에 직접 액세스</span><span class="sxs-lookup"><span data-stu-id="36d1a-487">Access from the outside, directly to the VMs via Windows Terminal Services or ssh/VNC</span></span>
* <span data-ttu-id="36d1a-488">VM 내의 응용 프로그램에서 사용되는 서비스 및 특정 포트에 액세스</span><span class="sxs-lookup"><span data-stu-id="36d1a-488">Access to services and specific ports used by applications within the VMs</span></span>
* <span data-ttu-id="36d1a-489">Azure VM으로 배포된 VM 그룹 간의 내부 통신 및 이름 확인</span><span class="sxs-lookup"><span data-stu-id="36d1a-489">Internal Communication and Name Resolution between a group of VMs deployed as Azure VMs</span></span>
* <span data-ttu-id="36d1a-490">고객의 온-프레미스 네트워크와 Azure 네트워크 간의 크로스-프레미스 연결</span><span class="sxs-lookup"><span data-stu-id="36d1a-490">Cross-premises Connectivity between a customer’s on-premises network and the Azure network</span></span>
* <span data-ttu-id="36d1a-491">Azure 지역 간 연결 또는 Azure 사이트 간 데이터 센터 연결</span><span class="sxs-lookup"><span data-stu-id="36d1a-491">Cross Azure Region or data center connectivity between Azure sites</span></span>

<span data-ttu-id="36d1a-492">자세한 내용은 <https://azure.microsoft.com/documentation/services/virtual-network/>에서 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-492">More information can be found here: <https://azure.microsoft.com/documentation/services/virtual-network/></span></span>

<span data-ttu-id="36d1a-493">Azure에서 다양한 방식으로 이름 및 IP 확인을 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-493">There are many different possibilities to configure name and IP resolution in Azure.</span></span> <span data-ttu-id="36d1a-494">이 문서에서 클라우드 전용 시나리오는 Azure DNS를 사용하는 기본 방식에 의존합니다(자체 DNS 서비스를 정의하는 방식 아님).</span><span class="sxs-lookup"><span data-stu-id="36d1a-494">In this document, Cloud-Only scenarios rely on the default of using Azure DNS (in contrast to defining an own DNS service).</span></span> <span data-ttu-id="36d1a-495">사용자 고유의 DNS 서버를 설정하는 대신 사용할 수 있는 새 Azure DNS 서비스도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-495">There is also a new Azure DNS service, which can be used instead of setting up your own DNS server.</span></span> <span data-ttu-id="36d1a-496">자세한 내용은 [이 문서][virtual-networks-manage-dns-in-vnet] 및 [이 페이지](https://azure.microsoft.com/services/dns/)에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-496">More information can be found in [this article][virtual-networks-manage-dns-in-vnet] and on [this page](https://azure.microsoft.com/services/dns/).</span></span>

<span data-ttu-id="36d1a-497">크로스-프레미스 시나리오의 경우 온-프레미스 AD/OpenLDAP/DNS를 VPN 또는 개인 연결을 통해 Azure로 확장했다는 사실에 의존합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-497">For cross-premises scenarios, we are relying on the fact that the on-premises AD/OpenLDAP/DNS has been extended via VPN or private connection to Azure.</span></span> <span data-ttu-id="36d1a-498">여기에 설명된 특정 시나리오에서는 Azure에 AD/OpenLDAP 복제본을 설치해야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-498">For certain scenarios as documented here, it might be necessary to have an AD/OpenLDAP replica installed in Azure.</span></span>

<span data-ttu-id="36d1a-499">네트워킹과 이름 확인은 SAP 시스템의 데이터베이스 배포에서 중요한 부분이므로 이 개념은 [DBMS 배포 가이드 ][dbms-guide]에서 더 자세히 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-499">Because networking and name resolution is a vital part of the database deployment for an SAP system, this concept is discussed in more detail in the [DBMS Deployment Guide][dbms-guide].</span></span>

##### <a name="azure-virtual-networks"></a><span data-ttu-id="36d1a-500">Azure 가상 네트워크</span><span class="sxs-lookup"><span data-stu-id="36d1a-500">Azure Virtual Networks</span></span>
<span data-ttu-id="36d1a-501">Azure Virtual Network를 구축하여 Azure DHCP 기능에 의해 할당된 개인 IP 주소의 주소 범위를 정의할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-501">By building up an Azure Virtual Network, you can define the address range of the private IP addresses allocated by Azure DHCP functionality.</span></span> <span data-ttu-id="36d1a-502">크로스-프레미스 시나리오에서 정의된 IP 주소 범위는 여전히 DHCP를 사용하여 Azure에서 할당됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-502">In cross-premises scenarios, the IP address range defined is still allocated using DHCP by Azure.</span></span> <span data-ttu-id="36d1a-503">그러나 도메인 이름 확인은 온-프레미스에서 수행되므로(VM을 온-프레미스 도메인의 일부로 가정) 다른 Azure Cloud Services 이외의 주소를 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-503">However, Domain Name resolution is done on-premises (assuming that the VMs are a part of an on-premises domain) and hence can resolve addresses beyond different Azure Cloud Services.</span></span>

<span data-ttu-id="36d1a-504">Azure의 모든 가상 컴퓨터를 가상 네트워크에 연결해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-504">Every Virtual Machine in Azure needs to be connected to a Virtual Network.</span></span>

<span data-ttu-id="36d1a-505">자세한 내용은 [이 문서][resource-groups-networking] 및 [이 페이지](https://azure.microsoft.com/documentation/services/virtual-network/)에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-505">More details can be found in [this article][resource-groups-networking] and on [this page](https://azure.microsoft.com/documentation/services/virtual-network/).</span></span>

[comment]: <> (MShermannd TODO - OpenLDAP 항목 + ARM이 포함된 문서를 찾을 수 없습니다.)
[comment]: <> (MSSedusch - <https://channel9.msdn.com/Blogs/Open/Load-balancing-highly-available-Linux-services-on-Windows-Azure-OpenLDAP-and-MySQL>)

> [!NOTE]
> <span data-ttu-id="36d1a-508">기본적으로 VM이 배포되면 가상 네트워크 구성을 변경할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-508">By default, once a VM is deployed you cannot change the Virtual Network configuration.</span></span> <span data-ttu-id="36d1a-509">TCP/IP 설정은 Azure DHCP 서버에 유지되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-509">The TCP/IP settings must be left to the Azure DHCP server.</span></span> <span data-ttu-id="36d1a-510">기본 동작은 동적 IP 할당입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-510">Default behavior is Dynamic IP assignment.</span></span>
>
>

<span data-ttu-id="36d1a-511">가상 네트워크 카드의 MAC 주소는 변경될 수 있으며(예: 크기 조정) 이 경우 Windows 또는 Linux 게스트 OS는 새 네트워크 카드를 선택한 후 자동으로 DHCP를 사용하여 IP 및 DNS 주소를 할당합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-511">The MAC address of the virtual network card may change, for example after resize and the Windows or Linux guest OS picks up the new network card and automatically uses DHCP to assign the IP and DNS addresses in this case.</span></span>

##### <a name="static-ip-assignment"></a><span data-ttu-id="36d1a-512">고정 IP 할당</span><span class="sxs-lookup"><span data-stu-id="36d1a-512">Static IP Assignment</span></span>
<span data-ttu-id="36d1a-513">Azure 가상 네트워크 내의 VM에 고정 또는 예약된 IP 주소를 할당할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-513">It is possible to assign fixed or reserved IP addresses to VMs within an Azure Virtual Network.</span></span> <span data-ttu-id="36d1a-514">Azure 가상 네트워크의 VM을 실행하면 일부 시나리오에 필요한 경우 이 기능이 사용될 확률이 높아집니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-514">Running the VMs in an Azure Virtual Network opens a great possibility to leverage this functionality if needed or required for some scenarios.</span></span> <span data-ttu-id="36d1a-515">IP 할당은 VM이 실행 중인지 또는 종료되었는지에 관계없이 VM이 존재하는 동안 계속 유효합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-515">The IP assignment remains valid throughout the existence of the VM, independent of whether the VM is running or shutdown.</span></span> <span data-ttu-id="36d1a-516">결과적으로 가상 네트워크의 IP 주소 범위를 정의할 때 VM의 전체 수(실행 중인 VM 및 중지된 VM)를 고려해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-516">As a result, you need to take the overall number of VMs (running and stopped VMS) into account when defining the range of IP addresses for the Virtual Network.</span></span> <span data-ttu-id="36d1a-517">IP 주소는 VM 및 해당 네트워크 인터페이스가 삭제되거나 IP 주소가 다시 할당 취소될 때까지 할당된 상태로 유지됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-517">The IP address remains assigned either until the VM and its Network Interface is deleted or until the IP address gets de-assigned again.</span></span> <span data-ttu-id="36d1a-518">자세한 내용은 [이 문서][virtual-networks-static-private-ip-arm-pportal]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-518">For more information, read [this article][virtual-networks-static-private-ip-arm-pportal].</span></span>

##### <a name="multiple-nics-per-vm"></a><span data-ttu-id="36d1a-519">VM당 여러 NIC</span><span class="sxs-lookup"><span data-stu-id="36d1a-519">Multiple NICs per VM</span></span>
<span data-ttu-id="36d1a-520">Azure 가상 컴퓨터에 대해 여러 개의 vNIC(가상 네트워크 인터페이스 카드)를 정의할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-520">You can define multiple virtual network interface cards (vNIC) for an Azure Virtual Machine.</span></span> <span data-ttu-id="36d1a-521">여러 vNIC를 정의할 수 있으면 클라이언트 트래픽이 한 vNIC를 통해 라우팅되고 백 엔드 트래픽이 또 다른 vNIC를 통해 라우팅되는 네트워크 트래픽 분리를 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-521">With the ability to have multiple vNICs you can start to set up network traffic separation where, for example, client traffic is routed through one vNIC and backend traffic is routed through a second vNIC.</span></span> <span data-ttu-id="36d1a-522">VM의 유형에 따라, vNIC의 수와 관련해서 다른 제한이 적용될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-522">Dependent on the type of VM there are different limitations in regards to the number of vNICs.</span></span> <span data-ttu-id="36d1a-523">정확한 세부 정보, 기능 및 제한 사항은 다음 문서에서 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-523">Exact details, functionality, and restrictions can be found in these articles:</span></span>

* <span data-ttu-id="36d1a-524">[여러 NIC가 있는 Windows VM 만들기][virtual-networks-multiple-nics-windows]</span><span class="sxs-lookup"><span data-stu-id="36d1a-524">[Create a Windows VM with multiple NICs][virtual-networks-multiple-nics-windows]</span></span>
* <span data-ttu-id="36d1a-525">[여러 NIC가 있는 Linux VM 만들기][virtual-networks-multiple-nics-linux]</span><span class="sxs-lookup"><span data-stu-id="36d1a-525">[Create a Linux VM with multiple NICs][virtual-networks-multiple-nics-linux]</span></span>
* <span data-ttu-id="36d1a-526">[템플릿을 사용하여 다중 NIC VM 배포][virtual-network-deploy-multinic-arm-template]</span><span class="sxs-lookup"><span data-stu-id="36d1a-526">[Deploy multi NIC VMs using a template][virtual-network-deploy-multinic-arm-template]</span></span>
* <span data-ttu-id="36d1a-527">[PowerShell을 사용하여 다중 NIC VM 배포][virtual-network-deploy-multinic-arm-ps]</span><span class="sxs-lookup"><span data-stu-id="36d1a-527">[Deploy multi NIC VMs using PowerShell][virtual-network-deploy-multinic-arm-ps]</span></span>
* <span data-ttu-id="36d1a-528">[Azure CLI를 사용하여 다중 NIC VM 배포][virtual-network-deploy-multinic-arm-cli]</span><span class="sxs-lookup"><span data-stu-id="36d1a-528">[Deploy multi NIC VMs using the Azure CLI][virtual-network-deploy-multinic-arm-cli]</span></span>

#### <a name="site-to-site-connectivity"></a><span data-ttu-id="36d1a-529">사이트 간 연결</span><span class="sxs-lookup"><span data-stu-id="36d1a-529">Site-to-Site Connectivity</span></span>
<span data-ttu-id="36d1a-530">크로스-프레미스에서는 투명한 영구 VPN 연결을 사용하여 Azure VM과 온-프레미스가 연결되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-530">Cross-premises is Azure VMs and On-Premises linked with a transparent and permanent VPN connection.</span></span> <span data-ttu-id="36d1a-531">이것이 Azure에서 가장 일반적인 SAP 배포 패턴이 될 것입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-531">It is expected to become the most common SAP deployment pattern in Azure.</span></span> <span data-ttu-id="36d1a-532">그렇지만 Azure의 SAP 인스턴스에 대한 운영 절차 및 프로세스가 투명하게 진행되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-532">The assumption is that operational procedures and processes with SAP instances in Azure should work transparently.</span></span> <span data-ttu-id="36d1a-533">즉, 이러한 시스템에서 결과를 출력하고 SAP TMS(전송 관리 시스템)를 사용하여 Azure의 개발 시스템 변경 내용을 온-프레미스에 배포되는 테스트 시스템으로 전송할 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-533">This means you should be able to print out of these systems as well as use the SAP Transport Management System (TMS) to transport changes from a development system in Azure to a test system, which is deployed on-premises.</span></span> <span data-ttu-id="36d1a-534">사이트 간 연결에 대한 추가 설명서는 [이 문서][vpn-gateway-create-site-to-site-rm-powershell]에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-534">More documentation around site-to-site can be found in [this article][vpn-gateway-create-site-to-site-rm-powershell]</span></span>

##### <a name="vpn-tunnel-device"></a><span data-ttu-id="36d1a-535">VPN 터널 장치</span><span class="sxs-lookup"><span data-stu-id="36d1a-535">VPN Tunnel Device</span></span>
<span data-ttu-id="36d1a-536">사이트 간 연결(온-프레미스 데이터에서 Azure 데이터 센터로의 연결)을 만들려면 VPN 장치를 얻은 후 구성하거나 Windows Server 2012에 소프트웨어 구성 요소로 도입된 RRAS(라우팅 및 원격 액세스 서비스)를 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-536">In order to create a site-to-site connection (on-premises data center to Azure data center), you need to either obtain and configure a VPN device, or use Routing and Remote Access Service (RRAS) which was introduced as a software component with Windows Server 2012.</span></span>

* <span data-ttu-id="36d1a-537">[PowerShell을 사용하여 사이트 간 VPN 연결로 가상 네트워크 만들기][vpn-gateway-create-site-to-site-rm-powershell]</span><span class="sxs-lookup"><span data-stu-id="36d1a-537">[Create a virtual network with a site-to-site VPN connection using PowerShell][vpn-gateway-create-site-to-site-rm-powershell]</span></span>
* <span data-ttu-id="36d1a-538">[사이트 간 VPN Gateway 연결을 위한 VPN 장치 정보][vpn-gateway-about-vpn-devices]</span><span class="sxs-lookup"><span data-stu-id="36d1a-538">[About VPN devices for Site-to-Site VPN Gateway connections][vpn-gateway-about-vpn-devices]</span></span>
* <span data-ttu-id="36d1a-539">[VPN Gateway FAQ][vpn-gateway-vpn-faq]</span><span class="sxs-lookup"><span data-stu-id="36d1a-539">[VPN Gateway FAQ][vpn-gateway-vpn-faq]</span></span>

![온-프레미스와 Azure 간의 사이트 간 연결][planning-guide-figure-600]

<span data-ttu-id="36d1a-541">위의 그림에서는 Azure의 가상 네트워크에서 사용하도록 예약된 IP 주소 하위 범위가 두 개의 Azure 구독에 있는 경우를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-541">The Figure above shows two Azure subscriptions have IP address subranges reserved for usage in Virtual Networks in Azure.</span></span> <span data-ttu-id="36d1a-542">온-프레미스 네트워크에서 Azure로의 연결은 VPN을 통해 설정됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-542">The connectivity from the on-premises network to Azure is established via VPN.</span></span>

#### <a name="point-to-site-vpn"></a><span data-ttu-id="36d1a-543">지점 및 사이트 간 VPN</span><span class="sxs-lookup"><span data-stu-id="36d1a-543">Point-to-Site VPN</span></span>
<span data-ttu-id="36d1a-544">지점 및 사이트 간 VPN에서는 모든 클라이언트 컴퓨터가 자체 VPN을 통해 Azure에 연결되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-544">Point-to-site VPN requires every client machine to connect with its own VPN into Azure.</span></span> <span data-ttu-id="36d1a-545">우리가 보고 있는 SAP 시나리오의 경우 지점 및 사이트 간 연결이 가능하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-545">For the SAP scenarios we are looking at, point-to-site connectivity is not practical.</span></span> <span data-ttu-id="36d1a-546">따라서 지점 및 사이트 간 VPN 연결에 대한 추가 참조는 제공되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-546">Therefore, no further references are given to point-to-site VPN connectivity.</span></span>

<span data-ttu-id="36d1a-547">자세한 내용은 다음 항목에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-547">More information can be found here</span></span>
* [<span data-ttu-id="36d1a-548">Azure Portal을 사용하여 VNet에 지점 및 사이트 간 연결 구성</span><span class="sxs-lookup"><span data-stu-id="36d1a-548">Configure a Point-to-Site connection to a VNet using the Azure portal</span></span>](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-howto-point-to-site-resource-manager-portal)
* [<span data-ttu-id="36d1a-549">PowerShell을 사용하여 VNet에 지점 및 사이트 간 연결 구성</span><span class="sxs-lookup"><span data-stu-id="36d1a-549">Configure a Point-to-Site connection to a VNet using PowerShell</span></span>](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-howto-point-to-site-rm-ps)

#### <a name="multi-site-vpn"></a><span data-ttu-id="36d1a-550">다중 사이트 VPN</span><span class="sxs-lookup"><span data-stu-id="36d1a-550">Multi-Site VPN</span></span>
<span data-ttu-id="36d1a-551">현재 Azure는 단일 Azure 구독에 대해 다중 사이트 VPN 연결을 만들 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-551">Azure also nowadays offers the possibility to create Multi-Site VPN connectivity for one Azure subscription.</span></span> <span data-ttu-id="36d1a-552">이전에는 구독이 1개 있으면 사이트 간 VPN 연결 1개로 제한되었습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-552">Previously a single subscription was limited to one site-to-site VPN connection.</span></span> <span data-ttu-id="36d1a-553">이 제한은 단일 구독에 대한 다중 사이트 VPN 연결을 통해 해결되었습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-553">This limitation went away with Multi-Site VPN connections for a single subscription.</span></span> <span data-ttu-id="36d1a-554">따라서 크로스-프레미스 구성을 통해 특정 구독에 대해 둘 이상의 Azure 지역을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-554">This makes it possible to leverage more than one Azure Region for a specific subscription through cross-premises configurations.</span></span>

<span data-ttu-id="36d1a-555">추가 설명서는 [이 문서][vpn-gateway-create-site-to-site-rm-powershell]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-555">For more documentation, please see [this article][vpn-gateway-create-site-to-site-rm-powershell]</span></span>

[comment]: <> (MShermannd TODO - ARM 문서 링크가 없습니다.)

#### <a name="vnet-to-vnet-connection"></a><span data-ttu-id="36d1a-557">VNet 간 연결</span><span class="sxs-lookup"><span data-stu-id="36d1a-557">VNet to VNet Connection</span></span>
<span data-ttu-id="36d1a-558">다중 사이트 VPN을 사용할 경우 각 지역에 별도의 Azure 가상 네트워크를 구성해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-558">Using Multi-Site VPN, you need to configure a separate Azure Virtual Network in each of the regions.</span></span> <span data-ttu-id="36d1a-559">그러나 다른 지역의 소프트웨어 구성 요소가 서로 통신해야 하는 경우가 상당히 많습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-559">However very often you have the requirement that the software components in the different regions should communicate with each other.</span></span> <span data-ttu-id="36d1a-560">이상적으로 이러한 통신은 한 Azure 지역에서 온-프레미스로 라우팅되었다가 다시 여기서 다른 Azure 지역으로 라우팅되면 안 됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-560">Ideally this communication should not be routed from one Azure Region to on-premises and from there to the other Azure Region.</span></span> <span data-ttu-id="36d1a-561">간단히 말해서 Azure는 한 지역의 Azure 가상 네트워크에서 다른 지역의 다른 Azure 가상 네트워크로의 연결을 구성할 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-561">To shortcut, Azure offers the possibility to configure a connection from one Azure Virtual Network in one region to another Azure Virtual Network hosted in another region.</span></span> <span data-ttu-id="36d1a-562">이 기능을 VNet 간 연결이라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-562">This functionality is called VNet-to-VNet connection.</span></span> <span data-ttu-id="36d1a-563">이 기능에 대한 자세한 내용은 <https://azure.microsoft.com/documentation/articles/vpn-gateway-vnet-vnet-rm-ps/>에서 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-563">More details on this functionality can be found here: <https://azure.microsoft.com/documentation/articles/vpn-gateway-vnet-vnet-rm-ps/>.</span></span>

#### <a name="private-connection-to-azure--expressroute"></a><span data-ttu-id="36d1a-564">Azure에 대한 개인 연결 - Express 경로</span><span class="sxs-lookup"><span data-stu-id="36d1a-564">Private Connection to Azure – ExpressRoute</span></span>
<span data-ttu-id="36d1a-565">Microsoft Azure Express 경로를 사용하여 Azure 데이터 센터와 고객의 온-프레미스 인프라 또는 공동 배치 환경 간에 개인 연결을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-565">Microsoft Azure ExpressRoute allows the creation of private connections between Azure data centers and either the customer's on-premises infrastructure or in a co-location environment.</span></span> <span data-ttu-id="36d1a-566">다양한 MPLS(패킷 전환) VPN 공급자 또는 기타 네트워크 서비스 공급자에서 Express 경로를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-566">ExpressRoute is offered by various MPLS (packet switched) VPN providers or other Network Service Providers.</span></span> <span data-ttu-id="36d1a-567">Express 경로 연결은 공용 인터넷을 통해 이동하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-567">ExpressRoute connections do not go over the public Internet.</span></span> <span data-ttu-id="36d1a-568">ExpressRoute 연결은 인터넷을 통한 일반 연결보다 더 높은 보안을 제공하고 여러 병렬 회로를 통해 안정성을 높이며 더 빠른 속도와 짧은 대기 시간을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-568">ExpressRoute connections offer higher security, more reliability through multiple parallel circuits, faster speeds, and lower latencies than typical connections over the Internet.</span></span>

<span data-ttu-id="36d1a-569">Azure Express 경로 및 제공 서비스에 대한 자세한 내용은 여기에서 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-569">Find more details on Azure ExpressRoute and offerings here:</span></span>

* <span data-ttu-id="36d1a-570"><https://azure.microsoft.com/documentation/services/expressroute/></span><span class="sxs-lookup"><span data-stu-id="36d1a-570"><https://azure.microsoft.com/documentation/services/expressroute/></span></span>
* <span data-ttu-id="36d1a-571"><https://azure.microsoft.com/pricing/details/expressroute/></span><span class="sxs-lookup"><span data-stu-id="36d1a-571"><https://azure.microsoft.com/pricing/details/expressroute/></span></span>
* <span data-ttu-id="36d1a-572"><https://azure.microsoft.com/documentation/articles/expressroute-faqs/></span><span class="sxs-lookup"><span data-stu-id="36d1a-572"><https://azure.microsoft.com/documentation/articles/expressroute-faqs/></span></span>

<span data-ttu-id="36d1a-573">Express 경로는 여기에 설명된 것처럼 단일 Express 경로 회로를 통해 여러 Azure 구독을 가능하게 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-573">Express Route enables multiple Azure subscriptions through one ExpressRoute circuit as documented here</span></span>

* <span data-ttu-id="36d1a-574"><https://azure.microsoft.com/documentation/articles/expressroute-howto-linkvnet-arm/></span><span class="sxs-lookup"><span data-stu-id="36d1a-574"><https://azure.microsoft.com/documentation/articles/expressroute-howto-linkvnet-arm/></span></span>
* <span data-ttu-id="36d1a-575"><https://azure.microsoft.com/documentation/articles/expressroute-howto-circuit-arm/></span><span class="sxs-lookup"><span data-stu-id="36d1a-575"><https://azure.microsoft.com/documentation/articles/expressroute-howto-circuit-arm/></span></span>

#### <a name="forced-tunneling-in-case-of-cross-premises"></a><span data-ttu-id="36d1a-576">크로스 프레미스 강제 터널링</span><span class="sxs-lookup"><span data-stu-id="36d1a-576">Forced tunneling in case of cross-premises</span></span>
<span data-ttu-id="36d1a-577">사이트 간, 지점 및 사이트 간 또는 Express 경로를 통해 온-프레미스 도메인에 가입된 VM의 경우 모든 사용자를 위해 인터넷 프록시 설정이 배포되는지 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-577">For VMs joining on-premises domains through site-to-site, point-to-site or ExpressRoute, you need to make sure that the Internet proxy settings are getting deployed for all the users in those VMs as well.</span></span> <span data-ttu-id="36d1a-578">기본적으로 해당 VM에서 실행되는 소프트웨어나 브라우저를 사용하여 인터넷에 액세스하는 사용자는 회사 프록시를 거치지 않으며 Azure를 통해 인터넷에 바로 연결됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-578">By default, software running in those VMs or users using a browser to access the internet would not go through the company proxy, but would connect straight through Azure to the internet.</span></span> <span data-ttu-id="36d1a-579">하지만 프록시를 확인하는 것은 소프트웨어 및 서비스의 책임이므로 프록시 설정만으로 트래픽이 회사 프록시를 통과해서 전송되도록 할 수 있는 것은 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-579">But even the proxy setting is not a 100% solution to direct the traffic through the company proxy since it is responsibility of software and services to check for the proxy.</span></span> <span data-ttu-id="36d1a-580">VM에서 실행되는 소프트웨어가 이러한 작업을 수행하지 않으며 관리자가 설정을 조작하므로 인터넷에 대한 트래픽은 다시 Azure에서 인터넷으로 직접 우회될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-580">If software running in the VM is not doing that or an administrator manipulates the settings, traffic to the Internet can be detoured again directly through Azure to the Internet.</span></span>

<span data-ttu-id="36d1a-581">이 문제를 방지하기 위해 온-프레미스와 Azure 사이에 사이트 간 연결이 사용되는 강제 터널링을 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-581">In order to avoid this, you can configure Forced Tunneling with site-to-site connectivity between on-premises and Azure.</span></span> <span data-ttu-id="36d1a-582">강제 터널링 기능에 대한 자세한 설명은 <https://azure.microsoft.com/documentation/articles/vpn-gateway-forced-tunneling-rm/>에 게시되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-582">The detailed description of the Forced Tunneling feature is published here <https://azure.microsoft.com/documentation/articles/vpn-gateway-forced-tunneling-rm/></span></span>

<span data-ttu-id="36d1a-583">Express 경로를 사용한 강제 터널링은 Express 경로 BGP 피어링 세션을 통해 기본 경로를 보급한 고객으로 활성화됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-583">Forced Tunneling with ExpressRoute is enabled by customers advertising a default route via the ExpressRoute BGP peering sessions.</span></span>

#### <a name="summary-of-azure-networking"></a><span data-ttu-id="36d1a-584">Azure 네트워킹 요약</span><span class="sxs-lookup"><span data-stu-id="36d1a-584">Summary of Azure Networking</span></span>
<span data-ttu-id="36d1a-585">이 장에서는 Azure 네트워킹에 대한 여러 가지 중요 사항이 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-585">This chapter contained many important points about Azure Networking.</span></span> <span data-ttu-id="36d1a-586">중요 사항은 다음과 같이 요약할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-586">Here is a summary of the main points:</span></span>

* <span data-ttu-id="36d1a-587">Azure 가상 네트워크는 사용자의 요구에 따라 네트워크를 설정하도록 허용</span><span class="sxs-lookup"><span data-stu-id="36d1a-587">Azure Virtual Networks allows to set up the network according to your own needs</span></span>
* <span data-ttu-id="36d1a-588">Azure 가상 네트워크를 활용하여 VM에 IP 주소 범위를 할당하거나 VM에 고정 IP 주소 할당 가능</span><span class="sxs-lookup"><span data-stu-id="36d1a-588">Azure Virtual Networks can be leveraged to assign IP address ranges to VMs or assign fixed IP addresses to VMs</span></span>
* <span data-ttu-id="36d1a-589">사이트 간 또는 지점 및 사이트 간 연결을 설정하려면 먼저 Azure 가상 네트워크를 만들어야 함</span><span class="sxs-lookup"><span data-stu-id="36d1a-589">To set up a Site-To-Site or Point-To-Site connection you need to create an Azure Virtual Network first</span></span>
* <span data-ttu-id="36d1a-590">가상 컴퓨터를 배포한 후에는 VM에 할당된 가상 네트워크를 더 이상 변경할 수 없음</span><span class="sxs-lookup"><span data-stu-id="36d1a-590">Once a virtual machine has been deployed, it is no longer possible to change the Virtual Network assigned to the VM</span></span>

### <a name="quotas-in-azure-virtual-machine-services"></a><span data-ttu-id="36d1a-591">Azure 가상 컴퓨터 서비스의 할당량</span><span class="sxs-lookup"><span data-stu-id="36d1a-591">Quotas in Azure Virtual Machine Services</span></span>
<span data-ttu-id="36d1a-592">저장소 및 네트워크 인프라가 Azure 인프라에서 다양한 서비스를 실행하는 VM 간에 공유된다는 사실을 명확히할 필요가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-592">We need to be clear about the fact that the storage and network infrastructure is shared between VMs running a variety of services in the Azure infrastructure.</span></span> <span data-ttu-id="36d1a-593">또한 고객 소유의 데이터 센터와 마찬가지로 일부 인프라 리소스가 과도하게 프로비전되는 경우도 발생하고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-593">And just as in the customer’s own data centers, over-provisioning of some of the infrastructure resources does take place to a degree.</span></span> <span data-ttu-id="36d1a-594">Microsoft Azure Platform은 디스크, CPU, 네트워크 및 기타 할당량을 사용하여 리소스 소비를 제한하며 일관되고 명확한 성능을 유지합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-594">The Microsoft Azure Platform uses disk, CPU, network, and other quotas to limit the resource consumption and to preserve consistent and deterministic performance.</span></span>  <span data-ttu-id="36d1a-595">VM 유형(A5, A6, 등)마다 디스크 수, CPU, RAM, 네트워크에 대해 각기 다른 할당량을 갖습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-595">The different VM types (A5, A6, etc.) have different quotas for the number of disks, CPU, RAM, and Network.</span></span>

> [!NOTE]
> <span data-ttu-id="36d1a-596">SAP에서 지원하는 VM 유형의 CPU 및 메모리 리소스는 호스트 노드에서 미리 할당됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-596">CPU and memory resources of the VM types supported by SAP are pre-allocated on the host nodes.</span></span> <span data-ttu-id="36d1a-597">즉, VM을 배포한 후 VM 유형에 따라 정의된 대로 호스트의 리소스를 사용할 수 있게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-597">This means that once the VM is deployed, the resources on the host are available as defined by the VM type.</span></span>
>
>

<span data-ttu-id="36d1a-598">Azure 솔루션에 대해 SAP를 계획하고 크기를 조정할 때는 각 가상 컴퓨터 크기에 대한 할당량을 고려해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-598">When planning and sizing SAP on Azure solutions the quotas for each virtual machine size must be considered.</span></span> <span data-ttu-id="36d1a-599">VM 할당량에 대한 설명은 [여기(Linux)][virtual-machines-sizes-linux]와 [여기(Windows)][virtual-machines-sizes-windows]에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-599">The VM quotas are described [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="36d1a-600">설명된 할당량은 이론적인 최대값을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-600">The quotas described represent the theoretical maximum values.</span></span>  <span data-ttu-id="36d1a-601">디스크당 IOPS 제한은 작은 IO(8kb)로는 충족되지만 큰 IO(1Mb)로는 충족되지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-601">The limit of IOPS per disk may be achieved with small IOs (8kb) but possibly may not be achieved with large IOs (1Mb).</span></span>  <span data-ttu-id="36d1a-602">IOPS 제한은 단일 디스크의 세분성에 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-602">The IOPS limit is enforced on the granularity of single disk.</span></span>

<span data-ttu-id="36d1a-603">SAP 시스템이 Azure 가상 컴퓨터 서비스 및 해당 기능에 적합한지 여부 또는 기존 시스템을 Azure에 배포하기 위해 다르게 구성해야 하는지 여부를 결정하기 위한 대략적인 의사 결정 트리로서, 아래의 의사 결정 트리를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-603">As a rough decision tree to decide whether an SAP system fits into Azure Virtual Machine Services and its capabilities or whether an existing system needs to be configured differently in order to deploy the system on Azure, the decision tree below can be used:</span></span>

![Azure에서 SAP를 배포하는 기능을 결정하는 의사 결정 트리][planning-guide-figure-700]

<span data-ttu-id="36d1a-605">**1단계**: 시작하기 위한 가장 중요한 정보는 지정된 SAP 시스템의 SAPS 요구 사항입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-605">**Step 1**: The most important information to start with is the SAPS requirement for a given SAP system.</span></span> <span data-ttu-id="36d1a-606">SAP 시스템이 이미 2계층 구성으로 온-프레미스에 배포되더라도 SAPS 요구 사항을 DBMS 부분과 SAP 응용 프로그램 부분으로 구분해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-606">The SAPS requirements need to be separated out into the DBMS part and the SAP application part, even if the SAP system is already deployed on-premises in a 2-tier configuration.</span></span> <span data-ttu-id="36d1a-607">기존 시스템의 경우 사용 중인 하드웨어 관련된 SAPS를 기존 SAP 벤치마크를 기준으로 결정하거나 예측할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-607">For existing systems, the SAPS related to the hardware in use often can be determined or estimated based on existing SAP benchmarks.</span></span> <span data-ttu-id="36d1a-608"><http://global.sap.com/campaigns/benchmark/index.epx>결과를 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-608">The results can be found here: <http://global.sap.com/campaigns/benchmark/index.epx>.</span></span>
<span data-ttu-id="36d1a-609">새로 배포된 SAP 시스템의 경우 시스템의 SAPS 요구 사항을 결정해야 하는 크기 조정 연습 과정을 거쳐야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-609">For newly deployed SAP systems, you should have gone through a sizing exercise, which should determine the SAPS requirements of the system.</span></span>
<span data-ttu-id="36d1a-610">Azure의 SAP 크기 조정에 대해서는 블로그 <http://blogs.msdn.com/b/saponsqlserver/archive/2015/12/01/new-white-paper-on-sizing-sap-solutions-on-azure-public-cloud.aspx> 및 첨부된 문서를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-610">See also this blog and attached document for SAP sizing on Azure: <http://blogs.msdn.com/b/saponsqlserver/archive/2015/12/01/new-white-paper-on-sizing-sap-solutions-on-azure-public-cloud.aspx></span></span>

<span data-ttu-id="36d1a-611">**2단계**: 기존 시스템의 경우 DBMS 서버의 I/O 볼륨 및 초당 I/O 작업 수를 측정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-611">**Step 2**: For existing systems, the I/O volume and I/O operations per second on the DBMS server should be measured.</span></span> <span data-ttu-id="36d1a-612">새로 예정된 시스템의 경우는 새 시스템에 대한 크기 조정 연습 과정을 진행하면서 DBMS에 대한 I/O 요구 사항을 대략적으로 알 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-612">For newly planned systems, the sizing exercise for the new system also should give rough ideas of the I/O requirements on the DBMS side.</span></span> <span data-ttu-id="36d1a-613">확실하지 않은 경우 결국 개념 증명을 수행해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-613">If unsure, you eventually need to conduct a Proof of Concept.</span></span>

<span data-ttu-id="36d1a-614">**3단계**: DBMS 서버의 SAPS 요구 사항과 여러 다른 VM 형식의 Azure가 제공할 수 있는 SAPS를 비교합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-614">**Step 3**: Compare the SAPS requirement for the DBMS server with the SAPS the different VM types of Azure can provide.</span></span> <span data-ttu-id="36d1a-615">다른 Azure VM 형식의 SAPS 관련 정보는 SAP 정보 [1928533]에 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-615">The information on SAPS of the different Azure VM types is documented in SAP Note [1928533].</span></span> <span data-ttu-id="36d1a-616">데이터베이스 계층이 대부분의 배포에서는 확장되지 않는 SAP NetWeaver 시스템의 계층이므로 먼저 DBMS VM을 중점적으로 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-616">The focus should be on the DBMS VM first since the database layer is the layer in an SAP NetWeaver system that does not scale out in the majority of deployments.</span></span> <span data-ttu-id="36d1a-617">반면 SAP 응용 프로그램 계층은 확장될 수 있습니다. SAP 지원 Azure VM 유형 중 어떤 유형도 필요한 SAPS를 제공할 수 없는 경우 계획된 SAP 시스템의 작업을 Azure에서 실행할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-617">In contrast, the SAP application layer can be scaled out. If none of the SAP supported Azure VM types can deliver the required SAPS, the workload of the planned SAP system can’t be run on Azure.</span></span> <span data-ttu-id="36d1a-618">따라서 온-프레미스에 시스템을 배포해야 하거나 시스템에 대한 작업 볼륨을 변경해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-618">You either need to deploy the system on-premises or you need to change the workload volume for the system.</span></span>

<span data-ttu-id="36d1a-619">**4단계**: [여기(Linux)][virtual-machines-sizes-linux]와 [여기(Windows)][virtual-machines-sizes-windows]서 설명하는 대로 Azure에서는 사용자가 Standard Storage 또는 Premium Storage 중 어느 것을 사용하든지 간에 디스크당 IOPS 할당량을 적용합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-619">**Step 4**: As documented [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows], Azure enforces an IOPS quota per disk independent whether you use Standard Storage or Premium Storage.</span></span> <span data-ttu-id="36d1a-620">VM 유형에 따라 탑재 가능한 데이터 디스크 수가 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-620">Dependent on the VM type, the number of data disks, which can be mounted varies.</span></span> <span data-ttu-id="36d1a-621">따라서 각 VM 유형에서 얻을 수 있는 최대 IOPS 수를 계산할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-621">As a result, you can calculate a maximum IOPS number that can be achieved with each of the different VM types.</span></span> <span data-ttu-id="36d1a-622">데이터베이스 파일 레이아웃에 따라 게스트 OS에서 단일 볼륨이 되도록 디스크를 스트라이프할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-622">Dependent on the database file layout, you can stripe disks to become one volume in the guest OS.</span></span> <span data-ttu-id="36d1a-623">그러나 배포된 SAP 시스템의 현재 IOPS 볼륨이 Azure의 가장 큰 VM 유형에 대해 계산된 제한을 초과하고 더 많은 메모리로 보상할 수 없으면 SAP 시스템의 작업은 심각한 영향을 받을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-623">However, if the current IOPS volume of a deployed SAP system exceeds the calculated limits of the largest VM type of Azure and if there is no chance to compensate with more memory, the workload of the SAP system can be impacted severely.</span></span> <span data-ttu-id="36d1a-624">이러한 경우 Azure에 시스템을 배포하지 않아야 하는 상황이 올 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-624">In such cases, you can hit a point where you should not deploy the system on Azure.</span></span>

<span data-ttu-id="36d1a-625">**5단계**: 특히 2계층 구성의 온-프레미스에 배포된 SAP 시스템을 3계층 구성의 Azure에서 구성해야 할 가능성이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-625">**Step 5**: Especially in SAP systems, which are deployed on-premises in 2-Tier configurations, the chances are that the system might need to be configured on Azure in a 3-Tier configuration.</span></span> <span data-ttu-id="36d1a-626">이 단계에서는 SAP 응용 프로그램 계층에 확장할 수 없고 다른 Azure VM 유형에서 제공하는 CPU 및 메모리 리소스에 적합하지 않은 구성 요소가 있는지 여부를 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-626">In this step, you need to check whether there is a component in the SAP application layer, which can’t be scaled out and which would not fit into the CPU and memory resources the different Azure VM types offer.</span></span> <span data-ttu-id="36d1a-627">실제로 이러한 구성 요소가 있는 경우 SAP 시스템과 해당 작업을 Azure에 배포할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-627">If there indeed is such a component, the SAP system and its workload can’t be deployed into Azure.</span></span> <span data-ttu-id="36d1a-628">하지만 SAP 응용 프로그램 구성 요소를 여러 Azure VM으로 확장할 수 있으면 시스템을 Azure에 배포할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-628">But if you can scale out the SAP application components into multiple Azure VMs, the system can be deployed into Azure.</span></span>

<span data-ttu-id="36d1a-629">**6단계**: DBMS 및 SAP 응용 프로그램 계층 구성 요소를 Azure VM에서 실행할 수 있으면 다음과 관련해서 구성을 정의해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-629">**Step 6**: If the DBMS and SAP application layer components can be run in Azure VMs, the configuration needs to be defined with regard to:</span></span>

* <span data-ttu-id="36d1a-630">Azure VM의 수</span><span class="sxs-lookup"><span data-stu-id="36d1a-630">Number of Azure VMs</span></span>
* <span data-ttu-id="36d1a-631">개별 구성 요소에 대한 VM 유형</span><span class="sxs-lookup"><span data-stu-id="36d1a-631">VM types for the individual components</span></span>
* <span data-ttu-id="36d1a-632">충분한 IOPS를 제공하기 위한 DBMS VM의 VHD 수</span><span class="sxs-lookup"><span data-stu-id="36d1a-632">Number of VHDs in DBMS VM to provide enough IOPS</span></span>

## <a name="managing-azure-assets"></a><span data-ttu-id="36d1a-633">Azure 자산 관리</span><span class="sxs-lookup"><span data-stu-id="36d1a-633">Managing Azure Assets</span></span>
### <a name="azure-portal"></a><span data-ttu-id="36d1a-634">Azure 포털</span><span class="sxs-lookup"><span data-stu-id="36d1a-634">Azure Portal</span></span>
<span data-ttu-id="36d1a-635">Azure Portal은 Azure VM 배포를 관리하기 위한 세 가지 인터페이스 중 하나입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-635">The Azure portal is one of three interfaces to manage Azure VM deployments.</span></span> <span data-ttu-id="36d1a-636">이미지에서 VM을 배포하는 등의 기본적인 관리 작업은 Azure Portal을 통해 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-636">The basic management tasks, like deploying VMs from images, can be done through the Azure portal.</span></span> <span data-ttu-id="36d1a-637">또한 Storage 계정, 가상 네트워크 및 기타 Azure 구성 요소 만들기 작업은 Azure Portal에서 매우 효율적으로 처리할 수 있는 작업이기도 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-637">In addition, the creation of Storage Accounts, Virtual Networks, and other Azure components are also tasks the Azure portal can handle very well.</span></span> <span data-ttu-id="36d1a-638">그러나 온-프레미스에서 Azure로 VHD를 업로드하거나, Azure 내에서 VHD를 복사하는 등의 기능을 수행하려면 타사 도구나 PowerShell 또는 CLI를 통한 관리가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-638">However, functionality like uploading VHDs from on-premises to Azure or copying a VHD within Azure are tasks, which require either third-party tools or administration through PowerShell or CLI.</span></span>

![Microsoft Azure Portal - 가상 컴퓨터 개요][planning-guide-figure-800]

[comment]: <> (MSSedusch * <https://azure.microsoft.com/documentation/articles/virtual-networks-create-vnet-arm-pportal/>)
[comment]: <> (MSSedusch * <https://azure.microsoft.com/documentation/articles/virtual-machines-windows-tutorial/>)

<span data-ttu-id="36d1a-642">가상 컴퓨터 인스턴스에 대한 관리 및 구성 작업은 Azure Portal 내에서 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-642">Administration and configuration tasks for the Virtual Machine instance are possible from within the Azure portal.</span></span>

<span data-ttu-id="36d1a-643">가상 컴퓨터를 다시 시작하고 종료하는 것 외에 가상 컴퓨터 인스턴스용 데이터 디스크를 연결, 분리 및 생성하여 이미지 준비를 위해 인스턴스를 캡처하고 가상 컴퓨터 인스턴스의 크기를 구성할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-643">Besides restarting and shutting down a Virtual Machine you can also attach, detach, and create data disks for the Virtual Machine instance, to capture the instance for image preparation and configure the size of the Virtual Machine instance.</span></span>

<span data-ttu-id="36d1a-644">Azure Portal은 VM 및 기타 여러 Azure 서비스를 배포 및 구성하기 위한 기본 기능을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-644">The Azure portal provides basic functionality to deploy and configure VMs and many other Azure services.</span></span> <span data-ttu-id="36d1a-645">그러나 Azure Portal에서 모든 기능을 제공하는 것은 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-645">However not all available functionality is covered by the Azure portal.</span></span> <span data-ttu-id="36d1a-646">Azure Portal에서는 다음과 같은 작업을 수행할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-646">In the Azure portal, it’s not possible to perform tasks like:</span></span>

* <span data-ttu-id="36d1a-647">Azure에 VHD 업로드</span><span class="sxs-lookup"><span data-stu-id="36d1a-647">Uploading VHDs to Azure</span></span>
* <span data-ttu-id="36d1a-648">VM 복사</span><span class="sxs-lookup"><span data-stu-id="36d1a-648">Copying VMs</span></span>

[comment]: <> (MShermannd TODO - SAP VM에 대한 자동화 서비스는 어떻습니까?)
[comment]: <> (MSSedusch - 가능한 한 여러 VM 배포)
[comment]: <> (MSSedusch - 또한 Azure Portal에서는 배포와 관련된 모든 유형의 자동화가 가능하지 않습니다. 여러 VM의 스크립팅된 배포와 같은 작업은 Azure Portal을 통해 수행할 수 없습니다.)

### <a name="management-via-microsoft-azure-powershell-cmdlets"></a><span data-ttu-id="36d1a-652">Microsoft Azure PowerShell cmdlet을 통한 관리</span><span class="sxs-lookup"><span data-stu-id="36d1a-652">Management via Microsoft Azure PowerShell cmdlets</span></span>
<span data-ttu-id="36d1a-653">Windows PowerShell은 Azure에서 많은 수의 시스템을 배포하는 고객에 의해 널리 채택되어온 강력하고 확장 가능한 프레임워크입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-653">Windows PowerShell is a powerful and extensible framework that has been widely adopted by customers deploying larger numbers of systems in Azure.</span></span> <span data-ttu-id="36d1a-654">데스크톱, 랩톱 또는 전용 관리 스테이션에 PowerShell cmdlet을 설치한 후 원격으로 실행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-654">After the installation of PowerShell cmdlets on a desktop, laptop or dedicated management station, the PowerShell cmdlets can be run remotely.</span></span>

<span data-ttu-id="36d1a-655">Azure PowerShell cmdlet을 사용할 수 있도록 로컬 데스크톱/랩톱을 설정하는 프로세스와 Azure 구독에서 이러한 cmdlet을 사용하도록 구성하는 방법은 [이 문서][powershell-install-configure]에서 설명하고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-655">The process to enable a local desktop/laptop for the usage of Azure PowerShell cmdlets and how to configure those for the usage with the Azure subscription(s) is described in [this article][powershell-install-configure].</span></span>

<span data-ttu-id="36d1a-656">Azure PowerShell cmdlet을 설치, 업데이트 및 구성하는 방법에 대한 자세한 단계는 [배포 가이드의 이 장][deployment-guide-4.1]에서도 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-656">More detailed steps on how to install, update, and configure the Azure PowerShell cmdlets can also be found in [this chapter of the Deployment Guide][deployment-guide-4.1].</span></span>

<span data-ttu-id="36d1a-657">지금까지 고객이 경험한 바에 따르면 PS(PowerShell)는 분명히 VM을 배포하고 VM의 배포에서 사용자 지정 단계를 만들 수 있는 더 강력한 도구입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-657">Customer experience so far has been that PowerShell (PS) is certainly the more powerful tool to deploy VMs and to create custom steps in the deployment of VMs.</span></span> <span data-ttu-id="36d1a-658">Azure에서 SAP 인스턴스를 실행하는 모든 고객은 PS cmdlet을 사용하여 Azure Portal에서 수행하는 관리 작업을 보완하거나 PS cmdlet만 사용해서 Azure의 배포를 관리하고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-658">All of the customers running SAP instances in Azure are using PS cmdlets to supplement management tasks they do in the Azure portal or are even using PS cmdlets exclusively to manage their deployments in Azure.</span></span> <span data-ttu-id="36d1a-659">Azure 관련 cmdlet은 2,000개가 넘는 Windows 관련 cmdlet과 동일한 명명 규칙을 공유하기 때문에 Windows 관리자가 이러한 cmdlet을 활용하는 것은 쉽습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-659">Since the Azure-specific cmdlets share the same naming convention as the more than 2000 Windows-related cmdlets, it is an easy task for Windows administrators to leverage those cmdlets.</span></span>

<span data-ttu-id="36d1a-660"><http://blogs.technet.com/b/keithmayer/archive/2015/07/07/18-steps-for-end-to-end-iaas-provisioning-in-the-cloud-with-azure-resource-manager-arm-powershell-and-desired-state-configuration-dsc.aspx>에서 예제를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-660">See example here: <http://blogs.technet.com/b/keithmayer/archive/2015/07/07/18-steps-for-end-to-end-iaas-provisioning-in-the-cloud-with-azure-resource-manager-arm-powershell-and-desired-state-configuration-dsc.aspx></span></span>

[comment]: <> (MShermannd TODO - 테스트할 때 새 CLI 명령을 설명합니다.)
<span data-ttu-id="36d1a-662">SAP용 Azure 모니터링 확장(이 문서의 [SAP용 Azure 모니터링 솔루션][planning-guide-9.1] 장 참조)의 배포는 PowerShell 또는 CLI를 통해서만 가능합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-662">Deployment of the Azure Monitoring Extension for SAP (see chapter [Azure Monitoring Solution for SAP][planning-guide-9.1] in this document) is only possible via PowerShell or CLI.</span></span> <span data-ttu-id="36d1a-663">따라서 Azure에서 SAP NetWeaver 시스템을 배포 또는 관리하는 경우 PowerShell 또는 CLI를 반드시 설치하고 구성해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-663">Therefore it is mandatory to set up and configure PowerShell or CLI when deploying or administering an SAP NetWeaver system in Azure.</span></span>  

<span data-ttu-id="36d1a-664">Azure에서는 더 많은 기능을 제공하므로 cmdlet 업데이트를 요구하는 새로운 PS cmdlet이 추가될 예정입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-664">As Azure provides more functionality, new PS cmdlets are going to be added that requires an update of the cmdlets.</span></span> <span data-ttu-id="36d1a-665">따라서 매월 한 번 이상 Azure 다운로드 사이트 <https://azure.microsoft.com/downloads/>를 확인하여 새 버전의 cmdlet이 있는지 확인하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-665">Therefore it makes sense to check the Azure Download site at least once the month <https://azure.microsoft.com/downloads/> for a new version of the cmdlets.</span></span> <span data-ttu-id="36d1a-666">새 버전은 이전 버전이 그대로 유지된 상태로 설치됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-666">The new version is installed on top of the older version.</span></span>

<span data-ttu-id="36d1a-667">Azure 관련 PowerShell 명령의 일반 목록은 <https://docs.microsoft.com/powershell/azure/overview>를 확인하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-667">For a general list of Azure-related PowerShell commands check here: <https://docs.microsoft.com/powershell/azure/overview>.</span></span>

### <a name="management-via-microsoft-azure-cli-commands"></a><span data-ttu-id="36d1a-668">Microsoft Azure CLI 명령을 통한 관리</span><span class="sxs-lookup"><span data-stu-id="36d1a-668">Management via Microsoft Azure CLI commands</span></span>
<span data-ttu-id="36d1a-669">Linux를 사용하고 Azure 리소스를 관리하려는 고객의 경우에는 Powershell을 사용하지 못할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-669">For customers who use Linux and want to manage Azure resources Powershell might not be an option.</span></span> <span data-ttu-id="36d1a-670">Microsoft는 대안으로 Azure CLI를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-670">Microsoft offers Azure CLI as an alternative.</span></span>
<span data-ttu-id="36d1a-671">Azure CLI는 Azure 플랫폼 작업을 위한 플랫폼 간 오픈 소스 명령 집합을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-671">The Azure CLI provides a set of open source, cross-platform commands for working with the Azure Platform.</span></span> <span data-ttu-id="36d1a-672">Azure CLI는 Azure 포털에 있는 동일한 기능을 대부분 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-672">The Azure CLI provides much of the same functionality found in the Azure portal.</span></span>

<span data-ttu-id="36d1a-673">설치 및 구성에 대한 내용과 CLI 명령을 사용하여 Azure 작업을 수행하는 방법에 대한 자세한 내용은 다음을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-673">For information about installation, configuration and how to use CLI commands to accomplish Azure tasks see</span></span>

* <span data-ttu-id="36d1a-674">[Azure CLI 설치][xplat-cli]</span><span class="sxs-lookup"><span data-stu-id="36d1a-674">[Install the Azure CLI][xplat-cli]</span></span>
* <span data-ttu-id="36d1a-675">[Azure Resource Manager 템플릿 및 Azure CLI를 사용하여 가상 컴퓨터 배포 및 관리][../../linux/create-ssh-secured-vm-from-template.md]</span><span class="sxs-lookup"><span data-stu-id="36d1a-675">[Deploy and manage virtual machines by using Azure Resource Manager templates and the Azure CLI][../../linux/create-ssh-secured-vm-from-template.md]</span></span>
* <span data-ttu-id="36d1a-676">[Azure Resource Manager에서 Mac, Linux 및 Windows용 Azure CLI 사용][xplat-cli-azure-resource-manager](영문)</span><span class="sxs-lookup"><span data-stu-id="36d1a-676">[Use the Azure CLI for Mac, Linux, and Windows with Azure Resource Manager][xplat-cli-azure-resource-manager]</span></span>

<span data-ttu-id="36d1a-677">또한 Azure CLI를 사용하여 SAP용 Azure 모니터링 확장을 배포하는 방법에 대해서는 [배포 가이드][planning-guide]의 [Linux VM용 Azure CLI][deployment-guide-4.5.2] 장도 읽어보세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-677">Also read chapter [Azure CLI for Linux VMs][deployment-guide-4.5.2] in the [Deployment Guide][planning-guide] on how to use Azure CLI to deploy the Azure Monitoring Extension for SAP.</span></span>

## <a name="different-ways-to-deploy-vms-for-sap-in-azure"></a><span data-ttu-id="36d1a-678">Azure에서 SAP용 VM을 배포하는 다른 방법</span><span class="sxs-lookup"><span data-stu-id="36d1a-678">Different ways to deploy VMs for SAP in Azure</span></span>
<span data-ttu-id="36d1a-679">이 장에서는 Azure에서 VM을 배포하는 다양한 방법을 알아봅니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-679">In this chapter, you learn the different ways to deploy a VM in Azure.</span></span> <span data-ttu-id="36d1a-680">이 장에서는 Azure의 VM 및 VHD의 처리뿐만 아니라 추가 준비 절차도 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-680">Additional preparation procedures, as well as handling of VHDs and VMs in Azure are covered in this chapter.</span></span>

### <a name="deployment-of-vms-for-sap"></a><span data-ttu-id="36d1a-681">SAP용 VM 배포</span><span class="sxs-lookup"><span data-stu-id="36d1a-681">Deployment of VMs for SAP</span></span>
<span data-ttu-id="36d1a-682">Microsoft Azure는 VM 및 관련 디스크를 배포하기 위한 여러 가지 방법을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-682">Microsoft Azure offers multiple ways to deploy VMs and associated disks.</span></span> <span data-ttu-id="36d1a-683">따라서 배포 방법에 따라 VM 준비가 달라질 수 있으므로 차이점을 이해해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-683">Thus it is very important to understand the differences since preparations of the VMs might differ depending on the method of deployment.</span></span> <span data-ttu-id="36d1a-684">일반적으로 다음과 같은 시나리오를 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-684">In general, we take a look at the following scenarios:</span></span>

#### <span data-ttu-id="36d1a-685"><a name="4d175f1b-7353-4137-9d2f-817683c26e53"></a>일반화되지 않은 디스크를 사용하여 온-프레미스에서 Azure로 VM 이동</span><span class="sxs-lookup"><span data-stu-id="36d1a-685"><a name="4d175f1b-7353-4137-9d2f-817683c26e53"></a>Moving a VM from on-premises to Azure with a non-generalized disk</span></span>
<span data-ttu-id="36d1a-686">온-프레미스에서 Azure로 특정 SAP 시스템을 이동하려고 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-686">You plan to move a specific SAP system from on-premises to Azure.</span></span> <span data-ttu-id="36d1a-687">이 작업은 OS, SAP 바이너리 및 DBMS 바이너리를 포함하는 VHD와 DBMS 데이터와 로그 파일이 있는 VHD를 Azure에 업로드하여 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-687">This can be done by uploading the VHD, which contains the OS, the SAP Binaries, and DBMS binaries plus the VHDs with the data and log files of the DBMS to Azure.</span></span> <span data-ttu-id="36d1a-688">[아래의 시나리오 2][planning-guide-5.1.2]와 달리 온-프레미스 환경에서 구성한 대로 Azure VM에서 호스트 이름, SAP SID 및 SAP 사용자 계정을 유지합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-688">In contrast to [scenario #2 below][planning-guide-5.1.2], you keep the hostname, SAP SID, and SAP user accounts in the Azure VM as they were configured in the on-premises environment.</span></span> <span data-ttu-id="36d1a-689">그러므로 이미지 일반화는 필요하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-689">Therefore, generalizing the image is not necessary.</span></span> <span data-ttu-id="36d1a-690">일반화되지 않은 VM 또는 VHD를 온-프레미스에서 준비하는 단계와 Azure로 업로드하는 방법에 대해서는 이 문서의 [일반화되지 않은 디스크를 사용하여 온-프레미스에서 Azure로 VM 이동 준비][planning-guide-5.2.1] 장을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-690">See chapters [Preparation for moving a VM from on-premises to Azure with a non-generalized disk][planning-guide-5.2.1] of this document for on-premises preparation steps and upload of non-generalized VMs or VHDs to Azure.</span></span> <span data-ttu-id="36d1a-691">Azure에서 이러한 이미지를 배포하는 자세한 단계에 대해서는 [배포 가이드][deployment-guide]의 [시나리오 3: SAP에서 일반화되지 않은 Azure VHD를 사용하여 온-프레미스에서 VM 이동][deployment-guide-3.4] 장을 읽어보세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-691">Read chapter [Scenario 3: Moving a VM from on-premises using a non-generalized Azure VHD with SAP][deployment-guide-3.4] in the [Deployment Guide][deployment-guide] for detailed steps of deploying such an image in Azure.</span></span>

#### <span data-ttu-id="36d1a-692"><a name="e18f7839-c0e2-4385-b1e6-4538453a285c"></a>고객별 이미지를 사용하여 VM 배포</span><span class="sxs-lookup"><span data-stu-id="36d1a-692"><a name="e18f7839-c0e2-4385-b1e6-4538453a285c"></a>Deploying a VM with a customer-specific image</span></span>
<span data-ttu-id="36d1a-693">OS 또는 DBMS 버전의 특정 패치 요구 사항으로 인해 Azure 마켓플레이스에 제공된 이미지가 용도에 맞지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-693">Due to specific patch requirements of your OS or DBMS version, the provided images in the Azure Marketplace might not fit your needs.</span></span> <span data-ttu-id="36d1a-694">따라서 '개인' OS/DBMS VM 이미지를 사용하는 VM을 만들어 이후 여러 번 배포할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-694">Therefore, you might need to create a VM using your own ‘private’ OS/DBMS VM image, which can be deployed several times afterwards.</span></span> <span data-ttu-id="36d1a-695">중복성 유지를 위해 이러한 '개인' 이미지를 준비하려면 다음 항목을 고려해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-695">To prepare such a ‘private’ image for duplication, the following items have to be considered:</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="36d1a-697">Windows</span><span class="sxs-lookup"><span data-stu-id="36d1a-697">Windows</span></span>
>
> <span data-ttu-id="36d1a-698">자세한 내용은 <https://docs.microsoft.com/azure/virtual-machines/windows/upload-generalized-managed>를 참조하세요. Windows SID, 호스트 이름 등의 Windows 설정은 sysprep 명령을 통해 온-프레미스 VM에서 추상화/일반화해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-698">See more details here: <https://docs.microsoft.com/azure/virtual-machines/windows/upload-generalized-managed> The Windows settings (like Windows SID and hostname) must be abstracted/generalized on the on-premises VM via the sysprep command.</span></span>
>
>
> ![Linux][Logo_Linux] <span data-ttu-id="36d1a-700">Linux</span><span class="sxs-lookup"><span data-stu-id="36d1a-700">Linux</span></span>
>
> <span data-ttu-id="36d1a-701">[SUSE][virtual-machines-linux-create-upload-vhd-suse], [Red Hat][virtual-machines-linux-redhat-create-upload-vhd] 또는 [Oracle Linux][virtual-machines-linux-create-upload-vhd-oracle] 관련 문서에서 설명하는 단계를 수행하여 Azure에 업로드할 VHD를 준비합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-701">Follow the steps described in these articles for [SUSE][virtual-machines-linux-create-upload-vhd-suse], [Red Hat][virtual-machines-linux-redhat-create-upload-vhd], or [Oracle Linux][virtual-machines-linux-create-upload-vhd-oracle], to prepare a VHD to be uploaded to Azure.</span></span>
>
>

- - -
<span data-ttu-id="36d1a-702">온-프레미스 VM(특히 2계층 시스템)에 SAP 콘텐츠를 이미 설치한 경우 Azure VM 배포 후 SAP Software Provisioning Manager에서 지원하는 인스턴스 이름 변경 절차를 통해 SAP 시스템 설정을 적용할 수 있습니다(SAP Note [1619720]).</span><span class="sxs-lookup"><span data-stu-id="36d1a-702">If you have already installed SAP content in your on-premises VM (especially for 2-Tier systems), you can adapt the SAP system settings after the deployment of the Azure VM through the instance rename procedure supported by the SAP Software Provisioning Manager (SAP Note [1619720]).</span></span> <span data-ttu-id="36d1a-703">온-프레미스 준비 단계 및 Azure로 일반화된 VM 업로드에 대해서는 이 문서의 [SAP용 고객별 이미지를 사용하여 VM 배포 준비][planning-guide-5.2.2] 및 [온-프레미스에서 Azure로 VHD 업로드][planning-guide-5.3.2] 장을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-703">See chapters [Preparation for deploying a VM with a customer-specific image for SAP][planning-guide-5.2.2] and [Uploading a VHD from on-premises to Azure][planning-guide-5.3.2] of this document for on-premises preparation steps and upload of a generalized VM to Azure.</span></span> <span data-ttu-id="36d1a-704">Azure에서 이러한 이미지를 배포하는 자세한 단계는 [배포 가이드][deployment-guide]의 [시나리오 2: SAP용 사용자 지정 이미지를 사용하여 VM 배포][deployment-guide-3.3] 장을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-704">Read chapter [Scenario 2: Deploying a VM with a custom image for SAP][deployment-guide-3.3] in the [Deployment Guide][deployment-guide] for detailed steps of deploying such an image in Azure.</span></span>

#### <a name="deploying-a-vm-out-of-the-azure-marketplace"></a><span data-ttu-id="36d1a-705">Azure 마켓플레이스에서 VM 배포</span><span class="sxs-lookup"><span data-stu-id="36d1a-705">Deploying a VM out of the Azure Marketplace</span></span>
<span data-ttu-id="36d1a-706">Azure Marketplace에서 Microsoft 또는 타사 제공 VM 이미지를 사용하여 VM을 배포하려는 경우가 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-706">You would like to use a Microsoft or third-party provided VM image from the Azure Marketplace to deploy your VM.</span></span> <span data-ttu-id="36d1a-707">Azure에서 VM을 배포한 후 온-프레미스 환경에서와 동일한 지침 및 도구를 사용하여 VM 내부에 SAP 소프트웨어 및/또는 DBMS를 설치합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-707">After you deployed your VM in Azure, you follow the same guidelines and tools to install the SAP software and/or DBMS inside your VM as you would do in an on-premises environment.</span></span> <span data-ttu-id="36d1a-708">자세한 배포 설명은 [배포 가이드][deployment-guide]의 [시나리오 1: SAP용 Azure Marketplace에서 VM 배포][deployment-guide-3.2] 장을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-708">For more detailed deployment description, please see chapter [Scenario 1: Deploying a VM out of the Azure Marketplace for SAP][deployment-guide-3.2] in the [Deployment Guide][deployment-guide].</span></span>

### <span data-ttu-id="36d1a-709"><a name="6ffb9f41-a292-40bf-9e70-8204448559e7"></a>Azure용 SAP로 VM 준비</span><span class="sxs-lookup"><span data-stu-id="36d1a-709"><a name="6ffb9f41-a292-40bf-9e70-8204448559e7"></a>Preparing VMs with SAP for Azure</span></span>
<span data-ttu-id="36d1a-710">VM을 Azure에 업로드하기 전에 VM 및 VHD가 특정 요구 사항을 충족하는지 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-710">Before uploading VMs into Azure you need to make sure the VMs and VHDs fulfill certain requirements.</span></span> <span data-ttu-id="36d1a-711">사용되는 배포 방법에 따라 약간의 차이가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-711">There are small differences depending on the deployment method that is used.</span></span>

#### <span data-ttu-id="36d1a-712"><a name="1b287330-944b-495d-9ea7-94b83aff73ef"></a>일반화되지 않은 디스크를 사용하여 온-프레미스에서 Azure로 VM 이동 준비</span><span class="sxs-lookup"><span data-stu-id="36d1a-712"><a name="1b287330-944b-495d-9ea7-94b83aff73ef"></a>Preparation for moving a VM from on-premises to Azure with a non-generalized disk</span></span>
<span data-ttu-id="36d1a-713">일반적인 배포 방법은 SAP 시스템을 실행하는 기존 VM을 온-프레미스에서 Azure으로 이동하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-713">A common deployment method is to move an existing VM which runs an SAP system from on-premises to Azure.</span></span> <span data-ttu-id="36d1a-714">해당 VM 및 VM의 SAP 시스템은 동일한 호스트 이름과 거의 동일한 SAP SID를 사용하여 Azure에서 실행되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-714">That VM and the SAP system in the VM just should run in Azure using the same hostname and very likely the same SAP SID.</span></span> <span data-ttu-id="36d1a-715">이 경우 다중 배포를 위해 VM의 게스트 OS를 일반화해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-715">In this case the guest OS of VM should not be generalized for multiple deployments.</span></span> <span data-ttu-id="36d1a-716">온-프레미스 네트워크가 Azure로 확장된 경우(이 문서의 [크로스 프레미스 - 온-프레미스 네트워크에 완전히 통합될 필요가 있는 단일 또는 다중 SAP VM을 Azure에 배포][planning-guide-2.2] 장 참조) 온-프레미스 이전에 사용된 것과 같은 동일한 도메인 계정을 VM 내에서 사용할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-716">If the on-premises network got extended into Azure (see chapter [cross-premises - Deployment of single or multiple SAP VMs into Azure with the requirement of being fully integrated into the on-premises network][planning-guide-2.2] in this document), then even the same domain accounts can be used within the VM as those were used before on-premises.</span></span>

<span data-ttu-id="36d1a-717">고유한 Azure VM 디스크를 준비할 때의 요구 사항은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-717">Requirements when preparing your own Azure VM Disk are:</span></span>

* <span data-ttu-id="36d1a-718">원래 운영 체제가 포함된 VHD의 최대 크기는 127GB로 제한되어 있었습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-718">Originally the VHD containing the operating system could have a maximum size of 127GB only.</span></span> <span data-ttu-id="36d1a-719">이 제한은 2015년 3월 말에 없어졌습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-719">This limitation got eliminated at the end of March 2015.</span></span> <span data-ttu-id="36d1a-720">이제 운영 체제를 포함하는 VHD도 다른 Azure 저장소 호스트 VHD처럼 최대 크기가 1TB까지 가능합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-720">Now the VHD containing the operating system can be up to 1TB in size as any other Azure Storage hosted VHD as well.</span></span>
* <span data-ttu-id="36d1a-721">고정된 VHD 형식이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-721">It needs to be in the fixed VHD format.</span></span> <span data-ttu-id="36d1a-722">동적 VHD 또는 VHDx 형식의 VHD는 Azure에서 아직 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-722">Dynamic VHDs or VHDs in VHDx format are not yet supported on Azure.</span></span> <span data-ttu-id="36d1a-723">동적 VHD는 PowerShell commandlet 또는 CLI를 사용하여 업로드할 경우 고정 VHD로 변환됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-723">Dynamic VHDs will be converted to static VHDs when you upload the VHD with PowerShell commandlets or CLI</span></span>
* <span data-ttu-id="36d1a-724">VM에 탑재되고 Azure에서 다시 VM으로 탑재되어야 하는 VHD도 고정 VHD 형식이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-724">VHDs which are mounted to the VM and should be mounted again in Azure to the VM need to be in a fixed VHD format as well.</span></span> <span data-ttu-id="36d1a-725">데이터 디스크의 크기 제한에 대해 알아보려면 [이 문서(Linux)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux)와 [이 문서(Windows)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-windows)를 확인하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-725">Please read [this article (Linux)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux) and [this article (Windows)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-windows) for size limits of data disks.</span></span> <span data-ttu-id="36d1a-726">동적 VHD는 PowerShell commandlet 또는 CLI를 사용하여 업로드할 경우 고정 VHD로 변환됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-726">Dynamic VHDs will be converted to static VHDs when you upload the VHD with PowerShell commandlets or CLI</span></span>
* <span data-ttu-id="36d1a-727">Microsoft 기술 지원 서비스에서 사용할 수 있거나 VM이 배포되고 적절한 추가 사용자가 사용할 수 있게 될 때까지 서비스 및 응용 프로그램이 실행되기 위한 컨텍스트로 할당될 수 있는 관리자 권한의 다른 로컬 계정을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-727">Add another local account with administrator privileges which can be used by Microsoft support or which can be assigned as context for services and applications to run in until the VM is deployed and more appropriate users can be used.</span></span>
* <span data-ttu-id="36d1a-728">이 배포 방법과 함께 클라우드 전용 배포 시나리오(이 문서의 [클라우드 전용 - 온-프레미스 고객 네트워크에 의존하지 않고 Azure에 가상 컴퓨터 배포][planning-guide-2.1] 장 참조)를 사용하는 경우 Azure 디스크가 Azure에 배포되면 도메인 계정이 작동하지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-728">For the case of using a Cloud-Only deployment scenario (see chapter [Cloud-Only - Virtual Machine deployments into Azure without dependencies on the on-premises customer network][planning-guide-2.1] of this document) in combination with this deployment method, domain accounts might not work once the Azure Disk is deployed in Azure.</span></span> <span data-ttu-id="36d1a-729">DBMS 또는 SAP 응용 프로그램과 같은 서비스를 실행하는 데 사용되는 계정의 경우가 특히 여기에 해당합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-729">This is especially true for accounts which are used to run services like the DBMS or SAP applications.</span></span> <span data-ttu-id="36d1a-730">따라서 이러한 도메인 계정을 VM 로컬 계정으로 바꾸고 VM에서 온-프레미스 도메인 계정을 삭제해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-730">Therefore you need to replace such domain accounts with VM local accounts and delete the on-premises domain accounts in the VM.</span></span> <span data-ttu-id="36d1a-731">[크로스 프레미스 - 온-프레미스 네트워크에 완전히 통합될 필요가 있는 단일 또는 다중 SAP VM을 Azure에 배포][planning-guide-2.2] 장에서 설명한 대로 크로스 프레미스 시나리오에서 VM을 배포한 경우 온-프레미스 도메인 사용자를 VM 이미지에 유지하는 것은 문제가 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-731">Keeping on-premises domain users in the VM image is not an issue when the VM is deployed in the cross-premises scenario as described in chapter [Cross-Premises - Deployment of single or multiple SAP VMs into Azure with the requirement of being fully integrated into the on-premises network][planning-guide-2.2] in this document.</span></span>
* <span data-ttu-id="36d1a-732">시스템을 온-프레미스에서 실행할 때 도메인 계정을 DBMS 로그인 또는 사용자로 사용하고 해당 VM을 클라우드 전용 시나리오에서 배포해야 할 경우 도메인 사용자를 삭제해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-732">If domain accounts were used as DBMS logins or users when running the system on-premises and those VMs are supposed to be deployed in Cloud-Only scenarios, the domain users need to be deleted.</span></span> <span data-ttu-id="36d1a-733">로컬 관리자와 다른 VM 로컬 사용자가 관리자 권한이 있는 로그인/사용자로 DBMS에 추가되는지도 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-733">You need to make sure that the local administrator plus another VM local user is added as a login/user into the DBMS as administrators.</span></span>
* <span data-ttu-id="36d1a-734">특정 배포 시나리오에 필요할 수 있으므로 다른 로컬 계정을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-734">Add other local accounts as those might be needed for the specific deployment scenario.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="36d1a-736">Windows</span><span class="sxs-lookup"><span data-stu-id="36d1a-736">Windows</span></span>
>
> <span data-ttu-id="36d1a-737">이 시나리오에서는 Azure에서 VM을 업로드 및 배포하기 위해 VM의 일반화(sysprep)가 필요하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-737">In this scenario no generalization (sysprep) of the VM is required to upload and deploy the VM on Azure.</span></span>
> <span data-ttu-id="36d1a-738">D:\ 드라이브가 사용되지 않음을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-738">Make sure that drive D:\ is not used.</span></span>
> <span data-ttu-id="36d1a-739">그리고 이 문서의 [연결된 디스크에 대한 자동 탑재 설정][planning-guide-5.5.3] 장에서 설명한 대로 연결된 디스크에 대해 디스크 자동 탑재를 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-739">Set disk automount for attached disks as described in chapter [Setting automount for attached disks][planning-guide-5.5.3] in this document.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="36d1a-741">Linux</span><span class="sxs-lookup"><span data-stu-id="36d1a-741">Linux</span></span>
>
> <span data-ttu-id="36d1a-742">이 시나리오에서는 Azure에서 VM을 업로드 및 배포하기 위해 VM의 일반화(waagent -deprovision)가 필요하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-742">In this scenario no generalization (waagent -deprovision) of the VM is required to upload and deploy the VM on Azure.</span></span>
> <span data-ttu-id="36d1a-743">/mnt/resource가 사용되지 않는지와 모든 디스크가 uuid를 통해 탑재되는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-743">Make sure that /mnt/resource is not used and that ALL disks are mounted via uuid.</span></span> <span data-ttu-id="36d1a-744">OS 디스크의 경우 부팅 로더 항목에 uuid 기반 탑재가 반영되는지도 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-744">For the OS disk, make sure that the bootloader entry also reflects the uuid-based mount.</span></span>
>
>

- - -
#### <span data-ttu-id="36d1a-745"><a name="57f32b1c-0cba-4e57-ab6e-c39fe22b6ec3"></a>SAP용 고객별 이미지를 사용하여 VM 배포 준비</span><span class="sxs-lookup"><span data-stu-id="36d1a-745"><a name="57f32b1c-0cba-4e57-ab6e-c39fe22b6ec3"></a>Preparation for deploying a VM with a customer-specific image for SAP</span></span>
<span data-ttu-id="36d1a-746">일반화된 OS를 포함하는 VHD 파일은 Azure Storage 계정의 컨테이너에 저장되거나 관리 디스크 이미지로 저장됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-746">VHD files that contain a generalized OS are stored in containers on Azure Storage Accounts or as Managed Disk images.</span></span> <span data-ttu-id="36d1a-747">[배포 가이드][deployment-guide]의 [시나리오 2: SAP용 사용자 지정 이미지를 사용하여 VM 배포][deployment-guide-3.3] 장에서 설명한 대로 배포 템플릿 파일에서 VHD 또는 관리 디스크 이미지를 원본으로 참조하여 이러한 이미지에서 새 VM을 배포할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-747">You can deploy a new VM from such an image by referencing the VHD or Managed Disk image as a source in your deployment template files as described in chapter [Scenario 2: Deploying a VM with a custom image for SAP][deployment-guide-3.3] of the [Deployment Guide][deployment-guide].</span></span>

<span data-ttu-id="36d1a-748">고유한 Azure VM 이미지를 준비할 때의 요구 사항은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-748">Requirements when preparing your own Azure VM Image are:</span></span>

* <span data-ttu-id="36d1a-749">원래 운영 체제가 포함된 VHD의 최대 크기는 127GB로 제한되어 있었습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-749">Originally the VHD containing the operating system could have a maximum size of 127GB only.</span></span> <span data-ttu-id="36d1a-750">이 제한은 2015년 3월 말에 없어졌습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-750">This limitation got eliminated at the end of March 2015.</span></span> <span data-ttu-id="36d1a-751">이제 운영 체제를 포함하는 VHD도 다른 Azure 저장소 호스트 VHD처럼 최대 크기가 1TB까지 가능합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-751">Now the VHD containing the operating system can be up to 1TB in size as any other Azure Storage hosted VHD as well.</span></span>
* <span data-ttu-id="36d1a-752">고정된 VHD 형식이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-752">It needs to be in the fixed VHD format.</span></span> <span data-ttu-id="36d1a-753">동적 VHD 또는 VHDx 형식의 VHD는 Azure에서 아직 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-753">Dynamic VHDs or VHDs in VHDx format are not yet supported on Azure.</span></span> <span data-ttu-id="36d1a-754">동적 VHD는 PowerShell commandlet 또는 CLI를 사용하여 업로드할 경우 고정 VHD로 변환됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-754">Dynamic VHDs will be converted to static VHDs when you upload the VHD with PowerShell commandlets or CLI</span></span>
* <span data-ttu-id="36d1a-755">VM에 탑재되고 Azure에서 다시 VM으로 탑재되어야 하는 VHD도 고정 VHD 형식이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-755">VHDs which are mounted to the VM and should be mounted again in Azure to the VM need to be in a fixed VHD format as well.</span></span> <span data-ttu-id="36d1a-756">데이터 디스크의 크기 제한에 대해 알아보려면 [이 문서(Linux)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux)와 [이 문서(Windows)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-windows)를 확인하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-756">Please read [this article (Linux)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux) and [this article (Windows)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-windows) for size limits of data disks.</span></span> <span data-ttu-id="36d1a-757">동적 VHD는 PowerShell commandlet 또는 CLI를 사용하여 업로드할 경우 고정 VHD로 변환됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-757">Dynamic VHDs will be converted to static VHDs when you upload the VHD with PowerShell commandlets or CLI</span></span>
* <span data-ttu-id="36d1a-758">VM에 사용자로 등록된 모든 도메인 사용자가 클라우드 전용 배포 시나리오(이 문서의 [클라우드 전용 - 온-프레미스 고객 네트워크에 의존하지 않고 Azure에 가상 컴퓨터 배포][planning-guide-2.1] 장 참조)에 존재하는 것은 아니므로 이미지가 Azure에 배포되면 이러한 도메인 계정을 사용하는 서비스가 작동하지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-758">Since all the Domain users registered as users in the VM will not exist in a Cloud-Only scenario (see chapter [Cloud-Only - Virtual Machine deployments into Azure without dependencies on the on-premises customer network][planning-guide-2.1] of this document), services using such domain accounts might not work once the Image is deployed in Azure.</span></span> <span data-ttu-id="36d1a-759">DBMS 또는 SAP 응용 프로그램과 같은 서비스를 실행하는 데 사용되는 계정의 경우가 특히 여기에 해당합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-759">This is especially true for accounts which are used to run services like DBMS or SAP applications.</span></span> <span data-ttu-id="36d1a-760">따라서 이러한 도메인 계정을 VM 로컬 계정으로 바꾸고 VM에서 온-프레미스 도메인 계정을 삭제해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-760">Therefore you need to replace such domain accounts with VM local accounts and delete the on-premises domain accounts in the VM.</span></span> <span data-ttu-id="36d1a-761">[크로스 프레미스 - 온-프레미스 네트워크에 완전히 통합될 필요가 있는 단일 또는 다중 SAP VM을 Azure에 배포][planning-guide-2.2] 장에서 설명한 대로 크로스 프레미스 시나리오에서 VM을 배포한 경우 온-프레미스 도메인 사용자를 VM 이미지에 유지하는 것은 문제가 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-761">Keeping on-premises domain users in the VM image might not be an issue when the VM is deployed in the cross-premises scenario as described in chapter [Cross-Premises - Deployment of single or multiple SAP VMs into Azure with the requirement of being fully integrated into the on-premises network][planning-guide-2.2] in this document.</span></span>
* <span data-ttu-id="36d1a-762">Microsoft 기술 지원 서비스에서 문제를 조사하는 데 사용할 수 있거나 VM이 배포되고 적절한 추가 사용자가 사용할 수 있게 될 때까지 서비스 및 응용 프로그램이 실행되기 위한 컨텍스트로 할당될 수 있는 관리자 권한의 다른 로컬 계정을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-762">Add another local account with administrator privileges which can be used by Microsoft support in problem investigations or which can be assigned as context for services and applications to run in until the VM is deployed and more appropriate users can be used.</span></span>
* <span data-ttu-id="36d1a-763">클라우드 전용 배포이면서 시스템을 온-프레미스에서 실행할 때 도메인 계정을 DBMS 로그인 또는 사용자로 사용하는 경우 도메인 사용자를 삭제해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-763">In Cloud-Only deployments and where domain accounts were used as DBMS logins or users when running the system on-premises, the domain users should be deleted.</span></span> <span data-ttu-id="36d1a-764">로컬 관리자와 다른 VM 로컬 사용자가 관리자 권한이 있는 로그인/사용자로 DBMS에 추가되는지도 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-764">You need to make sure that the local administrator plus another VM local user is added as a login/user of the DBMS as administrators.</span></span>
* <span data-ttu-id="36d1a-765">특정 배포 시나리오에 필요할 수 있으므로 다른 로컬 계정을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-765">Add other local accounts as those might be needed for the specific deployment scenario.</span></span>
* <span data-ttu-id="36d1a-766">이미지에 SAP NetWeaver의 설치가 포함되어 있고 Azure 배포 시에 호스트 이름을 원래 이름에서 다르게 변경할 가능성이 있는 경우 SAP Software Provisioning Manager DVD의 최신 버전을 템플릿으로 복사하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-766">If the image contains an installation of SAP NetWeaver and renaming of the host name from the original name at the point of the Azure deployment is likely, it is recommended to copy the latest versions of the SAP Software Provisioning Manager DVD into the template.</span></span> <span data-ttu-id="36d1a-767">이렇게 하면 새 복사가 시작되는 즉시, SAP 제공 이름 바꾸기 기능을 사용하여 배포된 VM 이미지 내에서 변경된 호스트 이름을 손쉽게 조정하고 SAP 시스템의 SID를 변경할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-767">This will enable you to easily use the SAP provided rename functionality to adapt the changed hostname and/or change the SID of the SAP system within the deployed VM image as soon as a new copy is started.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="36d1a-769">Windows</span><span class="sxs-lookup"><span data-stu-id="36d1a-769">Windows</span></span>
>
> <span data-ttu-id="36d1a-770">D:\ 드라이브가 사용되지 않는지 확인하고 이 문서의 [연결된 디스크에 대한 자동 탑재 설정][planning-guide-5.5.3] 장에서 설명한 대로 연결된 디스크에 대해 디스크 자동 탑재를 설정하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-770">Make sure that drive D:\ is not used Set disk automount for attached disks as described in chapter [Setting automount for attached disks][planning-guide-5.5.3] in this document.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="36d1a-772">Linux</span><span class="sxs-lookup"><span data-stu-id="36d1a-772">Linux</span></span>
>
> <span data-ttu-id="36d1a-773">/mnt/resource가 사용되지 않는지와 모든 디스크가 uuid를 통해 탑재되는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-773">Make sure that /mnt/resource is not used and that ALL disks are mounted via uuid.</span></span> <span data-ttu-id="36d1a-774">OS 디스크의 경우 부팅 로더 항목에 uuid 기반 탑재가 반영되는지도 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-774">For the OS disk, make sure the bootloader entry also reflects the uuid-based mount.</span></span>
>
>

- - -
* <span data-ttu-id="36d1a-775">SAP GUI(관리 및 설치용)를 이러한 템플릿에 미리 설치할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-775">SAP GUI (for administrative and setup purposes) can be pre-installed in such a template.</span></span>
* <span data-ttu-id="36d1a-776">크로스-프레미스 시나리오에서 VM을 성공적으로 실행하는 데 필요한 기타 소프트웨어가 VM의 이름 바꾸기 기능에서 문제 없이 작동되면 설치해도 됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-776">Other software necessary to run the VMs successfully in cross-premises scenarios can be installed as long as this software can work with the rename of the VM.</span></span>

<span data-ttu-id="36d1a-777">VM이 범용으로 준비되고, 결과적으로 대상 Azure 배포 시나리오에서 사용할 수 없는 계정/사용자와 독립될 경우 이러한 이미지 일반화의 마지막 준비 단계가 수행됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-777">If the VM is prepared sufficiently to be generic and eventually independent of accounts/users not available in the targeted Azure deployment scenario, the last preparation step of generalizing such an image is conducted.</span></span>

##### <a name="generalizing-a-vm"></a><span data-ttu-id="36d1a-778">VM 일반화</span><span class="sxs-lookup"><span data-stu-id="36d1a-778">Generalizing a VM</span></span>
- - -
> ![Windows][Logo_Windows] <span data-ttu-id="36d1a-780">Windows</span><span class="sxs-lookup"><span data-stu-id="36d1a-780">Windows</span></span>
>
> <span data-ttu-id="36d1a-781">마지막 단계는 관리자 계정을 사용하여 VM에 로그인하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-781">The last step is to log in to a VM with an Administrator account.</span></span> <span data-ttu-id="36d1a-782">'관리자 권한'으로 Windows 명령 창을 엽니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-782">Open a Windows command window as ‘administrator’.</span></span> <span data-ttu-id="36d1a-783">%windir%\windows\system32\sysprep로 이동하여 sysprep.exe를 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-783">Go to %windir%\windows\system32\sysprep and execute sysprep.exe.</span></span>
> <span data-ttu-id="36d1a-784">작은 창이 나타납니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-784">A small window will appear.</span></span> <span data-ttu-id="36d1a-785">'일반화' 옵션을 선택하고(기본적으로 선택 취소됨) 종료 옵션을 기본 설정인 ‘다시 부팅'에서 '종료'로 변경해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-785">It is important to check the ‘Generalize’ option (the default is un-checked) and change the Shutdown Option from its default of ‘Reboot’ to ‘Shutdown’.</span></span> <span data-ttu-id="36d1a-786">이 절차에서는 sysprep 프로세스가 VM의 게스트 OS에서 온-프레미스로 실행된다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-786">This procedure assumes that the sysprep process is executed on-premises in the Guest OS of a VM.</span></span>
> <span data-ttu-id="36d1a-787">Azure에서 이미 실행 중인 VM을 사용하여 절차를 수행하려면 [이 문서](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/capture-image-resource)에서 설명하는 단계를 따르세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-787">If you want to perform the procedure with a VM already running in Azure, follow the steps described in [this article](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/capture-image-resource).</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="36d1a-789">Linux</span><span class="sxs-lookup"><span data-stu-id="36d1a-789">Linux</span></span>
>
> <span data-ttu-id="36d1a-790">[Linux 가상 컴퓨터를 캡처하여 Resource Manager 템플릿으로 사용하는 방법][capture-image-linux-step-2-create-vm-image]</span><span class="sxs-lookup"><span data-stu-id="36d1a-790">[How to capture a Linux virtual machine to use as a Resource Manager template][capture-image-linux-step-2-create-vm-image]</span></span>
>
>

- - -
### <a name="transferring-vms-and-vhds-between-on-premises-to-azure"></a><span data-ttu-id="36d1a-791">온-프레미스와 Azure 간에 VM 및 VHD 전송</span><span class="sxs-lookup"><span data-stu-id="36d1a-791">Transferring VMs and VHDs between on-premises to Azure</span></span>
<span data-ttu-id="36d1a-792">Azure Portal을 통해서는 Azure에 VM 이미지와 디스크를 업로드할 수 없으므로 Azure PowerShell cmdlet 또는 CLI를 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-792">Since uploading VM images and disks to Azure is not possible via the Azure portal, you need to use Azure PowerShell cmdlets or CLI.</span></span> <span data-ttu-id="36d1a-793">'AzCopy' 도구를 사용할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-793">Another possibility is the use of the tool ‘AzCopy’.</span></span> <span data-ttu-id="36d1a-794">이 도구는 온-프레미스와 Azure 간에 VHD를 복사할 수 있습니다(양방향으로).</span><span class="sxs-lookup"><span data-stu-id="36d1a-794">The tool can copy VHDs between on-premises and Azure (in both directions).</span></span> <span data-ttu-id="36d1a-795">또한 Azure 지역 간에 VHD를 복사할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-795">It also can copy VHDs between Azure Regions.</span></span> <span data-ttu-id="36d1a-796">AzCopy의 다운로드 및 사용에 대해서는 [이 설명서][storage-use-azcopy]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-796">Please consult [this documentation][storage-use-azcopy] for download and usage of AzCopy.</span></span>

<span data-ttu-id="36d1a-797">세 번째 방법은 다양한 타사 GUI 기반 도구를 사용하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-797">A third alternative would be to use various third-party GUI-oriented tools.</span></span> <span data-ttu-id="36d1a-798">그러나 이러한 도구가 Azure 페이지 Blob을 지원하는지 확인하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-798">However, please make sure that these tools are supporting Azure Page Blobs.</span></span> <span data-ttu-id="36d1a-799">여기서는 Azure 페이지 Blob 저장소를 사용합니다. 차이점은 <https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>에 설명되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-799">For our purposes we need to use Azure Page Blob store (the differences are described here: <https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>).</span></span> <span data-ttu-id="36d1a-800">또한 Azure에서 제공하는 도구는 업로드해야 하는 VM 및 VHD를 압축하는 데 매우 효율적입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-800">Also the tools provided by Azure are very efficient in compressing the VMs and VHDs which need to be uploaded.</span></span> <span data-ttu-id="36d1a-801">이러한 압축 효율성은 업로드 시간(온-프레미스 시설과 대상 Azure 배포 지역에서 인터넷으로의 업로드 링크에 따라 다름)을 단축하므로 중요합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-801">This is important because this efficiency in compression reduces the upload time (which varies anyway depending on the upload link to the internet from the on-premises facility and the Azure deployment region targeted).</span></span> <span data-ttu-id="36d1a-802">따라서 유럽 위치에서 미국의 Azure 데이터 센터로 VM 또는 VHD를 업로드하는 것은 같은 VM/VHD를 유럽의 Azure 데이터 센터로 업로드하는 것보다 더 오래 걸린다고 가정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-802">It is a fair assumption that uploading a VM or VHD from European location to the U.S.-based Azure data centers will take longer than uploading the same VMs/VHDs to the European Azure data centers.</span></span>

#### <span data-ttu-id="36d1a-803"><a name="a43e40e6-1acc-4633-9816-8f095d5a7b6a"></a>온-프레미스에서 Azure로 VHD 업로드</span><span class="sxs-lookup"><span data-stu-id="36d1a-803"><a name="a43e40e6-1acc-4633-9816-8f095d5a7b6a"></a>Uploading a VHD from on-premises to Azure</span></span>
<span data-ttu-id="36d1a-804">온-프레미스 네트워크에서 기존 VM 또는 VHD를 업로드하려면 이러한 VM 또는 VHD가 이 문서의 [일반화되지 않은 디스크를 사용하여 온-프레미스에서 Azure로 VM 이동 준비][planning-guide-5.2.1] 장에서 나열한 요구 사항을 충족해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-804">To upload an existing VM or VHD from the on-premises network such a VM or VHD needs to meet the requirements as listed in chapter [Preparation for moving a VM from on-premises to Azure with a non-generalized disk][planning-guide-5.2.1] of this document.</span></span>

<span data-ttu-id="36d1a-805">이러한 VM은 일반화할 필요가 없으며 온-프레미스 쪽에서 종료된 이후의 상태 및 형태 그대로 업로드할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-805">Such a VM does NOT need to be generalized and can be uploaded in the state and shape it has after shutdown on the on-premises side.</span></span> <span data-ttu-id="36d1a-806">운영 체제에 포함하지 않는 추가 VHD도 마찬가지입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-806">The same is true for additional VHDs which don’t contain any operating system.</span></span>

##### <a name="uploading-a-vhd-and-making-it-an-azure-disk"></a><span data-ttu-id="36d1a-807">VHD를 업로드한 후 Azure 디스크로 만들기</span><span class="sxs-lookup"><span data-stu-id="36d1a-807">Uploading a VHD and making it an Azure Disk</span></span>
<span data-ttu-id="36d1a-808">이러한 경우 OS를 포함하거나 포함하지 않는 VHD를 업로드하려고 하며 VM을 데이터 디스크로 탑재하거나 OS 디스크로 사용할 것입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-808">In this case we want to upload a VHD, either with or without an OS in it, and mount it to a VM as a data disk or use it as OS disk.</span></span> <span data-ttu-id="36d1a-809">이 작업은 다중 단계로 진행됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-809">This is a multi-step process</span></span>

<span data-ttu-id="36d1a-810">**PowerShell**</span><span class="sxs-lookup"><span data-stu-id="36d1a-810">**Powershell**</span></span>

* <span data-ttu-id="36d1a-811">*Login-AzureRmAccount*를 사용하여 구독에 로그인</span><span class="sxs-lookup"><span data-stu-id="36d1a-811">Log in to your subscription with *Login-AzureRmAccount*</span></span>
* <span data-ttu-id="36d1a-812">*Set-AzureRmContext* 및 SubscriptionId 또는 SubscriptionName 매개 변수를 사용하여 컨텍스트의 구독 설정 - <https://docs.microsoft.com/powershell/module/azurerm.profile/set-azurermcontext> 참조</span><span class="sxs-lookup"><span data-stu-id="36d1a-812">Set the subscription of your context with *Set-AzureRmContext* and parameter SubscriptionId or SubscriptionName - see <https://docs.microsoft.com/powershell/module/azurerm.profile/set-azurermcontext></span></span>
* <span data-ttu-id="36d1a-813">*Add-AzureRmVhd*를 사용하여 Azure Storage 계정에 VHD 업로드 - <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvhd></span><span class="sxs-lookup"><span data-stu-id="36d1a-813">Upload the VHD with *Add-AzureRmVhd* to an Azure Storage Account - see <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvhd></span></span>
* <span data-ttu-id="36d1a-814">(선택 사항) *New-AzureRmDisk*를 사용하여 VHD에서 관리 디스크 만들기 - <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermdisk> 참조</span><span class="sxs-lookup"><span data-stu-id="36d1a-814">(Optional) Create a Managed Disk from the VHD with *New-AzureRmDisk*  - see <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermdisk></span></span>
* <span data-ttu-id="36d1a-815">*Set-AzureRmVMOSDisk*를 사용하여 새 VM 구성의 OS 디스크를 VHD 또는 관리 디스크로 설정 - <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmosdisk> 참조</span><span class="sxs-lookup"><span data-stu-id="36d1a-815">Set the OS disk of a new VM config to the VHD or Managed Disk with *Set-AzureRmVMOSDisk* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmosdisk></span></span>
* <span data-ttu-id="36d1a-816">*New-AzureRmVM*을 사용하여 VM 구성에서 새 VM 만들기 - <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermvm> 참조</span><span class="sxs-lookup"><span data-stu-id="36d1a-816">Create a new VM from the VM config with *New-AzureRmVM* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermvm></span></span>
* <span data-ttu-id="36d1a-817">*Add-AzureRmVMDataDisk*를 사용하여 새 VM에 데이터 디스크 추가 - <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvmdatadisk> 참조</span><span class="sxs-lookup"><span data-stu-id="36d1a-817">Add a data disk to a new VM with *Add-AzureRmVMDataDisk* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvmdatadisk></span></span>

<span data-ttu-id="36d1a-818">**Azure CLI 2.0**</span><span class="sxs-lookup"><span data-stu-id="36d1a-818">**Azure CLI 2.0**</span></span>

* <span data-ttu-id="36d1a-819">*az login*을 사용하여 구독에 로그인</span><span class="sxs-lookup"><span data-stu-id="36d1a-819">Log in to your subscription with *az login*</span></span>
* <span data-ttu-id="36d1a-820">*az account set --subscription `<subscription name or id`>*를 사용하여 구독 선택</span><span class="sxs-lookup"><span data-stu-id="36d1a-820">Select your subscription with *az account set --subscription `<subscription name or id`>*</span></span>
* <span data-ttu-id="36d1a-821">*az storage blob upload*를 사용하여 VHD를 업로드 - [Azure Storage에서 Azure CLI 사용][storage-azure-cli] 참조</span><span class="sxs-lookup"><span data-stu-id="36d1a-821">Upload the VHD with *az storage blob upload* - see [Using the Azure CLI with Azure Storage][storage-azure-cli]</span></span>
* <span data-ttu-id="36d1a-822">(선택 사항) *az disk create*를 사용하여 VHD에서 관리 디스크 만들기 - https://docs.microsoft.com/cli/azure/disk#create 참조</span><span class="sxs-lookup"><span data-stu-id="36d1a-822">(Optional) Create a Managed Disk from the VHD with *az disk create* - see https://docs.microsoft.com/cli/azure/disk#create</span></span>
* <span data-ttu-id="36d1a-823">*az vm create* 및 매개 변수 *--attach-os-disk*를 사용하여 업로드한 VHD 또는 관리 디스크를 OS 디스크로 지정해 새 VM 만들기</span><span class="sxs-lookup"><span data-stu-id="36d1a-823">Create a new VM specifying the uploaded VHD or Managed Disk as OS disk with *az vm create* and parameter *--attach-os-disk*</span></span>
* <span data-ttu-id="36d1a-824">*az vm disk attach* 및 매개 변수 *--new*를 사용하여 새 VM에 데이터 디스크 추가</span><span class="sxs-lookup"><span data-stu-id="36d1a-824">Add a data disk to a new VM with *az vm disk attach* and parameter *--new*</span></span>

<span data-ttu-id="36d1a-825">**템플릿**</span><span class="sxs-lookup"><span data-stu-id="36d1a-825">**Template**</span></span>

* <span data-ttu-id="36d1a-826">Powershell 또는 Azure CLI를 사용하여 VHD 업로드</span><span class="sxs-lookup"><span data-stu-id="36d1a-826">Upload the VHD with Powershell or Azure CLI</span></span>
* <span data-ttu-id="36d1a-827">(선택 사항) PowerShell, Azure CLI 또는 Azure Portal을 사용하여 VHD에서 관리 디스크 만들기</span><span class="sxs-lookup"><span data-stu-id="36d1a-827">(Optional) Create a Managed Disk from the VHD with Powershell, Azure CLI or the Azure portal</span></span>
* <span data-ttu-id="36d1a-828">[이 예제 JSON 템플릿](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/201-vm-specialized-vhd/azuredeploy.json)에 표시된 대로 VHD를 참조하는 JSON 템플릿을 사용하거나, [이 예제 JSON 템플릿](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/sap-2-tier-user-disk-md/azuredeploy.json)에 표시된 대로 관리 디스크를 사용하여 VM 배포</span><span class="sxs-lookup"><span data-stu-id="36d1a-828">Deploy the VM with a JSON template referencing the VHD as shown in [this example JSON template](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/201-vm-specialized-vhd/azuredeploy.json) or using Managed Disks as shown in [this example JSON template](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/sap-2-tier-user-disk-md/azuredeploy.json).</span></span>

#### <a name="deployment-of-a-vm-image"></a><span data-ttu-id="36d1a-829">VM 이미지 배포</span><span class="sxs-lookup"><span data-stu-id="36d1a-829">Deployment of a VM Image</span></span>
<span data-ttu-id="36d1a-830">Azure VM 이미지로 사용하기 위해 온-프레미스 네트워크에서 기존 VM 또는 VHD를 업로드하려면 이러한 VM 또는 VHD가 이 문서의 [SAP용 고객별 이미지를 사용하여 VM 배포 준비][planning-guide-5.2.2] 장에서 나열한 요구 사항을 충족해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-830">To upload an existing VM or VHD from the on-premises network in order to use it as an Azure VM image such a VM or VHD need to meet the requirements listed in chapter [Preparation for deploying a VM with a customer-specific image for SAP][planning-guide-5.2.2] of this document.</span></span>

* <span data-ttu-id="36d1a-831">Windows의 *sysprep* 또는 Linux의 *waagent -deprovision*을 사용하여 VM 일반화 - [Sysprep 기술 참조](https://technet.microsoft.com/library/cc766049.aspx)(Windows) 또는 [Linux 가상 컴퓨터를 캡처하여 Resource Manager 템플릿으로 사용하는 방법][capture-image-linux-step-2-create-vm-image] 참조</span><span class="sxs-lookup"><span data-stu-id="36d1a-831">Use *sysprep* on Windows or *waagent -deprovision* on Linux to generalize your VM - see [Sysprep Technical Reference](https://technet.microsoft.com/library/cc766049.aspx) for Windows or [How to capture a Linux virtual machine to use as a Resource Manager template][capture-image-linux-step-2-create-vm-image] for Linux</span></span>
* <span data-ttu-id="36d1a-832">*Login-AzureRmAccount*를 사용하여 구독에 로그인</span><span class="sxs-lookup"><span data-stu-id="36d1a-832">Log in to your subscription with *Login-AzureRmAccount*</span></span>
* <span data-ttu-id="36d1a-833">*Set-AzureRmContext* 및 SubscriptionId 또는 SubscriptionName 매개 변수를 사용하여 컨텍스트의 구독 설정 - <https://docs.microsoft.com/powershell/module/azurerm.profile/set-azurermcontext> 참조</span><span class="sxs-lookup"><span data-stu-id="36d1a-833">Set the subscription of your context with *Set-AzureRmContext* and parameter SubscriptionId or SubscriptionName - see <https://docs.microsoft.com/powershell/module/azurerm.profile/set-azurermcontext></span></span>
* <span data-ttu-id="36d1a-834">*Add-AzureRmVhd*를 사용하여 Azure Storage 계정에 VHD 업로드 - <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvhd></span><span class="sxs-lookup"><span data-stu-id="36d1a-834">Upload the VHD with *Add-AzureRmVhd* to an Azure Storage Account - see <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvhd></span></span>
* <span data-ttu-id="36d1a-835">(선택 사항) *New-AzureRmImage*를 사용하여 VHD에서 관리 디스크 이미지 만들기 - <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermimage> 참조</span><span class="sxs-lookup"><span data-stu-id="36d1a-835">(Optional) Create a Managed Disk Image from the VHD with *New-AzureRmImage*  - see <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermimage></span></span>
* <span data-ttu-id="36d1a-836">새 VM 구성의 OS 디스크를</span><span class="sxs-lookup"><span data-stu-id="36d1a-836">Set the OS disk of a new VM config to the</span></span>
  * <span data-ttu-id="36d1a-837">VHD로 설정(*Set-AzureRmVMOSDisk -SourceImageUri -CreateOption fromImage* 사용) - <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmosdisk> 참조</span><span class="sxs-lookup"><span data-stu-id="36d1a-837">VHD with *Set-AzureRmVMOSDisk -SourceImageUri -CreateOption fromImage* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmosdisk></span></span>
  * <span data-ttu-id="36d1a-838">관리 디스크 이미지 *Set-AzureRmVMSourceImage* - <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmsourceimage> 참조</span><span class="sxs-lookup"><span data-stu-id="36d1a-838">Managed Disk Image *Set-AzureRmVMSourceImage* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmsourceimage></span></span>
* <span data-ttu-id="36d1a-839">*New-AzureRmVM*을 사용하여 VM 구성에서 새 VM 만들기 - <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermvm> 참조</span><span class="sxs-lookup"><span data-stu-id="36d1a-839">Create a new VM from the VM config with *New-AzureRmVM* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermvm></span></span>

<span data-ttu-id="36d1a-840">**Azure CLI 2.0**</span><span class="sxs-lookup"><span data-stu-id="36d1a-840">**Azure CLI 2.0**</span></span>

* <span data-ttu-id="36d1a-841">Windows의 *sysprep* 또는 Linux의 *waagent -deprovision*을 사용하여 VM 일반화 - [Sysprep 기술 참조](https://technet.microsoft.com/library/cc766049.aspx)(Windows) 또는 [Linux 가상 컴퓨터를 캡처하여 Resource Manager 템플릿으로 사용하는 방법][capture-image-linux-step-2-create-vm-image] 참조</span><span class="sxs-lookup"><span data-stu-id="36d1a-841">Use *sysprep* on Windows or *waagent -deprovision* on Linux to generalize your VM - see [Sysprep Technical Reference](https://technet.microsoft.com/library/cc766049.aspx) for Windows or [How to capture a Linux virtual machine to use as a Resource Manager template][capture-image-linux-step-2-create-vm-image] for Linux</span></span>
* <span data-ttu-id="36d1a-842">*az login*을 사용하여 구독에 로그인</span><span class="sxs-lookup"><span data-stu-id="36d1a-842">Log in to your subscription with *az login*</span></span>
* <span data-ttu-id="36d1a-843">*az account set --subscription `<subscription name or id`>*를 사용하여 구독 선택</span><span class="sxs-lookup"><span data-stu-id="36d1a-843">Select your subscription with *az account set --subscription `<subscription name or id`>*</span></span>
* <span data-ttu-id="36d1a-844">*az storage blob upload*를 사용하여 VHD를 업로드 - [Azure Storage에서 Azure CLI 사용][storage-azure-cli] 참조</span><span class="sxs-lookup"><span data-stu-id="36d1a-844">Upload the VHD with *az storage blob upload* - see [Using the Azure CLI with Azure Storage][storage-azure-cli]</span></span>
* <span data-ttu-id="36d1a-845">(선택 사항) *az image create*를 사용하여 VHD에서 관리 디스크 이미지 만들기 - https://docs.microsoft.com/cli/azure/image#create</span><span class="sxs-lookup"><span data-stu-id="36d1a-845">(Optional) Create a Managed Disk Image from the VHD with *az image create* - see https://docs.microsoft.com/cli/azure/image#create</span></span>
* <span data-ttu-id="36d1a-846">*az vm create* 및 매개 변수 *--image*를 사용하여 업로드한 VHD 또는 관리 디스크 이미지를 OS 디스크로 지정해 새 VM 만들기</span><span class="sxs-lookup"><span data-stu-id="36d1a-846">Create a new VM specifying the uploaded VHD or Managed Disk Image as OS disk with *az vm create* and parameter *--image*</span></span>

<span data-ttu-id="36d1a-847">**템플릿**</span><span class="sxs-lookup"><span data-stu-id="36d1a-847">**Template**</span></span>

* <span data-ttu-id="36d1a-848">Windows의 *sysprep* 또는 Linux의 *waagent -deprovision*을 사용하여 VM 일반화 - [Sysprep 기술 참조](https://technet.microsoft.com/library/cc766049.aspx)(Windows) 또는 [Linux 가상 컴퓨터를 캡처하여 Resource Manager 템플릿으로 사용하는 방법][capture-image-linux-step-2-create-vm-image] 참조</span><span class="sxs-lookup"><span data-stu-id="36d1a-848">Use *sysprep* on Windows or *waagent -deprovision* on Linux to generalize your VM - see [Sysprep Technical Reference](https://technet.microsoft.com/library/cc766049.aspx) for Windows or [How to capture a Linux virtual machine to use as a Resource Manager template][capture-image-linux-step-2-create-vm-image] for Linux</span></span>
* <span data-ttu-id="36d1a-849">Powershell 또는 Azure CLI를 사용하여 VHD 업로드</span><span class="sxs-lookup"><span data-stu-id="36d1a-849">Upload the VHD with Powershell or Azure CLI</span></span>
* <span data-ttu-id="36d1a-850">(선택 사항) PowerShell, Azure CLI 또는 Azure Portal을 사용하여 VHD에서 관리 디스크 이미지 만들기</span><span class="sxs-lookup"><span data-stu-id="36d1a-850">(Optional) Create a Managed Disk Image from the VHD with Powershell, Azure CLI or the Azure portal</span></span>
* <span data-ttu-id="36d1a-851">[이 예제 JSON 템플릿](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/sap-2-tier-user-image/azuredeploy.json)에 표시된 대로 이미지 VHD를 참조하는 JSON 템플릿을 사용하거나, [이 예제 JSON 템플릿](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/101-vm-from-user-image/azuredeploy.json)에 표시된 대로 관리 디스크 이미지를 사용하여 VM 배포</span><span class="sxs-lookup"><span data-stu-id="36d1a-851">Deploy the VM with a JSON template referencing the image VHD as shown in [this example JSON template](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/sap-2-tier-user-image/azuredeploy.json) or using the Managed Disk Image as shown in [this example JSON template](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/101-vm-from-user-image/azuredeploy.json).</span></span>

#### <a name="downloading-vhds-or-managed-disks-to-on-premises"></a><span data-ttu-id="36d1a-852">온-프레미스에 VHD 또는 관리 디스크 다운로드</span><span class="sxs-lookup"><span data-stu-id="36d1a-852">Downloading VHDs or Managed Disks to on-premises</span></span>
<span data-ttu-id="36d1a-853">Azure Infrastructure as a Services는 VHD 및 SAP 시스템을 업로드만 할 수 있는 단방향 경로가 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-853">Azure Infrastructure as a Service is not a one-way street of only being able to upload VHDs and SAP systems.</span></span> <span data-ttu-id="36d1a-854">Azure에서 온-프레미스 환경으로도 SAP 시스템을 다시 이동할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-854">You can move SAP systems from Azure back into the on-premises world as well.</span></span>

<span data-ttu-id="36d1a-855">다운로드하는 동안 VHD 또는 관리 디스크는 활성 상태일 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-855">During the time of the download the VHDs or Managed Disks can’t be active.</span></span> <span data-ttu-id="36d1a-856">VM에 탑재된 디스크를 다운로드하는 경우에도 VM을 종료하고 할당을 취소해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-856">Even when downloading disks which are mounted to VMs, the VM needs to be shut down and deallocated.</span></span> <span data-ttu-id="36d1a-857">온-프레미스에서 새 시스템을 설정하는 데 사용해야 하는 데이터베이스 콘텐츠만 다운로드하려고 하며 다운로드 도중 및 새 시스템을 설정하는 동안 Azure의 시스템이 계속 작동되게 하려면 디스크에 압축된 데이터베이스 백업을 수행하여 OS 기반 VM은 다운로드하지 않고 해당 디스크만 다운로드함으로써 가동 중지 시간이 길어지지 않도록 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-857">If you only want to download the database content which then should be used to set up a new system on-premises and if it is acceptable that during the time of the download and the setup of the new system that the system in Azure can still be operational, you could avoid a long downtime by performing a compressed database backup into a disk and just download that disk instead of also downloading the OS base VM.</span></span>

#### <a name="powershell"></a><span data-ttu-id="36d1a-858">PowerShell</span><span class="sxs-lookup"><span data-stu-id="36d1a-858">Powershell</span></span>

  * <span data-ttu-id="36d1a-859">관리 디스크 다운로드</span><span class="sxs-lookup"><span data-stu-id="36d1a-859">Downloading a Managed Disk</span></span>  
  <span data-ttu-id="36d1a-860">먼저 관리 디스크의 기본 Blob에 액세스해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-860">You first need to get access to the underlying blob of the Managed Disk.</span></span> <span data-ttu-id="36d1a-861">그런 다음 기본 Blob를 새 Storage 계정에 복사하고 이 Storage 계정에서 Blob를 다운로드할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-861">Then you can copy the underlying blob to a new storage account and download the blob from this storage account.</span></span>

  ```powershell
  $access = Grant-AzureRmDiskAccess -ResourceGroupName <resource group> -DiskName <disk name> -Access Read -DurationInSecond 3600
  $key = (Get-AzureRmStorageAccountKey -ResourceGroupName <resource group> -Name <storage account name>)[0].Value
  $destContext = (New-AzureStorageContext -StorageAccountName <storage account name -StorageAccountKey $key)
  Start-AzureStorageBlobCopy -AbsoluteUri $access.AccessSAS -DestContainer <container name> -DestBlob <blob name> -DestContext $destContext
  # Wait for blob copy to finish
  Get-AzureStorageBlobCopyState -Container <container name> -Blob <blob name> -Context $destContext
  Save-AzureRmVhd -SourceUri <blob in new storage account> -LocalFilePath <local file path> -StorageKey $key
  # Wait for download to finish
  Revoke-AzureRmDiskAccess -ResourceGroupName <resource group> -DiskName <disk name>
  ```

  * <span data-ttu-id="36d1a-862">VHD 다운로드</span><span class="sxs-lookup"><span data-stu-id="36d1a-862">Downloading a VHD</span></span>  
  <span data-ttu-id="36d1a-863">SAP 시스템이 중지되고 VM이 종료되면 온-프레미스 대상에 대해 PowerShell cmdlet Save-AzureRmVhd를 사용하여 VHD 디스크를 온-프레미스 환경으로 다시 다운로드할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-863">Once the SAP system is stopped and the VM is shut down, you can use the PowerShell cmdlet Save-AzureRmVhd on the on-premises target to download the VHD disks back to the on-premises world.</span></span> <span data-ttu-id="36d1a-864">이를 위해 Azure Portal의 'Storage 섹션'에서 찾을 수 있는 VHD의 URL이 있어야 하며(Storage 계정 및 VHD가 만들어진 저장소 컨테이너로 이동해야 함) VHD를 복사할 위치를 알아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-864">In order to do that, you need the URL of the VHD which you can find in the ‘Storage Section’ of the Azure portal (need to navigate to the Storage Account and the storage container where the VHD was created) and you need to know where the VHD should be copied to.</span></span>

  <span data-ttu-id="36d1a-865">그런 후 매개 변수 SourceUri를 다운로드할 VHD의 URL로 정의하고 LocalFilePath를 VHD의 물리적 위치(해당 이름 포함)로 정의하여 이 명령을 활용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-865">Then you can leverage the command by simply defining the parameter SourceUri as the URL of the VHD to download and the LocalFilePath as the physical location of the VHD (including its name).</span></span> <span data-ttu-id="36d1a-866">명령은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-866">The command could look like:</span></span>

  ```powerhell
  Save-AzureRmVhd -ResourceGroupName <resource group name of storage account> -SourceUri http://<storage account name>.blob.core.windows.net/<container name>/sapidedata.vhd -LocalFilePath E:\Azure_downloads\sapidesdata.vhd
  ```

  <span data-ttu-id="36d1a-867">Save-AzureRmVhd cmdlet에 대한 자세한 내용은 <https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvhd>를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-867">For more details of the Save-AzureRmVhd cmdlet, please check here <https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvhd>.</span></span>

#### <a name="cli-20"></a><span data-ttu-id="36d1a-868">CLI 2.0</span><span class="sxs-lookup"><span data-stu-id="36d1a-868">CLI 2.0</span></span>
  * <span data-ttu-id="36d1a-869">관리 디스크 다운로드</span><span class="sxs-lookup"><span data-stu-id="36d1a-869">Downloading a Managed Disk</span></span>  
  <span data-ttu-id="36d1a-870">먼저 관리 디스크의 기본 Blob에 액세스해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-870">You first need to get access to the underlying blob of the Managed Disk.</span></span> <span data-ttu-id="36d1a-871">그런 다음 기본 Blob를 새 Storage 계정에 복사하고 이 Storage 계정에서 Blob를 다운로드할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-871">Then you can copy the underlying blob to a new storage account and download the blob from this storage account.</span></span>
  ```
  az disk grant-access --ids "/subscriptions/<subscription id>/resourceGroups/<resource group>/providers/Microsoft.Compute/disks/<disk name>" --duration-in-seconds 3600
  az storage blob download --sas-token "<sas token>" --account-name <account name> --container-name <container name> --name <blob name> --file <local file>
  az disk revoke-access --ids "/subscriptions/<subscription id>/resourceGroups/<resource group>/providers/Microsoft.Compute/disks/<disk name>"
  ```

  * <span data-ttu-id="36d1a-872">VHD 다운로드</span><span class="sxs-lookup"><span data-stu-id="36d1a-872">Downloading a VHD</span></span>   
  <span data-ttu-id="36d1a-873">SAP 시스템이 중지되고 VM이 종료되면 온-프레미스 대상에 대해 Azure CLI 명령 _azure storage blob download_를 사용하여 VHD 디스크를 온-프레미스 환경으로 다시 다운로드할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-873">Once the SAP system is stopped and the VM is shut down, you can use the Azure CLI command _azure storage blob download_ on the on-premises target to download the VHD disks back to the on-premises world.</span></span> <span data-ttu-id="36d1a-874">이를 위해 Azure Portal의 'Storage 섹션'에서 찾을 수 있는 VHD의 이름 및 컨테이너가 있어야 하며(Storage 계정 및 VHD가 만들어진 저장소 컨테이너로 이동해야 함) VHD를 복사할 위치를 알아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-874">In order to do that, you need the name and the container of the VHD which you can find in the ‘Storage Section’ of the Azure portal (need to navigate to the Storage Account and the storage container where the VHD was created) and you need to know where the VHD should be copied to.</span></span>

  <span data-ttu-id="36d1a-875">그런 후 다운로드할 VHD의 blob 및 container 매개 변수를 VHD의 URL로 정의하고 destination을 VHD의 물리적 대상 위치(해당 이름 포함)로 정의하여 이 명령을 활용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-875">Then you can leverage the command by simply defining the parameters blob and container of the VHD to download and the destination as the physical target location of the VHD (including its name).</span></span> <span data-ttu-id="36d1a-876">명령은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-876">The command could look like:</span></span>

  ```
  az storage blob download --name <name of the VHD to download> --container-name <container of the VHD to download> --account-name <storage account name of the VHD to download> --account-key <storage account key> --file <destination of the VHD to download>
  ```

### <a name="transferring-vms-and-disks-within-azure"></a><span data-ttu-id="36d1a-877">Azure 내에서 VM 및 디스크 전송</span><span class="sxs-lookup"><span data-stu-id="36d1a-877">Transferring VMs and disks within Azure</span></span>
#### <a name="copying-sap-systems-within-azure"></a><span data-ttu-id="36d1a-878">Azure 내에서 SAP 시스템 복사</span><span class="sxs-lookup"><span data-stu-id="36d1a-878">Copying SAP systems within Azure</span></span>
<span data-ttu-id="36d1a-879">SAP 시스템 또는 SAP 응용 프로그램 계층을 지원하는 전용 DBMS 서버까지도 SAP 데이터베이스의 바이너리 또는 데이터 및 로그 파일과 함께 OS를 포함하는 여러 디스크로 구성될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-879">An SAP system or even a dedicated DBMS server supporting an SAP application layer will likely consist of several disks which contain either the OS with the binaries or the data and log file(s) of the SAP database.</span></span> <span data-ttu-id="36d1a-880">디스크를 복사하는 Azure의 기능과 디스크를 로컬 디스크에 저장하는 Azure의 기능 모두 여러 디스크의 스냅숏을 동기식으로 만드는 동기화 메커니즘을 사용하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-880">Neither the Azure functionality of copying disks nor the Azure functionality of saving disks to a local disk has a synchronization mechanism, which would snapshot multiple disks synchronously.</span></span> <span data-ttu-id="36d1a-881">따라서 복사 또는 저장된 디스크의 상태는 같은 VM에 탑재되는 경우에도 다를 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-881">Therefore, the state of the copied or saved disks even if those are mounted against the same VM would be different.</span></span> <span data-ttu-id="36d1a-882">즉, 여러 다른 디스크에 다른 데이터 및 로그 파일이 포함된 구체적인 경우에도 데이터베이스는 일관되지 않게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-882">This means that in the concrete case of having different data and logfile(s) contained in the different disks, the database in the end would be inconsistent.</span></span>

<span data-ttu-id="36d1a-883">**결론: SAP 시스템 구성의 일부로 디스크를 복사하거나 저장하려면 SAP 시스템을 중지하고 배포된 VM도 종료해야 합니다. 그런 후에만 디스크 집합을 복사 또는 다운로드하여 Azure 또는 온-프레미스에서 SAP 시스템의 복사본을 만들 수 있습니다.**</span><span class="sxs-lookup"><span data-stu-id="36d1a-883">**Conclusion: In order to copy or save disks which are part of an SAP system configuration you need to stop the SAP system and also need to shut down the deployed VM. Only then you can copy or download the set of disks to either create a copy of the SAP system in Azure or on-premises.**</span></span>

<span data-ttu-id="36d1a-884">데이터 디스크는 Azure Storage 계정에 VHD 파일로 저장할 수 있으며 가상 컴퓨터에 직접 연결되거나 이미지로 사용될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-884">Data disks can be stored as VHD files in an Azure Storage Account and can be directly attached to a virtual machine or be used as an image.</span></span> <span data-ttu-id="36d1a-885">이 경우 VHD는 다른 위치로 복사된 후에 가상 컴퓨터에 연결됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-885">In this case, the VHD is copied to another location before being attached to the virtual machine.</span></span> <span data-ttu-id="36d1a-886">Azure에서 VHD 파일의 전체 이름은 Azure 내에서 고유해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-886">The full name of the VHD file in Azure must be unique within Azure.</span></span> <span data-ttu-id="36d1a-887">이미 앞서 언급한 것처럼 이 이름은 다음과 같은 3부분으로 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-887">As mentioned earlier already, the name is kind of a three-part name that looks like:</span></span>

    http(s)://<storage account name>.blob.core.windows.net/<container name>/<vhd name>

<span data-ttu-id="36d1a-888">데이터 디스크를 관리 디스크로 사용할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-888">Data disks can also be Managed Disks.</span></span> <span data-ttu-id="36d1a-889">이 경우에는 관리 디스크를 사용하여 새 관리 디스크를 만든 후 가상 컴퓨터에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-889">In this case, the Managed Disk is used to create a new Managed Disk before being attached to the virtual machine.</span></span> <span data-ttu-id="36d1a-890">관리 디스크의 이름은 리소스 그룹 내에서 고유해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-890">The name of the Managed Disk must be unique within a resource group.</span></span>

##### <a name="powershell"></a><span data-ttu-id="36d1a-891">PowerShell</span><span class="sxs-lookup"><span data-stu-id="36d1a-891">Powershell</span></span>
<span data-ttu-id="36d1a-892">[이 문서][storage-powershell-guide-full-copy-vhd]에서 보여 주듯이 Azure PowerShell cmdlet을 사용하여 VHD를 복사할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-892">You can use Azure PowerShell cmdlets to copy a VHD as shown in [this article][storage-powershell-guide-full-copy-vhd].</span></span> <span data-ttu-id="36d1a-893">새 관리 디스크를 만들려면 다음 예제에 나와 있는 것처럼 New-AzureRmDiskConfig 및 New-AzureRmDisk를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-893">To create a new Managed Disk, use New-AzureRmDiskConfig and New-AzureRmDisk as shown in the following example.</span></span>

```powershell
$config = New-AzureRmDiskConfig -CreateOption Copy -SourceUri "/subscriptions/<subscription id>/resourceGroups/<resource group>/providers/Microsoft.Compute/disks/<disk name>" -Location <location>
New-AzureRmDisk -ResourceGroupName <resource group name> -DiskName <disk name> -Disk $config
```

##### <a name="cli-20"></a><span data-ttu-id="36d1a-894">CLI 2.0</span><span class="sxs-lookup"><span data-stu-id="36d1a-894">CLI 2.0</span></span>
<span data-ttu-id="36d1a-895">[이 문서][storage-azure-cli-copy-blobs]에서 보여 주듯이 Azure CLI를 사용하여 VHD를 복사할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-895">You can use Azure CLI to copy a VHD as shown in [this article][storage-azure-cli-copy-blobs].</span></span> <span data-ttu-id="36d1a-896">새 관리 디스크를 만들려면 다음 예제에 나와 있는 것처럼 *az disk create*를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-896">To create a new Managed Disk, use *az disk create* as shown in the following example.</span></span>

```
az disk create --source "/subscriptions/<subscription id>/resourceGroups/<resource group>/providers/Microsoft.Compute/disks/<disk name>" --name <disk name> --resource-group <resource group name> --location <location>
```

##### <a name="azure-storage-tools"></a><span data-ttu-id="36d1a-897">Azure 저장소 도구</span><span class="sxs-lookup"><span data-stu-id="36d1a-897">Azure Storage tools</span></span>
* <span data-ttu-id="36d1a-898"><http://storageexplorer.com/></span><span class="sxs-lookup"><span data-stu-id="36d1a-898"><http://storageexplorer.com/></span></span>

<span data-ttu-id="36d1a-899">Azure Storage 탐색기의 전문가 버전은 아래 페이지에서 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-899">Professional editions of Azure Storage Explorers can be found here:</span></span>

* <span data-ttu-id="36d1a-900"><http://www.cerebrata.com/></span><span class="sxs-lookup"><span data-stu-id="36d1a-900"><http://www.cerebrata.com/></span></span>
* <span data-ttu-id="36d1a-901"><http://clumsyleaf.com/products/cloudxplorer></span><span class="sxs-lookup"><span data-stu-id="36d1a-901"><http://clumsyleaf.com/products/cloudxplorer></span></span>

<span data-ttu-id="36d1a-902">저장소 계정 내에서 VHD 자체를 복사하는 작업은 몇 초면 끝나는 프로세스입니다(지연 복사 및 기록 중 복사를 사용하여 스냅숏을 만드는 SAN 하드웨어와 유사).</span><span class="sxs-lookup"><span data-stu-id="36d1a-902">The copy of a VHD itself within a storage account is a process which takes only a few seconds (similar to SAN hardware creating snapshots with lazy copy and copy on write).</span></span> <span data-ttu-id="36d1a-903">VHD 파일의 복사본을 만든 후에는 가상 컴퓨터에 연결하거나 VHD 복사본을 가상 컴퓨터에는 연결하기 위한 이미지로 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-903">After you have a copy of the VHD file you can attach it to a virtual machine or use it as an image to attach copies of the VHD to virtual machines.</span></span>

##### <a name="powershell"></a><span data-ttu-id="36d1a-904">PowerShell</span><span class="sxs-lookup"><span data-stu-id="36d1a-904">Powershell</span></span>
```powershell
# attach a vhd to a vm
$vm = Get-AzureRmVM -ResourceGroupName <resource group name> -Name <vm name>
$vm = Add-AzureRmVMDataDisk -VM $vm -Name newdatadisk -VhdUri <path to vhd> -Caching <caching option> -DiskSizeInGB $null -Lun <lun, for example 0> -CreateOption attach
$vm | Update-AzureRmVM

# attach a managed disk to a vm
$vm = Get-AzureRmVM -ResourceGroupName <resource group name> -Name <vm name>
$vm = Add-AzureRmVMDataDisk -VM $vm -Name newdatadisk -ManagedDiskId <managed disk id> -Caching <caching option> -DiskSizeInGB $null -Lun <lun, for example 0> -CreateOption attach
$vm | Update-AzureRmVM

# attach a copy of the vhd to a vm
$vm = Get-AzureRmVM -ResourceGroupName <resource group name> -Name <vm name>
$vm = Add-AzureRmVMDataDisk -VM $vm -Name <disk name> -VhdUri <new path of vhd> -SourceImageUri <path to image vhd> -Caching <caching option> -DiskSizeInGB $null -Lun <lun, for example 0> -CreateOption fromImage
$vm | Update-AzureRmVM

# attach a copy of the managed disk to a vm
$vm = Get-AzureRmVM -ResourceGroupName <resource group name> -Name <vm name>
$diskConfig = New-AzureRmDiskConfig -Location $vm.Location -CreateOption Copy -SourceUri <source managed disk id>
$disk = New-AzureRmDisk -DiskName <disk name> -Disk $diskConfig -ResourceGroupName <resource group name>
$vm = Add-AzureRmVMDataDisk -VM $vm -Caching <caching option> -Lun <lun, for example 0> -CreateOption attach -ManagedDiskId $disk.Id
$vm | Update-AzureRmVM
```
##### <a name="cli-20"></a><span data-ttu-id="36d1a-905">CLI 2.0</span><span class="sxs-lookup"><span data-stu-id="36d1a-905">CLI 2.0</span></span>
```

# attach a vhd to a vm
az vm unmanaged-disk attach --resource-group <resource group name> --vm-name <vm name> --vhd-uri <path to vhd>

# attach a managed disk to a vm
az vm disk attach --resource-group <resource group name> --vm-name <vm name> --disk <managed disk id>

# attach a copy of the vhd to a vm
# this scenario is currently not possible with Azure CLI. A workaround is to manually copy the vhd to the destination.

# attach a copy of a managed disk to a vm
az disk create --name <new disk name> --resource-group <resource group name> --location <location of target virtual machine> --source <source managed disk id>
az vm disk attach --disk <new disk name or managed disk id> --resource-group <resource group name> --vm-name <vm name> --caching <caching option> --lun <lun, for example 0>
```

#### <span data-ttu-id="36d1a-906"><a name="9789b076-2011-4afa-b2fe-b07a8aba58a1"></a>Azure 저장소 계정 간 디스크 복사</span><span class="sxs-lookup"><span data-stu-id="36d1a-906"><a name="9789b076-2011-4afa-b2fe-b07a8aba58a1"></a>Copying disks between Azure Storage Accounts</span></span>
<span data-ttu-id="36d1a-907">Azure Portal에서는 이 작업을 수행할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-907">This task cannot be performed on the Azure portal.</span></span> <span data-ttu-id="36d1a-908">Azure PowerShell cmdlet, Azure CLI 또는 타사 저장소 브라우저를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-908">You can use Azure PowerShell cmdlets, Azure CLI or a third-party storage browser.</span></span> <span data-ttu-id="36d1a-909">저장소 계정 간 및 Azure 구독 내에서 지역 간에 Blob을 비동기식으로 복사하는 기능이 있는 PowerShell cmdlet 또는 CLI 명령으로 Blob을 만들고 관리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-909">The PowerShell cmdlets or CLI commands can create and manage blobs, which include the ability to asynchronously copy blobs across Storage Accounts and across regions within the Azure subscription.</span></span>

##### <a name="powershell"></a><span data-ttu-id="36d1a-910">PowerShell</span><span class="sxs-lookup"><span data-stu-id="36d1a-910">Powershell</span></span>
<span data-ttu-id="36d1a-911">구독 간에 VHD를 복사할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-911">You can also copy VHDs between subscriptions.</span></span> <span data-ttu-id="36d1a-912">자세한 내용은 [이 문서][storage-powershell-guide-full-copy-vhd]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-912">For more information read [this article][storage-powershell-guide-full-copy-vhd].</span></span>

<span data-ttu-id="36d1a-913">PS cmdlet 논리의 기본 흐름은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-913">The basic flow of the PS cmdlet logic looks like this:</span></span>

* <span data-ttu-id="36d1a-914">*New-AzureStorageContext*를 사용하여 **원본** Storage 계정의 Storage 계정 컨텍스트 만들기 - <https://msdn.microsoft.com/library/dn806380.aspx> 참조</span><span class="sxs-lookup"><span data-stu-id="36d1a-914">Create a storage account context for the **source** storage account with *New-AzureStorageContext* - see <https://msdn.microsoft.com/library/dn806380.aspx></span></span>
* <span data-ttu-id="36d1a-915">*New-AzureStorageContext*를 사용하여 **대상** Storage 계정의 Storage 계정 컨텍스트 만들기 - <https://msdn.microsoft.com/library/dn806380.aspx> 참조</span><span class="sxs-lookup"><span data-stu-id="36d1a-915">Create a storage account context for the **target** storage account with *New-AzureStorageContext* - see <https://msdn.microsoft.com/library/dn806380.aspx></span></span>
* <span data-ttu-id="36d1a-916">복사 시작</span><span class="sxs-lookup"><span data-stu-id="36d1a-916">Start the copy with</span></span>

```powershell
Start-AzureStorageBlobCopy -SrcBlob <source blob name> -SrcContainer <source container name> -SrcContext <variable containing context of source storage account> -DestBlob <target blob name> -DestContainer <target container name> -DestContext <variable containing context of target storage account>
```

* <span data-ttu-id="36d1a-917">루프의 복사본 상태 확인</span><span class="sxs-lookup"><span data-stu-id="36d1a-917">Check the status of the copy in a loop with</span></span>

```powershell
Get-AzureStorageBlobCopyState -Blob <target blob name> -Container <target container name> -Context <variable containing context of target storage account>
```

* <span data-ttu-id="36d1a-918">위에서 설명한 것처럼 가상 컴퓨터에 새 VHD를 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-918">Attach the new VHD to a virtual machine as described above.</span></span>

<span data-ttu-id="36d1a-919">예제는 [이 문서][storage-powershell-guide-full-copy-vhd]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-919">For examples see [this article][storage-powershell-guide-full-copy-vhd].</span></span>

##### <a name="cli-20"></a><span data-ttu-id="36d1a-920">CLI 2.0</span><span class="sxs-lookup"><span data-stu-id="36d1a-920">CLI 2.0</span></span>
* <span data-ttu-id="36d1a-921">복사 시작</span><span class="sxs-lookup"><span data-stu-id="36d1a-921">Start the copy with</span></span>

```
az storage blob copy start --source-blob <source blob name> --source-container <source container name> --source-account-name <source storage account name> --source-account-key <source storage account key> --destination-container <target container name> --destination-blob <target blob name> --account-name <target storage account name> --account-key <target storage account name>
```

* <span data-ttu-id="36d1a-922">루프의 복사본 상태 확인</span><span class="sxs-lookup"><span data-stu-id="36d1a-922">Check the status if the copy in a loop with</span></span>

```
az storage blob show --name <target blob name> --container <target container name> --account-name <target storage account name> --account-key <target storage account name>
```

* <span data-ttu-id="36d1a-923">위에서 설명한 것처럼 가상 컴퓨터에 새 VHD를 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-923">Attach the new VHD to a virtual machine as described above.</span></span>

<span data-ttu-id="36d1a-924">예제는 [이 문서][storage-azure-cli-copy-blobs]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-924">For examples see [this article][storage-azure-cli-copy-blobs].</span></span>

### <a name="disk-handling"></a><span data-ttu-id="36d1a-925">디스크 처리</span><span class="sxs-lookup"><span data-stu-id="36d1a-925">Disk Handling</span></span>
#### <span data-ttu-id="36d1a-926"><a name="4efec401-91e0-40c0-8e64-f2dceadff646"></a>SAP 배포를 위한 VM/디스크 구조</span><span class="sxs-lookup"><span data-stu-id="36d1a-926"><a name="4efec401-91e0-40c0-8e64-f2dceadff646"></a>VM/disk structure for SAP deployments</span></span>
<span data-ttu-id="36d1a-927">이상적으로 VM 및 관련된 디스크의 구조를 처리하는 작업은 간단해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-927">Ideally the handling of the structure of a VM and the associated disks should be very simple.</span></span> <span data-ttu-id="36d1a-928">온-프레미스 설치에서 고객은 서버 설치를 구성하는 여러 가지 방법을 개발했습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-928">In on-premises installations, customers developed many ways of structuring a server installation.</span></span>

* <span data-ttu-id="36d1a-929">OS와 DBMS 및/또는 SAP의 모든 바이너리가 들어 있는 하나의 기본 디스크.</span><span class="sxs-lookup"><span data-stu-id="36d1a-929">One base disk which contains the OS and all the binaries of the DBMS and/or SAP.</span></span> <span data-ttu-id="36d1a-930">2015년 3월부터 이전의 127GB 제한이 없어지면서 이 디스크는 최대 1TB까지 포함할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-930">Since March 2015, this disk can be up to 1TB in size instead of earlier restrictions that limited it to 127GB.</span></span>
* <span data-ttu-id="36d1a-931">SAP 데이터베이스의 DBMS 로그 파일과 DBMS 임시 저장소 영역의 로그 파일(DBMS에서 지원하는 경우)이 포함된 하나 또는 여러 개의 디스크.</span><span class="sxs-lookup"><span data-stu-id="36d1a-931">One or multiple disks which contains the DBMS log file of the SAP database and the log file of the DBMS temp storage area (if the DBMS supports this).</span></span> <span data-ttu-id="36d1a-932">데이터베이스 로그 IOPS 요구 수준이 높은 경우 필요한 IOPS 볼륨에 도달하기 위해 여러 디스크를 스트라이프해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-932">If the database log IOPS requirements are high, you need to stripe multiple disks in order to reach the IOPS volume required.</span></span>
* <span data-ttu-id="36d1a-933">SAP 데이터베이스의 하나 또는 두 개의 데이터베이스 파일 및 DBMS 임시 데이터 파일(DBMS에서 지원하는 경우)을 포함하는 많은 수의 디스크</span><span class="sxs-lookup"><span data-stu-id="36d1a-933">A number of disks containing one or two database files of the SAP database and the DBMS temp data files as well (if the DBMS supports this).</span></span>

![SAP용 Azure IaaS VM의 참조 구성][planning-guide-figure-1300]

[comment]: <> (MShermannd TODO - Linux 구조를 설명합니다.)

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="36d1a-937">Windows</span><span class="sxs-lookup"><span data-stu-id="36d1a-937">Windows</span></span>
>
> <span data-ttu-id="36d1a-938">많은 고객에게서 OS가 설치된 c:\ 드라이브에 SAP 및 DBMS 바이너리가 설치되지 않은 구성을 볼 수 있었습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-938">With many customers we saw configurations where, for example, SAP and DBMS binaries were not installed on the c:\ drive where the OS was installed.</span></span> <span data-ttu-id="36d1a-939">그 이유는 다양하지만 10~15년 전에는 근본적으로는 드라이브가 작고 OS 업그레이드를 하려면 추가 공간이 필요했기 때문일 것입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-939">There were various reasons for this, but when we went back to the root, it usually was that the drives were small and OS upgrades needed additional space 10-15 years ago.</span></span> <span data-ttu-id="36d1a-940">두 조건이 오늘날에는 그렇게 많지 않은 편입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-940">Both conditions do not apply these days too often anymore.</span></span> <span data-ttu-id="36d1a-941">현재는 c:\ 드라이브를 큰 볼륨의 디스크나 VM에 매핑할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-941">Today the c:\ drive can be mapped on large volume disks or VMs.</span></span> <span data-ttu-id="36d1a-942">구조 내에서 배포를 단순하게 유지하려면 Azure의 SAP NetWeaver 시스템에 대해 다음 배포 패턴을 따르는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-942">In order to keep deployments simple in their structure, it is recommended to follow the following deployment pattern for SAP NetWeaver systems in Azure</span></span>
>
> <span data-ttu-id="36d1a-943">Windows 운영 체제 페이지 파일은 D: 드라이브(비영구 디스크)에 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-943">The Windows operating system pagefile should be on the D: drive (non-persistent disk)</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="36d1a-945">Linux</span><span class="sxs-lookup"><span data-stu-id="36d1a-945">Linux</span></span>
>
> <span data-ttu-id="36d1a-946">[이 문서][virtual-machines-linux-agent-user-guide]에서 설명한 대로 Linux의 /mnt/mnt/resource 아래에 Linux 스왑 파일을 배치합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-946">Place the Linux swapfile under /mnt /mnt/resource on Linux as described in [this article][virtual-machines-linux-agent-user-guide].</span></span> <span data-ttu-id="36d1a-947">스왑 파일은 Linux 에이전트 /etc/waagent.conf의 구성 파일에서 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-947">The swap file can be configured in the configuration file of the Linux Agent /etc/waagent.conf.</span></span> <span data-ttu-id="36d1a-948">다음 설정을 추가 또는 변경합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-948">Add or change the following settings:</span></span>
>
>

```
ResourceDisk.EnableSwap=y
ResourceDisk.SwapSizeMB=30720
```

<span data-ttu-id="36d1a-949">변경 내용을 활성화하려면 다음을 사용하여 Linux 에이전트를 다시 시작해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-949">To activate the changes, you need to restart the Linux Agent with</span></span>

```
sudo service waagent restart
```

<span data-ttu-id="36d1a-950">권장 스왑 파일 크기에 대한 자세한 내용은 SAP 정보 [1597355] 를 읽어보세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-950">Please read SAP Note [1597355] for more details on the recommended swap file size</span></span>

- - -
<span data-ttu-id="36d1a-951">이러한 디스크가 호스트되는 Azure Storage의 형식과 DBMS 데이터 파일에 사용되는 디스크의 수는 IOPS 요구 사항 및 필요한 대기 시간에 따라 결정되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-951">The number of disks used for the DBMS data files and the type of Azure Storage these disks are hosted on should be determined by the IOPS requirements and the latency required.</span></span> <span data-ttu-id="36d1a-952">정확한 할당량에 대한 설명은 [이 문서(Linux)][virtual-machines-sizes-linux]와 [이 문서(Windows)][virtual-machines-sizes-windows]에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-952">Exact quotas are described in [this article (Linux)][virtual-machines-sizes-linux] and [this article (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="36d1a-953">지난 2년 동안의 SAP 배포 경험을 통해 다음과 같은 몇 가지 교훈을 얻었습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-953">Experience of SAP deployments over the last 2 years taught us some lessons which can be summarized as:</span></span>

* <span data-ttu-id="36d1a-954">기존 고객 시스템에는 SAP 데이터베이스를 나타내는 다양한 크기의 데이터 파일이 있을 수 있으므로 여러 다른 데이터 파일에 대한 IOPS 트래픽이 항상 동일한 것은 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-954">IOPS traffic to different data files is not always the same since existing customer systems might have differently sized data files representing their SAP database(s).</span></span> <span data-ttu-id="36d1a-955">따라서 여러 디스크를 사용하여 데이터 파일 LUN을 분리해서 배치하는 것보다 RAID 구성을 사용하는 것이 더 나은 것으로 확인되었습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-955">As a result it turned out to be better using a RAID configuration over multiple disks to place the data files LUNs carved out of those.</span></span> <span data-ttu-id="36d1a-956">특히 IOPS 속도가 DBMS 트랜잭션 로그에 대한 단일 디스크의 할당량에 도달하는 Azure Standard Storage에서 이러한 경우가 확인되었습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-956">There were situations, especially with Azure Standard Storage where an IOPS rate hit the quota of a single disk against the DBMS transaction log.</span></span> <span data-ttu-id="36d1a-957">이러한 시나리오에서는 Premium Storage를 사용하거나 소프트웨어 RAID를 사용하여 여러 Standard Storage 디스크를 집계하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-957">In such scenarios the use of Premium Storage is recommended or alternatively aggregating multiple Standard Storage disks with a software RAID.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="36d1a-959">Windows</span><span class="sxs-lookup"><span data-stu-id="36d1a-959">Windows</span></span>
>
> * <span data-ttu-id="36d1a-960">[Azure Virtual Machines의 SQL Server에 대한 성능 모범 사례][virtual-machines-sql-server-performance-best-practices]</span><span class="sxs-lookup"><span data-stu-id="36d1a-960">[Performance best practices for SQL Server in Azure Virtual Machines][virtual-machines-sql-server-performance-best-practices]</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="36d1a-962">Linux</span><span class="sxs-lookup"><span data-stu-id="36d1a-962">Linux</span></span>
>
> * <span data-ttu-id="36d1a-963">[Linux에서 소프트웨어 RAID 구성][virtual-machines-linux-configure-raid]</span><span class="sxs-lookup"><span data-stu-id="36d1a-963">[Configure Software RAID on Linux][virtual-machines-linux-configure-raid]</span></span>
> * <span data-ttu-id="36d1a-964">[Azure에서 Linux VM에 LVM 구성][virtual-machines-linux-configure-lvm]</span><span class="sxs-lookup"><span data-stu-id="36d1a-964">[Configure LVM on a Linux VM in Azure][virtual-machines-linux-configure-lvm]</span></span>
> * [<span data-ttu-id="36d1a-965">Azure 저장소 비밀 및 Linux I/O 최적화</span><span class="sxs-lookup"><span data-stu-id="36d1a-965">Azure Storage secrets and Linux I/O optimizations</span></span>](http://blogs.msdn.com/b/igorpag/archive/2014/10/23/azure-storage-secrets-and-linux-i-o-optimizations.aspx)
>
>

- - -
* <span data-ttu-id="36d1a-966">프리미엄 저장소는 중요한 트랜잭션 로그 쓰기에서 특히 더 나은 성능을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-966">Premium Storage is showing significant better performance, especially for critical transaction log writes.</span></span> <span data-ttu-id="36d1a-967">프로덕션 수준의 성능을 제공할 것으로 기대되는 SAP 시나리오에서는 Azure 프리미엄 저장소를 활용할 수 있는 VM 시리즈를 사용하는 것이 강력히 권장됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-967">For SAP scenarios that are expected to deliver production like performance, it is highly recommended to use VM-Series that can leverage Azure Premium Storage.</span></span>

<span data-ttu-id="36d1a-968">OS와 SAP의 바이너리 및 데이터베이스(기본 VM)도 포함하는 디스크는 더 이상 127GB로 제한되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-968">Keep in mind that the disk which contains the OS, and as we recommend, the binaries of SAP and the database (base VM) as well, is not anymore limited to 127GB.</span></span> <span data-ttu-id="36d1a-969">이제 최대 1TB의 크기가 가능합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-969">It now can have up to 1TB in size.</span></span> <span data-ttu-id="36d1a-970">이 크기는 SAP 일괄 작업 로그 등을 비롯하여 필요한 모든 파일을 보관하는 데 충분한 공간이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-970">This should be enough space to keep all the necessary file including, for example, SAP batch job logs.</span></span>

<span data-ttu-id="36d1a-971">특히 DBMS VM에 대한 추가 제안 사항과 자세한 내용은 [DBMS 배포 가이드][dbms-guide]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-971">For more suggestions and more details, specifically for DBMS VMs, please consult the [DBMS Deployment Guide][dbms-guide]</span></span>

#### <a name="disk-handling"></a><span data-ttu-id="36d1a-972">디스크 처리</span><span class="sxs-lookup"><span data-stu-id="36d1a-972">Disk Handling</span></span>
<span data-ttu-id="36d1a-973">대부분의 시나리오에서는 VM으로 SAP 데이터베이스를 배포하기 위해 추가 디스크를 만들 필요가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-973">In most scenarios you need to create additional disks in order to deploy the SAP database into the VM.</span></span> <span data-ttu-id="36d1a-974">이 문서의 [SAP 배포를 위한 VM/디스크 구조][planning-guide-5.5.1] 장에서 디스크 수에 대한 고려 사항을 설명했습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-974">We talked about the considerations on number of disks in chapter [VM/disk structure for SAP deployments][planning-guide-5.5.1] of this document.</span></span> <span data-ttu-id="36d1a-975">Azure Portal을 사용하면 기본 VM을 배포한 후 디스크를 연결 및 분리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-975">The Azure portal allows to attach and detach disks once a base VM is deployed.</span></span> <span data-ttu-id="36d1a-976">VM이 가동 및 실행 중일 때와 중지될 때 디스크를 연결/분리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-976">The disks can be attached/detached when the VM is up and running as well as when it is stopped.</span></span> <span data-ttu-id="36d1a-977">디스크를 연결할 때 Azure Portal은 빈 디스크 또는 기존 디스크(이 시점에 다른 VM에 연결되지 않은)에 연결할 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-977">When attaching a disk, the Azure portal offers to attach an empty disk or an existing disk which at this point in time is not attached to another VM.</span></span>

<span data-ttu-id="36d1a-978">**참고**: 디스크는 언제나 한 번에 하나의 VM에만 연결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-978">**Note**: Disks can only be attached to one VM at any given time.</span></span>

![Azure 표준 저장소에서 디스크 연결/분리][planning-guide-figure-1400]

<span data-ttu-id="36d1a-980">새 가상 컴퓨터를 배포하는 동안 관리 디스크를 사용할지 아니면 Azure Storage 계정에 디스크를 배치할지를 결정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-980">During the deployment of a new virtual machine, you can decide whether you want to use Managed Disks or place your disks on Azure Storage Accounts.</span></span> <span data-ttu-id="36d1a-981">Premium Storage를 사용하려는 경우에는 관리 디스크를 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-981">If you want to use Premium Storage, we recommend using Managed Disks.</span></span>

<span data-ttu-id="36d1a-982">다음으로는 비어 있는 새 디스크를 만들지 아니면 이전에 업로드되었으며 이제 VM에 연결해야 하는 기존 디스크를 선택할지를 결정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-982">Next, you need to decide whether you want to create a new and empty disk or whether you want to select an existing disk that was uploaded earlier and should be attached to the VM now.</span></span>

<span data-ttu-id="36d1a-983">**중요**: Azure 표준 저장소에서 호스트 캐싱을 사용하지 **않도록** 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-983">**IMPORTANT**: You **DO NOT** want to use Host Caching with Azure Standard Storage.</span></span> <span data-ttu-id="36d1a-984">호스트 캐시 기본 설정을 기본값인 NONE으로 유지해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-984">You should leave the Host Cache preference at the default of NONE.</span></span> <span data-ttu-id="36d1a-985">Azure 프리미엄 저장소를 사용하는 경우 I/O 특성이 데이터베이스 데이터 파일에 대한 일반적인 I/O 트래픽으로 해석되는 경우 읽기 캐싱을 사용하도록 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-985">With Azure Premium Storage you should enable Read Caching if the I/O characteristic is mostly read like typical I/O traffic against database data files.</span></span> <span data-ttu-id="36d1a-986">데이터베이스 트랜잭션 로그 파일의 경우 캐싱 없음이 권장됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-986">In case of database transaction log file no caching is recommended.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="36d1a-988">Windows</span><span class="sxs-lookup"><span data-stu-id="36d1a-988">Windows</span></span>
>
> <span data-ttu-id="36d1a-989">[Azure Portal에서 데이터 디스크를 연결하는 방법][virtual-machines-linux-attach-disk-portal]</span><span class="sxs-lookup"><span data-stu-id="36d1a-989">[How to attach a data disk in the Azure portal][virtual-machines-linux-attach-disk-portal]</span></span>
>
> <span data-ttu-id="36d1a-990">디스크를 연결하는 경우 VM에 로그인하여 Windows 디스크 관리자를 열어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-990">If disks are attached, you need to log in to the VM to open the Windows Disk Manager.</span></span> <span data-ttu-id="36d1a-991">[연결된 디스크에 대한 자동 탑재 설정][planning-guide-5.5.3] 장에서 권장한 대로 자동 탑재를 사용하도록 설정하지 않으면 새로 연결된 볼륨을 온라인 상태로 만든 후 초기화해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-991">If automount is not enabled as recommended in chapter [Setting automount for attached disks][planning-guide-5.5.3], the newly attached volume needs to be taken online and initialized.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="36d1a-993">Linux</span><span class="sxs-lookup"><span data-stu-id="36d1a-993">Linux</span></span>
>
> <span data-ttu-id="36d1a-994">디스크가 연결되어 있으면 [이 문서][virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux]에서 설명한 대로 VM에 로그인하고 디스크를 초기화해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-994">If disks are attached, you need to log in to the VM and initialize the disks as described in [this article][virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux]</span></span>
>
>

- - -
<span data-ttu-id="36d1a-995">새 디스크가 비어 있는 디스크이면 포맷도 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-995">If the new disk is an empty disk, you need to format the disk as well.</span></span> <span data-ttu-id="36d1a-996">포맷 시, 특히 DBMS 데이터 및 로그 파일의 경우, DBMS 완전 배포의 경우와 동일한 권장 지침이 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-996">For formatting, especially for DBMS data and log files the same recommendations as for bare-metal deployments of the DBMS apply.</span></span>

<span data-ttu-id="36d1a-997">이미 [Microsoft Azure 가상 컴퓨터 개념][planning-guide-3.2] 장에서 언급한 대로 Azure Storage 계정은 I/O 볼륨, IOPS 및 데이터 볼륨 측면에서 무한 리소스를 제공하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-997">As already mentioned in chapter [The Microsoft Azure Virtual Machine Concept][planning-guide-3.2], an Azure Storage account does not provide infinite resources in terms of I/O volume, IOPS and data volume.</span></span> <span data-ttu-id="36d1a-998">일반적으로 DBMS VM이 그 영향을 가장 많이 받게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-998">Usually DBMS VMs are most affected by this.</span></span> <span data-ttu-id="36d1a-999">Azure 저장소 계정 볼륨의 제한을 벗어나지 않기 위해서는 배포할 높은 I/O 볼륨 VM이 거의 없을 경우 각 VM에 대해 별도 저장소 계정을 사용하는 것이 가장 좋을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-999">It might be best to use a separate Storage Account for each VM if you have few high I/O volume VMs to deploy in order to stay within the limit of the Azure Storage Account volume.</span></span> <span data-ttu-id="36d1a-1000">그렇지 않으면 각 단일 저장소 계정 제한에 도달하지 않으면서 개별 저장소 계정 간에 이러한 VM을 골고루 분산하는 방법을 찾아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1000">Otherwise, you need to see how you can balance these VMs between different Storage accounts without hitting the limit of each single Storage Account.</span></span> <span data-ttu-id="36d1a-1001">자세한 내용은 [DBMS 배포 가이드][dbms-guide]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1001">More details are discussed in the [DBMS Deployment Guide][dbms-guide].</span></span> <span data-ttu-id="36d1a-1002">또한 순수한 SAP 응용 프로그램 서버 VM 또는 결과적으로는 추가 VHD를 요구할 수 있는 기타 VHD의 경우에도 이러한 제한에 유의해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1002">You should also keep these limitations in mind for pure SAP application server VMs or other VMs which eventually might require additional VHDs.</span></span> <span data-ttu-id="36d1a-1003">관리 디스크를 사용하는 경우에는 이러한 제한이 적용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1003">These restrictions do not apply if you use Managed Disk.</span></span> <span data-ttu-id="36d1a-1004">Premium Storage를 사용하려는 경우에는 관리 디스크를 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1004">If you plan to use Premium Storage, we recommend using Managed Disk.</span></span>

<span data-ttu-id="36d1a-1005">저장소 계정과 관련된 또 다른 주제는 저장소 계정의 VHD가 지역에서 복제되는지 여부입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1005">Another topic which is relevant for Storage Accounts is whether the VHDs in a Storage Account are getting Geo-replicated.</span></span> <span data-ttu-id="36d1a-1006">지역에서 복제 기능은 VM 수준이 아닌 저장소 계정 수준에서 사용하거나 사용하지 않도록 설정됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1006">Geo-replication is enabled or disabled on the Storage Account level and not on the VM level.</span></span> <span data-ttu-id="36d1a-1007">지역에서 복제 기능이 사용되도록 설정되면 저장소 계정 내의 VHD가 동일한 지역 내의 다른 Azure 데이터 센터로 복제됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1007">If geo-replication is enabled, the VHDs within the Storage Account would be replicated into another Azure data center within the same region.</span></span> <span data-ttu-id="36d1a-1008">이를 결정하기 전에 다음 제한 사항을 고려해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1008">Before deciding on this, you should think about the following restriction:</span></span>

<span data-ttu-id="36d1a-1009">Azure 지역에서 복제 기능은 VM의 각 VHD에서 로컬로 작동하며, VM의 여러 VHD에 걸쳐 시간순으로 IO를 복제하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1009">Azure Geo-replication works locally on each VHD in a VM and does not replicate the IOs in chronological order across multiple VHDs in a VM.</span></span> <span data-ttu-id="36d1a-1010">따라서 기본 VM을 나타내는 VHD와 VM에 연결된 추가 VHD는 서로 독립적으로 복제됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1010">Therefore, the VHD that represents the base VM as well as any additional VHDs attached to the VM are replicated independent of each other.</span></span> <span data-ttu-id="36d1a-1011">즉, 여러 다른 VHD에서 변경된 내용은 동기화되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1011">This means there is no synchronization between the changes in the different VHDs.</span></span> <span data-ttu-id="36d1a-1012">IO가 기록된 순서와는 별도로 복제된다는 사실은 여러 VHD에 걸쳐 데이터베이스가 분산되어 있는 데이터베이스 서버의 경우에는 지역에서 복제 기능이 의미가 없음을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1012">The fact that the IOs are replicated independently of the order in which they are written means that geo-replication is not of value for database servers that have their databases distributed over multiple VHDs.</span></span> <span data-ttu-id="36d1a-1013">DBMS 외에도 다른 VHD에서 데이터를 쓰거나 조작하는 프로세스의 응용 프로그램이나 변경 순서가 중요한 응용 프로그램도 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1013">In addition to the DBMS, there also might be other applications where processes write or manipulate data in different VHDs and where it is important to keep the order of changes.</span></span> <span data-ttu-id="36d1a-1014">이러한 경우가 요구되면 Azure의 지역에서 복제 기능을 사용하지 않도록 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1014">If that is a requirement, geo-replication in Azure should not be enabled.</span></span> <span data-ttu-id="36d1a-1015">다른 VM 집합이 아닌 특정 VM 집합에 대해 지역에서 복제 기능이 필요한지 또는 이 기능을 원하는지에 따라, 이미 VM 및 관련된 VHD를 지역에서 복제 기능이 사용되거나 사용되지 않도록 설정된 다른 저장소 계정으로 분류할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1015">Dependent on whether you need or want geo-replication for a set of VMs, but not for another set, you can already categorize VMs and their related VHDs into different Storage Accounts that have geo-replication enabled or disabled.</span></span>

#### <span data-ttu-id="36d1a-1016"><a name="17e0d543-7e8c-4160-a7da-dd7117a1ad9d"></a>연결된 디스크에 대한 자동 탑재 설정</span><span class="sxs-lookup"><span data-stu-id="36d1a-1016"><a name="17e0d543-7e8c-4160-a7da-dd7117a1ad9d"></a>Setting automount for attached disks</span></span>
- - -
> ![Windows][Logo_Windows] <span data-ttu-id="36d1a-1018">Windows</span><span class="sxs-lookup"><span data-stu-id="36d1a-1018">Windows</span></span>
>
> <span data-ttu-id="36d1a-1019">자체 이미지나 디스크에서 만든 VM의 경우 automount 매개 변수를 확인하고 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1019">For VMs which are created from own Images or Disks, it is necessary to check and possibly set the automount parameter.</span></span> <span data-ttu-id="36d1a-1020">이 매개 변수를 설정하면 Azure에서 VM을 다시 시작하거나 재배포한 후에 VM이 연결/탑재된 드라이브를 자동으로 다시 탑재할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1020">Setting this parameter will allow the VM after a restart or redeployment in Azure to mount the attached/mounted drives again automatically.</span></span>
> <span data-ttu-id="36d1a-1021">Azure 마켓플레이스에서 Microsoft가 제공하는 이미지의 경우 이 매개 변수가 설정되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1021">The parameter is set for the images provided by Microsoft in the Azure Marketplace.</span></span>
>
> <span data-ttu-id="36d1a-1022">자동 탑재를 설정하려면 다음 항목에서 명령줄 실행 파일인 diskpart.exe의 설명서를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1022">In order to set the automount, please check the documentation of the command-line executable diskpart.exe here:</span></span>
>
> * [<span data-ttu-id="36d1a-1023">DiskPart 명령줄 옵션</span><span class="sxs-lookup"><span data-stu-id="36d1a-1023">DiskPart Command-Line Options</span></span>](https://technet.microsoft.com/library/bb490893.aspx)
> * [<span data-ttu-id="36d1a-1024">Automount</span><span class="sxs-lookup"><span data-stu-id="36d1a-1024">Automount</span></span>](http://technet.microsoft.com/library/cc753703.aspx)
>
> <span data-ttu-id="36d1a-1025">Windows 명령줄 창은 관리자 권한으로 열어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1025">The Windows command-line window should be opened as administrator.</span></span>
>
> <span data-ttu-id="36d1a-1026">디스크를 연결하는 경우 VM에 로그인하여 Windows 디스크 관리자를 열어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1026">If disks are attached, you need to log in to the VM to open the Windows Disk Manager.</span></span> <span data-ttu-id="36d1a-1027">[연결된 디스크에 대한 자동 탑재 설정][planning-guide-5.5.3] 장에서 권장한 대로 자동 탑재를 사용하도록 설정하지 않으면 새로 연결된 볼륨을 온라인 상태로 만든 후 초기화해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1027">If automount is not enabled as recommended in chapter [Setting automount for attached disks][planning-guide-5.5.3],  the newly attached volume >needs to be taken online and initialized.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="36d1a-1029">Linux</span><span class="sxs-lookup"><span data-stu-id="36d1a-1029">Linux</span></span>
>
> <span data-ttu-id="36d1a-1030">[이 문서][virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux]에서 설명한 대로 새로 연결된 빈 디스크를 초기화해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1030">You need to initialize a newly attached empty disk as described in [this article][virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux].</span></span>
> <span data-ttu-id="36d1a-1031">/etc/fstab에 새 디스크를 추가해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1031">You also need to add new disks to the /etc/fstab.</span></span>
>
>

- - -
### <a name="final-deployment"></a><span data-ttu-id="36d1a-1032">최종 배포</span><span class="sxs-lookup"><span data-stu-id="36d1a-1032">Final Deployment</span></span>
<span data-ttu-id="36d1a-1033">최종 배포 및 정확한 단계(특히 SAP 확장 모니터링의 배포와 관련된 정보)는 [배포 가이드][deployment-guide]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1033">For the final deployment and exact steps, especially with regards to the deployment of SAP Extended Monitoring, please refer to the [Deployment Guide][deployment-guide].</span></span>

## <a name="accessing-sap-systems-running-within-azure-vms"></a><span data-ttu-id="36d1a-1034">Azure VM 내에서 실행되는 SAP 시스템에 액세스</span><span class="sxs-lookup"><span data-stu-id="36d1a-1034">Accessing SAP systems running within Azure VMs</span></span>
<span data-ttu-id="36d1a-1035">클라우드 전용 시나리오의 경우 SAP GUI를 사용하여 공용 인터넷을 통해 해당 SAP 시스템에 연결하려고 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1035">For Cloud-Only scenarios, you might want to connect to those SAP systems across the public internet using SAP GUI.</span></span> <span data-ttu-id="36d1a-1036">이러한 경우 다음 절차를 적용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1036">For these cases, the following procedures need to be applied.</span></span>

<span data-ttu-id="36d1a-1037">이 문서 뒷부분에서는 사이트 간 연결(VPN 터널) 또는 온-프레미스 시스템과 Azure 시스템 간의 Azure ExpressRoute 연결이 있는 크로스-프레미스 배포에서 SAP 시스템에 연결하는 다른 주요 시나리오가 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1037">Later in the document we will discuss the other major scenario, connecting to SAP systems in cross-premises deployments which have a site-to-site connection (VPN tunnel) or Azure ExpressRoute connection between the on-premises systems and Azure systems.</span></span>

### <a name="remote-access-to-sap-systems"></a><span data-ttu-id="36d1a-1038">SAP 시스템에 대한 원격 액세스</span><span class="sxs-lookup"><span data-stu-id="36d1a-1038">Remote Access to SAP systems</span></span>
<span data-ttu-id="36d1a-1039">Azure Resource Manager를 사용할 경우 더 이상 이전의 클래식 모델과 같은 기본 끝점이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1039">With Azure Resource Manager there are no default endpoints anymore like in the former classic model.</span></span> <span data-ttu-id="36d1a-1040">다음과 같은 조건이 충족되면 ARM Azure VM의 모든 포트는 열려 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1040">All ports of an Azure ARM VM are open as long as:</span></span>

1. <span data-ttu-id="36d1a-1041">서브넷 또는 네트워크 인터페이스에 대해 정의된 네트워크 보안 그룹이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1041">No Network Security Group is defined for the subnet or the network interface.</span></span> <span data-ttu-id="36d1a-1042">Azure VM으로의 네트워크 트래픽이 "네트워크 보안 그룹"을 통해 보호될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1042">Network traffic to Azure VMs can be secured via so-called "Network Security Groups".</span></span> <span data-ttu-id="36d1a-1043">자세한 내용은 [NSG(네트워크 보안 그룹)란?][virtual-networks-nsg]을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1043">For more information see [What is a Network Security Group (NSG)?][virtual-networks-nsg]</span></span>
2. <span data-ttu-id="36d1a-1044">네트워크 인터페이스에 대해 정의된 Azure Load Balancer가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1044">No Azure Load Balancer is defined for the network interface</span></span>   

<span data-ttu-id="36d1a-1045">[이 문서][virtual-machines-azure-resource-manager-architecture]에서 설명하는 클래식 모델과 ARM의 아키텍처 차이를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1045">See the architecture difference between classic model and ARM as described in [this article][virtual-machines-azure-resource-manager-architecture].</span></span>

#### <a name="configuration-of-the-sap-system-and-sap-gui-connectivity-for-cloud-only-scenario"></a><span data-ttu-id="36d1a-1046">클라우드 전용 시나리오에 대한 SAP 시스템 및 SAP GUI 연결 구성</span><span class="sxs-lookup"><span data-stu-id="36d1a-1046">Configuration of the SAP System and SAP GUI connectivity for Cloud-Only scenario</span></span>
<span data-ttu-id="36d1a-1047">이 항목을 자세히 설명하는 이 문서를 참조하세요. <http://blogs.msdn.com/b/saponsqlserver/archive/2014/06/24/sap-gui-connection-closed-when-connecting-to-sap-system-in-azure.aspx></span><span class="sxs-lookup"><span data-stu-id="36d1a-1047">Please see this article which describes details to this topic: <http://blogs.msdn.com/b/saponsqlserver/archive/2014/06/24/sap-gui-connection-closed-when-connecting-to-sap-system-in-azure.aspx></span></span>

#### <a name="changing-firewall-settings-within-vm"></a><span data-ttu-id="36d1a-1048">VM 내의 방화벽 설정 변경</span><span class="sxs-lookup"><span data-stu-id="36d1a-1048">Changing Firewall Settings within VM</span></span>
<span data-ttu-id="36d1a-1049">SAP 시스템으로의 인바운드 트래픽을 허용하도록 가상 컴퓨터에서 방화벽을 구성해야 할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1049">It might be necessary to configure the firewall on your virtual machines to allow inbound traffic to your SAP system.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="36d1a-1051">Windows</span><span class="sxs-lookup"><span data-stu-id="36d1a-1051">Windows</span></span>
>
> <span data-ttu-id="36d1a-1052">기본적으로 Azure 배포 VM 내의 Windows 방화벽은 켜져 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1052">By default, the Windows Firewall within an Azure deployed VM is turned on.</span></span> <span data-ttu-id="36d1a-1053">이제 SAP 포트가 열리도록 허용해야 하며 그러지 않으면 SAP GUI에 연결할 수 없게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1053">You now need to allow the SAP Port to be opened, otherwise the SAP GUI will not be able to connect.</span></span>
> <span data-ttu-id="36d1a-1054">다음을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1054">To do this:</span></span>
>
> * <span data-ttu-id="36d1a-1055">제어판\시스템 및 보안\Windows 방화벽의 ‘고급 설정’을 엽니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1055">Open Control Panel\System and Security\Windows Firewall to ‘Advanced Settings’.</span></span>
> * <span data-ttu-id="36d1a-1056">인바운드 규칙을 마우스 오른쪽 단추로 클릭하고 ‘새 규칙’을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1056">Now right-click on Inbound Rules and chose ‘New Rule’.</span></span>
> * <span data-ttu-id="36d1a-1057">다음 마법사에서 새 '포트' 규칙을 만들도록 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1057">In the following Wizard chose to create a new ‘Port’ rule.</span></span>
> * <span data-ttu-id="36d1a-1058">마법사의 다음 단계에서 TCP의 설정을 그대로 두고 열려는 포트 번호를 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1058">In the next step of the wizard, leave the setting at TCP and type in the port number you want to open.</span></span> <span data-ttu-id="36d1a-1059">여기서 SAP 인스턴스 ID는 00이므로 3200을 사용했습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1059">Since our SAP instance ID is 00, we took 3200.</span></span> <span data-ttu-id="36d1a-1060">인스턴스의 인스턴스 번호가 다른 경우 이전에 해당 인스턴스 번호를 기준으로 정의한 포트가 열립니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1060">If your instance has a different instance number, the port you defined earlier based on the instance number should be opened.</span></span>
> * <span data-ttu-id="36d1a-1061">마법사의 다음 부분에서는 '연결 허용' 항목을 선택된 상태로 두어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1061">In the next part of the wizard, you need to leave the item ‘Allow Connection’ checked.</span></span>
> * <span data-ttu-id="36d1a-1062">마법사의 다음 단계에서는 해당 규칙이 도메인, 개인 및 공용 네트워크에 적용될지 여부를 정의해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1062">In the next step of the wizard you need to define whether the rule applies for Domain, Private and Public network.</span></span> <span data-ttu-id="36d1a-1063">필요한 경우 요구에 맞게 조정합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1063">Please adjust it if necessary to your needs.</span></span> <span data-ttu-id="36d1a-1064">그러나 공용 네트워크를 통해 외부에서 SAP GUI에 연결하는 경우 해당 규칙을 공용 네트워크에 적용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1064">However, connecting with SAP GUI from the outside through the public network, you need to have the rule applied to the public network.</span></span>
> * <span data-ttu-id="36d1a-1065">마법사의 마지막 단계에서 규칙 이름을 지정하고 '마침'을 눌러 규칙을 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1065">In the last step of the wizard, name the rule and save by pressing ‘Finish’</span></span>
>
> <span data-ttu-id="36d1a-1066">규칙은 즉시 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1066">The rule becomes effective immediately.</span></span>
>
> ![포트 규칙 정의][planning-guide-figure-1600]
>
> ![Linux][Logo_Linux] <span data-ttu-id="36d1a-1069">Linux</span><span class="sxs-lookup"><span data-stu-id="36d1a-1069">Linux</span></span>
>
> <span data-ttu-id="36d1a-1070">Azure 마켓플레이스의 Linux 이미지는 기본적으로 iptables 방화벽을 사용하도록 설정하지 않으며 SAP 시스템에 대한 연결이 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1070">The Linux images in the Azure Marketplace do not enable the iptables firewall by default and the connection to your SAP system should work.</span></span> <span data-ttu-id="36d1a-1071">Iptables 또는 다른 방화벽을 사용하도록 설정한 경우 iptables 또는 사용한 방화벽의 설명서를 참조하여 포트 32xx로의 인바운드 tcp 트래픽을 허용하세요(여기서 xx는 SAP 시스템의 시스템 번호임).</span><span class="sxs-lookup"><span data-stu-id="36d1a-1071">If you enabled iptables or another firewall, please refer to the documentation of iptables or the used firewall to allow inbound tcp traffic to  port 32xx (where xx is the system number of your SAP system).</span></span>
>
>

- - -
#### <a name="security-recommendations"></a><span data-ttu-id="36d1a-1072">보안 권장 사항</span><span class="sxs-lookup"><span data-stu-id="36d1a-1072">Security recommendations</span></span>
<span data-ttu-id="36d1a-1073">SAP GUI는 실행 중인 어떤 SAP 인스턴스(포트 32xx)에도 직접 연결되지 않으며 먼저 열린 포트를 통해 SAP 메시지 서버 프로세스(포트 36xx)로 연결됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1073">The SAP GUI does not connect immediately to any of the SAP instances (port 32xx) which are running, but first connects via the port opened to the SAP message server process (port 36xx).</span></span> <span data-ttu-id="36d1a-1074">이전에는 응용 프로그램 인스턴스에 대한 내부 통신을 위해 메시지 서버에서 동일한 포트가 사용되었습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1074">In the past the very same port was used by the message server for the internal communication to the application instances.</span></span> <span data-ttu-id="36d1a-1075">온-프레미스 응용 프로그램 서버가 Azure의 메시지 서버와 우연히 통신하는 일을 방지하기 위해 통신 포트를 변경할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1075">To prevent on-premises application servers from inadvertently communicating with a message server in Azure the internal communication ports can be changed.</span></span> <span data-ttu-id="36d1a-1076">SAP 메시지 서버와 해당 응용 프로그램 인스턴스 간의 내부 통신을 온-프레미스 시스템에서 복제된 시스템(프로젝트 테스트를 위한 개발 복제본 등)의 다른 포트 번호로 변경할 것을 강력히 권장합니다. 이 작업은 기본 프로필 매개 변수를 사용하여 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1076">It is highly recommended to change the internal communication between the SAP message server and its application instances to a different port number on systems that have been cloned from on-premises systems, such as a clone of development for project testing etc. This can be done with the default profile parameter:</span></span>

> <span data-ttu-id="36d1a-1077">rdisp/msserv_internal</span><span class="sxs-lookup"><span data-stu-id="36d1a-1077">rdisp/msserv_internal</span></span>
>
>

<span data-ttu-id="36d1a-1078">해당 작업 방법은 [SAP 메시지 서버에 대한 보안 설정](https://help.sap.com/saphelp_nwpi71/helpdata/en/47/c56a6938fb2d65e10000000a42189c/content.htm)에 설명되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1078">as documented in [Security Settings for the SAP Message Server ](https://help.sap.com/saphelp_nwpi71/helpdata/en/47/c56a6938fb2d65e10000000a42189c/content.htm)</span></span>

## <span data-ttu-id="36d1a-1079"><a name="96a77628-a05e-475d-9df3-fb82217e8f14"></a>SAP 인스턴스의 클라우드 전용 배포 개념</span><span class="sxs-lookup"><span data-stu-id="36d1a-1079"><a name="96a77628-a05e-475d-9df3-fb82217e8f14"></a>Concepts of Cloud-Only deployment of SAP instances</span></span>
### <span data-ttu-id="36d1a-1080"><a name="3e9c3690-da67-421a-bc3f-12c520d99a30"></a>SAP NetWeaver 데모/학습 시나리오가 있는 단일 VM</span><span class="sxs-lookup"><span data-stu-id="36d1a-1080"><a name="3e9c3690-da67-421a-bc3f-12c520d99a30"></a>Single VM with SAP NetWeaver demo/training scenario</span></span>
![Azure Cloud Services에 격리된 같은 VM 이름의 단일 VM SAP 데모 시스템 실행][planning-guide-figure-1700]

<span data-ttu-id="36d1a-1082">이 시나리오(이 문서의 [클라우드 전용][planning-guide-2.1] 장 참조)에서는 전체 학습/데모 시나리오가 단일 VM에 포함된 전형적인 학습/데모 시스템 시나리오를 구현하고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1082">In this scenario (see chapter [Cloud-Only][planning-guide-2.1] of this document) we are implementing a typical training/demo system scenario where the complete training/demo scenario is contained in a single VM.</span></span> <span data-ttu-id="36d1a-1083">VM 이미지 템플릿을 통해 배포했다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1083">We assume that the deployment is done through VM image templates.</span></span> <span data-ttu-id="36d1a-1084">또한 이러한 여러 데모/학습 VM을 동일한 이름의 VM과 함께 배포해야 한다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1084">We also assume that multiple of these demo/trainings VMs need to be deployed with the VMs having the same name.</span></span>

<span data-ttu-id="36d1a-1085">여기서는 이 문서의 [Azure용 SAP로 VM 준비][planning-guide-5.2] 장 중 일부 섹션에서 설명한 대로 VM 이미지를 만들었다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1085">The assumption is that you created a VM Image as described in some sections of chapter [Preparing VMs with SAP for Azure][planning-guide-5.2] in this document.</span></span>

<span data-ttu-id="36d1a-1086">시나리오를 구현하는 이벤트의 순서는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1086">The sequence of events to implement the scenario looks like this:</span></span>

##### <a name="powershell"></a><span data-ttu-id="36d1a-1087">PowerShell</span><span class="sxs-lookup"><span data-stu-id="36d1a-1087">Powershell</span></span>
* <span data-ttu-id="36d1a-1088">모든 학습/데모 환경에 대한 새 리소스 그룹 만들기</span><span class="sxs-lookup"><span data-stu-id="36d1a-1088">Create a new resource group for every training/demo landscape</span></span>

```powershell
$rgName = "SAPERPDemo1"
New-AzureRmResourceGroup -Name $rgName -Location "North Europe"
```
* <span data-ttu-id="36d1a-1089">관리 디스크를 사용하지 않으려는 경우 새 저장소 계정 만들기</span><span class="sxs-lookup"><span data-stu-id="36d1a-1089">Create a new storage account if you don't want to use Managed Disks</span></span>

```powershell
$suffix = Get-Random -Minimum 100000 -Maximum 999999
$account = New-AzureRmStorageAccount -ResourceGroupName $rgName -Name "saperpdemo$suffix" -SkuName Standard_LRS -Kind "Storage" -Location "North Europe"
```

* <span data-ttu-id="36d1a-1090">모든 학습/데모 환경에 대해 새 가상 네트워크를 만들어 동일한 호스트 이름 및 IP 주소를 사용하도록 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1090">Create a new virtual network for every training/demo landscape to enable the usage of the same hostname and IP addresses.</span></span> <span data-ttu-id="36d1a-1091">가상 네트워크는 포트 3389로의 트래픽만 허용하여 SSH에 대해 원격 데스크톱 액세스 및 포트 22를 사용하도록 설정하는 네트워크 보안 그룹에 의해 보호됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1091">The virtual network is protected by a Network Security Group that only allows traffic to port 3389 to enable Remote Desktop access and port 22 for SSH.</span></span>

```powershell
# Create a new Virtual Network
$rdpRule = New-AzureRmNetworkSecurityRuleConfig -Name SAPERPDemoNSGRDP -Protocol * -SourcePortRange * -DestinationPortRange 3389 -Access Allow -Direction Inbound -SourceAddressPrefix * -DestinationAddressPrefix * -Priority 100
$sshRule = New-AzureRmNetworkSecurityRuleConfig -Name SAPERPDemoNSGSSH -Protocol * -SourcePortRange * -DestinationPortRange 22 -Access Allow -Direction Inbound -SourceAddressPrefix * -DestinationAddressPrefix * -Priority 101
$nsg = New-AzureRmNetworkSecurityGroup -Name SAPERPDemoNSG -ResourceGroupName $rgName -Location  "North Europe" -SecurityRules $rdpRule,$sshRule

$subnetConfig = New-AzureRmVirtualNetworkSubnetConfig -Name Subnet1 -AddressPrefix  10.0.1.0/24 -NetworkSecurityGroup $nsg
$vnet = New-AzureRmVirtualNetwork -Name SAPERPDemoVNet -ResourceGroupName $rgName -Location "North Europe"  -AddressPrefix 10.0.1.0/24 -Subnet $subnetConfig
```

* <span data-ttu-id="36d1a-1092">인터넷에서 가상 컴퓨터에 액세스하는 데 사용할 수 있는 새 공용 IP 주소 만들기</span><span class="sxs-lookup"><span data-stu-id="36d1a-1092">Create a new public IP address that can be used to access the virtual machine from the internet</span></span>

```powershell
# Create a public IP address with a DNS name
$pip = New-AzureRmPublicIpAddress -Name SAPERPDemoPIP -ResourceGroupName $rgName -Location "North Europe" -DomainNameLabel $rgName.ToLower() -AllocationMethod Dynamic
```

* <span data-ttu-id="36d1a-1093">가상 컴퓨터에 대한 새 네트워크 인터페이스 만들기</span><span class="sxs-lookup"><span data-stu-id="36d1a-1093">Create a new network interface for the virtual machine</span></span>

```powershell
# Create a new Network Interface
$nic = New-AzureRmNetworkInterface -Name SAPERPDemoNIC -ResourceGroupName $rgName -Location "North Europe" -Subnet $vnet.Subnets[0] -PublicIpAddress $pip
```

* <span data-ttu-id="36d1a-1094">가상 컴퓨터를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1094">Create a virtual machine.</span></span> <span data-ttu-id="36d1a-1095">클라우드 전용 시나리오의 경우 모든 VM이 동일한 이름을 갖습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1095">For the Cloud-Only scenario every VM will have the same name.</span></span> <span data-ttu-id="36d1a-1096">해당 VM에 있는 SAP NetWeaver 인스턴스의 SAP SID도 동일하게 유지됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1096">The SAP SID of the SAP NetWeaver instances in those VMs will be the same as well.</span></span> <span data-ttu-id="36d1a-1097">Azure 리소스 그룹 내에서 VM의 이름은 고유해야 하지만 서로 다른 Azure 리소스 그룹에서는 동일한 이름의 VM을 실행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1097">Within the Azure Resource Group, the name of the VM needs to be unique, but in different Azure Resource Groups you can run VMs with the same name.</span></span> <span data-ttu-id="36d1a-1098">Windows의 기본 '관리자' 계정 또는 Linux의 '루트'는 유효하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1098">The default 'Administrator' account of Windows or 'root' for Linux are not valid.</span></span> <span data-ttu-id="36d1a-1099">따라서 새 관리자 사용자 이름을 암호와 함께 정의해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1099">Therefore, a new administrator user name needs to be defined together with a password.</span></span> <span data-ttu-id="36d1a-1100">또한 VM의 크기를 정의해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1100">The size of the VM also needs to be defined.</span></span>

```powershell
#####
# Create a new virtual machine with an official image from the Azure Marketplace
#####
$cred=Get-Credential -Message "Type the name and password of the local administrator account."
$vmconfig = New-AzureRmVMConfig -VMName SAPERPDemo -VMSize Standard_D11

# select image
$vmconfig = Set-AzureRmVMSourceImage -VM $vmconfig -PublisherName "MicrosoftWindowsServer" -Offer "WindowsServer" -Skus "2012-R2-Datacenter" -Version "latest"
$vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Windows -ComputerName "SAPERPDemo" -Credential $cred -ProvisionVMAgent -EnableAutoUpdate
# $vmconfig = Set-AzureRmVMSourceImage -VM $vmconfig -PublisherName "SUSE" -Offer "SLES-SAP" -Skus "12-SP1" -Version "latest"
# $vmconfig = Set-AzureRmVMSourceImage -VM $vmconfig -PublisherName "RedHat" -Offer "RHEL" -Skus "7.2" -Version "latest"
# $vmconfig = Set-AzureRmVMSourceImage -VM $vmconfig -PublisherName "Oracle" -Offer "Oracle-Linux" -Skus "7.2" -Version "latest"
# $vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Linux -ComputerName "SAPERPDemo" -Credential $cred

$vmconfig = Add-AzureRmVMNetworkInterface -VM $vmconfig -Id $nic.Id

$vmconfig = Set-AzureRmVMBootDiagnostics -Disable -VM $vmconfig
$vm = New-AzureRmVM -ResourceGroupName $rgName -Location "North Europe" -VM $vmconfig
```

```powershell
#####
# Create a new virtual machine with a VHD that contains the private image that you want to use
#####
$cred=Get-Credential -Message "Type the name and password of the local administrator account."
$vmconfig = New-AzureRmVMConfig -VMName SAPERPDemo -VMSize Standard_D11

$vmconfig = Add-AzureRmVMNetworkInterface -VM $vmconfig -Id $nic.Id

$diskName="osfromimage"
$osDiskUri=$account.PrimaryEndpoints.Blob.ToString() + "vhds/" + $diskName  + ".vhd"

$vmconfig = Set-AzureRmVMOSDisk -VM $vmconfig -Name $diskName -VhdUri $osDiskUri -CreateOption fromImage -SourceImageUri <path to VHD that contains the OS image> -Windows
$vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Windows -ComputerName "SAPERPDemo" -Credential $cred
#$vmconfig = Set-AzureRmVMOSDisk -VM $vmconfig -Name $diskName -VhdUri $osDiskUri -CreateOption fromImage -SourceImageUri <path to VHD that contains the OS image> -Linux
#$vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Linux -ComputerName "SAPERPDemo" -Credential $cred

$vmconfig = Set-AzureRmVMBootDiagnostics -Disable -VM $vmconfig
$vm = New-AzureRmVM -ResourceGroupName $rgName -Location "North Europe" -VM $vmconfig
```

```powershell
#####
# Create a new virtual machine with a Managed Disk Image
#####
$cred=Get-Credential -Message "Type the name and password of the local administrator account."
$vmconfig = New-AzureRmVMConfig -VMName SAPERPDemo -VMSize Standard_D11

$vmconfig = Add-AzureRmVMNetworkInterface -VM $vmconfig -Id $nic.Id

$vmconfig = Set-AzureRmVMSourceImage -VM $vmconfig -Id <Id of Managed Disk Image>
$vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Windows -ComputerName "SAPERPDemo" -Credential $cred
#$vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Linux -ComputerName "SAPERPDemo" -Credential $cred

$vmconfig = Set-AzureRmVMBootDiagnostics -Disable -VM $vmconfig
$vm = New-AzureRmVM -ResourceGroupName $rgName -Location "North Europe" -VM $vmconfig
```

* <span data-ttu-id="36d1a-1101">필요에 따라 디스크를 더 추가하고 필요한 콘텐츠를 복원합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1101">Optionally add additional disks and restore necessary content.</span></span> <span data-ttu-id="36d1a-1102">모든 blob 이름(blob URL)은 Azure 내에서 고유해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1102">Be aware that all blob names (URLs to the blobs) must be unique within Azure.</span></span>

```powershell
# Optional: Attach additional VHD data disks
$vm = Get-AzureRmVM -ResourceGroupName $rgName -Name SAPERPDemo
$dataDiskUri = $account.PrimaryEndpoints.Blob.ToString() + "vhds/datadisk.vhd"
Add-AzureRmVMDataDisk -VM $vm -Name datadisk -VhdUri $dataDiskUri -DiskSizeInGB 1023 -CreateOption empty | Update-AzureRmVM

# Optional: Attach additional Managed Disks
$vm = Get-AzureRmVM -ResourceGroupName $rgName -Name SAPERPDemo
Add-AzureRmVMDataDisk -VM $vm -Name datadisk -DiskSizeInGB 1023 -CreateOption empty -Lun 0 | Update-AzureRmVM
```

##### <a name="cli"></a><span data-ttu-id="36d1a-1103">CLI</span><span class="sxs-lookup"><span data-stu-id="36d1a-1103">CLI</span></span>
<span data-ttu-id="36d1a-1104">다음 코드 예제는 Linux에서 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1104">The following example code can be used on Linux.</span></span> <span data-ttu-id="36d1a-1105">Windows의 경우 위에서 설명한 것처럼 PowerShell을 사용하거나, 예제를 조정하여 $rgName 대신 %rgName%을 사용하고 Windows 명령 *set*를 사용하여 환경 변수를 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1105">For Windows, please either use PowerShell as described above or adapt the example to use %rgName% instead of $rgName and set the environment variable using the Windows command *set*.</span></span>

* <span data-ttu-id="36d1a-1106">모든 학습/데모 환경에 대한 새 리소스 그룹 만들기</span><span class="sxs-lookup"><span data-stu-id="36d1a-1106">Create a new resource group for every training/demo landscape</span></span>

```
rgName=SAPERPDemo1
rgNameLower=saperpdemo1
az group create --name $rgName --location "North Europe"
```

* <span data-ttu-id="36d1a-1107">새 저장소 계정 만들기</span><span class="sxs-lookup"><span data-stu-id="36d1a-1107">Create a new storage account</span></span>

```
az storage account create --resource-group $rgName --location "North Europe" --kind Storage --sku Standard_LRS --name $rgNameLower
```

* <span data-ttu-id="36d1a-1108">모든 학습/데모 환경에 대해 새 가상 네트워크를 만들어 동일한 호스트 이름 및 IP 주소를 사용하도록 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1108">Create a new virtual network for every training/demo landscape to enable the usage of the same hostname and IP addresses.</span></span> <span data-ttu-id="36d1a-1109">가상 네트워크는 포트 3389로의 트래픽만 허용하여 SSH에 대해 원격 데스크톱 액세스 및 포트 22를 사용하도록 설정하는 네트워크 보안 그룹에 의해 보호됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1109">The virtual network is protected by a Network Security Group that only allows traffic to port 3389 to enable Remote Desktop access and port 22 for SSH.</span></span>

```
az network nsg create --resource-group $rgName --location "North Europe" --name SAPERPDemoNSG
az network nsg rule create --resource-group $rgName --nsg-name SAPERPDemoNSG --name SAPERPDemoNSGRDP --protocol \* --source-address-prefix \* --source-port-range \* --destination-address-prefix \* --destination-port-range 3389 --access Allow --priority 100 --direction Inbound
az network nsg rule create --resource-group $rgName --nsg-name SAPERPDemoNSG --name SAPERPDemoNSGSSH --protocol \* --source-address-prefix \* --source-port-range \* --destination-address-prefix \* --destination-port-range 22 --access Allow --priority 101 --direction Inbound

az network vnet create --resource-group $rgName --name SAPERPDemoVNet --location "North Europe" --address-prefixes 10.0.1.0/24
az network vnet subnet create --resource-group $rgName --vnet-name SAPERPDemoVNet --name Subnet1 --address-prefix 10.0.1.0/24 --network-security-group SAPERPDemoNSG
```

* <span data-ttu-id="36d1a-1110">인터넷에서 가상 컴퓨터에 액세스하는 데 사용할 수 있는 새 공용 IP 주소 만들기</span><span class="sxs-lookup"><span data-stu-id="36d1a-1110">Create a new public IP address that can be used to access the virtual machine from the internet</span></span>

```
az network public-ip create --resource-group $rgName --name SAPERPDemoPIP --location "North Europe" --dns-name $rgNameLower --allocation-method Dynamic
```

* <span data-ttu-id="36d1a-1111">가상 컴퓨터에 대한 새 네트워크 인터페이스 만들기</span><span class="sxs-lookup"><span data-stu-id="36d1a-1111">Create a new network interface for the virtual machine</span></span>

```
az network nic create --resource-group $rgName --location "North Europe" --name SAPERPDemoNIC --public-ip-address SAPERPDemoPIP --subnet Subnet1 --vnet-name SAPERPDemoVNet
```

* <span data-ttu-id="36d1a-1112">가상 컴퓨터를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1112">Create a virtual machine.</span></span> <span data-ttu-id="36d1a-1113">클라우드 전용 시나리오의 경우 모든 VM이 동일한 이름을 갖습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1113">For the Cloud-Only scenario every VM will have the same name.</span></span> <span data-ttu-id="36d1a-1114">해당 VM에 있는 SAP NetWeaver 인스턴스의 SAP SID도 동일하게 유지됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1114">The SAP SID of the SAP NetWeaver instances in those VMs will be the same as well.</span></span> <span data-ttu-id="36d1a-1115">Azure 리소스 그룹 내에서 VM의 이름은 고유해야 하지만 서로 다른 Azure 리소스 그룹에서는 동일한 이름의 VM을 실행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1115">Within the Azure Resource Group, the name of the VM needs to be unique, but in different Azure Resource Groups you can run VMs with the same name.</span></span> <span data-ttu-id="36d1a-1116">Windows의 기본 '관리자' 계정 또는 Linux의 '루트'는 유효하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1116">The default 'Administrator' account of Windows or 'root' for Linux are not valid.</span></span> <span data-ttu-id="36d1a-1117">따라서 새 관리자 사용자 이름을 암호와 함께 정의해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1117">Therefore, a new administrator user name needs to be defined together with a password.</span></span> <span data-ttu-id="36d1a-1118">또한 VM의 크기를 정의해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1118">The size of the VM also needs to be defined.</span></span>

```
#####
# Create virtual machines using storage accounts
#####
az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image MicrosoftWindowsServer:WindowsServer:2012-R2-Datacenter:latest --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image SUSE:SLES-SAP:12-SP1:latest --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os --authentication-type password
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image RedHat:RHEL:7.2:latest --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os --authentication-type password
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image "Oracle:Oracle-Linux:7.2:latest" --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os --authentication-type password

#####
# Create virtual machines using Managed Disks
#####
az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image MicrosoftWindowsServer:WindowsServer:2012-R2-Datacenter:latest --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image SUSE:SLES-SAP:12-SP1:latest --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os --authentication-type password
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image RedHat:RHEL:7.2:latest --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os --authentication-type password
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image "Oracle:Oracle-Linux:7.2:latest" --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os --authentication-type password
```

```
#####
# Create a new virtual machine with a VHD that contains the private image that you want to use
#####
az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --os-type Windows --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os --image <path to image vhd>
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --os-type Linux --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os --image <path to image vhd> --authentication-type password

#####
# Create a new virtual machine with a Managed Disk Image
#####
az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os --image <managed disk image id>
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os --image <managed disk image id> --authentication-type password
```

* <span data-ttu-id="36d1a-1119">필요에 따라 디스크를 더 추가하고 필요한 콘텐츠를 복원합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1119">Optionally add additional disks and restore necessary content.</span></span> <span data-ttu-id="36d1a-1120">모든 blob 이름(blob URL)은 Azure 내에서 고유해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1120">Be aware that all blob names (URLs to the blobs) must be unique within Azure.</span></span>

```
# Optional: Attach additional VHD data disks
az vm unmanaged-disk attach --resource-group $rgName --vm-name SAPERPDemo --size-gb 1023 --vhd-uri https://$rgNameLower.blob.core.windows.net/vhds/data.vhd  --new

# Optional: Attach additional Managed Disks
az vm disk attach --resource-group $rgName --vm-name SAPERPDemo --size-gb 1023 --disk datadisk --new
```

##### <a name="template"></a><span data-ttu-id="36d1a-1121">템플릿</span><span class="sxs-lookup"><span data-stu-id="36d1a-1121">Template</span></span>
<span data-ttu-id="36d1a-1122">github의 azure-quickstart-templates 저장소에 있는 샘플 템플릿을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1122">You can use the sample templates on the azure-quickstart-templates repository on github.</span></span>

* [<span data-ttu-id="36d1a-1123">간단한 Linux VM</span><span class="sxs-lookup"><span data-stu-id="36d1a-1123">Simple Linux VM</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-simple-linux)
* [<span data-ttu-id="36d1a-1124">간단한 Windows VM</span><span class="sxs-lookup"><span data-stu-id="36d1a-1124">Simple Windows VM</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-simple-windows)
* [<span data-ttu-id="36d1a-1125">이미지의 VM</span><span class="sxs-lookup"><span data-stu-id="36d1a-1125">VM from image</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-from-user-image)

### <a name="implement-a-set-of-vms-which-need-to-communicate-within-azure"></a><span data-ttu-id="36d1a-1126">Azure 내에서 통신해야 하는 VM 집합 구현</span><span class="sxs-lookup"><span data-stu-id="36d1a-1126">Implement a set of VMs which need to communicate within Azure</span></span>
<span data-ttu-id="36d1a-1127">이 클라우드 전용 시나리오는 데모 및 학습 시나리오를 나타내는 소프트웨어가 여러 VM에 걸쳐 분산되어 있는 학습 및 데모용 일반 시나리오입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1127">This Cloud-Only scenario is a typical scenario for training and demo purposes where the software representing the demo/training scenario is spread over multiple VMs.</span></span> <span data-ttu-id="36d1a-1128">여러 VM에 설치된 다양한 구성 요소는 서로 통신해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1128">The different components installed in the different VMs need to communicate with each other.</span></span> <span data-ttu-id="36d1a-1129">또한 이 시나리오에서는 온-프레미스 네트워크 통신이나 크로스-프레미스 시나리오가 필요하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1129">Again, in this scenario no on-premises network communication or cross-premises scenario is needed.</span></span>

<span data-ttu-id="36d1a-1130">이 시나리오는 이 문서의 [SAP NetWeaver 데모/학습 시나리오가 있는 단일 VM][planning-guide-7.1] 장에서 설명한 설치의 확장입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1130">This scenario is an extension of the installation described in chapter [Single VM with SAP NetWeaver demo/training scenario][planning-guide-7.1] of this document.</span></span> <span data-ttu-id="36d1a-1131">이 경우 더 많은 가상 컴퓨터가 기존 리소스 그룹에 추가됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1131">In this case more virtual machines will be added to an existing resource group.</span></span> <span data-ttu-id="36d1a-1132">다음 예제에서 교육 환경은 SAP ASCS/SCS VM, DBMS가 실행되는 VM 및 SAP 응용 프로그램 서버 인스턴스 VM으로 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1132">In the following example the training landscape consists of an SAP ASCS/SCS VM, a VM running a DBMS and an SAP Application Server instance VM.</span></span>

<span data-ttu-id="36d1a-1133">이 시나리오를 작성하기 전에 시나리오에서 이미 실행한 기본 설정을 고려해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1133">Before you build this scenario you need to think about basic settings as already exercised in the scenario before.</span></span>

#### <a name="resource-group-and-virtual-machine-naming"></a><span data-ttu-id="36d1a-1134">리소스 그룹 및 가상 컴퓨터 이름 지정</span><span class="sxs-lookup"><span data-stu-id="36d1a-1134">Resource Group and Virtual Machine naming</span></span>
<span data-ttu-id="36d1a-1135">모든 리소스 그룹 이름은 고유해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1135">All resource group names must be unique.</span></span> <span data-ttu-id="36d1a-1136">`<rg-name`>-접미사와 같은 리소스의 고유한 이름 지정 체계를 개발합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1136">Develop your own naming scheme of your resources, such as `<rg-name`>-suffix.</span></span>

<span data-ttu-id="36d1a-1137">가상 컴퓨터 이름은 리소스 그룹 내에서 고유해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1137">The virtual machine name has to be unique within the resource group.</span></span>

#### <a name="set-up-network-for-communication-between-the-different-vms"></a><span data-ttu-id="36d1a-1138">여러 VM 간의 통신을 위한 네트워크 설정</span><span class="sxs-lookup"><span data-stu-id="36d1a-1138">Set up Network for communication between the different VMs</span></span>
![Azure 가상 네트워크 내의 VM 집합][planning-guide-figure-1900]

<span data-ttu-id="36d1a-1140">동일한 학습/데모 환경의 복제본과의 이름 충돌을 방지하려면 모든 환경에 대해 Azure 가상 네트워크를 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1140">To prevent naming collisions with clones of the same training/demo landscapes, you need to create an Azure Virtual Network for every landscape.</span></span> <span data-ttu-id="36d1a-1141">Azure에서 제공하는 DNS 이름 확인을 사용하거나 Azure 외부에서 자체 DNS 서버를 구성할 수도 있습니다(여기서는 자세히 다루지 않음).</span><span class="sxs-lookup"><span data-stu-id="36d1a-1141">DNS name resolution will be provided by Azure or you can configure your own DNS server outside Azure (not to be further discussed here).</span></span> <span data-ttu-id="36d1a-1142">이 시나리오에서는 자체 DNS를 구성하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1142">In this scenario we do not configure our own DNS.</span></span> <span data-ttu-id="36d1a-1143">단일 Azure Virtual Network 내의 모든 가상 컴퓨터의 경우 호스트 이름을 통한 통신이 사용되도록 설정됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1143">For all virtual machines inside one Azure Virtual Network, communication via hostnames will be enabled.</span></span>

<span data-ttu-id="36d1a-1144">단지 리소스 그룹만이 아니라 가상 네트워크를 기준으로 학습 또는 데모 환경을 구분하는 이유는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1144">The reasons to separate training or demo landscapes by virtual networks and not only resource groups could be:</span></span>

* <span data-ttu-id="36d1a-1145">설정된 SAP 지형에는 자체 AD/OpenLDAP가 필요하고 도메인 서버는 각 지형의 일부가 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1145">The SAP landscape as set up needs its own AD/OpenLDAP and a Domain Server needs to be part of each of the landscapes.</span></span>  
* <span data-ttu-id="36d1a-1146">설정된 SAP 지형에는 고정된 IP 주소를 사용해야 하는 구성 요소가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1146">The SAP landscape as set up has components that need to work with fixed IP addresses.</span></span>

<span data-ttu-id="36d1a-1147">Azure Virtual Networks 및 이러한 네트워크를 정의하는 방법에 대한 자세한 내용은 [이 문서][virtual-networks-create-vnet-arm-pportal]에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1147">More details about Azure Virtual Networks and how to define them can be found in [this article][virtual-networks-create-vnet-arm-pportal].</span></span>

## <a name="deploying-sap-vms-with-corporate-network-connectivity-cross-premises"></a><span data-ttu-id="36d1a-1148">회사 네트워크 연결을 사용하여 SAP VM 배포(프레미스 간)</span><span class="sxs-lookup"><span data-stu-id="36d1a-1148">Deploying SAP VMs with Corporate Network Connectivity (Cross-Premises)</span></span>
<span data-ttu-id="36d1a-1149">SAP 지형을 실행하고 고급 DBMS 서버용 운영 체제 미설치 영역, 응용 프로그램 계층 및 보다 작은 2계층으로 구성된 SAP 시스템과 Azure IaaS에 대한 온-프레미스 가상화 환경 간에 배포를 나눌 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1149">You run an SAP landscape and want to divide the deployment between bare-metal for high-end DBMS servers, on-premises virtualized environments for application layers and smaller 2-Tier configured SAP systems and Azure IaaS.</span></span> <span data-ttu-id="36d1a-1150">기본 가정은 단일 SAP 지형 내의 SAP 시스템은 배포 형식에 관계없이 서로 간에, 그리고 회사에 배포된 여러 다른 소프트웨어 구성 요소와 통신해야 한다는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1150">The base assumption is that SAP systems within one SAP landscape need to communicate with each other and with many other software components deployed in the company, independent of their deployment form.</span></span> <span data-ttu-id="36d1a-1151">SAP GUI를 사용하여 연결하는 최종 사용자와 다른 인터페이스를 사용하여 연결하는 사용자는 배포 형식에 따른 차이를 느끼지 못해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1151">There also should be no differences introduced by the deployment form for the end user connecting with SAP GUI or other interfaces.</span></span> <span data-ttu-id="36d1a-1152">이러한 조건은 온-프레미스 Active Directory/OpenLDAP 및 DNS 서비스를 사이트 간/다중 사이트 연결 또는 개인 연결(예: Azure Express 경로)을 통해 Azure 시스템으로 확장할 때만 충족될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1152">These conditions can only be met when we have the on-premises Active Directory/OpenLDAP and DNS services extended to the Azure systems through site-to-site/multi-site connectivity or private connections like Azure ExpressRoute.</span></span>

<span data-ttu-id="36d1a-1153">Azure의 SAP 구현 세부 사항에 대한 배경 지식을 얻으려면 이 문서의 [SAP 인스턴스의 클라우드 전용 배포 개념][planning-guide-7] 장을 읽어보세요. 여기서는 Azure 기본 구조의 일부와 Azure에서 SAP 응용 프로그램을 통해 이러한 구조를 사용하는 방법을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1153">In order to get more background on the implementation details of SAP on Azure, we encourage you to read chapter [Concepts of Cloud-Only deployment of SAP instances][planning-guide-7] of this document which explains some of the basics constructs of Azure and how these should be used with SAP applications in Azure.</span></span>

### <a name="scenario-of-an-sap-landscape"></a><span data-ttu-id="36d1a-1154">SAP 지형 시나리오</span><span class="sxs-lookup"><span data-stu-id="36d1a-1154">Scenario of an SAP landscape</span></span>
<span data-ttu-id="36d1a-1155">크로스-프레미스 시나리오는 아래 그래픽과 같이 대략적으로 나타낼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1155">The cross-premises scenario can be roughly described like in the graphics below:</span></span>

![온-프레미스와 Azure 자산 간의 사이트 간 연결][planning-guide-figure-2100]

<span data-ttu-id="36d1a-1157">위에 나와 있는 시나리오는 온-프레미스 AD/OpenLDAP 및 DNS가 Azure로 확장되는 시나리오를 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1157">The scenario shown above describes a scenario where the on-premises AD/OpenLDAP and DNS are extended to Azure.</span></span> <span data-ttu-id="36d1a-1158">온-프레미스 쪽에서 특정 IP 주소 범위는 Azure 구독을 기준으로 예약됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1158">On the on-premises side, a certain IP address range is reserved per Azure subscription.</span></span> <span data-ttu-id="36d1a-1159">IP 주소 범위는 Azure 쪽의 Azure 가상 네트워크에 할당됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1159">The IP address range will be assigned to an Azure Virtual Network on the Azure side.</span></span>

#### <a name="security-considerations"></a><span data-ttu-id="36d1a-1160">보안 고려 사항</span><span class="sxs-lookup"><span data-stu-id="36d1a-1160">Security considerations</span></span>
<span data-ttu-id="36d1a-1161">최소 요구 사항은 Azure 서비스의 브라우저 액세스를 위해서는 SSL/TLS, 시스템 액세스를 위해서는 VPN 기반 연결과 같은 보안 통신 프로토콜의 사용입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1161">The minimum requirement is the use of secure communication protocols such as SSL/TLS for browser access or VPN-based connections for system access to the Azure services.</span></span> <span data-ttu-id="36d1a-1162">단, 회사에서는 회사 네트워크와 Azure 간의 VPN 연결을 매우 다르게 처리하는 것을 전제로 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1162">The assumption is that companies handle the VPN connection between their corporate network and Azure very differently.</span></span> <span data-ttu-id="36d1a-1163">일부 회사에서는 모든 포트를 완전히 열어둘 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1163">Some companies might blankly open all the ports.</span></span> <span data-ttu-id="36d1a-1164">또 다른 회사에서는 열어야 하는 포트를 매우 정확하게 지정하려고 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1164">Some other companies might want to be very precise in which ports they need to open, etc.</span></span>

<span data-ttu-id="36d1a-1165">아래 표에는 일반적인 SAP 통신 포트가 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1165">In the table below typical SAP communication ports are listed.</span></span> <span data-ttu-id="36d1a-1166">기본적으로 SAP 게이트웨이 포트만 열어도 충분합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1166">Basically it is sufficient to open the SAP gateway port.</span></span>

| <span data-ttu-id="36d1a-1167">부여</span><span class="sxs-lookup"><span data-stu-id="36d1a-1167">Service</span></span> | <span data-ttu-id="36d1a-1168">포트 이름</span><span class="sxs-lookup"><span data-stu-id="36d1a-1168">Port Name</span></span> | <span data-ttu-id="36d1a-1169">예: `<nn`> = 01</span><span class="sxs-lookup"><span data-stu-id="36d1a-1169">Example `<nn`> = 01</span></span> | <span data-ttu-id="36d1a-1170">기본 범위(최소-최대)</span><span class="sxs-lookup"><span data-stu-id="36d1a-1170">Default Range (min-max)</span></span> | <span data-ttu-id="36d1a-1171">주석</span><span class="sxs-lookup"><span data-stu-id="36d1a-1171">Comment</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="36d1a-1172">디스패처</span><span class="sxs-lookup"><span data-stu-id="36d1a-1172">Dispatcher</span></span> |<span data-ttu-id="36d1a-1173">sapdp`<nn>` 참조: *</span><span class="sxs-lookup"><span data-stu-id="36d1a-1173">sapdp`<nn>` see *</span></span> |<span data-ttu-id="36d1a-1174">3201</span><span class="sxs-lookup"><span data-stu-id="36d1a-1174">3201</span></span> |<span data-ttu-id="36d1a-1175">3200 – 3299</span><span class="sxs-lookup"><span data-stu-id="36d1a-1175">3200 – 3299</span></span> |<span data-ttu-id="36d1a-1176">SAP 디스패처, Windows 및 Java용 SAP GUI에서 사용</span><span class="sxs-lookup"><span data-stu-id="36d1a-1176">SAP Dispatcher, used by SAP GUI for Windows and Java</span></span> |
| <span data-ttu-id="36d1a-1177">메시지 서버</span><span class="sxs-lookup"><span data-stu-id="36d1a-1177">Message server</span></span> |<span data-ttu-id="36d1a-1178">sapms`<sid`> 참조: **</span><span class="sxs-lookup"><span data-stu-id="36d1a-1178">sapms`<sid`> see **</span></span> |<span data-ttu-id="36d1a-1179">3600</span><span class="sxs-lookup"><span data-stu-id="36d1a-1179">3600</span></span> |<span data-ttu-id="36d1a-1180">제한 없는 sapms`<anySID`></span><span class="sxs-lookup"><span data-stu-id="36d1a-1180">free sapms`<anySID`></span></span> |<span data-ttu-id="36d1a-1181">sid = SAP-System-ID</span><span class="sxs-lookup"><span data-stu-id="36d1a-1181">sid = SAP-System-ID</span></span> |
| <span data-ttu-id="36d1a-1182">게이트웨이</span><span class="sxs-lookup"><span data-stu-id="36d1a-1182">Gateway</span></span> |<span data-ttu-id="36d1a-1183">sapgw`<nn`> 참조: *</span><span class="sxs-lookup"><span data-stu-id="36d1a-1183">sapgw`<nn`> see *</span></span> |<span data-ttu-id="36d1a-1184">3301</span><span class="sxs-lookup"><span data-stu-id="36d1a-1184">3301</span></span> |<span data-ttu-id="36d1a-1185">제한 없음</span><span class="sxs-lookup"><span data-stu-id="36d1a-1185">free</span></span> |<span data-ttu-id="36d1a-1186">SAP 게이트웨이, CPIC 및 RFC 통신에 사용</span><span class="sxs-lookup"><span data-stu-id="36d1a-1186">SAP gateway, used for CPIC and RFC communication</span></span> |
| <span data-ttu-id="36d1a-1187">SAP 라우터</span><span class="sxs-lookup"><span data-stu-id="36d1a-1187">SAP router</span></span> |<span data-ttu-id="36d1a-1188">sapdp99</span><span class="sxs-lookup"><span data-stu-id="36d1a-1188">sapdp99</span></span> |<span data-ttu-id="36d1a-1189">3299</span><span class="sxs-lookup"><span data-stu-id="36d1a-1189">3299</span></span> |<span data-ttu-id="36d1a-1190">제한 없음</span><span class="sxs-lookup"><span data-stu-id="36d1a-1190">free</span></span> |<span data-ttu-id="36d1a-1191">CI(중앙 인스턴스) 서비스 이름만 설치한 후에 /etc/services에서 임의 값으로 재할당될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1191">Only CI (central instance) Service names can be reassigned in /etc/services to an arbitrary value after installation.</span></span> |

<span data-ttu-id="36d1a-1192">*) nn = SAP 인스턴스 번호</span><span class="sxs-lookup"><span data-stu-id="36d1a-1192">*) nn = SAP Instance Number</span></span>

<span data-ttu-id="36d1a-1193">**) sid = SAP-System-ID</span><span class="sxs-lookup"><span data-stu-id="36d1a-1193">**) sid = SAP-System-ID</span></span>

<span data-ttu-id="36d1a-1194">여러 SAP 제품에 필요한 포트 또는 SAP 제품 서비스에 대한 자세한 내용은 여기 <http://scn.sap.com/docs/DOC-17124>에서 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1194">More detailed information on ports required for different SAP products or services by SAP products can be found here <http://scn.sap.com/docs/DOC-17124>.</span></span>
<span data-ttu-id="36d1a-1195">이 문서를 사용할 경우 특정 SAP 제품 및 시나리오에 필요한 VPN 장치에서 전용 포트를 열 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1195">With this document you should be able to open dedicated ports in the VPN device necessary for specific SAP products and scenarios.</span></span>

<span data-ttu-id="36d1a-1196">이러한 시나리오에서 VM을 배포할 경우 다른 보안 조치는 [네트워크 보안 그룹][virtual-networks-nsg]을 만들어 액세스 규칙을 정의할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1196">Other security measures when deploying VMs in such a scenario could be to create a [Network Security Group][virtual-networks-nsg] to define access rules.</span></span>

### <a name="dealing-with-different-virtual-machine-series"></a><span data-ttu-id="36d1a-1197">다른 가상 컴퓨터 시리즈 처리</span><span class="sxs-lookup"><span data-stu-id="36d1a-1197">Dealing with different Virtual Machine Series</span></span>
<span data-ttu-id="36d1a-1198">지난 12개월 동안 Microsoft는 vCPU 수, 메모리 또는 좀 더 중요하게 VM이 실행되는 하드웨어가 다른 VM 유형을 추가했습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1198">In the course of last 12 months Microsoft added many more VM types that differ either in number of vCPUs, memory or more important on hardware it is running on.</span></span> <span data-ttu-id="36d1a-1199">이러한 모든 VM이 SAP에서 지원되는 것은 아닙니다(SAP 정보 [1928533]에서 지원되는 VM 형식 참조).</span><span class="sxs-lookup"><span data-stu-id="36d1a-1199">Not all those VMs are supported with SAP (see supported VM types in SAP Note [1928533]).</span></span> <span data-ttu-id="36d1a-1200">해당 VM 중 일부는 다른 호스트 하드웨어 세대에서 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1200">Some of those VMs run on different host hardware generations.</span></span> <span data-ttu-id="36d1a-1201">이러한 호스트 하드웨어 세대는 Azure 확장 단위 세분성에 따라 배포됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1201">These host hardware generations are getting deployed in the granularity of an Azure Scale-Unit.</span></span> <span data-ttu-id="36d1a-1202">선택한 다른 크기의 VM을 같은 확장 단위로 실행할 수 없는 골치 아픈 경우가 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1202">Means cases may arise where the different VM sizes you chose can’t be run on the same Scale-Unit.</span></span> <span data-ttu-id="36d1a-1203">가용성 집합은 다른 하드웨어를 기반으로 확장 단위를 넓히는 능력이 제한되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1203">An Availability Set is limited in the ability to span Scale-Units based of different hardware.</span></span>  <span data-ttu-id="36d1a-1204">예를 들어 DBMS는 A5-A11 VM에서 실행하고, SAP 응용 프로그램 계층은 G 시리즈 VM에서 실행하려는 경우 단일 SAP 시스템 또는 다른 SAP 시스템을 다른 가용성 집합 내에서 배포할 수밖에 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1204">For example if you want to run the DBMS on A5-A11 VMs and the SAP application layer on G-Series VMs, you would be forced to deploy a single SAP system or different SAP systems within different Availability Sets.</span></span>

#### <a name="printing-on-a-local-network-printer-from-sap-instance-in-azure"></a><span data-ttu-id="36d1a-1205">Azure의 SAP 인스턴스에서 로컬 네트워크 프린터로 인쇄</span><span class="sxs-lookup"><span data-stu-id="36d1a-1205">Printing on a local network printer from SAP instance in Azure</span></span>
##### <a name="printing-over-tcpip-in-cross-premises-scenario"></a><span data-ttu-id="36d1a-1206">프레미스 간 시나리오에서 TCP/IP를 통해 인쇄</span><span class="sxs-lookup"><span data-stu-id="36d1a-1206">Printing over TCP/IP in Cross-Premises scenario</span></span>
<span data-ttu-id="36d1a-1207">Azure VM에서 온-프레미스 TCP/IP 기반 네트워크 프린터를 설정하는 것은 VPN 사이트 간 터널 또는 Express 경로 연결을 설정했다고 가정할 경우 회사 네트워크에서 작업하는 경우와 전반적으로 동일합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1207">Setting up your on-premises TCP/IP based network printers in an Azure VM is overall the same as in your corporate network, assuming you do have a VPN Site-To-Site tunnel or ExpressRoute connection established.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="36d1a-1209">Windows</span><span class="sxs-lookup"><span data-stu-id="36d1a-1209">Windows</span></span>
>
> <span data-ttu-id="36d1a-1210">다음을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1210">To do this:</span></span>
>
> * <span data-ttu-id="36d1a-1211">일부 네트워크 프린터에는 Azure VM에서 프린터를 쉽게 설정할 수 있도록 하는 구성 마법사가 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1211">Some network printers come with a configuration wizard which makes it easy to set up your printer in an Azure VM.</span></span> <span data-ttu-id="36d1a-1212">마법사 소프트웨어가 프린터와 함께 배포되지 않은 경우 프린터를 설정하는 "수동" 방법은 새 TCP/IP 프린터 포트를 만드는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1212">If no wizard software has been distributed with the printer the “manual” way to set up the printer is to create a new TCP/IP printer port.</span></span>
> * <span data-ttu-id="36d1a-1213">열기 제어판 -> 장치 및 프린터 -> 프린터 추가 열기</span><span class="sxs-lookup"><span data-stu-id="36d1a-1213">Open Control Panel -> Devices and Printers -> Add a printer</span></span>
> * <span data-ttu-id="36d1a-1214">TCP/IP 주소 또는 호스트 이름을 사용하여 프린터 추가 선택</span><span class="sxs-lookup"><span data-stu-id="36d1a-1214">Choose Add a printer using a TCP/IP address or hostname</span></span>
> * <span data-ttu-id="36d1a-1215">프린터의 IP 주소 입력</span><span class="sxs-lookup"><span data-stu-id="36d1a-1215">Type in the IP address of the printer</span></span>
> * <span data-ttu-id="36d1a-1216">프린터 포트 표준 9100</span><span class="sxs-lookup"><span data-stu-id="36d1a-1216">Printer Port standard 9100</span></span>
> * <span data-ttu-id="36d1a-1217">필요한 경우 적절한 프린터 드라이버를 수동으로 설치합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1217">If necessary install the appropriate printer driver manually.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="36d1a-1219">Linux</span><span class="sxs-lookup"><span data-stu-id="36d1a-1219">Linux</span></span>
>
> * <span data-ttu-id="36d1a-1220">Windows의 경우처럼 네트워크 프린터를 설치하는 표준 절차를 따릅니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1220">like for Windows just follow the standard procedure to install a network printer</span></span>
> * <span data-ttu-id="36d1a-1221">[SUSE](https://www.suse.com/documentation/sles-12/book_sle_deployment/data/sec_y2_hw_print.html) 또는 [Red Hat 및 Oracle Linux](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Deployment_Guide/sec-Printer_Configuration.html)의 공용 Linux 가이드에서 프린터 추가 방법을 따르세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1221">just follow the public Linux guides for [SUSE](https://www.suse.com/documentation/sles-12/book_sle_deployment/data/sec_y2_hw_print.html) or [Red Hat and Oracle Linux](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Deployment_Guide/sec-Printer_Configuration.html) on how to add a printer.</span></span>
>
>

- - -
![네트워크 인쇄][planning-guide-figure-2200]

##### <a name="host-based-printer-over-smb-shared-printer-in-cross-premises-scenario"></a><span data-ttu-id="36d1a-1223">프레미스 간 시나리오에서 SMB를 통한 호스트 기반 프린터(공유 프린터)</span><span class="sxs-lookup"><span data-stu-id="36d1a-1223">Host-based printer over SMB (shared printer) in Cross-Premises scenario</span></span>
<span data-ttu-id="36d1a-1224">호스트 기반 프린터는 기본적으로 네트워크와 호환되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1224">Host-based printers are not network-compatible by design.</span></span> <span data-ttu-id="36d1a-1225">그러나 전원이 켜진 컴퓨터에 프린터가 연결되기만 하면 네트워크 상의 컴퓨터 간에 호스트 기반 프린터가 공유될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1225">But a host-based printer can be shared among computers on a network as long as the printer is connected to a powered-on computer.</span></span> <span data-ttu-id="36d1a-1226">회사 네트워크를 사이트 간 또는 Express 경로에 연결하고 로컬 프린터를 공유합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1226">Connect your corporate network either Site-To-Site or ExpressRoute and share your local printer.</span></span> <span data-ttu-id="36d1a-1227">SMB 프로토콜은 이름 서비스로 DNS가 아닌 NetBIOS를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1227">The SMB protocol uses NetBIOS instead of DNS as name service.</span></span> <span data-ttu-id="36d1a-1228">NetBIOS 호스트 이름은 DNS 호스트 이름과 다를 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1228">The NetBIOS host name can be different from the DNS host name.</span></span> <span data-ttu-id="36d1a-1229">NetBIOS 호스트 이름과 DNS 호스트 이름이 동일한 경우가 일반적인 경우입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1229">The standard case is that the NetBIOS host name and the DNS host name are identical.</span></span> <span data-ttu-id="36d1a-1230">DNS 도메인은 NetBIOS 네임스페이스에서는 의미가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1230">The DNS domain does not make sense in the NetBIOS name space.</span></span> <span data-ttu-id="36d1a-1231">따라서 DNS 호스트 이름과 DNS 도메인으로 이루어진 정규화된 DNS 호스트 이름은 NetBIOS 네임스페이스에서 사용하지 말아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1231">Accordingly, the fully qualified DNS host name consisting of the DNS host name and DNS domain must not be used in the NetBIOS name space.</span></span>

<span data-ttu-id="36d1a-1232">프린터 공유는 네트워크에서 고유한 이름으로 식별됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1232">The printer share is identified by a unique name in the network:</span></span>

* <span data-ttu-id="36d1a-1233">SMB 호스트의 호스트 이름(항상 필수)</span><span class="sxs-lookup"><span data-stu-id="36d1a-1233">Host name of the SMB host (always needed).</span></span>
* <span data-ttu-id="36d1a-1234">공유의 이름(항상 필수)</span><span class="sxs-lookup"><span data-stu-id="36d1a-1234">Name of the share (always needed).</span></span>
* <span data-ttu-id="36d1a-1235">프린터 공유가 SAP 시스템과 같은 도메인에 있지 않은 경우 도메인의 이름</span><span class="sxs-lookup"><span data-stu-id="36d1a-1235">Name of the domain if printer share is not in the same domain as SAP system.</span></span>
* <span data-ttu-id="36d1a-1236">또한 프린터 공유에 액세스하기 위해 사용자 이름과 암호가 필요할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1236">Additionally, a user name and a password may be required to access the printer share.</span></span>

<span data-ttu-id="36d1a-1237">방법:</span><span class="sxs-lookup"><span data-stu-id="36d1a-1237">How to:</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="36d1a-1239">Windows</span><span class="sxs-lookup"><span data-stu-id="36d1a-1239">Windows</span></span>
>
> <span data-ttu-id="36d1a-1240">로컬 프린터를 공유합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1240">Share your local printer.</span></span>
> <span data-ttu-id="36d1a-1241">Azure VM에서 Windows 탐색기를 열고 프린터의 공유 이름을 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1241">In the Azure VM, open the Windows Explorer and type in the share name of the printer.</span></span>
> <span data-ttu-id="36d1a-1242">프린터 설치 마법사가 설치 프로세스를 안내합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1242">A printer installation wizard will guide you through the installation process.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="36d1a-1244">Linux</span><span class="sxs-lookup"><span data-stu-id="36d1a-1244">Linux</span></span>
>
> <span data-ttu-id="36d1a-1245">다음은 Linux의 네트워크 프린터 구성에 대한 설명서의 몇 가지 예입니다. 여기에는 Linux의 인쇄에 대한 장도 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1245">Here are some examples of documentation about configuring network printers in Linux or including a chapter regarding printing in Linux.</span></span> <span data-ttu-id="36d1a-1246">VM이 VPN에 속할 경우 Azure Linux VM의 경우와 동일한 방식으로 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1246">It will work the same way in an Azure Linux VM as long as the VM is part of a VPN:</span></span>
>
> * <span data-ttu-id="36d1a-1247">SLES <https://en.opensuse.org/SDB:Printing_via_SMB_(Samba)_Share_or_Windows_Share></span><span class="sxs-lookup"><span data-stu-id="36d1a-1247">SLES <https://en.opensuse.org/SDB:Printing_via_SMB_(Samba)_Share_or_Windows_Share></span></span>
> * <span data-ttu-id="36d1a-1248">RHEL 또는 Oracle Linux <https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/System_Administrators_Guide/sec-Printer_Configuration.html#s1-printing-smb-printer></span><span class="sxs-lookup"><span data-stu-id="36d1a-1248">RHEL or Oracle Linux <https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/System_Administrators_Guide/sec-Printer_Configuration.html#s1-printing-smb-printer></span></span>
>
>

- - -
##### <a name="usb-printer-printer-forwarding"></a><span data-ttu-id="36d1a-1249">USB 프린터(프린터 전달)</span><span class="sxs-lookup"><span data-stu-id="36d1a-1249">USB Printer (printer forwarding)</span></span>
<span data-ttu-id="36d1a-1250">Azure에서는 원격 세션에서 사용자가 로컬 프린터 장치에 액세스할 수 있도록 하는 원격 데스크톱 서비스의 기능을 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1250">In Azure the ability of the Remote Desktop Services to provide users the access to their local printer devices in a remote session is not available.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="36d1a-1252">Windows</span><span class="sxs-lookup"><span data-stu-id="36d1a-1252">Windows</span></span>
>
> <span data-ttu-id="36d1a-1253">Windows 인쇄에 대한 자세한 내용은 여기 <http://technet.microsoft.com/library/jj590748.aspx>에서 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1253">More details on printing with Windows can be found here: <http://technet.microsoft.com/library/jj590748.aspx>.</span></span>
>
>

- - -
#### <a name="integration-of-sap-azure-systems-into-correction-and-transport-system-tms-in-cross-premises"></a><span data-ttu-id="36d1a-1254">프레미스 간에 SAP Azure 시스템을 Correction and Transport System(TMS)에 통합</span><span class="sxs-lookup"><span data-stu-id="36d1a-1254">Integration of SAP Azure Systems into Correction and Transport System (TMS) in Cross-Premises</span></span>
<span data-ttu-id="36d1a-1255">SAP Change and Transport System(TMS)은 지형 내에서 시스템 간에 전송 요청을 내보내고 가져오도록 구성되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1255">The SAP Change and Transport System (TMS) needs to be configured to export and import transport request across systems in the landscape.</span></span> <span data-ttu-id="36d1a-1256">QA(품질 보증) 및 PRD(생산 시스템)은 온-프레미스에 있지만 SAP 시스템의 DEV(개발) 인스턴스는 Azure에 있다고 가정해 보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1256">We assume that the development instances of an SAP system (DEV) are located in Azure whereas the quality assurance (QA) and productive systems (PRD) are on-premises.</span></span> <span data-ttu-id="36d1a-1257">또한 중앙 전송 디렉터리가 있다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1257">Furthermore, we assume that there is a central transport directory.</span></span>

##### <a name="configuring-the-transport-domain"></a><span data-ttu-id="36d1a-1258">전송 도메인 구성</span><span class="sxs-lookup"><span data-stu-id="36d1a-1258">Configuring the Transport Domain</span></span>
<span data-ttu-id="36d1a-1259">[전송 도메인 컨트롤러 구성](http://help.sap.com/erp2005_ehp_04/helpdata/en/44/b4a0b47acc11d1899e0000e829fbbd/content.htm)에 설명된 대로 전송 도메인 컨트롤러로 지정한 시스템에서 전송 도메인을 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1259">Configure your Transport Domain on the system you designated as the Transport Domain Controller as described in [Configuring the Transport Domain Controller](http://help.sap.com/erp2005_ehp_04/helpdata/en/44/b4a0b47acc11d1899e0000e829fbbd/content.htm).</span></span> <span data-ttu-id="36d1a-1260">시스템 사용자 TMSADM이 만들어지고 필수 RFC 대상이 생성됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1260">A system user TMSADM will be created and the required RFC destination will be generated.</span></span> <span data-ttu-id="36d1a-1261">트랜잭션 SM59를 사용하여 이러한 RFC 연결을 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1261">You may check these RFC connections using the transaction SM59.</span></span> <span data-ttu-id="36d1a-1262">전송 도메인 전체에서 호스트 이름 확인을 사용할 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1262">Hostname resolution must be enabled across your transport domain.</span></span>

<span data-ttu-id="36d1a-1263">방법:</span><span class="sxs-lookup"><span data-stu-id="36d1a-1263">How to:</span></span>

* <span data-ttu-id="36d1a-1264">이 시나리오에서는 온-프레미스 QAS 시스템을 CTS 도메인 컨트롤러로 결정했습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1264">In our scenario we decided the on-premises QAS system will be the CTS domain controller.</span></span> <span data-ttu-id="36d1a-1265">트랜잭션 STMS를 호출합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1265">Call transaction STMS.</span></span> <span data-ttu-id="36d1a-1266">TMS 대화 상자가 나타납니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1266">The TMS dialog box appears.</span></span> <span data-ttu-id="36d1a-1267">전송 도메인 구성 대화 상자가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1267">A Configure Transport Domain dialog box is displayed.</span></span> <span data-ttu-id="36d1a-1268">이 대화 상자는 전송 도메인을 아직 구성하지 않은 경우에만 나타납니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1268">(This dialog box only appears if you have not yet configured a transport domain.)</span></span>
* <span data-ttu-id="36d1a-1269">자동으로 만들어진 사용자 TMSADM에 권한이 부여되었는지 확인합니다(SM59 -> ABAP 연결 -> TMSADM@E61.DOMAIN_E61 -> 세부 정보 -> 유틸리티(M) -> 권한 부여 테스트).</span><span class="sxs-lookup"><span data-stu-id="36d1a-1269">Make sure that the automatically created user TMSADM is authorized (SM59 -> ABAP Connection -> TMSADM@E61.DOMAIN_E61 -> Details -> Utilities(M) -> Authorization Test).</span></span> <span data-ttu-id="36d1a-1270">여기에 표시된 것처럼 트랜잭션 STMS의 초기 화면에는 이 SAP 시스템이 전송 도메인의 컨트롤러로 작동하는지 표시되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1270">The initial screen of transaction STMS should show that this SAP System is now functioning as the controller of the transport domain as shown here:</span></span>

![도메인 컨트롤러의 트랜잭션 STMS 초기 화면][planning-guide-figure-2300]

#### <a name="including-sap-systems-in-the-transport-domain"></a><span data-ttu-id="36d1a-1272">전송 도메인에 SAP 시스템 포함</span><span class="sxs-lookup"><span data-stu-id="36d1a-1272">Including SAP Systems in the Transport Domain</span></span>
<span data-ttu-id="36d1a-1273">전송 도메인에 SAP 시스템을 포함하는 순서는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1273">The sequence of including an SAP system in a transport domain looks as follows:</span></span>

* <span data-ttu-id="36d1a-1274">Azure의 DEV 시스템에서 전송 시스템(클라이언트 000)으로 이동한 다음 트랜잭션 STMS를 호출합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1274">On the DEV system in Azure, go to the transport system (Client 000) and call transaction STMS.</span></span> <span data-ttu-id="36d1a-1275">대화 상자에서 기타 구성을 선택하고 도메인에 시스템 포함 작업을 계속 진행합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1275">Choose Other Configuration from the dialog box and continue with Include System in Domain.</span></span> <span data-ttu-id="36d1a-1276">도메인 컨트롤러를 대상 호스트로 지정합니다([전송 도메인에 SAP 시스템 포함](http://help.sap.com/erp2005_ehp_04/helpdata/en/44/b4a0c17acc11d1899e0000e829fbbd/content.htm?frameset=/en/44/b4a0b47acc11d1899e0000e829fbbd/frameset.htm)).</span><span class="sxs-lookup"><span data-stu-id="36d1a-1276">Specify the Domain Controller as target host ([Including SAP Systems in the Transport Domain](http://help.sap.com/erp2005_ehp_04/helpdata/en/44/b4a0c17acc11d1899e0000e829fbbd/content.htm?frameset=/en/44/b4a0b47acc11d1899e0000e829fbbd/frameset.htm)).</span></span> <span data-ttu-id="36d1a-1277">이제 시스템은 전송 도메인에 포함될 때까지 대기합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1277">The system is now waiting to be included in the transport domain.</span></span>
* <span data-ttu-id="36d1a-1278">보안상의 이유로 도메인 컨트롤러로 다시 돌아가 사용자 요청을 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1278">For security reasons, you then have to go back to the domain controller to confirm your request.</span></span> <span data-ttu-id="36d1a-1279">대기 중인 시스템의 시스템 개요 및 승인을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1279">Choose System Overview and Approve of the waiting system.</span></span> <span data-ttu-id="36d1a-1280">그런 후 메시지를 확인하면 구성이 배포됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1280">Then confirm the prompt and the configuration will be distributed.</span></span>

<span data-ttu-id="36d1a-1281">이제 이 SAP 시스템에는 전송 도메인의 다른 모든 SAP 시스템에 대해 필요한 정보가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1281">This SAP system now contains the necessary information about all the other SAP systems in the transport domain.</span></span> <span data-ttu-id="36d1a-1282">동시에, 새 SAP 시스템의 주소 데이터가 다른 모든 SAP 시스템으로 전송되고 SAP 시스템은 전송 제어 프로그램의 전송 프로필에 입력됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1282">At the same time, the address data of the new SAP system is sent to all the other SAP systems, and the SAP system is entered in the transport profile of the transport control program.</span></span> <span data-ttu-id="36d1a-1283">도메인의 전송 디렉터리에 대한 액세스와 RFC가 작동하는지 여부를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1283">Check whether RFCs and access to the transport directory of the domain work.</span></span>

<span data-ttu-id="36d1a-1284">[시스템 변경 및 전송](http://help.sap.com/saphelp_nw70ehp3/helpdata/en/48/c4300fca5d581ce10000000a42189c/content.htm?frameset=/en/44/b4a0b47acc11d1899e0000e829fbbd/frameset.htm)설명서에 설명된 대로 전송 시스템 구성을 계속 진행합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1284">Continue with the configuration of your transport system as usual as described in the documentation [Change and Transport System](http://help.sap.com/saphelp_nw70ehp3/helpdata/en/48/c4300fca5d581ce10000000a42189c/content.htm?frameset=/en/44/b4a0b47acc11d1899e0000e829fbbd/frameset.htm).</span></span>

<span data-ttu-id="36d1a-1285">방법:</span><span class="sxs-lookup"><span data-stu-id="36d1a-1285">How to:</span></span>

* <span data-ttu-id="36d1a-1286">온-프레미스의 STMS가 올바르게 구성되어 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1286">Make sure your STMS on premises is configured correctly.</span></span>
* <span data-ttu-id="36d1a-1287">전송 도메인 컨트롤러의 호스트 이름을 Azure에서 가상 컴퓨터로 확인하고 그 반대로도 확인할 수 있는지 검토합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1287">Make sure the hostname of the Transport Domain Controller can be resolved by your virtual machine on Azure and vice visa.</span></span>
* <span data-ttu-id="36d1a-1288">트랜잭션 STMS 호출 -> 기타 구성 -> 도메인에 시스템 포함</span><span class="sxs-lookup"><span data-stu-id="36d1a-1288">Call transaction STMS -> Other Configuration -> Include System in Domain.</span></span>
* <span data-ttu-id="36d1a-1289">온-프레미스 TMS 시스템의 연결을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1289">Confirm the connection in the on premises TMS system.</span></span>
* <span data-ttu-id="36d1a-1290">전송 경로, 그룹 및 계층을 일반적인 방식으로 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1290">Configure transport routes, groups and layers as usual.</span></span>

<span data-ttu-id="36d1a-1291">사이트 간에 연결된 크로스-프레미스 시나리오에서 온-프레미스와 Azure 간의 대기 시간이 여전히 길 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1291">In site-to-site connected cross-premises scenarios, the latency between on-premises and Azure still can be substantial.</span></span> <span data-ttu-id="36d1a-1292">개발 및 테스트 시스템에서 프로덕션으로 개체를 전송하는 순서를 따르거나 전송 또는 지원 패키지를 다른 시스템에 적용하려는 경우 중앙 전송 디렉터리의 위치에 따라, 일부 시스템에서 중앙 전송 디렉터리에서 데이터를 읽거나 쓸 때 긴 대기 시간이 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1292">If we follow the sequence of transporting objects through development and test systems to production or think about applying transports or support packages to the different systems, you realize that, dependent on the location of the central transport directory, some of the systems will encounter high latency reading or writing data in the central transport directory.</span></span> <span data-ttu-id="36d1a-1293">이러한 상황은 데이터 센터 간에 멀리 떨어져 있는 서로 다른 데이터 센터에 여러 다른 시스템이 분산되어 있는 SAP 지형 구성과 유사합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1293">The situation is similar to SAP landscape configurations where the different systems are spread through different data centers with substantial distance between the data centers.</span></span>

<span data-ttu-id="36d1a-1294">이러한 대기 시간 문제를 해결하고 시스템이 더 빠르게 전송 디렉터리에서 읽거나 전송 디렉터리로 쓸 수 있도록 하려면 두 개의 STMS 전송 도메인(온-프레미스용 1개와 Azure의 시스템을 포함하는 1개)을 설정하고 전송 도메인을 연결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1294">In order to work around such latency and have the systems work fast in reading or writing to or from the transport directory, you can set up two STMS transport domains (one for on-premises and one with the systems in Azure and link the transport domains.</span></span> <span data-ttu-id="36d1a-1295">SAP TMS에서 이 개념의 기반이 되는 원리를 설명하는 설명서 <http://help.sap.com/saphelp_me60/helpdata/en/c4/6045377b52253de10000009b38f889/content.htm?frameset=/en/57/38dd924eb711d182bf0000e829fbfe/frameset.htm>을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1295">Please check this documentation which explains the principles behind this concept in the SAP TMS: <http://help.sap.com/saphelp_me60/helpdata/en/c4/6045377b52253de10000009b38f889/content.htm?frameset=/en/57/38dd924eb711d182bf0000e829fbfe/frameset.htm>.</span></span>

<span data-ttu-id="36d1a-1296">방법:</span><span class="sxs-lookup"><span data-stu-id="36d1a-1296">How to:</span></span>

* <span data-ttu-id="36d1a-1297">트랜잭션 STMS를 사용하여 각 위치(온-프레미스 및 Azure)에서 전송 도메인 설정 <http://help.sap.com/saphelp_nw70ehp3/helpdata/en/44/b4a0b47acc11d1899e0000e829fbbd/content.htm></span><span class="sxs-lookup"><span data-stu-id="36d1a-1297">Set up a transport domain on each location (on-premises and Azure) using transaction STMS <http://help.sap.com/saphelp_nw70ehp3/helpdata/en/44/b4a0b47acc11d1899e0000e829fbbd/content.htm></span></span>
* <span data-ttu-id="36d1a-1298">도메인 링크를 사용하여 도메인을 연결하고 두 도메인 간의 연결을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1298">Link the domains with a domain link and confirm the link between the two domains.</span></span>
  <span data-ttu-id="36d1a-1299"><http://help.sap.com/saphelp_nw73ehp1/helpdata/en/a3/139838280c4f18e10000009b38f8cf/content.htm></span><span class="sxs-lookup"><span data-stu-id="36d1a-1299"><http://help.sap.com/saphelp_nw73ehp1/helpdata/en/a3/139838280c4f18e10000009b38f8cf/content.htm></span></span>
* <span data-ttu-id="36d1a-1300">연결된 시스템으로 구성을 배포합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1300">Distribute the configuration to the linked system.</span></span>

#### <a name="rfc-traffic-between-sap-instances-located-in-azure-and-on-premises-cross-premises"></a><span data-ttu-id="36d1a-1301">Azure 및 온-프레미스에 있는 SAP 인스턴스 간의 RFC 트래픽(프레미스 간)</span><span class="sxs-lookup"><span data-stu-id="36d1a-1301">RFC traffic between SAP instances located in Azure and on-premises (Cross-Premises)</span></span>
<span data-ttu-id="36d1a-1302">온-프레미스 및 Azure에 있는 시스템 간에 RFC 트래픽이 작동해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1302">RFC traffic between systems which are on-premises and in Azure needs to work.</span></span> <span data-ttu-id="36d1a-1303">연결을 설정하려면 대상 시스템에 대해 RFC 연결을 정의해야 하는 원본 시스템에서 트랜잭션 SM59를 호출합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1303">To set up a connection call transaction SM59 in a source system where you need to define an RFC connection towards the target system.</span></span> <span data-ttu-id="36d1a-1304">해당 구성은 RFC 연결의 표준 설정과 비슷합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1304">The configuration is similar to the standard setup of an RFC Connection.</span></span>

<span data-ttu-id="36d1a-1305">크로스-프레미스 시나리오에서는 서로 통신해야 하는 SAP 시스템을 실행하는 VM이 동일한 도메인에 있다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1305">We assume that in the cross-premises scenario, the VMs which run SAP systems that need to communicate with each other are in the same domain.</span></span> <span data-ttu-id="36d1a-1306">따라서 SAP 시스템 간의 RFC 연결을 설정하는 작업이 온-프레미스 시나리오의 설정 단계 및 입력과 다르지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1306">Therefore the setup of an RFC connection between SAP systems does not differ from the setup steps and inputs in on-premises scenarios.</span></span>

#### <a name="accessing-local-fileshares-from-sap-instances-located-in-azure-or-vice-versa"></a><span data-ttu-id="36d1a-1307">Azure에 있는 SAP 인스턴스의 '로컬' 파일 공유에 액세스하기 또는 그 반대로 액세스하기</span><span class="sxs-lookup"><span data-stu-id="36d1a-1307">Accessing ‘local’ fileshares from SAP instances located in Azure or vice versa</span></span>
<span data-ttu-id="36d1a-1308">Azure에 있는 SAP 인스턴스는 회사 프레미스 내에 있는 파일 공유에 액세스해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1308">SAP instances located in Azure need to access file shares which are within the corporate premises.</span></span> <span data-ttu-id="36d1a-1309">또한 온-프레미스 SAP 인스턴스는 Azure에 있는 파일 공유에 액세스해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1309">In addition, on-premises SAP instances need to access file shares which are located in Azure.</span></span> <span data-ttu-id="36d1a-1310">파일 공유를 사용하도록 설정하려면 로컬 시스템에서 사용 권한 및 공유 옵션을 구성해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1310">To enable the file shares you must configure the permissions and sharing options on the local system.</span></span> <span data-ttu-id="36d1a-1311">VPN의 포트 또는 Azure와 데이터 센터 간의 Express 경로 연결을 열어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1311">Make sure to open the ports on the VPN or ExpressRoute connection between Azure and your datacenter.</span></span>

## <a name="supportability"></a><span data-ttu-id="36d1a-1312">지원 가능성</span><span class="sxs-lookup"><span data-stu-id="36d1a-1312">Supportability</span></span>
### <span data-ttu-id="36d1a-1313"><a name="6f0a47f3-a289-4090-a053-2521618a28c3"></a>SAP용 Azure 모니터링 솔루션</span><span class="sxs-lookup"><span data-stu-id="36d1a-1313"><a name="6f0a47f3-a289-4090-a053-2521618a28c3"></a>Azure Monitoring Solution for SAP</span></span>
<span data-ttu-id="36d1a-1314">Azure에서 업무에 중요한 SAP 시스템의 모니터링을 사용하도록 설정하기 위해 SAP 모니터링 도구인 SAPOSCOL 또는 SAP 호스트 에이전트가 SAP용 Azure 모니터링 확장을 통해 Azure 가상 컴퓨터 서비스 호스트에서 데이터를 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1314">In order to enable the monitoring of mission critical SAP systems on Azure the SAP monitoring tools SAPOSCOL or SAP Host Agent get data off the Azure Virtual Machine Service host via an Azure Monitoring Extension for SAP.</span></span> <span data-ttu-id="36d1a-1315">SAP의 요구는 SAP 응용 프로그램에 따라 크게 달라지므로 Microsoft는 일반적으로 Azure에 필요한 기능을 구현하지 않기로 결정했지만, 고객이 Azure에서 실행되는 가상 컴퓨터에 필요한 모니터링 구성 요소와 구성을 배포할 수 있도록 허용합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1315">Since the demands by SAP were very specific to SAP applications, Microsoft decided not to generically implement the required functionality into Azure, but leave it for customers to deploy the necessary monitoring components and configurations to their Virtual Machines running in Azure.</span></span> <span data-ttu-id="36d1a-1316">그러나 모니터링 구성 요소의 배포 및 수명 주기 관리는 대부분 Azure에서 자동으로 수행됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1316">However, deployment and lifecycle management of the monitoring components will be mostly automated by Azure.</span></span>

#### <a name="solution-design"></a><span data-ttu-id="36d1a-1317">솔루션 디자인</span><span class="sxs-lookup"><span data-stu-id="36d1a-1317">Solution design</span></span>
<span data-ttu-id="36d1a-1318">SAP 모니터링을 사용 가능하도록 하기 위해 개발된 솔루션은 Azure VM 에이전트 및 확장 프레임워크의 아키텍처를 기반으로 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1318">The solution developed to enable SAP Monitoring is based on the architecture of Azure VM Agent and Extension framework.</span></span> <span data-ttu-id="36d1a-1319">Azure VM 에이전트 및 확장 프레임워크는 VM 내에 있는 Azure VM 확장 갤러리에서 소프트웨어 응용 프로그램을 설치할 수 있도록 허용합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1319">The idea of the Azure VM Agent and Extension framework is to allow installation of software application(s) available in the Azure VM Extension gallery within a VM.</span></span> <span data-ttu-id="36d1a-1320">이 개념의 원리는 특수한 기능을 VM에 배포하고 배포 시에 이러한 소프트웨어를 구성할 수 있도록 하는 것입니다(SAP용 Azure 모니터링 확장과 같음).</span><span class="sxs-lookup"><span data-stu-id="36d1a-1320">The principle idea behind this concept is to allow (in cases like the Azure Monitoring Extension for SAP), the deployment of special functionality into a VM and the configuration of such software at deployment time.</span></span>

<span data-ttu-id="36d1a-1321">Azure Portal에서 VM을 생성할 때 기본적으로 VM 내의 특정 Azure VM 확장을 처리할 수 있도록 하는 'Azure VM 에이전트'가 Windows에 주입됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1321">The 'Azure VM Agent' that enables handling of specific Azure VM Extensions within the VM is injected into Windows VMs by default on VM creation in the Azure portal.</span></span> <span data-ttu-id="36d1a-1322">SUSE, Red Hat 또는 Oracle Linux의 경우 VM 에이전트가 이미 Azure Marketplace 이미지의 일부입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1322">In case of SUSE, Red Hat or Oracle Linux, the VM agent is already part of the Azure Marketplace image.</span></span> <span data-ttu-id="36d1a-1323">Linux VM을 온-프레미스에서 Azure로 업로드하는 경우 VM 에이전트를 수동으로 설치해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1323">In case one would upload a Linux VM from on-premises to Azure the VM agent has to be installed manually.</span></span>

<span data-ttu-id="36d1a-1324">Azure에서 SAP용 모니터링 솔루션의 기본 구성 요소는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1324">The basic building blocks of the Monitoring solution in Azure for SAP looks like this:</span></span>

![Microsoft Azure 확장 구성 요소][planning-guide-figure-2400]

<span data-ttu-id="36d1a-1326">위의 블록 다이어그램에 나와 있는 것처럼 SAP용 모니터링 솔루션의 한 부분은 Azure VM 이미지 및 Azure Operations에 의해 관리되는 전역 복제 리포지토리인 Azure 확장 갤러리에서 호스트됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1326">As shown in the block diagram above, one part of the monitoring solution for SAP is hosted in the Azure VM Image and Azure Extension Gallery which is a globally replicated repository that is managed by Azure Operations.</span></span> <span data-ttu-id="36d1a-1327">Azure Operations를 사용하여 SAP용 Azure 모니터링 확장의 새 버전을 게시하는 것은 Azure의 SAP 구현과 관련해서 작업하는 공동 SAP/MS 팀의 책임입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1327">It is the responsibility of the joint SAP/MS team working on the Azure implementation of SAP to work with Azure Operations to publish new versions of the Azure Monitoring Extension for SAP.</span></span>

<span data-ttu-id="36d1a-1328">새 Windows VM을 배포하는 경우 'Azure VM 에이전트'가 VM에 자동으로 추가됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1328">When you deploy a new Windows VM, the ‘Azure VM Agent’ is automatically added into the VM.</span></span> <span data-ttu-id="36d1a-1329">이 에이전트의 기능은 SAP NetWeaver Systems의 모니터링을 위해 Azure 확장의 로드 및 구성을 조정하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1329">The function of this agent is to coordinate the loading and configuration of the Azure Extensions for monitoring of SAP NetWeaver Systems.</span></span> <span data-ttu-id="36d1a-1330">Linux VM의 경우 Azure VM 에이전트가 이미 Azure 마켓플레이스 OS 이미지의 일부입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1330">For Linux VMs the Azure VM Agent is already part of the Azure Marketplace OS image.</span></span>

<span data-ttu-id="36d1a-1331">그러나 고객이 실행해야 하는 단계는 여전히 남아 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1331">However, there is a step that still needs to be executed by the customer.</span></span> <span data-ttu-id="36d1a-1332">바로 성능 컬렉션의 활성화 및 구성입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1332">This is the enablement and configuration of the performance collection.</span></span> <span data-ttu-id="36d1a-1333">'구성' 관련 프로세스는 PowerShell 스크립트 또는 CLI 명령에 의해 자동화됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1333">The process related to the ‘configuration’ is automated by a PowerShell script or CLI command.</span></span> <span data-ttu-id="36d1a-1334">PowerShell 스크립트는 [배포 가이드][deployment-guide]에서 설명한 대로 Microsoft Azure 스크립트 센터에서 다운로드할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1334">The PowerShell script can be downloaded in the Microsoft Azure Script Center as described in the [Deployment Guide][deployment-guide].</span></span>

<span data-ttu-id="36d1a-1335">SAP용 Azure 모니터링 솔루션의 전반적인 아키텍처는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1335">The overall Architecture of the Azure monitoring solution for SAP looks like:</span></span>

![SAP NetWeaver용 Azure 모니터링 솔루션][planning-guide-figure-2500]

<span data-ttu-id="36d1a-1337">**배포 중에 이러한 PowerShell cmdlet 또는 CLI 명령을 사용하는 정확한 방법 및 자세한 단계는 [배포 가이드][deployment-guide]에서 제공하는 지침을 따르세요.**</span><span class="sxs-lookup"><span data-stu-id="36d1a-1337">**For the exact how-to and for detailed steps of using these PowerShell cmdlets or CLI command during deployments, follow the instructions given in the [Deployment Guide][deployment-guide].**</span></span>

### <a name="integration-of-azure-located-sap-instance-into-saprouter"></a><span data-ttu-id="36d1a-1338">Azure 배치 SAP 인스턴스를 SAProuter에 통합</span><span class="sxs-lookup"><span data-stu-id="36d1a-1338">Integration of Azure located SAP instance into SAProuter</span></span>
<span data-ttu-id="36d1a-1339">Azure에서 실행되는 SAP 인스턴스도 SAProuter에서 액세스할 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1339">SAP instances running in Azure need to be accessible from SAProuter as well.</span></span>

![SAP-라우터 네트워크 연결][planning-guide-figure-2600]

<span data-ttu-id="36d1a-1341">SAProuter를 사용하면 직접적인 IP 연결이 없는 경우에도 참여 시스템 간에 TCP/IP 통신이 가능해집니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1341">A SAProuter enables the TCP/IP communication between participating systems if there is no direct IP connection.</span></span> <span data-ttu-id="36d1a-1342">이를 통해 네트워크 수준에서 통신 파트너 간의 종단 간 연결이 없어도 된다는 이점을 얻게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1342">This provides the advantage that no end-to-end connection between the communication partners is necessary on network level.</span></span> <span data-ttu-id="36d1a-1343">SAProuter는 기본적으로 3299 포트에서 수신 대기합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1343">The SAProuter is listening on port 3299 by default.</span></span>
<span data-ttu-id="36d1a-1344">SAProuter를 통해 SAP 인스턴스를 연결하려면 연결을 시도할 때 SAProuter 문자열과 호스트 이름을 지정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1344">To connect SAP instances through a SAProuter you need to give the SAProuter string and host name with any attempt to connect.</span></span>

## <a name="sap-netweaver-as-java"></a><span data-ttu-id="36d1a-1345">SAP NetWeaver AS Java</span><span class="sxs-lookup"><span data-stu-id="36d1a-1345">SAP NetWeaver AS Java</span></span>
<span data-ttu-id="36d1a-1346">지금까지 이 문서는 일반적으로 SAP NetWeaver 또는 SAP NetWeaver ABAP 스택에 중점을 두었습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1346">So far the focus of the document has been SAP NetWeaver in general or the SAP NetWeaver ABAP stack.</span></span> <span data-ttu-id="36d1a-1347">이 작은 섹션에서는 SAP Java 스택에 대한 특별한 고려 사항이 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1347">In this small section, specific considerations for the SAP Java stack are listed.</span></span> <span data-ttu-id="36d1a-1348">SAP NetWeaver Java만을 기반으로 하는 가장 중요한 응용 프로그램 중 하나는 SAP Enterprise Portal입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1348">One of the most important SAP NetWeaver Java exclusively based applications is the SAP Enterprise Portal.</span></span> <span data-ttu-id="36d1a-1349">SAP PI 및 SAP Solution Manager와 같은 기타 SAP NetWeaver 기반 응용 프로그램은 SAP NetWeaver ABAP 및 Java 스택을 모두 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1349">Other SAP NetWeaver based applications like SAP PI and SAP Solution Manager use both the SAP NetWeaver ABAP and Java stacks.</span></span> <span data-ttu-id="36d1a-1350">따라서 SAP NetWeaver Java 스택과 관련된 특정 측면도 반드시 고려해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1350">Therefore, there certainly is a need to consider specific aspects related to the SAP NetWeaver Java stack as well.</span></span>

### <a name="sap-enterprise-portal"></a><span data-ttu-id="36d1a-1351">SAP Enterprise Portal</span><span class="sxs-lookup"><span data-stu-id="36d1a-1351">SAP Enterprise Portal</span></span>
<span data-ttu-id="36d1a-1352">크로스-프레미스 시나리오에서 배포하는 경우 Azure Virtual Machine의 SAP Portal 설정은 온-프레미스 설치와 다르지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1352">The setup of an SAP Portal in an Azure Virtual Machine does not differ from an on premises installation if you are deploying in cross-premises scenarios.</span></span> <span data-ttu-id="36d1a-1353">DNS는 온-프레미스에 의해 수행되므로 개별 인스턴스의 포트 설정은 구성된 온-프레미스로 수행될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1353">Since the DNS is done by on-premises, the port settings of the individual instances can be done as configured on-premises.</span></span> <span data-ttu-id="36d1a-1354">지금까지 이 문서에 설명된 권장 사항 및 제한 사항은 일반적으로 SAP Enterprise Portal 또는 SAP NetWeaver Java 스택과 같은 응용 프로그램에 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1354">The recommendations and restrictions described in this document so far apply for an application like SAP Enterprise Portal or the SAP NetWeaver Java stack in general.</span></span>

![공개된 SAP 포털][planning-guide-figure-2700]

<span data-ttu-id="36d1a-1356">가상 컴퓨터 호스트가 사이트 간 VPN 터널 또는 Express 경로 통해 회사 네트워크에 연결되어 있는 동안 일부 고객의 특별한 배포 시나리오에서 SAP Enterprise Portal이 인터넷에 직접 노출됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1356">A special deployment scenario by some customers is the direct exposure of the SAP Enterprise Portal to the Internet while the virtual machine host is connected to the company network via site-to-site VPN tunnel or ExpressRoute.</span></span> <span data-ttu-id="36d1a-1357">이러한 시나리오의 경우 특정 포트가 열려 있고 방화벽이나 네트워크 보안 그룹에 의해 차단되지 않았는지 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1357">For such a scenario, you have to make sure that specific ports are open and not blocked by firewall or network security group.</span></span> <span data-ttu-id="36d1a-1358">클라우드 전용 시나리오에서 온-프레미스에서 SAP Java 인스턴스로 연결하려는 경우에도 동일한 방식이 적용되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1358">The same mechanics would need to be applied when you want to connect to an SAP Java instance from on-premises in a Cloud-Only scenario.</span></span>

<span data-ttu-id="36d1a-1359">초기 포털 URI는 http(s):`<Portalserver`>:5XX00/irj입니다. 여기서 포트는 50000 + (Systemnumber × 100)으로 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1359">The initial portal URI is http(s):`<Portalserver`>:5XX00/irj where the port is formed by 50000 plus (Systemnumber × 100).</span></span> <span data-ttu-id="36d1a-1360">SAP 시스템 00의 기본 포털 URI는 `<dns name`>.`<azure region`>.Cloudapp.azure.com:PublicPort/irj입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1360">The default portal URI of SAP system 00 is `<dns name`>.`<azure region`>.Cloudapp.azure.com:PublicPort/irj.</span></span> <span data-ttu-id="36d1a-1361">자세한 내용은 <http://help.sap.com/saphelp_nw70ehp1/helpdata/de/a2/f9d7fed2adc340ab462ae159d19509/frameset.htm>을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1361">For more details, have a look at <http://help.sap.com/saphelp_nw70ehp1/helpdata/de/a2/f9d7fed2adc340ab462ae159d19509/frameset.htm>.</span></span>

![끝점 구성][planning-guide-figure-2800]

<span data-ttu-id="36d1a-1363">SAP Enterprise Portal의 URL 및/또는 포트를 사용자 지정하려는 경우 다음 설명서를 확인하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1363">If you want to customize the URL and/or ports of your SAP Enterprise Portal, please check this documentation:</span></span>

* [<span data-ttu-id="36d1a-1364">포털 URL 변경</span><span class="sxs-lookup"><span data-stu-id="36d1a-1364">Change Portal URL</span></span>](http://wiki.scn.sap.com/wiki/display/EP/Change+Portal+URL)
* [<span data-ttu-id="36d1a-1365">기본 포트 번호, 포털 포트 번호 변경</span><span class="sxs-lookup"><span data-stu-id="36d1a-1365">Change Default port numbers, Portal port numbers</span></span>](http://wiki.scn.sap.com/wiki/display/NWTech/Change+Default++port+numbers%2C+Portal+port+numbers)

## <a name="high-availability-ha-and-disaster-recovery-dr-for-sap-netweaver-running-on-azure-virtual-machines"></a><span data-ttu-id="36d1a-1366">Azure Virtual Machines에서 실행되는 SAP NetWeaver의 HA(고가용성) 및 DR(재해 복구)</span><span class="sxs-lookup"><span data-stu-id="36d1a-1366">High Availability (HA) and Disaster Recovery (DR) for SAP NetWeaver running on Azure Virtual Machines</span></span>
### <a name="definition-of-terminologies"></a><span data-ttu-id="36d1a-1367">용어 정의</span><span class="sxs-lookup"><span data-stu-id="36d1a-1367">Definition of terminologies</span></span>
<span data-ttu-id="36d1a-1368">용어 **HA(고가용성)**는 일반적으로 **동일한** 데이터 센터 내의 중복성, 내결함성 또는 장애 조치(failover) 보호 구성 요소를 통해 IT 서비스의 비즈니스 연속성을 제공함으로써 IT 작업 중단을 최소화하는 일련의 기술과 관련되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1368">The term **high availability (HA)** is generally related to a set of technologies that minimizes IT disruptions by providing business continuity of IT services through redundant, fault-tolerant or failover protected components inside the **same** data center.</span></span> <span data-ttu-id="36d1a-1369">우리의 경우에는 단일 Azure 지역 내부에서의 고가용성이 고려됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1369">In our case, within one Azure Region.</span></span>

<span data-ttu-id="36d1a-1370">**DR(재해 복구)** 또한 IT 서비스 중단을 최소화하고 복구를 수행하는 것을 목표로 하지만 일반적으로 수백 킬로미터 거리에 있는 **여러 다른** 데이터 센터 간에 발생하게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1370">**Disaster recovery (DR)** is also targeting minimizing IT services disruption, and their recovery but across **different** data centers, that are usually located hundreds of kilometers away.</span></span> <span data-ttu-id="36d1a-1371">우리의 경우에는 동일한 지정학적 지역 내의 다양한 Azure 지역 간이나 고객이 설정한 Azure 지역 사이를 의미합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1371">In our case usually between different Azure Regions within the same geopolitical region or as established by you as a customer.</span></span>

### <a name="overview-of-high-availability"></a><span data-ttu-id="36d1a-1372">고가용성 개요</span><span class="sxs-lookup"><span data-stu-id="36d1a-1372">Overview of High Availability</span></span>
<span data-ttu-id="36d1a-1373">Azure의 SAP 고가용성에 대한 논의는 다음 두 부분으로 구분할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1373">We can separate the discussion about SAP high availability in Azure into two parts:</span></span>

* <span data-ttu-id="36d1a-1374">**Azure 인프라 고가용성** - 계산(VM), 네트워크, 저장소 등의 HA와 이러한 HA가 SAP 응용 프로그램 가용성 향상에 주는 이점</span><span class="sxs-lookup"><span data-stu-id="36d1a-1374">**Azure infrastructure high availability**, for example HA of compute (VMs), network, storage etc. and its benefits for increasing SAP application availability.</span></span>
* <span data-ttu-id="36d1a-1375">**SAP 응용 프로그램 고가용성** - 다음과 같은 SAP 소프트웨어 구성 요소의 HA</span><span class="sxs-lookup"><span data-stu-id="36d1a-1375">**SAP application high availability**, for example HA of SAP software components:</span></span>
  * <span data-ttu-id="36d1a-1376">SAP 응용 프로그램 서버</span><span class="sxs-lookup"><span data-stu-id="36d1a-1376">SAP application servers</span></span>
  * <span data-ttu-id="36d1a-1377">SAP ASCS/SCS 인스턴스</span><span class="sxs-lookup"><span data-stu-id="36d1a-1377">SAP ASCS/SCS instance</span></span>
  * <span data-ttu-id="36d1a-1378">DB 서버</span><span class="sxs-lookup"><span data-stu-id="36d1a-1378">DB server</span></span>

<span data-ttu-id="36d1a-1379">및 Azure 인프라 HA와 결합되는 방식</span><span class="sxs-lookup"><span data-stu-id="36d1a-1379">and how it can be combined with Azure infrastructure HA.</span></span>

<span data-ttu-id="36d1a-1380">Azure의 SAP 고가용성은 온-프레미스 물리적 또는 가상 환경의 SAP 고가용성에 비해 몇 가지 차이점이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1380">SAP High Availability in Azure has some differences compared to SAP High Availability in an on-premises physical or virtual environment.</span></span> <span data-ttu-id="36d1a-1381">SAP의 다음 백서에서는 가상화된 Windows 환경의 표준 SAP 고가용성 구성에 대해 설명합니다. <http://scn.sap.com/docs/DOC-44415></span><span class="sxs-lookup"><span data-stu-id="36d1a-1381">The following paper from SAP describes standard SAP High Availability configurations in virtualized environments on Windows: <http://scn.sap.com/docs/DOC-44415>.</span></span> <span data-ttu-id="36d1a-1382">Windows의 경우와 마찬가지로 Linux용 sapinst 통합 SAP-HA 구성은 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1382">There is no sapinst-integrated SAP-HA configuration for Linux like it exists for Windows.</span></span> <span data-ttu-id="36d1a-1383">Linux용 온-프레미스 SAP HA에 대한 자세한 내용은 <http://scn.sap.com/docs/DOC-8541>에서 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1383">Regarding SAP HA on-premises for Linux find more information here: <http://scn.sap.com/docs/DOC-8541>.</span></span>

### <a name="azure-infrastructure-high-availability"></a><span data-ttu-id="36d1a-1384">Azure 인프라 고가용성</span><span class="sxs-lookup"><span data-stu-id="36d1a-1384">Azure Infrastructure High Availability</span></span>
<span data-ttu-id="36d1a-1385">현재 단일 VM SLA는 99.9%입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1385">There is currently a single-VM SLA of 99.9%.</span></span> <span data-ttu-id="36d1a-1386">단일 VM의 가용성을 어떻게 나타낼 수 있는지 이해하기 위해 사용 가능한 여러 Azure SLA 제품을 간단히 빌드할 수 있습니다. <https://azure.microsoft.com/support/legal/sla/></span><span class="sxs-lookup"><span data-stu-id="36d1a-1386">To get an idea how the availability of a single VM might look like you can simply build the product of the different available Azure SLAs: <https://azure.microsoft.com/support/legal/sla/>.</span></span>

<span data-ttu-id="36d1a-1387">이 계산은 한 달이 30일 또는 43200분이라는 기준에서 출발합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1387">The basis for the calculation is 30 days per month, or 43200 minutes.</span></span> <span data-ttu-id="36d1a-1388">따라서 가동 중지 시간 0.05%는 21.6분에 해당합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1388">Therefore, 0.05% downtime corresponds to 21.6 minutes.</span></span> <span data-ttu-id="36d1a-1389">일반적으로 다양한 서비스의 가용성은 다음과 같이 배가됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1389">As usual, the availability of the different services will multiply in the following way:</span></span>

<span data-ttu-id="36d1a-1390">(가용성 서비스 #1/100) * (가용성 서비스 #2/100) * (가용성 서비스 #3/100) *…</span><span class="sxs-lookup"><span data-stu-id="36d1a-1390">(Availability Service #1/100) * (Availability Service #2/100) * (Availability Service #3/100) *…</span></span>

<span data-ttu-id="36d1a-1391">결과는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1391">Like:</span></span>

<span data-ttu-id="36d1a-1392">(99.95/100) * (99.9/100) * (99.9/100) = 0.9975 또는 전체 가용성 99.75%</span><span class="sxs-lookup"><span data-stu-id="36d1a-1392">(99.95/100) * (99.9/100) * (99.9/100) = 0.9975 or an overall availability of 99.75%.</span></span>

#### <a name="virtual-machine-vm-high-availability"></a><span data-ttu-id="36d1a-1393">VM(가상 컴퓨터) 고가용성</span><span class="sxs-lookup"><span data-stu-id="36d1a-1393">Virtual Machine (VM) High Availability</span></span>
<span data-ttu-id="36d1a-1394">가상 컴퓨터의 가용성에 영향을 줄 수 있는 두 가지 유형의 Azure 플랫폼 이벤트인 계획된 유지 관리와 계획되지 않은 유지 관리가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1394">There are two types of Azure platform events that can affect the availability of your virtual machines: planned maintenance and unplanned maintenance.</span></span>

* <span data-ttu-id="36d1a-1395">계획된 유지 관리 이벤트는 가상 컴퓨터가 실행 중인 플랫폼 인프라의 전체적인 안정성, 성능 및 보안을 향상시키기 위해 Microsoft가 기본 Azure 플랫폼에 적용하는 주기적인 업데이트입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1395">Planned maintenance events are periodic updates made by Microsoft to the underlying Azure platform to improve overall reliability, performance, and security of the platform infrastructure that your virtual machines run on.</span></span>
* <span data-ttu-id="36d1a-1396">계획되지 않은 유지 관리 이벤트는 가상 컴퓨터의 기반이 되는 하드웨어 또는 물리적 인프라에 어떠한 식으로든지 오류가 있을 때 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1396">Unplanned maintenance events occur when the hardware or physical infrastructure underlying your virtual machine has faulted in some way.</span></span> <span data-ttu-id="36d1a-1397">여기에는 로컬 네트워크 오류, 로컬 디스크 오류 또는 기타 랙 수준의 오류가 포함될 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1397">This may include local network failures, local disk failures, or other rack level failures.</span></span> <span data-ttu-id="36d1a-1398">이러한 오류가 감지될 때 Azure 플랫폼은 가상 컴퓨터를 호스트 중인 비정상 물리적 서버에서 정상 물리적 서버로 가상 컴퓨터를 자동으로 마이그레이션합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1398">When such a failure is detected, the Azure platform will automatically migrate your virtual machine from the unhealthy physical server hosting your virtual machine to a healthy physical server.</span></span> <span data-ttu-id="36d1a-1399">이러한 이벤트는 흔치 않지만 가상 컴퓨터가 재부팅되도록 할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1399">Such events are rare, but may also cause your virtual machine to reboot.</span></span>

<span data-ttu-id="36d1a-1400">이 설명서에서 자세한 내용을 찾을 수 있습니다. <http://azure.microsoft.com/documentation/articles/virtual-machines-manage-availability></span><span class="sxs-lookup"><span data-stu-id="36d1a-1400">More details can be found in this documentation: <http://azure.microsoft.com/documentation/articles/virtual-machines-manage-availability></span></span>

#### <a name="azure-storage-redundancy"></a><span data-ttu-id="36d1a-1401">Azure 저장소 중복성</span><span class="sxs-lookup"><span data-stu-id="36d1a-1401">Azure Storage Redundancy</span></span>
<span data-ttu-id="36d1a-1402">Microsoft Azure Storage 계정의 데이터는 항상 내구성 및 고가용성을 보증하도록 복제되며 일시적인 하드웨어 오류가 발생하는 경우에도 Azure Storage SLA를 충족합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1402">The data in your Microsoft Azure Storage Account is always replicated to ensure durability and high availability, meeting the Azure Storage SLA even in the face of transient hardware failures.</span></span>

<span data-ttu-id="36d1a-1403">Azure Storage는 기본적으로 데이터 이미지 3개를 유지하므로 여러 Azure 디스크에 있는 RAID5 또는 RAID1은 필요하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1403">Since Azure Storage is keeping three images of the data by default, RAID5 or RAID1 across multiple Azure disks are not necessary.</span></span>

<span data-ttu-id="36d1a-1404">이 문서에서 자세한 내용을 찾을 수 있습니다. <http://azure.microsoft.com/documentation/articles/storage-redundancy/></span><span class="sxs-lookup"><span data-stu-id="36d1a-1404">More details can be found in this article: <http://azure.microsoft.com/documentation/articles/storage-redundancy/></span></span>

#### <a name="utilizing-azure-infrastructure-vm-restart-to-achieve-higher-availability-of-sap-applications"></a><span data-ttu-id="36d1a-1405">Azure 인프라 VM 다시 시작을 활용하여 SAP 응용 프로그램의 "고가용성" 확보</span><span class="sxs-lookup"><span data-stu-id="36d1a-1405">Utilizing Azure Infrastructure VM Restart to Achieve “Higher Availability” of SAP Applications</span></span>
<span data-ttu-id="36d1a-1406">WSFC(Windows 서버 장애 조치(failover) 클러스터링) 또는 Linux의 Peacemaker(현재 SLES 12 이상에서만 지원됨) 등의 기능을 사용하지 않기로 결정하는 경우 Azure VM 다시 시작 기능을 활용하여 Azure 물리적 서버 인프라 및 전반적인 기본 Azure 플랫폼의 예정되었거나 갑작스러운 가동 중지 시간으로부터 SAP 시스템을 보호합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1406">If you decide not to use functionalities like Windows Server Failover Clustering (WSFC) or Pacemaker on Linux (currently only supported for SLES 12 and higher), Azure VM Restart is utilized to protect an SAP System against planned and unplanned downtime of the Azure physical server infrastructure and overall underlying Azure platform.</span></span>

> [!NOTE]
> <span data-ttu-id="36d1a-1407">Azure VM 다시 시작 기능은 응용 프로그램이 아닌 VM을 일차적으로 보호합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1407">It is important to mention that Azure VM Restart primarily protects VMs and NOT applications.</span></span> <span data-ttu-id="36d1a-1408">VM 다시 시작 기능은 SAP 응용 프로그램의 고가용성을 제공하지 않지만 특정 수준의 인프라 가용성을 제공하므로 간접적으로 SAP 시스템의 "고가용성"을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1408">VM Restart does not offer high availability for SAP applications, but it does offer a certain level of infrastructure availability and therefore indirectly “higher availability” of SAP systems.</span></span> <span data-ttu-id="36d1a-1409">또한 예정되었거나 갑작스러운 호스트 중단 후 VM을 다시 시작하는 데 걸리는 시간에 대한 SLA는 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1409">There is also no SLA for the time it will take to restart a VM after a planned or unplanned host outage.</span></span> <span data-ttu-id="36d1a-1410">따라서 이러한 방식의 '고가용성'은 (A)SCS 또는 DBMS와 같은 SAP 시스템의 중요한 구성 요소에 적합하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1410">Therefore, this method of ‘high availability’ is not suitable for critical components of an SAP system like (A)SCS or DBMS.</span></span>
>
>

<span data-ttu-id="36d1a-1411">고가용성을 위한 또 다른 중요한 인프라 요소는 저장소입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1411">Another important infrastructure element for high availability is storage.</span></span> <span data-ttu-id="36d1a-1412">예를 들어 Azure Storage SLA에 따른 가용성은 99.9%입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1412">For example Azure Storage SLA is 99,9 % availability.</span></span> <span data-ttu-id="36d1a-1413">디스크가 있는 모든 VM을 단일 Azure 저장소 계정에 배포하는 경우 Azure 저장소를 사용할 수 없게 되어 해당 Azure 저장소 계정에 배치된 모든 VM을 사용할 수 없게 되고 해당 VM 내에서 실행되는 모든 SAP 구성 요소로 사용할 수 없게 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1413">If one deploys all VMs with its disks into a single Azure Storage Account, potential Azure Storage unavailability will cause unavailability of all VMs that are placed in that Azure Storage Account, and also all SAP components running inside of those VMs.</span></span>  

<span data-ttu-id="36d1a-1414">모든 VM을 단일 Azure 저장소 계정에 두는 대신, 각 VM에 대해 전용 저장소 계정을 사용할 수 있습니다. 이러한 방식에서는 여러 독립적인 Azure 저장소 계정을 사용하여 전반적인 VM 및 SAP 응용 프로그램 가용성이 증가하게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1414">Instead of putting all VMs into one single Azure Storage Account, you can also use dedicated storage accounts for each VM, and in this way increase overall VM and SAP application availability by using multiple independent Azure Storage Accounts.</span></span>

<span data-ttu-id="36d1a-1415">Azure 관리 디스크는 연결된 가상 컴퓨터의 장애 도메인에 자동으로 배치됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1415">Azure Managed Disks are automatically placed in the Fault Domain of the virtual machine they are attached to.</span></span> <span data-ttu-id="36d1a-1416">가용성 집합에 가상 컴퓨터 두 대를 배치하고 관리 디스크를 사용하는 경우 플랫폼에서 각기 다른 장애 도메인으로 관리 디스크를 분산시키는 작업도 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1416">If you place two virtual machines in an availability set and use Managed Disks, the platform will take care of distributing the Managed Disks into different Fault Domains as well.</span></span> <span data-ttu-id="36d1a-1417">Premium Storage를 사용하려는 경우에는 관리 디스크도 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1417">If you plan to use Premium Storage, we highly recommend using Manage Disks as well.</span></span>

<span data-ttu-id="36d1a-1418">Azure 인프라 HA 및 Storage 계정을 사용하는 SAP NetWeaver 시스템의 샘플 아키텍처는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1418">A sample architecture of an SAP NetWeaver system that uses Azure infrastructure HA and storage accounts could look like this:</span></span>

![HA Azure 인프라를 활용하여 SAP 응용 프로그램의 "더 높은" 가용성 확보][planning-guide-figure-2900]

<span data-ttu-id="36d1a-1420">Azure 인프라 HA 및 관리 디스크를 사용하는 SAP NetWeaver 시스템의 샘플 아키텍처는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1420">A sample architecture of an SAP NetWeaver system that uses Azure infrastructure HA and Managed Disks could look like this:</span></span>

![HA Azure 인프라를 활용하여 SAP 응용 프로그램의 "더 높은" 가용성 확보][planning-guide-figure-2901]

<span data-ttu-id="36d1a-1422">중요한 SAP 구성 요소에 대해 현재까지 다음이 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1422">For critical SAP components we achieved the following so far:</span></span>

* <span data-ttu-id="36d1a-1423">SAP AS(응용 프로그램 서버)의 고가용성</span><span class="sxs-lookup"><span data-stu-id="36d1a-1423">High Availability of SAP Application Servers (AS)</span></span>

  <span data-ttu-id="36d1a-1424">SAP 응용 프로그램 서버 인스턴스는 중복 구성 요소입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1424">SAP application server instances are redundant components.</span></span> <span data-ttu-id="36d1a-1425">각 SAP AS 인스턴스는 다른 Azure 장애 도메인 및 업그레이드 도메인([장애 도메인][planning-guide-3.2.1] 및 [업그레이드 도메인][planning-guide-3.2.2] 장 참조)에서 실행되는 자체 VM에 배포됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1425">Each SAP AS instance is deployed on its own VM, that is running in a different Azure Fault and Upgrade Domain (see chapters [Fault Domains][planning-guide-3.2.1] and [Upgrade Domains][planning-guide-3.2.2]).</span></span> <span data-ttu-id="36d1a-1426">이는 Azure 가용성 집합을 사용하여 보장됩니다([Azure 가용성 집합][planning-guide-3.2.3] 장 참조).</span><span class="sxs-lookup"><span data-stu-id="36d1a-1426">This is ensured by using Azure Availability Sets (see chapter [Azure Availability Sets][planning-guide-3.2.3]).</span></span> <span data-ttu-id="36d1a-1427">각 SAP AS 인스턴스는 자체 Azure 저장소 계정에 배치됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1427">Potential planned or unplanned unavailability of an Azure Fault or Upgrade Domain will cause unavailability of a restricted number of VMs with their SAP AS instances.</span></span>

  <span data-ttu-id="36d1a-1428">Azure 저장소 계정 하나를 사용할 수 없게 되면 해당 SAP AS가 있는 단일 VM을 사용할 수 없게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1428">Each SAP AS instance is placed in its own Azure Storage account – potential unavailability of one Azure Storage Account will cause unavailability of only one VM with its SAP AS instance.</span></span> <span data-ttu-id="36d1a-1429">그러나 단일 Azure 구독 내에서는 Azure 저장소 계정 수가 제한됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1429">However, be aware that there is a limit of Azure Storage Accounts within one Azure subscription.</span></span> <span data-ttu-id="36d1a-1430">VM을 다시 부팅한 후 (A)SCS 인스턴스가 자동으로 시작되도록 하려면 [SAP 인스턴스에 대해 자동 시작 사용][planning-guide-11.5] 장에서 설명한 대로 (A)SCS 인스턴스의 시작 프로필에 Autostart 매개 변수를 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1430">To ensure automatic start of (A)SCS instance after the VM reboot, make sure to set the Autostart parameter in (A)SCS instance start profile described in chapter [Using Autostart for SAP instances][planning-guide-11.5].</span></span>
  <span data-ttu-id="36d1a-1431">자세한 내용은 [SAP 응용 프로그램 서버의 고가용성][planning-guide-11.4.1] 장을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1431">Please also read chapter [High Availability for SAP Application Servers][planning-guide-11.4.1] for more details.</span></span>

  <span data-ttu-id="36d1a-1432">관리 디스크를 사용하더라도 해당 디스크는 Azure Storage 계정에도 저장되므로 Storage가 중단되면 사용이 불가능해질 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1432">Even if you use Managed Disks, those disks are also stored in an Azure Storage Account and can be unavailable in an event of a storage outage.</span></span>

* <span data-ttu-id="36d1a-1433">*더 높은* 가용성</span><span class="sxs-lookup"><span data-stu-id="36d1a-1433">*Higher* Availability of SAP (A)SCS instance</span></span>

  <span data-ttu-id="36d1a-1434">여기서는 Azure VM 다시 시작 기능을 활용하여 SAP (A)SCS 인스턴스가 설치된 VM을 보호합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1434">Here we utilize Azure VM Restart to protect the VM with installed SAP (A)SCS instance.</span></span> <span data-ttu-id="36d1a-1435">Azure 서버의 예정되었거나 갑작스러운 가동 중지 시간의 경우 VM은 사용 가능한 다른 서버에서 다시 시작됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1435">In the case of planned or unplanned downtime of Azure severs, VMs will be restarted on another available server.</span></span> <span data-ttu-id="36d1a-1436">앞서 언급한 것처럼 Azure VM 다시 시작 기능은 응용 프로그램(이 경우 (A)SCS 인스턴스)이 아닌 VM을 주로 보호합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1436">As mentioned earlier, Azure VM Restart primarily protects VMs and NOT applications, in this case the (A)SCS instance.</span></span> <span data-ttu-id="36d1a-1437">VM 다시 시작을 통해 SAP (A)SCS 인스턴스의 "높은 가용성"에 간접적으로 도달하게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1437">Through the VM Restart we’ll reach indirectly “higher availability” of SAP (A)SCS instance.</span></span> <span data-ttu-id="36d1a-1438">VM을 다시 부팅한 후 (A)SCS 인스턴스가 자동으로 시작되도록 하려면 [SAP 인스턴스에 대해 자동 시작 사용][planning-guide-11.5] 장에서 설명한 대로 (A)SCS 인스턴스의 시작 프로필에 Autostart 매개 변수를 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1438">To insure automatic start of (A)SCS instance after the VM reboot, make sure to set Autostart parameter in (A)SCS instance start profile described in chapter [Using Autostart for SAP instances][planning-guide-11.5].</span></span> <span data-ttu-id="36d1a-1439">즉, 단일 VM에서 SPOF(단일 실패 지점)로 실행되는 (A)SCS 인스턴스는 전체 SAP 지형의 가용성을 결정하는 요소가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1439">This means the (A)SCS instance as a Single Point of Failure (SPOF) running in a single VM will be the determinative factor for the availability of the whole SAP landscape.</span></span>

* <span data-ttu-id="36d1a-1440">*더 높은* 가용성</span><span class="sxs-lookup"><span data-stu-id="36d1a-1440">*Higher* Availability of DBMS Server</span></span>

  <span data-ttu-id="36d1a-1441">여기서는 SAP (A)SCS 인스턴스 사용 사례와 마찬가지로 Azure VM 다시 시작을 활용하여 DBMS 소프트웨어가 설치된 VM을 보호하고, VM 다시 시작을 통해 DBMS 소프트웨어의 "높은 가용성"을 획득합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1441">Here, similar to the SAP (A)SCS instance use case, we utilize Azure VM Restart to protect the VM with installed DBMS software, and we achieve “higher availability” of DBMS software through VM Restart.</span></span>
  <span data-ttu-id="36d1a-1442">단일 VM에서 실행되는 DBMS는 SPOF이기도 하며 전체 SAP 지형의 가용성을 결정하는 중요한 요소가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1442">DBMS running in a single VM is also a SPOF, and it is the determinative factor for the availability of the whole SAP landscape.</span></span>

### <a name="sap-application-high-availability-on-azure-iaas"></a><span data-ttu-id="36d1a-1443">Azure IaaS의 SAP 응용 프로그램 고가용성</span><span class="sxs-lookup"><span data-stu-id="36d1a-1443">SAP Application High Availability on Azure IaaS</span></span>
<span data-ttu-id="36d1a-1444">전체 SAP 시스템의 고가용성을 달성하려면 모든 중요 SAP 시스템 구성 요소(예: 중복 SAP 응용 프로그램 서버), SAP (A)SCS 인스턴스 및 DBMS와 같은 고유한 구성 요소(예: 단일 실패 지점)를 보호해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1444">To achieve full SAP system high availability, we need to protect all critical SAP system components, for example redundant SAP application servers, and unique components (for example Single Point of Failure) like SAP (A)SCS instance and DBMS.</span></span>

#### <span data-ttu-id="36d1a-1445"><a name="5d9d36f9-9058-435d-8367-5ad05f00de77"></a>SAP 응용 프로그램 서버의 고가용성</span><span class="sxs-lookup"><span data-stu-id="36d1a-1445"><a name="5d9d36f9-9058-435d-8367-5ad05f00de77"></a>High Availability for SAP Application Servers</span></span>
<span data-ttu-id="36d1a-1446">SAP 응용 프로그램 서버/대화 상자 인스턴스의 경우 특정 고가용성 솔루션을 고려할 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1446">For the SAP application servers/dialog instances it’s not necessary to think about a specific high availability solution.</span></span> <span data-ttu-id="36d1a-1447">고가용성은 단순히 중복성에 의해 획득되므로 다른 가상 컴퓨터에서 충분히 확보될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1447">High availability is simply achieved by redundancy and thereby having enough of them in different virtual machines.</span></span> <span data-ttu-id="36d1a-1448">예정된 유지 관리 가동 중지와 동시에 VM이 업데이트되지 않도록 하려면 모두 동일한 Azure 가용성 집합에 두어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1448">They should all be placed in the same Azure Availability Set to avoid that the VMs might be updated at the same time during planned maintenance downtime.</span></span> <span data-ttu-id="36d1a-1449">Azure 배율 단위 내의 다른 업그레이드 도메인 및 장애 도메인을 기반으로 하는 기본 기능은 이미 [업그레이드 도메인][planning-guide-3.2.2] 장에서 살펴보았습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1449">The basic functionality which builds on different Upgrade and Fault Domains within an Azure Scale Unit was already introduced in chapter [Upgrade Domains][planning-guide-3.2.2].</span></span> <span data-ttu-id="36d1a-1450">Azure 가용성 집합은 이 문서의 [Azure 가용성 집합][planning-guide-3.2.3] 장에서 설명했습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1450">Azure Availability Sets were presented in chapter [Azure Availability Sets][planning-guide-3.2.3] of this document.</span></span>

<span data-ttu-id="36d1a-1451">Azure 배율 단위 내에서 Azure 가용성 집합이 사용할 수 있는 장애 도메인 및 업그레이드 도메인 수는 제한되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1451">There is no infinite number of Fault and Upgrade Domains that can be used by an Azure Availability Set within an Azure Scale Unit.</span></span> <span data-ttu-id="36d1a-1452">즉, 여러 VM을 가용성 집합 하나에 포함하면 최종적으로는 동일한 장애 도메인이나 업그레이드 도메인에 VM이 여러 개 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1452">This means that putting a number of VMs into one Availability Set, sooner or later more than one VM ends up in the same Fault or Upgrade Domain.</span></span>

<span data-ttu-id="36d1a-1453">전용 VM에서 일부 SAP 응용 프로그램 서버 인스턴스를 배포하고 업그레이드 도메인을 5개 받았다고 가정하면 결과적으로 다음과 같은 그림이 완성됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1453">Deploying a few SAP application server instances in their dedicated VMs and assuming that we got five Upgrade Domains, the following picture emerges at the end.</span></span> <span data-ttu-id="36d1a-1454">가용성 집합 내의 장애 및 업그레이드 도메인의 실제 최대 개수는 나중에 변경될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1454">The actual max number of fault and update domains within an availability set might change in the future:</span></span>

![Azure에 있는 SAP 응용 프로그램 서버의 HA][planning-guide-figure-3000]

<span data-ttu-id="36d1a-1456">이 설명서에서 자세한 내용을 찾을 수 있습니다. <http://azure.microsoft.com/documentation/articles/virtual-machines-manage-availability></span><span class="sxs-lookup"><span data-stu-id="36d1a-1456">More details can be found in this documentation: <http://azure.microsoft.com/documentation/articles/virtual-machines-manage-availability></span></span>

#### <a name="high-availability-for-the-sap-ascs-instance-on-windows"></a><span data-ttu-id="36d1a-1457">Windows에서 SAP (A)SCS 인스턴스의 고가용성</span><span class="sxs-lookup"><span data-stu-id="36d1a-1457">High Availability for the SAP (A)SCS instance on Windows</span></span>
<span data-ttu-id="36d1a-1458">WSFC(Windows Server 장애 조치 클러스터)는 SAP (A)SCS 인스턴스를 보호하기 위해 자주 사용되는 솔루션입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1458">Windows Server Failover Cluster (WSFC) is a frequently used solution to protect the SAP (A)SCS instance.</span></span> <span data-ttu-id="36d1a-1459">이 솔루션은 "HA 설치"의 형태로 sapinst에도 통합되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1459">It is also integrated into sapinst in form of an "HA installation".</span></span> <span data-ttu-id="36d1a-1460">현재 Azure 인프라는 온-프레미스의 경우와 동일한 방식으로 필수 Windows Server 장애 조치 클러스터를 설정하는 기능을 제공할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1460">At this point in time the Azure infrastructure is not able to provide the functionality to set up the required Windows Server Failover Cluster the same way as it's done on-premises.</span></span>

<span data-ttu-id="36d1a-1461">2016년 1월을 기준으로 Windows 운영 체제를 실행하는 Azure 클라우드 플랫폼에서 두 개의 Azure VM 간에 공유되는 디스크에서 클러스터 공유 볼륨을 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1461">As of January 2016 the Azure cloud platform running the Windows operating system does not provide the possibility of using a cluster shared volume on a disk shared between two Azure VMs.</span></span>

<span data-ttu-id="36d1a-1462">그렇지만 올바른 해결 방법은 WSFC에 통합될 수 있는 동기식의 투명한 디스크 복제에 의해 공유 볼륨을 제공하는 타사 소프트웨어를 사용하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1462">A valid solution though is the usage of 3rd-party software which provides a shared volume by synchronous and transparent disk replication which can be integrated into WSFC.</span></span> <span data-ttu-id="36d1a-1463">이 방법은 활성 클러스터 노드만 특정 시점에 디스크 복사본 중 하나에 액세스할 수 있음을 의미합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1463">This approach implies that only the active cluster node is able to access one of the disk copies at a point in time.</span></span> <span data-ttu-id="36d1a-1464">2016년 1월을 기준으로 타사 소프트웨어인 SIOS DataKeeper와 함께 Azure VM의 Windows 게스트 OS에 있는 SAP (A)SCS 인스턴스를 보호하기 위해 이 HA 구성이 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1464">As of January 2016 this HA configuration is supported to protect the SAP (A)SCS instance on Windows guest OS on Azure VMs in combination with 3rd-party software SIOS DataKeeper.</span></span>

<span data-ttu-id="36d1a-1465">SIOS DataKeeper 솔루션은 다음을 준비하여 Windows 장애 조치(failover) 클러스터에 공유 디스크 클러스터 리소스를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1465">The SIOS DataKeeper solution provides a shared disk cluster resource to Windows Failover Clusters by having:</span></span>

* <span data-ttu-id="36d1a-1466">Windows 클러스터 구성에 있는 각 VM(가상 컴퓨터)에 연결된 추가 Azure VHD</span><span class="sxs-lookup"><span data-stu-id="36d1a-1466">An additional Azure VHD attached to each of the virtual machines (VMs) that are in a Windows Cluster configuration</span></span>
* <span data-ttu-id="36d1a-1467">두 VM 노드에서 실행되는 SIOS DataKeeper Cluster Edition</span><span class="sxs-lookup"><span data-stu-id="36d1a-1467">SIOS DataKeeper Cluster Edition running on both VM nodes</span></span>
* <span data-ttu-id="36d1a-1468">원본 VM의 추가 VHD 연결 볼륨의 콘텐츠를 대상 VM의 추가 VHD 연결 볼륨에 동기식으로 미러링하는 방식으로 SIOS DataKeeper Cluster Edition 구성.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1468">Having SIOS DataKeeper Cluster Edition configured in a way that it synchronously mirrors the content of the additional VHD attached volume from source VMs to additional VHD attached volume of target VM.</span></span>
* <span data-ttu-id="36d1a-1469">SIOS DataKeeper는 원본 및 대상 로컬 볼륨을 추상화한 다음 Windows 장애 조치(failover) 클러스터에 단일 공유 디스크로 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1469">SIOS DataKeeper is abstracting the source and target local volumes and presenting them to Windows Failover Cluster as a single shared disk.</span></span>

<span data-ttu-id="36d1a-1470">SIOS Datakeeper 및 SAP를 사용하여 Windows 장애 조치 클러스터를 설치하는 방법에 대한 자세한 내용은 [SIOS DataKeeper와 함께 Azure에서 Windows Server 장애 조치(failover) 클러스터를 사용하여 SAP ASCS 인스턴스 클러스터링][ha-guide-classic] 백서를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1470">You can find all details on how to install a Windows Failover Cluster with SIOS DataKeeper and SAP in the [Clustering SAP ASCS Instance using Windows Server Failover Cluster on Azure with SIOS DataKeeper][ha-guide-classic] white paper.</span></span>

#### <a name="high-availability-for-the-sap-ascs-instance-on-linux"></a><span data-ttu-id="36d1a-1471">Linux에서 SAP (A)SCS 인스턴스의 고가용성</span><span class="sxs-lookup"><span data-stu-id="36d1a-1471">High Availability for the SAP (A)SCS instance on Linux</span></span>
<span data-ttu-id="36d1a-1472">2015년 12월을 기준으로 Azure에서 Linux VM용 공유 디스크 WSFC에 해당하는 기능이 제공되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1472">As of Dec 2015 there is also no equivalent to shared disk WSFC for Linux VMs on Azure.</span></span> <span data-ttu-id="36d1a-1473">Azure의 Linux에서 SAP를 실행하는 경우에 SIOS for Windows와 같은 타사 소프트웨어를 실행해도 괜찮은지는 아직 검증되지 않았습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1473">Alternative solutions using 3rd-party software like SIOS for Windows are not validated yet for running SAP on Linux on Azure.</span></span>

#### <a name="high-availability-for-the-sap-database-instance"></a><span data-ttu-id="36d1a-1474">SAP 데이터베이스 인스턴스의 고가용성</span><span class="sxs-lookup"><span data-stu-id="36d1a-1474">High Availability for the SAP database instance</span></span>
<span data-ttu-id="36d1a-1475">일반적인 SAP DBMS HA 설치는 DBMS 고가용성 기능이 활성 DBMS 인스턴스에서 두 번째 VM의 수동 DBMS 인스턴스로 데이터를 복제하는 데 사용되는 경우 두 개의 DBMS VM을 기반으로 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1475">The typical SAP DBMS HA setup is based on two DBMS VMs where DBMS high-availability functionality is used to replicate data from the active DBMS instance to the second VM into a passive DBMS instance.</span></span>

<span data-ttu-id="36d1a-1476">일반적으로 DBMS 및 특정 DBMS에 대한 고가용성 및 재해 복구 기능은 [DBMS 배포 가이드][dbms-guide]에서 설명하고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1476">High Availability and Disaster recovery functionality for DBMS in general as well as specific DBMS are described in the [DBMS Deployment Guide][dbms-guide].</span></span>

#### <a name="end-to-end-high-availability-for-the-complete-sap-system"></a><span data-ttu-id="36d1a-1477">전체 SAP 시스템의 종단 간 고가용성</span><span class="sxs-lookup"><span data-stu-id="36d1a-1477">End-to-End High Availability for the Complete SAP System</span></span>
<span data-ttu-id="36d1a-1478">Azure의 전체 SAP NetWeaver HA 아키텍처의 두 가지 예는 Windows용과 Linux용입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1478">Here are two examples of a complete SAP NetWeaver HA architecture in Azure - one for Windows and one for Linux.</span></span>

<span data-ttu-id="36d1a-1479">비관리 디스크에만 해당하는 내용: 아래에 설명된 개념은 많은 SAP 시스템을 배포하고 배포된 VM 수가 구독당 저장소 계정의 최대 제한을 초과할 경우 약간의 조정이 필요할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1479">Unmanaged disks only: The concepts as explained below may need to be compromised a bit when you deploy many SAP systems and the number of VMs deployed are exceeding the maximum limit of Storage Accounts per subscription.</span></span> <span data-ttu-id="36d1a-1480">이러한 경우 VM의 VHD를 단일 저장소 계정 내에 결합해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1480">In such cases, VHDs of VMs need to be combined within one Storage Account.</span></span> <span data-ttu-id="36d1a-1481">일반적으로는 이를 위해 여러 다른 SAP 시스템에 있는 SAP 응용 프로그램 계층 VM의 VHD를 결합할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1481">Usually you would do so by combining VHDs of SAP application layer VMs of different SAP systems.</span></span>  <span data-ttu-id="36d1a-1482">여기서는 서로 다른 SAP 시스템에 있는 여러 DBMS VM의 다른 VHD를 단일 Azure 저장소 계정에 결합했습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1482">We also combined different VHDs of different DBMS VMs of different SAP systems in one Azure Storage Account.</span></span> <span data-ttu-id="36d1a-1483">이를 통해 Azure Storage 계정의 IOPS 제한이 적용되도록 했습니다(<https://azure.microsoft.com/documentation/articles/storage-scalability-targets>).</span><span class="sxs-lookup"><span data-stu-id="36d1a-1483">Thereby keeping the IOPS limits of Azure Storage Accounts in mind (<https://azure.microsoft.com/documentation/articles/storage-scalability-targets>)</span></span>


##### <a name="windowslogowindows-ha-on-windows"></a>![Windows][Logo_Windows] <span data-ttu-id="36d1a-1485">Windows의 HA</span><span class="sxs-lookup"><span data-stu-id="36d1a-1485">HA on Windows</span></span>
![Azure IaaS의 SQL Server를 사용한 SAP NetWeaver 응용 프로그램 HA 아키텍처][planning-guide-figure-3200]

<span data-ttu-id="36d1a-1487">다음 Azure 구성은 인프라 문제 및 호스트 패치에 의한 영향을 최소화하기 위해 SAP NetWeaver 시스템에서 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1487">The following Azure constructs are used for the SAP NetWeaver system, to minimize impact by infrastructure issues and host patching:</span></span>

* <span data-ttu-id="36d1a-1488">전체 시스템이 Azure에 배포됩니다(필수 - DBMS 계층, (A)SCS 인스턴스 및 전체 응용 프로그램 계층이 같은 위치에서 실행되어야 함).</span><span class="sxs-lookup"><span data-stu-id="36d1a-1488">The complete system is deployed on Azure (required - DBMS layer, (A)SCS instance and complete application layer need to run in the same location).</span></span>
* <span data-ttu-id="36d1a-1489">전체 시스템이 단일 Azure 구독 내에서 실행됩니다(필수).</span><span class="sxs-lookup"><span data-stu-id="36d1a-1489">The complete system runs within one Azure subscription (required).</span></span>
* <span data-ttu-id="36d1a-1490">전체 시스템이 단일 Azure 가상 네트워크 내에서 실행됩니다(필수).</span><span class="sxs-lookup"><span data-stu-id="36d1a-1490">The complete system runs within one Azure Virtual Network (required).</span></span>
* <span data-ttu-id="36d1a-1491">모든 VM이 동일한 가상 네트워크에 있는 경우에도 단일 SAP 시스템의 VM을 3개의 가용성 집합으로 구분할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1491">The separation of the VMs of one SAP system into three Availability Sets is possible even with all the VMs belonging to the same Virtual Network.</span></span>
* <span data-ttu-id="36d1a-1492">단일 SAP 시스템의 DBMS 인스턴스를 실행하는 모든 VM이 하나의 가용성 집합에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1492">All VMs running DBMS instances of one SAP system are in one Availability Set.</span></span> <span data-ttu-id="36d1a-1493">SQL Server AlwaysOn 또는 Oracle Data Guard와 같은 네이티브 DBMS 고가용성 기능이 사용되므로 시스템당 둘 이상의 VM에서 DBMS 인스턴스가 실행된다고 가정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1493">We assume that there is more than one VM running DBMS instances per system since native DBMS high availability features are used, like SQL Server AlwaysOn or Oracle Data Guard.</span></span>
* <span data-ttu-id="36d1a-1494">DBMS 인스턴스를 실행하는 모든 VM은 자체 저장소 계정을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1494">All VMs running DBMS instances use their own storage account.</span></span> <span data-ttu-id="36d1a-1495">DBMS 데이터 및 로그 파일은 데이터를 동기화하는 DBMS 고가용성 기능을 사용하여 한 저장소 계정에서 다른 저장소 계정으로 복제됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1495">DBMS data and log files are replicated from one storage account to another storage account using DBMS high availability functions that synchronize the data.</span></span> <span data-ttu-id="36d1a-1496">하나의 저장소 계정을 사용할 수 없는 경우 전체 SQL Server 서비스가 아니라 SQL Windows 클러스터 노드 하나만 사용할 수 없게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1496">Unavailability of one storage account will cause unavailability of one SQL Windows cluster node, but not the whole SQL Server service.</span></span>
* <span data-ttu-id="36d1a-1497">단일 SAP 시스템의 (A)SCS 인스턴스를 실행하는 모든 VM이 하나의 가용성 집합에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1497">All VMs running (A)SCS instance of one SAP system are in one Availability Set.</span></span> <span data-ttu-id="36d1a-1498">해당 VM의 내부에서 WSFC(Windows Sever 장애 조치(failover) 클러스터)가 (A)SCS 인스턴스를 보호하도록 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1498">A Windows Server Failover Cluster (WSFC) is configured inside of those VMs to protect the (A)SCS instance.</span></span>
* <span data-ttu-id="36d1a-1499">(A)SCS 인스턴스를 실행하는 모든 VM은 자체 저장소 계정을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1499">All VMs running (A)SCS instances use their own storage account.</span></span> <span data-ttu-id="36d1a-1500">(A)SCS 인스턴스 파일 및 SAP 전역 폴더는 SIOS DataKeeper 복제를 사용하여 한 저장소 계정에서 다른 저장소 계정으로 복제됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1500">(A)SCS instance files and SAP global folder are replicated from one storage account to another storage account using SIOS DataKeeper replication.</span></span> <span data-ttu-id="36d1a-1501">하나의 저장소 계정을 사용할 수 없는 경우 전체 (A)SCS 서비스가 아니라 (A)SCS Windows 클러스터 노드 하나만 사용할 수 없게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1501">Unavailability of one storage account will cause unavailability of one (A)SCS Windows cluster node, but not the whole (A)SCS service.</span></span>
* <span data-ttu-id="36d1a-1502">SAP 응용 프로그램 서버 계층을 나타내는 모든 VM은 세 번째 가용성 집합에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1502">ALL the VMs representing the SAP application server layer are in a third Availability Set.</span></span>
* <span data-ttu-id="36d1a-1503">SAP 응용 프로그램 서버를 실행하는 모든 VM은 자체 저장소 계정을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1503">ALL the VMs running SAP application servers use their own storage account.</span></span> <span data-ttu-id="36d1a-1504">저장소 계정 하나를 사용할 수 없으면 하나의 SAP 응용 프로그램 서버를 사용할 수 없게 되며 다른 SAP AS는 계속 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1504">Unavailability of one storage account will cause unavailability of one SAP application server, where other SAP AS continue to run.</span></span>

<span data-ttu-id="36d1a-1505">다음 그림에는 관리 디스크를 사용하는 동일 지형이 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1505">The following figure illustrated the same landscape using Managed Disks.</span></span>

![Azure IaaS의 SQL Server를 사용한 SAP NetWeaver 응용 프로그램 HA 아키텍처][planning-guide-figure-3201]

##### <a name="linuxlogolinux-ha-on-linux"></a>![Linux][Logo_Linux] <span data-ttu-id="36d1a-1508">Linux의 HA</span><span class="sxs-lookup"><span data-stu-id="36d1a-1508">HA on Linux</span></span>
<span data-ttu-id="36d1a-1509">Azure의 Linux에 대한 SAP HA 아키텍처는 기본적으로 위에 설명된 것처럼 Windows의 경우와 동일합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1509">The architecture for SAP HA on Linux on Azure is basically the same as for Windows as described above.</span></span> <span data-ttu-id="36d1a-1510">2016년 1월 현재 SAP (A)SCS HA 솔루션은 아직Azure의 Linux에서 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1510">As of Jan 2016 there is no SAP (A)SCS HA solution supported yet on Linux on Azure</span></span>

<span data-ttu-id="36d1a-1511">결과적으로 2016년 1월을 기준으로 (A)SCS 인스턴스 및 단일 인스턴스 SAP ASE 데이터베이스에 대한 HA가 없으므로 SAP-Linux-Azure 시스템은 SAP-Windows-Azure 시스템과 동일한 가용성을 제공할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1511">As a consequence as of January 2016 an SAP-Linux-Azure system cannot achieve the same availability as an SAP-Windows-Azure system because of missing HA for the (A)SCS instance and the single-instance SAP ASE database.</span></span>

### <span data-ttu-id="36d1a-1512"><a name="4e165b58-74ca-474f-a7f4-5e695a93204f"></a>SAP 인스턴스에 대해 자동 시작 사용</span><span class="sxs-lookup"><span data-stu-id="36d1a-1512"><a name="4e165b58-74ca-474f-a7f4-5e695a93204f"></a>Using Autostart for SAP instances</span></span>
<span data-ttu-id="36d1a-1513">SAP는 VM 내에서 운영 체제가 시작된 후 즉시 SAP 인스턴스를 시작하기 위한 기능을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1513">SAP offered the functionality to start SAP instances immediately after the start of the OS within the VM.</span></span> <span data-ttu-id="36d1a-1514">정확한 단계는 SAP 기술 자료 문서 [1909114]에 설명되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1514">The exact steps were documented in SAP Knowledge Base Article [1909114].</span></span> <span data-ttu-id="36d1a-1515">그러나 SAP는 인스턴스 다시 시작 순서가 제어되지 않고 둘 이상의 VM이 영향을 받거나 VM당 여러 인스턴스가 실행되었다고 가정하므로 이러한 설정을 사용하는 것을 더 이상 권장하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1515">However, SAP is not recommending to use the setting anymore because there is no control in the order of instance restarts, assuming more than one VM got affected or multiple instances ran per VM.</span></span> <span data-ttu-id="36d1a-1516">VM 하나에 단일 SAP 응용 프로그램 서버 인스턴스가 있는 일반적인 Azure 시나리오와 단일 VM이 다시 시작되는 경우를 가정하면, 자동 시작은 실제로 중요하지 않으며 이 매개 변수를 다음에 추가하여 사용되도록 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1516">Assuming a typical Azure scenario of one SAP application server instance in a VM and the case of a single VM eventually getting restarted, the Autostart is not really critical and can be enabled by adding this parameter:</span></span>

    Autostart = 1

<span data-ttu-id="36d1a-1517">SAP ABAP 및/또는 Java 인스턴스의 시작 프로필</span><span class="sxs-lookup"><span data-stu-id="36d1a-1517">Into the start profile of the SAP ABAP and/or Java instance.</span></span>

> [!NOTE]
> <span data-ttu-id="36d1a-1518">Autostart 매개 변수에도 일부 단점이 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1518">The Autostart parameter can have some downfalls as well.</span></span> <span data-ttu-id="36d1a-1519">구체적으로 말하면, 이 매개 변수는 인스턴스의 관련 Windows/Linux 서비스가 시작될 때 SAP ABAP 또는 Java 인스턴스가 시작되도록 트리거합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1519">In more detail, the parameter triggers the start of an SAP ABAP or Java instance when the related Windows/Linux service of the instance is started.</span></span> <span data-ttu-id="36d1a-1520">운영 체제가 부팅될 때가 가장 대표적인 예입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1520">That certainly is the case when the operating system boots up.</span></span> <span data-ttu-id="36d1a-1521">그러나 SAP 서비스를 다시 시작하는 것도 SUM이나 기타 업데이트 또는 업그레이드와 같은 SAP 소프트웨어 수명 주기 관리 기능의 일반적인 측면에 해당합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1521">However, restarts of SAP services are also a common thing for SAP Software Lifecycle Management functionality like SUM or other updates or upgrades.</span></span> <span data-ttu-id="36d1a-1522">이러한 기능에서 항상 인스턴스가 자동으로 다시 시작될 것으로 예상되지는 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1522">These functionalities are not expecting an instance to be restarted automatically at all.</span></span> <span data-ttu-id="36d1a-1523">따라서 이러한 작업을 실행하기 전에 Autostart 매개 변수를 사용하지 않도록 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1523">Therefore, the Autostart parameter should be disabled before running such tasks.</span></span> <span data-ttu-id="36d1a-1524">Autostart 매개 변수를 ASCS/SCS/CI 같이 클러스터링되는 SAP 인스턴스에는 사용하지 말아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1524">The Autostart parameter also should not be used for SAP instances that are clustered, like ASCS/SCS/CI.</span></span>
>
>

<span data-ttu-id="36d1a-1525">SAP 인스턴스의 자동 시작과 관련된 자세한 내용은 다음 항목을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1525">See additional information regarding autostart for SAP instances here:</span></span>

* [<span data-ttu-id="36d1a-1526">Unix 서버 시작/중지에 따른 SAP 시작/중지</span><span class="sxs-lookup"><span data-stu-id="36d1a-1526">Start/Stop SAP along with your Unix Server Start/Stop</span></span>](http://scn.sap.com/community/unix/blog/2012/08/07/startstop-sap-along-with-your-unix-server-startstop)
* [<span data-ttu-id="36d1a-1527">SAP NetWeaver 관리 에이전트 시작 및 중지</span><span class="sxs-lookup"><span data-stu-id="36d1a-1527">Starting and Stopping SAP NetWeaver Management Agents</span></span>](https://help.sap.com/saphelp_nwpi711/helpdata/en/49/9a15525b20423ee10000000a421938/content.htm)
* [<span data-ttu-id="36d1a-1528">HANA 데이터베이스의 자동 시작을 사용하도록 설정하는 방법</span><span class="sxs-lookup"><span data-stu-id="36d1a-1528">How to enable auto Start of HANA Database</span></span>](http://www.freehanatutorials.com/2012/10/how-to-enable-auto-start-of-hana.html)

### <a name="larger-3-tier-sap-systems"></a><span data-ttu-id="36d1a-1529">대형 3계층 SAP 시스템</span><span class="sxs-lookup"><span data-stu-id="36d1a-1529">Larger 3-Tier SAP systems</span></span>
<span data-ttu-id="36d1a-1530">3계층 SAP 구성의 고가용성 측면은 이전 섹션에서 이미 설명되었습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1530">High-Availability aspects of 3-Tier SAP configurations got discussed in earlier sections already.</span></span> <span data-ttu-id="36d1a-1531">그러나 DBMS 서버 요구 사항이 너무 커서 Azure에 포함할 수 없는 시스템의 경우는 어떨까요? SAP 응용 프로그램 계층을 Azure에 배포할 수 있을까요?</span><span class="sxs-lookup"><span data-stu-id="36d1a-1531">But what about systems where the DBMS server requirements are too large to have it located in Azure, but the SAP application layer could be deployed into Azure?</span></span>

#### <a name="location-of-3-tier-sap-configurations"></a><span data-ttu-id="36d1a-1532">3계층 SAP 구성의 위치</span><span class="sxs-lookup"><span data-stu-id="36d1a-1532">Location of 3-Tier SAP configurations</span></span>
<span data-ttu-id="36d1a-1533">응용 프로그램 계층 자체를 분할하거나 응용 프로그램 및 DBMS 계층을 온-프레미스와 Azure 간에 분할하는 것은 지원되지 않습니다 </span><span class="sxs-lookup"><span data-stu-id="36d1a-1533">It is not supported to split the application tier itself or the application and DBMS tier between on-premises and Azure.</span></span> <span data-ttu-id="36d1a-1534">SAP 시스템은 온-프레미스 또는 Azure에 완전히 배포됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1534">An SAP system is either completely deployed on-premises OR in Azure.</span></span> <span data-ttu-id="36d1a-1535">또한 일부 응용 프로그램 서버는 온-프레미스에 두고 다른 응용 프로그램 서버는 Azure에 둘 수도 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1535">It is also not supported to have some of the application servers run on-premises and some others in Azure.</span></span> <span data-ttu-id="36d1a-1536">이것이 바로 논의를 시작할 부분입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1536">That is the starting point of the discussion.</span></span> <span data-ttu-id="36d1a-1537">또한 SAP 시스템의 DBMS 구성 요소와 SAP 응용 프로그램 서버 계층을 두 개의 서로 다른 Azure 지역에 배포하는 것도 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1537">We also are not supporting to have the DBMS components of an SAP system and the SAP application server layer deployed in two different Azure Regions.</span></span> <span data-ttu-id="36d1a-1538">미국 서부에 DBMS를 배포하고 미국 중부에 SAP 응용 프로그램 계층을 배포하는 경우를 예로 들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1538">For example DBMS in West US and SAP application layer in Central US.</span></span> <span data-ttu-id="36d1a-1539">이러한 구성을 지원하지 않는 이유는 SAP NetWeaver 아키텍처의 대기 시간 민감도 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1539">Reason for not supporting such configurations is the latency sensitivity of the SAP NetWeaver architecture.</span></span>

<span data-ttu-id="36d1a-1540">그러나 작년에 관련 작업을 거치면서 데이터 센터 파트너가 Azure 지역에 대한 공동 위치를 개발했습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1540">However, over the course of last year data center partners developed co-locations to Azure Regions.</span></span> <span data-ttu-id="36d1a-1541">이러한 공동 위치는 대개 Azure 지역 내의 실제 Azure 데이터 센터와 매우 가깝습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1541">These co-locations often are in very close proximity to the physical Azure data centers within an Azure Region.</span></span> <span data-ttu-id="36d1a-1542">Azure에 대한 Express 경로를 사용해서 공동 위치에 짧은 거리를 유지하면서 자산을 연결하면 대기 시간이 2ms보다 적어질 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1542">The short distance and connection of assets in the co-location through ExpressRoute into Azure can result in a latency that is less than 2ms.</span></span> <span data-ttu-id="36d1a-1543">이러한 경우 공동 위치에 DBMS 계층(SAN/NAS 저장소 포함)을 배치하고 Azure에 SAP 응용 프로그램 계층을 배치할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1543">In such cases, to locate the DBMS layer (including storage SAN/NAS) in such a co-location and the SAP application layer in Azure is possible.</span></span> <span data-ttu-id="36d1a-1544">2015년 12월을 기준으로 이와 같은 배포는 더 이상 진행되지 않고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1544">As of Dec 2015, we don’t have any deployments like that.</span></span> <span data-ttu-id="36d1a-1545">하지만 SAP 이외의 응용 프로그램 배포를 사용하는 다른 고객들은 이러한 접근 방식을 이미 사용하고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1545">But different customers with non-SAP application deployments are using such approaches already.</span></span>

### <a name="offline-backup-of-sap-systems"></a><span data-ttu-id="36d1a-1546">SAP 시스템의 오프라인 백업</span><span class="sxs-lookup"><span data-stu-id="36d1a-1546">Offline Backup of SAP systems</span></span>
<span data-ttu-id="36d1a-1547">선택한 SAP 구성(2계층 또는 3계층)에 따라, 백업이 필요할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1547">Dependent on the SAP configuration chosen (2-Tier or 3-Tier) there could be a need to back up.</span></span> <span data-ttu-id="36d1a-1548">데이터베이스의 백업 외에 VM 자체의 내용도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1548">The content of the VM itself plus to have a backup of the database.</span></span> <span data-ttu-id="36d1a-1549">DBMS 관련 백업은 데이터베이스 메서드로 수행됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1549">The DBMS-related backups are expected to be done with database methods.</span></span> <span data-ttu-id="36d1a-1550">다른 데이터베이스에 대한 자세한 설명은 [DBMS 가이드][dbms-guide]에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1550">A detailed description for the different databases, can be found in [DBMS Guide][dbms-guide].</span></span> <span data-ttu-id="36d1a-1551">SAP 데이터는 이 섹션에 설명되는 오프라인 방식으로(데이터베이스 콘텐츠도 포함) 또는 다음 섹션에 설명되는 온라인 방식으로 백업될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1551">On the other hand, the SAP data can be backed up in an offline manner (including the database content as well) as described in this section or online as described in the next section.</span></span>

<span data-ttu-id="36d1a-1552">오프라인 백업에서는 기본적으로 Azure Portal을 통해 VM을 종료해야 하며, VM에 연결된 모든 디스크 외의 기본 VM 디스크 복사본이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1552">The offline backup would basically require a shutdown of the VM through the Azure portal and a copy of the base VM disk plus all attached disks to the VM.</span></span> <span data-ttu-id="36d1a-1553">이 경우 VM 및 관련 디스크의 지정 시간 이미지가 보존됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1553">This would preserve a point in time image of the VM and its associated disk.</span></span> <span data-ttu-id="36d1a-1554">'백업'을 다른 Azure 저장소 계정으로 복사하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1554">It is recommended to copy the ‘backups’ into a different Azure Storage Account.</span></span> <span data-ttu-id="36d1a-1555">따라서 이 문서의 [Azure Storage 계정 간 디스크 복사][planning-guide-5.4.2] 장에서 설명한 절차가 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1555">Hence the procedure described in chapter [Copying disks between Azure Storage Accounts][planning-guide-5.4.2] of this document would apply.</span></span>
<span data-ttu-id="36d1a-1556">Azure Portal을 사용하여 종료하는 방법 외에, <https://azure.microsoft.com/documentation/articles/virtual-machines-deploy-rmtemplates-powershell/>에 설명된 것처럼 PowerShell 또는 CLI를 통해 종료할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1556">Besides the shutdown using the Azure portal one can also do it via Powershell or CLI as described here: <https://azure.microsoft.com/documentation/articles/virtual-machines-deploy-rmtemplates-powershell/></span></span>

<span data-ttu-id="36d1a-1557">해당 상태가 복원될 때는 기본 VM뿐 아니라 기본 VM의 원본 디스크와 장착된 디스크도 삭제되고, 저장된 디스크가 관리 디스크의 리소스 그룹 또는 원래 Storage 계정으로 다시 복사된 후에 시스템이 다시 배포됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1557">A restore of that state would consist of deleting the base VM as well as the original disks of the base VM and mounted disks, copying back the saved disks to the original Storage Account or resource group for managed disks and then redeploying the system.</span></span>
<span data-ttu-id="36d1a-1558">이 프로세스를 PowerShell에서 스크립트로 실행하는 방법의 예제는 <http://www.westerndevs.com/azure-snapshots/> 문서에 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1558">This article shows an example how to script this process in Powershell: <http://www.westerndevs.com/azure-snapshots/></span></span>

<span data-ttu-id="36d1a-1559">위에 설명된 대로 VM 백업을 복원하면 새 하드웨어 키가 생성되므로 새 SAP 라이선스를 설치해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1559">Please make sure to install a new SAP license since restoring a VM backup as described above creates a new hardware key.</span></span>

### <a name="online-backup-of-an-sap-system"></a><span data-ttu-id="36d1a-1560">SAP 시스템의 온라인 백업</span><span class="sxs-lookup"><span data-stu-id="36d1a-1560">Online backup of an SAP system</span></span>
<span data-ttu-id="36d1a-1561">DBMS의 백업은 [DBMS 가이드][dbms-guide]에서 설명한 대로 DBMS 관련 메서드를 사용하여 수행됩니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1561">Backup of the DBMS is performed with DBMS-specific methods as described in the [DBMS Guide][dbms-guide].</span></span>

<span data-ttu-id="36d1a-1562">SAP 시스템 내의 다른 VM은 Azure 가상 컴퓨터 백업 기능을 사용하여 백업할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1562">Other VMs within the SAP system can be backed up using Azure Virtual Machine Backup functionality.</span></span> <span data-ttu-id="36d1a-1563">Azure 가상 컴퓨터 백업은 2015년 초반에 도입된 이후 Azure에서 전체 VM을 백업하는 표준 방법이 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1563">Azure Virtual Machine Backup got introduced early in 2015 and meanwhile is a standard method to back up a complete VM in Azure.</span></span> <span data-ttu-id="36d1a-1564">Azure 백업은 Azure에 백업을 저장하고 VM을 다시 복원할 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1564">Azure Backup stores the backups in Azure and allows a restore of a VM again.</span></span>

> [!NOTE]
> <span data-ttu-id="36d1a-1565">2015년 12월을 기준으로 VM 백업은 SAP 라이선스에 사용되는 고유한 VM ID를 보존하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1565">As of Dec 2015 using VM Backup does NOT keep the unique VM ID which is used for SAP licensing.</span></span> <span data-ttu-id="36d1a-1566">즉, 복원된 VM은 저장된 이전 VM을 대신하는 것이 아니라 새 VM으로 간주되므로 VM 백업에서 복원하려면 새 SAP 라이선스 키를 설치해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1566">This means that a restore from a VM backup requires installation of a new SAP license key as the restored VM is considered to be a new VM and not a replacement of the former one which was saved.</span></span>
>
> ![Windows][Logo_Windows] <span data-ttu-id="36d1a-1568">Windows</span><span class="sxs-lookup"><span data-stu-id="36d1a-1568">Windows</span></span>
>
> <span data-ttu-id="36d1a-1569">이론적으로 DBMS 시스템에서 Windows VSS(볼륨 섀도 복사본 서비스 - <https://msdn.microsoft.com/library/windows/desktop/bb968832(v=vs.85).aspx>)를 지원하는 경우 데이터베이스를 실행하는 VM을 SQL Server 등에서와 같이 일관성 있는 방식으로 백업할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1569">Theoretically, VMs that run databases can be backed up in a consistent manner as well if the DBMS system supports the Windows VSS (Volume Shadow Copy Service <https://msdn.microsoft.com/library/windows/desktop/bb968832(v=vs.85).aspx>) as, for example, SQL Server does.</span></span>
> <span data-ttu-id="36d1a-1570">그러나 데이터베이스의 Azure VM 백업 기반의 특정 시간 복원은 가능하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1570">However, be aware that based on Azure VM backups point-in-time restores of databases are not possible.</span></span> <span data-ttu-id="36d1a-1571">따라서 Azure VM 백업을 사용하지 않고 DBMS 기능을 사용하여 데이터베이스 백업을 수행하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1571">Therefore, the recommendation is to perform backups of databases with DBMS functionality instead of relying on Azure VM Backup.</span></span>
>
> <span data-ttu-id="36d1a-1572">Azure 가상 컴퓨터 백업에 대해 숙지하려면 <https://docs.microsoft.com/azure/backup/backup-azure-vms>를 먼저 확인하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1572">To get familiar with Azure Virtual Machine Backup please start here: <https://docs.microsoft.com/azure/backup/backup-azure-vms>.</span></span>
>
> <span data-ttu-id="36d1a-1573">Azure VM에 설치된 Microsoft Data Protection Manager와 Azure 백업을 함께 사용하여 데이터베이스 백업/복원할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1573">Other possibilities are to use a combination of Microsoft Data Protection Manager installed in an Azure VM and Azure Backup to backup/restore databases.</span></span> <span data-ttu-id="36d1a-1574">자세한 내용은 <https://docs.microsoft.com/azure/backup/backup-azure-dpm-introduction>에서 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1574">More information can be found here: <https://docs.microsoft.com/azure/backup/backup-azure-dpm-introduction>.</span></span>  
>
> ![Linux][Logo_Linux] <span data-ttu-id="36d1a-1576">Linux</span><span class="sxs-lookup"><span data-stu-id="36d1a-1576">Linux</span></span>
>
> <span data-ttu-id="36d1a-1577">Linux에는 Windows VSS와 동일한 기능이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1577">There is no equivalent to Windows VSS in Linux.</span></span> <span data-ttu-id="36d1a-1578">따라서 파일 일치 백업만 가능하고 응용 프로그램 일치 백업은 가능하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1578">Therefore only file-consistent backups are possible but not application-consistent backups.</span></span> <span data-ttu-id="36d1a-1579">SAP DBMS 백업은 DBMS 기능을 사용해서 수행해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1579">The SAP DBMS backup should be done using DBMS functionality.</span></span> <span data-ttu-id="36d1a-1580">SAP 관련 데이터가 포함된 파일 시스템은 <http://help.sap.com/saphelp_nw70ehp2/helpdata/en/d3/c0da3ccbb04d35b186041ba6ac301f/content.htm>에 설명된 것과 같이 tar 등의 기능을 사용하여 저장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1580">The file system which includes the SAP-related data can be saved, for example, using tar as described here: <http://help.sap.com/saphelp_nw70ehp2/helpdata/en/d3/c0da3ccbb04d35b186041ba6ac301f/content.htm></span></span>
>
>

### <a name="azure-as-dr-site-for-production-sap-landscapes"></a><span data-ttu-id="36d1a-1581">프로덕션 SAP 지형에 대한 DR 사이트로 사용되는 Azure</span><span class="sxs-lookup"><span data-stu-id="36d1a-1581">Azure as DR site for production SAP landscapes</span></span>
<span data-ttu-id="36d1a-1582">2014년 중반부터 Hyper-V, System Center 및 Azure와 관련한 다양한 구성 요소가 확장되면서 Azure를 Hyper-V를 기준으로 온-프레미스에서 실행되는 VM에 대한 DR 사이트로 사용할 수 있게 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1582">Since Mid 2014, extensions to various components around Hyper-V, System Center and Azure enable the usage of Azure as DR site for VMs running on-premises based on Hyper-V.</span></span>

<span data-ttu-id="36d1a-1583">이 솔루션을 배포하는 자세한 방법은 <http://blogs.msdn.com/b/saponsqlserver/archive/2014/11/19/protecting-sap-solutions-with-azure-site-recovery.aspx> 블로그에 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1583">A blog detailing how to deploy this solution is documented here: <http://blogs.msdn.com/b/saponsqlserver/archive/2014/11/19/protecting-sap-solutions-with-azure-site-recovery.aspx>.</span></span>

## <a name="summary"></a><span data-ttu-id="36d1a-1584">요약</span><span class="sxs-lookup"><span data-stu-id="36d1a-1584">Summary</span></span>
<span data-ttu-id="36d1a-1585">Azure의 SAP 시스템 고가용성의 핵심 사항은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1585">The key points of High Availability for SAP systems in Azure are:</span></span>

* <span data-ttu-id="36d1a-1586">현재 온-프레미스 배포의 경우와 정확히 동일한 방식으로 SAP 단일 실패 지점을 보호할 수는 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1586">At this point in time, the SAP single point of failure cannot be secured exactly the same way as it can be done in on-premises deployments.</span></span> <span data-ttu-id="36d1a-1587">그 이유는 타사 소프트웨어를 사용하지 않을 경우 아직 Azure에서 공유 디스크 클러스터를 구축할 수 없기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1587">The reason is that Shared Disk clusters can’t yet be built in Azure without the use of 3rd party software.</span></span>
* <span data-ttu-id="36d1a-1588">DBMS 계층의 경우 공유 디스크 클러스터 기술에 의존하지 않는 DBMS 기능을 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1588">For the DBMS layer you need to use DBMS functionality that does not rely on shared disk cluster technology.</span></span> <span data-ttu-id="36d1a-1589">자세한 내용은 [DBMS 가이드][dbms-guide]에서 설명하고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1589">Details are documented in the [DBMS Guide][dbms-guide].</span></span>
* <span data-ttu-id="36d1a-1590">Azure 인프라의 장애 도메인 문제 또는 호스트 유지 관리의 영향을 최소화하려면 Azure 가용성 집합을 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1590">To minimize the impact of problems within Fault Domains in the Azure infrastructure or host maintenance, you should use Azure Availability Sets:</span></span>
  * <span data-ttu-id="36d1a-1591">SAP 응용 프로그램 계층에 대한 가용성 집합을 하나 유지하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1591">It is recommended to have one Availability Set for the SAP application layer.</span></span>
  * <span data-ttu-id="36d1a-1592">SAP DBMS 계층에 대한 별도의 가용성 집합을 유지하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1592">It is recommended to have a separate Availability Set for the SAP DBMS layer.</span></span>
  * <span data-ttu-id="36d1a-1593">다른 SAP 시스템의 VM에 대해 동일한 가용성 집합을 적용하는 것은 바람직하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1593">It is NOT recommended to apply the same Availability set for VMs of different SAP systems.</span></span>
  * <span data-ttu-id="36d1a-1594">Premium 관리 디스크를 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1594">It is recommended to use Premium Managed Disks.</span></span>
* <span data-ttu-id="36d1a-1595">SAP DBMS 계층의 백업 목적에 대해서는 [DBMS 가이드][dbms-guide]를 확인하세요.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1595">For Backup purposes of the SAP DBMS layer, please check the [DBMS Guide][dbms-guide].</span></span>
* <span data-ttu-id="36d1a-1596">간단한 대화 상자 인스턴스를 재배포하는 것이 더 빠르므로 SAP 대화 상자 인스턴스를 백업하는 것은 거의 의미가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1596">Backing up SAP Dialog instances makes little sense since it is usually faster to redeploy simple dialog instances.</span></span>
* <span data-ttu-id="36d1a-1597">SAP 시스템의 전체 디렉터리를 포함하는 VM과 다양한 인스턴스의 모든 프로필을 백업하는 것은 도움이 되며 Windows 백업 또는 Linux의 tar 등을 사용하여 수행해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1597">Backing up the VM which contains the global directory of the SAP system and with it all the profiles of the different instances, does make sense and should be performed with Windows Backup or, for example, tar on Linux.</span></span> <span data-ttu-id="36d1a-1598">Windows Server 2008(R2) 및 Windows Server 2012(R2) 간에는 차이가 있으며 좀 더 최신의 Windows Server 릴리스를 사용하여 백업하는 것이 더 쉬우므로 Windows Server 2012(R2)를 Windows 게스트 운영 체제로 실행하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="36d1a-1598">Since there are differences between Windows Server 2008 (R2) and Windows Server 2012 (R2), which make it easier to back up using the more recent Windows Server releases, we recommend to run Windows Server 2012 (R2) as Windows guest operating system.</span></span>
