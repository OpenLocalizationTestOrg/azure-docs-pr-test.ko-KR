---
title: "클래식에서 Azure Resource Manager로 IaaS 리소스의 마이그레이션 계획 | Microsoft Docs"
description: "클래식에서 Azure Resource Manager로 IaaS 리소스의 마이그레이션 계획"
services: virtual-machines-linux
documentationcenter: 
author: singhkays
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 78492a2c-2694-4023-a7b8-c97d3708dcb7
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 04/01/2017
ms.author: kasing
ms.openlocfilehash: 5db4e5b18ad385e7eba125a1296a9c5054213446
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/11/2017
---
# <a name="planning-for-migration-of-iaas-resources-from-classic-to-azure-resource-manager"></a><span data-ttu-id="72509-103">클래식에서 Azure Resource Manager로 IaaS 리소스의 마이그레이션 계획</span><span class="sxs-lookup"><span data-stu-id="72509-103">Planning for migration of IaaS resources from classic to Azure Resource Manager</span></span>
<span data-ttu-id="72509-104">Azure Resource Manager는 수많은 놀라운 기능을 제공하지만, 유연하게 이전할 수 있도록 마이그레이션 과정을 계획하는 것이 매우 중요합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-104">While Azure Resource Manager offers a lot of amazing features, it is critical to plan out your migration journey to make sure things go smoothly.</span></span> <span data-ttu-id="72509-105">계획에 시간을 들이면 마이그레이션 활동을 수행하는 동안 문제가 발생하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-105">Spending time on planning will ensure that you do not encounter issues while executing migration activities.</span></span> 

> [!NOTE] 
> <span data-ttu-id="72509-106">다음 지침은 Azure 고객 자문 팀과 클라우드 솔루션 설계자가 고객과 협력하여 대규모 환경을 마이그레이션하는 데 크게 기여했습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-106">The following guidance was heavily contributed to by the Azure Customer Advisory team and Cloud Solution architects working with customers on migrating large enviornments.</span></span> <span data-ttu-id="72509-107">따라서 새로운 성공 패턴이 알려지면서 이 문서를 계속 업데이트할 예정이므로 수시로 다시 확인하여 새로운 권장 사항이 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-107">As such this document will continue to get updated as new patterns of success emerge, so check back from time to time to see if there are any new recommendations.</span></span>

<span data-ttu-id="72509-108">마이그레이션 과정에는 다음과 같이 4가지 일반적인 단계가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-108">There are four general phases of the migration journey:</span></span>

![마이그레이션 단계](../media/virtual-machines-windows-migration-classic-resource-manager/plan-labtest-migrate-beyond.png)

## <a name="plan"></a><span data-ttu-id="72509-110">계획</span><span class="sxs-lookup"><span data-stu-id="72509-110">Plan</span></span>

### <a name="technical-considerations-and-tradeoffs"></a><span data-ttu-id="72509-111">기술적 고려 사항 및 장단점</span><span class="sxs-lookup"><span data-stu-id="72509-111">Technical considerations and tradeoffs</span></span>

<span data-ttu-id="72509-112">기술 요구 사항 크기, 지역 및 운영 방식에 따라 다음과 같이 고려할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-112">Depending on your technical requirements size, geographies and operational practices, you might want to consider:</span></span>

1. <span data-ttu-id="72509-113">조직에 Azure Resource Manager가 필요한 이유는 무엇인가요?</span><span class="sxs-lookup"><span data-stu-id="72509-113">Why is Azure Resource Manager desired for your organization?</span></span>  <span data-ttu-id="72509-114">업무적 측면에서 마이그레이션을 수행하는 이유는 무엇인가요?</span><span class="sxs-lookup"><span data-stu-id="72509-114">What are the business reasons for a migration?</span></span>
2. <span data-ttu-id="72509-115">Azure Resource Manager에 대한 기술적인 이유는 무엇인가요?</span><span class="sxs-lookup"><span data-stu-id="72509-115">What are the technical reasons for Azure Resource Manager?</span></span>  <span data-ttu-id="72509-116">추가로 활용하려는 Azure 서비스는 무엇인가요(있는 경우)?</span><span class="sxs-lookup"><span data-stu-id="72509-116">What (if any) additional Azure services would you like to leverage?</span></span>
3. <span data-ttu-id="72509-117">마이그레이션에 포함되는 응용 프로그램(또는 가상 컴퓨터 집합)은 무엇인가요?</span><span class="sxs-lookup"><span data-stu-id="72509-117">Which application (or sets of virtual machines) is included in the migration?</span></span>
4. <span data-ttu-id="72509-118">마이그레이션 API로 지원되는 시나리오는 무엇인가요?</span><span class="sxs-lookup"><span data-stu-id="72509-118">Which scenarios are supported with the migration API?</span></span>  <span data-ttu-id="72509-119">[지원되지 않는 기능 및 구성](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json#unsupported-features-and-configurations)을 검토하세요.</span><span class="sxs-lookup"><span data-stu-id="72509-119">Review the [unsupported features and configurations](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json#unsupported-features-and-configurations).</span></span>
5. <span data-ttu-id="72509-120">운영 팀이 이제 클래식 및 Azure Resource Manager에서 응용 프로그램/VM을 지원하나요?</span><span class="sxs-lookup"><span data-stu-id="72509-120">Will your operational teams now support applications/VMs in both Classic and Azure Resource Manager?</span></span>
6. <span data-ttu-id="72509-121">Azure Resource Manager에서는 VM 배포, 관리, 모니터링 및 보고 프로세스를 어떻게 변경하나요(변경할 수 있는 경우)?</span><span class="sxs-lookup"><span data-stu-id="72509-121">How (if at all) does Azure Resource Manager change your VM deployment, management, monitoring, and reporting processes?</span></span>  <span data-ttu-id="72509-122">배포 스크립트를 업데이트해야 하나요?</span><span class="sxs-lookup"><span data-stu-id="72509-122">Do your deployment scripts need to be updated?</span></span>
7. <span data-ttu-id="72509-123">이해 관계자(최종 사용자, 응용 프로그램 소유자 및 인프라 소유자)에게 알릴 통신 계획은 무엇인가요?</span><span class="sxs-lookup"><span data-stu-id="72509-123">What is the communications plan to alert stakeholders (end users, application owners, and infrastructure owners)?</span></span>
8. <span data-ttu-id="72509-124">환경의 복잡성에 따라 최종 사용자와 응용 프로그램 소유자가 응용 프로그램을 사용할 수 없는 유지 관리 기간이 있어야 하나요?</span><span class="sxs-lookup"><span data-stu-id="72509-124">Depending on the complexity of the environment, should there be a maintenance period where the application is unavailable to end users and to application owners?</span></span>  <span data-ttu-id="72509-125">그 기간은 얼마나 되나요?</span><span class="sxs-lookup"><span data-stu-id="72509-125">If so, for how long?</span></span>
9. <span data-ttu-id="72509-126">이해 관계자가 Azure Resource Manager에 정통하고 숙련되었는지 확인하기 위한 학습 계획은 무엇인가요?</span><span class="sxs-lookup"><span data-stu-id="72509-126">What is the training plan to ensure stakeholders are knowledgeable and proficient in Azure Resource Manager?</span></span>
10. <span data-ttu-id="72509-127">마이그레이션을 위한 프로그램 관리 또는 프로젝트 관리 계획은 무엇인가요?</span><span class="sxs-lookup"><span data-stu-id="72509-127">What is the program management or project management plan for the migration?</span></span>
11. <span data-ttu-id="72509-128">Azure Resource Manager 마이그레이션 및 기타 관련 기술 로드맵의 일정은 무엇인가요?</span><span class="sxs-lookup"><span data-stu-id="72509-128">What are the timelines for the Azure Resource Manager migration and other related technology road maps?</span></span>  <span data-ttu-id="72509-129">최적으로 정렬되어 있나요?</span><span class="sxs-lookup"><span data-stu-id="72509-129">Are they optimally aligned?</span></span>

### <a name="patterns-of-success"></a><span data-ttu-id="72509-130">성공 패턴</span><span class="sxs-lookup"><span data-stu-id="72509-130">Patterns of success</span></span>

<span data-ttu-id="72509-131">성공적인 고객은 위의 질문에 대해 토론하고, 문서화하며, 관리하는 세부 계획을 세웁니다.</span><span class="sxs-lookup"><span data-stu-id="72509-131">Successful customers have detailed plans where the above questions are discussed, documented and governed.</span></span>  <span data-ttu-id="72509-132">마이그레이션 계획을 스폰서와 이해 관계자에게 널리 알릴 수 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-132">Ensure the migration plans are broadly communicated to sponsors and stakeholders.</span></span>  <span data-ttu-id="72509-133">마이그레이션 옵션에 대한 지식을 갖추기 위해 아래의 마이그레이션 관련 문서를 참조하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-133">Equip yourself with knowledge about your migration options; reading through this migration document set below is highly recommended.</span></span>

* [<span data-ttu-id="72509-134">클래식에서 Azure Resource Manager로 IaaS 리소스의 플랫폼 지원 마이그레이션 개요</span><span class="sxs-lookup"><span data-stu-id="72509-134">Overview of platform-supported migration of IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="72509-135">클래식에서 Azure Resource Manager로의 플랫폼 지원 마이그레이션에 대한 기술 정보</span><span class="sxs-lookup"><span data-stu-id="72509-135">Technical deep dive on platform-supported migration from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-deep-dive.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="72509-136">클래식에서 Azure Resource Manager로 IaaS 리소스의 마이그레이션 계획</span><span class="sxs-lookup"><span data-stu-id="72509-136">Planning for migration of IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-plan.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="72509-137">PowerShell을 사용하여 클래식에서 Azure Resource Manager로 IaaS 리소스 마이그레이션</span><span class="sxs-lookup"><span data-stu-id="72509-137">Use PowerShell to migrate IaaS resources from classic to Azure Resource Manager</span></span>](../windows/migration-classic-resource-manager-ps.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="72509-138">CLI를 사용하여 클래식에서 Azure Resource Manager로 IaaS 리소스 마이그레이션</span><span class="sxs-lookup"><span data-stu-id="72509-138">Use CLI to migrate IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-cli.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="72509-139">클래식에서 Azure Resource Manager로의 IaaS 리소스 마이그레이션을 지원하기 위한 커뮤니티 도구</span><span class="sxs-lookup"><span data-stu-id="72509-139">Community tools for assisting with migration of IaaS resources from classic to Azure Resource Manager</span></span>](../windows/migration-classic-resource-manager-community-tools.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="72509-140">가장 일반적인 마이그레이션 오류 검토</span><span class="sxs-lookup"><span data-stu-id="72509-140">Review most common migration errors</span></span>](migration-classic-resource-manager-errors.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="72509-141">클래식에서 Azure Resource Manager로의 IaaS 리소스 마이그레이션과 관련된 가장 자주 묻는 질문 검토</span><span class="sxs-lookup"><span data-stu-id="72509-141">Review the most frequently asked questions about migrating IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-faq.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)

### <a name="pitfalls-to-avoid"></a><span data-ttu-id="72509-142">문제 방지</span><span class="sxs-lookup"><span data-stu-id="72509-142">Pitfalls to avoid</span></span>

- <span data-ttu-id="72509-143">계획 실패</span><span class="sxs-lookup"><span data-stu-id="72509-143">Failure to plan.</span></span>  <span data-ttu-id="72509-144">이 마이그레이션의 기술 단계를 검증하고 결과를 예측할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-144">The technology steps of this migration are proven and the outcome is predictable.</span></span>
- <span data-ttu-id="72509-145">플랫폼에서 지원하는 마이그레이션 API가 모든 시나리오를 설명한다고 가정</span><span class="sxs-lookup"><span data-stu-id="72509-145">Assumption that the platform supported migration API will account for all scenarios.</span></span> <span data-ttu-id="72509-146">지원되는 시나리오를 이해하려면 [지원되지 않는 기능 및 구성](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json#unsupported-features-and-configurations)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="72509-146">Read the [unsupported features and configurations](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json#unsupported-features-and-configurations) to understand what scenarios are supported.</span></span>
- <span data-ttu-id="72509-147">최종 사용자에게 잠재적인 응용 프로그램 중단을 계획하지 않음</span><span class="sxs-lookup"><span data-stu-id="72509-147">Not planning potential application outage for end users.</span></span>  <span data-ttu-id="72509-148">잠재적으로 사용할 수 없는 응용 프로그램 시간을 최종 사용자에게 적절하게 경고할 수 있을 만큼 충분한 버퍼를 계획합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-148">Plan enough buffer to adequately warn end users of potentially unavailable application time.</span></span>


## <a name="lab-test"></a><span data-ttu-id="72509-149">랩 테스트</span><span class="sxs-lookup"><span data-stu-id="72509-149">Lab Test</span></span> 

<span data-ttu-id="72509-150">**환경 복제 및 테스트 마이그레이션 수행**</span><span class="sxs-lookup"><span data-stu-id="72509-150">**Replicate your enviornment and do a test migration**</span></span>
  > [!NOTE]
  > <span data-ttu-id="72509-151">기존 환경의 정확한 복제는 Microsoft 지원에서 공식적으로 지원하지 않는 커뮤니티 제공 도구를 사용하여 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="72509-151">Exact replication of your existing environment is executed by using a community-contributed tool which is not officially supported by Microsoft Support.</span></span> <span data-ttu-id="72509-152">따라서 **선택적** 단계이지만 프로덕션 환경을 변경하지 않고도 문제를 찾아내는 가장 좋은 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="72509-152">Therefore, it is an **optional** step but it is the best way to find out issues without touching your production environments.</span></span> <span data-ttu-id="72509-153">커뮤니티에서 제공하는 도구를 사용하도록 선택할 수 없으면 아래의 유효성 검사/준비/시험 실행 중단 권장 사항을 참조합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-153">If using a community-contributed tool is not an option, then read about the Validate/Prepare/Abort Dry Run recommendation below.</span></span>
  >
  
  <span data-ttu-id="72509-154">정확한 시나리오(계산, 네트워킹 및 저장소)에 대한 랩 테스트를 수행하는 것이 원활한 마이그레이션을 보장하는 가장 좋은 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="72509-154">Conducting a lab test of your exact scenario (compute, networking, and storage) is the best way to ensure a smooth migration.</span></span> <span data-ttu-id="72509-155">이렇게 하면 다음과 같은 이점을 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-155">This will help ensure:</span></span>

  - <span data-ttu-id="72509-156">완전히 분리된 랩 또는 테스트할 기존의 비프로덕션 환경</span><span class="sxs-lookup"><span data-stu-id="72509-156">A wholly separate lab or an existing non-production environment to test.</span></span> <span data-ttu-id="72509-157">반복적으로 마이그레이션할 수 있고 안전하게 수정할 수 있는 완전히 분리된 랩을 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-157">We recommend a wholly separate lab that can be migrated repeatedly and can be destructively modified.</span></span>  <span data-ttu-id="72509-158">실제 구독에서 메타데이터를 수집/하이드레이션하는 스크립트는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-158">Scripts to collect/hydrate metadata from the real subscriptions are listed below.</span></span>
  - <span data-ttu-id="72509-159">별도의 구독으로 랩을 만드는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-159">It's a good idea to create the lab in a separate subscription.</span></span> <span data-ttu-id="72509-160">이는 별도의 분리된 구독을 통해 반복적으로 손상되는 랩에서 실제로 무언가를 실수로 삭제할 가능성을 줄일 수 있기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="72509-160">The reason is that the lab will be torn down repeatedly, and having a separate, isolated subscription will reduce the chance that something real will get accidently deleted.</span></span>

  <span data-ttu-id="72509-161">이 작업은 AsmMetadataParser 도구를 사용하여 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-161">This can be accomplished by using the AsmMetadataParser tool.</span></span> [<span data-ttu-id="72509-162">이 도구에 대해 자세히 알아보기 </span><span class="sxs-lookup"><span data-stu-id="72509-162">Read more about this tool here</span></span>](https://github.com/Azure/classic-iaas-resourcemanager-migration/tree/master/AsmToArmMigrationApiToolset)

### <a name="patterns-of-success"></a><span data-ttu-id="72509-163">성공 패턴</span><span class="sxs-lookup"><span data-stu-id="72509-163">Patterns of success</span></span>

<span data-ttu-id="72509-164">다음은 다양한 대규모 마이그레이션에서 발견된 문제입니다.</span><span class="sxs-lookup"><span data-stu-id="72509-164">The following were issues discovered in many of the larger migrations.</span></span> <span data-ttu-id="72509-165">전체적인 목록이 아니므로 자세한 내용에 대해서는 [지원되지 않는 기능 및 구성](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json#unsupported-features-and-configurations)을 참조해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-165">This is not an exhaustive list and you should refer to the [unsupported features and configurations](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json#unsupported-features-and-configurations) for more detail.</span></span> <span data-ttu-id="72509-166">이러한 기술적인 문제가 발생할 수도 있고 그렇지 않을 수도 있지만, 마이그레이션을 시도하기 전에 문제를 해결하면 더 원활한 환경을 갖출 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-166">You may or may not encounter these technical issues but if you do solving these before attempting migration will ensure a smoother experience.</span></span>

- <span data-ttu-id="72509-167">**유효성 검사/준비/시험 실행 중단 수행** - 클래식에서 Azure Resource Manager로의 마이그레이션 성공 여부를 확인하는 가장 중요한 단계일 것입니다.</span><span class="sxs-lookup"><span data-stu-id="72509-167">**Do a Validate/Prepare/Abort Dry Run** -  This is perhaps the most important step to ensure Classic to Azure Resource Manager migration success.</span></span> <span data-ttu-id="72509-168">마이그레이션 API에는 유효성 검사, 준비 및 커밋의 세 가지 주요 단계가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-168">The migration API has three main steps: Validate, Prepare and Commit.</span></span> <span data-ttu-id="72509-169">유효성 검사는 기존 환경의 상태를 파악하고 모든 문제의 결과를 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-169">Validate will read the state of your classic environment and return a result of all issues.</span></span> <span data-ttu-id="72509-170">그러나 Azure Resource Manager 스택에 일부 문제가 있을 수 있으므로 유효성 검사에서 모든 것을 파악하지는 않습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-170">However, because some issues might exist in the Azure Resource Manager stack, Validate will not catch everything.</span></span> <span data-ttu-id="72509-171">마이그레이션 프로세스의 다음 단계인 준비에서는 이러한 문제를 노출시키는 데 도움이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="72509-171">The next step in migration process, Prepare will help expose those issues.</span></span> <span data-ttu-id="72509-172">준비는 메타데이터를 클래식에서 Azure Resource Manager로 이동하지만, 이동을 커밋하지 않으며 클래식 쪽에서 아무 것도 제거하거나 변경하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-172">Prepare will move the metadata from Classic to Azure Resource Manager, but will not commit the move, and will not remove or change anything on the Classic side.</span></span> <span data-ttu-id="72509-173">시험 실행은 마이그레이션을 준비한 후 마이그레이션 준비를 중단합니다(**커밋 안 함**).</span><span class="sxs-lookup"><span data-stu-id="72509-173">The dry run involves preparing the migration, then aborting (**not committing**) the migration prepare.</span></span> <span data-ttu-id="72509-174">유효성 검사/준비/시험 실행 중단 단계는 Azure Resource Manager 스택의 모든 메타데이터를 보고(*프로그래밍 방식으로 또는 포털에서*), 검사하고, 모든 것이 올바르게 마이그레이션되었는지 확인하고, 기술적인 문제를 통해 작동하기 위한 것입니다.</span><span class="sxs-lookup"><span data-stu-id="72509-174">The goal of validate/prepare/abort dry run is to see all of the metadata in the Azure Resource Manager stack, examine it (*programmatically or in Portal*), and verify that everything migrates correctly, and work through technical issues.</span></span>  <span data-ttu-id="72509-175">또한 마이그레이션 기간도 제공하므로 이에 따라 가동 중지 시간을 적절하게 계획할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-175">It will also give you a sense of migration duration so you can plan for downtime accordingly.</span></span>  <span data-ttu-id="72509-176">유효성 검사/준비/시험 실행 중단으로 인해 사용자 가동 중지 시간이 발생하지는 않습니다. 따라서 응용 프로그램 사용이 중단되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-176">A validate/prepare/abort does not cause any user downtime; therefore, it is non-disruptive to application usage.</span></span>
  - <span data-ttu-id="72509-177">시험 실행을 수행하기 전에 아래의 항목을 해결해야 하지만, 시험 실행 테스트는 누락된 경우에도 안전하게 이 준비 단계를 플러시합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-177">The items below will need to be solved before the dry run, but a dry run test will also safely flush out these preparation steps if they are missed.</span></span> <span data-ttu-id="72509-178">엔터프라이즈 마이그레이션 중에 시험 실행이 마이그레이션 준비를 보장하는 데 있어 안전하고 가치 있는 방법이라는 것을 알게 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-178">During enterprise migration, we've found the dry run to be a safe and invaluable way to ensure migration readiness.</span></span>
  - <span data-ttu-id="72509-179">준비가 실행 중일 때는 제어 평면(Azure 관리 작업)이 가상 네트워크 전체에서 잠겨 있으므로 유효성 검사/준비/시험 실행 중단 중에는 VM 메타데이터를 변경할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-179">When prepare is running, the control plane (Azure management operations) will be locked for the whole virtual network, so no changes can be made to VM metadata during validate/prepare/abort.</span></span>  <span data-ttu-id="72509-180">그러나 그렇지 않은 경우 모든 응용 프로그램 기능(RD, VM 사용 등)에 영향을 주지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-180">But otherwise any application function (RD, VM usage, etc.) will be unaffected.</span></span>  <span data-ttu-id="72509-181">VM 사용자는 시험 실행이 실행되고 있는지 알 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-181">Users of the VMs will not know that the dry run is being executed.</span></span>

- <span data-ttu-id="72509-182">**ExpressRoute 회로 및 VPN**.</span><span class="sxs-lookup"><span data-stu-id="72509-182">**Express Route Circuits and VPN**.</span></span> <span data-ttu-id="72509-183">현재 권한 부여 링크가 있는 ExpressRoute 게이트웨이는 가동 중지 시간을 통해 마이그레이션할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-183">Currently Express Route Gateways with authorization links cannot be migrated without downtime.</span></span> <span data-ttu-id="72509-184">해결 방법은 [클래식에서 Resource Manager 배포 모델로 ExpressRoute 회로 및 연결된 가상 네트워크 마이그레이션](../../expressroute/expressroute-migration-classic-resource-manager.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="72509-184">For the workaround, see [Migrate ExpressRoute circuits and associated virtual networks from the classic to the Resource Manager deployment model](../../expressroute/expressroute-migration-classic-resource-manager.md).</span></span>

- <span data-ttu-id="72509-185">**VM 확장** - 가상 컴퓨터 확장은 실행 중인 VM을 마이그레이션하는 데 있어 잠재적으로 가장 큰 장애물 중 하나입니다.</span><span class="sxs-lookup"><span data-stu-id="72509-185">**VM Extensions** - Virtual Machine extensions are potentially one of the biggest roadblocks to migrating running VMs.</span></span> <span data-ttu-id="72509-186">VM 확장을 재구성하는 데 1-2일이 걸릴 수 있으므로 이에 따라 적절히 계획해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-186">Remediation of VM Extensions could take upwards of 1-2 days, so plan accordingly.</span></span>  <span data-ttu-id="72509-187">실행 중인 VM의 VM 확장 상태를 다시 보고하려면 작업 Azure 에이전트가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-187">A working Azure agent is needed to report back VM Extension status of running VMs.</span></span> <span data-ttu-id="72509-188">실행 중인 VM의 상태가 나쁘다고 반환되면 마이그레이션이 중지됩니다.</span><span class="sxs-lookup"><span data-stu-id="72509-188">If the status comes back as bad for a running VM, this will halt migration.</span></span> <span data-ttu-id="72509-189">에이전트 자체는 마이그레이션에 사용할 수 있도록 제대로 작동하지 않아도 되지만, VM에 확장이 있으면 마이그레이션을 진행하는 데 있어 작업 에이전트와 아웃바운드 인터넷 연결(DNS 사용)이 모두 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-189">The agent itself does not need to be in working order to enable migration, but if extensions exist on the VM, then both a working agent AND outbound internet connectivity (with DNS) will be needed for migration to move forward.</span></span>
  - <span data-ttu-id="72509-190">BGInfo v 1 제외한 모든 VM 확장을 마이그레이션하는 동안 DNS 서버에는 연결이 끊기면 합니다. \* 먼저에서 제거할 마이그레이션 준비 하기 전에 VM 및 다시 이후에 다시 추가 된 모든 VM에 Azure 리소스 관리자 마이그레이션 후에 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-190">If connectivity to a DNS server is lost during migration, all VM Extensions except BGInfo v1.\* need to first be removed from every VM before migration prepare, and subsequently re-added back to the VM after Azure Resource Manager migration.</span></span>  <span data-ttu-id="72509-191">**이 작업은 실행 중인 VM에만 해당됩니다.**</span><span class="sxs-lookup"><span data-stu-id="72509-191">**This is only for VMs that are running.**</span></span>  <span data-ttu-id="72509-192">VM의 할당 취소가 중지되면 VM 확장을 제거할 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-192">If the VMs are stopped deallocated, VM Extensions do not need to be removed.</span></span> <span data-ttu-id="72509-193">**참고:** 다양한 확장 프로그램(예: Azure 진단 및 보안 센터 모니터링)은 마이그레이션 후에 다시 설치되므로 제거하더라도 문제가 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-193">**Note:** Many extensions like Azure diagnostics and security center monitoring will reinstall themselves after migration, so removing them is not a problem.</span></span>
  - <span data-ttu-id="72509-194">또한 네트워크 보안 그룹이 아웃바운드 인터넷 액세스를 제한하지 않는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-194">In addition, make sure Network Security Groups are not restricting outbound internet access.</span></span> <span data-ttu-id="72509-195">이는 일부 네트워크 보안 그룹 구성에서 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-195">This can happen with some Network Security Groups configurations.</span></span> <span data-ttu-id="72509-196">VM 확장을 Azure Resource Manager로 마이그레이션하려면 아웃바운드 인터넷 액세스(및 DNS)가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-196">Outbound internet access (and DNS) is needed for VM Extensions to be migrated to Azure Resource Manager.</span></span> 
  - <span data-ttu-id="72509-197">BGInfo 확장에는 두 가지 버전, 즉 v1과 v2가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-197">There are two versions of the BGInfo extension: v1 and v2.</span></span>  <span data-ttu-id="72509-198">클래식 포털이나 PowerShell을 사용하여 VM을 만들었으면 VM에 v1 확장이 있을 것입니다.</span><span class="sxs-lookup"><span data-stu-id="72509-198">If the VM was created using the classic portal or PowerShell, the VM will likely have the v1 extension on it.</span></span> <span data-ttu-id="72509-199">이 확장은 제거할 필요가 없으며, 마이그레이션 API에서 건너뜁니다(마이그레이션되지 않음).</span><span class="sxs-lookup"><span data-stu-id="72509-199">This extension does not need to be removed and will be skipped (not migrated) by the migration API.</span></span> <span data-ttu-id="72509-200">그러나 새 Azure Portal을 사용하여 클래식 VM을 만든 경우 에이전트가 작동하고 아웃바운드 인터넷 액세스(및 DNS)가 있으면 Azure Resource Manager로 마이그레이션할 수 있는 JSON 기반 BGInfo v2 버전이 있을 것입니다.</span><span class="sxs-lookup"><span data-stu-id="72509-200">However, if the Classic VM was created with the new Azure portal, it will likely have the JSON-based v2 version of BGInfo, which can be migrated to Azure Resource Manager provided the agent is working and has outbound internet access (and DNS).</span></span> 
  - <span data-ttu-id="72509-201">**재구성 옵션 1**:</span><span class="sxs-lookup"><span data-stu-id="72509-201">**Remediation Option 1**.</span></span> <span data-ttu-id="72509-202">VM에 아웃바운드 인터넷 액세스, 작업 DNS 서비스 및 작업 Azure 에이전트가 없음을 알고 있으면, 준비하기 전에 마이그레이션의 일환으로 모든 VM 확장을 제거한 다음, 마이그레이션 후에 VM 확장을 다시 설치합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-202">If you know your VMs will not have outbound internet access, a working DNS service, and working Azure agents on the VMs, then uninstall all VM extensions as part of the migration before Prepare, then reinstall the VM Extensions after migration.</span></span> 
  - <span data-ttu-id="72509-203">**재구성 옵션 2**:</span><span class="sxs-lookup"><span data-stu-id="72509-203">**Remediation Option 2**.</span></span> <span data-ttu-id="72509-204">VM 확장이 너무 큰 장애물이라면 마이그레이션 이전에 모든 VM을 종료/할당 취소할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-204">If VM extensions are too big of a hurdle, another option is to shutdown/deallocate all VMs before migration.</span></span> <span data-ttu-id="72509-205">할당 취소된 VM을 마이그레이션한 다음 Azure Resource Manager 쪽에서 해당 VM을 다시 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-205">Migrate the deallocated VMs, then restart them on the Azure Resource Manager side.</span></span> <span data-ttu-id="72509-206">여기서 이점은 VM 확장이 마이그레이션된다는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="72509-206">The benefit here is that VM extensions will migrate.</span></span> <span data-ttu-id="72509-207">단점은 모든 공용 가상 IP가 손실된다는 것이며(시동 장치가 아닐 수도 있음), 분명히 VM이 종료되어 작업 응용 프로그램에 매우 큰 영향을 미치게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="72509-207">The downside is that all public facing Virtual IPs will be lost (this may be a non-starter), and obviously the VMs will shut down causing a much greater impact on working applications.</span></span>

    > [!NOTE] 
    > <span data-ttu-id="72509-208">마이그레이션될 실행 중인 VM에 대해 Azure Security Center 정책을 구성한 경우에는 확장을 제거하기 전에 해당 보안 정책을 중지해야 합니다. 그렇지 않으면 보안 모니터링 확장을 제거한 후 VM에 자동으로 다시 설치합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-208">If an Azure Security Center policy is configured against the running VMs being migrated, the security policy needs to be stopped before removing extensions, otherwise the security monitoring extension will be reinstalled automatically on the VM after removing it.</span></span>

- <span data-ttu-id="72509-209">**가용성 집합** - 가상 네트워크(vNet)를 Azure Resource Manager로 마이그레이션하려면, VM이 포함된 클래식 배포(즉, 클라우드 서비스)가 모두 하나의 가용성 집합에 있어야 하거나 VM이 모두 가용성 집합에 있지 않아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-209">**Availability Sets** - For a virtual network (vNet) to be migrated to Azure Resource Manager, the Classic deployment (i.e. cloud service) contained VMs must all be in one availability set, or the VMs must all not be in any availability set.</span></span> <span data-ttu-id="72509-210">클라우드 서비스에 둘 이상의 가용성 집합이 있으면 Azure Resource Manager와 호환되지 않으므로 마이그레이션이 중지됩니다.</span><span class="sxs-lookup"><span data-stu-id="72509-210">Having more than one availability set in the cloud service is not compatible with Azure Resource Manager and will halt migration.</span></span>  <span data-ttu-id="72509-211">또한 가용성 집합에 일부 VM이 없는 한편 가용성 집합에 없는 일부 VM이 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-211">Additionally, there cannot be some VMs in an availability set, and some VMs not in an availability set.</span></span> <span data-ttu-id="72509-212">이를 해결하려면 클라우드 서비스를 재구성하거나 재조정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-212">To resolve this, you will need to remediate or reshuffle your cloud service.</span></span>  <span data-ttu-id="72509-213">여기에는 시간이 오래 걸릴 수 있으므로 적절히 계획합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-213">Plan accordingly as this might be time consuming.</span></span> 

- <span data-ttu-id="72509-214">**웹/작업자 역할 배포** - 웹 및 작업자 역할이 포함된 Cloud Services는 Azure Resource Manager로 마이그레이션할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-214">**Web/Worker Role Deployments** -  Cloud Services containing web and worker roles cannot migrate to Azure Resource Manager.</span></span> <span data-ttu-id="72509-215">마이그레이션을 시작하려면 먼저 웹/작업자 역할을 가상 네트워크에서 제거해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-215">The web/worker roles must first be removed from the virtual network before migration can start.</span></span>  <span data-ttu-id="72509-216">일반적인 해결 방법은 웹/작업자 역할 인스턴스를 ExpressRoute 회로에 연결된 별도의 클래식 가상 네트워크로 이동하거나 코드를 최신 PaaS App Services로 마이그레이션하는 것입니다(이 문서의 범위를 벗어난 토론 내용임).</span><span class="sxs-lookup"><span data-stu-id="72509-216">A typical solution is to just move web/worker role instances to a separate Classic virtual network that is also linked to an ExpressRoute circuit, or to migrate the code to newer PaaS App Services (this discussion is beyond the scope of this document).</span></span> <span data-ttu-id="72509-217">이전 재배포의 경우 새 클래식 가상 네트워크를 만들고, 웹/작업자 역할을 해당 가상 네트워크로 이동/재배포한 다음, 이동될 가상 네트워크에서 해당 배포를 삭제했습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-217">In the former redeploy case, create a new Classic virtual network, move/redeploy the web/worker roles to that new virtual network, then delete the deployments from the virtual network being moved.</span></span> <span data-ttu-id="72509-218">코드 변경이 필요 없습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-218">No code changes required.</span></span> <span data-ttu-id="72509-219">새 [가상 네트워크 피어링](../../virtual-network/virtual-network-peering-overview.md) 기능을 사용하여 웹/작업자 역할이 포함된 가상 네트워크와 마이그레이션될 가상 네트워크와 동일한 Azure 지역에 있는 다른 가상 네트워크를 피어링할 수 있으므로(**피어링된 가상 네트워크를 마이그레이션할 수 없으므로 가상 네트워크 마이그레이션이 완료된 후**), 성능 손실과 대기 시간/대역폭 패널티 없이 동일한 기능을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-219">The new [Virtual Network Peering](../../virtual-network/virtual-network-peering-overview.md) capability can be used to peer together the classic virtual network containing the web/worker roles and other virtual networks in the same Azure region such as the virtual network being migrated (**after virtual network migration is completed as peered virtual networks cannot be migrated**), hence providing the same capabilities with no performance loss and no latency/bandwidth penalties.</span></span> <span data-ttu-id="72509-220">[가상 네트워크 피어링](../../virtual-network/virtual-network-peering-overview.md)을 추가하면 웹/작업자 역할 배포를 쉽게 완화할 수 있으며 Azure Resource Manager에서 마이그레이션을 차단할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-220">Given the addition of [Virtual Network Peering](../../virtual-network/virtual-network-peering-overview.md), web/worker role deployments can now easily be mitigated and not block the migration to Azure Resource Manager.</span></span>

- <span data-ttu-id="72509-221">**Azure Resource Manager 할당량** - Azure 지역에는 클래식 및 Azure Resource Manager 모두에 대해 별도의 할당량/제한이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-221">**Azure Resource Manager Quotas** - Azure regions have separate quotas/limits for both Classic and Azure Resource Manager.</span></span> <span data-ttu-id="72509-222">마이그레이션 시나리오에서 새 하드웨어가 사용되지는 않지만*(기존의 VM을 클래식에서 Azure Resource Manager로 전환 중이므로)* Azure Resource Manager 할당량은 마이그레이션을 시작하기 전에 충분한 용량으로 계속 유지해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-222">Even though in a migration scenario new hardware isn't being consumed *(we're swapping existing VMs from Classic to Azure Resource Manager)*, Azure Resource Manager quotas still need to be in place with enough capacity before migration can start.</span></span> <span data-ttu-id="72509-223">문제를 일으키는 주요 제한 사항은 아래와 같습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-223">Listed below are the major limits we've seen cause problems.</span></span>  <span data-ttu-id="72509-224">할당량 지원 티켓을 열어 한도를 높입니다.</span><span class="sxs-lookup"><span data-stu-id="72509-224">Open a quota support ticket to raise the limits.</span></span> 

    > [!NOTE]
    > <span data-ttu-id="72509-225">이러한 제한 사항은 마이그레이션될 현재 환경과 동일한 지역에서 발생해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-225">These limits need to be raised in the same region as your current enviornment to be migrated.</span></span>
    >

    - <span data-ttu-id="72509-226">네트워크 인터페이스</span><span class="sxs-lookup"><span data-stu-id="72509-226">Network Interfaces</span></span>
    - <span data-ttu-id="72509-227">부하 분산 장치</span><span class="sxs-lookup"><span data-stu-id="72509-227">Load Balancers</span></span>
    - <span data-ttu-id="72509-228">공용 IP</span><span class="sxs-lookup"><span data-stu-id="72509-228">Public IPs</span></span>
    - <span data-ttu-id="72509-229">고정 공용 IP</span><span class="sxs-lookup"><span data-stu-id="72509-229">Static Public IPs</span></span>
    - <span data-ttu-id="72509-230">코어 수</span><span class="sxs-lookup"><span data-stu-id="72509-230">Cores</span></span>
    - <span data-ttu-id="72509-231">네트워크 보안 그룹</span><span class="sxs-lookup"><span data-stu-id="72509-231">Network Security Groups</span></span>
    - <span data-ttu-id="72509-232">경로 테이블</span><span class="sxs-lookup"><span data-stu-id="72509-232">Route Tables</span></span>

    <span data-ttu-id="72509-233">Azure CLI 2.0의 최신 버전에서 다음 명령을 사용하여 현재 Azure Resource Manager 할당량을 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-233">You can check your current Azure Resource Manager quotas using the following commands with the latest version of Azure CLI 2.0.</span></span>

    <span data-ttu-id="72509-234">**계산** *(코어, 가용성 집합)*</span><span class="sxs-lookup"><span data-stu-id="72509-234">**Compute** *(Cores, Avaiability Sets)*</span></span>

    ```bash
    az vm list-usage -l <azure-region> -o jsonc 
    ```

    <span data-ttu-id="72509-235">**네트워크** *(가상 네트워크, 고정 공용 IP, 공용 IP, 네트워크 보안 그룹, 네트워크 인터페이스, 부하 분산 장치, 경로 테이블)*</span><span class="sxs-lookup"><span data-stu-id="72509-235">**Network** *(Virtual Networks, Static Public IPs, Public IPs, Network Security Groups, Network Interfaces, Load Balancers, Route Tables)*</span></span>
    
    ```bash
    az network list-usages -l <azure-region> -o jsonc
    ```

    <span data-ttu-id="72509-236">**저장소** *(저장소 계정)*</span><span class="sxs-lookup"><span data-stu-id="72509-236">**Storage** *(Storage Account)*</span></span>
    
    ```bash
    az storage account show-usage
    ```

- <span data-ttu-id="72509-237">**Azure Resource Manager API 조정 제한** - 충분히 큰 환경이 있는 경우(예:</span><span class="sxs-lookup"><span data-stu-id="72509-237">**Azure Resource Manager API throttling limits** - If you have a large enough environment (eg.</span></span> <span data-ttu-id="72509-238">VNet에서 400대의 VM보다 큰 환경) Azure Resource Manager에서 쓰기에 대한 기본 API 조정 제한에 도달할 수 있습니다(현재 **1200 쓰기/시간**).</span><span class="sxs-lookup"><span data-stu-id="72509-238">> 400 VMs in a VNET), you might hit the default API throttling limits for writes (currently **1200 writes/hour**) in Azure Resource Manager.</span></span> <span data-ttu-id="72509-239">마이그레이션을 시작하기 전에 지원 티켓을 늘려 구독 한도를 높여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-239">Before starting migration, you should raise a support ticket to increase this limit for your subscription.</span></span>

- <span data-ttu-id="72509-240">**프로비전 시간 초과 VM 상태** - VM이 **프로비전 시간 초과** 상태에 있으면 마이그레이션하기 전에 이 문제를 해결해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-240">**Provisioning Timed Out VM Status** - If any VM has the status of **provisioning timed out**, this needs to be resolved pre-migration.</span></span> <span data-ttu-id="72509-241">해결하는 유일한 방법은 VM을 프로비전 해제/다시 프로비전하여(삭제, 디스크 유지 및 VM 다시 만들기) 가동 중지 시간과 함께 하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="72509-241">The only way to do this is with downtime by deprovisioning/reprovisioning the VM (delete it, keep the disk, and recreate the VM).</span></span> 

- <span data-ttu-id="72509-242">**RoleStateUnknown VM 상태** - **작업 상태 알 수 없음** 오류 메시지로 인해 마이그레이션이 중지되면 포털을 사용하여 VM을 검사하고 실행 중인지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-242">**RoleStateUnknown VM Status** - If migration halts due to a **role state unknown** error message, inspect the VM using the portal and ensure it is running.</span></span> <span data-ttu-id="72509-243">이 오류는 일반적으로 몇 분 후에 자체적으로 해결되며(재구성 필요 없음), 종종 가상 컴퓨터 **시작**, **중지**, **다시 시작** 작업 중에 자주 나타나는 일시적인 유형입니다.</span><span class="sxs-lookup"><span data-stu-id="72509-243">This error will typically go away on its own (no remediation required) after a few minutes and is often a transient type often seen during a Virtual Machine **start**, **stop**, **restart** operations.</span></span> <span data-ttu-id="72509-244">**권장 사항:** 몇 분 후에 마이그레이션을 다시 시도합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-244">**Recommended practice:** re-try migration again after a few minutes.</span></span> 

- <span data-ttu-id="72509-245">**패브릭 클러스터가 존재하지 않음** - 경우에 따라 뜻밖의 다양한 이유로 특정 VM을 마이그레이션할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-245">**Fabric Cluster does not exist** -  In some cases, certain VMs cannot be migrated for various odd reasons.</span></span> <span data-ttu-id="72509-246">이러한 알려진 사례 중 하나는 VM이 최근에(지난 1주일 이내) 만들어져 Azure Resource Manager 워크로드에 아직 준비되지 않은 Azure 클러스터를 배치한 경우입니다.</span><span class="sxs-lookup"><span data-stu-id="72509-246">One of these known cases is if the VM was recently created (within the last week or so) and happened to land an Azure cluster that is not yet equipped for Azure Resource Manager workloads.</span></span>  <span data-ttu-id="72509-247">**패브릭 클러스터가 존재하지 않음**이라는 오류 메시지가 표시되고 VM을 마이그레이션할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-247">You will get an error that says **fabric cluster does not exist** and the VM cannot be migrated.</span></span> <span data-ttu-id="72509-248">머지 않아 클러스터에서 Azure Resource Manager를 사용할 수 있게 되므로 대개 며칠 정도 기다리면 이 특정 문제가 해결됩니다.</span><span class="sxs-lookup"><span data-stu-id="72509-248">Waiting a couple of days will usually resolve this particular problem as the cluster will soon get Azure Resource Manager enabled.</span></span> <span data-ttu-id="72509-249">그러나 즉각적인 해결 방법 중 하나는 VM을 `stop-deallocate`한 다음, 마이그레이션을 계속 진행하고, 마이그레이션 후에 Azure Resource Manager에서 VM 백업을 시작하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="72509-249">However, one immediate workaround is to `stop-deallocate` the VM, then continue forward with migration, and start the VM back up in Azure Resource Manager after migrating.</span></span>

### <a name="pitfalls-to-avoid"></a><span data-ttu-id="72509-250">문제 방지</span><span class="sxs-lookup"><span data-stu-id="72509-250">Pitfalls to avoid</span></span>

- <span data-ttu-id="72509-251">바로 가기를 사용하지 않고, 유효성 검사/준비/시험 실행 중단 마이그레이션을 생략하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-251">Do not take shortcuts and omit the validate/prepare/abort dry run migrations.</span></span>
- <span data-ttu-id="72509-252">잠재적인 문제 중 전부는 아니지만 대부분이 유효성 검사/준비/시험 실행 중단 단계 중에 나타납니다.</span><span class="sxs-lookup"><span data-stu-id="72509-252">Most, if not all, of your potential issues will surface during the validate/prepare/abort steps.</span></span>

## <a name="migration"></a><span data-ttu-id="72509-253">마이그레이션</span><span class="sxs-lookup"><span data-stu-id="72509-253">Migration</span></span>

### <a name="technical-considerations-and-tradeoffs"></a><span data-ttu-id="72509-254">기술적 고려 사항 및 장단점</span><span class="sxs-lookup"><span data-stu-id="72509-254">Technical considerations and tradeoffs</span></span>

<span data-ttu-id="72509-255">환경과 관련된 알려진 문제를 통해 작업했으므로 이제 준비가 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-255">Now you are ready because you have worked through the known issues with your environment.</span></span>

<span data-ttu-id="72509-256">실제 마이그레이션의 경우 다음 사항을 고려해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-256">For the real migrations, you might want to consider:</span></span>

1. <span data-ttu-id="72509-257">우선 순위가 높아짐에 따라 가상 네트워크(최소 마이그레이션 단위)를 계획하고 예약합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-257">Plan and schedule the virtual network (smallest unit of migration) with increasing priority.</span></span>  <span data-ttu-id="72509-258">간단한 가상 네트워크를 먼저 수행한 다음 더 복잡한 가상 네트워크로 진행합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-258">Do the simple virtual networks first, and progress with the more complicated virtual networks.</span></span>
2. <span data-ttu-id="72509-259">대부분의 고객은 비프로덕션 환경과 프로덕션 환경을 갖추게 되므로</span><span class="sxs-lookup"><span data-stu-id="72509-259">Most customers will have non-production and production environments.</span></span>  <span data-ttu-id="72509-260">프로덕션 환경을 마지막으로 예약합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-260">Schedule production last.</span></span>
3. <span data-ttu-id="72509-261">**(선택 사항)** 예기치 않은 문제가 발생할 경우에 대비하여 충분한 양의 버퍼로 유지 관리 가동 중지 시간을 예약합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-261">**(OPTIONAL)** Schedule a maintenance downtime with plenty of buffer in case unexpected issues arise.</span></span>
4. <span data-ttu-id="72509-262">문제가 발생할 경우 지원 팀과 연락하여 조정합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-262">Communicate with and align with your support teams in case issues arise.</span></span>

### <a name="patterns-of-success"></a><span data-ttu-id="72509-263">성공 패턴</span><span class="sxs-lookup"><span data-stu-id="72509-263">Patterns of success</span></span>

<span data-ttu-id="72509-264">앞서의 랩 테스트 섹션에서 언급한 기술 지침은 실제 마이그레이션 이전에 고려되고 완화되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-264">The technical guidance from the Lab Test section above should be considered and mitigated prior to a real migration.</span></span>  <span data-ttu-id="72509-265">적절한 테스트를 수행하기 때문에 마이그레이션은 실제로 이벤트가 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="72509-265">With adequate testing, the migration is actually a non-event.</span></span>  <span data-ttu-id="72509-266">프로덕션 환경의 경우 신뢰할 수 있는 Microsoft 파트너 또는 Microsoft 프리미어 서비스와 같은 추가 지원이 도움이 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-266">For production environments, it might be helpful to have additional support, such as a trusted Microsoft partner or Microsoft Premier services.</span></span>

### <a name="pitfalls-to-avoid"></a><span data-ttu-id="72509-267">문제 방지</span><span class="sxs-lookup"><span data-stu-id="72509-267">Pitfalls to avoid</span></span>

<span data-ttu-id="72509-268">완전히 테스트하지 않으면 문제가 발생할 수 있으며 마이그레이션이 지연될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-268">Not fully testing may cause issues and delay in the migration.</span></span>  

## <a name="beyond-migration"></a><span data-ttu-id="72509-269">마이그레이션 외</span><span class="sxs-lookup"><span data-stu-id="72509-269">Beyond Migration</span></span>

### <a name="technical-considerations-and-tradeoffs"></a><span data-ttu-id="72509-270">기술적 고려 사항 및 장단점</span><span class="sxs-lookup"><span data-stu-id="72509-270">Technical considerations and tradeoffs</span></span>

<span data-ttu-id="72509-271">Azure Resource Manager에 있으므로 이제 플랫폼을 극대화합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-271">Now that you are in Azure Resource Manager, maximize the platform.</span></span>  <span data-ttu-id="72509-272">[Azure Resource Manager 개요](../../azure-resource-manager/resource-group-overview.md)를 참조하여 추가 혜택에 대해 알아봅니다.</span><span class="sxs-lookup"><span data-stu-id="72509-272">Read the [overview of Azure Resource Manager](../../azure-resource-manager/resource-group-overview.md) to find out about additional benefits.</span></span>

<span data-ttu-id="72509-273">고려 사항은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-273">Things to consider:</span></span>

- <span data-ttu-id="72509-274">다른 활동과 함께 마이그레이션을 묶습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-274">Bundling the migration with other activities.</span></span>  <span data-ttu-id="72509-275">대부분의 고객은 응용 프로그램 유지 관리 기간을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-275">Most customers opt for an application maintenance window.</span></span>  <span data-ttu-id="72509-276">그렇다면 이 가동 중지 시간을 사용하여 Managed Disks에 암호화 및 마이그레이션과 같은 다른 Azure Resource Manager 기능을 사용하도록 설정하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-276">If so, you might want to use this downtime to enable other Azure Resource Manager capabilities like encryption and migration to Managed Disks.</span></span>
- <span data-ttu-id="72509-277">Azure Resource Manager의 기술적 이유와 비즈니스상 이유를 다시 살펴봅니다. 환경에 적용되는 Azure Resource Manager에서만 사용할 수 있는 추가 서비스를 사용하도록 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-277">Revisit the technical and business reasons for Azure Resource Manager; enable the additional services available only on Azure Resource Manager that apply to your environment.</span></span>
- <span data-ttu-id="72509-278">PaaS 서비스를 사용하여 환경을 현대화합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-278">Modernize your environment with PaaS services.</span></span>

### <a name="patterns-of-success"></a><span data-ttu-id="72509-279">성공 패턴</span><span class="sxs-lookup"><span data-stu-id="72509-279">Patterns of success</span></span>

<span data-ttu-id="72509-280">이제 Azure Resource Manager에서 사용하도록 설정하려는 서비스에 대해 분명한 목적이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-280">Be purposeful on what services you now want to enable in Azure Resource Manager.</span></span>  <span data-ttu-id="72509-281">많은 고객들이 Azure 환경에서 다음과 같은 강력한 요소를 찾고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="72509-281">Many customers find the below compelling for their Azure environments:</span></span>

- <span data-ttu-id="72509-282">[역할 기반 액세스 제어](../../azure-resource-manager/resource-group-overview.md#access-control)</span><span class="sxs-lookup"><span data-stu-id="72509-282">[Role Based Access Control](../../azure-resource-manager/resource-group-overview.md#access-control).</span></span>
- <span data-ttu-id="72509-283">[쉽고 제어 가능한 배포를 위한 Azure Resource Manager 템플릿](../../azure-resource-manager/resource-group-overview.md#template-deployment)</span><span class="sxs-lookup"><span data-stu-id="72509-283">[Azure Resource Manager templates for easier and more controlled deployment](../../azure-resource-manager/resource-group-overview.md#template-deployment).</span></span>
- <span data-ttu-id="72509-284">[태그](../../azure-resource-manager/resource-group-using-tags.md).</span><span class="sxs-lookup"><span data-stu-id="72509-284">[Tags](../../azure-resource-manager/resource-group-using-tags.md).</span></span>
- [<span data-ttu-id="72509-285">활동 제어</span><span class="sxs-lookup"><span data-stu-id="72509-285">Activity Control</span></span>](../../azure-resource-manager/resource-group-audit.md)
- [<span data-ttu-id="72509-286">리소스 정책</span><span class="sxs-lookup"><span data-stu-id="72509-286">Resource Policies</span></span>](../../azure-resource-manager/resource-manager-policy.md)

### <a name="pitfalls-to-avoid"></a><span data-ttu-id="72509-287">문제 방지</span><span class="sxs-lookup"><span data-stu-id="72509-287">Pitfalls to avoid</span></span>

<span data-ttu-id="72509-288">이 클래식을 Azure Resource Manager 마이그레이션 과정으로 시작한 이유를 기억합니다.</span><span class="sxs-lookup"><span data-stu-id="72509-288">Remember why you started this Classic to Azure Resource Manager migration journey.</span></span>  <span data-ttu-id="72509-289">원래의 비즈니스상 이유는 무엇입니까?</span><span class="sxs-lookup"><span data-stu-id="72509-289">What were the original business reasons?</span></span> <span data-ttu-id="72509-290">비즈니스상 이유를 달성했습니까?</span><span class="sxs-lookup"><span data-stu-id="72509-290">Did you achieve the business reason?</span></span>


## <a name="next-steps"></a><span data-ttu-id="72509-291">다음 단계</span><span class="sxs-lookup"><span data-stu-id="72509-291">Next steps</span></span>

* [<span data-ttu-id="72509-292">클래식에서 Azure Resource Manager로 IaaS 리소스의 플랫폼 지원 마이그레이션 개요</span><span class="sxs-lookup"><span data-stu-id="72509-292">Overview of platform-supported migration of IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="72509-293">클래식에서 Azure Resource Manager로의 플랫폼 지원 마이그레이션에 대한 기술 정보</span><span class="sxs-lookup"><span data-stu-id="72509-293">Technical deep dive on platform-supported migration from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-deep-dive.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="72509-294">클래식에서 Azure Resource Manager로 IaaS 리소스의 마이그레이션 계획</span><span class="sxs-lookup"><span data-stu-id="72509-294">Planning for migration of IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-plan.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="72509-295">PowerShell을 사용하여 클래식에서 Azure Resource Manager로 IaaS 리소스 마이그레이션</span><span class="sxs-lookup"><span data-stu-id="72509-295">Use PowerShell to migrate IaaS resources from classic to Azure Resource Manager</span></span>](../windows/migration-classic-resource-manager-ps.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="72509-296">클래식에서 Azure Resource Manager로의 IaaS 리소스 마이그레이션을 지원하기 위한 커뮤니티 도구</span><span class="sxs-lookup"><span data-stu-id="72509-296">Community tools for assisting with migration of IaaS resources from classic to Azure Resource Manager</span></span>](../windows/migration-classic-resource-manager-community-tools.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="72509-297">가장 일반적인 마이그레이션 오류 검토</span><span class="sxs-lookup"><span data-stu-id="72509-297">Review most common migration errors</span></span>](migration-classic-resource-manager-errors.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="72509-298">클래식에서 Azure Resource Manager로의 IaaS 리소스 마이그레이션과 관련된 가장 자주 묻는 질문 검토</span><span class="sxs-lookup"><span data-stu-id="72509-298">Review the most frequently asked questions about migrating IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-faq.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
