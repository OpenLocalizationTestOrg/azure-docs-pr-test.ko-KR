---
title: "aaaDNS Azure에서 Linux 가상 컴퓨터에 대 한 이름 확인 옵션"
description: "Azure IaaS의 Linux 가상 컴퓨터에 대한 이름 확인 시나리오(제공된 DNS 서비스, 하이브리드 외부 DNS 및 사용자 고유의 DNS 서버 포함)입니다."
services: virtual-machines
documentationcenter: na
author: RicksterCDN
manager: timlt
editor: tysonn
ms.assetid: 787a1e04-cebf-4122-a1b4-1fcf0a2bbf5f
ms.service: virtual-machines-linux
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 10/19/2016
ms.author: rclaus
ms.openlocfilehash: 7df2320b6f6b42b479bf4070ea60fe5770a78a41
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="dns-name-resolution-options-for-linux-virtual-machines-in-azure"></a><span data-ttu-id="c5b0e-103">Azure의 Linux 가상 컴퓨터에 대한 DNS 이름 확인 옵션</span><span class="sxs-lookup"><span data-stu-id="c5b0e-103">DNS Name Resolution options for Linux virtual machines in Azure</span></span>
<span data-ttu-id="c5b0e-104">Azure는 단일 가상 네트워크 내에 포함된 모든 가상 컴퓨터에 대해 기본적으로 DNS 이름 확인을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-104">Azure provides DNS name resolution by default for all virtual machines that are in a single virtual network.</span></span> <span data-ttu-id="c5b0e-105">Azure에서 호스트하는 가상 컴퓨터에서 자체 DNS 서비스를 구성하여 사용자 고유의 DNS 이름 확인 솔루션을 구현할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-105">You can implement your own DNS name resolution solution by configuring your own DNS services on your virtual machines that Azure hosts.</span></span> <span data-ttu-id="c5b0e-106">hello 다음과 같은 시나리오 있습니다 hello 상황에 맞는 하나를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-106">hello following scenarios should help you choose hello one that works for your situation.</span></span>

* [<span data-ttu-id="c5b0e-107">Azure에서 제공하는 이름 확인</span><span class="sxs-lookup"><span data-stu-id="c5b0e-107">Name resolution that Azure provides</span></span>](#azure-provided-name-resolution)
* [<span data-ttu-id="c5b0e-108">자체 DNS 서버를 사용한 이름 확인</span><span class="sxs-lookup"><span data-stu-id="c5b0e-108">Name resolution using your own DNS server</span></span>](#name-resolution-using-your-own-dns-server)

<span data-ttu-id="c5b0e-109">hello 종류의 사용 하는 이름 확인 방법을 가상 컴퓨터와 역할 인스턴스는 서로 toocommunicate 필요에 따라 달라 집니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-109">hello type of name resolution that you use depends on how your virtual machines and role instances need toocommunicate with each other.</span></span>

<span data-ttu-id="c5b0e-110">hello 다음 표에 나와 시나리오와 해당 이름 확인 솔루션이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-110">hello following table illustrates scenarios and corresponding name resolution solutions:</span></span>

| <span data-ttu-id="c5b0e-111">**시나리오**</span><span class="sxs-lookup"><span data-stu-id="c5b0e-111">**Scenario**</span></span> | <span data-ttu-id="c5b0e-112">**솔루션**</span><span class="sxs-lookup"><span data-stu-id="c5b0e-112">**Solution**</span></span> | <span data-ttu-id="c5b0e-113">**접미사**</span><span class="sxs-lookup"><span data-stu-id="c5b0e-113">**Suffix**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="c5b0e-114">이름 확인 역할 인스턴스 또는 hello에서 가상 컴퓨터 간의 동일한 가상 네트워크</span><span class="sxs-lookup"><span data-stu-id="c5b0e-114">Name resolution between role instances or virtual machines in hello same virtual network</span></span> |[<span data-ttu-id="c5b0e-115">Azure에서 제공하는 이름 확인</span><span class="sxs-lookup"><span data-stu-id="c5b0e-115">Name resolution that Azure provides</span></span>](#azure-provided-name-resolution) |<span data-ttu-id="c5b0e-116">호스트 이름 또는 FQDN(정규화된 도메인 이름)</span><span class="sxs-lookup"><span data-stu-id="c5b0e-116">hostname or fully-qualified domain name (FQDN)</span></span> |
| <span data-ttu-id="c5b0e-117">서로 다른 네트워크에 있는 역할 인스턴스 또는 가상 컴퓨터 간 이름 확인</span><span class="sxs-lookup"><span data-stu-id="c5b0e-117">Name resolution between role instances or virtual machines in different virtual networks</span></span> |<span data-ttu-id="c5b0e-118">Azure(DNS 프록시)에서 이름을 확인할 수 있도록 가상 컴퓨터 간에 쿼리를 전달하는 고객이 관리하는 DNS 서버.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-118">Customer-managed DNS servers that forward queries between virtual networks for resolution by Azure (DNS proxy).</span></span> <span data-ttu-id="c5b0e-119">[자체 DNS 서버를 이용한 이름 확인](#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="c5b0e-119">See [Name resolution using your own DNS server](#name-resolution-using-your-own-dns-server).</span></span> |<span data-ttu-id="c5b0e-120">FQDN만</span><span class="sxs-lookup"><span data-stu-id="c5b0e-120">FQDN only</span></span> |
| <span data-ttu-id="c5b0e-121">Azure의 역할 인스턴스 또는 가상 컴퓨터에서 온-프레미스 컴퓨터와 서비스 이름 확인</span><span class="sxs-lookup"><span data-stu-id="c5b0e-121">Resolution of on-premises computers and service names from role instances or virtual machines in Azure</span></span> |<span data-ttu-id="c5b0e-122">고객이 관리하는 DNS 서버(예: 온-프레미스 도메인 컨트롤러, 로컬 읽기 전용 도메인 컨트롤러 또는 영역 전송을 사용하여 동기화된 DNS 보조).</span><span class="sxs-lookup"><span data-stu-id="c5b0e-122">Customer-managed DNS servers (for example, on-premises domain controller, local read-only domain controller, or a DNS secondary synced by using zone transfers).</span></span> <span data-ttu-id="c5b0e-123">[자체 DNS 서버를 이용한 이름 확인](#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="c5b0e-123">See [Name resolution using your own DNS server](#name-resolution-using-your-own-dns-server).</span></span> |<span data-ttu-id="c5b0e-124">FQDN만</span><span class="sxs-lookup"><span data-stu-id="c5b0e-124">FQDN only</span></span> |
| <span data-ttu-id="c5b0e-125">온-프레미스 컴퓨터에서 Azure 호스트 이름 확인</span><span class="sxs-lookup"><span data-stu-id="c5b0e-125">Resolution of Azure hostnames from on-premises computers</span></span> |<span data-ttu-id="c5b0e-126">쿼리 tooa 고객이 관리 하는 DNS에서에서 프록시 서버 hello 해당 가상 네트워크를 전달 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-126">Forward queries tooa customer-managed DNS proxy server in hello corresponding virtual network.</span></span> <span data-ttu-id="c5b0e-127">hello 프록시 서버는 확인을 위해 쿼리 tooAzure를 전달합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-127">hello proxy server forwards queries tooAzure for resolution.</span></span> <span data-ttu-id="c5b0e-128">[자체 DNS 서버를 이용한 이름 확인](#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="c5b0e-128">See [Name resolution using your own DNS server](#name-resolution-using-your-own-dns-server).</span></span> |<span data-ttu-id="c5b0e-129">FQDN만</span><span class="sxs-lookup"><span data-stu-id="c5b0e-129">FQDN only</span></span> |
| <span data-ttu-id="c5b0e-130">내부 IP에 대한 역방향 DNS</span><span class="sxs-lookup"><span data-stu-id="c5b0e-130">Reverse DNS for internal IPs</span></span> |[<span data-ttu-id="c5b0e-131">자체 DNS 서버를 사용한 이름 확인</span><span class="sxs-lookup"><span data-stu-id="c5b0e-131">Name resolution using your own DNS server</span></span>](#name-resolution-using-your-own-dns-server) |<span data-ttu-id="c5b0e-132">해당 없음</span><span class="sxs-lookup"><span data-stu-id="c5b0e-132">n/a</span></span> |

## <a name="name-resolution-that-azure-provides"></a><span data-ttu-id="c5b0e-133">Azure에서 제공하는 이름 확인</span><span class="sxs-lookup"><span data-stu-id="c5b0e-133">Name resolution that Azure provides</span></span>
<span data-ttu-id="c5b0e-134">공용 DNS 이름 확인와 Azure 가상 컴퓨터에 대 한 내부 이름 확인을 제공 하 고,에 있는 역할 인스턴스 hello 동일한 가상 네트워크입니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-134">Along with resolution of public DNS names, Azure provides internal name resolution for virtual machines and role instances that are in hello same virtual network.</span></span> <span data-ttu-id="c5b0e-135">Azure 리소스 관리자에 기반 하는 가상 네트워크에서 DNS 접미사 hello 전체에서 일관 된 hello 가상 네트워크입니다. hello FQDN이 필요 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-135">In virtual networks that are based on Azure Resource Manager, hello DNS suffix is consistent across hello virtual network; hello FQDN is not needed.</span></span> <span data-ttu-id="c5b0e-136">DNS 이름 (Nic) tooboth 네트워크 인터페이스 카드 및 가상 컴퓨터에 할당할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-136">DNS names can be assigned tooboth network interface cards (NICs) and virtual machines.</span></span> <span data-ttu-id="c5b0e-137">하지만 Azure에서 제공 하는 hello 이름 확인에는 구성이 필요 하지 않습니다, 하지 hello 적절 한 선택은 모든 배포 시나리오에 대 한 hello 테이블 앞에 표시 된 것과 같이 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-137">Although hello name resolution that Azure provides does not require any configuration, it is not hello appropriate choice for all deployment scenarios, as seen on hello preceding table.</span></span>

### <a name="features-and-considerations"></a><span data-ttu-id="c5b0e-138">기능 및 고려 사항</span><span class="sxs-lookup"><span data-stu-id="c5b0e-138">Features and considerations</span></span>
<span data-ttu-id="c5b0e-139">**기능:**</span><span class="sxs-lookup"><span data-stu-id="c5b0e-139">**Features:**</span></span>

* <span data-ttu-id="c5b0e-140">구성이 Azure에서 제공 하는 필수 toouse 이름 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-140">No configuration is required toouse name resolution that Azure provides.</span></span>
* <span data-ttu-id="c5b0e-141">Azure에서 제공 하는 hello 이름 확인 서비스는 항상 사용 가능 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-141">hello name resolution service that Azure provides is highly available.</span></span> <span data-ttu-id="c5b0e-142">Toocreate 필요 하 고 사용자 고유의 DNS 서버 클러스터를 관리 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-142">You don't need toocreate and manage clusters of your own DNS servers.</span></span>
* <span data-ttu-id="c5b0e-143">사용자 고유의 DNS 서버 tooresolve 함께 Azure에서 제공 하는 hello 이름 확인 서비스를 표시할 수 있습니다 온-프레미스와 Azure 호스트 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-143">hello name resolution service that Azure provides can be used along with your own DNS servers tooresolve both on-premises and Azure hostnames.</span></span>
* <span data-ttu-id="c5b0e-144">이름 확인 hello FQDN에 대 한 필요 없이 가상 네트워크의 가상 컴퓨터 간에 제공 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-144">Name resolution is provided between virtual machines in virtual networks without need for hello FQDN.</span></span>
* <span data-ttu-id="c5b0e-145">자동으로 생성되는 이름 대신 배포를 가장 잘 설명해주는 호스트 이름을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-145">You can use hostnames that best describe your deployments rather than working with auto-generated names.</span></span>

<span data-ttu-id="c5b0e-146">**고려 사항:**</span><span class="sxs-lookup"><span data-stu-id="c5b0e-146">**Considerations:**</span></span>

* <span data-ttu-id="c5b0e-147">Azure에서 만들어지는 hello DNS 접미사를 수정할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-147">hello DNS suffix that Azure creates cannot be modified.</span></span>
* <span data-ttu-id="c5b0e-148">사용자 고유의 레코드를 수동으로 등록할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-148">You cannot manually register your own records.</span></span>
* <span data-ttu-id="c5b0e-149">WINS 및 NetBIOS는 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-149">WINS and NetBIOS are not supported.</span></span>
* <span data-ttu-id="c5b0e-150">호스트 이름은 DNS와 호환되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-150">Hostnames must be DNS-compatible.</span></span>
    <span data-ttu-id="c5b0e-151">이름에는 0-9, a-z 및 '-'만 사용이 가능하며, '-'로 시작하거나 끝날 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-151">Names must use only 0-9, a-z, and '-', and they cannot start or end with a '-'.</span></span> <span data-ttu-id="c5b0e-152">RFC 3696 섹션을 2를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-152">See RFC 3696 Section 2.</span></span>
* <span data-ttu-id="c5b0e-153">DNS 쿼리 트래픽은 각 가상 컴퓨터에 대해 제한됩니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-153">DNS query traffic is throttled for each virtual machine.</span></span> <span data-ttu-id="c5b0e-154">이 제한은 대부분의 응용 프로그램에 영향을 주지 않아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-154">Throttling shouldn't impact most applications.</span></span>  <span data-ttu-id="c5b0e-155">요청 제한이 확인되는 경우 클라이언트쪽 캐싱이 사용하도록 설정되었는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-155">If request throttling is observed, ensure that client-side caching is enabled.</span></span>  <span data-ttu-id="c5b0e-156">자세한 내용은 참조 [hello Azure 제공 이름 확인 대부분 가져오는](#getting-the-most-from-name-resolution-that-azure-provides)합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-156">For more information, see [Getting hello most from name resolution that Azure provides](#getting-the-most-from-name-resolution-that-azure-provides).</span></span>

### <a name="getting-hello-most-from-name-resolution-that-azure-provides"></a><span data-ttu-id="c5b0e-157">Hello Azure 제공 이름 확인 대부분 가져오기</span><span class="sxs-lookup"><span data-stu-id="c5b0e-157">Getting hello most from name resolution that Azure provides</span></span>
<span data-ttu-id="c5b0e-158">**클라이언트쪽 캐싱:**</span><span class="sxs-lookup"><span data-stu-id="c5b0e-158">**Client-side caching:**</span></span>

<span data-ttu-id="c5b0e-159">일부 DNS 쿼리 hello 네트워크를 통해 전송 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-159">Some DNS queries are not sent across hello network.</span></span> <span data-ttu-id="c5b0e-160">클라이언트 쪽 캐싱 대기 시간을 줄이고 로컬 캐시에서 되풀이 DNS 쿼리를 확인 하 여 복원 력을 toonetwork 불일치를 향상 시킬 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-160">Client-side caching helps reduce latency and improve resilience toonetwork inconsistencies by resolving recurring DNS queries from a local cache.</span></span> <span data-ttu-id="c5b0e-161">DNS 레코드는 활성 시간 (TTL) 레코드 새로 고침에 영향을 주지 않고 가능한 한 오랫동안에 대 한 hello 캐시 toostore hello 레코드를 매핑함으로써 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-161">DNS records contain a Time-To-Live (TTL), which enables hello cache toostore hello record for as long as possible without impacting record freshness.</span></span> <span data-ttu-id="c5b0e-162">결과적으로 클라이언트쪽 캐싱은 대부분의 상황에 적합합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-162">As a result, client-side caching is suitable for most situations.</span></span>

<span data-ttu-id="c5b0e-163">일부 Linux 배포판은 기본적으로 캐싱이 포함되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-163">Some Linux distributions do not include caching by default.</span></span> <span data-ttu-id="c5b0e-164">이 아님을 로컬 캐시 이미 확인 한 후 캐시 tooeach Linux 가상 컴퓨터를 추가 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-164">We recommend that you add a cache tooeach Linux virtual machine after you check that there isn't a local cache already.</span></span>

<span data-ttu-id="c5b0e-165">dnsmasq 같은 여러 가지 DNS 캐싱 패키지를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-165">Several different DNS caching packages, such as dnsmasq, are available.</span></span> <span data-ttu-id="c5b0e-166">가장 일반적인 배포 hello hello 단계 tooinstall dnsmasq 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-166">Here are hello steps tooinstall dnsmasq on hello most common distributions:</span></span>

<span data-ttu-id="c5b0e-167">**Ubuntu(resolvconf 사용)**</span><span class="sxs-lookup"><span data-stu-id="c5b0e-167">**Ubuntu (uses resolvconf)**</span></span>
  * <span data-ttu-id="c5b0e-168">Hello dnsmasq 패키지 ("sudo apt get 설치 dnsmasq")를 설치 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-168">Install hello dnsmasq package (“sudo apt-get install dnsmasq”).</span></span>

<span data-ttu-id="c5b0e-169">**SUSE(netconf 사용)**:</span><span class="sxs-lookup"><span data-stu-id="c5b0e-169">**SUSE (uses netconf)**:</span></span>
1. <span data-ttu-id="c5b0e-170">Hello dnsmasq 패키지 ("sudo zypper 설치 dnsmasq")를 설치 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-170">Install hello dnsmasq package (“sudo zypper install dnsmasq”).</span></span>
2. <span data-ttu-id="c5b0e-171">Hello dnsmasq 서비스 ("systemctl enable dnsmasq.service")를 사용 하도록 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-171">Enable hello dnsmasq service (“systemctl enable dnsmasq.service”).</span></span>
3. <span data-ttu-id="c5b0e-172">Hello dnsmasq 서비스 ("systemctl 시작 dnsmasq.service")를 시작 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-172">Start hello dnsmasq service (“systemctl start dnsmasq.service”).</span></span>
4. <span data-ttu-id="c5b0e-173">편집 "/ 등/sysconfig/네트워크/config" NETCONFIG_DNS_FORWARDER 변경 = "" 너무 "dnsmasq"입니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-173">Edit “/etc/sysconfig/network/config”, and change NETCONFIG_DNS_FORWARDER="" too”dnsmasq”.</span></span>
5. <span data-ttu-id="c5b0e-174">로컬 DNS 확인자 hello 대로 resolv.conf ("다음과 같은 netconfig 업데이트") tooset hello 캐시를 업데이트 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-174">Update resolv.conf ("netconfig update") tooset hello cache as hello local DNS resolver.</span></span>

<span data-ttu-id="c5b0e-175">**Rogue Wave Software의 CentOS(이전의 OpenLogic. NetworkManager 사용)**</span><span class="sxs-lookup"><span data-stu-id="c5b0e-175">**CentOS by Rogue Wave Software (formerly OpenLogic; uses NetworkManager)**</span></span>
1. <span data-ttu-id="c5b0e-176">Hello dnsmasq 패키지 ("sudo yum 설치 dnsmasq")를 설치 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-176">Install hello dnsmasq package (“sudo yum install dnsmasq”).</span></span>
2. <span data-ttu-id="c5b0e-177">Hello dnsmasq 서비스 ("systemctl enable dnsmasq.service")를 사용 하도록 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-177">Enable hello dnsmasq service (“systemctl enable dnsmasq.service”).</span></span>
3. <span data-ttu-id="c5b0e-178">Hello dnsmasq 서비스 ("systemctl 시작 dnsmasq.service")를 시작 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-178">Start hello dnsmasq service (“systemctl start dnsmasq.service”).</span></span>
4. <span data-ttu-id="c5b0e-179">"도메인 이름 서버 127.0.0.1; 앞에 추가" 추가 too"/etc/dhclient-eth0.conf"입니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-179">Add “prepend domain-name-servers 127.0.0.1;” too“/etc/dhclient-eth0.conf”.</span></span>
5. <span data-ttu-id="c5b0e-180">로컬 DNS 확인자 hello 대로 hello 네트워크 서비스 ("서비스 네트워크를 다시 시작") tooset hello 캐시를 다시 시작</span><span class="sxs-lookup"><span data-stu-id="c5b0e-180">Restart hello network service (“service network restart”) tooset hello cache as hello local DNS resolver</span></span>

> [!NOTE]
> <span data-ttu-id="c5b0e-181">: hello 'dnsmasq' 패키지는 Linux에 사용할 수 있는 많은 DNS 캐시 hello 중 하나입니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-181">: hello 'dnsmasq' package is only one of hello many DNS caches that are available for Linux.</span></span> <span data-ttu-id="c5b0e-182">사용하기 전에 본인의 요구 사항에 적합한지 확인하고 다른 캐시가 설치되어 있지 않은지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-182">Before you use it, check its suitability for your needs and that no other cache is installed.</span></span>
>
>

<span data-ttu-id="c5b0e-183">**클라이언트쪽 재시도**</span><span class="sxs-lookup"><span data-stu-id="c5b0e-183">**Client-side retries**</span></span>

<span data-ttu-id="c5b0e-184">DNS는 주로 UDP 프로토콜입니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-184">DNS is primarily a UDP protocol.</span></span> <span data-ttu-id="c5b0e-185">UDP 프로토콜 hello 메시지 배달을 보장 하지 않습니다, 때문에 자체 DNS 프로토콜 hello 재시도 논리를 처리 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-185">Because hello UDP protocol doesn't guarantee message delivery, hello DNS protocol itself handles retry logic.</span></span> <span data-ttu-id="c5b0e-186">각 DNS 클라이언트 (운영 체제) hello 작성자의 기본 설정에 따라 다시 시도 논리를 나타낼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-186">Each DNS client (operating system) can exhibit different retry logic depending on hello creator's preference:</span></span>

* <span data-ttu-id="c5b0e-187">Windows 운영 체제는 1초 후 재시도한 후 2초, 4초 후 다시 재시도하고 또 다시 4초 후 재시도합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-187">Windows operating systems retry after one second and then again after another two, four, and another four seconds.</span></span>
* <span data-ttu-id="c5b0e-188">hello 기본 Linux 설치 후에 다시 시도 5 초입니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-188">hello default Linux setup retries after five seconds.</span></span>  <span data-ttu-id="c5b0e-189">이 tooretry 1 초 간격에 따라 5 번 변경 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-189">You should change this tooretry five times at one-second intervals.</span></span>  

<span data-ttu-id="c5b0e-190">toocheck 'cat /etc/resolv.conf' Linux 가상 컴퓨터의 현재 설정을 hello 하 고 예를 들어 hello '옵션' 선 확인:</span><span class="sxs-lookup"><span data-stu-id="c5b0e-190">toocheck hello current settings on a Linux virtual machine, 'cat /etc/resolv.conf', and look at hello 'options' line, for example:</span></span>

    options timeout:1 attempts:5

<span data-ttu-id="c5b0e-191">hello resolv.conf 파일은 자동으로 생성 및 편집할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-191">hello resolv.conf file is auto-generated and should not be edited.</span></span> <span data-ttu-id="c5b0e-192">hello '옵션' 배포에 따라 다른 줄을 추가 하는 특정 단계 hello:</span><span class="sxs-lookup"><span data-stu-id="c5b0e-192">hello specific steps that add hello 'options' line vary by distribution:</span></span>

<span data-ttu-id="c5b0e-193">**Ubuntu**(resolvconf 사용)</span><span class="sxs-lookup"><span data-stu-id="c5b0e-193">**Ubuntu** (uses resolvconf)</span></span>
1. <span data-ttu-id="c5b0e-194">Hello 옵션 선 too'/etc/resolveconf/resolv.conf.d/head 추가 '.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-194">Add hello options line too'/etc/resolveconf/resolv.conf.d/head'.</span></span>
2. <span data-ttu-id="c5b0e-195">' Resolvconf u' tooupdate를 실행 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-195">Run 'resolvconf -u' tooupdate.</span></span>

<span data-ttu-id="c5b0e-196">**SUSE**(netconf 사용)</span><span class="sxs-lookup"><span data-stu-id="c5b0e-196">**SUSE** (uses netconf)</span></span>
1. <span data-ttu-id="c5b0e-197">' Timeout:1 시도 횟수: 5' toohello NETCONFIG_DNS_RESOLVER_OPTIONS 추가 = ""에 '/ 등/sysconfig/네트워크/config' 매개 변수입니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-197">Add 'timeout:1 attempts:5' toohello NETCONFIG_DNS_RESOLVER_OPTIONS="" parameter in '/etc/sysconfig/network/config'.</span></span>
2. <span data-ttu-id="c5b0e-198">Tooupdate '다음과 같은 netconfig 업데이트'를 실행 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-198">Run 'netconfig update' tooupdate.</span></span>

<span data-ttu-id="c5b0e-199">**Rogue Wave Software의 CentOS(이전의 OpenLogic)**(NetworkManager 사용)</span><span class="sxs-lookup"><span data-stu-id="c5b0e-199">**CentOS by Rogue Wave Software (formerly OpenLogic)** (uses NetworkManager)</span></span>
1. <span data-ttu-id="c5b0e-200">추가 too'/etc/NetworkManager/dispatcher.d/11-dhclient '에코 "옵션 timeout:1 시도 횟수: 5" ' '.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-200">Add 'echo "options timeout:1 attempts:5"' too'/etc/NetworkManager/dispatcher.d/11-dhclient'.</span></span>
2. <span data-ttu-id="c5b0e-201">서비스가 네트워크 다시 시작' tooupdate를 실행 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-201">Run 'service network restart' tooupdate.</span></span>

## <a name="name-resolution-using-your-own-dns-server"></a><span data-ttu-id="c5b0e-202">자체 DNS 서버를 이용한 이름 확인</span><span class="sxs-lookup"><span data-stu-id="c5b0e-202">Name resolution using your own DNS server</span></span>
<span data-ttu-id="c5b0e-203">사용자 이름 확인 요구 사항을 Azure에서 제공 하는 hello 기능 넘지 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-203">Your name resolution needs may go beyond hello features that Azure provides.</span></span> <span data-ttu-id="c5b0e-204">예를 들어 가상 네트워크 간 DNS 확인이 필요할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-204">For example, you might require DNS resolution between virtual networks.</span></span> <span data-ttu-id="c5b0e-205">toocover이이 시나리오에서는 사용자 고유의 DNS 서버를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-205">toocover this scenario, you can use your own DNS servers.</span></span>  

<span data-ttu-id="c5b0e-206">DNS 서버에 있는 가상 네트워크 캔 정방향 DNS를 Azure tooresolve 호스트 이름 확인 자의 toorecursive 쿼리 내에서 동일한 가상 네트워크를 hello 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-206">DNS servers within a virtual network can forward DNS queries toorecursive resolvers of Azure tooresolve hostnames that are in hello same virtual network.</span></span> <span data-ttu-id="c5b0e-207">예를 들어 Azure에서 실행 되는 DNS 서버 tooDNS 쿼리 자체 dns 영역 파일 및 다른 모든 쿼리 tooAzure 전달 응답할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-207">For example, a DNS server that runs in Azure can respond tooDNS queries for its own DNS zone files and forward all other queries tooAzure.</span></span> <span data-ttu-id="c5b0e-208">이 기능을 사용 하면 가상 컴퓨터 toosee 모두에 있는 항목의 영역 파일 및 (hello 전달자)를 통해 Azure에서 제공 하는 호스트 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-208">This functionality enables virtual machines toosee both your entries in your zone files and hostnames that Azure provides (via hello forwarder).</span></span> <span data-ttu-id="c5b0e-209">Azure의 액세스 toohello 재귀 확인자 hello 가상 IP 168.63.129.16 통해 제공 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-209">Access toohello recursive resolvers of Azure is provided via hello virtual IP 168.63.129.16.</span></span>

<span data-ttu-id="c5b0e-210">또한 DNS 전달 가상 네트워크 간의 DNS 확인을 사용 하도록 설정 하 고 Azure에서 제공 하 여 온-프레미스 컴퓨터 tooresolve 호스트 이름을 사용 하도록 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-210">DNS forwarding also enables DNS resolution between virtual networks and enables your on-premises machines tooresolve hostnames that Azure provides.</span></span> <span data-ttu-id="c5b0e-211">tooresolve hello DNS 서버 가상 컴퓨터에 상주해 야 가상 컴퓨터의 호스트 이름에 동일한 가상 네트워크를 hello 및 구성 된 tooforward hostname 쿼리 tooAzure 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-211">tooresolve a virtual machine's hostname, hello DNS server virtual machine must reside in hello same virtual network and be configured tooforward hostname queries tooAzure.</span></span> <span data-ttu-id="c5b0e-212">조건부 전달 hello DNS 접미사에서에서 다르기 때문에 각 가상 네트워크를 사용할 수 있습니다 toosend DNS 쿼리 toohello 규칙 확인을 위해 가상 네트워크를 수정 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-212">Because hello DNS suffix is different in each virtual network, you can use conditional forwarding rules toosend DNS queries toohello correct virtual network for resolution.</span></span> <span data-ttu-id="c5b0e-213">hello 다음 이미지는 두 개의 가상 네트워크와이 방법을 사용 하 여 가상 네트워크 간의 DNS 확인을 수행 하는 온-프레미스 네트워크</span><span class="sxs-lookup"><span data-stu-id="c5b0e-213">hello following image shows two virtual networks and an on-premises network doing DNS resolution between virtual networks by using this method:</span></span>

![가상 네트워크 간의 DNS 확인](./media/azure-dns/inter-vnet-dns.png)

<span data-ttu-id="c5b0e-215">Azure에서 제공 하는 이름 확인을 사용 하는 경우 DHCP를 사용 하 여 hello 내부 DNS 접미사 tooeach 가상 컴퓨터를 제공 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-215">When you use name resolution that Azure provides, hello internal DNS suffix is provided tooeach virtual machine by using DHCP.</span></span> <span data-ttu-id="c5b0e-216">이름 확인 솔루션을 사용 하면이 접미사는 제공 된 toovirtual 컴퓨터 hello 접미사 다른 DNS 아키텍처를 방해 하므로 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-216">When you use your own name resolution solution, this suffix is not supplied toovirtual machines because hello suffix interferes with other DNS architectures.</span></span> <span data-ttu-id="c5b0e-217">가상 컴퓨터의 FQDN 또는 tooconfigure hello 접미사로 toorefer toomachines, PowerShell 또는 hello API toodetermine hello 접미사를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-217">toorefer toomachines by FQDN or tooconfigure hello suffix on your virtual machines, you can use PowerShell or hello API toodetermine hello suffix:</span></span>

* <span data-ttu-id="c5b0e-218">Azure 리소스 관리자에서 관리 되는 가상 네트워크에 대 한 hello 접미사는 hello를 통해 사용할 수 있는 [네트워크 인터페이스 카드](https://msdn.microsoft.com/library/azure/mt163668.aspx) 리소스입니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-218">For virtual networks that are managed by Azure Resource Manager, hello suffix is available via hello [network interface card](https://msdn.microsoft.com/library/azure/mt163668.aspx) resource.</span></span> <span data-ttu-id="c5b0e-219">Hello를 실행할 수도 있습니다 `azure network public-ip show <resource group> <pip name>` 명령을 포함 하 여 공용 IP의 toodisplay hello 세부 정보 hello hello NIC.의 FQDN</span><span class="sxs-lookup"><span data-stu-id="c5b0e-219">You can also run hello `azure network public-ip show <resource group> <pip name>` command toodisplay hello details of your public IP, which includes hello FQDN of hello NIC.</span></span>

<span data-ttu-id="c5b0e-220">TooAzure 요구 사항에 적합 하지 않습니다는 쿼리를 전달, 자체 DNS 솔루션 tooprovide 필요.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-220">If forwarding queries tooAzure doesn't suit your needs, you need tooprovide your own DNS solution.</span></span>  <span data-ttu-id="c5b0e-221">DNS 솔루션은 다음을 수행해야 합니다:</span><span class="sxs-lookup"><span data-stu-id="c5b0e-221">Your DNS solution needs to:</span></span>

* <span data-ttu-id="c5b0e-222">예를 들어 [DDNS](../../virtual-network/virtual-networks-name-resolution-ddns.md)를 통해 적절한 호스트 이름 확인을 제공해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-222">Provide appropriate hostname resolution, for example via [DDNS](../../virtual-network/virtual-networks-name-resolution-ddns.md).</span></span> <span data-ttu-id="c5b0e-223">DDNS을 사용 하는 경우 toodisable DNS 레코드 청소를 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-223">If you use DDNS, you might need toodisable DNS record scavenging.</span></span> <span data-ttu-id="c5b0e-224">Azure의 DHCP 임대는 기간이 매우 길며 청소를 통해 DNS 레코드가 완전히 제거될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-224">DHCP leases of Azure are very long and scavenging may remove DNS records prematurely.</span></span>
* <span data-ttu-id="c5b0e-225">외부 도메인 이름의 적절 한 재귀 해상도 tooallow 확인을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-225">Provide appropriate recursive resolution tooallow resolution of external domain names.</span></span>
* <span data-ttu-id="c5b0e-226">액세스할 수 있는 (TCP 및 UDP 포트 53) hello 클라이언트 역할에서 인터넷 수 tooaccess hello 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-226">Be accessible (TCP and UDP on port 53) from hello clients it serves and be able tooaccess hello Internet.</span></span>
* <span data-ttu-id="c5b0e-227">외부 에이전트에서 발생 하는 hello 인터넷 toomitigate 위협은에서 액세스 로부터 보호 합니다.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-227">Be secured against access from hello Internet toomitigate threats posed by external agents.</span></span>

> [!NOTE]
> <span data-ttu-id="c5b0e-228">최상의 성능을 위해 때는 가상 컴퓨터를 사용 하 여 Azure DNS 서버에 i p v 6을 사용 하지 않도록 설정 하 고 할당 한 [인스턴스 수준 공용 IP](../../virtual-network/virtual-networks-instance-level-public-ip.md) tooeach DNS 서버 가상 컴퓨터.</span><span class="sxs-lookup"><span data-stu-id="c5b0e-228">For best performance, when you use virtual machines in Azure DNS servers, disable IPv6 and assign an [Instance-Level Public IP](../../virtual-network/virtual-networks-instance-level-public-ip.md) tooeach DNS server virtual machine.</span></span>  
>
>
