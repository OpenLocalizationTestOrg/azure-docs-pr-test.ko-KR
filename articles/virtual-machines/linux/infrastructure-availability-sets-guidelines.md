---
title: "Linux VM에 대한 Azure 가용성 집합 | Microsoft Docs"
description: "Azure 인프라 서비스에서 가용성 집합을 배포하기 위한 핵심 디자인 및 구현 지침에 대해 알아봅니다."
documentationcenter: 
services: virtual-machines-linux
author: iainfoulds
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 24f1d91c-8cc0-4251-bb67-ac4c4c37e8cd
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 06/26/2017
ms.author: iainfou
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: c5fad478a8fbbdeef2fe72f0b8f2ebe32852bbc5
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/11/2017
---
# <a name="azure-availability-sets-guidelines-for-linux-vms"></a><span data-ttu-id="49e16-103">Linux VM에 대한 Azure 가용성 집합 지침</span><span class="sxs-lookup"><span data-stu-id="49e16-103">Azure availability sets guidelines for Linux VMs</span></span>

[!INCLUDE [virtual-machines-linux-infrastructure-guidelines-intro](../../../includes/virtual-machines-linux-infrastructure-guidelines-intro.md)]

<span data-ttu-id="49e16-104">이 문서에서는 계획된 이벤트 또는 계획되지 않은 이벤트 동안 응용 프로그램에 계속 액세스할 수 있도록 하기 위해 가용성 집합에 대한 필수 계획 단계를 이해하는 데 주안점을 둡니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-104">This article focuses on understanding the required planning steps for availability sets to ensure your applications remains accessible during planned or unplanned events.</span></span>

## <a name="implementation-guidelines-for-availability-sets"></a><span data-ttu-id="49e16-105">가용성 집합에 대한 구현 지침</span><span class="sxs-lookup"><span data-stu-id="49e16-105">Implementation guidelines for availability sets</span></span>
<span data-ttu-id="49e16-106">의사 결정:</span><span class="sxs-lookup"><span data-stu-id="49e16-106">Decisions:</span></span>

* <span data-ttu-id="49e16-107">응용 프로그램 인프라에서 다양한 역할 및 계층에 가용성 집합이 얼마나 필요한가?</span><span class="sxs-lookup"><span data-stu-id="49e16-107">How many availability sets do you need for the various roles and tiers in your application infrastructure?</span></span>

<span data-ttu-id="49e16-108">작업:</span><span class="sxs-lookup"><span data-stu-id="49e16-108">Tasks:</span></span>

* <span data-ttu-id="49e16-109">각 응용 프로그램 계층에서 필요한 VM의 수를 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-109">Define the number of VMs in each application tier you require.</span></span>
* <span data-ttu-id="49e16-110">응용 프로그램에 사용할 장애 또는 업데이트 도메인의 수를 조정해야 하는지를 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-110">Determine if you need to adjust the number of fault or update domains to be used for your application.</span></span>
* <span data-ttu-id="49e16-111">명명 규칙을 사용하여 필요한 가용성 집합을 정의하고 해당 집합에 포함될 VM을 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-111">Define the required availability sets using your naming convention and what VMs reside in them.</span></span> <span data-ttu-id="49e16-112">VM은 하나의 가용성 집합에만 포함될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-112">A VM can only reside in one availability set.</span></span> 

## <a name="availability-sets"></a><span data-ttu-id="49e16-113">가용성 집합</span><span class="sxs-lookup"><span data-stu-id="49e16-113">Availability sets</span></span>
<span data-ttu-id="49e16-114">Azure에서 VM(가상 컴퓨터)은 가용성 집합이라는 논리적 그룹에 배치될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-114">In Azure, virtual machines (VMs) can be placed in to a logical grouping called an availability set.</span></span> <span data-ttu-id="49e16-115">가용성 집합 내에서 VM을 만들 경우 Azure 플랫폼은 기본 인프라 내에서 해당 VM을 분산 배치합니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-115">When you create VMs within an availability set, the Azure platform distributes the placement of those VMs across the underlying infrastructure.</span></span> <span data-ttu-id="49e16-116">Azure 플랫폼 또는 기본 하드웨어/인프라 오류에 대한 계획된 유지 관리 이벤트가 있는 경우 가용성 집합을 사용하여 하나 이상의 VM을 실행 상태로 유지해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-116">Should there be a planned maintenance event to the Azure platform or an underlying hardware / infrastructure fault, the use of availability sets ensures that at least one VM remains running.</span></span>

<span data-ttu-id="49e16-117">모범 사례로 응용 프로그램은 단일 VM에만 상주하지 않는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-117">As a best practice, applications should not reside on a single VM.</span></span> <span data-ttu-id="49e16-118">단일 VM을 포함하는 가용성 집합의 경우 Azure 플랫폼 내의 계획되거나 계획되지 않은 이벤트에서 보호 효과를 얻지 못합니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-118">An availability set that contains a single VM doesn't gain any protection from planned or unplanned events within the Azure platform.</span></span> <span data-ttu-id="49e16-119">기본 인프라 내에서 VM을 분산할 수 있도록 하기 위해 [Azure SLA](https://azure.microsoft.com/support/legal/sla/virtual-machines) 은 가용성 집합 내에서 두 개 이상의 VM을 요구합니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-119">The [Azure SLA](https://azure.microsoft.com/support/legal/sla/virtual-machines) requires two or more VMs within an availability set to allow the distribution of VMs across the underlying infrastructure.</span></span> <span data-ttu-id="49e16-120">[Azure Premium Storage](../../storage/storage-premium-storage.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)를 사용 중인 경우 Azure SLA는 단일 VM에 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-120">If you are using [Azure Premium Storage](../../storage/storage-premium-storage.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), the Azure SLA applies to a single VM.</span></span>

<span data-ttu-id="49e16-121">Azure의 기본 인프라는 여러 하드웨어 클러스터로 분할됩니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-121">The underlying infrastructure in Azure is divided in to multiple hardware clusters.</span></span> <span data-ttu-id="49e16-122">각 하드웨어 클러스터는 다양한 VM 크기를 지원할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-122">Each hardware cluster can support a range of VM sizes.</span></span> <span data-ttu-id="49e16-123">가용성 집합은 언제든지 특정 시점에 단일 하드웨어 클러스터에만 호스트될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-123">An availability set can only be hosted on a single hardware cluster at any point in time.</span></span> <span data-ttu-id="49e16-124">따라서 단일 가용성 집합에 존재할 수 있는 VM 크기 범위는 하드웨어 클러스터에서 지원하는 VM 크기 범위로 제한됩니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-124">Therefore, the range of VM sizes that can exist in a single availability set is limited to the range of VM sizes supported by the hardware cluster.</span></span> <span data-ttu-id="49e16-125">가용성 집합에 대한 하드웨어 클러스터는 가용성 집합의 첫 번째 VM이 배포되거나 모든 VM이 현재 중지-할당 해제 상태에 있는 가용성 집합에서 첫 번째 VM을 시작할 때 선택됩니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-125">The hardware cluster for the availability set is selected when the first VM in the availability set is deployed or when starting the first VM in an availability set where all VMs are currently in the stopped-deallocated state.</span></span> <span data-ttu-id="49e16-126">CLI 명령인 “az vm list-sizes --location \<string\>”을 사용하여 가용성 집합에 사용할 수 있는 VM 크기 범위를 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-126">The following CLI command can be used to determine the range of VM sizes available for an availability set: “az vm list-sizes --location \<string\>”</span></span>

<span data-ttu-id="49e16-127">각 하드웨어 클러스터는 여러 개의 업데이트 도메인 및 장애 도메인을 구분됩니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-127">Each hardware cluster is divided in to multiple update domains and fault domains.</span></span> <span data-ttu-id="49e16-128">이러한 도메인은 공통 업데이트 주기를 공유하거나 전력 및 네트워킹과 같은 비슷한 실제 인프라를 공유하는 호스트에 의해 정의됩니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-128">These domains are defined by what hosts share a common update cycle, or share similar physical infrastructure such as power and networking.</span></span> <span data-ttu-id="49e16-129">Azure는 가용성 및 내결함성을 유지하기 위해 가용성 집합 내의 VM을 도메인 간에 자동으로 분산합니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-129">Azure automatically distributes your VMs within an availability set across domains to maintain availability and fault tolerance.</span></span> <span data-ttu-id="49e16-130">가용성 집합 내의 응용 프로그램 크기와 VM 수에 따라, 사용하려는 도메인 수를 조정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-130">Depending on the size of your application and the number of VMs within an availability set, you can adjust the number of domains you wish to use.</span></span> <span data-ttu-id="49e16-131">[업데이트 및 장애 도메인의 가용성 및 사용 관리](manage-availability.md)에 대해 자세히 읽어보세요.</span><span class="sxs-lookup"><span data-stu-id="49e16-131">You can read more about [managing availability and use of update and fault domains](manage-availability.md).</span></span>

<span data-ttu-id="49e16-132">또한 응용 프로그램 인프라를 디자인할 때 사용할 응용 프로그램 계층을 계획합니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-132">When designing your application infrastructure, plan out the application tiers to use.</span></span> <span data-ttu-id="49e16-133">동일한 목적의 VM을 가용성 집합으로 그룹화합니다(예: nginx 또는 Apache를 실행하는 프런트 엔드 VM에 대한 가용성 집합).</span><span class="sxs-lookup"><span data-stu-id="49e16-133">Group VMs that serve the same purpose in to availability sets, such as an availability set for your front-end VMs running nginx or Apache.</span></span> <span data-ttu-id="49e16-134">MongoDB 또는 MySQL을 실행하는 백 엔드 VM에 대한 별도의 가용성 집합을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-134">Create a separate availability set for your back-end VMs running MongoDB or MySQL.</span></span> <span data-ttu-id="49e16-135">응용 프로그램의 각 구성 요소를 가용성 집합을 통해 보호하고 항상 하나 이상의 인스턴스가 실행 상태를 유지하도록 하는 것이 그 목표입니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-135">The goal is to ensure that each component of your application is protected by an availability set and at least once instance always remains running.</span></span>

<span data-ttu-id="49e16-136">각 응용 프로그램 계층 앞에서 부하 분산 장치를 사용하여 가용성 집합과 함께 작동되도록 하고, 항상 트래픽이 실행 중인 인스턴스로 라우팅되도록 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-136">Load balancers can be utilized in front of each application tier to work alongside an availability set and ensure traffic can always be routed to a running instance.</span></span> <span data-ttu-id="49e16-137">부하 분산 장치가 없어도 VM이 계획되거나 계획되지 않은 유지 관리 이벤트에서 계속 실행될 수 있지만 주 VM을 사용할 수 없는 경우 최종 사용자가 이러한 이벤트를 해결하지 못할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-137">Without a load balancer, your VMs may continue running throughout planned and unplanned maintenance events, but your end user may not be able to resolve them if the primary VM is unavailable.</span></span>

<span data-ttu-id="49e16-138">저장소 계층에서 고가용성을 위해 응용 프로그램을 디자인합니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-138">Design your application for high availability at storage layer.</span></span> <span data-ttu-id="49e16-139">가장 좋은 방법은 [가용성 집합의 VM에 Managed Disks를 사용](manage-availability.md#use-managed-disks-for-vms-in-an-availability-set)하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-139">The best practice is to [use Managed Disks for VMs in an Availability Set](manage-availability.md#use-managed-disks-for-vms-in-an-availability-set).</span></span> <span data-ttu-id="49e16-140">현재 관리되지 않는 디스크를 사용하는 경우 [가용성 집합에서 VM을 변환하여 Managed Disks를 사용](convert-unmanaged-to-managed-disks.md#convert-vms-in-an-availability-set)하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="49e16-140">If you are currently using unmanaged disks, we highly recommend you to [convert VMs in Availability Set to use Managed Disks](convert-unmanaged-to-managed-disks.md#convert-vms-in-an-availability-set).</span></span>

## <a name="next-steps"></a><span data-ttu-id="49e16-141">다음 단계</span><span class="sxs-lookup"><span data-stu-id="49e16-141">Next steps</span></span>
[!INCLUDE [virtual-machines-linux-infrastructure-guidelines-next-steps](../../../includes/virtual-machines-linux-infrastructure-guidelines-next-steps.md)]

