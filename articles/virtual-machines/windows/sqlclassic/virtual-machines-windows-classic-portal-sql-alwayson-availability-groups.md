---
title: "aaaConfigure Always On 가용성 그룹 Azure 가상 컴퓨터 (클래식)에서 | Microsoft Docs"
description: "Azure Virtual Machines로 Always On 가용성 그룹을 만듭니다. 이 자습서는 주로 hello 사용자 인터페이스 및 도구 보다는 스크립트를 사용합니다."
services: virtual-machines-windows
documentationcenter: na
author: MikeRayMSFT
manager: jhubbard
editor: 
tags: azure-service-management
ms.assetid: 8d48a3d2-79f8-4ab0-9327-2f30ee0b2ff1
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 03/17/2017
ms.author: mikeray
ms.openlocfilehash: f428ad994a55378c281c959f4696fdcaf50632b1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="configure-always-on-availability-group-in-azure-virtual-machines-classic"></a><span data-ttu-id="61bb0-104">Azure Virtual Machines의 Always On 가용성 그룹 구성(클래식)</span><span class="sxs-lookup"><span data-stu-id="61bb0-104">Configure Always On availability group in Azure Virtual Machines (classic)</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="61bb0-105">클래식: UI</span><span class="sxs-lookup"><span data-stu-id="61bb0-105">Classic: UI</span></span>](../classic/portal-sql-alwayson-availability-groups.md)
> * <span data-ttu-id="61bb0-106">[클래식: PowerShell](../classic/ps-sql-alwayson-availability-groups.md)
</span><span class="sxs-lookup"><span data-stu-id="61bb0-106">[Classic: PowerShell](../classic/ps-sql-alwayson-availability-groups.md)
</span></span><br/>

<span data-ttu-id="61bb0-107">시작하기 전에 이제 Azure Resource Manager 모델에서 이 작업을 완료할 수 있는지 확인하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-107">Before you begin, consider that you can now complete this task in Azure Resource Manager model.</span></span> <span data-ttu-id="61bb0-108">새 배포에는 Azure Resource Manager 모델을 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-108">We recommend Azure Resource Manager model for new deployments.</span></span> <span data-ttu-id="61bb0-109">[Azure Virtual Machines의 SQL Server Always On 가용성 그룹](../sql/virtual-machines-windows-portal-sql-availability-group-overview.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="61bb0-109">See [SQL Server Always On availability groups on Azure virtual machines](../sql/virtual-machines-windows-portal-sql-availability-group-overview.md).</span></span>

> [!IMPORTANT] 
> <span data-ttu-id="61bb0-110">대부분의 새로운 배포 hello 리소스 관리자 모델을 사용 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-110">Microsoft recommends that most new deployments use hello Resource Manager model.</span></span> <span data-ttu-id="61bb0-111">Azure는 두 개의 서로 다른 배포 모델 toocreate 및 리소스 사용: [리소스 관리자 및 기본](../../../azure-resource-manager/resource-manager-deployment-model.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-111">Azure has two different deployment models toocreate and work with resources: [Resource Manager and classic](../../../azure-resource-manager/resource-manager-deployment-model.md).</span></span> <span data-ttu-id="61bb0-112">이 문서에서는 toouse 클래식 배포 모델을 hello 하는 방법을 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-112">This article explains how toouse hello classic deployment model.</span></span> 

<span data-ttu-id="61bb0-113">toocomplete hello Azure 리소스 관리자 모델에서는이 작업 참조 [Azure 가상 컴퓨터에 SQL Server Always On 가용성 그룹](../sql/virtual-machines-windows-portal-sql-availability-group-overview.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-113">toocomplete this task with hello Azure Resource Manager model, see [SQL Server Always On availability groups on Azure virtual machines](../sql/virtual-machines-windows-portal-sql-availability-group-overview.md).</span></span>

<span data-ttu-id="61bb0-114">이 종단 간 자습서에서 사용 하 여 SQL Server 항상 Azure 가상 컴퓨터에서 실행 되 가용성 tooimplement 그룹화 하는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-114">This end-to-end tutorial shows you how tooimplement availability groups by using SQL Server Always On running on Azure Virtual Machines.</span></span>

<span data-ttu-id="61bb0-115">Hello 자습서의 hello 끝 요소 다음 hello Azure에서 SQL Server Always On 솔루션 구성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-115">At hello end of hello tutorial, your SQL Server Always On solution in Azure will consist of hello following elements:</span></span>

* <span data-ttu-id="61bb0-116">여러 서브넷과 프런트 엔드 및 백 엔드 서브넷을 포함하는 가상 네트워크</span><span class="sxs-lookup"><span data-stu-id="61bb0-116">A virtual network that contains multiple subnets and includes a frontend and a backend subnet</span></span>
* <span data-ttu-id="61bb0-117">Active Directory(Azure AD) 도메인을 포함한 도메인 컨트롤러</span><span class="sxs-lookup"><span data-stu-id="61bb0-117">A domain controller with an Active Directory (Azure AD) domain</span></span>
* <span data-ttu-id="61bb0-118">SQL Server를 실행 하 고 배포 된 toohello 백 엔드 서브넷 및 도메인에 가입된 toohello Azure AD는 두 개의 가상 컴퓨터</span><span class="sxs-lookup"><span data-stu-id="61bb0-118">Two virtual machines that run SQL Server and are deployed toohello backend subnet and joined toohello Azure AD domain</span></span>
* <span data-ttu-id="61bb0-119">Hello 노드 과반수 쿼럼 모델을 사용 하 여 3 개 노드 장애 조치 클러스터</span><span class="sxs-lookup"><span data-stu-id="61bb0-119">A three-node failover cluster with hello Node Majority quorum model</span></span>
* <span data-ttu-id="61bb0-120">가용성 데이터베이스의 두 개의 동기 커밋 복제본이 포함된 가용성 그룹</span><span class="sxs-lookup"><span data-stu-id="61bb0-120">An availability group that has two synchronous-commit replicas of an availability database</span></span>

<span data-ttu-id="61bb0-121">다음 그림 hello는 hello 솔루션의 그래픽 표현입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-121">hello following illustration is a graphical representation of hello solution.</span></span>

![Azure에서 가용성 그룹에 대한 테스트 랩 아키텍처](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC791912.png)

<span data-ttu-id="61bb0-123">이것은 가능한 구성 중 하나입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-123">Note that this is one possible configuration.</span></span> <span data-ttu-id="61bb0-124">예를 들어 hello 2 복제본 가용성 그룹에 대 한 가상 컴퓨터 수를 최소화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-124">For example, you can minimize hello number of virtual machines for a two-replica availability group.</span></span> <span data-ttu-id="61bb0-125">이 구성은 hello 2 개 노드 클러스터에서 쿼럼 파일 공유 감시로 hello 도메인 컨트롤러를 사용 하 여 Azure에서 계산 시간에 저장 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-125">This configuration saves on compute hours in Azure by using hello domain controller as hello quorum file share witness in a two-node cluster.</span></span> <span data-ttu-id="61bb0-126">이 메서드는 hello 설명 구성에서 씩 hello 가상 컴퓨터 수를 줄입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-126">This method reduces hello virtual machine count by one from hello illustrated configuration.</span></span>

<span data-ttu-id="61bb0-127">이 자습서에서는 hello 다음을 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-127">This tutorial assumes hello following:</span></span>

* <span data-ttu-id="61bb0-128">Azure 계정이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-128">You already have an Azure account.</span></span>
* <span data-ttu-id="61bb0-129">이미 어떻게 toouse hello GUI hello 가상 컴퓨터 갤러리 tooprovision에서 SQL Server를 실행 하는 클래식 가상 컴퓨터를 알고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-129">You already know how toouse hello GUI in hello virtual machine gallery tooprovision a classic virtual machine that runs SQL Server.</span></span>
* <span data-ttu-id="61bb0-130">Always On 가용성 그룹을 확실하게 이해하고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-130">You already have a solid understanding of Always On availability groups.</span></span> <span data-ttu-id="61bb0-131">자세한 내용은 [Always On 가용성 그룹(SQL Server)](https://msdn.microsoft.com/library/hh510230.aspx)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="61bb0-131">For more information, see [Always On Availability Groups (SQL Server)](https://msdn.microsoft.com/library/hh510230.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="61bb0-132">SharePoint와 Always On 가용성 그룹을 사용하는 것에 관심이 있는 경우 [Configure SQL Server 2012 Always On Availability Groups for SharePoint 2013](https://technet.microsoft.com/library/jj715261.aspx)(SharePoint 2013에 대해 SQL Server 2012 Always On 가용성 그룹 구성)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="61bb0-132">If you are interested in using Always On availability groups with SharePoint, also see [Configure SQL Server 2012 Always On Availability Groups for SharePoint 2013](https://technet.microsoft.com/library/jj715261.aspx).</span></span>
> 
> 

## <a name="create-hello-virtual-network-and-domain-controller-server"></a><span data-ttu-id="61bb0-133">Hello 가상 네트워크 및 도메인 컨트롤러 서버 만들기</span><span class="sxs-lookup"><span data-stu-id="61bb0-133">Create hello virtual network and domain controller server</span></span>
<span data-ttu-id="61bb0-134">새로운 Azure 평가판 계정으로 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-134">You begin with a new Azure trial account.</span></span> <span data-ttu-id="61bb0-135">계정을 설정한 후 hello hello Azure 클래식 포털의 홈 화면에 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-135">After you set up your account, you should be on hello home screen of hello Azure classic portal.</span></span>

1. <span data-ttu-id="61bb0-136">Hello 클릭 **새로** hello hello 다음 스크린 샷에서 같이 hello 페이지 아래쪽의 hello 왼쪽된 모서리에 있는 단추입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-136">Click hello **New** button at hello left corner of hello bottom of hello page, as shown in hello following screenshot.</span></span>
   
    ![Hello 포털에서 새로 만들기를 클릭 합니다.](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665511.gif)
2. <span data-ttu-id="61bb0-138">클릭 **네트워크 서비스** > **가상 네트워크** > **사용자 지정 만들기**hello 스크린 샷 뒤에 나타난 것 처럼 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-138">Click **Network Services** > **Virtual Network** > **Custom Create**, as shown in hello following screenshot.</span></span>
   
    ![가상 네트워크 만들기](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665512.gif)
3. <span data-ttu-id="61bb0-140">Hello에 **가상 네트워크 만들기** 대화 상자, hello 페이지를 단계별로 실행 하 고 다음 표에 hello의 hello 설정을 사용 하 여 새 가상 네트워크를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-140">In hello **CREATE A VIRTUAL NETWORK** dialog box, create a new virtual network by stepping through hello pages and using hello settings in hello following table.</span></span> 
   
   | <span data-ttu-id="61bb0-141">Page</span><span class="sxs-lookup"><span data-stu-id="61bb0-141">Page</span></span> | <span data-ttu-id="61bb0-142">설정</span><span class="sxs-lookup"><span data-stu-id="61bb0-142">Settings</span></span> |
   | --- | --- |
   | <span data-ttu-id="61bb0-143">가상 네트워크 세부 정보</span><span class="sxs-lookup"><span data-stu-id="61bb0-143">Virtual Network Details</span></span> |<span data-ttu-id="61bb0-144">**이름 = ContosoNET**</span><span class="sxs-lookup"><span data-stu-id="61bb0-144">**NAME = ContosoNET**</span></span><br/><span data-ttu-id="61bb0-145">**지역 = 미국 서부**</span><span class="sxs-lookup"><span data-stu-id="61bb0-145">**REGION = West US**</span></span> |
   | <span data-ttu-id="61bb0-146">DNS 서버 및 VPN 연결</span><span class="sxs-lookup"><span data-stu-id="61bb0-146">DNS Servers and VPN Connectivity</span></span> |<span data-ttu-id="61bb0-147">없음</span><span class="sxs-lookup"><span data-stu-id="61bb0-147">None</span></span> |
   | <span data-ttu-id="61bb0-148">가상 네트워크 주소 공간</span><span class="sxs-lookup"><span data-stu-id="61bb0-148">Virtual Network Address Spaces</span></span> |<span data-ttu-id="61bb0-149">설정은 다음 스크린 샷 hello에 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-149">Settings are shown in hello following screenshot:</span></span> ![가상 네트워크 만들기](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784620.png) |
4. <span data-ttu-id="61bb0-151">Hello 도메인 컨트롤러 (DC)으로 사용할 hello 가상 컴퓨터를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-151">Create hello virtual machine that you will use as hello domain controller (DC).</span></span> <span data-ttu-id="61bb0-152">클릭 **새로** > **계산** > **가상 컴퓨터** > **갤러리에서**에 나타난 것 처럼 다음 스크린 샷 번호입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-152">Click **New** > **Compute** > **Virtual Machine** > **From Gallery**, as shown in hello following screenshot.</span></span>
   
    ![가상 컴퓨터 만들기](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784621.png)
5. <span data-ttu-id="61bb0-154">Hello에 **가상 컴퓨터 만들기** 대화 상자, hello 페이지를 단계별로 실행 하 고 다음 표에 hello의 hello 설정을 사용 하 여 새 가상 컴퓨터를 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-154">In hello **CREATE A VIRTUAL MACHINE** dialog box, configure a new virtual machine by stepping through hello pages and using hello settings in hello following table.</span></span> 
   
   | <span data-ttu-id="61bb0-155">Page</span><span class="sxs-lookup"><span data-stu-id="61bb0-155">Page</span></span> | <span data-ttu-id="61bb0-156">설정</span><span class="sxs-lookup"><span data-stu-id="61bb0-156">Settings</span></span> |
   | --- | --- |
   | <span data-ttu-id="61bb0-157">Hello 가상 컴퓨터 운영 체제를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-157">Select hello virtual machine operating system</span></span> |<span data-ttu-id="61bb0-158">Windows Server 2012 R2 Datacenter</span><span class="sxs-lookup"><span data-stu-id="61bb0-158">Windows Server 2012 R2 Datacenter</span></span> |
   | <span data-ttu-id="61bb0-159">가상 컴퓨터 구성</span><span class="sxs-lookup"><span data-stu-id="61bb0-159">Virtual machine configuration</span></span> |<span data-ttu-id="61bb0-160">**버전 릴리스 날짜** = (latest)</span><span class="sxs-lookup"><span data-stu-id="61bb0-160">**VERSION RELEASE DATE** = (latest)</span></span><br/><span data-ttu-id="61bb0-161">**가상 컴퓨터 이름** = ContosoDC</span><span class="sxs-lookup"><span data-stu-id="61bb0-161">**VIRTUAL MACHINE NAME** = ContosoDC</span></span><br/><span data-ttu-id="61bb0-162">**계층** = 표준</span><span class="sxs-lookup"><span data-stu-id="61bb0-162">**TIER** = STANDARD</span></span><br/><span data-ttu-id="61bb0-163">**크기** = A2(2코어)</span><span class="sxs-lookup"><span data-stu-id="61bb0-163">**SIZE** = A2 (2 cores)</span></span><br/><span data-ttu-id="61bb0-164">**새 사용자 이름** = AzureAdmin</span><span class="sxs-lookup"><span data-stu-id="61bb0-164">**NEW USER NAME** = AzureAdmin</span></span><br/><span data-ttu-id="61bb0-165">**새 암호** = Contoso!000</span><span class="sxs-lookup"><span data-stu-id="61bb0-165">**NEW PASSWORD** = Contoso!000</span></span><br/><span data-ttu-id="61bb0-166">**확인** = Contoso!000</span><span class="sxs-lookup"><span data-stu-id="61bb0-166">**CONFIRM** = Contoso!000</span></span> |
   | <span data-ttu-id="61bb0-167">가상 컴퓨터 구성</span><span class="sxs-lookup"><span data-stu-id="61bb0-167">Virtual machine configuration</span></span> |<span data-ttu-id="61bb0-168">**클라우드 서비스** = 새 클라우드 서비스 만들기</span><span class="sxs-lookup"><span data-stu-id="61bb0-168">**CLOUD SERVICE** = Create a new cloud service</span></span><br/><span data-ttu-id="61bb0-169">**클라우드 서비스 DNS 이름** = 고유한 클라우드 서비스 이름</span><span class="sxs-lookup"><span data-stu-id="61bb0-169">**CLOUD SERVICE DNS NAME** = A unique cloud service name</span></span><br/><span data-ttu-id="61bb0-170">**DNS 이름** = 고유 이름(예: ContosoDC123)</span><span class="sxs-lookup"><span data-stu-id="61bb0-170">**DNS NAME** = A unique name (ex: ContosoDC123)</span></span><br/><span data-ttu-id="61bb0-171">**지역/선호도 그룹/가상 네트워크** = ContosoNET</span><span class="sxs-lookup"><span data-stu-id="61bb0-171">**REGION/AFFINITY GROUP/VIRTUAL NETWORK** = ContosoNET</span></span><br/><span data-ttu-id="61bb0-172">**가상 네트워크 서브넷** = Back(10.10.2.0/24)</span><span class="sxs-lookup"><span data-stu-id="61bb0-172">**VIRTUAL NETWORK SUBNETS** = Back(10.10.2.0/24)</span></span><br/><span data-ttu-id="61bb0-173"> **계정** = 자동으로 생성된 Storage 계정 사용</span><span class="sxs-lookup"><span data-stu-id="61bb0-173">**STORAGE ACCOUNT** = Use an automatically generated storage account</span></span><br/><span data-ttu-id="61bb0-174">**가용성 집합** = (없음)</span><span class="sxs-lookup"><span data-stu-id="61bb0-174">**AVAILABILITY SET** = (None)</span></span> |
   | <span data-ttu-id="61bb0-175">가상 컴퓨터 옵션</span><span class="sxs-lookup"><span data-stu-id="61bb0-175">Virtual machine options</span></span> |<span data-ttu-id="61bb0-176">기본값 사용</span><span class="sxs-lookup"><span data-stu-id="61bb0-176">Use defaults</span></span> |

<span data-ttu-id="61bb0-177">Hello 새 가상 컴퓨터를 구성한 후 hello 가상 컴퓨터 toobe이 프로 비전 될 때까지 기다립니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-177">After you configure hello new virtual machine, wait for hello virtual machine toobe provsioned.</span></span> <span data-ttu-id="61bb0-178">이 프로세스는 몇 가지 시간 toofinish를 걸립니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-178">This process takes some time toofinish.</span></span> <span data-ttu-id="61bb0-179">Hello를 누르면 **가상 컴퓨터** 탭 hello Azure 클래식 포털에서 볼 수 있습니다에서 ContosoDC 순환 상태가 **시작 (프로 비전)** 너무**Stopped**, **시작**, **실행 중 (프로 비전)**, 마지막으로 **실행**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-179">If you click hello **Virtual Machine** tab in hello Azure classic portal, you can see ContosoDC cycling states from **Starting (Provisioning)** too**Stopped**, **Starting**, **Running (Provisioning)**, and finally **Running**.</span></span>

<span data-ttu-id="61bb0-180">hello DC 서버가 이제 구축 했습니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-180">hello DC server is now successfully provisioned.</span></span> <span data-ttu-id="61bb0-181">다음으로,이 DC 서버에는 hello Active Directory 도메인을 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-181">Next, you will configure hello Active Directory domain on this DC server.</span></span>

## <a name="configure-hello-domain-controller"></a><span data-ttu-id="61bb0-182">Hello 도메인 컨트롤러 구성</span><span class="sxs-lookup"><span data-stu-id="61bb0-182">Configure hello domain controller</span></span>
<span data-ttu-id="61bb0-183">다음 단계는 hello, corp.contoso.com에 대 한 도메인 컨트롤러로 hello ContosoDC 컴퓨터를 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-183">In hello following steps, you configure hello ContosoDC machine as a domain controller for corp.contoso.com.</span></span>

1. <span data-ttu-id="61bb0-184">Hello 포털에서 선택 hello **ContosoDC** 컴퓨터입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-184">In hello portal, select hello **ContosoDC** machine.</span></span> <span data-ttu-id="61bb0-185">Hello에 **대시보드** 탭을 클릭 **연결** tooopen 원격 데스크톱 액세스에 대 한 원격 데스크톱 (RDP) 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-185">On hello **Dashboard** tab, click **Connect** tooopen a remote desktop (RDP) file for remote desktop access.</span></span>
   
    ![TooVritual 컴퓨터 연결](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784622.png)
2. <span data-ttu-id="61bb0-187">구성된 관리자 계정(**\AzureAdmin**) 및 암호(**Contoso!000**)로 로그인합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-187">Sign in with your configured administrator account (**\AzureAdmin**) and password (**Contoso!000**).</span></span>
3. <span data-ttu-id="61bb0-188">기본적으로 hello **서버 관리자** 대시보드가 표시 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-188">By default, hello **Server Manager** dashboard should be displayed.</span></span>
4. <span data-ttu-id="61bb0-189">Hello 클릭 **역할 및 기능 추가** hello 대시보드에서 링크 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-189">Click hello **Add roles and features** link on hello dashboard.</span></span>
   
    ![서버 탐색기 역할 추가](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784623.png)
5. <span data-ttu-id="61bb0-191">클릭 **다음** toohello에 도달할 때까지 **서버 역할** 섹션.</span><span class="sxs-lookup"><span data-stu-id="61bb0-191">Click **Next** until you get toohello **Server Roles** section.</span></span>
6. <span data-ttu-id="61bb0-192">선택 hello **Active Directory 도메인 서비스** 및 **DNS 서버** 역할입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-192">Select hello **Active Directory Domain Services** and **DNS Server** roles.</span></span> <span data-ttu-id="61bb0-193">메시지가 표시되면 이러한 역할에 필요한 기능을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-193">When prompted, add more features that these roles require.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="61bb0-194">고정 IP 주소가 없다는 유효성 검사 경고 페이지가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-194">You will get a validation warning that there is no static IP address.</span></span> <span data-ttu-id="61bb0-195">Hello 구성을 테스트 하는 경우 클릭 **계속**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-195">If you are testing hello configuration, click **Continue**.</span></span> <span data-ttu-id="61bb0-196">프로덕션 시나리오에 대 한 [hello 도메인 컨트롤러 컴퓨터의 PowerShell tooset hello 고정 IP 주소를 사용 하 여](../../../virtual-network/virtual-networks-reserved-private-ip.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-196">For production scenarios [use PowerShell tooset hello static IP address of hello domain controller machine](../../../virtual-network/virtual-networks-reserved-private-ip.md).</span></span>
   > 
   > 
   
    ![역할 추가 대화 상자](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784624.png)
7. <span data-ttu-id="61bb0-198">클릭 **다음** hello에 도달할 때까지 **확인** 섹션.</span><span class="sxs-lookup"><span data-stu-id="61bb0-198">Click **Next** until you reach hello **Confirmation** section.</span></span> <span data-ttu-id="61bb0-199">선택 hello **필요한 경우 자동으로 hello 대상 서버 다시 시작** 확인란 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-199">Select hello **Restart hello destination server automatically if required** check box.</span></span>
8. <span data-ttu-id="61bb0-200">**Install**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-200">Click **Install**.</span></span>
9. <span data-ttu-id="61bb0-201">Hello 기능이 설치 된 후 반환 toohello **서버 관리자** 대시보드 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-201">After hello features are installed, return toohello **Server Manager** dashboard.</span></span>
10. <span data-ttu-id="61bb0-202">새 선택 hello **AD DS** hello 왼쪽된 창에서 옵션입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-202">Select hello new **AD DS** option on hello left pane.</span></span>
11. <span data-ttu-id="61bb0-203">Hello 클릭 **자세한** hello 노란색 경고 표시줄에 링크 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-203">Click hello **More** link on hello yellow warning bar.</span></span>
    
     ![DNS 서버 가상 컴퓨터의 AD DS 대화 상자](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784625.png)
12. <span data-ttu-id="61bb0-205">Hello에 **동작** hello의 열 **모든 서버에 대 한 작업 세부 정보** 대화 상자를 클릭 **이 서버 tooa 도메인 컨트롤러의 수준을 올린**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-205">In hello **Action** column of hello **All Server Task Details** dialog box, click **Promote this server tooa domain controller**.</span></span>
13. <span data-ttu-id="61bb0-206">Hello에 **Active Directory 도메인 서비스 구성 마법사**를 다음 값에는 hello를 사용 하 여:</span><span class="sxs-lookup"><span data-stu-id="61bb0-206">In hello **Active Directory Domain Services Configuration Wizard**, use hello following values:</span></span>
    
    | <span data-ttu-id="61bb0-207">Page</span><span class="sxs-lookup"><span data-stu-id="61bb0-207">Page</span></span> | <span data-ttu-id="61bb0-208">설정</span><span class="sxs-lookup"><span data-stu-id="61bb0-208">Setting</span></span> |
    | --- | --- |
    | <span data-ttu-id="61bb0-209">배포 구성</span><span class="sxs-lookup"><span data-stu-id="61bb0-209">Deployment Configuration</span></span> |<span data-ttu-id="61bb0-210">**새 포리스트 추가** = 선택됨</span><span class="sxs-lookup"><span data-stu-id="61bb0-210">**Add a new forest** = Selected</span></span><br/><span data-ttu-id="61bb0-211">**루트 도메인 이름** = corp.contoso.com</span><span class="sxs-lookup"><span data-stu-id="61bb0-211">**Root domain name** = corp.contoso.com</span></span> |
    | <span data-ttu-id="61bb0-212">도메인 컨트롤러 옵션</span><span class="sxs-lookup"><span data-stu-id="61bb0-212">Domain Controller Options</span></span> |<span data-ttu-id="61bb0-213">**암호** = Contoso!000</span><span class="sxs-lookup"><span data-stu-id="61bb0-213">**Password** = Contoso!000</span></span><br/><span data-ttu-id="61bb0-214">**암호 확인** = Contoso!000</span><span class="sxs-lookup"><span data-stu-id="61bb0-214">**Confirm Password** = Contoso!000</span></span> |
14. <span data-ttu-id="61bb0-215">클릭 **다음** 통해 toogo hello hello 마법사의 다른 페이지.</span><span class="sxs-lookup"><span data-stu-id="61bb0-215">Click **Next** toogo through hello other pages in hello wizard.</span></span> <span data-ttu-id="61bb0-216">Hello에 **필수 구성 요소 확인** 페이지, hello 메시지의 뒤에 표시 되는지 확인: **모든 필수 구성 요소 검사를 통과 했습니다**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-216">On hello **Prerequisites Check** page, verify that you see hello following message: **All prerequisite checks passed successfully**.</span></span> <span data-ttu-id="61bb0-217">적용 가능한 모든 경고 메시지를 검토 해야 하지만 hello 설치 가능한 toocontinue는 note 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-217">Note that you should review all applicable warning messages, but it is possible toocontinue with hello installation.</span></span>
15. <span data-ttu-id="61bb0-218">**Install**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-218">Click **Install**.</span></span> <span data-ttu-id="61bb0-219">hello **ContosoDC** 가상 컴퓨터 자동으로 재부팅 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-219">hello **ContosoDC** virtual machine will automatically reboot.</span></span>

## <a name="configure-domain-accounts"></a><span data-ttu-id="61bb0-220">도메인 계정 구성</span><span class="sxs-lookup"><span data-stu-id="61bb0-220">Configure domain accounts</span></span>
<span data-ttu-id="61bb0-221">hello 다음 단계에는 나중에 사용할 hello Active Directory 계정을 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-221">hello next steps configure hello Active Directory accounts for later use.</span></span>

1. <span data-ttu-id="61bb0-222">다시 로그인 toohello **ContosoDC** 컴퓨터입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-222">Sign back in toohello **ContosoDC** machine.</span></span>
2. <span data-ttu-id="61bb0-223">**서버 관리자**에서 **도구** > **Active Directory 관리 센터**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-223">In **Server Manager**, click **Tools** > **Active Directory Administrative Center**.</span></span>
   
    ![Active Directory 관리 센터](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784626.png)
3. <span data-ttu-id="61bb0-225">Hello에 **Active Directory 관리 센터**선택, **corp (로컬)** hello 왼쪽된 창에서.</span><span class="sxs-lookup"><span data-stu-id="61bb0-225">In hello **Active Directory Administrative Center**, select **corp (local)** in hello left pane.</span></span>
4. <span data-ttu-id="61bb0-226">Hello 오른쪽에 **작업** 창에서 클릭 **새로** > **사용자**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-226">On hello right **Tasks** pane, click **New** > **User**.</span></span> <span data-ttu-id="61bb0-227">다음 설정을 사용 하 여 hello:</span><span class="sxs-lookup"><span data-stu-id="61bb0-227">Use hello following settings:</span></span>
   
   | <span data-ttu-id="61bb0-228">설정</span><span class="sxs-lookup"><span data-stu-id="61bb0-228">Setting</span></span> | <span data-ttu-id="61bb0-229">값</span><span class="sxs-lookup"><span data-stu-id="61bb0-229">Value</span></span> |
   | --- | --- |
   | <span data-ttu-id="61bb0-230">**이름**</span><span class="sxs-lookup"><span data-stu-id="61bb0-230">**First Name**</span></span> |<span data-ttu-id="61bb0-231">Install</span><span class="sxs-lookup"><span data-stu-id="61bb0-231">Install</span></span> |
   | <span data-ttu-id="61bb0-232">**사용자 SamAccountName**</span><span class="sxs-lookup"><span data-stu-id="61bb0-232">**User SamAccountName**</span></span> |<span data-ttu-id="61bb0-233">Install</span><span class="sxs-lookup"><span data-stu-id="61bb0-233">Install</span></span> |
   | <span data-ttu-id="61bb0-234">**암호**</span><span class="sxs-lookup"><span data-stu-id="61bb0-234">**Password**</span></span> |<span data-ttu-id="61bb0-235">Contoso!000</span><span class="sxs-lookup"><span data-stu-id="61bb0-235">Contoso!000</span></span> |
   | <span data-ttu-id="61bb0-236">**암호 확인**</span><span class="sxs-lookup"><span data-stu-id="61bb0-236">**Confirm password**</span></span> |<span data-ttu-id="61bb0-237">Contoso!000</span><span class="sxs-lookup"><span data-stu-id="61bb0-237">Contoso!000</span></span> |
   | <span data-ttu-id="61bb0-238">**기타 암호 옵션**</span><span class="sxs-lookup"><span data-stu-id="61bb0-238">**Other password options**</span></span> |<span data-ttu-id="61bb0-239">선택</span><span class="sxs-lookup"><span data-stu-id="61bb0-239">Selected</span></span> |
   | <span data-ttu-id="61bb0-240">**암호 사용 기간 제한 없음**</span><span class="sxs-lookup"><span data-stu-id="61bb0-240">**Password never expires**</span></span> |<span data-ttu-id="61bb0-241">선택</span><span class="sxs-lookup"><span data-stu-id="61bb0-241">Checked</span></span> |
5. <span data-ttu-id="61bb0-242">클릭 **확인** toocreate hello **설치** 사용자입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-242">Click **OK** toocreate hello **Install** user.</span></span> <span data-ttu-id="61bb0-243">이 계정에 사용 되는 tooconfigure hello 클러스터와 hello 가용성 그룹 장애 조치 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-243">This account will be used tooconfigure hello failover cluster and hello availability group.</span></span>
6. <span data-ttu-id="61bb0-244">두 개의 추가 사용자를 만들고 **CORP\SQLSvc1** 및 **CORP\SQLSvc2**, hello로 동일한 단계입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-244">Create two additional users, **CORP\SQLSvc1** and **CORP\SQLSvc2**, with hello same steps.</span></span> <span data-ttu-id="61bb0-245">이러한 계정은 hello SQL Server 인스턴스에 대해 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-245">These accounts will be used for hello SQL Server instances.</span></span> <span data-ttu-id="61bb0-246">다음으로, toogive 해야 **CORP\Install** hello 필요한 권한을 tooconfigure Windows 장애 조치 클러스터링 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-246">Next, you need toogive **CORP\Install** hello necessary permissions tooconfigure Windows failover clustering.</span></span>
7. <span data-ttu-id="61bb0-247">Hello에 **Active Directory 관리 센터**, 클릭 **corp (로컬)** hello 왼쪽된 창에서.</span><span class="sxs-lookup"><span data-stu-id="61bb0-247">In hello **Active Directory Administrative Center**, click **corp (local)** in hello left pane.</span></span> <span data-ttu-id="61bb0-248">Hello에 **작업** 창에서 클릭 **속성**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-248">In hello **Tasks** pane, click **Properties**.</span></span>
   
    ![CORP 사용자 속성](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784627.png)
8. <span data-ttu-id="61bb0-250">선택 **확장**, hello를 클릭 한 다음 **고급** hello 단추 **보안** 탭 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-250">Select **Extensions**, and then click hello **Advanced** button on hello **Security** tab.</span></span>
9. <span data-ttu-id="61bb0-251">Hello에 **회사의 고급 보안 설정** 대화 상자를 클릭 **추가**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-251">In hello **Advanced Security Settings for corp** dialog box, click **Add**.</span></span>
10. <span data-ttu-id="61bb0-252">**보안 주체 선택**을 클릭하고, **CORP\Install**을 검색하고 나서, **확인**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-252">Click **Select a principal**, search for **CORP\Install**, and then click **OK**.</span></span>
11. <span data-ttu-id="61bb0-253">선택 hello **모든 속성 읽기** 및 **컴퓨터 개체 만들기** 사용 권한.</span><span class="sxs-lookup"><span data-stu-id="61bb0-253">Select hello **Read all properties** and **Create Computer objects** permissions.</span></span>
    
     ![Corp 사용자 권한](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784628.png)
12. <span data-ttu-id="61bb0-255">**확인**을 클릭한 후 **확인**을 한 번 더 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-255">Click **OK**, and then click **OK** again.</span></span> <span data-ttu-id="61bb0-256">닫기 hello corp 속성 창입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-256">Close hello corp properties window.</span></span>

<span data-ttu-id="61bb0-257">Active Directory와 hello 사용자 개체를 구성 했으므로 세 개의 SQL Server 가상 컴퓨터를 만들고 쿼리하고 toothis 도메인에 가입 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-257">Now that you configured Active Directory and hello user objects, you will create three SQL Server virtual machines and join them toothis domain.</span></span>

## <a name="create-hello-sql-server-virtual-machines"></a><span data-ttu-id="61bb0-258">Hello SQL Server 가상 컴퓨터 만들기</span><span class="sxs-lookup"><span data-stu-id="61bb0-258">Create hello SQL Server virtual machines</span></span>
<span data-ttu-id="61bb0-259">3개의 가상 컴퓨터를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-259">Create three virtual machines.</span></span> <span data-ttu-id="61bb0-260">하나는 클러스터 노드에 사용되고 두 개는 SQL Server에 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-260">One is for a cluster node and two are for SQL Server.</span></span> <span data-ttu-id="61bb0-261">toohello Azure 클래식 포털을 다시 클릭 합니다. 각 toocreate hello 가상 컴퓨터의 이동 **새로** > **계산** > **가상 컴퓨터**  >  **갤러리에서**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-261">toocreate each of hello virtual machines, go back toohello Azure classic portal, click **New** > **Compute** > **Virtual Machine** > **From Gallery**.</span></span> <span data-ttu-id="61bb0-262">그런 다음 다음 hello 가상 컴퓨터를 만들 테이블 toohelp hello hello 템플릿을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-262">Then, use hello templates in hello following table toohelp you create hello virtual machines.</span></span>

| <span data-ttu-id="61bb0-263">Page</span><span class="sxs-lookup"><span data-stu-id="61bb0-263">Page</span></span> | <span data-ttu-id="61bb0-264">VM1</span><span class="sxs-lookup"><span data-stu-id="61bb0-264">VM1</span></span> | <span data-ttu-id="61bb0-265">VM2</span><span class="sxs-lookup"><span data-stu-id="61bb0-265">VM2</span></span> | <span data-ttu-id="61bb0-266">VM3</span><span class="sxs-lookup"><span data-stu-id="61bb0-266">VM3</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="61bb0-267">Hello 가상 컴퓨터 운영 체제를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-267">Select hello virtual machine operating system</span></span> |<span data-ttu-id="61bb0-268">**Windows Server 2012 R2 Datacenter**</span><span class="sxs-lookup"><span data-stu-id="61bb0-268">**Windows Server 2012 R2 Datacenter**</span></span> |<span data-ttu-id="61bb0-269">**SQL Server 2014 RTM Enterprise**</span><span class="sxs-lookup"><span data-stu-id="61bb0-269">**SQL Server 2014 RTM Enterprise**</span></span> |<span data-ttu-id="61bb0-270">**SQL Server 2014 RTM Enterprise**</span><span class="sxs-lookup"><span data-stu-id="61bb0-270">**SQL Server 2014 RTM Enterprise**</span></span> |
| <span data-ttu-id="61bb0-271">가상 컴퓨터 구성</span><span class="sxs-lookup"><span data-stu-id="61bb0-271">Virtual machine configuration</span></span> |<span data-ttu-id="61bb0-272">**버전 릴리스 날짜** = (latest)</span><span class="sxs-lookup"><span data-stu-id="61bb0-272">**VERSION RELEASE DATE** = (latest)</span></span><br/><span data-ttu-id="61bb0-273">**가상 컴퓨터 이름** = ContosoWSFCNode</span><span class="sxs-lookup"><span data-stu-id="61bb0-273">**VIRTUAL MACHINE NAME** = ContosoWSFCNode</span></span><br/><span data-ttu-id="61bb0-274">**계층** = 표준</span><span class="sxs-lookup"><span data-stu-id="61bb0-274">**TIER** = STANDARD</span></span><br/><span data-ttu-id="61bb0-275">**크기** = A2(2코어)</span><span class="sxs-lookup"><span data-stu-id="61bb0-275">**SIZE** = A2 (2 cores)</span></span><br/><span data-ttu-id="61bb0-276">**새 사용자 이름** = AzureAdmin</span><span class="sxs-lookup"><span data-stu-id="61bb0-276">**NEW USER NAME** = AzureAdmin</span></span><br/><span data-ttu-id="61bb0-277">**새 암호** = Contoso!000</span><span class="sxs-lookup"><span data-stu-id="61bb0-277">**NEW PASSWORD** = Contoso!000</span></span><br/><span data-ttu-id="61bb0-278">**확인** = Contoso!000</span><span class="sxs-lookup"><span data-stu-id="61bb0-278">**CONFIRM** = Contoso!000</span></span> |<span data-ttu-id="61bb0-279">**버전 릴리스 날짜** = (latest)</span><span class="sxs-lookup"><span data-stu-id="61bb0-279">**VERSION RELEASE DATE** = (latest)</span></span><br/><span data-ttu-id="61bb0-280">**가상 컴퓨터 이름** = ContosoSQL1</span><span class="sxs-lookup"><span data-stu-id="61bb0-280">**VIRTUAL MACHINE NAME** = ContosoSQL1</span></span><br/><span data-ttu-id="61bb0-281">**계층** = 표준</span><span class="sxs-lookup"><span data-stu-id="61bb0-281">**TIER** = STANDARD</span></span><br/><span data-ttu-id="61bb0-282">**크기** = A3(4코어)</span><span class="sxs-lookup"><span data-stu-id="61bb0-282">**SIZE** = A3 (4 cores)</span></span><br/><span data-ttu-id="61bb0-283">**새 사용자 이름** = AzureAdmin</span><span class="sxs-lookup"><span data-stu-id="61bb0-283">**NEW USER NAME** = AzureAdmin</span></span><br/><span data-ttu-id="61bb0-284">**새 암호** = Contoso!000</span><span class="sxs-lookup"><span data-stu-id="61bb0-284">**NEW PASSWORD** = Contoso!000</span></span><br/><span data-ttu-id="61bb0-285">**확인** = Contoso!000</span><span class="sxs-lookup"><span data-stu-id="61bb0-285">**CONFIRM** = Contoso!000</span></span> |<span data-ttu-id="61bb0-286">**버전 릴리스 날짜** = (latest)</span><span class="sxs-lookup"><span data-stu-id="61bb0-286">**VERSION RELEASE DATE** = (latest)</span></span><br/><span data-ttu-id="61bb0-287">**가상 컴퓨터 이름** = ContosoSQL2</span><span class="sxs-lookup"><span data-stu-id="61bb0-287">**VIRTUAL MACHINE NAME** = ContosoSQL2</span></span><br/><span data-ttu-id="61bb0-288">**계층** = 표준</span><span class="sxs-lookup"><span data-stu-id="61bb0-288">**TIER** = STANDARD</span></span><br/><span data-ttu-id="61bb0-289">**크기** = A3(4코어)</span><span class="sxs-lookup"><span data-stu-id="61bb0-289">**SIZE** = A3 (4 cores)</span></span><br/><span data-ttu-id="61bb0-290">**새 사용자 이름** = AzureAdmin</span><span class="sxs-lookup"><span data-stu-id="61bb0-290">**NEW USER NAME** = AzureAdmin</span></span><br/><span data-ttu-id="61bb0-291">**새 암호** = Contoso!000</span><span class="sxs-lookup"><span data-stu-id="61bb0-291">**NEW PASSWORD** = Contoso!000</span></span><br/><span data-ttu-id="61bb0-292">**확인** = Contoso!000</span><span class="sxs-lookup"><span data-stu-id="61bb0-292">**CONFIRM** = Contoso!000</span></span> |
| <span data-ttu-id="61bb0-293">가상 컴퓨터 구성</span><span class="sxs-lookup"><span data-stu-id="61bb0-293">Virtual machine configuration</span></span> |<span data-ttu-id="61bb0-294">**클라우드 서비스** = 이전에 만든 고유한 클라우드 서비스 DNS 이름(예: ContosoDC123)</span><span class="sxs-lookup"><span data-stu-id="61bb0-294">**CLOUD SERVICE** = Previously Created Unique Cloud Service DNS Name (ex: ContosoDC123)</span></span><br/><span data-ttu-id="61bb0-295">**지역/선호도 그룹/가상 네트워크** = ContosoNET</span><span class="sxs-lookup"><span data-stu-id="61bb0-295">**REGION/AFFINITY GROUP/VIRTUAL NETWORK** = ContosoNET</span></span><br/><span data-ttu-id="61bb0-296">**가상 네트워크 서브넷** = Back(10.10.2.0/24)</span><span class="sxs-lookup"><span data-stu-id="61bb0-296">**VIRTUAL NETWORK SUBNETS** = Back(10.10.2.0/24)</span></span><br/><span data-ttu-id="61bb0-297"> **계정** = 자동으로 생성된 Storage 계정 사용</span><span class="sxs-lookup"><span data-stu-id="61bb0-297">**STORAGE ACCOUNT** = Use an automatically generated storage account</span></span><br/><span data-ttu-id="61bb0-298">**가용성 집합** = 가용성 집합 만들기</span><span class="sxs-lookup"><span data-stu-id="61bb0-298">**AVAILABILITY SET** = Create an availability set</span></span><br/><span data-ttu-id="61bb0-299">**가용성 집합 이름** = SQLHADR</span><span class="sxs-lookup"><span data-stu-id="61bb0-299">**AVAILABILITY SET NAME** = SQLHADR</span></span> |<span data-ttu-id="61bb0-300">**클라우드 서비스** = 이전에 만든 고유한 클라우드 서비스 DNS 이름(예: ContosoDC123)</span><span class="sxs-lookup"><span data-stu-id="61bb0-300">**CLOUD SERVICE** = Previously Created Unique Cloud Service DNS Name (ex: ContosoDC123)</span></span><br/><span data-ttu-id="61bb0-301">**지역/선호도 그룹/가상 네트워크** = ContosoNET</span><span class="sxs-lookup"><span data-stu-id="61bb0-301">**REGION/AFFINITY GROUP/VIRTUAL NETWORK** = ContosoNET</span></span><br/><span data-ttu-id="61bb0-302">**가상 네트워크 서브넷** = Back(10.10.2.0/24)</span><span class="sxs-lookup"><span data-stu-id="61bb0-302">**VIRTUAL NETWORK SUBNETS** = Back(10.10.2.0/24)</span></span><br/><span data-ttu-id="61bb0-303">**계정** = 자동으로 생성된 Storage 계정 사용</span><span class="sxs-lookup"><span data-stu-id="61bb0-303">**STORAGE ACCOUNT** = Use an automatically generated storage account</span></span><br/><span data-ttu-id="61bb0-304">**가용성 집합** = SQLHADR (구성할 수도 있습니다 hello 가용성 hello 컴퓨터를 만든 후에 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-304">**AVAILABILITY SET** = SQLHADR (You can also configure hello availability set after hello machine has been created.</span></span> <span data-ttu-id="61bb0-305">3 개의 컴퓨터가 할당 해야 toohello SQLHADR 가용성 집합입니다.)</span><span class="sxs-lookup"><span data-stu-id="61bb0-305">All three machines should be assigned toohello SQLHADR availability set.)</span></span> |<span data-ttu-id="61bb0-306">**클라우드 서비스** = 이전에 만든 고유한 클라우드 서비스 DNS 이름(예: ContosoDC123)</span><span class="sxs-lookup"><span data-stu-id="61bb0-306">**CLOUD SERVICE** = Previously Created Unique Cloud Service DNS Name (ex: ContosoDC123)</span></span><br/><span data-ttu-id="61bb0-307">**지역/선호도 그룹/가상 네트워크** = ContosoNET</span><span class="sxs-lookup"><span data-stu-id="61bb0-307">**REGION/AFFINITY GROUP/VIRTUAL NETWORK** = ContosoNET</span></span><br/><span data-ttu-id="61bb0-308">**가상 네트워크 서브넷** = Back(10.10.2.0/24)</span><span class="sxs-lookup"><span data-stu-id="61bb0-308">**VIRTUAL NETWORK SUBNETS** = Back(10.10.2.0/24)</span></span><br/><span data-ttu-id="61bb0-309">**계정** = 자동으로 생성된 Storage 계정 사용</span><span class="sxs-lookup"><span data-stu-id="61bb0-309">**STORAGE ACCOUNT** = Use an automatically generated storage account</span></span><br/><span data-ttu-id="61bb0-310">**가용성 집합** = SQLHADR (구성할 수도 있습니다 hello 가용성 hello 컴퓨터를 만든 후에 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-310">**AVAILABILITY SET** = SQLHADR (You can also configure hello availability set after hello machine has been created.</span></span> <span data-ttu-id="61bb0-311">3 개의 컴퓨터가 할당 해야 toohello SQLHADR 가용성 집합입니다.)</span><span class="sxs-lookup"><span data-stu-id="61bb0-311">All three machines should be assigned toohello SQLHADR availability set.)</span></span> |
| <span data-ttu-id="61bb0-312">가상 컴퓨터 옵션</span><span class="sxs-lookup"><span data-stu-id="61bb0-312">Virtual machine options</span></span> |<span data-ttu-id="61bb0-313">기본값 사용</span><span class="sxs-lookup"><span data-stu-id="61bb0-313">Use defaults</span></span> |<span data-ttu-id="61bb0-314">기본값 사용</span><span class="sxs-lookup"><span data-stu-id="61bb0-314">Use defaults</span></span> |<span data-ttu-id="61bb0-315">기본값 사용</span><span class="sxs-lookup"><span data-stu-id="61bb0-315">Use defaults</span></span> |

<br/>

> [!NOTE]
> <span data-ttu-id="61bb0-316">이전 구성 hello 기본 계층 컴퓨터 부하 분산 끝점을 지원 하지 않으므로 표준 계층 가상 컴퓨터를 제안 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-316">hello previous configuration suggests STANDARD tier virtual machines, because BASIC tier machines do not support load-balanced endpoints.</span></span> <span data-ttu-id="61bb0-317">부하 분산 끝점 필요 이상 toocreate 가용성 그룹 수신기입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-317">You need load-balanced endpoints later toocreate an availability group listener.</span></span> <span data-ttu-id="61bb0-318">또한 여기에 제안 된 hello 컴퓨터 크기는 Azure 가상 컴퓨터의 가용성 그룹을 테스트 하기 위한 것입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-318">Also, hello machine sizes that are suggested here are meant for testing availability groups in Azure Virtual Machines.</span></span> <span data-ttu-id="61bb0-319">프로덕션 작업에 최상의 성능을 얻으려면 hello hello 및 권장 사항은 SQL Server 컴퓨터 크기 구성을 참조 하십시오. [Azure 가상 컴퓨터의 SQL Server에 대 한 성능 모범 사례](../sql/virtual-machines-windows-sql-performance.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-319">For hello best performance on production workloads, see hello recommendations for SQL Server machine sizes and configuration in [Performance best practices for SQL Server in Azure Virtual Machines](../sql/virtual-machines-windows-sql-performance.md).</span></span>
> 
> 

<span data-ttu-id="61bb0-320">Toojoin hello 3 개의 가상 컴퓨터가 완전히 프로 비전 한 후 해야 해당 toohello **corp.contoso.com** CORP\Install 관리자 권한 toohello 컴퓨터 도메인 및 부여 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-320">After hello three virtual machines are fully provisioned, you need toojoin them toohello **corp.contoso.com** domain and grant CORP\Install administrative rights toohello machines.</span></span> <span data-ttu-id="61bb0-321">toodo이를 사용 하 여 hello hello 3 가상 컴퓨터의 각 단계를 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-321">toodo this, use hello following steps for each of hello three virtual machines.</span></span>

1. <span data-ttu-id="61bb0-322">먼저, hello 기본 설정 DNS 서버 주소를 변경 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-322">First, change hello preferred DNS server address.</span></span> <span data-ttu-id="61bb0-323">Hello 목록의 hello 가상 컴퓨터를 선택 하 고 hello를 클릭 하 여 각 가상 컴퓨터의 RDP 파일 tooyour 로컬 디렉터리에 다운로드 **연결** 단추입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-323">Download each virtual machine's RDP file tooyour local directory by selecting hello virtual machine in hello list and clicking hello **Connect** button.</span></span> <span data-ttu-id="61bb0-324">tooselect 가상 컴퓨터를 hello 스크린 샷 다음 그림과 같이 hello 첫 번째 행의 셀에 hello 하지만 아무 곳 이나 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-324">tooselect a virtual machine, click anywhere but hello first cell in hello row, as shown in hello following screenshot.</span></span>
   
    ![Hello RDP 파일 다운로드](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC664953.jpg)
2. <span data-ttu-id="61bb0-326">열기 hello RDP 파일을 다운로드 및 구성 된 관리자 계정을 사용 하 여 toohello 가상 컴퓨터에 로그인 (**BUILTIN\AzureAdmin**) 및 암호 (**Contoso! 000**).</span><span class="sxs-lookup"><span data-stu-id="61bb0-326">Open hello RDP file that you downloaded, and sign in toohello virtual machine by using your configured administrator account (**BUILTIN\AzureAdmin**) and password (**Contoso!000**).</span></span>
3. <span data-ttu-id="61bb0-327">에 로그인 한 후 표시 되어야 hello **서버 관리자** 대시보드 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-327">After you sign in, you should see hello **Server Manager** dashboard.</span></span> <span data-ttu-id="61bb0-328">클릭 **로컬 서버** hello 왼쪽된 창에서.</span><span class="sxs-lookup"><span data-stu-id="61bb0-328">Click **Local Server** in hello left pane.</span></span>
4. <span data-ttu-id="61bb0-329">Hello 클릭 **DHCP를 사용 하도록 설정 하는 i p v 6에서 할당 된 IPv4 주소** 링크 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-329">Click hello **IPv4 address assigned by DHCP, IPv6 enabled** link.</span></span>
5. <span data-ttu-id="61bb0-330">Hello에 **네트워크 연결** 대화 상자 hello 네트워크 아이콘을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-330">In hello **Network Connections** dialog box, click hello network icon.</span></span>
   
    ![Hello 가상 컴퓨터 기본 설정 DNS 서버 변경](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784629.png)
6. <span data-ttu-id="61bb0-332">Hello 명령 모음에서 **이 연결의 hello 설정 변경**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-332">On hello command bar, click **Change hello settings of this connection**.</span></span> <span data-ttu-id="61bb0-333">(창의 hello 크기에 따라 할 수 있습니다 tooclick hello 이중 오른쪽 화살표 toosee이이 명령).</span><span class="sxs-lookup"><span data-stu-id="61bb0-333">(Depending on hello size of your window, you might have tooclick hello double right arrow toosee this command).</span></span>
7. <span data-ttu-id="61bb0-334">**인터넷 프로토콜 버전 4(TCP/IPv4)**를 선택하고 **속성**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-334">Select **Internet Protocol Version 4 (TCP/IPv4)**, and then click **Properties**.</span></span>
8. <span data-ttu-id="61bb0-335">선택 **다음 DNS 서버 주소를 사용 하 여 hello** 지정 **10.10.2.4** 에 **기본 설정 DNS 서버**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-335">Select **Use hello following DNS server addresses** and then specify **10.10.2.4** in **Preferred DNS server**.</span></span>
9. <span data-ttu-id="61bb0-336">hello **10.10.2.4** 주소는 Azure 가상 네트워크의 hello 10.10.2.0/24 서브넷의 할당 된 tooa 가상 컴퓨터는 hello 주소입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-336">hello **10.10.2.4** address is hello address that's assigned tooa virtual machine in hello 10.10.2.0/24 subnet in an Azure virtual network.</span></span> <span data-ttu-id="61bb0-337">가상 컴퓨터는 **ContosoDC**입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-337">That virtual machine is **ContosoDC**.</span></span> <span data-ttu-id="61bb0-338">tooverify **ContosoDC**의 IP 주소를 사용 하 여 **nslookup contosodc** hello 스크린 샷 다음 그림과 같이 hello 명령 프롬프트 창에서.</span><span class="sxs-lookup"><span data-stu-id="61bb0-338">tooverify **ContosoDC**'s IP address, use **nslookup contosodc** in hello command prompt window, as shown in hello following screenshot.</span></span>
   
    ![도메인 컨트롤러에 대 한 NSLOOKUP toofind IP 주소를 사용 합니다.](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC664954.jpg)
10. <span data-ttu-id="61bb0-340">클릭 **확인** > **닫기** toocommit hello 변경 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-340">Click **OK** > **Close** toocommit hello changes.</span></span> <span data-ttu-id="61bb0-341">Hello 가상 컴퓨터를 너무 가입 이제 수**corp.contoso.com**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-341">You can now join hello virtual machine too**corp.contoso.com**.</span></span>
11. <span data-ttu-id="61bb0-342">Hello에 다시 **로컬 서버** 창의 hello 클릭 **작업 그룹** 링크 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-342">Back in hello **Local Server** window, click hello **WORKGROUP** link.</span></span>
12. <span data-ttu-id="61bb0-343">Hello에 **컴퓨터 이름** 섹션에서 클릭 **변경**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-343">In hello **Computer Name** section, click **Change**.</span></span>
13. <span data-ttu-id="61bb0-344">선택 hello **도메인** 확인란, 형식 **corp.contoso.com** hello 텍스트 상자와 클릭 **확인**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-344">Select hello **Domain** check box, type **corp.contoso.com** in hello text box, and then click **OK**.</span></span>
14. <span data-ttu-id="61bb0-345">Hello에 **Windows 보안** 대화 상자를 hello 기본 도메인 관리자 계정에 대 한 hello 자격 증명 지정 (**CORP\AzureAdmin**) 및 hello 암호 (**Contoso! 000**).</span><span class="sxs-lookup"><span data-stu-id="61bb0-345">In hello **Windows Security** dialog box, specify hello credentials for hello default domain administrator account (**CORP\AzureAdmin**) and hello password (**Contoso!000**).</span></span>
15. <span data-ttu-id="61bb0-346">Hello "시작 toohello corp.contoso.com 도메인" 메시지가 나타나면 클릭 **확인**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-346">When you see hello "Welcome toohello corp.contoso.com domain" message, click **OK**.</span></span>
16. <span data-ttu-id="61bb0-347">클릭 **닫기** > **지금 다시 시작** hello 대화 상자에서.</span><span class="sxs-lookup"><span data-stu-id="61bb0-347">Click **Close** > **Restart Now** in hello dialog box.</span></span>

### <a name="add-hello-corpinstall-user-as-an-administrator-on-each-virtual-machine"></a><span data-ttu-id="61bb0-348">각 가상 컴퓨터에서 관리자 권한으로 hello Corp\Install 사용자 추가</span><span class="sxs-lookup"><span data-stu-id="61bb0-348">Add hello Corp\Install user as an administrator on each virtual machine</span></span>
1. <span data-ttu-id="61bb0-349">Hello 가상 컴퓨터를 다시 시작 될 때까지 기다린 다음 열기 hello RDP 다시 toosign toohello 가상 컴퓨터에서 사용 하 여 파일 hello **BUILTIN\AzureAdmin** 계정.</span><span class="sxs-lookup"><span data-stu-id="61bb0-349">Wait until hello virtual machine restarts, and then open hello RDP file again toosign in toohello virtual machine by using hello **BUILTIN\AzureAdmin** account.</span></span>
2. <span data-ttu-id="61bb0-350">**서버 관리자**에서 **도구** > **컴퓨터 관리**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-350">In **Server Manager** click **Tools** > **Computer Management**.</span></span>
   
    ![컴퓨터 관리](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784630.png)
3. <span data-ttu-id="61bb0-352">Hello에 **컴퓨터 관리** 대화 상자에서 **로컬 사용자 및 그룹**, 클릭 하 고 **그룹**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-352">In hello **Computer Management** dialog box, expand **Local Users and Groups**, and then click **Groups**.</span></span>
4. <span data-ttu-id="61bb0-353">Hello를 두 번 클릭 **관리자** 그룹입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-353">Double-click hello **Administrators** group.</span></span>
5. <span data-ttu-id="61bb0-354">Hello에 **Administrators 속성** 대화 상자를 클릭 hello **추가** 단추입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-354">In hello **Administrators Properties** dialog box, click hello **Add** button.</span></span>
6. <span data-ttu-id="61bb0-355">Hello 사용자 입력 **CORP\Install**, 클릭 하 고 **확인**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-355">Enter hello user **CORP\Install**, and then click **OK**.</span></span> <span data-ttu-id="61bb0-356">Hello를 사용 하 여 자격 증명에 대 한 대화 상자가 나타나면 **AzureAdmin** hello로 계정 **Contoso! 000** 암호입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-356">When prompted for credentials, use hello **AzureAdmin** account with hello **Contoso!000** password.</span></span>
7. <span data-ttu-id="61bb0-357">클릭 **확인** tooclose hello **관리자 속성** 대화 상자.</span><span class="sxs-lookup"><span data-stu-id="61bb0-357">Click **OK** tooclose hello **Administrator Properties** dialog box.</span></span>

### <a name="add-hello-failover-clustering-feature-tooeach-virtual-machine"></a><span data-ttu-id="61bb0-358">Hello 장애 조치 클러스터링 기능 tooeach 가상 컴퓨터 추가</span><span class="sxs-lookup"><span data-stu-id="61bb0-358">Add hello Failover Clustering feature tooeach virtual machine</span></span>
1. <span data-ttu-id="61bb0-359">Hello에 **서버 관리자** 대시보드를 클릭 하 여 **역할 및 기능 추가**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-359">In hello **Server Manager** dashboard, click **Add roles and features**.</span></span>
2. <span data-ttu-id="61bb0-360">Hello에 **추가 역할 및 기능 마법사**, 클릭 **다음** toohello에 도달할 때까지 **기능** 페이지.</span><span class="sxs-lookup"><span data-stu-id="61bb0-360">In hello **Add Roles and Features Wizard**, click **Next** until you get toohello **Features** page.</span></span>
3. <span data-ttu-id="61bb0-361">**장애 조치 클러스터링**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-361">Select **Failover Clustering**.</span></span> <span data-ttu-id="61bb0-362">메시지가 표시되면 다른 종속 기능을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-362">When prompted, add other dependent features.</span></span>
   
    ![장애 조치 클러스터링 기능은 toovirtual 컴퓨터 추가](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784631.png)
4. <span data-ttu-id="61bb0-364">클릭 **다음**, 클릭 하 고 **설치** hello에 **확인** 페이지.</span><span class="sxs-lookup"><span data-stu-id="61bb0-364">Click **Next**, and then click **Install** on hello **Confirmation** page.</span></span>
5. <span data-ttu-id="61bb0-365">Hello 때 **장애 조치 클러스터링** 기능 설치가 완료 되 면 클릭 **닫기**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-365">When hello **Failover Clustering** feature installation is finished, click **Close**.</span></span>
6. <span data-ttu-id="61bb0-366">로그 아웃 hello 가상 컴퓨터.</span><span class="sxs-lookup"><span data-stu-id="61bb0-366">Sign out of hello virtual machine.</span></span>
7. <span data-ttu-id="61bb0-367">Hello 세 서버 모두에 대 한이 섹션의 단계를 반복: **ContosoWSFCNode**, **ContosoSQL1**, 및 **ContosoSQL2**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-367">Repeat hello steps in this section for all three servers: **ContosoWSFCNode**, **ContosoSQL1**, and **ContosoSQL2**.</span></span>

<span data-ttu-id="61bb0-368">실행 되 고 SQL Server 가상 컴퓨터를 프로비저닝할 이제 hello 있지만 각각에 SQL Server에 대 한 hello 기본 옵션이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-368">hello SQL Server virtual machines are now provisioned and running, but each has hello default options for SQL Server.</span></span>

## <a name="create-hello-failover-cluster"></a><span data-ttu-id="61bb0-369">Hello 장애 조치 클러스터 만들기</span><span class="sxs-lookup"><span data-stu-id="61bb0-369">Create hello failover cluster</span></span>
<span data-ttu-id="61bb0-370">이 섹션에서는 나중에 만드는 hello 가용성 그룹을 호스팅할 hello 장애 조치 클러스터를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-370">In this section, you create hello failover cluster that will host hello availability group that you will create later.</span></span> <span data-ttu-id="61bb0-371">지금까지 hello tooeach hello 장애 조치 클러스터에 사용할 수 있는 세 hello 가상 컴퓨터의 다음 수행 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-371">By now, you should have done hello following tooeach of hello three virtual machines that you will use in hello failover cluster:</span></span>

* <span data-ttu-id="61bb0-372">Azure의 hello 완벽 하 게 프로 비전 된 가상 컴퓨터</span><span class="sxs-lookup"><span data-stu-id="61bb0-372">Fully provisioned hello virtual machine in Azure</span></span>
* <span data-ttu-id="61bb0-373">Hello 가상 컴퓨터 toohello 도메인에 가입</span><span class="sxs-lookup"><span data-stu-id="61bb0-373">Joined hello virtual machine toohello domain</span></span>
* <span data-ttu-id="61bb0-374">추가 **CORP\Install** toohello 로컬 관리자 그룹</span><span class="sxs-lookup"><span data-stu-id="61bb0-374">Added **CORP\Install** toohello local Administrators group</span></span>
* <span data-ttu-id="61bb0-375">추가 된 hello 장애 조치 클러스터링 기능</span><span class="sxs-lookup"><span data-stu-id="61bb0-375">Added hello failover clustering feature</span></span>

<span data-ttu-id="61bb0-376">이 모든 작업은 toohello 장애 조치 클러스터 연결 하기 전에 각 가상 컴퓨터에 필수 구성 요소입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-376">All these are prerequisites on each virtual machine before you can join it toohello failover cluster.</span></span>

<span data-ttu-id="61bb0-377">또한 hello Azure 가상 네트워크는 작동 하지 않는 hello에 동일한 방식으로 온-프레미스 네트워크입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-377">Also, note that hello Azure virtual network does not behave in hello same way as an on-premises network.</span></span> <span data-ttu-id="61bb0-378">Toocreate hello 클러스터 순서에 따라 hello에 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-378">You need toocreate hello cluster in hello following order:</span></span>

1. <span data-ttu-id="61bb0-379">하나의 노드에 단일 노드 클러스터를 만듭니다(**ContosoSQL1**).</span><span class="sxs-lookup"><span data-stu-id="61bb0-379">Create a single-node cluster on one node (**ContosoSQL1**).</span></span>
2. <span data-ttu-id="61bb0-380">Hello 클러스터 IP 주소 tooan 수정 사용 되지 않는 IP 주소 (**10.10.2.101**).</span><span class="sxs-lookup"><span data-stu-id="61bb0-380">Modify hello cluster IP address tooan unused IP address (**10.10.2.101**).</span></span>
3. <span data-ttu-id="61bb0-381">Hello 클러스터 이름을 온라인 상태로 전환 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-381">Bring hello cluster name online.</span></span>
4. <span data-ttu-id="61bb0-382">추가 hello 다른 노드 (**ContosoSQL2** 및 **ContosoWSFCNode**).</span><span class="sxs-lookup"><span data-stu-id="61bb0-382">Add hello other nodes (**ContosoSQL2** and **ContosoWSFCNode**).</span></span>

<span data-ttu-id="61bb0-383">완벽 하 게 hello 클러스터를 구성 하는 단계 toocomplete hello 작업을 수행 하는 hello를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-383">Use hello following steps toocomplete hello tasks that fully configure hello cluster.</span></span>

1. <span data-ttu-id="61bb0-384">에 대 한 RDP 파일 열기 hello **ContosoSQL1**, hello 도메인 계정을 사용 하 여 로그인 **CORP\Install**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-384">Open hello RDP file for **ContosoSQL1**, and sign in by using hello domain account **CORP\Install**.</span></span>
2. <span data-ttu-id="61bb0-385">Hello에 **서버 관리자** 대시보드를 클릭 하 여 **도구** > **장애 조치 클러스터 관리자**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-385">In hello **Server Manager** dashboard, click **Tools** > **Failover Cluster Manager**.</span></span>
3. <span data-ttu-id="61bb0-386">Hello 왼쪽된 창에서 마우스 오른쪽 단추로 클릭 **장애 조치 클러스터 관리자**, 클릭 하 고 **클러스터 만들기**hello 스크린 샷 뒤에 나타난 것 처럼 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-386">In hello left pane, right-click **Failover Cluster Manager**, and then click **Create a Cluster**, as shown in hello following screenshot.</span></span>
   
    ![클러스터 만들기](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784632.png)
4. <span data-ttu-id="61bb0-388">클러스터 만들기 마법사를 hello를 hello 페이지를 단계별로 실행 하 고 다음 표에 hello의 hello 설정을 사용 하 여 1 노드 클러스터를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-388">In hello Create Cluster Wizard, create a one-node cluster by stepping through hello pages and using hello settings in hello following table:</span></span>
   
   | <span data-ttu-id="61bb0-389">Page</span><span class="sxs-lookup"><span data-stu-id="61bb0-389">Page</span></span> | <span data-ttu-id="61bb0-390">설정</span><span class="sxs-lookup"><span data-stu-id="61bb0-390">Settings</span></span> |
   | --- | --- |
   | <span data-ttu-id="61bb0-391">시작하기 전에</span><span class="sxs-lookup"><span data-stu-id="61bb0-391">Before You Begin</span></span> |<span data-ttu-id="61bb0-392">기본값 사용</span><span class="sxs-lookup"><span data-stu-id="61bb0-392">Use defaults</span></span> |
   | <span data-ttu-id="61bb0-393">서버 선택</span><span class="sxs-lookup"><span data-stu-id="61bb0-393">Select Servers</span></span> |<span data-ttu-id="61bb0-394">**서버 이름 입력**에 **ContosoSQL1**을 입력하고 **추가**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-394">Type **ContosoSQL1** in **Enter server name** and click **Add**</span></span> |
   | <span data-ttu-id="61bb0-395">유효성 검사 경고</span><span class="sxs-lookup"><span data-stu-id="61bb0-395">Validation Warning</span></span> |<span data-ttu-id="61bb0-396">선택 **아니요.가이 클러스터에 대 한 Microsoft의 지원이 필요 하지 않으며 따라서 toorun hello 유효성 검사를 원하지 않는 I를 테스트 합니다. 다음을 클릭 하면 hello 클러스터 만들기를 계속**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-396">Select **No. I do not require support from Microsoft for this cluster, and therefore do not want toorun hello validation tests. When I click Next, continue creating hello cluster**.</span></span> |
   | <span data-ttu-id="61bb0-397">클러스터 관리 hello에 대 한 액세스 지점</span><span class="sxs-lookup"><span data-stu-id="61bb0-397">Access Point for Administering hello Cluster</span></span> |<span data-ttu-id="61bb0-398">**클러스터 이름**에 **Cluster1**을 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-398">Type **Cluster1** in **Cluster Name**</span></span> |
   | <span data-ttu-id="61bb0-399">다음</span><span class="sxs-lookup"><span data-stu-id="61bb0-399">Confirmation</span></span> |<span data-ttu-id="61bb0-400">저장소 공간을 사용하지 않는 경우 기본값을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-400">Use defaults unless you are using Storage Spaces.</span></span> <span data-ttu-id="61bb0-401">Hello 경고를 다음이 표를 참조 하십시오.</span><span class="sxs-lookup"><span data-stu-id="61bb0-401">See hello warning following this table.</span></span> |
   
   > [!WARNING]
   > <span data-ttu-id="61bb0-402">사용 중인 경우 [저장소 공간](https://technet.microsoft.com/library/hh831739), 여러 디스크를 저장소 풀으로 그룹화 하, hello를 지워야 **모든 적합 한 저장소 toohello 클러스터 추가** hello 확인란 **확인** 페이지.</span><span class="sxs-lookup"><span data-stu-id="61bb0-402">If you are using [Storage Spaces](https://technet.microsoft.com/library/hh831739), which groups multiple disks into storage pools, you must clear hello **Add all eligible storage toohello cluster** check box on hello **Confirmation** page.</span></span> <span data-ttu-id="61bb0-403">이 옵션의 선택을 취소 하지 않으면 hello 프로세스를 클러스터링 하는 동안 hello 가상 디스크가 분리 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-403">If you do not clear this option, hello virtual disks will be detached during hello clustering process.</span></span> <span data-ttu-id="61bb0-404">결과적으로, 되었으므로 또한 나타나지 디스크 관리자 또는 탐색기 hello 저장소 공간 hello 클러스터에서 제거 되 고 PowerShell을 사용 하 여 다시 연결할 때까지 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-404">As a result, they will also not appear in Disk Manager or Explorer until hello storage spaces are removed from hello cluster and reattached by using PowerShell.</span></span>
   > 
   > 
5. <span data-ttu-id="61bb0-405">Hello 왼쪽된 창에서 **장애 조치 클러스터 관리자**, 클릭 하 고 **Cluster1.corp.contoso.com**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-405">In hello left pane, expand **Failover Cluster Manager**, and then click **Cluster1.corp.contoso.com**.</span></span>
6. <span data-ttu-id="61bb0-406">Hello 가운데 창에서 toohello 아래로 스크롤하여 **클러스터 코어 리소스** 섹션을 확장 hello **이름: Clutser1** 세부 정보입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-406">In hello center pane, scroll down toohello **Cluster Core Resources** section, and expand hello **Name: Clutser1** details.</span></span> <span data-ttu-id="61bb0-407">두 hello 표시 되어야 **이름** 및 hello **IP 주소** hello의 리소스 **실패** 상태입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-407">You should see both hello **Name** and hello **IP Address** resources in hello **Failed** state.</span></span> <span data-ttu-id="61bb0-408">hello IP 주소 리소스 상태로 만들 수 없습니다 온라인 hello 클러스터 할당 된 hello hello 컴퓨터 자체와 같은 IP 주소는 중복 된 주소입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-408">hello IP address resource cannot be brought online because hello cluster is assigned hello same IP address as hello machine itself, which is a duplicate address.</span></span>
7. <span data-ttu-id="61bb0-409">마우스 오른쪽 단추로 클릭 hello 실패 **IP 주소** 리소스 및 클릭 **속성**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-409">Right-click hello failed **IP Address** resource, and then click **Properties**.</span></span>
   
    ![클러스터 속성](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784633.png)
8. <span data-ttu-id="61bb0-411">선택 **고정 IP 주소**, 지정 **10.10.2.101** hello에 **주소** 텍스트 상자 및 클릭 **확인**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-411">Select **Static IP Address**, specify **10.10.2.101** in hello **Address** text box, and then click **OK**.</span></span>
9. <span data-ttu-id="61bb0-412">Hello에 **클러스터 코어 리소스** 섹션에서 마우스 오른쪽 단추로 클릭 **이름: Cluster1**, 클릭 하 고 **온라인 상태로 만들기**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-412">In hello **Cluster Core Resources** section, right-click **Name: Cluster1**, and then click **Bring Online**.</span></span> <span data-ttu-id="61bb0-413">두 리소스가 모두 온라인 상태로 전환될 때까지 기다립니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-413">Wait until both resources are online.</span></span> <span data-ttu-id="61bb0-414">Hello 클러스터 이름 리소스가 온라인 상태가 되 면 새 Active Directory 컴퓨터 계정으로 hello DC 서버가 업데이트 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-414">When hello cluster name resource comes online, hello DC server is updated with a new Active Directory computer account.</span></span> <span data-ttu-id="61bb0-415">이 Active Directory 계정을 사용 toorun hello 가용성 나중에 클러스터 된 서비스를 그룹화 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-415">This Active Directory account will be used toorun hello availability group clustered service later.</span></span>
10. <span data-ttu-id="61bb0-416">Hello 남은 toohello 클러스터 노드를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-416">Add hello remaining nodes toohello cluster.</span></span> <span data-ttu-id="61bb0-417">Hello 브라우저 트리에서 마우스 오른쪽 단추로 **Cluster1.corp.contoso.com**, 클릭 하 고 **노드 추가**hello 스크린 샷 뒤에 나타난 것 처럼 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-417">In hello browser tree, right-click **Cluster1.corp.contoso.com**, and then click **Add Node**, as shown in hello following screenshot.</span></span>
    
     ![Toohello 클러스터 노드 추가](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784634.png)
11. <span data-ttu-id="61bb0-419">Hello에 **노드 추가 마법사**, 클릭 **다음** hello에 **서버 선택** 페이지에서 추가 **ContosoSQL2** 및 **ContosoWSFCNode**  toohello 목록에 hello 서버 이름을 입력 하 여 **서버 이름을 입력** 클릭 한 다음 **추가**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-419">In hello **Add Node Wizard**, click **Next** on hello **Select Servers** page, add **ContosoSQL2** and **ContosoWSFCNode** toohello list by typing hello server name in **Enter server name** and then clicking **Add**.</span></span> <span data-ttu-id="61bb0-420">완료하면 **다음**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-420">When you are done, click **Next**.</span></span>
12. <span data-ttu-id="61bb0-421">Hello에 **유효성 검사 경고** 페이지 **아니요**프로덕션 시나리오에 hello 유효성 검사 테스트를 수행 해야 하지만, 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-421">On hello **Validation Warning** page, click **No**, although in a production scenario, you should perform hello validation tests.</span></span> <span data-ttu-id="61bb0-422">그런 후 **다음**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-422">Then, click **Next**.</span></span>
13. <span data-ttu-id="61bb0-423">Hello에 **확인** 페이지 **다음** tooadd hello 노드.</span><span class="sxs-lookup"><span data-stu-id="61bb0-423">On hello **Confirmation** page, click **Next** tooadd hello nodes.</span></span>
    
    > [!WARNING]
    > <span data-ttu-id="61bb0-424">사용 중인 경우 [저장소 공간](https://technet.microsoft.com/library/hh831739), 여러 디스크를 저장소 풀으로 그룹화 하, hello를 지워야 **모든 적합 한 저장소 toohello 클러스터 추가** 확인란 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-424">If you are using [Storage Spaces](https://technet.microsoft.com/library/hh831739), which groups multiple disks into storage pools, you must clear hello **Add all eligible storage toohello cluster** check box.</span></span> <span data-ttu-id="61bb0-425">이 옵션의 선택을 취소 하지 않으면 hello 프로세스를 클러스터링 하는 동안 hello 가상 디스크가 분리 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-425">If you do not clear this option, hello virtual disks will be detached during hello clustering process.</span></span> <span data-ttu-id="61bb0-426">결과적으로, 것도 표시 되지 디스크 관리자 또는 탐색기 hello 저장소 공간을 클러스터에서 제거 될 때까지 않으며 PowerShell을 사용 하 여 다시 연결 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-426">As a result, they will also not appear in Disk Manager or Explorer until hello storage spaces are removed from cluster and reattached using PowerShell.</span></span>
    > 
    > 
14. <span data-ttu-id="61bb0-427">Hello 노드 toohello 클러스터에 추가 된 후 클릭 **마침**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-427">After hello nodes are added toohello cluster, click **Finish**.</span></span> <span data-ttu-id="61bb0-428">장애 조치 클러스터 관리자 이제 클러스터 노드 3 개 있으며 hello로 나열 표시 **노드** 컨테이너입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-428">Failover Cluster Manager should now show that your cluster has three nodes and list them in hello **Nodes** container.</span></span>
15. <span data-ttu-id="61bb0-429">Hello 원격 데스크톱 세션에서 로그인 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-429">Sign out of hello remote desktop session.</span></span>

## <a name="prepare-hello-sql-server-instances-for-availability-groups"></a><span data-ttu-id="61bb0-430">가용성 그룹에 대 한 hello SQL Server 인스턴스 준비</span><span class="sxs-lookup"><span data-stu-id="61bb0-430">Prepare hello SQL Server instances for availability groups</span></span>
<span data-ttu-id="61bb0-431">이 섹션에서는 작업 둘 다에 따라 hello **ContosoSQL1** 및 **contosoSQL2**:</span><span class="sxs-lookup"><span data-stu-id="61bb0-431">In this section, you will do hello following on both **ContosoSQL1** and **contosoSQL2**:</span></span>

* <span data-ttu-id="61bb0-432">에 대 한 로그인을 추가 **NT AUTHORITY\System** 필요한 권한을 부여 toohello 기본 SQL Server 인스턴스를 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-432">Add a login for **NT AUTHORITY\System** with necessary permissions set toohello default SQL Server instance.</span></span>
* <span data-ttu-id="61bb0-433">추가 **CORP\Install** sysadmin 역할 toohello 기본 SQL Server 인스턴스로.</span><span class="sxs-lookup"><span data-stu-id="61bb0-433">Add **CORP\Install** as a sysadmin role toohello default SQL Server instance.</span></span>
* <span data-ttu-id="61bb0-434">SQL Server의 원격 액세스에 대 한 hello 방화벽을 엽니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-434">Open hello firewall for remote access of SQL Server.</span></span>
* <span data-ttu-id="61bb0-435">가용성 그룹 기능에 항상 hello를 사용 하도록 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-435">Enable hello Always On availability groups feature.</span></span>
* <span data-ttu-id="61bb0-436">Hello SQL Server 서비스 계정에도 변경**CORP\SQLSvc1** 및 **CORP\SQLSvc2**각각.</span><span class="sxs-lookup"><span data-stu-id="61bb0-436">Change hello SQL Server service account too**CORP\SQLSvc1** and **CORP\SQLSvc2**, respectively.</span></span>

<span data-ttu-id="61bb0-437">이 작업은 순서와 관계없이 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-437">These actions can be performed in any order.</span></span> <span data-ttu-id="61bb0-438">그럼에도 불구 하 고 단계를 수행 하는 hello 대로 진행 됩니다 순서로 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-438">Nevertheless, hello following steps will walk through them in order.</span></span> <span data-ttu-id="61bb0-439">모두에 대 한 hello 단계에 따라 **ContosoSQL1** 및 **ContosoSQL2**:</span><span class="sxs-lookup"><span data-stu-id="61bb0-439">Follow hello steps for both **ContosoSQL1** and **ContosoSQL2**:</span></span>

1. <span data-ttu-id="61bb0-440">Hello hello 가상 컴퓨터에 대 한 원격 데스크톱 세션에서 등록 하지 않은 않으면 지금 연결 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-440">If you have not signed out of hello remote desktop session for hello virtual machine, do so now.</span></span>
2. <span data-ttu-id="61bb0-441">열기 hello RDP 파일을 **ContosoSQL1** 및 **ContosoSQL2**로 로그인 **BUILTIN\AzureAdmin**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-441">Open hello RDP files for **ContosoSQL1** and **ContosoSQL2**, and sign in as **BUILTIN\AzureAdmin**.</span></span>
3. <span data-ttu-id="61bb0-442">추가 **NT AUTHORITY\System** toohello SQL Server 로그인 필요한 권한을 부여 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-442">Add **NT AUTHORITY\System** toohello SQL Server logins with necessary permissions.</span></span> <span data-ttu-id="61bb0-443">**SQL Server Management Studio**를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-443">Open **SQL Server Management Studio**.</span></span>
4. <span data-ttu-id="61bb0-444">클릭 **연결** tooconnect toohello 기본 SQL Server 인스턴스.</span><span class="sxs-lookup"><span data-stu-id="61bb0-444">Click **Connect** tooconnect toohello default SQL Server instance.</span></span>
5. <span data-ttu-id="61bb0-445">**개체 탐색기**에서 **보안**을 확장한 다음 **로그인**을 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-445">In **Object Explorer**, expand **Security**, and then expand **Logins**.</span></span>
6. <span data-ttu-id="61bb0-446">마우스 오른쪽 단추로 클릭 hello **NT AUTHORITY\System** 로그인 및 클릭 **속성**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-446">Right-click hello **NT AUTHORITY\System** login, and then click **Properties**.</span></span>
7. <span data-ttu-id="61bb0-447">Hello에 **보안 개체** hello 로컬 서버에 대 한 페이지 **Grant** 에 대 한 다음, 권한을 hello 및 클릭 **확인**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-447">On hello **Securables** page, for hello local server, select **Grant** for hello following permissions, and then click **OK**.</span></span>
   
   * <span data-ttu-id="61bb0-448">가용성 그룹 변경</span><span class="sxs-lookup"><span data-stu-id="61bb0-448">Alter any availability group</span></span>
   * <span data-ttu-id="61bb0-449">SQL 연결</span><span class="sxs-lookup"><span data-stu-id="61bb0-449">Connect SQL</span></span>
   * <span data-ttu-id="61bb0-450">서버 상태 보기</span><span class="sxs-lookup"><span data-stu-id="61bb0-450">View server state</span></span>
8. <span data-ttu-id="61bb0-451">추가 **CORP\Install** 로 **sysadmin** 역할 toohello 기본 SQL Server 인스턴스.</span><span class="sxs-lookup"><span data-stu-id="61bb0-451">Add **CORP\Install** as a **sysadmin** role toohello default SQL Server instance.</span></span> <span data-ttu-id="61bb0-452">**개체 탐색기**에서 **로그인**을 마우스 오른쪽 단추로 클릭하고 **새 로그인**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-452">In **Object Explorer**, right-click **Logins**, and then click **New Login**.</span></span>
9. <span data-ttu-id="61bb0-453">**로그인 이름**에 **CORP\Install**을 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-453">Type **CORP\Install** in **Login name**.</span></span>
10. <span data-ttu-id="61bb0-454">Hello에 **서버 역할** 페이지에서 **sysadmin**, 클릭 하 고 **확인**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-454">On hello **Server Roles** page, select **sysadmin**, and then click **OK**.</span></span> <span data-ttu-id="61bb0-455">Hello 로그인을 만든 후 확장 하 여 확인할 수 있습니다 **로그인** 에 **개체 탐색기**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-455">After you create hello login, you can see it by expanding **Logins** in **Object Explorer**.</span></span>
11. <span data-ttu-id="61bb0-456">hello에 SQL Server에 대 한 방화벽 규칙 toocreate **시작** 화면, 열린 **고급 보안이 포함 된 Windows 방화벽**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-456">toocreate a firewall rule for SQL Server, on hello **Start** screen, open **Windows Firewall with Advanced Security**.</span></span>
12. <span data-ttu-id="61bb0-457">Hello 왼쪽된 창에서 선택 **인바운드 규칙**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-457">In hello left pane, select **Inbound Rules**.</span></span> <span data-ttu-id="61bb0-458">Hello 오른쪽 창에서 클릭 **새 규칙**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-458">In hello right pane, click **New Rule**.</span></span>
13. <span data-ttu-id="61bb0-459">Hello에 **규칙 유형** 페이지 **프로그램** > **다음**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-459">On hello **Rule Type** page, click **Program** > **Next**.</span></span>
14. <span data-ttu-id="61bb0-460">Hello에 **프로그램** 페이지에서 **다음 프로그램 경로**, 형식 **%ProgramFiles%\Microsoft SQL Server\MSSQL12 합니다. MSSQLSERVER\MSSQL\Binn\sqlservr.exe** hello 텍스트 상자와 클릭 **다음**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-460">On hello **Program** page, select **This program path**, type **%ProgramFiles%\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\Binn\sqlservr.exe** in hello text box, and then click **Next**.</span></span> <span data-ttu-id="61bb0-461">Hello SQL Server 디렉터리는 경우 이러한 지침을 따라 SQL Server 2012를 사용 하 여, **MSSQL11. MSSQLSERVER**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-461">If you are following these directions but using SQL Server 2012, hello SQL Server directory is **MSSQL11.MSSQLSERVER**.</span></span>
15. <span data-ttu-id="61bb0-462">Hello에 **동작** 페이지에서 유지 **hello 연결 허용** 을 선택한 다음 클릭 **다음**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-462">On hello **Action** page, keep **Allow hello connection** selected, and then click **Next**.</span></span>
16. <span data-ttu-id="61bb0-463">Hello에 **프로필** 페이지 hello 기본 설정을 적용 하 고 클릭 **다음**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-463">On hello **Profile** page, accept hello default settings, and then click **Next**.</span></span>
17. <span data-ttu-id="61bb0-464">Hello에 **이름** 페이지에서 같이 규칙 이름을 지정 **SQL Server (프로그램 규칙)**, hello에 **이름** 텍스트 상자의 클릭 **마침**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-464">On hello **Name** page, specify a rule name, such as **SQL Server (Program Rule)**, in hello **Name** text box, then click **Finish**.</span></span>
18. <span data-ttu-id="61bb0-465">tooenable hello **Always On 가용성 그룹** hello에 기능을 **시작** 화면, 열린 **SQL Server 구성 관리자**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-465">tooenable hello **Always On Availability Groups** feature, on hello **Start** screen, open **SQL Server Configuration Manager**.</span></span>
19. <span data-ttu-id="61bb0-466">Hello 브라우저 트리에서 클릭 **SQL Server 서비스**를 마우스 오른쪽 단추로 클릭 hello **SQL Server (MSSQLSERVER)** 서비스를 마우스 클릭 **속성**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-466">In hello browser tree, click **SQL Server Services**, right-click hello **SQL Server (MSSQLSERVER)** service, and then click **Properties**.</span></span>
20. <span data-ttu-id="61bb0-467">Hello 클릭 **Always On 고가용성** 탭에서 **Always On 가용성 그룹 사용**에 나타난 것 처럼 스크린 샷, 다음 hello 및 클릭 **적용**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-467">Click hello **Always On High Availability** tab, select **Enable Always On Availability Groups**, as shown in hello following screenshot, and then click **Apply**.</span></span> <span data-ttu-id="61bb0-468">클릭 **확인** hello 대화 상자와 hello를 닫지 마십시오 **속성** 아직 대화 상자.</span><span class="sxs-lookup"><span data-stu-id="61bb0-468">Click **OK** in hello dialog box, and do not close hello **Properties** dialog box yet.</span></span> <span data-ttu-id="61bb0-469">Hello 서비스 계정을 변경한 후에 hello SQL Server 서비스를 다시 시작 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-469">You will restart hello SQL Server service after you change hello service account.</span></span>
    
     ![Always On 가용성 그룹 사용](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665520.gif)
21. <span data-ttu-id="61bb0-471">SQL Server 서비스 계정 toochange hello 클릭 hello **로그온** 탭에서 입력 **CORP\SQLSvc1** (에 대 한 **ContosoSQL1**) 또는 **CORP\SQLSvc2** ( 에 대 한 **ContosoSQL2**)에서 **계정 이름**를 입력 하 고 hello 암호를 확인 하 고 클릭 **확인**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-471">toochange hello SQL Server service account, click hello **Log On** tab, type **CORP\SQLSvc1** (for **ContosoSQL1**) or **CORP\SQLSvc2** (for **ContosoSQL2**) in **Account Name**, fill in and confirm hello password, and then click **OK**.</span></span>
22. <span data-ttu-id="61bb0-472">Hello 대화 상자가 열리면 클릭 **예** toorestart hello SQL Server 서비스입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-472">In hello dialog box that opens, click **Yes** toorestart hello SQL Server service.</span></span> <span data-ttu-id="61bb0-473">Hello SQL Server 서비스를 다시 시작 되 면 hello에서 수행한 변경 **속성** 대화 상자에 적용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-473">After hello SQL Server service restarts, changes that you made in hello **Properties** dialog box are effective.</span></span>
23. <span data-ttu-id="61bb0-474">로그 아웃 hello 가상 컴퓨터.</span><span class="sxs-lookup"><span data-stu-id="61bb0-474">Sign out of hello virtual machines.</span></span>

## <a name="create-hello-availability-group"></a><span data-ttu-id="61bb0-475">Hello 가용성 그룹 만들기</span><span class="sxs-lookup"><span data-stu-id="61bb0-475">Create hello availability group</span></span>
<span data-ttu-id="61bb0-476">준비 tooconfigure 가용성 그룹입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-476">You are now ready tooconfigure an availability group.</span></span> <span data-ttu-id="61bb0-477">다음은 수행할 사항을 간략히 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-477">Below is an outline of what you will do:</span></span>

* <span data-ttu-id="61bb0-478">**ContosoSQL1**에 새 데이터베이스(**MyDB1**)를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-478">Create a new database (**MyDB1**) on **ContosoSQL1**.</span></span>
* <span data-ttu-id="61bb0-479">전체 백업과 hello 데이터베이스의 트랜잭션 로그 백업을 모두를 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-479">Take both a full backup and a transaction log backup of hello database.</span></span>
* <span data-ttu-id="61bb0-480">Hello 전체를 복원 하 고 로그 백업을 너무**ContosoSQL2** hello로 **NORECOVERY** 옵션입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-480">Restore hello full and log backups too**ContosoSQL2** with hello **NORECOVERY** option.</span></span>
* <span data-ttu-id="61bb0-481">Hello 가용성 그룹 만들기 (**AG1**) 읽기 가능한 보조 복제본, 동기 커밋 및 자동 장애 조치와 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-481">Create hello availability group (**AG1**) with synchronous commit, automatic failover, and readable secondary replicas.</span></span>

### <a name="create-hello-mydb1-database-on-contososql1"></a><span data-ttu-id="61bb0-482">ContosoSQL1에 hello MyDB1 데이터베이스 만들기</span><span class="sxs-lookup"><span data-stu-id="61bb0-482">Create hello MyDB1 database on ContosoSQL1</span></span>
1. <span data-ttu-id="61bb0-483">하는 경우 등록 하지 않은 이미 hello에 대 한 원격 데스크톱 세션에서 **ContosoSQL1** 및 **ContosoSQL2**, 지금 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-483">If you have not already signed out of hello remote desktop sessions for **ContosoSQL1** and **ContosoSQL2**, do so now.</span></span>
2. <span data-ttu-id="61bb0-484">에 대 한 RDP 파일 열기 hello **ContosoSQL1**로 로그인 **CORP\Install**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-484">Open hello RDP file for **ContosoSQL1**, and sign in as **CORP\Install**.</span></span>
3. <span data-ttu-id="61bb0-485">**파일 탐색기**에서 **C:\\** 아래에 **backup**이라는 디렉터리를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-485">In **File Explorer**, under **C:\\**, create a directory named **backup**.</span></span> <span data-ttu-id="61bb0-486">이 디렉터리 tooback 사용 및 데이터베이스를 복원 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-486">You will use this directory tooback up and restore your database.</span></span>
4. <span data-ttu-id="61bb0-487">Hello 새 디렉터리를 마우스 오른쪽 단추로 클릭, 너무 가리킨**공유할**, 클릭 하 고 **특정 사용자**hello 스크린 샷 뒤에 나타난 것 처럼 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-487">Right-click hello new directory, point too**Share with**, and then click **Specific people**, as shown in hello following screenshot.</span></span>
   
    ![백업 폴더 만들기](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665521.gif)
5. <span data-ttu-id="61bb0-489">추가 **CORP\SQLSvc1**, 다음 hello 제공 **읽기/쓰기** 권한.</span><span class="sxs-lookup"><span data-stu-id="61bb0-489">Add **CORP\SQLSvc1**, and then give it hello **Read/Write** permission.</span></span> <span data-ttu-id="61bb0-490">추가 **CORP\SQLSvc2**, 다음 hello 제공 **읽기** 권한에 표시 된 대로 스크린 샷, 다음 hello 및 클릭 **공유**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-490">Add **CORP\SQLSvc2**, and then give it hello **Read** permission, as shown in hello following screenshot, and then click **Share**.</span></span> <span data-ttu-id="61bb0-491">Hello 파일 공유 프로세스가 완료 되 면 클릭 **수행**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-491">After hello file-sharing process is finished, click **Done**.</span></span>
   
    ![백업 폴더에 대한 권한 부여](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665522.gif)
6. <span data-ttu-id="61bb0-493">hello에서 toocreate hello 데이터베이스 **시작** 메뉴를 열고 **SQL Server Management Studio**, 클릭 하 고 **연결** tooconnect toohello 기본 SQL Server 인스턴스.</span><span class="sxs-lookup"><span data-stu-id="61bb0-493">toocreate hello database, from hello **Start** menu, open **SQL Server Management Studio**, and then click **Connect** tooconnect toohello default SQL Server instance.</span></span>
7. <span data-ttu-id="61bb0-494">**개체 탐색기**에서 **데이터베이스**를 마우스 오른쪽 단추로 클릭한 다음 **새 데이터베이스**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-494">In **Object Explorer**, right-click **Databases**, and then click **New Database**.</span></span>
8. <span data-ttu-id="61bb0-495">**데이터베이스 이름**에 **MyDB1**을 입력하고 **확인**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-495">In **Database name**, type **MyDB1**, and then click **OK**.</span></span>

### <a name="make-a-full-backup-of-mydb1-and-restore-it-on-contososql2"></a><span data-ttu-id="61bb0-496">MyDB1의 전체 백업 수행 및 ContosoSQL2에 복원</span><span class="sxs-lookup"><span data-stu-id="61bb0-496">Make a full backup of MyDB1 and restore it on ContosoSQL2</span></span>
1. <span data-ttu-id="61bb0-497">hello의 전체 백업을 데이터베이스 toomake **개체 탐색기**, 확장 **데이터베이스**를 마우스 오른쪽 단추로 클릭 **MyDB1**, 너무 가리킨**작업**, 및 클릭 **백업**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-497">toomake a full backup of hello database, in **Object Explorer**, expand **Databases**, right-click **MyDB1**, point too**Tasks**, and then click **Back Up**.</span></span>
2. <span data-ttu-id="61bb0-498">Hello에 **소스** 섹션에서 유지 **백업 유형** 도**전체**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-498">In hello **Source** section, keep **Backup type** set too**Full**.</span></span> <span data-ttu-id="61bb0-499">Hello에 **대상** 섹션에서 클릭 **제거** hello 백업 파일에 대 한 tooremove hello 기본 파일 경로입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-499">In hello **Destination** section, click **Remove** tooremove hello default file path for hello backup file.</span></span>
3. <span data-ttu-id="61bb0-500">Hello에 **대상** 섹션에서 클릭 **추가**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-500">In hello **Destination** section, click **Add**.</span></span>
4. <span data-ttu-id="61bb0-501">Hello에 **파일 이름** 텍스트 상자에서  **\\ContosoSQL1\backup\MyDB1.bak**, 클릭 **확인**, 클릭 하 고 **확인** 다시 hello 데이터베이스를 tooback 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-501">In hello **File name** text box, type **\\ContosoSQL1\backup\MyDB1.bak**, click **OK**, and then click **OK** again tooback up hello database.</span></span> <span data-ttu-id="61bb0-502">Hello 백업 작업이 완료 되 면 클릭 **확인** 다시 tooclose hello 대화 상자.</span><span class="sxs-lookup"><span data-stu-id="61bb0-502">When hello backup operation finishes, click **OK** again tooclose hello dialog box.</span></span>
5. <span data-ttu-id="61bb0-503">트랜잭션 toomake hello 데이터베이스의 백업을 로그인 **개체 탐색기**, 확장 **데이터베이스**를 마우스 오른쪽 단추로 클릭 **MyDB1**, 너무 가리킨**작업**, 클릭 하 고 **백업**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-503">toomake a transaction log backup of hello database, in **Object Explorer**, expand **Databases**, right-click **MyDB1**, point too**Tasks**, and then click **Back Up**.</span></span>
6. <span data-ttu-id="61bb0-504">**백업 유형**에서 **트랜잭션 로그**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-504">In **Backup type**, select **Transaction Log**.</span></span> <span data-ttu-id="61bb0-505">Hello 유지 **대상** 이전에 지정 된 경로 집합 toohello 파일을 누르고 **확인**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-505">Keep hello **Destination** file path set toohello one you specified earlier, and then click **OK**.</span></span> <span data-ttu-id="61bb0-506">Hello 백업 작업이 완료 되 면 클릭 **확인** 다시 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-506">After hello backup operation finishes, click **OK** again.</span></span>
7. <span data-ttu-id="61bb0-507">전체 toorestore hello 및 트랜잭션 로그 백업을 **ContosoSQL2**개방형 hello RDP 파일에 대 한 **ContosoSQL2**로 로그인 **CORP\Install**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-507">toorestore hello full and transaction log backups on **ContosoSQL2**, open hello RDP file for **ContosoSQL2**, and sign in as **CORP\Install**.</span></span> <span data-ttu-id="61bb0-508">Hello에 대 한 원격 데스크톱 세션을 두고 **ContosoSQL1** 엽니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-508">Leave hello remote desktop session for **ContosoSQL1** open.</span></span>
8. <span data-ttu-id="61bb0-509">Hello에서 **시작** 메뉴를 열고 **SQL Server Management Studio**, 클릭 하 고 **연결** tooconnect toohello 기본 SQL Server 인스턴스.</span><span class="sxs-lookup"><span data-stu-id="61bb0-509">From hello **Start** menu, open **SQL Server Management Studio**, and then click **Connect** tooconnect toohello default SQL Server instance.</span></span>
9. <span data-ttu-id="61bb0-510">**개체 탐색기**에서 **데이터베이스**를 마우스 오른쪽 단추로 클릭하고 **데이터베이스 복원**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-510">In **Object Explorer**, right-click **Databases**, and then click **Restore Database**.</span></span>
10. <span data-ttu-id="61bb0-511">Hello에 **소스** 섹션에서 **장치**, hello 줄임표를 클릭 하 고 **...**</span><span class="sxs-lookup"><span data-stu-id="61bb0-511">In hello **Source** section, select **Device**, and click hello ellipsis **…**</span></span> <span data-ttu-id="61bb0-512">단추를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-512">button.</span></span>
11. <span data-ttu-id="61bb0-513">**백업 장치 선택**에서 **추가**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-513">In **Select backup devices**, click **Add**.</span></span>
12. <span data-ttu-id="61bb0-514">**백업 파일 위치**에서 **\\ContosoSQL1\backup**을 입력하고, **새로 고침**을 클릭하고, **MyDB1.bak**를 선택하고, **확인**을 클릭하고 나서, **확인**을 다시 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-514">In **Backup file location**, type **\\ContosoSQL1\backup**, click **Refresh**, select **MyDB1.bak**, click **OK**, and then click **OK** again.</span></span> <span data-ttu-id="61bb0-515">Hello 전체 백업 및 로그 백업 hello에 hello 이제 표시 **toorestore 사용할 백업 세트** 창.</span><span class="sxs-lookup"><span data-stu-id="61bb0-515">You should now see hello full backup and hello log backup in hello **Backup sets toorestore** pane.</span></span>
13. <span data-ttu-id="61bb0-516">Toohello 이동 **옵션** 페이지에서 **RESTORE WITH NORECOVERY** 에 **복구 상태**, 클릭 하 고 **확인** toorestore hello 데이터베이스입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-516">Go toohello **Options** page, select **RESTORE WITH NORECOVERY** in **Recovery state**, and then click **OK** toorestore hello database.</span></span> <span data-ttu-id="61bb0-517">Hello 후 복원 작업 완료, 클릭 **확인**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-517">After hello restore operation finishes, click **OK**.</span></span>

### <a name="create-hello-availability-group"></a><span data-ttu-id="61bb0-518">Hello 가용성 그룹 만들기</span><span class="sxs-lookup"><span data-stu-id="61bb0-518">Create hello availability group</span></span>
1. <span data-ttu-id="61bb0-519">이동에 대 한 원격 데스크톱 세션 toohello 다시 **ContosoSQL1**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-519">Go back toohello remote desktop session for **ContosoSQL1**.</span></span> <span data-ttu-id="61bb0-520">**개체 탐색기** SQL Server Management Studio에서 마우스 오른쪽 단추로 클릭 **Always On 고가용성**, 클릭 하 고 **새 가용성 그룹 마법사**hello에 나타난 것 처럼 다음 스크린 샷</span><span class="sxs-lookup"><span data-stu-id="61bb0-520">In **Object Explorer** in SQL Server Management Studio, right-click **Always On High Availability**, and then click **New Availability Group Wizard**, as shown in hello following screenshot.</span></span>
   
    ![새 가용성 그룹 마법사 시작](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665523.gif)
2. <span data-ttu-id="61bb0-522">Hello에 **소개** 페이지 **다음**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-522">On hello **Introduction** page, click **Next**.</span></span> <span data-ttu-id="61bb0-523">Hello에 **가용성 그룹 이름 지정** 페이지에서 입력 **AG1** 에 **가용성 그룹 이름**, 클릭 **다음** 다시 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-523">On hello **Specify Availability Group Name** page, type **AG1** in **Availability group name**, then click **Next** again.</span></span>
   
    ![새 가용성 그룹 마법사, 가용성 그룹 이름 지정](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665524.gif)
3. <span data-ttu-id="61bb0-525">Hello에 **데이터베이스 선택** 페이지 **MyDB1**, 클릭 하 고 **다음**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-525">On hello **Select Databases** page, select **MyDB1**, and then click **Next**.</span></span> <span data-ttu-id="61bb0-526">hello 의도 된 주 복제본에서 최소한 하나의 전체 백업을 수행 했으므로 hello 데이터베이스가 가용성 그룹에 대 한 hello 필수 구성 요소를 충족 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-526">hello database meets hello prerequisites for an availability group because you have taken at least one full backup on hello intended primary replica.</span></span>
   
    ![새 가용성 그룹 마법사, 데이터베이스 선택](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665525.gif)
4. <span data-ttu-id="61bb0-528">hello에 **복제본 지정** 페이지 **Add Replica**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-528">on hello **Specify Replicas** page, click **Add Replica**.</span></span>
   
    ![새 가용성 그룹 마법사, 복제본 지정](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665526.gif)
5. <span data-ttu-id="61bb0-530">Hello에 **tooServer 연결** 대화 상자에서 **ContosoSQL2** 에 **서버 이름**, 클릭 하 고 **연결**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-530">In hello **Connect tooServer** dialog box, type **ContosoSQL2** in **Server name**, and then click **Connect**.</span></span>
   
    ![새 가용성 그룹 마법사, Connect tooserver](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665527.gif)
6. <span data-ttu-id="61bb0-532">Hello에 다시 **복제본 지정** 페이지, 이제 **ContosoSQL2** 에 나열 된 **사용 가능한 복제본**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-532">Back on hello **Specify Replicas** page, you should now see **ContosoSQL2** listed in **Available Replicas**.</span></span> <span data-ttu-id="61bb0-533">다음 스크린 샷에서 hello와 같이 hello 복제본을 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-533">Configure hello replicas as shown in hello following screenshot.</span></span> <span data-ttu-id="61bb0-534">작업을 마쳤으면 **다음**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-534">When you are finished, click **Next**.</span></span>
   
    ![새 가용성 그룹 마법사, 복제본 지정(전체)](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665528.gif)
7. <span data-ttu-id="61bb0-536">Hello에 **초기 데이터 동기화 선택** 페이지 **조인만**, 클릭 하 고 **다음**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-536">On hello **Select Initial Data Synchronization** page, select **Join only**, and then click **Next**.</span></span> <span data-ttu-id="61bb0-537">이미 데이터 동기화 수동으로 수행한 hello 전체 및 트랜잭션 백업을에서 정의가 **ContosoSQL1** 에서 복원 하 고 **ContosoSQL2**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-537">You already performed data synchronization manually when you made hello full and transaction backups on **ContosoSQL1** and restored them on **ContosoSQL2**.</span></span> <span data-ttu-id="61bb0-538">Tooperform hello 하지 데이터베이스에 대 한 백업 및 복원 작업을 선택할 수 있으며 대신 선택 **전체** toolet hello 새 가용성 그룹 마법사는 사용자에 대 한 데이터 동기화를 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-538">You can choose not tooperform hello backup and restore operations on your database and instead select **Full** toolet hello New Availability Group Wizard perform data synchronization for you.</span></span> <span data-ttu-id="61bb0-539">그러나 일부 기업에서 사용하는 대형 데이터베이스의 경우에는 이 옵션을 사용하지 않는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-539">However, we do not recommend this option for very large databases that are found in some enterprises.</span></span>
   
    ![새 가용성 그룹 마법사, 초기 데이터 동기화 선택.](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665529.gif)
8. <span data-ttu-id="61bb0-541">Hello에 **유효성 검사** 페이지 **다음**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-541">On hello **Validation** page, click **Next**.</span></span> <span data-ttu-id="61bb0-542">이 페이지에는 비슷한 toohello 스크린 샷 다음 같아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-542">This page should look similar toohello following screenshot.</span></span> <span data-ttu-id="61bb0-543">가용성 그룹 수신기를 구성 하지 않았기 때문에는 hello 수신기 구성에 대 한 경고입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-543">There is a warning for hello listener configuration because you have not configured an availability group listener.</span></span> <span data-ttu-id="61bb0-544">이 자습서에서는 수신기를 구성하지 않으므로 이 경고를 무시해도 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-544">You can ignore this warning, because this tutorial does not configure a listener.</span></span> <span data-ttu-id="61bb0-545">이 자습서, 참조를 완료 한 후 tooconfigure hello 수신기 [Azure에서 Always On 가용성 그룹에 대 한 ILB 수신기 구성](../classic/ps-sql-int-listener.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-545">tooconfigure hello listener after you complete this tutorial, see [Configure an ILB listener for Always On Availability Groups in Azure](../classic/ps-sql-int-listener.md).</span></span>
   
    ![새 가용성 그룹 마법사, 유효성 검사](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665530.gif)
9. <span data-ttu-id="61bb0-547">Hello에 **요약** 페이지 **마침**, 고 hello 마법사 hello 새 가용성 그룹을 구성 하는 동안 기다립니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-547">On hello **Summary** page, click **Finish**, and then wait while hello wizard configures hello new availability group.</span></span> <span data-ttu-id="61bb0-548">Hello에 **진행률** 페이지에서 클릭할 수 있는 **자세한 내용을 보려면** tooview hello 진행 상황을 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-548">On hello **Progress** page, you can click **More details** tooview hello detailed progress.</span></span> <span data-ttu-id="61bb0-549">Hello 마법사를 완료 한 후 검사할 hello **결과** 페이지 tooverify 있는 hello 가용성 그룹 성공적으로 만들어지면 hello 다음 스크린 샷에서 같이 클릭 한 다음 **닫기** tooexit hello 마법사입니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-549">After hello wizard finishes, inspect hello **Results** page tooverify that hello availability group is successfully created, as shown in hello following screenshot, and then click **Close** tooexit hello wizard.</span></span>
   
    ![새 가용성 그룹 마법사, 결과](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665531.gif)
10. <span data-ttu-id="61bb0-551">**개체 탐색기**에서 **Always On 고가용성**을 확장하고 **가용성 그룹**을 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-551">In **Object Explorer**, expand **Always On High Availability**, and then expand **Availability Groups**.</span></span> <span data-ttu-id="61bb0-552">이제이 컨테이너에서 hello 새 가용성 그룹을 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-552">You should now see hello new availability group in this container.</span></span> <span data-ttu-id="61bb0-553">**AG1(기본)**을 마우스 오른쪽 단추로 클릭하고 **대시보드 표시**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-553">Right-click **AG1 (Primary)**, and then click **Show Dashboard**.</span></span>
    
     ![가용성 그룹 대시보드 표시](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665532.gif)
11. <span data-ttu-id="61bb0-555">프로그램 **Always On 대시보드** 모양 비슷한 toohello 하나 hello에 스크린 샷을 수행 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-555">Your **Always On Dashboard** should look similar toohello one in hello following screenshot.</span></span> <span data-ttu-id="61bb0-556">Hello 복제본, hello 장애 조치 모드의 각 복제본 및 hello 동기화 상태를 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-556">You can see hello replicas, hello failover mode of each replica, and hello synchronization state.</span></span>
    
     ![가용성 그룹 대시보드](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665533.gif)
12. <span data-ttu-id="61bb0-558">너무 반환**서버 관리자**, 클릭 **도구**를 연 다음 **장애 조치 클러스터 관리자**합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-558">Return too**Server Manager**, click **Tools**, and then open **Failover Cluster Manager**.</span></span>
13. <span data-ttu-id="61bb0-559">**Cluster1.corp.contoso.com**과 **서비스 및 응용 프로그램**을 차례로 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-559">Expand **Cluster1.corp.contoso.com**, and then expand **Services and applications**.</span></span> <span data-ttu-id="61bb0-560">선택 **역할** 해당 hello 확인 **AG1** 가용성 그룹 역할이 생성 되었음.</span><span class="sxs-lookup"><span data-stu-id="61bb0-560">Select **Roles** and note that hello **AG1** availability group role has been created.</span></span> <span data-ttu-id="61bb0-561">AG1 없는지 데이터베이스 클라이언트가 toohello 가용성 그룹에 연결할 수는 IP 주소는 수신기를 구성 하지 않은 때문에 note 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-561">Note that AG1 does not have an IP address by which database clients can connect toohello availability group, because you did not configure a listener.</span></span> <span data-ttu-id="61bb0-562">읽기 / 쓰기 작업에 대 한 toohello 주 노드 및 읽기 전용 쿼리에 대 한 hello 보조 노드에 직접 연결 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-562">You can connect directly toohello primary node for read-write operations and hello secondary node for read-only queries.</span></span>
    
     ![장애 조치(Failover) 클러스터 관리자에서 AG](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665534.gif)

> [!WARNING]
> <span data-ttu-id="61bb0-564">가용성 그룹 장애 조치 클러스터 관리자 hello에서 hello 통해 toofail를 시도 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-564">Do not try toofail over hello availability group from hello Failover Cluster Manager.</span></span> <span data-ttu-id="61bb0-565">모든 장애 조치(failover) 작업은 SQL Server Management Studio의 **Always On 대시보드**에서 수행해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-565">All failover operations should be performed from within **Always On Dashboard** in SQL Server Management Studio.</span></span> <span data-ttu-id="61bb0-566">자세한 내용은 참조 [사용에 대 한 제한에는 가용성 그룹 장애 조치 클러스터 관리자 hello](https://msdn.microsoft.com/library/ff929171.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-566">For more information, see [Restrictions on Using hello Failover Cluster Manager with Availability Groups](https://msdn.microsoft.com/library/ff929171.aspx).</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="61bb0-567">다음 단계</span><span class="sxs-lookup"><span data-stu-id="61bb0-567">Next steps</span></span>
<span data-ttu-id="61bb0-568">이제 Azure에서 가용성 그룹을 만들어 SQL Server Always On을 성공적으로 구현했습니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-568">You have now successfully implemented SQL Server Always On by creating an availability group in Azure.</span></span> <span data-ttu-id="61bb0-569">이 가용성 그룹에 대 한 수신기 tooconfigure 참조 [Azure에서 Always On 가용성 그룹에 대 한 ILB 수신기 구성](../classic/ps-sql-int-listener.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="61bb0-569">tooconfigure a listener for this availability group, see [Configure an ILB listener for Always On availability groups in Azure](../classic/ps-sql-int-listener.md).</span></span>

<span data-ttu-id="61bb0-570">Azure에서 SQL Server를 사용하는 방법에 대한 기타 정보는 [Azure 가상 컴퓨터의 SQL Server](../sql/virtual-machines-windows-sql-server-iaas-overview.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="61bb0-570">For other information about using SQL Server in Azure, see [SQL Server on Azure Virtual Machines](../sql/virtual-machines-windows-sql-server-iaas-overview.md).</span></span>

