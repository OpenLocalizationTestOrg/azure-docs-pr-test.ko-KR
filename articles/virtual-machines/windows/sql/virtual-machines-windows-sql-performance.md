---
title: "Azure의 SQL Server에 대한 성능 모범 사례 | Microsoft Docs"
description: "Microsoft Azure VM에서 SQL Server 성능을 최적화하기 위한 모범 사례를 제공합니다."
services: virtual-machines-windows
documentationcenter: na
author: rothja
manager: jhubbard
editor: 
tags: azure-service-management
ms.assetid: a0c85092-2113-4982-b73a-4e80160bac36
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 06/27/2017
ms.author: jroth
ms.openlocfilehash: 5595ea016ab01d20cee82b75f56623bb0727a1b3
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/29/2017
---
# <a name="performance-best-practices-for-sql-server-in-azure-virtual-machines"></a><span data-ttu-id="f9679-103">Azure 가상 컴퓨터의 SQL Server에 대한 성능 모범 사례</span><span class="sxs-lookup"><span data-stu-id="f9679-103">Performance best practices for SQL Server in Azure Virtual Machines</span></span>

## <a name="overview"></a><span data-ttu-id="f9679-104">개요</span><span class="sxs-lookup"><span data-stu-id="f9679-104">Overview</span></span>

<span data-ttu-id="f9679-105">이 항목에서는 Microsoft Azure 가상 컴퓨터의 SQL Server 성능을 최적화하기 위한 모범 사례를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-105">This topic provides best practices for optimizing SQL Server performance in Microsoft Azure Virtual Machine.</span></span> <span data-ttu-id="f9679-106">Azure 가상 컴퓨터에서 SQL Server를 실행하는 동안 온-프레미스 서버 환경의 SQL Server에 적용할 수 있는 동일한 데이터베이스 성능 튜닝 옵션을 계속 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-106">While running SQL Server in Azure Virtual Machines, we recommend that you continue using the same database performance tuning options that are applicable to SQL Server in on-premises server environment.</span></span> <span data-ttu-id="f9679-107">그러나 공용 클라우드의 관계형 데이터베이스 성능은 가상 컴퓨터의 크기 및 데이터 디스크의 구성과 같은 많은 요인에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-107">However, the performance of a relational database in a public cloud depends on many factors such as the size of a virtual machine, and the configuration of the data disks.</span></span>

<span data-ttu-id="f9679-108">SQL Server 이미지를 만들 때 [Azure Portal에서 VM을 프로비전하는 것을 고려하세요](virtual-machines-windows-portal-sql-server-provision.md).</span><span class="sxs-lookup"><span data-stu-id="f9679-108">When creating SQL Server images, [consider provisioning your VMs in the Azure portal](virtual-machines-windows-portal-sql-server-provision.md).</span></span> <span data-ttu-id="f9679-109">리소스 관리자를 사용하여 포털에서 프로비전되는 SQL Server VM은 저장소 구성을 포함하여 이러한 모든 모범 사례를 구현합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-109">SQL Server VMs provisioned in the Portal with Resource Manager implement all these best practices, including the storage configuration.</span></span>

<span data-ttu-id="f9679-110">이 문서는 Azure VM의 SQL Server에 대해 *최상의* 성능을 얻는 데 중점을 둡니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-110">This article is focused on getting the *best* performance for SQL Server on Azure VMs.</span></span> <span data-ttu-id="f9679-111">작업이 적은 경우 아래 나열된 모든 최적화 사항이 필요하지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-111">If your workload is less demanding, you might not require every optimization listed below.</span></span> <span data-ttu-id="f9679-112">이러한 권장 사항을 평가할 때 성능 요구 사항 및 작업 패턴을 고려하세요.</span><span class="sxs-lookup"><span data-stu-id="f9679-112">Consider your performance needs and workload patterns as you evaluate these recommendations.</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="quick-check-list"></a><span data-ttu-id="f9679-113">빠른 검사 목록</span><span class="sxs-lookup"><span data-stu-id="f9679-113">Quick check list</span></span>

<span data-ttu-id="f9679-114">다음은 Azure 가상 컴퓨터의 SQL Server 성능을 최적화하기 위한 빠른 검사 목록입니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-114">The following is a quick check list for optimal performance of SQL Server on Azure Virtual Machines:</span></span>

| <span data-ttu-id="f9679-115">영역</span><span class="sxs-lookup"><span data-stu-id="f9679-115">Area</span></span> | <span data-ttu-id="f9679-116">최적화</span><span class="sxs-lookup"><span data-stu-id="f9679-116">Optimizations</span></span> |
| --- | --- |
| [<span data-ttu-id="f9679-117">VM 크기</span><span class="sxs-lookup"><span data-stu-id="f9679-117">VM size</span></span>](#vm-size-guidance) |<span data-ttu-id="f9679-118">SQL Enterprise Edition [DS3](../../virtual-machines-windows-sizes-memory.md) 이상</span><span class="sxs-lookup"><span data-stu-id="f9679-118">[DS3](../../virtual-machines-windows-sizes-memory.md) or higher for SQL Enterprise edition.</span></span><br/><br/><span data-ttu-id="f9679-119">SQL Standard 및 Web Edition [DS2](../../virtual-machines-windows-sizes-memory.md) 이상</span><span class="sxs-lookup"><span data-stu-id="f9679-119">[DS2](../../virtual-machines-windows-sizes-memory.md) or higher for SQL Standard and Web editions.</span></span> |
| [<span data-ttu-id="f9679-120">저장소</span><span class="sxs-lookup"><span data-stu-id="f9679-120">Storage</span></span>](#storage-guidance) |<span data-ttu-id="f9679-121">[프리미엄 저장소](../../../storage/common/storage-premium-storage.md)를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-121">Use [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span> <span data-ttu-id="f9679-122">표준 저장소는 개발/테스트에만 권장됩니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-122">Standard storage is only recommended for dev/test.</span></span><br/><br/><span data-ttu-id="f9679-123">동일한 지역에 SQL Server VM 및 [저장소 계정](../../../storage/common/storage-create-storage-account.md)을 유지합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-123">Keep the [storage account](../../../storage/common/storage-create-storage-account.md) and SQL Server VM in the same region.</span></span><br/><br/><span data-ttu-id="f9679-124">저장소 계정의 Azure [지역 중복 저장소](../../../storage/common/storage-redundancy.md) (지역에서 복제)를 사용하지 않도록 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-124">Disable Azure [geo-redundant storage](../../../storage/common/storage-redundancy.md) (geo-replication) on the storage account.</span></span> |
| [<span data-ttu-id="f9679-125">디스크</span><span class="sxs-lookup"><span data-stu-id="f9679-125">Disks</span></span>](#disks-guidance) |<span data-ttu-id="f9679-126">최소 2개의 [P30 디스크](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets)를 사용합니다(로그 파일용 1개, 데이터 파일 및 TempDB용 1개).</span><span class="sxs-lookup"><span data-stu-id="f9679-126">Use a minimum of 2 [P30 disks](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) (1 for log files; 1 for data files and TempDB).</span></span><br/><br/><span data-ttu-id="f9679-127">데이터베이스 저장소나 로깅을 위해 운영 체제 또는 임시 디스크를 사용하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-127">Avoid using operating system or temporary disks for database storage or logging.</span></span><br/><br/><span data-ttu-id="f9679-128">데이터 파일 및 TempDB를 호스트하는 디스크에서 읽기 캐싱을 사용하도록 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-128">Enable read caching on the disk(s) hosting the data files and TempDB.</span></span><br/><br/><span data-ttu-id="f9679-129">로그 파일을 호스트하는 디스크에서는 캐싱을 사용하도록 설정하지 마세요.</span><span class="sxs-lookup"><span data-stu-id="f9679-129">Do not enable caching on disk(s) hosting the log file.</span></span><br/><br/><span data-ttu-id="f9679-130">중요: Azure VM 디스크에 대한 캐시 설정을 변경하는 경우 SQL Server 서비스를 중지합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-130">Important: Stop the SQL Server service when changing the cache settings for an Azure VM disk.</span></span><br/><br/><span data-ttu-id="f9679-131">IO 처리량이 증가하도록 여러 Azure 데이터 디스크를 스트라이프합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-131">Stripe multiple Azure data disks to get increased IO throughput.</span></span><br/><br/><span data-ttu-id="f9679-132">문서화된 할당 크기로 포맷합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-132">Format with documented allocation sizes.</span></span> |
| [<span data-ttu-id="f9679-133">I/O</span><span class="sxs-lookup"><span data-stu-id="f9679-133">I/O</span></span>](#io-guidance) |<span data-ttu-id="f9679-134">데이터베이스 페이지 압축을 사용하도록 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-134">Enable database page compression.</span></span><br/><br/><span data-ttu-id="f9679-135">데이터 파일에 대해 즉시 파일 초기화를 사용하도록 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-135">Enable instant file initialization for data files.</span></span><br/><br/><span data-ttu-id="f9679-136">데이터베이스에서 자동 증가를 제한하거나 사용하지 않도록 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-136">Limit or disable autogrow on the database.</span></span><br/><br/><span data-ttu-id="f9679-137">데이터베이스에서 자동 축소를 사용하지 않도록 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-137">Disable autoshrink on the database.</span></span><br/><br/><span data-ttu-id="f9679-138">시스템 데이터베이스를 포함하여 모든 데이터베이스를 데이터 디스크로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-138">Move all databases to data disks, including system databases.</span></span><br/><br/><span data-ttu-id="f9679-139">SQL Server 오류 로그 및 추적 파일 디렉터리를 데이터 디스크로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-139">Move SQL Server error log and trace file directories to data disks.</span></span><br/><br/><span data-ttu-id="f9679-140">기본 백업 및 데이터베이스 파일 위치를 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-140">Setup default backup and database file locations.</span></span><br/><br/><span data-ttu-id="f9679-141">잠긴 페이지를 사용하도록 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-141">Enable locked pages.</span></span><br/><br/><span data-ttu-id="f9679-142">SQL Server 성능 픽스를 적용합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-142">Apply SQL Server performance fixes.</span></span> |
| [<span data-ttu-id="f9679-143">기능 관련</span><span class="sxs-lookup"><span data-stu-id="f9679-143">Feature specific</span></span>](#feature-specific-guidance) |<span data-ttu-id="f9679-144">Blob 저장소에 직접 백업합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-144">Back up directly to blob storage.</span></span> |

<span data-ttu-id="f9679-145">이러한 최적화를 수행하는 *방법* 및 *이유*에 대한 자세한 내용은 다음 섹션에 나와 있는 세부 정보 및 지침을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f9679-145">For more information on *how* and *why* to make these optimizations, please review the details and guidance provided in following sections.</span></span>

## <a name="vm-size-guidance"></a><span data-ttu-id="f9679-146">VM 크기 지침</span><span class="sxs-lookup"><span data-stu-id="f9679-146">VM size guidance</span></span>

<span data-ttu-id="f9679-147">성능이 중요한 응용 프로그램의 경우 다음 [가상 컴퓨터 크기](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)를 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-147">For performance sensitive applications, it’s recommended that you use the following [virtual machines sizes](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json):</span></span>

* <span data-ttu-id="f9679-148">**SQL Server Enterprise Edition**: DS3 이상</span><span class="sxs-lookup"><span data-stu-id="f9679-148">**SQL Server Enterprise Edition**: DS3 or higher</span></span>
* <span data-ttu-id="f9679-149">**SQL Server Standard 및 Web Edition**: DS2 이상</span><span class="sxs-lookup"><span data-stu-id="f9679-149">**SQL Server Standard and Web Editions**: DS2 or higher</span></span>

## <a name="storage-guidance"></a><span data-ttu-id="f9679-150">저장소 지침</span><span class="sxs-lookup"><span data-stu-id="f9679-150">Storage guidance</span></span>

<span data-ttu-id="f9679-151">DS 시리즈(DSv2 시리즈 및 GS 시리즈와 함께) VM은 [프리미엄 저장소](../../../storage/common/storage-premium-storage.md)를 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-151">DS-series (along with DSv2-series and GS-series) VMs support [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span> <span data-ttu-id="f9679-152">프리미엄 저장소는 모든 프로덕션 워크로드에 권장됩니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-152">Premium Storage is recommended for all production workloads.</span></span>

> [!WARNING]
> <span data-ttu-id="f9679-153">표준 저장소는 대기 시간 및 대역폭이 다양하므로 개발/테스트 워크로드에만 권장됩니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-153">Standard Storage has varying latencies and bandwidth and is only recommended for dev/test workloads.</span></span> <span data-ttu-id="f9679-154">프로덕션 워크로드에는 프리미엄 저장소를 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-154">Production workloads should use Premium Storage.</span></span>

<span data-ttu-id="f9679-155">또한 전송 지연을 줄이기 위해 SQL Server 가상 컴퓨터와 동일한 데이터 센터에서 Azure 저장소 계정을 만드는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-155">In addition, we recommend that you create your Azure storage account in the same data center as your SQL Server virtual machines to reduce transfer delays.</span></span> <span data-ttu-id="f9679-156">저장소 계정을 만들 때 여러 디스크 간에 일관된 쓰기 순서가 보장되지 않기 때문에 지역에서 복제를 사용하지 않도록 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-156">When creating a storage account, disable geo-replication as consistent write order across multiple disks is not guaranteed.</span></span> <span data-ttu-id="f9679-157">대신 두 Azure 데이터 센터 간에 SQL Server 재해 복구 기술을 구성하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-157">Instead, consider configuring a SQL Server disaster recovery technology between two Azure data centers.</span></span> <span data-ttu-id="f9679-158">자세한 내용은 [Azure Virtual Machines의 SQL Server에 대한 고가용성 및 재해 복구](virtual-machines-windows-sql-high-availability-dr.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f9679-158">For more information, see [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span>

## <a name="disks-guidance"></a><span data-ttu-id="f9679-159">디스크 지침</span><span class="sxs-lookup"><span data-stu-id="f9679-159">Disks guidance</span></span>

<span data-ttu-id="f9679-160">Azure VM의 디스크 유형에는 크게 세 가지가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-160">There are three main disk types on an Azure VM:</span></span>

* <span data-ttu-id="f9679-161">**OS 디스크**: Azure 가상 컴퓨터를 만들 때 플랫폼에서는 운영 체제 디스크에 대한 VM에 하나 이상의 디스크(**C** 드라이브로 레이블이 지정됨)를 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-161">**OS disk**: When you create an Azure Virtual Machine, the platform will attach at least one disk (labeled as the **C** drive) to the VM for your operating system disk.</span></span> <span data-ttu-id="f9679-162">이 디스크는 저장소에 페이지 Blob으로 저장된 VHD입니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-162">This disk is a VHD stored as a page blob in storage.</span></span>
* <span data-ttu-id="f9679-163">**임시 디스크**: Azure 가상 컴퓨터는 임시 디스크(**D**: 드라이브로 레이블이 지정됨)라는 다른 디스크를 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-163">**Temporary disk**: Azure Virtual Machines contain another disk called the temporary disk (labeled as the **D**: drive).</span></span> <span data-ttu-id="f9679-164">이는 스크래치 공간에 사용할 수 있는 노드의 디스크입니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-164">This is a disk on the node that can be used for scratch space.</span></span>
* <span data-ttu-id="f9679-165">**데이터 디스크**: 추가 디스크는 가상 컴퓨터에 데이터 디스크로 연결될 수도 있으며 저장소에 페이지 Blob으로 저장됩니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-165">**Data disks**: You can also attach additional disks to your virtual machine as data disks, and these will be stored in storage as page blobs.</span></span>

<span data-ttu-id="f9679-166">다음 섹션에서는 이러한 서로 다른 디스크를 사용하기 위한 권장 사항을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-166">The following sections describe recommendations for using these different disks.</span></span>

### <a name="operating-system-disk"></a><span data-ttu-id="f9679-167">운영 체제 디스크</span><span class="sxs-lookup"><span data-stu-id="f9679-167">Operating system disk</span></span>

<span data-ttu-id="f9679-168">운영 체제 디스크는 운영 체제의 실행 버전으로 부팅하고 탑재할 수 있는 VHD이며 **C** 드라이브로 레이블이 지정됩니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-168">An operating system disk is a VHD that you can boot and mount as a running version of an operating system and is labeled as **C** drive.</span></span>

<span data-ttu-id="f9679-169">운영 체제 디스크의 기본 캐싱 정책은 **읽기/쓰기**입니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-169">Default caching policy on the operating system disk is **Read/Write**.</span></span> <span data-ttu-id="f9679-170">성능이 중요한 응용 프로그램의 경우 운영 체제 디스크 대신에 데이터 디스크를 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-170">For performance sensitive applications, we recommend that you use data disks instead of the operating system disk.</span></span> <span data-ttu-id="f9679-171">아래의 데이터 디스크에 관한 섹션을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f9679-171">See the section on Data Disks below.</span></span>

### <a name="temporary-disk"></a><span data-ttu-id="f9679-172">임시 디스크</span><span class="sxs-lookup"><span data-stu-id="f9679-172">Temporary disk</span></span>

<span data-ttu-id="f9679-173">**D**: 드라이브로 레이블이 지정된 임시 저장소 드라이브는 Azure Blob 저장소에 유지되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-173">The temporary storage drive, labeled as the **D**: drive, is not persisted to Azure blob storage.</span></span> <span data-ttu-id="f9679-174">사용자 데이터베이스 파일 또는 사용자 트랜잭션 로그 파일은 **D**: 드라이브에 저장하지 않도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-174">Do not store your user database files or user transaction log files on the **D**: drive.</span></span>

<span data-ttu-id="f9679-175">D 시리즈, Dv2 시리즈 및 G 시리즈 VM의 경우 이러한 VM의 임시 드라이브는 SSD를 기반으로 합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-175">For D-series, Dv2-series, and G-series VMs, the temporary drive on these VMs is SSD-based.</span></span> <span data-ttu-id="f9679-176">작업에 TempDB가 과도하게 사용될 경우(예: 임시 개체 또는 복잡한 조인) **D** 드라이브에 TempDB를 저장하면 TempDB 처리량은 더 높아지고 TempDB 대기 시간은 줄어들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-176">If your workload makes heavy use of TempDB (e.g. for temporary objects or complex joins), storing TempDB on the **D** drive could result in higher TempDB throughput and lower TempDB latency.</span></span>

<span data-ttu-id="f9679-177">Premium Storage를 지원하는 VM(DS 시리즈, DSv2 시리즈 및 GS 시리즈)의 경우 읽기 캐싱을 사용하도록 설정된 Premium Storage를 지원하는 디스크에 TempDB를 저장하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-177">For VMs that support Premium Storage (DS-series, DSv2-series, and GS-series), we recommend storing TempDB on a disk that supports Premium Storage with read caching enabled.</span></span> <span data-ttu-id="f9679-178">이 권장 사항에 대한 한 가지 예외가 있습니다. TempDB가 주로 쓰기에 사용되는 경우 이러한 컴퓨터 크기에서 SSD 기반이기도 한, 로컬 **D** 드라이브에 TempDB를 저장하면 더 높은 성능을 실현할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-178">There is one exception to this recommendation; if your TempDB usage is write-intensive, you can achieve higher performance by storing TempDB on the local **D** drive, which is also SSD-based on these machine sizes.</span></span>

### <a name="data-disks"></a><span data-ttu-id="f9679-179">데이터 디스크</span><span class="sxs-lookup"><span data-stu-id="f9679-179">Data disks</span></span>

* <span data-ttu-id="f9679-180">**데이터 및 로그 파일에 데이터 디스크 사용**: 최소 2개의 Premium Storage [P30 디스크](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets)를 사용합니다(로그 파일용 1개, 데이터 및 TempDB 파일용 1개).</span><span class="sxs-lookup"><span data-stu-id="f9679-180">**Use data disks for data and log files**: At a minimum, use 2 Premium Storage [P30 disks](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) where one disk contains the log file(s) and the other contains the data and TempDB file(s).</span></span> <span data-ttu-id="f9679-181">각 Premium Storage 디스크는 [디스크에 Premium Storage 사용](../../../storage/common/storage-premium-storage.md) 문서에 설명된 대로 해당 크기에 따라 여러 IOPs 및 대역폭(MB/s)을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-181">Each Premium Storage disk provides a number of IOPs and bandwidth (MB/s) depending on its size, as described in the following article: [Using Premium Storage for Disks](../../../storage/common/storage-premium-storage.md).</span></span>

* <span data-ttu-id="f9679-182">**디스크 스트라이프**: 더 많은 처리량이 필요한 경우 추가 데이터 디스크를 추가하고 디스크 스트라이프를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-182">**Disk Striping**: For more throughput, you can add additional data disks and use Disk Striping.</span></span> <span data-ttu-id="f9679-183">데이터 디스크 수를 확인하려면 로그 파일과 데이터 및 TempDB 파일에 필요한 IOPS 및 대역폭 수를 분석해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-183">To determine the number of data disks, you need to analyze the number of IOPS and bandwidth required for your log file(s), and for your data and TempDB file(s).</span></span> <span data-ttu-id="f9679-184">VM 크기에 따라 IOPs 및 대역폭 수에 대한 제한이 다릅니다. [VM 크기](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)별 IOPS에 대한 표를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f9679-184">Notice that different VM sizes have different limits on the number of IOPs and bandwidth supported, see the tables on IOPS per [VM size](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span> <span data-ttu-id="f9679-185">다음 지침을 사용하세요.</span><span class="sxs-lookup"><span data-stu-id="f9679-185">Use the following guidelines:</span></span>

  * <span data-ttu-id="f9679-186">Windows 8/Windows Server 2012 이상인 경우 다음 지침을 통해 [저장소 공간](https://technet.microsoft.com/library/hh831739.aspx)을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-186">For Windows 8/Windows Server 2012 or later, use [Storage Spaces](https://technet.microsoft.com/library/hh831739.aspx) with the following guidelines:</span></span>

      1. <span data-ttu-id="f9679-187">파티션 잘못 맞춤으로 인한 영향이 성능에 미치지 않도록 하려면 OLTP 워크로드에는 64KB(65536바이트), 데이터 웨어하우징 워크로드에는 256KB(262144바이트)로 인터리빙(스트라이프 크기)을 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-187">Set the interleave (stripe size) to 64 KB (65536 bytes) for OLTP workloads and 256 KB (262144 bytes) for data warehousing workloads to avoid performance impact due to partition misalignment.</span></span> <span data-ttu-id="f9679-188">이는 PowerShell로 설정되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-188">This must be set with PowerShell.</span></span>
      1. <span data-ttu-id="f9679-189">열 수를 실제 디스크 수로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-189">Set column count = number of physical disks.</span></span> <span data-ttu-id="f9679-190">8개 이상의 디스크(서버 관리자 UI 아님)를 구성하는 경우 PowerShell을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-190">Use PowerShell when configuring more than 8 disks (not Server Manager UI).</span></span> 

    <span data-ttu-id="f9679-191">예를 들어, 다음 PowerShell은 인터리빙 크기가 64KB이며 열 수를 2로 설정한 새 저장소 풀을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-191">For example, the following PowerShell creates a new storage pool with the interleave size to 64 KB and the number of columns to 2:</span></span>

    ```powershell
    $PoolCount = Get-PhysicalDisk -CanPool $True
    $PhysicalDisks = Get-PhysicalDisk | Where-Object {$_.FriendlyName -like "*2" -or $_.FriendlyName -like "*3"}

    New-StoragePool -FriendlyName "DataFiles" -StorageSubsystemFriendlyName "Storage Spaces*" -PhysicalDisks $PhysicalDisks | New-VirtualDisk -FriendlyName "DataFiles" -Interleave 65536 -NumberOfColumns 2 -ResiliencySettingName simple –UseMaximumSize |Initialize-Disk -PartitionStyle GPT -PassThru |New-Partition -AssignDriveLetter -UseMaximumSize |Format-Volume -FileSystem NTFS -NewFileSystemLabel "DataDisks" -AllocationUnitSize 65536 -Confirm:$false 
    ```

  * <span data-ttu-id="f9679-192">Windows 2008 R2 또는 이전 버전에서는 동적 디스크(OS 스트라이프 볼륨)를 사용할 수 있으며 스트라이프 크기는 항상 64KB입니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-192">For Windows 2008 R2 or earlier, you can use dynamic disks (OS striped volumes) and the stripe size is always 64 KB.</span></span> <span data-ttu-id="f9679-193">이 옵션은 Windows 8/Windows Server 2012부터 사용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-193">Note that this option is deprecated as of Windows 8/Windows Server 2012.</span></span> <span data-ttu-id="f9679-194">자세한 내용은 [가상 디스크 서비스가 Windows 저장소 관리 API로 전환](https://msdn.microsoft.com/library/windows/desktop/hh848071.aspx)에 있는 지원 설명을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f9679-194">For information, see the support statement at [Virtual Disk Service is transitioning to Windows Storage Management API](https://msdn.microsoft.com/library/windows/desktop/hh848071.aspx).</span></span>

  * <span data-ttu-id="f9679-195">작업에 로그가 많지 않고 전용 IOPS를 필요로 하지 않으면 1개의 저장소 풀만 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-195">If your workload is not log intensive and does not need dedicated IOPs, you can configure just one storage pool.</span></span> <span data-ttu-id="f9679-196">그렇지 않은 경우 2개의 저장소 풀(로그 파일용 1개, 데이터 파일 및 TempDB용 1개)을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-196">Otherwise, create two storage pools, one for the log file(s) and another storage pool for the data file(s) and TempDB.</span></span> <span data-ttu-id="f9679-197">예상되는 부하에 따라 각 저장소 풀에 연결되는 디스크 수를 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-197">Determine the number of disks associated with each storage pool based on your load expectations.</span></span> <span data-ttu-id="f9679-198">VM 크기가 다르면 연결된 데이터 디스크 수도 다를 수 있다는 점에 유의하세요.</span><span class="sxs-lookup"><span data-stu-id="f9679-198">Keep in mind that different VM sizes allow different numbers of attached data disks.</span></span> <span data-ttu-id="f9679-199">자세한 내용은 [가상 컴퓨터의 크기](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f9679-199">For more information, see [Sizes for Virtual Machines](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

  * <span data-ttu-id="f9679-200">프리미엄 저장소를 사용하지 않는 경우(개발/테스트 시나리오) 해당 [VM 크기](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)로 지원되는 최대 수의 데이터 디스크를 추가하고 디스크 스트라이프를 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-200">If you are not using Premium Storage (dev/test scenarios), the recommendation is to add the maximum number of data disks supported by your [VM size](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) and use Disk Striping.</span></span>

* <span data-ttu-id="f9679-201">**캐싱 정책**: 프리미엄 저장소 데이터 디스크의 경우 데이터 파일 및 TempDB만 호스트하는 데이터 디스크에서 읽기 캐싱을 사용하도록 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-201">**Caching policy**: For Premium Storage data disks, enable read caching on the data disks hosting your data files and TempDB only.</span></span> <span data-ttu-id="f9679-202">프리미엄 저장소를 사용하지 않는 경우 모든 데이터 디스크에서 모든 캐싱을 사용하도록 설정하지 마세요.</span><span class="sxs-lookup"><span data-stu-id="f9679-202">If you are not using Premium Storage, do not enable any caching on any data disks.</span></span> <span data-ttu-id="f9679-203">디스크 캐싱 구성에 대한 지침은 [Set-AzureOSDisk](https://msdn.microsoft.com/library/azure/jj152847) 및 [Set-AzureDataDisk](https://msdn.microsoft.com/library/azure/jj152851.aspx) 항목을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f9679-203">For instructions on configuring disk caching, see the following topics: [Set-AzureOSDisk](https://msdn.microsoft.com/library/azure/jj152847) and [Set-AzureDataDisk](https://msdn.microsoft.com/library/azure/jj152851.aspx).</span></span>

  > [!WARNING]
  > <span data-ttu-id="f9679-204">데이터베이스 손상 가능성을 방지하려면 Azure VM 디스크의 캐시 설정을 변경할 때 SQL Server 서비스를 중지합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-204">Stop the SQL Server service when changing the cache setting of Azure VM disks to avoid the possibility of any database corruption.</span></span>

* <span data-ttu-id="f9679-205">**NTFS 할당 단위 크기**: 데이터 디스크를 포맷할 때 TempDB뿐만 아니라 데이터 및 로그 파일에 대해 64KB 할당 단위 크기를 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-205">**NTFS allocation unit size**: When formatting the data disk, it is recommended that you use a 64-KB allocation unit size for data and log files as well as TempDB.</span></span>

* <span data-ttu-id="f9679-206">**디스크 관리 모범 사례**: 데이터 디스크를 제거하거나 캐시 유형을 변경할 때 변경하는 동안 SQL Server 서비스를 중지합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-206">**Disk management best practices**: When removing a data disk or changing its cache type, stop the SQL Server service during the change.</span></span> <span data-ttu-id="f9679-207">OS 디스크에 대한 캐싱 설정이 변경되면 Azure는 VM을 중지하고, 캐시 유형을 변경하고 VM을 다시 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-207">When the caching settings are changed on the OS disk, Azure stops the VM, changes the cache type, and restarts the VM.</span></span> <span data-ttu-id="f9679-208">데이터 디스크의 캐시 설정이 변경될 경우 변경 중에 VM은 중지되지 않지만 데이터 디스크가 VM에서 분리되었다가 다시 연결됩니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-208">When the cache settings of a data disk are changed, the VM is not stopped, but the data disk is detached from the VM during the change and then reattached.</span></span>

  > [!WARNING]
  > <span data-ttu-id="f9679-209">이러한 작업 중에 SQL Server 서비스를 중지하지 못하면 데이터베이스가 손상될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-209">Failure to stop the SQL Server service during these operations can cause database corruption.</span></span>

## <a name="io-guidance"></a><span data-ttu-id="f9679-210">I/O 지침</span><span class="sxs-lookup"><span data-stu-id="f9679-210">I/O guidance</span></span>

* <span data-ttu-id="f9679-211">프리미엄 저장소를 사용하여 최상의 결과를 얻으려면 응용 프로그램과 요청을 병렬 처리합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-211">The best results with Premium Storage are achieved when you parallelize your application and requests.</span></span> <span data-ttu-id="f9679-212">프리미엄 저장소는 IO 큐 크기가 1보다 큰 시나리오에 대해 설계되었기 때문에 저장소를 많이 사용하더라도 단일 스레드 직렬 요청에 대한 성능 이점이 거의 없거나 전혀 없습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-212">Premium Storage is designed for scenarios where the IO queue depth is greater than 1, so you will see little or no performance gains for single-threaded serial requests (even if they are storage intensive).</span></span> <span data-ttu-id="f9679-213">예를 들어 이는 SQLIO와 같은 성능 분석 도구의 단일 스레드 테스트 결과에 영향을 줄 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-213">For example, this could impact the single-threaded test results of performance analysis tools, such as SQLIO.</span></span>

* <span data-ttu-id="f9679-214">[데이터베이스 페이지 압축](https://msdn.microsoft.com/library/cc280449.aspx)을 사용하면 I/O가 많은 작업의 성능이 향상될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-214">Consider using [database page compression](https://msdn.microsoft.com/library/cc280449.aspx) as it can help improve performance of I/O intensive workloads.</span></span> <span data-ttu-id="f9679-215">그러나 데이터 압축은 데이터베이스 서버의 CPU 사용량을 늘릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-215">However, the data compression might increase the CPU consumption on the database server.</span></span>

* <span data-ttu-id="f9679-216">초기 파일 할당에 필요한 시간을 줄이기 위해 즉시 파일 초기화를 사용하도록 설정하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-216">Consider enabling instant file initialization to reduce the time that is required for initial file allocation.</span></span> <span data-ttu-id="f9679-217">즉시 파일 초기화를 이용하려면 SE_MANAGE_VOLUME_NAME으로 SQL Server(MSSQLSERVER) 서비스 계정을 부여하고 이를 **볼륨 유지 관리 작업 수행** 보안 정책에 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-217">To take advantage of instant file initialization, you grant the SQL Server (MSSQLSERVER) service account with SE_MANAGE_VOLUME_NAME and add it to the **Perform Volume Maintenance Tasks** security policy.</span></span> <span data-ttu-id="f9679-218">Azure용 SQL Server 플랫폼 이미지를 사용하면 기본 서비스 계정(NT Service\MSSQLSERVER)이 **볼륨 유지 관리 작업 수행** 보안 정책에 추가되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-218">If you are using a SQL Server platform image for Azure, the default service account (NT Service\MSSQLSERVER) isn’t added to the **Perform Volume Maintenance Tasks** security policy.</span></span> <span data-ttu-id="f9679-219">즉, 즉시 파일 초기화는 SQL Server Azure 플랫폼 이미지에서 사용하도록 설정되어 있지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-219">In other words, instant file initialization is not enabled in a SQL Server Azure platform image.</span></span> <span data-ttu-id="f9679-220">SQL Server 서비스 계정을 **볼륨 유지 관리 작업 수행** 보안 정책에 추가한 후 SQL Server 서비스를 다시 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-220">After adding the SQL Server service account to the **Perform Volume Maintenance Tasks** security policy, restart the SQL Server service.</span></span> <span data-ttu-id="f9679-221">이 기능을 사용하기 위한 보안 고려 사항이 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-221">There could be security considerations for using this feature.</span></span> <span data-ttu-id="f9679-222">자세한 내용은 [데이터베이스 파일 초기화](https://msdn.microsoft.com/library/ms175935.aspx)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f9679-222">For more information, see [Database File Initialization](https://msdn.microsoft.com/library/ms175935.aspx).</span></span>

* <span data-ttu-id="f9679-223">**자동 증가**는 예기치 않은 증가에 대한 대책으로만 고려합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-223">**autogrow** is considered to be merely a contingency for unexpected growth.</span></span> <span data-ttu-id="f9679-224">일상적으로 자동 증가를 사용하여 사용자 데이터 및 로그 증가를 관리하지 마세요.</span><span class="sxs-lookup"><span data-stu-id="f9679-224">Do not manage your data and log growth on a day-to-day basis with autogrow.</span></span> <span data-ttu-id="f9679-225">자동 증가를 사용하면 Size 스위치를 사용하여 파일을 사전에 증가시킵니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-225">If autogrow is used, pre-grow the file using the Size switch.</span></span>

* <span data-ttu-id="f9679-226">**자동 축소**를 사용하지 않도록 설정하여 성능에 부정적인 영향을 미칠 수 있는 불필요한 오버헤드를 방지합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-226">Make sure **autoshrink** is disabled to avoid unnecessary overhead that can negatively affect performance.</span></span>

* <span data-ttu-id="f9679-227">시스템 데이터베이스를 포함하여 모든 데이터베이스를 데이터 디스크로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-227">Move all databases to data disks, including system databases.</span></span> <span data-ttu-id="f9679-228">자세한 내용은 [시스템 데이터베이스 이동](https://msdn.microsoft.com/library/ms345408.aspx)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f9679-228">For more information, see [Move System Databases](https://msdn.microsoft.com/library/ms345408.aspx).</span></span>

* <span data-ttu-id="f9679-229">SQL Server 오류 로그 및 추적 파일 디렉터리를 데이터 디스크로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-229">Move SQL Server error log and trace file directories to data disks.</span></span> <span data-ttu-id="f9679-230">SQL Server 구성 관리자에서 SQL Server 인스턴스를 마우스 오른쪽 단추로 클릭하고 속성을 선택하여 이를 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-230">This can be done in SQL Server Configuration Manager by right-clicking your SQL Server instance and selecting properties.</span></span> <span data-ttu-id="f9679-231">오류 로그 및 추적 파일 설정은 **시작 매개 변수** 탭에서 변경할 수 있습니다. 덤프 디렉터리는 **고급** 탭에서 지정합니다. 다음 스크린샷에서는 오류 로그 시작 매개 변수를 찾을 위치를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-231">The error log and trace file settings can be changed in the **Startup Parameters** tab. The Dump Directory is specified in the **Advanced** tab. The following screenshot shows where to look for the error log startup parameter.</span></span>

    ![SQL 오류 로그 스크린샷](./media/virtual-machines-windows-sql-performance/sql_server_error_log_location.png)

* <span data-ttu-id="f9679-233">기본 백업 및 데이터베이스 파일 위치를 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-233">Setup default backup and database file locations.</span></span> <span data-ttu-id="f9679-234">이 항목의 권장 사항을 사용하여 서버 속성 창에서 변경합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-234">Use the recommendations in this topic, and make the changes in the Server properties window.</span></span> <span data-ttu-id="f9679-235">지침은 [데이터 및 로그 파일의 기본 위치 보기 또는 변경(SQL Server Management Studio)](https://msdn.microsoft.com/library/dd206993.aspx)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f9679-235">For instructions, see [View or Change the Default Locations for Data and Log Files (SQL Server Management Studio)](https://msdn.microsoft.com/library/dd206993.aspx).</span></span> <span data-ttu-id="f9679-236">다음 스크린샷에서는 이러한 변경 작업을 수행하는 위치를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-236">The following screenshot demonstrates where to make these changes.</span></span>

    ![SQL 데이터 로그 및 백업 파일](./media/virtual-machines-windows-sql-performance/sql_server_default_data_log_backup_locations.png)
* <span data-ttu-id="f9679-238">잠긴 페이지를 사용하도록 설정하여 IO 및 페이징 작업을 줄입니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-238">Enable locked pages to reduce IO and any paging activities.</span></span> <span data-ttu-id="f9679-239">자세한 내용은 [메모리 내 페이지 잠금 옵션 사용(Windows)](https://msdn.microsoft.com/library/ms190730.aspx)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f9679-239">For more information, see [Enable the Lock Pages in Memory Option (Windows)](https://msdn.microsoft.com/library/ms190730.aspx).</span></span>

* <span data-ttu-id="f9679-240">SQL Server 2012를 실행 중인 경우 서비스 팩 1 누적 업데이트 10을 설치합니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-240">If you are running SQL Server 2012, install Service Pack 1 Cumulative Update 10.</span></span> <span data-ttu-id="f9679-241">이 업데이트에는 SQL Server 2012에서 임시 테이블에 대한 select 문을 실행할 때 I/O 성능 저하에 대한 픽스가 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-241">This update contains the fix for poor performance on I/O when you execute select into temporary table statement in SQL Server 2012.</span></span> <span data-ttu-id="f9679-242">자세한 내용은 [기술 자료 문서](http://support.microsoft.com/kb/2958012)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f9679-242">For information, see this [knowledge base article](http://support.microsoft.com/kb/2958012).</span></span>

* <span data-ttu-id="f9679-243">모든 데이터 파일은 Azure에서 송수신할 때 압축하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-243">Consider compressing any data files when transferring in/out of Azure.</span></span>

## <a name="feature-specific-guidance"></a><span data-ttu-id="f9679-244">기능 관련 지침</span><span class="sxs-lookup"><span data-stu-id="f9679-244">Feature specific guidance</span></span>

<span data-ttu-id="f9679-245">더 많은 고급 구성 기술을 사용하면 일부 배포에서 추가적인 성능 이점을 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-245">Some deployments may achieve additional performance benefits using more advanced configuration techniques.</span></span> <span data-ttu-id="f9679-246">다음 목록에는 성능 개선에 도움이 되는 일부 SQL Server 기능이 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-246">The following list highlights some SQL Server features that can help you to achieve better performance:</span></span>

* <span data-ttu-id="f9679-247">**Azure 저장소에 백업**: Azure 가상 컴퓨터에서 실행 중인 SQL Server의 백업을 수행할 때 [URL에 SQL Server 백업](https://msdn.microsoft.com/library/dn435916.aspx)을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-247">**Backup to Azure storage**: When performing backups for SQL Server running in Azure virtual machines, you can use [SQL Server Backup to URL](https://msdn.microsoft.com/library/dn435916.aspx).</span></span> <span data-ttu-id="f9679-248">이 기능은 SQL Server 2012 SP1 CU2부터 사용할 수 있으며 연결된 데이터 디스크에 백업하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-248">This feature is available starting with SQL Server 2012 SP1 CU2 and recommended for backing up to the attached data disks.</span></span> <span data-ttu-id="f9679-249">Azure 저장소에 백업하거나 Azure 저장소에서 복원할 때 [URL에 SQL Server 백업의 모범 사례와 문제 해결 및 Azure 저장소에 저장된 백업에서 복원](https://msdn.microsoft.com/library/jj919149.aspx)에 제공된 권장 사항을 따르세요.</span><span class="sxs-lookup"><span data-stu-id="f9679-249">When you backup/restore to/from Azure storage, follow the recommendations provided at [SQL Server Backup to URL Best Practices and Troubleshooting and Restoring from Backups Stored in Azure Storage](https://msdn.microsoft.com/library/jj919149.aspx).</span></span> <span data-ttu-id="f9679-250">[Azure 가상 컴퓨터의 SQL Server에 대한 자동화된 백업](virtual-machines-windows-sql-automated-backup.md)을 사용하여 이러한 백업을 자동화할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-250">You can also automate these backups using [Automated Backup for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-backup.md).</span></span>

    <span data-ttu-id="f9679-251">SQL Server 2012 이전 버전에서는 [Azure에 SQL Server 백업 도구](https://www.microsoft.com/download/details.aspx?id=40740)를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-251">Prior to SQL Server 2012, you can use [SQL Server Backup to Azure Tool](https://www.microsoft.com/download/details.aspx?id=40740).</span></span> <span data-ttu-id="f9679-252">이 도구는 여러 백업 스트라이프 대상을 사용하여 백업 처리량을 늘릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-252">This tool can help to increase backup throughput using multiple backup stripe targets.</span></span>

* <span data-ttu-id="f9679-253">**Azure의 SQL Server 데이터 파일**: SQL Server 2014부터 새로운 기능인 [Azure의 SQL Server 데이터 파일](https://msdn.microsoft.com/library/dn385720.aspx)을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-253">**SQL Server Data Files in Azure**: This new feature, [SQL Server Data Files in Azure](https://msdn.microsoft.com/library/dn385720.aspx), is available starting with SQL Server 2014.</span></span> <span data-ttu-id="f9679-254">Azure에서 데이터 파일로 SQL Server를 실행하면 Azure 데이터 디스크를 사용하는 것과 견줄 만한 성능 특성을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="f9679-254">Running SQL Server with data files in Azure demonstrates comparable performance characteristics as using Azure data disks.</span></span>

## <a name="next-steps"></a><span data-ttu-id="f9679-255">다음 단계</span><span class="sxs-lookup"><span data-stu-id="f9679-255">Next Steps</span></span>

<span data-ttu-id="f9679-256">보안 모범 사례는 [Azure Virtual Machines의 SQL Server에 대한 보안 고려 사항](virtual-machines-windows-sql-security.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f9679-256">For security best practices, see [Security Considerations for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-security.md).</span></span>

<span data-ttu-id="f9679-257">[Azure Virtual Machines의 SQL Server 개요](virtual-machines-windows-sql-server-iaas-overview.md)에서 다른 SQL Server 가상 컴퓨터 항목을 검토하세요.</span><span class="sxs-lookup"><span data-stu-id="f9679-257">Review other SQL Server Virtual Machine topics at [SQL Server on Azure Virtual Machines Overview](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>
