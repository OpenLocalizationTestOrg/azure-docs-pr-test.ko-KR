---
title: "Azure에서 Windows Vm에 대해 aaaAvailability 설정 | Microsoft Docs"
description: "Hello 핵심 디자인 및 구현 지침 Azure 인프라 서비스의 가용성 집합을 배포 하기 위한 방법을 알아봅니다."
documentationcenter: 
services: virtual-machines-windows
author: iainfoulds
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: f9449f58-664b-4d5d-82f6-84c5d083047f
ms.service: virtual-machines-windows
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-windows
ms.devlang: na
ms.topic: article
ms.date: 06/26/2017
ms.author: iainfou
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: cc35fd1e913434d9facb94116edb1b1c30447c71
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="azure-availability-sets-guidelines-for-windows-vms"></a><span data-ttu-id="d440d-103">Windows VM에 대한 Azure 가용성 집합 지침</span><span class="sxs-lookup"><span data-stu-id="d440d-103">Azure availability sets guidelines for Windows VMs</span></span>

[!INCLUDE [virtual-machines-windows-infrastructure-guidelines-intro](../../../includes/virtual-machines-windows-infrastructure-guidelines-intro.md)]

<span data-ttu-id="d440d-104">이 문서에서는 필요한 이해 hello 가용성 집합 tooensure 응용 프로그램에 대 한 계획 단계에 계속 액세스할 수 계획 되거나 계획 되지 않은 이벤트 동안 합니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-104">This article focuses on understanding hello required planning steps for availability sets tooensure your applications remains accessible during planned or unplanned events.</span></span>

## <a name="implementation-guidelines-for-availability-sets"></a><span data-ttu-id="d440d-105">가용성 집합에 대한 구현 지침</span><span class="sxs-lookup"><span data-stu-id="d440d-105">Implementation guidelines for availability sets</span></span>
<span data-ttu-id="d440d-106">의사 결정:</span><span class="sxs-lookup"><span data-stu-id="d440d-106">Decisions:</span></span>

* <span data-ttu-id="d440d-107">가용성 집합을 얼마나 필요 한가요 hello에 대 한 다양 한 역할 및 계층 응용 프로그램 인프라에서?</span><span class="sxs-lookup"><span data-stu-id="d440d-107">How many availability sets do you need for hello various roles and tiers in your application infrastructure?</span></span>

<span data-ttu-id="d440d-108">작업:</span><span class="sxs-lookup"><span data-stu-id="d440d-108">Tasks:</span></span>

* <span data-ttu-id="d440d-109">필요한 각 응용 프로그램 계층에서 hello Vm 수를 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-109">Define hello number of VMs in each application tier you require.</span></span>
* <span data-ttu-id="d440d-110">응용 프로그램에 사용 되는 오류 또는 업데이트 도메인 toobe tooadjust hello 수 해야 하는지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-110">Determine if you need tooadjust hello number of fault or update domains toobe used for your application.</span></span>
* <span data-ttu-id="d440d-111">명명 규칙 및 작업를 사용 하는 데 필요한 hello 가용성 집합을 정의 합니다. Vm에 상주 합니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-111">Define hello required availability sets using your naming convention and what VMs reside in them.</span></span> <span data-ttu-id="d440d-112">VM은 하나의 가용성 집합에만 포함될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-112">A VM can only reside in one availability set.</span></span>

## <a name="availability-sets"></a><span data-ttu-id="d440d-113">가용성 집합</span><span class="sxs-lookup"><span data-stu-id="d440d-113">Availability sets</span></span>
<span data-ttu-id="d440d-114">Azure에서 가상 컴퓨터 (Vm)는 가용성 집합 이라는 tooa 논리적 그룹화에 배치할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-114">In Azure, virtual machines (VMs) can be placed in tooa logical grouping called an availability set.</span></span> <span data-ttu-id="d440d-115">가용성 집합 내에서 Vm을 만들 때 Azure 플랫폼 hello 인프라 내부 hello 해당 Vm의 hello 배치를 분산 합니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-115">When you create VMs within an availability set, hello Azure platform distributes hello placement of those VMs across hello underlying infrastructure.</span></span> <span data-ttu-id="d440d-116">계획 된 유지 관리 이벤트 toohello Azure 플랫폼 또는 기본 하드웨어 있을 해야/인프라 오류, hello 가용성 집합을 사용 하면 하나 이상의 VM 실행 상태로 유지 됩니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-116">Should there be a planned maintenance event toohello Azure platform or an underlying hardware / infrastructure fault, hello use of availability sets ensures that at least one VM remains running.</span></span>

<span data-ttu-id="d440d-117">모범 사례로 응용 프로그램은 단일 VM에만 상주하지 않는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-117">As a best practice, applications should not reside on a single VM.</span></span> <span data-ttu-id="d440d-118">단일 VM이 포함 된 가용성 집합에는 계획 되거나 계획 되지 않은 이벤트 hello Azure 플랫폼 내에서 모든 보호를 좁아집니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-118">An availability set that contains a single VM doesn't gain any protection from planned or unplanned events within hello Azure platform.</span></span> <span data-ttu-id="d440d-119">hello [Azure SLA](https://azure.microsoft.com/support/legal/sla/virtual-machines) 는 가용성 집합 tooallow hello 분배 Vm의 hello 기본 인프라 내에서 둘 이상의 Vm 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-119">hello [Azure SLA](https://azure.microsoft.com/support/legal/sla/virtual-machines) requires two or more VMs within an availability set tooallow hello distribution of VMs across hello underlying infrastructure.</span></span> <span data-ttu-id="d440d-120">사용 중인 경우 [Azure 프리미엄 저장소](../../storage/storage-premium-storage.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), hello Azure SLA 적용 tooa 단일 VM입니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-120">If you are using [Azure Premium Storage](../../storage/storage-premium-storage.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), hello Azure SLA applies tooa single VM.</span></span>

<span data-ttu-id="d440d-121">Azure의 hello 기본 인프라 toomultiple 하드웨어 클러스터에 분할 됩니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-121">hello underlying infrastructure in Azure is divided in toomultiple hardware clusters.</span></span> <span data-ttu-id="d440d-122">각 하드웨어 클러스터는 다양한 VM 크기를 지원할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-122">Each hardware cluster can support a range of VM sizes.</span></span> <span data-ttu-id="d440d-123">가용성 집합은 언제든지 특정 시점에 단일 하드웨어 클러스터에만 호스트될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-123">An availability set can only be hosted on a single hardware cluster at any point in time.</span></span> <span data-ttu-id="d440d-124">따라서 단일 가용성 집합에 있을 수 있는 hello 범위의 VM 크기는 hello 하드웨어 클러스터에서 지 원하는 제한 toohello VM의 범위 크기입니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-124">Therefore, hello range of VM sizes that can exist in a single availability set is limited toohello range of VM sizes supported by hello hardware cluster.</span></span> <span data-ttu-id="d440d-125">hello hello 가용성 집합의 첫 번째 VM을 배포할 때 또는 hello 중지-할당 취소 된 상태에서 모든 Vm을 현재 되 가용성 집합에 첫 번째 VM hello 시작할 때 hello 가용성 집합에 대 한 hello 하드웨어 클러스터 선택 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-125">hello hardware cluster for hello availability set is selected when hello first VM in hello availability set is deployed or when starting hello first VM in an availability set where all VMs are currently in hello stopped-deallocated state.</span></span> <span data-ttu-id="d440d-126">hello 다음 PowerShell 명령을 사용 하는 toodetermine hello 범위의 VM 크기 가용성 집합에 사용할 수 있는 일 수 있습니다: "Get AzureRmVMSize ResourceGroupName \<문자열\> -AvailabilitySetName \<문자열\> "</span><span class="sxs-lookup"><span data-stu-id="d440d-126">hello following PowerShell command can be used toodetermine hello range of VM sizes available for an availability set: "Get-AzureRmVMSize -ResourceGroupName \<string\> -AvailabilitySetName \<string\>"</span></span>

<span data-ttu-id="d440d-127">각 하드웨어 클러스터 toomultiple 업데이트 도메인과 오류 도메인에 분할 됩니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-127">Each hardware cluster is divided in toomultiple update domains and fault domains.</span></span> <span data-ttu-id="d440d-128">이러한 도메인은 공통 업데이트 주기를 공유하거나 전력 및 네트워킹과 같은 비슷한 실제 인프라를 공유하는 호스트에 의해 정의됩니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-128">These domains are defined by what hosts share a common update cycle, or share similar physical infrastructure such as power and networking.</span></span> <span data-ttu-id="d440d-129">Azure는 가용성 집합 도메인 toomaintain 가용성 및 내결함성 내에서 Vm을 자동으로 배포 합니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-129">Azure automatically distributes your VMs within an availability set across domains toomaintain availability and fault tolerance.</span></span> <span data-ttu-id="d440d-130">가용성 집합 내에서 Vm 수 hello 및 응용 프로그램의 hello 크기에 따라 hello 수를 조정할 수 있습니다 toouse 원하는 도메인입니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-130">Depending on hello size of your application and hello number of VMs within an availability set, you can adjust hello number of domains you wish toouse.</span></span> <span data-ttu-id="d440d-131">[업데이트 및 장애 도메인의 가용성 및 사용 관리](manage-availability.md)에 대해 자세히 읽어보세요.</span><span class="sxs-lookup"><span data-stu-id="d440d-131">You can read more about [managing availability and use of update and fault domains](manage-availability.md).</span></span>

<span data-ttu-id="d440d-132">응용 프로그램 인프라를 디자인할 때 사용 하는 hello 응용 프로그램 계층을 계획 합니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-132">When designing your application infrastructure, plan hello application tiers that you use.</span></span> <span data-ttu-id="d440d-133">Hello를 사용 하는 그룹 Vm의 가용성 집합 IIS를 실행 하 여 프런트 엔드 Vm을 같은 tooavailability 집합에서 용도로 동일 합니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-133">Group VMs that serve hello same purpose in tooavailability sets, such as an availability set for your front-end VMs running IIS.</span></span> <span data-ttu-id="d440d-134">SQL Server를 실행하는 백 엔드 VM에 대한 별도의 가용성 집합을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-134">Create a separate availability set for your back-end VMs running SQL Server.</span></span> <span data-ttu-id="d440d-135">hello ´ ֲ tooensure 응용 프로그램의 각 구성 요소 가용성 집합에 의해 보호 되 고 한 번 이상 인스턴스 항상은 계속 실행 됩니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-135">hello goal is tooensure that each component of your application is protected by an availability set and at least once instance always remains running.</span></span>

<span data-ttu-id="d440d-136">부하 분산 장치 가용성 집합과 함께 각 응용 프로그램 계층 toowork 앞에 사용 될 수 있습니다 및 트래픽 인스턴스를 실행 하는 라우트된 tooa 수 있는지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-136">Load balancers can be utilized in front of each application tier toowork alongside an availability set and ensure traffic can always be routed tooa running instance.</span></span> <span data-ttu-id="d440d-137">부하 분산 장치 없이 Vm에 전체 계획 되거나 계획 되지 않은 유지 관리 이벤트에서 실행을 계속 수는 있지만 최종 사용자의 경우 hello 주 VM 사용할 수 없으면 수 tooresolve 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-137">Without a load balancer, your VMs may continue running throughout planned and unplanned maintenance events, but your end user may not be able tooresolve them if hello primary VM is unavailable.</span></span>

<span data-ttu-id="d440d-138">저장소 계층에서 고가용성을 위해 응용 프로그램을 디자인합니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-138">Design your application for high availability at storage layer.</span></span> <span data-ttu-id="d440d-139">hello 가장 좋은 방법은 너무[가용성 집합에 Vm에 대 한 관리 되는 디스크를 사용 하 여](manage-availability.md#use-managed-disks-for-vms-in-an-availability-set)합니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-139">hello best practice is too[use Managed Disks for VMs in an Availability Set](manage-availability.md#use-managed-disks-for-vms-in-an-availability-set).</span></span> <span data-ttu-id="d440d-140">현재 관리 되지 않는 디스크를 사용 하는 경우 항상 좋습니다 너무[toouse 관리 하는 디스크 가용성 집합의 Vm으로 변환](convert-unmanaged-to-managed-disks.md#convert-vms-in-an-availability-set)합니다.</span><span class="sxs-lookup"><span data-stu-id="d440d-140">If you are currently using unmanaged disks, we highly recommend you too[convert VMs in Availability Set toouse Managed Disks](convert-unmanaged-to-managed-disks.md#convert-vms-in-an-availability-set).</span></span>

## <a name="next-steps"></a><span data-ttu-id="d440d-141">다음 단계</span><span class="sxs-lookup"><span data-stu-id="d440d-141">Next steps</span></span>
[!INCLUDE [virtual-machines-windows-infrastructure-guidelines-next-steps](../../../includes/virtual-machines-windows-infrastructure-guidelines-next-steps.md)]
