---
title: "Azure VM에서 SAP NetWeaver - DBMS 배포 가이드 | Microsoft Docs"
description: "Azure VMs(Virtual Machines)에서 SAP NetWeaver - DBMS 배포 가이드"
services: virtual-machines-windows,virtual-network,storage
documentationcenter: 
author: MSSedusch
manager: timlt
editor: 
tags: azure-resource-manager
keywords: 
ms.assetid: e0e05b5e-47aa-4c1e-bf83-0d62ee8f614e
ms.service: virtual-machines-windows
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: vm-windows
ms.workload: infrastructure-services
ms.date: 11/08/2016
ms.author: sedusch
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: cc7c85382d8f8183ef3eb3cc7496b012808148e5
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/11/2017
---
# <a name="sap-netweaver-on-azure-windows-virtual-machines-vms--dbms-deployment-guide"></a><span data-ttu-id="4ef6c-103">Azure Windows VM(가상 컴퓨터)에서 SAP NetWeaver - DBMS 배포 가이드</span><span class="sxs-lookup"><span data-stu-id="4ef6c-103">SAP NetWeaver on Azure Windows Virtual Machines (VMs) – DBMS Deployment Guide</span></span>
<span data-ttu-id="4ef6c-104">[767598]:https://launchpad.support.sap.com/#/notes/767598</span><span class="sxs-lookup"><span data-stu-id="4ef6c-104">[767598]:https://launchpad.support.sap.com/#/notes/767598</span></span>
<span data-ttu-id="4ef6c-105">[773830]:https://launchpad.support.sap.com/#/notes/773830</span><span class="sxs-lookup"><span data-stu-id="4ef6c-105">[773830]:https://launchpad.support.sap.com/#/notes/773830</span></span>
<span data-ttu-id="4ef6c-106">[826037]:https://launchpad.support.sap.com/#/notes/826037</span><span class="sxs-lookup"><span data-stu-id="4ef6c-106">[826037]:https://launchpad.support.sap.com/#/notes/826037</span></span>
<span data-ttu-id="4ef6c-107">[965908]:https://launchpad.support.sap.com/#/notes/965908</span><span class="sxs-lookup"><span data-stu-id="4ef6c-107">[965908]:https://launchpad.support.sap.com/#/notes/965908</span></span>
[1031096]:https://launchpad.support.sap.com/#/notes/1031096
<span data-ttu-id="4ef6c-108">[1139904]:https://launchpad.support.sap.com/#/notes/1139904</span><span class="sxs-lookup"><span data-stu-id="4ef6c-108">[1139904]:https://launchpad.support.sap.com/#/notes/1139904</span></span>
<span data-ttu-id="4ef6c-109">[1173395]:https://launchpad.support.sap.com/#/notes/1173395</span><span class="sxs-lookup"><span data-stu-id="4ef6c-109">[1173395]:https://launchpad.support.sap.com/#/notes/1173395</span></span>
<span data-ttu-id="4ef6c-110">[1245200]:https://launchpad.support.sap.com/#/notes/1245200</span><span class="sxs-lookup"><span data-stu-id="4ef6c-110">[1245200]:https://launchpad.support.sap.com/#/notes/1245200</span></span>
<span data-ttu-id="4ef6c-111">[1409604]:https://launchpad.support.sap.com/#/notes/1409604</span><span class="sxs-lookup"><span data-stu-id="4ef6c-111">[1409604]:https://launchpad.support.sap.com/#/notes/1409604</span></span>
<span data-ttu-id="4ef6c-112">[1558958]:https://launchpad.support.sap.com/#/notes/1558958</span><span class="sxs-lookup"><span data-stu-id="4ef6c-112">[1558958]:https://launchpad.support.sap.com/#/notes/1558958</span></span>
<span data-ttu-id="4ef6c-113">[1585981]:https://launchpad.support.sap.com/#/notes/1585981</span><span class="sxs-lookup"><span data-stu-id="4ef6c-113">[1585981]:https://launchpad.support.sap.com/#/notes/1585981</span></span>
<span data-ttu-id="4ef6c-114">[1588316]:https://launchpad.support.sap.com/#/notes/1588316</span><span class="sxs-lookup"><span data-stu-id="4ef6c-114">[1588316]:https://launchpad.support.sap.com/#/notes/1588316</span></span>
<span data-ttu-id="4ef6c-115">[1590719]:https://launchpad.support.sap.com/#/notes/1590719</span><span class="sxs-lookup"><span data-stu-id="4ef6c-115">[1590719]:https://launchpad.support.sap.com/#/notes/1590719</span></span>
[1597355]:https://launchpad.support.sap.com/#/notes/1597355
<span data-ttu-id="4ef6c-116">[1605680]:https://launchpad.support.sap.com/#/notes/1605680</span><span class="sxs-lookup"><span data-stu-id="4ef6c-116">[1605680]:https://launchpad.support.sap.com/#/notes/1605680</span></span>
<span data-ttu-id="4ef6c-117">[1619720]:https://launchpad.support.sap.com/#/notes/1619720</span><span class="sxs-lookup"><span data-stu-id="4ef6c-117">[1619720]:https://launchpad.support.sap.com/#/notes/1619720</span></span>
<span data-ttu-id="4ef6c-118">[1619726]:https://launchpad.support.sap.com/#/notes/1619726</span><span class="sxs-lookup"><span data-stu-id="4ef6c-118">[1619726]:https://launchpad.support.sap.com/#/notes/1619726</span></span>
<span data-ttu-id="4ef6c-119">[1619967]:https://launchpad.support.sap.com/#/notes/1619967</span><span class="sxs-lookup"><span data-stu-id="4ef6c-119">[1619967]:https://launchpad.support.sap.com/#/notes/1619967</span></span>
<span data-ttu-id="4ef6c-120">[1750510]:https://launchpad.support.sap.com/#/notes/1750510</span><span class="sxs-lookup"><span data-stu-id="4ef6c-120">[1750510]:https://launchpad.support.sap.com/#/notes/1750510</span></span>
<span data-ttu-id="4ef6c-121">[1752266]:https://launchpad.support.sap.com/#/notes/1752266</span><span class="sxs-lookup"><span data-stu-id="4ef6c-121">[1752266]:https://launchpad.support.sap.com/#/notes/1752266</span></span>
<span data-ttu-id="4ef6c-122">[1757924]:https://launchpad.support.sap.com/#/notes/1757924</span><span class="sxs-lookup"><span data-stu-id="4ef6c-122">[1757924]:https://launchpad.support.sap.com/#/notes/1757924</span></span>
<span data-ttu-id="4ef6c-123">[1757928]:https://launchpad.support.sap.com/#/notes/1757928</span><span class="sxs-lookup"><span data-stu-id="4ef6c-123">[1757928]:https://launchpad.support.sap.com/#/notes/1757928</span></span>
<span data-ttu-id="4ef6c-124">[1758182]:https://launchpad.support.sap.com/#/notes/1758182</span><span class="sxs-lookup"><span data-stu-id="4ef6c-124">[1758182]:https://launchpad.support.sap.com/#/notes/1758182</span></span>
<span data-ttu-id="4ef6c-125">[1758496]:https://launchpad.support.sap.com/#/notes/1758496</span><span class="sxs-lookup"><span data-stu-id="4ef6c-125">[1758496]:https://launchpad.support.sap.com/#/notes/1758496</span></span>
<span data-ttu-id="4ef6c-126">[1772688]:https://launchpad.support.sap.com/#/notes/1772688</span><span class="sxs-lookup"><span data-stu-id="4ef6c-126">[1772688]:https://launchpad.support.sap.com/#/notes/1772688</span></span>
<span data-ttu-id="4ef6c-127">[1814258]:https://launchpad.support.sap.com/#/notes/1814258</span><span class="sxs-lookup"><span data-stu-id="4ef6c-127">[1814258]:https://launchpad.support.sap.com/#/notes/1814258</span></span>
<span data-ttu-id="4ef6c-128">[1882376]:https://launchpad.support.sap.com/#/notes/1882376</span><span class="sxs-lookup"><span data-stu-id="4ef6c-128">[1882376]:https://launchpad.support.sap.com/#/notes/1882376</span></span>
[1909114]:https://launchpad.support.sap.com/#/notes/1909114
<span data-ttu-id="4ef6c-129">[1922555]:https://launchpad.support.sap.com/#/notes/1922555</span><span class="sxs-lookup"><span data-stu-id="4ef6c-129">[1922555]:https://launchpad.support.sap.com/#/notes/1922555</span></span>
<span data-ttu-id="4ef6c-130">[1928533]:https://launchpad.support.sap.com/#/notes/1928533</span><span class="sxs-lookup"><span data-stu-id="4ef6c-130">[1928533]:https://launchpad.support.sap.com/#/notes/1928533</span></span>
<span data-ttu-id="4ef6c-131">[1941500]:https://launchpad.support.sap.com/#/notes/1941500</span><span class="sxs-lookup"><span data-stu-id="4ef6c-131">[1941500]:https://launchpad.support.sap.com/#/notes/1941500</span></span>
<span data-ttu-id="4ef6c-132">[1956005]:https://launchpad.support.sap.com/#/notes/1956005</span><span class="sxs-lookup"><span data-stu-id="4ef6c-132">[1956005]:https://launchpad.support.sap.com/#/notes/1956005</span></span>
<span data-ttu-id="4ef6c-133">[1973241]:https://launchpad.support.sap.com/#/notes/1973241</span><span class="sxs-lookup"><span data-stu-id="4ef6c-133">[1973241]:https://launchpad.support.sap.com/#/notes/1973241</span></span>
<span data-ttu-id="4ef6c-134">[1984787]:https://launchpad.support.sap.com/#/notes/1984787</span><span class="sxs-lookup"><span data-stu-id="4ef6c-134">[1984787]:https://launchpad.support.sap.com/#/notes/1984787</span></span>
<span data-ttu-id="4ef6c-135">[1999351]:https://launchpad.support.sap.com/#/notes/1999351</span><span class="sxs-lookup"><span data-stu-id="4ef6c-135">[1999351]:https://launchpad.support.sap.com/#/notes/1999351</span></span>
<span data-ttu-id="4ef6c-136">[2002167]:https://launchpad.support.sap.com/#/notes/2002167</span><span class="sxs-lookup"><span data-stu-id="4ef6c-136">[2002167]:https://launchpad.support.sap.com/#/notes/2002167</span></span>
<span data-ttu-id="4ef6c-137">[2015553]:https://launchpad.support.sap.com/#/notes/2015553</span><span class="sxs-lookup"><span data-stu-id="4ef6c-137">[2015553]:https://launchpad.support.sap.com/#/notes/2015553</span></span>
<span data-ttu-id="4ef6c-138">[2039619]:https://launchpad.support.sap.com/#/notes/2039619</span><span class="sxs-lookup"><span data-stu-id="4ef6c-138">[2039619]:https://launchpad.support.sap.com/#/notes/2039619</span></span>
<span data-ttu-id="4ef6c-139">[2121797]:https://launchpad.support.sap.com/#/notes/2121797</span><span class="sxs-lookup"><span data-stu-id="4ef6c-139">[2121797]:https://launchpad.support.sap.com/#/notes/2121797</span></span>
<span data-ttu-id="4ef6c-140">[2134316]:https://launchpad.support.sap.com/#/notes/2134316</span><span class="sxs-lookup"><span data-stu-id="4ef6c-140">[2134316]:https://launchpad.support.sap.com/#/notes/2134316</span></span>
<span data-ttu-id="4ef6c-141">[2178632]:https://launchpad.support.sap.com/#/notes/2178632</span><span class="sxs-lookup"><span data-stu-id="4ef6c-141">[2178632]:https://launchpad.support.sap.com/#/notes/2178632</span></span>
<span data-ttu-id="4ef6c-142">[2191498]:https://launchpad.support.sap.com/#/notes/2191498</span><span class="sxs-lookup"><span data-stu-id="4ef6c-142">[2191498]:https://launchpad.support.sap.com/#/notes/2191498</span></span>
<span data-ttu-id="4ef6c-143">[2233094]:https://launchpad.support.sap.com/#/notes/2233094</span><span class="sxs-lookup"><span data-stu-id="4ef6c-143">[2233094]:https://launchpad.support.sap.com/#/notes/2233094</span></span>
<span data-ttu-id="4ef6c-144">[2243692]:https://launchpad.support.sap.com/#/notes/2243692</span><span class="sxs-lookup"><span data-stu-id="4ef6c-144">[2243692]:https://launchpad.support.sap.com/#/notes/2243692</span></span>

[azure-cli]:../../cli-install-nodejs.md
[azure-portal]:https://portal.azure.com
[azure-ps]:/powershell/azureps-cmdlets-docs
[azure-quickstart-templates-github]:https://github.com/Azure/azure-quickstart-templates
[azure-script-ps]:https://go.microsoft.com/fwlink/p/?LinkID=395017
[azure-subscription-service-limits]:../../azure-subscription-service-limits.md
[azure-subscription-service-limits-subscription]:../../azure-subscription-service-limits.md#subscription-limits

[dbms-guide]:sap-dbms-guide.md 
[dbms-guide-2.1]:#c7abf1f0-c927-4a7c-9c1d-c7b5b3b7212f 
[dbms-guide-2.2]:#c8e566f9-21b7-4457-9f7f-126036971a91 
[dbms-guide-2.3]:#10b041ef-c177-498a-93ed-44b3441ab152 
[dbms-guide-2]:#65fa79d6-a85f-47ee-890b-22e794f51a64 
[dbms-guide-3]:#871dfc27-e509-4222-9370-ab1de77021c3 
[dbms-guide-5.5.1]:#0fef0e79-d3fe-4ae2-85af-73666a6f7268 
[dbms-guide-5.5.2]:#f9071eff-9d72-4f47-9da4-1852d782087b 
[dbms-guide-5.6]:#1b353e38-21b3-4310-aeb6-a77e7c8e81c8 
[dbms-guide-5.8]:#9053f720-6f3b-4483-904d-15dc54141e30 
[dbms-guide-5]:#3264829e-075e-4d25-966e-a49dad878737 
[dbms-guide-8.4.1]:#b48cfe3b-48e9-4f5b-a783-1d29155bd573 
[dbms-guide-8.4.2]:#23c78d3b-ca5a-4e72-8a24-645d141a3f5d 
[dbms-guide-8.4.3]:#77cd2fbb-307e-4cbf-a65f-745553f72d2c 
[dbms-guide-8.4.4]:#f77c1436-9ad8-44fb-a331-8671342de818 
[dbms-guide-900-sap-cache-server-on-premises]:#642f746c-e4d4-489d-bf63-73e80177a0a8

[dbms-guide-figure-100]:./media/virtual-machines-shared-sap-dbms-guide/100_storage_account_types.png
[dbms-guide-figure-200]:./media/virtual-machines-shared-sap-dbms-guide/200-ha-set-for-dbms-ha.png
[dbms-guide-figure-300]:./media/virtual-machines-shared-sap-dbms-guide/300-reference-config-iaas.png
[dbms-guide-figure-400]:./media/virtual-machines-shared-sap-dbms-guide/400-sql-2012-backup-to-blob-storage.png
[dbms-guide-figure-500]:./media/virtual-machines-shared-sap-dbms-guide/500-sql-2012-backup-to-blob-storage-different-containers.png
[dbms-guide-figure-600]:./media/virtual-machines-shared-sap-dbms-guide/600-iaas-maxdb.png
[dbms-guide-figure-700]:./media/virtual-machines-shared-sap-dbms-guide/700-livecach-prod.png
[dbms-guide-figure-800]:./media/virtual-machines-shared-sap-dbms-guide/800-azure-vm-sap-content-server.png
[dbms-guide-figure-900]:./media/virtual-machines-shared-sap-dbms-guide/900-sap-cache-server-on-premises.png

[deployment-guide]:sap-deployment-guide.md 
[deployment-guide-2.2]:sap-deployment-guide.md#42ee2bdb-1efc-4ec7-ab31-fe4c22769b94 
[deployment-guide-3.1.2]:sap-deployment-guide.md#3688666f-281f-425b-a312-a77e7db2dfab 
[deployment-guide-3.2]:sap-deployment-guide.md#db477013-9060-4602-9ad4-b0316f8bb281 
[deployment-guide-3.3]:sap-deployment-guide.md#54a1fc6d-24fd-4feb-9c57-ac588a55dff2 
[deployment-guide-3.4]:sap-deployment-guide.md#a9a60133-a763-4de8-8986-ac0fa33aa8c1
[deployment-guide-3]:sap-deployment-guide.md#b3253ee3-d63b-4d74-a49b-185e76c4088e 
[deployment-guide-4.1]:sap-deployment-guide.md#604bcec2-8b6e-48d2-a944-61b0f5dee2f7 
[deployment-guide-4.2]:sap-deployment-guide.md#7ccf6c3e-97ae-4a7a-9c75-e82c37beb18e
[deployment-guide-4.3]:sap-deployment-guide.md#31d9ecd6-b136-4c73-b61e-da4a29bbc9cc 
[deployment-guide-4.4.2]:sap-deployment-guide.md#6889ff12-eaaf-4f3c-97e1-7c9edc7f7542 
[deployment-guide-4.4]:sap-deployment-guide.md#c7cbb0dc-52a4-49db-8e03-83e7edc2927d 
[deployment-guide-4.5.1]:sap-deployment-guide.md#987cf279-d713-4b4c-8143-6b11589bb9d4 
[deployment-guide-4.5.2]:sap-deployment-guide.md#408f3779-f422-4413-82f8-c57a23b4fc2f 
[deployment-guide-4.5]:sap-deployment-guide.md#d98edcd3-f2a1-49f7-b26a-07448ceb60ca 
[deployment-guide-5.1]:sap-deployment-guide.md#bb61ce92-8c5c-461f-8c53-39f5e5ed91f2 
[deployment-guide-5.2]:sap-deployment-guide.md#e2d592ff-b4ea-4a53-a91a-e5521edb6cd1 
[deployment-guide-5.3]:sap-deployment-guide.md#fe25a7da-4e4e-4388-8907-8abc2d33cfd8 

[deployment-guide-configure-monitoring-scenario-1]:sap-deployment-guide.md#ec323ac3-1de9-4c3a-b770-4ff701def65b 
[deployment-guide-configure-proxy]:sap-deployment-guide.md#baccae00-6f79-4307-ade4-40292ce4e02d 
[deployment-guide-figure-100]:./media/virtual-machines-shared-sap-deployment-guide/100-deploy-vm-image.png
[deployment-guide-figure-1000]:./media/virtual-machines-shared-sap-deployment-guide/1000-service-properties.png
[deployment-guide-figure-11]:sap-deployment-guide.md#figure-11
[deployment-guide-figure-1100]:./media/virtual-machines-shared-sap-deployment-guide/1100-azperflib.png
[deployment-guide-figure-1200]:./media/virtual-machines-shared-sap-deployment-guide/1200-cmd-test-login.png
[deployment-guide-figure-1300]:./media/virtual-machines-shared-sap-deployment-guide/1300-cmd-test-executed.png
[deployment-guide-figure-14]:sap-deployment-guide.md#figure-14
[deployment-guide-figure-1400]:./media/virtual-machines-shared-sap-deployment-guide/1400-azperflib-error-servicenotstarted.png
[deployment-guide-figure-300]:./media/virtual-machines-shared-sap-deployment-guide/300-deploy-private-image.png
[deployment-guide-figure-400]:./media/virtual-machines-shared-sap-deployment-guide/400-deploy-using-disk.png
[deployment-guide-figure-5]:sap-deployment-guide.md#figure-5
[deployment-guide-figure-50]:./media/virtual-machines-shared-sap-deployment-guide/50-forced-tunneling-suse.png
[deployment-guide-figure-500]:./media/virtual-machines-shared-sap-deployment-guide/500-install-powershell.png
[deployment-guide-figure-6]:sap-deployment-guide.md#figure-6
[deployment-guide-figure-600]:./media/virtual-machines-shared-sap-deployment-guide/600-powershell-version.png
[deployment-guide-figure-7]:sap-deployment-guide.md#figure-7
[deployment-guide-figure-700]:./media/virtual-machines-shared-sap-deployment-guide/700-install-powershell-installed.png
[deployment-guide-figure-760]:./media/virtual-machines-shared-sap-deployment-guide/760-azure-cli-version.png
[deployment-guide-figure-900]:./media/virtual-machines-shared-sap-deployment-guide/900-cmd-update-executed.png
[deployment-guide-figure-azure-cli-installed]:sap-deployment-guide.md#402488e5-f9bb-4b29-8063-1c5f52a892d0
[deployment-guide-figure-azure-cli-version]:sap-deployment-guide.md#0ad010e6-f9b5-4c21-9c09-bb2e5efb3fda
[deployment-guide-install-vm-agent-windows]:sap-deployment-guide.md#b2db5c9a-a076-42c6-9835-16945868e866
[deployment-guide-troubleshooting-chapter]:sap-deployment-guide.md#564adb4f-5c95-4041-9616-6635e83a810b 

[deploy-template-cli]:../../resource-group-template-deploy-cli.md
[deploy-template-portal]:../../resource-group-template-deploy-portal.md
[deploy-template-powershell]:../../resource-group-template-deploy.md

[dr-guide-classic]:http://go.microsoft.com/fwlink/?LinkID=521971

[getting-started]:sap-get-started.md
[getting-started-dbms]:sap-get-started.md#1343ffe1-8021-4ce6-a08d-3a1553a4db82
[getting-started-deployment]:sap-get-started.md#6aadadd2-76b5-46d8-8713-e8d63630e955
[getting-started-planning]:sap-get-started.md#3da0389e-708b-4e82-b2a2-e92f132df89c

[getting-started-windows-classic]:../virtual-machines-windows-classic-sap-get-started.md
[getting-started-windows-classic-dbms]:../virtual-machines-windows-classic-sap-get-started.md#c5b77a14-f6b4-44e9-acab-4d28ff72a930
[getting-started-windows-classic-deployment]:../virtual-machines-windows-classic-sap-get-started.md#f84ea6ce-bbb4-41f7-9965-34d31b0098ea
[getting-started-windows-classic-dr]:../virtual-machines-windows-classic-sap-get-started.md#cff10b4a-01a5-4dc3-94b6-afb8e55757d3
[getting-started-windows-classic-ha-sios]:../virtual-machines-windows-classic-sap-get-started.md#4bb7512c-0fa0-4227-9853-4004281b1037
[getting-started-windows-classic-planning]:../virtual-machines-windows-classic-sap-get-started.md#f2a5e9d8-49e4-419e-9900-af783173481c

[ha-guide-classic]:http://go.microsoft.com/fwlink/?LinkId=613056

[ha-guide]:sap-high-availability-guide.md

[install-extension-cli]:virtual-machines-linux-enable-aem.md

[Logo_Linux]:./media/virtual-machines-shared-sap-shared/Linux.png
[Logo_Windows]:./media/virtual-machines-shared-sap-shared/Windows.png

[msdn-set-azurermvmaemextension]:https://msdn.microsoft.com/library/azure/mt670598.aspx

[planning-guide]:sap-planning-guide.md  
[planning-guide-1.2]:sap-planning-guide.md#e55d1e22-c2c8-460b-9897-64622a34fdff 
[planning-guide-11]:sap-planning-guide.md#7cf991a1-badd-40a9-944e-7baae842a058 
[planning-guide-11.4.1]:sap-planning-guide.md#5d9d36f9-9058-435d-8367-5ad05f00de77 
[planning-guide-11.5]:sap-planning-guide.md#4e165b58-74ca-474f-a7f4-5e695a93204f 
[planning-guide-2.1]:sap-planning-guide.md#1625df66-4cc6-4d60-9202-de8a0b77f803 
[planning-guide-2.2]:sap-planning-guide.md#f5b3b18c-302c-4bd8-9ab2-c388f1ab3d10
[planning-guide-3.1]:sap-planning-guide.md#be80d1b9-a463-4845-bd35-f4cebdb5424a 
[planning-guide-3.2.1]:sap-planning-guide.md#df49dc09-141b-4f34-a4a2-990913b30358 
[planning-guide-3.2.2]:sap-planning-guide.md#fc1ac8b2-e54a-487c-8581-d3cc6625e560 
[planning-guide-3.2.3]:sap-planning-guide.md#18810088-f9be-4c97-958a-27996255c665 
[planning-guide-3.2]:sap-planning-guide.md#8d8ad4b8-6093-4b91-ac36-ea56d80dbf77 
[planning-guide-3.3.2]:sap-planning-guide.md#ff5ad0f9-f7f4-4022-9102-af07aef3bc92 
[planning-guide-5.1.1]:sap-planning-guide.md#4d175f1b-7353-4137-9d2f-817683c26e53 
[planning-guide-5.1.2]:sap-planning-guide.md#e18f7839-c0e2-4385-b1e6-4538453a285c 
[planning-guide-5.2.1]:sap-planning-guide.md#1b287330-944b-495d-9ea7-94b83aff73ef 
[planning-guide-5.2.2]:sap-planning-guide.md#57f32b1c-0cba-4e57-ab6e-c39fe22b6ec3 
[planning-guide-5.2]:sap-planning-guide.md#6ffb9f41-a292-40bf-9e70-8204448559e7 
[planning-guide-5.3.1]:sap-planning-guide.md#6e835de8-40b1-4b71-9f18-d45b20959b79 
[planning-guide-5.3.2]:sap-planning-guide.md#a43e40e6-1acc-4633-9816-8f095d5a7b6a 
[planning-guide-5.4.2]:sap-planning-guide.md#9789b076-2011-4afa-b2fe-b07a8aba58a1 
[planning-guide-5.5.1]:sap-planning-guide.md#4efec401-91e0-40c0-8e64-f2dceadff646 
[planning-guide-5.5.3]:sap-planning-guide.md#17e0d543-7e8c-4160-a7da-dd7117a1ad9d 
[planning-guide-7.1]:sap-planning-guide.md#3e9c3690-da67-421a-bc3f-12c520d99a30 
[planning-guide-7]:sap-planning-guide.md#96a77628-a05e-475d-9df3-fb82217e8f14 
[planning-guide-9.1]:sap-planning-guide.md#6f0a47f3-a289-4090-a053-2521618a28c3 
[planning-guide-azure-premium-storage]:sap-planning-guide.md#ff5ad0f9-f7f4-4022-9102-af07aef3bc92 

[planning-guide-figure-100]:./media/virtual-machines-shared-sap-planning-guide/100-single-vm-in-azure.png
[planning-guide-figure-1300]:./media/virtual-machines-shared-sap-planning-guide/1300-ref-config-iaas-for-sap.png
[planning-guide-figure-1400]:./media/virtual-machines-shared-sap-planning-guide/1400-attach-detach-disks.png
[planning-guide-figure-1600]:./media/virtual-machines-shared-sap-planning-guide/1600-firewall-port-rule.png
[planning-guide-figure-1700]:./media/virtual-machines-shared-sap-planning-guide/1700-single-vm-demo.png
[planning-guide-figure-1900]:./media/virtual-machines-shared-sap-planning-guide/1900-vm-set-vnet.png
[planning-guide-figure-200]:./media/virtual-machines-shared-sap-planning-guide/200-multiple-vms-in-azure.png
[planning-guide-figure-2100]:./media/virtual-machines-shared-sap-planning-guide/2100-s2s.png
[planning-guide-figure-2200]:./media/virtual-machines-shared-sap-planning-guide/2200-network-printing.png
[planning-guide-figure-2300]:./media/virtual-machines-shared-sap-planning-guide/2300-sapgui-stms.png
[planning-guide-figure-2400]:./media/virtual-machines-shared-sap-planning-guide/2400-vm-extension-overview.png
[planning-guide-figure-2500]:./media/virtual-machines-shared-sap-planning-guide/2500-vm-extension-details.png
[planning-guide-figure-2600]:./media/virtual-machines-shared-sap-planning-guide/2600-sap-router-connection.png
[planning-guide-figure-2700]:./media/virtual-machines-shared-sap-planning-guide/2700-exposed-sap-portal.png
[planning-guide-figure-2800]:./media/virtual-machines-shared-sap-planning-guide/2800-endpoint-config.png
[planning-guide-figure-2900]:./media/virtual-machines-shared-sap-planning-guide/2900-azure-ha-sap-ha.png
[planning-guide-figure-300]:./media/virtual-machines-shared-sap-planning-guide/300-vpn-s2s.png
[planning-guide-figure-3000]:./media/virtual-machines-shared-sap-planning-guide/3000-sap-ha-on-azure.png
[planning-guide-figure-3200]:./media/virtual-machines-shared-sap-planning-guide/3200-sap-ha-with-sql.png
[planning-guide-figure-400]:./media/virtual-machines-shared-sap-planning-guide/400-vm-services.png
[planning-guide-figure-600]:./media/virtual-machines-shared-sap-planning-guide/600-s2s-details.png
[planning-guide-figure-700]:./media/virtual-machines-shared-sap-planning-guide/700-decision-tree-deploy-to-azure.png
[planning-guide-figure-800]:./media/virtual-machines-shared-sap-planning-guide/800-portal-vm-overview.png
[planning-guide-microsoft-azure-networking]:sap-planning-guide.md#61678387-8868-435d-9f8c-450b2424f5bd 
[planning-guide-storage-microsoft-azure-storage-and-data-disks]:sap-planning-guide.md#a72afa26-4bf4-4a25-8cf7-855d6032157f 

[powershell-install-configure]:/powershell/azureps-cmdlets-docs
[resource-group-authoring-templates]:../../resource-group-authoring-templates.md
[resource-group-overview]:../../azure-resource-manager/resource-group-overview.md
[resource-groups-networking]:../../virtual-network/resource-groups-networking.md
[sap-pam]:https://support.sap.com/pam 
[sap-templates-2-tier-marketplace-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-marketplace-image%2Fazuredeploy.json
[sap-templates-2-tier-os-disk]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-user-disk%2Fazuredeploy.json
[sap-templates-2-tier-user-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-user-image%2Fazuredeploy.json
[sap-templates-3-tier-marketplace-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-3-tier-marketplace-image%2Fazuredeploy.json
[sap-templates-3-tier-user-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-3-tier-user-image%2Fazuredeploy.json
[storage-azure-cli]:../../storage/storage-azure-cli.md
[storage-azure-cli-copy-blobs]:../../storage/storage-azure-cli.md#copy-blobs
[storage-introduction]:../../storage/storage-introduction.md
[storage-powershell-guide-full-copy-vhd]:../../storage/storage-powershell-guide-full.md#how-to-copy-blobs-from-one-storage-container-to-another
[storage-premium-storage-preview-portal]:../../storage/storage-premium-storage.md
[storage-redundancy]:../../storage/storage-redundancy.md
[storage-scalability-targets]:../../storage/storage-scalability-targets.md
[storage-use-azcopy]:../../storage/storage-use-azcopy.md
[template-201-vm-from-specialized-vhd]:https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-from-specialized-vhd
[templates-101-simple-windows-vm]:https://github.com/Azure/azure-quickstart-templates/tree/master/101-simple-windows-vm
[templates-101-vm-from-user-image]:https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-from-user-image
[virtual-machines-linux-attach-disk-portal]:../linux/attach-disk-portal.md
[virtual-machines-azure-resource-manager-architecture]:../../resource-manager-deployment-model.md
[virtual-machines-azurerm-versus-azuresm]:../../resource-manager-deployment-model.md
[virtual-machines-windows-classic-configure-oracle-data-guard]:../virtual-machines-windows-classic-configure-oracle-data-guard.md
[virtual-machines-linux-cli-deploy-templates]:../linux/cli-deploy-templates.md (Deploy and manage virtual machines by using Azure Resource Manager templates and the Azure CLI)
[virtual-machines-deploy-rmtemplates-powershell]:../virtual-machines-windows-ps-manage.md (Manage virtual machines using Azure Resource Manager and PowerShell)
[virtual-machines-linux-agent-user-guide]:../linux/agent-user-guide.md
[virtual-machines-linux-agent-user-guide-command-line-options]:../linux/agent-user-guide.md#command-line-options
[virtual-machines-linux-capture-image]:../linux/capture-image.md
[virtual-machines-linux-capture-image-resource-manager]:../linux/capture-image.md
[virtual-machines-linux-capture-image-resource-manager-capture]:../linux/capture-image.md#step-2-capture-the-vm
[virtual-machines-linux-configure-lvm]:../linux/configure-lvm.md
[virtual-machines-linux-configure-raid]:../linux/configure-raid.md
[virtual-machines-linux-classic-create-upload-vhd-step-1]:../virtual-machines-linux-classic-create-upload-vhd.md#step-1-prepare-the-image-to-be-uploaded
[virtual-machines-linux-create-upload-vhd-suse]:../linux/suse-create-upload-vhd.md
[virtual-machines-linux-redhat-create-upload-vhd]:../linux/redhat-create-upload-vhd.md
[virtual-machines-linux-how-to-attach-disk]:../linux/add-disk.md
[virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux]:../linux/add-disk.md#connect-to-the-linux-vm-to-mount-the-new-disk
[virtual-machines-linux-tutorial]:../linux/quick-create-cli.md
[virtual-machines-linux-update-agent]:../linux/update-agent.md
[virtual-machines-manage-availability]:../virtual-machines-windows-manage-availability.md
[virtual-machines-ps-create-preconfigure-windows-resource-manager-vms]:../virtual-machines-windows-ps-create.md
[virtual-machines-sizes]:sizes.md
[virtual-machines-windows-classic-ps-sql-alwayson-availability-groups]:classic/ps-sql-alwayson-availability-groups.md
[virtual-machines-windows-classic-ps-sql-int-listener]:classic/ps-sql-int-listener.md
[virtual-machines-sql-server-high-availability-and-disaster-recovery-solutions]:./sql/virtual-machines-windows-sql-high-availability-dr.md
[virtual-machines-sql-server-infrastructure-services]:./sql/virtual-machines-windows-sql-server-iaas-overview.md
[virtual-machines-sql-server-performance-best-practices]:./sql/virtual-machines-windows-sql-performance.md
[virtual-machines-upload-image-windows-resource-manager]:upload-image.md
[virtual-machines-windows-tutorial]:../virtual-machines-windows-hero-tutorial.md
[virtual-machines-workload-template-sql-alwayson]:https://azure.microsoft.com/documentation/templates/sql-server-2014-alwayson-dsc/
[virtual-network-deploy-multinic-arm-cli]:../../virtual-network/virtual-network-deploy-multinic-arm-cli.md
[virtual-network-deploy-multinic-arm-ps]:../../virtual-network/virtual-network-deploy-multinic-arm-ps.md
[virtual-network-deploy-multinic-arm-template]:../../virtual-network/virtual-network-deploy-multinic-arm-template.md
[virtual-networks-configure-vnet-to-vnet-connection]:../../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md
[virtual-networks-create-vnet-arm-pportal]:../../virtual-network/virtual-networks-create-vnet-arm-pportal.md
[virtual-networks-manage-dns-in-vnet]:../../virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances.md
[virtual-networks-multiple-nics]:../../virtual-network/virtual-networks-multiple-nics.md
[virtual-networks-nsg]:../../virtual-network/virtual-networks-nsg.md
[virtual-networks-reserved-private-ip]:../../virtual-network/virtual-networks-static-private-ip-arm-ps.md
[virtual-networks-static-private-ip-arm-pportal]:../../virtual-network/virtual-networks-static-private-ip-arm-pportal.md
[virtual-networks-udr-overview]:../../virtual-network/virtual-networks-udr-overview.md
[vpn-gateway-about-vpn-devices]:../../vpn-gateway/vpn-gateway-about-vpn-devices.md
[vpn-gateway-create-site-to-site-rm-powershell]:../../vpn-gateway/vpn-gateway-create-site-to-site-rm-powershell.md
[vpn-gateway-cross-premises-options]:../../vpn-gateway/vpn-gateway-plan-design.md
[vpn-gateway-site-to-site-create]:../../vpn-gateway/vpn-gateway-howto-site-to-site-resource-manager-portal.md
[vpn-gateway-vpn-faq]:../../vpn-gateway/vpn-gateway-vpn-faq.md
[xplat-cli]:../../cli-install-nodejs.md
[xplat-cli-azure-resource-manager]:../../xplat-cli-azure-resource-manager.md

<span data-ttu-id="4ef6c-145">이 가이드는 Microsoft Azure에서의 SAP 소프트웨어 구현 및 배포에 대한 설명서의 일부입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-145">This guide is part of the documentation on implementing and deploying the SAP software on Microsoft Azure.</span></span> <span data-ttu-id="4ef6c-146">이 가이드를 읽기 전에 [계획 및 구현 가이드][planning-guide]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-146">Before reading this guide, please read the [Planning and Implementation Guide][planning-guide].</span></span> <span data-ttu-id="4ef6c-147">이 문서에서는 Azure IaaS(서비스 제공 인프라) 기능을 사용하는 Microsoft Azure VM(가상 컴퓨터)에서 SAP와 함께 다양한 RDBMS(관계형 데이터베이스 관리 시스템) 및 관련 제품을 배포하는 방법에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-147">This document covers the deployment of various Relational Database Management Systems (RDBMS) and related products in combination with SAP on Microsoft Azure Virtual Machines (VMs) using the Azure Infrastructure as a Service (IaaS) capabilities.</span></span>

<span data-ttu-id="4ef6c-148">이 문서는 지정된 플랫폼에서 SAP 소프트웨어 설치 및 배포에 대한 기본 리소스를 나타내는 SAP 설치 설명서 및 SAP 정보를 보완합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-148">The paper complements the SAP Installation Documentation and SAP Notes which represent the primary resources for installations and deployments of SAP software on given platforms</span></span>

## <a name="general-considerations"></a><span data-ttu-id="4ef6c-149">일반적인 고려 사항</span><span class="sxs-lookup"><span data-stu-id="4ef6c-149">General considerations</span></span>
<span data-ttu-id="4ef6c-150">이 챕터에서는 Azure VM에서 SAP 관계형 DBMS 시스템을 실행할 때의 고려 사항을 소개합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-150">In this chapter, considerations of running SAP related DBMS systems in Azure VMs are introduced.</span></span> <span data-ttu-id="4ef6c-151">이 챕터에는 특정 DBMS 시스템에 대한 참조가 거의 없습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-151">There are few references to specific DBMS systems in this chapter.</span></span> <span data-ttu-id="4ef6c-152">대신 이 챕터를 마친 후 이 문서 내에서 특정 DBMS 시스템을 다룹니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-152">Instead the specific DBMS systems are handled within this paper, after this chapter.</span></span>

### <a name="definitions-upfront"></a><span data-ttu-id="4ef6c-153">사전 정의</span><span class="sxs-lookup"><span data-stu-id="4ef6c-153">Definitions upfront</span></span>
<span data-ttu-id="4ef6c-154">문서 전체에서 다음과 같은 용어를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-154">Throughout the document we will use the following terms:</span></span>

* <span data-ttu-id="4ef6c-155">IaaS: 서비스 제공 인프라</span><span class="sxs-lookup"><span data-stu-id="4ef6c-155">IaaS: Infrastructure as a Service.</span></span>
* <span data-ttu-id="4ef6c-156">PaaS: Platform as a Service</span><span class="sxs-lookup"><span data-stu-id="4ef6c-156">PaaS: Platform as a Service.</span></span>
* <span data-ttu-id="4ef6c-157">SaaS: Software as a Service</span><span class="sxs-lookup"><span data-stu-id="4ef6c-157">SaaS: Software as a Service.</span></span>
* <span data-ttu-id="4ef6c-158">SAP 구성 요소: ECC, BW, Solution Manager 또는 EP 등의 개별 SAP 응용 프로그램입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-158">SAP Component: an individual SAP application such as ECC, BW, Solution Manager or EP.</span></span>  <span data-ttu-id="4ef6c-159">SAP 구성 요소는 기존의 ABAP 또는 Java 기술을 기반으로 하거나 비즈니스 개체와 같은 비NetWeaver 기반 응용 프로그램을 기반으로 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-159">SAP components can be based on traditional ABAP or Java technologies or a non-NetWeaver based application such as Business Objects.</span></span>
* <span data-ttu-id="4ef6c-160">SAP 환경: 하나 이상의 SAP 구성 요소가 논리적으로 그룹화되어 개발, QAS, 학습, DR 또는 프로덕션과 같은 비즈니스 기능을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-160">SAP Environment: one or more SAP components logically grouped to perform a business function such as Development, QAS, Training, DR or Production.</span></span>
* <span data-ttu-id="4ef6c-161">SAP 배경: 고객 IT 환경의 전체 SAP 자산입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-161">SAP Landscape: This refers to the entire SAP assets in a customer’s IT landscape.</span></span> <span data-ttu-id="4ef6c-162">SAP 배경에는 모든 프로덕션 및 비프로덕션 환경이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-162">The SAP landscape includes all production and non-production environments.</span></span>
* <span data-ttu-id="4ef6c-163">SAP 시스템: 예를 들어 SAP ERP 개발 시스템, SAP BW 테스트 시스템, SAP CRM 프로덕션 시스템 등의 응용 프로그램 계층과 DBMS 계층의 조합입니다. Azure 배포에서는 온-프레미스와 Azure 간에 이러한 두 계층을 나눌 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-163">SAP System: The combination of DBMS layer and application layer of e.g. an SAP ERP development system, SAP BW test system, SAP CRM production system, etc. In Azure deployments it is not supported to divide these two layers between on-premises and Azure.</span></span> <span data-ttu-id="4ef6c-164">즉, SAP 시스템은 온-프레미스에 배포되거나 Azure에 배포됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-164">This means an SAP system is either deployed on-premises or it is deployed in Azure.</span></span> <span data-ttu-id="4ef6c-165">그러나 Azure 또는 온-프레미스에는 SAP 배경의 서로 다른 시스템을 배포할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-165">However, you can deploy the different systems of an SAP landscape in Azure or on-premises.</span></span> <span data-ttu-id="4ef6c-166">예를 들어 Azure에는 SAP CRM 개발 및 테스트 시스템을 배포할 수 있지만 온-프레미스에는 SAP CRM 프로덕션 시스템을 배포할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-166">For example, you could deploy the SAP CRM development and test systems in Azure but the SAP CRM production system on-premises.</span></span>
* <span data-ttu-id="4ef6c-167">클라우드 전용 배포: Azure 구독이 사이트 간 연결 또는 Express 경로 연결을 통해 온-프레미스 네트워크 인프라에 연결되지 않는 배포입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-167">Cloud-Only deployment: A deployment where the Azure subscription is not connected via a site-to-site or ExpressRoute connection to the on-premises network infrastructure.</span></span> <span data-ttu-id="4ef6c-168">공통 Azure 설명서에서는 이러한 종류의 배포를 '클라우드 전용' 배포라고도 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-168">In common Azure documentation these kinds of deployments are also described as ‘Cloud-Only’ deployments.</span></span> <span data-ttu-id="4ef6c-169">이 방법으로 배포된 가상 컴퓨터는 인터넷과 Azure의 VM에 할당된 공용 인터넷 끝점을 통해 액세스됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-169">Virtual Machines deployed with this method are accessed through the Internet and public Internet endpoints assigned to the VMs in Azure.</span></span> <span data-ttu-id="4ef6c-170">이러한 유형의 배포에서는 온-프레미스 AD(Active Directory) 및 DNS가 Azure로 확장되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-170">The on-premises Active Directory (AD) and DNS is not extended to Azure in these types of deployments.</span></span> <span data-ttu-id="4ef6c-171">따라서 VM은 온-프레미스 Active Directory에 속하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-171">Hence the VMs are not part of the on-premises Active Directory.</span></span> <span data-ttu-id="4ef6c-172">참고: 이 문서에서 클라우드 전용 배포는 온-프레미스에서 Active Directory 또는 이름 확인을 공용 클라우드로 확장하지 않고 Azure에서 단독으로 실행 중인 전체 SAP 배경으로 정의됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-172">Note: Cloud-Only deployments in this document are defined as complete SAP landscapes which are running exclusively in Azure without extension of Active Directory or name resolution from on-premises into public cloud.</span></span> <span data-ttu-id="4ef6c-173">Azure에서 호스트되는 SAP 시스템과 온-프레미스에 상주하는 리소스 간에 SAP STMS 또는 기타 온-프레미스 리소스를 사용해야 하는 프로덕션 SAP 시스템 또는 구성에 대해서는 클라우드 전용 구성이 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-173">Cloud-Only configurations are not supported for production SAP systems or configurations where SAP STMS or other on-premises resources need to be used between SAP systems hosted on Azure and resources residing on-premises.</span></span>
* <span data-ttu-id="4ef6c-174">프레미스 간: VM이 온-프레미스 데이터 센터와 Azure 간에 사이트-사이트, 다중 사이트 또는 Express 경로 방식으로 연결되는 Azure 구독에 배포되는 시나리오를 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-174">Cross-Premises: Describes a scenario where VMs are deployed to an Azure subscription that has site-to-site, multi-site or ExpressRoute connectivity between the on-premises datacenter(s) and Azure.</span></span> <span data-ttu-id="4ef6c-175">공통 Azure 설명서에서 이러한 종류의 배포를 프레미스 간 시나리오라고도 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-175">In common Azure documentation, these kinds of deployments are also described as Cross-Premises scenarios.</span></span> <span data-ttu-id="4ef6c-176">연결하는 이유는 온-프레미스 도메인, 온-프레미스 Active Directory 및 온-프레미스 DNS를 Azure로 확장하기 위한 것입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-176">The reason for the connection is to extend on-premises domains, on-premises Active Directory and on-premises DNS into Azure.</span></span> <span data-ttu-id="4ef6c-177">온-프레미스 배경은 구독의 Azure 자산으로 확장됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-177">The on-premises landscape is extended to the Azure assets of the subscription.</span></span> <span data-ttu-id="4ef6c-178">이렇게 확장된 VM은 온-프레미스 도메인에 속할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-178">Having this extension, the VMs can be part of the on-premises domain.</span></span> <span data-ttu-id="4ef6c-179">온-프레미스 도메인의 도메인 사용자는 서버에 액세스하고 이러한 VM에서 서비스(예: DBMS 서비스)를 실행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-179">Domain users of the on-premises domain can access the servers and can run services on those VMs (like DBMS services).</span></span> <span data-ttu-id="4ef6c-180">온-프레미스에 배포된 VM과 Azure에 배포된 VM 간의 통신 및 이름 확인이 가능합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-180">Communication and name resolution between VMs deployed on-premises and VMs deployed in Azure is possible.</span></span> <span data-ttu-id="4ef6c-181">이 기능은 Azure의 SAP 자산 배포를 위한 가장 일반적인 시나리오가 될 것입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-181">We expect this to be the most common scenario for deploying SAP assets on Azure.</span></span> <span data-ttu-id="4ef6c-182">자세한 내용은 [이 문서][vpn-gateway-cross-premises-options] 및 [이 문서][vpn-gateway-site-to-site-create]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-182">See [this][vpn-gateway-cross-premises-options] article and [this][vpn-gateway-site-to-site-create] for more information.</span></span>

> [!NOTE]
> <span data-ttu-id="4ef6c-183">프로덕션 SAP 시스템의 경우 SAP 시스템을 실행 중인 Azure 가상 컴퓨터가 온-프레미스 도메인의 멤버인 SAP 시스템의 프레미스 간 배포가 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-183">Cross-Premises deployments of SAP systems where Azure Virtual Machines running SAP systems are members of an on-premises domain are supported for production SAP systems.</span></span> <span data-ttu-id="4ef6c-184">일부 또는 전체 SAP 배경을 Azure로 배포하는 데 프레미스 간 구성이 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-184">Cross-Premises configurations are supported for deploying parts or complete SAP landscapes into Azure.</span></span> <span data-ttu-id="4ef6c-185">Azure에서 전체 SAP 배경을 실행하려고 해도 이러한 VM이 온-프레미스 도메인 및 ADS에 속해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-185">Even running the complete SAP landscape in Azure requires having those VMs being part of on-premises domain and ADS.</span></span> <span data-ttu-id="4ef6c-186">이전 버전의 문서에서 하이브리드-IT 시나리오에 대해 설명했습니다. '하이브리드'란 온-프레미스와 Azure 간에 프레미스 간 연결을 사용한다는 사실을 기반으로 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-186">In former versions of the documentation we talked about Hybrid-IT scenarios, where the term ‘Hybrid’ is rooted in the fact that there is a cross-premises connectivity between on-premises and Azure.</span></span> <span data-ttu-id="4ef6c-187">이 경우 '하이브리드'는 Azure의 VM이 온-프레미스 Active Directory의 일부임을 의미하기도 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-187">In this case ‘Hybrid’ also means that the VMs in Azure are part of the on-premises Active Directory.</span></span>
>
>

<span data-ttu-id="4ef6c-188">일부 Microsoft 문서에서는 특히 DBMS HA 구성의 경우 프레미스 간 시나리오를 약간 다르게 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-188">Some Microsoft documentation describes Cross-Premises scenarios a bit differently, especially for DBMS HA configurations.</span></span> <span data-ttu-id="4ef6c-189">SAP 관련 문서의 경우 프레미스 간 시나리오가 사이트 간 또는 개인(Express 경로) 방식으로 연결되고 SAP 배경이 온-프레미스와 Azure 간에 분산된다고 요약되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-189">In the case of the SAP related documents, the Cross-Premises scenario just boils down to having a site-to-site or private (ExpressRoute) connectivity and to the fact that the SAP landscape is distributed between on-premises and Azure.</span></span>

### <a name="resources"></a><span data-ttu-id="4ef6c-190">리소스</span><span class="sxs-lookup"><span data-stu-id="4ef6c-190">Resources</span></span>
<span data-ttu-id="4ef6c-191">다음 가이드는 Azure의 SAP 배포 항목에 대해 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-191">The following guides are available for the topic of SAP deployments on Azure:</span></span>

* <span data-ttu-id="4ef6c-192">[Azure VMs(Virtual Machines)의 SAP NetWeaver - 계획 및 구현 가이드][planning-guide]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-192">[SAP NetWeaver on Azure Virtual Machines (VMs) – Planning and Implementation Guide][planning-guide]</span></span>
* <span data-ttu-id="4ef6c-193">[Azure VMs(Virtual Machines)의 SAP NetWeaver - 배포 가이드][deployment-guide]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-193">[SAP NetWeaver on Azure Virtual Machines (VMs) – Deployment Guide][deployment-guide]</span></span>
* <span data-ttu-id="4ef6c-194">[Azure VMs(Virtual Machines)에서 SAP NetWeaver – DBMS 배포 가이드(이 문서)][dbms-guide]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-194">[SAP NetWeaver on Azure Virtual Machines (VMs) – DBMS Deployment Guide (this document)][dbms-guide]</span></span>
* <span data-ttu-id="4ef6c-195">[Azure VMs(Virtual Machines)에서 SAP NetWeaver - 고가용성 배포 가이드][ha-guide]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-195">[SAP NetWeaver on Azure Virtual Machines (VMs) – High Availability Deployment Guide][ha-guide]</span></span>

<span data-ttu-id="4ef6c-196">다음 SAP 정보는 Azure의 SAP 항목과 관련이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-196">The following SAP Notes are related to the topic of SAP on Azure:</span></span>

| <span data-ttu-id="4ef6c-197">Note 번호</span><span class="sxs-lookup"><span data-stu-id="4ef6c-197">Note number</span></span> | <span data-ttu-id="4ef6c-198">제목</span><span class="sxs-lookup"><span data-stu-id="4ef6c-198">Title</span></span> |
| --- | --- |
| <span data-ttu-id="4ef6c-199">[1928533]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-199">[1928533]</span></span> |<span data-ttu-id="4ef6c-200">Azure의 SAP 응용 프로그램: 지원 제품 및 Azure VM 유형</span><span class="sxs-lookup"><span data-stu-id="4ef6c-200">SAP Applications on Azure: Supported Products and Azure VM types</span></span> |
| <span data-ttu-id="4ef6c-201">[2015553]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-201">[2015553]</span></span> |<span data-ttu-id="4ef6c-202">Microsoft Azure의 SAP: 지원 필수 조건</span><span class="sxs-lookup"><span data-stu-id="4ef6c-202">SAP on Microsoft Azure: Support Prerequisites</span></span> |
| <span data-ttu-id="4ef6c-203">[1999351]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-203">[1999351]</span></span> |<span data-ttu-id="4ef6c-204">SAP용 고급 Azure 모니터링 문제 해결</span><span class="sxs-lookup"><span data-stu-id="4ef6c-204">Troubleshooting Enhanced Azure Monitoring for SAP</span></span> |
| <span data-ttu-id="4ef6c-205">[2178632]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-205">[2178632]</span></span> |<span data-ttu-id="4ef6c-206">Microsoft Azure의 SAP용 주요 모니터링 메트릭</span><span class="sxs-lookup"><span data-stu-id="4ef6c-206">Key Monitoring Metrics for SAP on Microsoft Azure</span></span> |
| <span data-ttu-id="4ef6c-207">[1409604]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-207">[1409604]</span></span> |<span data-ttu-id="4ef6c-208">Windows에서의 가상화: 향상된 모니터링</span><span class="sxs-lookup"><span data-stu-id="4ef6c-208">Virtualization on Windows: Enhanced Monitoring</span></span> |
| <span data-ttu-id="4ef6c-209">[2191498]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-209">[2191498]</span></span> |<span data-ttu-id="4ef6c-210">Azure와 Linux의 SAP: 향상된 모니터링</span><span class="sxs-lookup"><span data-stu-id="4ef6c-210">SAP on Linux with Azure: Enhanced Monitoring</span></span> |
| <span data-ttu-id="4ef6c-211">[2039619]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-211">[2039619]</span></span> |<span data-ttu-id="4ef6c-212">Oracle Database를 사용하는 Microsoft Azure의 SAP 응용 프로그램: 지원 제품 및 버전</span><span class="sxs-lookup"><span data-stu-id="4ef6c-212">SAP Applications on Microsoft Azure using the Oracle Database: Supported Products and Versions</span></span> |
| <span data-ttu-id="4ef6c-213">[2233094]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-213">[2233094]</span></span> |<span data-ttu-id="4ef6c-214">DB6: Linux, UNIX 및 Windows용 IBM DB2를 사용하는 SAP 응용 프로그램 - 추가 정보</span><span class="sxs-lookup"><span data-stu-id="4ef6c-214">DB6: SAP Applications on Azure Using IBM DB2 for Linux, UNIX, and Windows - Additional Information</span></span> |
| <span data-ttu-id="4ef6c-215">[2243692]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-215">[2243692]</span></span> |<span data-ttu-id="4ef6c-216">Microsoft Azure(IaaS) VM의 Linux: SAP 라이선스 문제</span><span class="sxs-lookup"><span data-stu-id="4ef6c-216">Linux on Microsoft Azure (IaaS) VM: SAP license issues</span></span> |
| <span data-ttu-id="4ef6c-217">[1984787]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-217">[1984787]</span></span> |<span data-ttu-id="4ef6c-218">SUSE LINUX Enterprise Server 12: 설치 참고</span><span class="sxs-lookup"><span data-stu-id="4ef6c-218">SUSE LINUX Enterprise Server 12: Installation notes</span></span> |
| <span data-ttu-id="4ef6c-219">[2002167]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-219">[2002167]</span></span> |<span data-ttu-id="4ef6c-220">Red Hat Enterprise Linux 7.x: 설치 및 업그레이드</span><span class="sxs-lookup"><span data-stu-id="4ef6c-220">Red Hat Enterprise Linux 7.x: Installation and Upgrade</span></span> |

<span data-ttu-id="4ef6c-221">Linux용 SAP 정보를 모두 포함하는 [SCN Wiki](https://wiki.scn.sap.com/wiki/display/HOME/SAPonLinuxNotes) 를 읽어 보세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-221">Please also read the [SCN Wiki](https://wiki.scn.sap.com/wiki/display/HOME/SAPonLinuxNotes) that contains all SAP Notes for Linux.</span></span>

<span data-ttu-id="4ef6c-222">Microsoft Azure 아키텍처 및 Microsoft Azure 가상 컴퓨터 배포와 작동에 대한 실무 지식이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-222">You should have a working knowledge about the Microsoft Azure Architecture and how Microsoft Azure Virtual Machines are deployed and operated.</span></span> <span data-ttu-id="4ef6c-223">자세한 내용은 <https://azure.microsoft.com/documentation/>에서 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-223">You can find more information here <https://azure.microsoft.com/documentation/></span></span>

> [!NOTE]
> <span data-ttu-id="4ef6c-224">Microsoft Azure Platform의 Microsoft Azure PaaS(Platform as a Service)에 대해서는 다루지 **않습니다** .</span><span class="sxs-lookup"><span data-stu-id="4ef6c-224">We are **not** discussing Microsoft Azure Platform as a Service (PaaS) offerings of the Microsoft Azure Platform.</span></span> <span data-ttu-id="4ef6c-225">이 문서에서는 온-프레미스 환경에서 DBMS(데이터베이스 관리 시스템)를 실행하는 것처럼 Microsoft Azure Virtual Machines(IaaS)에서 DBMS를 실행하는 방법에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-225">This paper is about running a database management system (DBMS) in Microsoft Azure Virtual Machines (IaaS) just as you would run the DBMS in your on-premises environment.</span></span> <span data-ttu-id="4ef6c-226">이러한 두 환경에서의 데이터베이스 기능은 매우 다르므로 서로 혼합하지 않아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-226">Database capabilities and functionalities between these two offers are very different and should not be mixed up with each other.</span></span> <span data-ttu-id="4ef6c-227">참고 항목: <https://azure.microsoft.com/services/sql-database/></span><span class="sxs-lookup"><span data-stu-id="4ef6c-227">See also: <https://azure.microsoft.com/services/sql-database/></span></span>
>
>

<span data-ttu-id="4ef6c-228">여기에서는 IaaS에 대해 설명하고 있으므로 Windows, Linux 및 DBMS 설치와 구성은 기본적으로 온-프레미스에 설치할 완전 컴퓨터 또는 가상 컴퓨터와 동일합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-228">Since we are discussing IaaS, in general the Windows, Linux and DBMS installation and configuration are essentially the same as any virtual machine or bare metal machine you would install on-premises.</span></span> <span data-ttu-id="4ef6c-229">그러나 IaaS를 사용하는 경우 일부 아키텍처 및 시스템 관리 구현이 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-229">However, there are some architecture and system management implementation decisions which will be different when utilizing IaaS.</span></span> <span data-ttu-id="4ef6c-230">이 문서의 목적은 IaaS를 사용할 때 대비해야 하는 특정 아키텍처 및 시스템 관리의 차이점을 설명하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-230">The purpose of this document is to explain the specific architectural and system management differences that you must be prepared for when using IaaS.</span></span>

<span data-ttu-id="4ef6c-231">일반적으로 이 문서에서 다루는 차이점의 전반적인 영역은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-231">In general, the overall areas of difference that this paper will discuss are:</span></span>

* <span data-ttu-id="4ef6c-232">적절한 데이터 파일 레이아웃을 사용하고 워크로드에 대한 충분한 IOPS를 얻기 위한 SAP 시스템의 적절한 VM/VHD 레이아웃 계획</span><span class="sxs-lookup"><span data-stu-id="4ef6c-232">Planning the proper VM/VHD layout of SAP systems to ensure you have the proper data file layout and can achieve enough IOPS for your workload.</span></span>
* <span data-ttu-id="4ef6c-233">IaaS 사용 시 네트워킹 고려 사항</span><span class="sxs-lookup"><span data-stu-id="4ef6c-233">Networking considerations when using IaaS.</span></span>
* <span data-ttu-id="4ef6c-234">데이터베이스 레이아웃을 최적화하기 위해 사용할 특정 데이터베이스 기능</span><span class="sxs-lookup"><span data-stu-id="4ef6c-234">Specific database features to use in order to optimize the database layout.</span></span>
* <span data-ttu-id="4ef6c-235">IaaS 사용 시 백업 및 복원 고려 사항</span><span class="sxs-lookup"><span data-stu-id="4ef6c-235">Backup and restore considerations in IaaS.</span></span>
* <span data-ttu-id="4ef6c-236">배포에 다양한 이미지 형식 사용</span><span class="sxs-lookup"><span data-stu-id="4ef6c-236">Utilizing different types of images for deployment.</span></span>
* <span data-ttu-id="4ef6c-237">Azure IaaS의 고가용성</span><span class="sxs-lookup"><span data-stu-id="4ef6c-237">High Availability in Azure IaaS.</span></span>

## <span data-ttu-id="4ef6c-238"><a name="65fa79d6-a85f-47ee-890b-22e794f51a64"></a>RDBMS 배포 구조</span><span class="sxs-lookup"><span data-stu-id="4ef6c-238"><a name="65fa79d6-a85f-47ee-890b-22e794f51a64"></a>Structure of a RDBMS Deployment</span></span>
<span data-ttu-id="4ef6c-239">이 챕터를 수행하려면 [배포 가이드][deployment-guide]의 [이][deployment-guide-3] 챕터에서 설명하는 내용을 이해해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-239">In order follow this chapter, it is necessary to understand what was presented in [this][deployment-guide-3] chapter of the [Deployment Guide][deployment-guide].</span></span> <span data-ttu-id="4ef6c-240">이 챕터를 읽기 전에 다양한 VM 시리즈와 그 차이점 및 Azure 표준과 프리미엄 저장소의 차이점에 대한 정보를 이해해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-240">Knowledge about the different VM-Series and their differences and differences of Azure Standard and Premium Storage should be understood and known before reading this chapter.</span></span>

<span data-ttu-id="4ef6c-241">2015년 3월까지 운영 체제를 포함한 Azure VHD 크기가 127GB로 제한되었습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-241">Until March 2015, Azure VHDs which contain an operating system were limited to 127 GB in size.</span></span> <span data-ttu-id="4ef6c-242">이 제한은 2015년 3월에 해제되었습니다(자세한 내용은 <https://azure.microsoft.com/blog/2015/03/25/azure-vm-os-drive-limit-octupled/> 확인).</span><span class="sxs-lookup"><span data-stu-id="4ef6c-242">This limitation got lifted in March 2015 (for more information check <https://azure.microsoft.com/blog/2015/03/25/azure-vm-os-drive-limit-octupled/> ).</span></span> <span data-ttu-id="4ef6c-243">이후 운영 체제를 포함하는 VHD는 다른 모든 VHD와 같은 크기를 가질 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-243">From there on VHDs containing the operating system can have the same size as any other VHD.</span></span> <span data-ttu-id="4ef6c-244">그렇지만 운영 체제, DBMS 및 최종 SAP 이진 파일이 데이터베이스 파일과 구분되는 배포 구조를 사용하는 것이 더 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-244">Nevertheless, we still prefer a structure of deployment where the operating system, DBMS and eventual SAP binaries are separate from the database files.</span></span> <span data-ttu-id="4ef6c-245">따라서 Azure 가상 컴퓨터에서 실행 중인 SAP 시스템에 운영 체제와 함께 기본 VM(또는 VHD), DBMS(데이터베이스 관리 시스템) 실행 파일 및 SAP 실행 파일이 설치되어 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-245">Therefore, we expect SAP systems running in Azure Virtual Machines will have the base VM (or VHD) installed with the operating system, database management system executables and SAP executables.</span></span> <span data-ttu-id="4ef6c-246">DBMS 데이터 및 로그 파일은 Azure 저장소(표준 또는 프리미엄 저장소)에서 별도의 VHD 파일에 저장되며 원래 Azure 운영 체제 이미지 VM에 논리 디스크로 연결됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-246">The DBMS data and log files will be stored in Azure Storage (Standard or Premium Storage) in separate VHD files and attached as logical disks to the original Azure operating system image VM.</span></span>

<span data-ttu-id="4ef6c-247">Azure Standard Storage 또는 Azure Premium Storage(예: DS 시리즈 VM 또는 GS 시리즈 VM 사용)를 활용함에 따라 Azure 할당량이 달라지며, [여기][virtual-machines-sizes]에 문서화되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-247">Dependent on leveraging Azure Standard or Premium Storage (e.g. by using the DS-series or GS-series VMs) there are other quotas in Azure which are documented [here][virtual-machines-sizes].</span></span> <span data-ttu-id="4ef6c-248">Azure VHD를 계획할 때 다음에 대한 최적의 할당량 균형을 찾아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-248">When planning your Azure VHDs, you’ll need to find the best balance of the quotas for the following:</span></span>

* <span data-ttu-id="4ef6c-249">데이터 파일 수</span><span class="sxs-lookup"><span data-stu-id="4ef6c-249">The number of data files.</span></span>
* <span data-ttu-id="4ef6c-250">파일에 포함된 VHD 수</span><span class="sxs-lookup"><span data-stu-id="4ef6c-250">The number of VHDs which contain the files.</span></span>
* <span data-ttu-id="4ef6c-251">단일 VHD당 IOPS 할당량</span><span class="sxs-lookup"><span data-stu-id="4ef6c-251">The IOPS quotas of a single VHD.</span></span>
* <span data-ttu-id="4ef6c-252">VHD당 데이터 처리량</span><span class="sxs-lookup"><span data-stu-id="4ef6c-252">The data throughput per VHD.</span></span>
* <span data-ttu-id="4ef6c-253">VM 크기당 가능한 추가 VHD 수</span><span class="sxs-lookup"><span data-stu-id="4ef6c-253">The number of additional VHDs possible per VM size.</span></span>
* <span data-ttu-id="4ef6c-254">VM에서 제공할 수 있는 전체 저장소 처리량</span><span class="sxs-lookup"><span data-stu-id="4ef6c-254">The overall storage throughput a VM can provide.</span></span>

<span data-ttu-id="4ef6c-255">Azure는 VHD 드라이브당 IOPS 할당량을 적용합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-255">Azure will enforce an IOPS quota per VHD drive.</span></span> <span data-ttu-id="4ef6c-256">이러한 할당량은 VHD가 Azure 표준 저장소에서 호스트되는지 또는 프리미엄 저장소에서 호스트되는지에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-256">These quotas are different for VHDs hosted on Azure Standard Storage and Premium Storage.</span></span> <span data-ttu-id="4ef6c-257">I/O 대기 시간도 두 저장소에서 서로 다르며 프리미엄 저장소를 사용할 때 더 나은 I/O 대기 시간 요소를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-257">I/O latencies will also be very different between the two storage types with Premium Storage delivering factors better I/O latencies.</span></span> <span data-ttu-id="4ef6c-258">각 VM 유형에는 연결할 수 있는 VHD 수가 제한되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-258">Each of the different VM types have a limited number of VHDs that you are able to attach.</span></span> <span data-ttu-id="4ef6c-259">또한 특정 VM 유형만 Azure 프리미엄 저장소를 활용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-259">Another restriction is that only certain VM types can leverage Azure Premium Storage.</span></span> <span data-ttu-id="4ef6c-260">즉, 특정 VM 유형을 결정할 때 고려해야 할 사항에 CPU 및 메모리 요구 사항뿐 아니라 IOPS, 대기 시간 및 디스크 처리량 요구 사항도 포함되며, 보통 VHD 수 또는 프리미엄 저장소 디스크의 형식에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-260">This means the decision for a certain VM type might not only be driven by the CPU and memory requirements, but also by the IOPS, latency and disk throughput requirements that usually are scaled with the number of VHDs or the type of Premium Storage disks.</span></span> <span data-ttu-id="4ef6c-261">특히 프리미엄 저장소를 사용할 경우 VHD의 크기는 각 VHD에서 필요한 IOPS 수 및 처리량을 반영해야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-261">Especially with Premium Storage the size of a VHD also might be dictated by the number of IOPS and throughput that needs to be achieved by each VHD.</span></span>

<span data-ttu-id="4ef6c-262">전체 IOPS 속도, 탑재된 VHD 수 및 VM 크기는 모두 관련되어 있으므로 SAP 시스템의 Azure 구성이 온-프레미스 배포와 다를 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-262">The fact that the overall IOPS rate, the number of VHDs mounted, and the size of the VM are all tied together, might cause an Azure configuration of an SAP system to be different than its on-premises deployment.</span></span> <span data-ttu-id="4ef6c-263">LUN당 IOPS 제한은 일반적으로 온-프레미스 배포에서 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-263">The IOPS limits per LUN are usually configurable in on-premises deployments.</span></span> <span data-ttu-id="4ef6c-264">Azure 저장소를 사용할 경우 이러한 제한이 고정되는 반면 프리미엄 저장소의 경우 디스크 형식에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-264">Whereas with Azure Storage those limits are fixed or as in Premium Storage dependent on the disk type.</span></span> <span data-ttu-id="4ef6c-265">따라서 온-프레미스 배포를 사용할 경우 SAP 및 DBMS와 같은 특수 실행 파일용 볼륨 또는 임시 데이터베이스나 테이블 공간용 특수 볼륨을 위한 다양한 볼륨을 사용하는 데이터베이스 서버의 고객 구성을 보게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-265">So with on-premises deployments we see customer configurations of database servers which are using many different volumes for special executables like SAP and the DBMS or special volumes for temporary databases or table spaces.</span></span> <span data-ttu-id="4ef6c-266">이러한 온-프레미스 시스템을 Azure로 이동하는 경우 IOPS를 전혀 수행하지 않거나 적게 수행하는 실행 파일 또는 데이터베이스에 대해 VHD를 사용하여 IOPS 대역폭이 낭비될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-266">When such an on-premises system is moved to Azure it might lead to a waste of potential IOPS bandwidth by wasting a VHD for executables or databases which do not perform any or not a lot of IOPS.</span></span> <span data-ttu-id="4ef6c-267">따라서 Azure VM에서는 가능하면 DBMS 및 SAP 실행 파일을 OS 디스크에 설치하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-267">Therefore, in Azure VMs we recommend that the DBMS and SAP executables be installed on the OS disk if possible.</span></span>

<span data-ttu-id="4ef6c-268">데이터베이스 파일 및 로그 파일의 배치와 사용되는 Azure 저장소 형식은 IOPS, 대기 시간 및 처리량 요구 사항에 따라 정의되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-268">The placement of the database files and log files and the type of Azure Storage used, should be defined by IOPS, latency and throughput requirements.</span></span> <span data-ttu-id="4ef6c-269">트랜잭션 로그에 대해 충분한 IOPS를 사용하려면 트랜잭션 로그 파일을 위한 VHD를 여러 개 활용하거나 더 큰 프리미엄 저장소 디스크를 사용해야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-269">In order to have enough IOPS for the transaction log, you might be forced to leverage multiple VHDs for the transaction log file or use a larger Premium Storage disk.</span></span> <span data-ttu-id="4ef6c-270">이 경우 트랜잭션 로그를 포함할 VHD와 함께 소프트웨어 RAID(예: Windows용 Windows 저장소 풀 또는 Linux용 MDADM 및 LVM(논리 볼륨 관리자))를 빌드합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-270">In such a case one would simply build a software RAID (e.g. Windows Storage Pool for Windows or MDADM and LVM (Logical Volume Manager) for Linux) with the VHDs which will contain the transaction log.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="4ef6c-272">Windows</span><span class="sxs-lookup"><span data-stu-id="4ef6c-272">Windows</span></span>
>
> <span data-ttu-id="4ef6c-273">Azure VM의 드라이브 D:\는 Azure 계산 노드의 일부 로컬 디스크에서 지원하는 비지속형 드라이브입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-273">Drive D:\ in an Azure VM is a non-persisted drive which is backed by some local disks on the Azure compute node.</span></span> <span data-ttu-id="4ef6c-274">비지속형이기 때문에 VM을 다시 부팅하면 D:\ 드라이브의 변경 내용이 손실됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-274">Because it is non-persisted, this means that any changes made to the content on the D:\ drive is lost when the VM is rebooted.</span></span> <span data-ttu-id="4ef6c-275">"변경 내용"이란 저장된 파일, 생성된 디렉터리, 설치된 응용 프로그램 등을 의미합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-275">By "any changes", we mean saved files, directories created, applications installed, etc.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="4ef6c-277">Linux</span><span class="sxs-lookup"><span data-stu-id="4ef6c-277">Linux</span></span>
>
> <span data-ttu-id="4ef6c-278">Linux Azure VM은 Azure 계산 노드의 논리 디스크에서 지원하는 비지속형 드라이브의 /mnt/resource에 자동으로 탑재됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-278">Linux Azure VMs automatically mount a drive at /mnt/resource which is a non-persisted drive backed by local disks on the Azure compute node.</span></span> <span data-ttu-id="4ef6c-279">비지속형이기 때문에 VM을 다시 부팅하면 /mnt/resource의 변경 내용이 손실됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-279">Because it is non-persisted, this means that any changes made to content in /mnt/resource is lost when the VM is rebooted.</span></span> <span data-ttu-id="4ef6c-280">변경 내용이란 저장된 파일, 생성된 디렉터리, 설치된 응용 프로그램 등을 의미합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-280">By any changes, we mean files saved, directories created, applications installed, etc.</span></span>
>
>

- - -
<span data-ttu-id="4ef6c-281">Azure VM 시리즈에 따라 계산 노드의 논리 디스크에 다음과 같이 범주로 분류할 수 있는 다양한 성능이 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-281">Dependent on the Azure VM-series, the local disks on the compute node show different performance which can be categorized like:</span></span>

* <span data-ttu-id="4ef6c-282">A0-A7: 매우 제한된 성능.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-282">A0-A7: Very limited performance.</span></span> <span data-ttu-id="4ef6c-283">Windows 페이지 파일 이외에 어떤 것에 대해서도 사용할 수 없음</span><span class="sxs-lookup"><span data-stu-id="4ef6c-283">Not usable for anything beyond windows page file</span></span>
* <span data-ttu-id="4ef6c-284">A8-A11: 매우 양호한 성능(수 만개의 IOPS 및 1GB/초 이상의 처리량)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-284">A8-A11: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>
* <span data-ttu-id="4ef6c-285">D 시리즈: 매우 양호한 성능(수 만개의 IOPS 및 1GB/초 이상의 처리량)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-285">D-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>
* <span data-ttu-id="4ef6c-286">DS 시리즈: 매우 양호한 성능(수 만개의 IOPS 및 1GB/초 이상의 처리량)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-286">DS-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>
* <span data-ttu-id="4ef6c-287">G 시리즈: 매우 양호한 성능(수 만개의 IOPS 및 1GB/초 이상의 처리량)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-287">G-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>
* <span data-ttu-id="4ef6c-288">GS 시리즈: 매우 양호한 성능(수 만개의 IOPS 및 1GB/초 이상의 처리량)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-288">GS-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>

<span data-ttu-id="4ef6c-289">위의 문은 SAP에서 인증된 VM 유형에 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-289">Statements above are applying to the VM types that are certified with SAP.</span></span> <span data-ttu-id="4ef6c-290">tempdb 또는 임시 테이블 공간과 같이 일부 DBMS 기능에서 활용하는 데 필요한 뛰어난 IOPS 및 처리량을 제공하는 VM 시리즈입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-290">The VM-series with excellent IOPS and throughput qualify for leverage by some DBMS features, like tempdb or temporary table space.</span></span>

### <span data-ttu-id="4ef6c-291"><a name="c7abf1f0-c927-4a7c-9c1d-c7b5b3b7212f"></a>VM 및 VHD에 대한 캐싱</span><span class="sxs-lookup"><span data-stu-id="4ef6c-291"><a name="c7abf1f0-c927-4a7c-9c1d-c7b5b3b7212f"></a>Caching for VMs and VHDs</span></span>
<span data-ttu-id="4ef6c-292">포털을 통해 이러한 디스크/VHD를 생성하거나 업로드된 VHD를 VM에 탑재할 때 VM과 Azure 저장소에 있는 VHD 간의 I/O 트래픽을 캐시할지 여부를 선택할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-292">When we create those disks/VHDs through the portal or when we mount uploaded VHDs to VMs, we can choose whether the I/O traffic between the VM and those VHDs located in Azure storage are cached.</span></span> <span data-ttu-id="4ef6c-293">Azure 표준 및 프리미엄 저장소에서는 이 유형의 캐시에 대해 두 가지 기술을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-293">Azure Standard and Premium Storage use two different technologies for this type of cache.</span></span> <span data-ttu-id="4ef6c-294">두 경우 모두 캐시 자체가 VM의 임시 디스크(Windows의 D:\ 또는 Linux의 /mnt/resource)에서 사용하는 것과 동일한 드라이브에서 지원하는 디스크입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-294">In both cases the cache itself would be disk backed on the same drives used by the temporary disk (D:\ on Windows or /mnt/resource on Linux) of the VM.</span></span>

<span data-ttu-id="4ef6c-295">Azure 표준 저장소의 경우 가능한 캐시 유형은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-295">For Azure Standard Storage the possible cache types are:</span></span>

* <span data-ttu-id="4ef6c-296">캐싱 없음</span><span class="sxs-lookup"><span data-stu-id="4ef6c-296">No caching</span></span>
* <span data-ttu-id="4ef6c-297">읽기 캐싱</span><span class="sxs-lookup"><span data-stu-id="4ef6c-297">Read caching</span></span>
* <span data-ttu-id="4ef6c-298">읽기 및 쓰기 캐싱</span><span class="sxs-lookup"><span data-stu-id="4ef6c-298">Read and Write caching</span></span>

<span data-ttu-id="4ef6c-299">일관성 있고 결정적 성능을 얻으려면 Azure 표준 저장소에서 **DBMS 관련 데이터 파일, 로그 파일 및 테이블 공간을 포함하는 모든 VHD의 캐싱을 '없음'**으로 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-299">In order to get consistent and deterministic performance, you should set the caching on Azure Standard Storage for all VHDs containing **DBMS related data files, log files and table space to 'NONE'**.</span></span> <span data-ttu-id="4ef6c-300">VM 캐싱은 기본값으로 유지할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-300">The caching of the VM can remain with the default.</span></span>

<span data-ttu-id="4ef6c-301">Azure Premium Storage의 경우 다음과 같은 캐싱 옵션이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-301">For Azure Premium Storage the following caching options exist:</span></span>

* <span data-ttu-id="4ef6c-302">캐싱 없음</span><span class="sxs-lookup"><span data-stu-id="4ef6c-302">No caching</span></span>
* <span data-ttu-id="4ef6c-303">읽기 캐싱</span><span class="sxs-lookup"><span data-stu-id="4ef6c-303">Read caching</span></span>

<span data-ttu-id="4ef6c-304">Azure Premium Storage에 대한 권장 사항은 SAP 데이터베이스의 **데이터 파일 읽기 캐싱**을 활용하고 **로그 파일의 VHD에 대한 캐싱 없음**을 선택하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-304">Recommendation for Azure Premium Storage is to leverage **Read caching for data files** of the SAP database and chose **No caching for the VHD(s) of log file(s)**.</span></span>

### <span data-ttu-id="4ef6c-305"><a name="c8e566f9-21b7-4457-9f7f-126036971a91"></a>소프트웨어 RAID</span><span class="sxs-lookup"><span data-stu-id="4ef6c-305"><a name="c8e566f9-21b7-4457-9f7f-126036971a91"></a>Software RAID</span></span>
<span data-ttu-id="4ef6c-306">위에서 설명한 것처럼 데이터베이스 파일에 필요한 IOPS 수를 구성 가능한 VHD 수 및 Azure VM이 VHD 또는 프리미엄 저장소 디스크 형식당 제공할 최대 IOPS에 맞게 배분해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-306">As already stated above, you will need to balance the number of IOPS needed for the database files across the number of VHDs you can configure and the maximum IOPS an Azure VM will provide per VHD or Premium Storage disk type.</span></span> <span data-ttu-id="4ef6c-307">VHD에 대한 IOPS 부하를 처리하는 가장 쉬운 방법은 여러 VHD에 소프트웨어 RAID를 빌드하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-307">Easiest way to deal with the IOPS load over VHDs is to build a software RAID over the different VHDs.</span></span> <span data-ttu-id="4ef6c-308">그런 다음 SAP DBMS의 여러 데이터 파일을 소프트웨어 RAID에서 얻은 LUN에 배치합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-308">Then place a number of data files of the SAP DBMS on the LUNS carved out of the software RAID.</span></span> <span data-ttu-id="4ef6c-309">3가지 프리미엄 저장소 디스크 중 2개는 표준 저장소 기반의 VHD보다 더 높은 IOPS 할당량을 제공하므로 요구 사항에 따라 프리미엄 저장소 사용도 고려해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-309">Dependent on the requirements you might want to consider the usage of Premium Storage as well since two of the three different Premium Storage disks provide higher IOPS quota than VHDs based on Standard Storage.</span></span> <span data-ttu-id="4ef6c-310">또한 Azure 프리미엄 저장소는 훨씬 더 향상된 I/O 대기 시간을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-310">Besides the significant better I/O latency provided by Azure Premium Storage.</span></span>

<span data-ttu-id="4ef6c-311">다른 DBMS 시스템의 트랜잭션 로그에도 동일하게 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-311">Same applies to the transaction log of the different DBMS systems.</span></span> <span data-ttu-id="4ef6c-312">DBMS 시스템은 한 번에 한 파일에만 쓰므로 Tlog 파일을 더 추가해도 도움이 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-312">With a lot of them just adding more Tlog files does not help since the DBMS systems write into one of the files at a time only.</span></span> <span data-ttu-id="4ef6c-313">VHD 기반의 단일 표준 저장소에서 제공하는 것보다 더 높은 IOPS 속도가 필요한 경우 여러 표준 저장소 VHD를 스트라이프하거나 해당 IOPS 속도보다 더 큰 프리미엄 저장소 디스크 형식을 사용하여 트랜잭션 로그에 I/O를 쓰기 위한 대기 시간을 줄일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-313">If higher IOPS rates are needed than a single Standard Storage based VHD can deliver, you can stripe over multiple Standard Storage VHDs or you can use a larger Premium Storage disk type that beyond higher IOPS rates also delivers factors lower latency for the write I/Os into the transaction log.</span></span>

<span data-ttu-id="4ef6c-314">Azure 배포에서 소프트웨어 RAID를 사용해야 하는 상황은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-314">Situations experienced in Azure deployments which would favor using a software RAID are:</span></span>

* <span data-ttu-id="4ef6c-315">트랜잭션 로그/다시 실행 로그에서 Azure에서 단일 VHD에 제공하는 것보다 더 많은 IOPS를 필요로 하는 경우.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-315">Transaction Log/Redo Log require more IOPS than Azure provides for a single VHD.</span></span> <span data-ttu-id="4ef6c-316">위에서 언급한 대로 소프트웨어 RAID를 사용하여 여러 VHD에 LUN을 빌드하여 이 문제를 해결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-316">As mentioned above this can be solved by building a LUN over multiple VHDs using a software RAID.</span></span>
* <span data-ttu-id="4ef6c-317">SAP 데이터베이스의 여러 데이터 파일에 I/O 워크로드가 균등하지 않게 배분된 경우.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-317">Uneven I/O workload distribution over the different data files of the SAP database.</span></span> <span data-ttu-id="4ef6c-318">이러한 경우 한 데이터 파일이 자주 할당량에 도달하고,</span><span class="sxs-lookup"><span data-stu-id="4ef6c-318">In such cases one can experience one data file hitting the quota rather often.</span></span> <span data-ttu-id="4ef6c-319">다른 데이터 파일은 단일 VHD의 IOPS 할당량에 근접하지도 않을 가능성이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-319">Whereas other data files are not even getting close to the IOPS quota of a single VHD.</span></span> <span data-ttu-id="4ef6c-320">이러한 경우 가장 간단한 해결책은 소프트웨어 RAID를 사용하여 여러 VHD에 하나의 LUN을 빌드하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-320">In such cases the easiest solution is to build one LUN over multiple VHDs using a software RAID.</span></span>
* <span data-ttu-id="4ef6c-321">데이터 파일당 정확한 I/O 워크로드는 알 수 없으며 DBMS에 대한 전체 IOPS 워크로드만 대략적으로 알 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-321">You don’t know what the exact I/O workload per data file is and only roughly know what the overall IOPS workload against the DBMS is.</span></span> <span data-ttu-id="4ef6c-322">소프트웨어 RAID를 사용하여 하나의 LUN을 빌드하는 것이 가장 간단합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-322">Easiest to do is to build one LUN with the help of a software RAID.</span></span> <span data-ttu-id="4ef6c-323">이 LUN 뒤의 다중 VHD 할당량의 합이 알려진 IOPS 속도를 충족해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-323">The sum of quotas of multiple VHDs behind this LUN should then fulfill the known IOPS rate.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="4ef6c-325">Windows</span><span class="sxs-lookup"><span data-stu-id="4ef6c-325">Windows</span></span>
>
> <span data-ttu-id="4ef6c-326">이전 Windows 버전의 Windows 스트라이프보다 Windows Server 2012 이상 저장소 공간이 더 효율적이므로 이 공간을 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-326">Usage of Windows Server 2012 or higher Storage Spaces is preferable since it is more efficient than Windows Striping of earlier Windows versions.</span></span> <span data-ttu-id="4ef6c-327">Windows Server 2012를 운영 체제로 사용하는 경우 PowerShell 명령을 사용하여 Windows 저장소 풀과 저장소 공간을 만들어야 할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-327">Please be aware that you might need to create the Windows Storage Pools and Storage Spaces by PowerShell commands when using Windows Server 2012 as Operating System.</span></span> <span data-ttu-id="4ef6c-328">PowerShell 명령은 <https://technet.microsoft.com/library/jj851254.aspx>에서 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-328">The PowerShell commands can be found here <https://technet.microsoft.com/library/jj851254.aspx></span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="4ef6c-330">Linux</span><span class="sxs-lookup"><span data-stu-id="4ef6c-330">Linux</span></span>
>
> <span data-ttu-id="4ef6c-331">Linux에서 소프트웨어 RAID를 빌드하는 경우 MDADM 및 LVM(논리 볼륨 관리자)만 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-331">Only MDADM and LVM (Logical Volume Manager) are supported to build a software RAID on Linux.</span></span> <span data-ttu-id="4ef6c-332">자세한 내용은 다음 문서를 읽어보세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-332">For more information, read the following articles:</span></span>
>
> * <span data-ttu-id="4ef6c-333">[Linux에서 소프트웨어 RAID 구성][virtual-machines-linux-configure-raid](MDADM용)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-333">[Configure Software RAID on Linux][virtual-machines-linux-configure-raid] (for MDADM)</span></span>
> * <span data-ttu-id="4ef6c-334">[Azure에서 Linux VM에 LVM 구성][virtual-machines-linux-configure-lvm]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-334">[Configure LVM on a Linux VM in Azure][virtual-machines-linux-configure-lvm]</span></span>
>
>

- - -
<span data-ttu-id="4ef6c-335">Azure 프리미엄 저장소와 함께 사용할 수 있는 VM 시리즈 활용에 대한 고려 사항은 일반적으로 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-335">Considerations for leveraging VM-series which are able to work with Azure Premium Storage usually are:</span></span>

* <span data-ttu-id="4ef6c-336">SAN/NAS 장치에서 제공하는 것과 가까운 I/O 대기 시간에 대한 요구</span><span class="sxs-lookup"><span data-stu-id="4ef6c-336">Demands for I/O latencies that are close to what SAN/NAS devices deliver.</span></span>
* <span data-ttu-id="4ef6c-337">Azure 표준 저장소에서 제공할 수 있는 것보다 더 나은 I/O 대기 시간 요소에 대한 요구</span><span class="sxs-lookup"><span data-stu-id="4ef6c-337">Demand for factors better I/O latency than Azure Standard Storage can deliver.</span></span>
* <span data-ttu-id="4ef6c-338">특정 VM 유형에 대해 여러 표준 저장소 VHD를 사용하여 얻을 수 있는 것보다 더 높은 VM당 IOPS</span><span class="sxs-lookup"><span data-stu-id="4ef6c-338">Higher IOPS per VM than what could be achieved with multiple Standard Storage VHDs against a certain VM type.</span></span>

<span data-ttu-id="4ef6c-339">기본 Azure 저장소는 각 VHD를 3개 이상의 저장소 노드에 복제하므로 간단한 RAID 0 스트라이프를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-339">Since the underlying Azure Storage replicates each VHD to at least three storage nodes, simple RAID 0 striping can be used.</span></span> <span data-ttu-id="4ef6c-340">RAID5 또는 RAID1을 구현할 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-340">There is no need to implement RAID5 or RAID1.</span></span>

### <span data-ttu-id="4ef6c-341"><a name="10b041ef-c177-498a-93ed-44b3441ab152"></a>Microsoft Azure Storage</span><span class="sxs-lookup"><span data-stu-id="4ef6c-341"><a name="10b041ef-c177-498a-93ed-44b3441ab152"></a>Microsoft Azure Storage</span></span>
<span data-ttu-id="4ef6c-342">Microsoft Azure 저장소는 최소 3개의 개별 저장소 노드에 기본 VM(OS 포함) 및 VHD 또는 BLOB을 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-342">Microsoft Azure Storage will store the base VM (with OS) and VHDs or BLOBs to at least 3 separate storage nodes.</span></span> <span data-ttu-id="4ef6c-343">저장소 계정을 만들 때는 다음과 같은 보호를 선택할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-343">When creating a storage account, there is a choice of protection as shown here:</span></span>

![Azure 저장소 계정에 대해 지역에서 복제 사용][dbms-guide-figure-100]

<span data-ttu-id="4ef6c-345">Azure 저장소 로컬 복제(로컬 중복)는 인프라 장애로 인한 데이터 손실로부터 보호할 수 있는 수준을 제공하지만 대부분의 고객은 경제적 부담이 커서 구입하지 못합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-345">Azure Storage Local Replication (Locally Redundant) provides levels of protection against data loss due to infrastructure failure that few customers could afford to deploy.</span></span> <span data-ttu-id="4ef6c-346">위와 같이 서로 다른 4개의 옵션이 있으며 5번째는 처음 3개 옵션 중 하나의 변형입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-346">As shown above there are 4 different options with a fifth being a variation of one of the first three.</span></span> <span data-ttu-id="4ef6c-347">자세히 살펴보면 다음과 같이 구분할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-347">Looking closer at them we can distinguish:</span></span>

* <span data-ttu-id="4ef6c-348">**프리미엄 LRS(로컬 중복 저장소)**: Azure 프리미엄 저장소는 I/O 사용량이 많은 워크로드를 실행하는 가상 컴퓨터에서 대기 시간이 짧은 고성능 디스크 지원을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-348">**Premium Locally Redundant Storage (LRS)**: Azure Premium Storage delivers high-performance, low-latency disk support for virtual machines running I/O-intensive workloads.</span></span> <span data-ttu-id="4ef6c-349">Azure 지역의 동일한 Azure 데이터 센터 내에 3개의 데이터 복제본이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-349">There are 3 replicas of the data within the same Azure datacenter of an Azure region.</span></span> <span data-ttu-id="4ef6c-350">복사본은 여러 장애 도메인과 업그레이드 도메인에 있습니다(개념에 대해서는 [계획 가이드][planning-guide]의 [이][planning-guide-3.2] 챕터 참조).</span><span class="sxs-lookup"><span data-stu-id="4ef6c-350">The copies will be in different Fault and Upgrade Domains (for concepts see [this][planning-guide-3.2] chapter in the [Planning Guide][planning-guide]).</span></span> <span data-ttu-id="4ef6c-351">저장소 노드 오류 또는 디스크 오류로 인해 서비스에서 제공하는 데이터가 복제되는 경우 새 복제본이 자동으로 생성됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-351">In case of a replica of the data going out of service due to a storage node failure or disk failure, a new replica is generated automatically.</span></span>
* <span data-ttu-id="4ef6c-352">**LRS(로컬 중복 저장소)**: 이 경우 Azure 지역의 동일한 Azure 데이터 센터 내에 데이터의 복제본이 3개 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-352">**Locally Redundant Storage (LRS)**: In this case there are 3 replicas of the data within the same Azure datacenter of an Azure region.</span></span> <span data-ttu-id="4ef6c-353">복사본은 여러 장애 도메인과 업그레이드 도메인에 있습니다(개념에 대해서는 [계획 가이드][planning-guide]의 [이][planning-guide-3.2] 챕터 참조).</span><span class="sxs-lookup"><span data-stu-id="4ef6c-353">The copies will be in different Fault and Upgrade Domains (for concepts see [this][planning-guide-3.2] chapter in the [Planning Guide][planning-guide]).</span></span> <span data-ttu-id="4ef6c-354">저장소 노드 오류 또는 디스크 오류로 인해 서비스에서 제공하는 데이터가 복제되는 경우 새 복제본이 자동으로 생성됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-354">In case of a replica of the data going out of service due to a storage node failure or disk failure, a new replica is generated automatically.</span></span>
* <span data-ttu-id="4ef6c-355">**GRS(지역 중복 저장소)**: 이 경우 다른 Azure 지역에 있는 3개의 추가 데이터 복제본을 공급하는 비동기 복제가 있습니다. 이러한 경우 대부분 동일한 지역(예: 북유럽 및 유럽 서부)에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-355">**Geo Redundant Storage (GRS)**: In this case there is an asynchronous replication that will feed an additional 3 replicas of the data in another Azure Region which is in most of the cases in the same geographical region (like North Europe and West Europe).</span></span> <span data-ttu-id="4ef6c-356">이렇게 하면 추가 복제본이 3개가 되므로 총 6개의 복제본이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-356">This will result in 3 additional replicas, so that there are 6 replicas in sum.</span></span> <span data-ttu-id="4ef6c-357">변형은 지역에서 복제된 Azure 지역의 데이터를 읽기 용도(읽기-액세스 지역 중복)로 사용할 수 있는 위치가 추가된 것입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-357">A variation of this is an addition where the data in the geo replicated Azure region can be used for read purposes (Read-Access Geo-Redundant).</span></span>
* <span data-ttu-id="4ef6c-358">**ZRS(영역 중복 저장소)**: 이 경우 동일한 Azure 지역에 3개의 데이터 복제본이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-358">**Zone Redundant Storage (ZRS)**: In this case the 3 replicas of the data remain in the same Azure Region.</span></span> <span data-ttu-id="4ef6c-359">[계획 가이드][planning-guide]의 [이][planning-guide-3.1] 챕터에서 설명한 대로 Azure 지역은 근접해 있는 여러 데이터 센터일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-359">As explained in [this][planning-guide-3.1] chapter of the [Planning Guide][planning-guide] an Azure region can be a number of datacenters in close proximity.</span></span> <span data-ttu-id="4ef6c-360">LRS의 경우 복제본은 하나의 Azure 지역을 구성하는 여러 데이터 센터에 분산됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-360">In the case of LRS the replicas would be distributed over the different datacenters that make one Azure region.</span></span>

<span data-ttu-id="4ef6c-361">자세한 내용은 [여기][storage-redundancy]에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-361">More information can be found [here][storage-redundancy].</span></span>

> [!NOTE]
> <span data-ttu-id="4ef6c-362">DBMS 배포의 경우 지역 중복 저장소의 사용은 권장되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-362">For DBMS deployments, the usage of Geo Redundant Storage is not recommended</span></span>
>
> <span data-ttu-id="4ef6c-363">Azure 저장소 지역에서 복제는 비동기적입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-363">Azure Storage Geo-Replication is asynchronous.</span></span> <span data-ttu-id="4ef6c-364">잠금 단계에서는 단일 VM에 탑재된 개별 VHD 복제가 동기화되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-364">Replication of individual VHDs mounted to a single VM are not synchronized in lock step.</span></span> <span data-ttu-id="4ef6c-365">따라서 여러 VHD에 분산되거나 다중 VHD 기반의 소프트웨어 RAID에 대해 배포된 DBMS 파일을 복제하는 데 적합하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-365">Therefore, it is not suitable to replicate DBMS files that are distributed over different VHDs or deployed against a software RAID based on multiple VHDs.</span></span> <span data-ttu-id="4ef6c-366">DBMS 소프트웨어를 사용하려면 영구 디스크 저장소가 여러 LUN 및 기본 디스크/VHD/스핀들 간에 정확하게 동기화되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-366">DBMS software requires that the persistent disk storage is precisely synchronized across different LUNs and underlying disks/VHDs/spindles.</span></span> <span data-ttu-id="4ef6c-367">DBMS 소프트웨어는 다양한 메커니즘을 사용하여 I/O 쓰기 작업의 순서를 지정하고 이러한 작업이 몇 밀리초라도 다른 경우 DBMS는 복제에서 지정한 디스크 저장소가 손상된 것으로 보고합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-367">DBMS software uses various mechanisms to sequence IO write activities and a DBMS will report that the disk storage targeted by the replication is corrupted if these vary even by a few milliseconds.</span></span> <span data-ttu-id="4ef6c-368">따라서 지역 복제된 여러 VHD에 분산된 데이터베이스 구성을 원하는 경우 데이터베이스 도구 및 기능을 사용하여 이러한 복제를 수행해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-368">Hence if one really wants a database configuration with a database stretched across multiple VHDs geo-replicated, such a replication needs to be performed with database means and functionality.</span></span> <span data-ttu-id="4ef6c-369">이 작업을 수행하기 위해 Azure 저장소 지역에서 복제를 사용해서는 안 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-369">One should not rely on Azure Storage Geo-Replication to perform this job.</span></span>
>
> <span data-ttu-id="4ef6c-370">문제는 예제 시스템을 사용하여 설명하는 것이 가장 간단합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-370">The problem is simplest to explain with an example system.</span></span> <span data-ttu-id="4ef6c-371">DBMS 데이터 파일을 포함하는 8개의 VHD와 트랜잭션 로그 파일을 포함하는 하나의 VHD가 있는 Azure에 SAP 시스템을 업로드했다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-371">Let’s assume you have an SAP system uploaded into Azure which has 8 VHDs containing data files of the DBMS plus one VHD containing the transaction log file.</span></span> <span data-ttu-id="4ef6c-372">이러한 9개의 각 VHD에는 데이터가 데이터 파일에 기록되는지 트랜잭션 로그 파일에 기록되는지에 관계없이 DBMS에 따라 일관된 방법으로 데이터가 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-372">Each one of these 9 VHDs will have data written to them in a consistent method according to the DBMS, whether the data is being written to the data or transaction log files.</span></span>
>
> <span data-ttu-id="4ef6c-373">데이터를 올바르게 지역 복제하고 일관성 있는 데이터베이스 이미지를 유지하려면 9개의 모든 VHD 콘텐츠가 서로 다른 9개 VHD에 대해 실행된 I/O 작업 순서와 동일하게 지역 복제되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-373">In order to properly geo-replicate the data and maintain a consistent database image, the content of all nine VHDs would have to be geo-replicated in the exact order the I/O operations were executed against the nine different VHDs.</span></span> <span data-ttu-id="4ef6c-374">그러나 Azure 저장소 지역에서 복제는 VHD 간 종속성 선언을 허용하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-374">However, Azure Storage geo-replication does not allow to declare dependencies between VHDs.</span></span> <span data-ttu-id="4ef6c-375">즉, Microsoft Azure 저장소 지역에서 복제는 이러한 서로 다른 9개 VHD의 콘텐츠가 서로 관련되어 있으며 데이터 변경 내용이 9개 VHD 모두에서 발생한 I/O 작업 순서대로 복제할 때만 일관되게 적용된다는 사실을 알지 못합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-375">This means Microsoft Azure Storage geo-replication doesn’t know about the fact that the content in these nine different VHDs are related to each other and that the data changes are consistent only when replicating in the order the I/O operations happened across all the 9 VHDs.</span></span>
>
> <span data-ttu-id="4ef6c-376">이 시나리오에서는 지역 복제된 이미지가 일관성 있는 데이터베이스 이미지를 제공하지 않을 가능성이 높을 뿐 아니라, 성능에 큰 영향을 줄 수 있는 지역 중복 저장소의 성능이 저하됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-376">Besides chances being high that the geo-replicated images in the scenario do not provide a consistent database image, there also is a performance penalty that shows up with geo redundant storage that can severely impact performance.</span></span> <span data-ttu-id="4ef6c-377">한 마디로 말해 DBMS 형식 워크로드에 대해서는 이러한 유형의 저장소 중복을 사용하지 마세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-377">In summary do not use this type of storage redundancy for DBMS type workloads.</span></span>
>
>

#### <a name="mapping-vhds-into-azure-virtual-machine-service-storage-accounts"></a><span data-ttu-id="4ef6c-378">VHD를 Azure 가상 컴퓨터 서비스 저장소 계정에 매핑</span><span class="sxs-lookup"><span data-stu-id="4ef6c-378">Mapping VHDs into Azure Virtual Machine Service Storage Accounts</span></span>
<span data-ttu-id="4ef6c-379">Azure 저장소 계정은 관리 구성 요소일 뿐 아니라 제한의 대상이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-379">An Azure Storage Account is not only an administrative construct, but also a subject of limitations.</span></span> <span data-ttu-id="4ef6c-380">단, 제한은 Azure 표준 저장소 계정인지 또는 Azure Premium Storage 계정인지에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-380">Whereas the limitations vary on whether we talk about an Azure Standard Storage Account or an Azure Premium Storage Account.</span></span> <span data-ttu-id="4ef6c-381">정확한 기능 및 제한은 [여기][storage-scalability-targets]서 나열하고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-381">The exact capabilities and limitations are listed [here][storage-scalability-targets]</span></span>

<span data-ttu-id="4ef6c-382">따라서 Azure Standard Storage의 경우 저장소 계정당 IOPS에 제한이 있습니다([이 문서][storage-scalability-targets]의 '총 요청 속도'가 포함된 행).</span><span class="sxs-lookup"><span data-stu-id="4ef6c-382">So for Azure Standard Storage it is important to note there is a limit on the IOPS per storage account (Row containing ‘Total Request Rate’ in [the article][storage-scalability-targets]).</span></span> <span data-ttu-id="4ef6c-383">또한 2015년 7월 현재 초기 제한은 Azure 구독당 100개의 저장소 계정으로 설정되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-383">In addition, there is an initial limit of 100 Storage Accounts per Azure subscription (as of July 2015).</span></span> <span data-ttu-id="4ef6c-384">따라서 Azure 표준 저장소를 사용할 때 여러 저장소 계정 간 VM의 IOPS 균형을 조정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-384">Therefore, it is recommended to balance IOPS of VMs between multiple storage accounts when using Azure Standard Storage.</span></span> <span data-ttu-id="4ef6c-385">반면 단일 VM은 가능한 경우 하나의 저장소 계정을 사용하는 것이 이상적입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-385">Whereas a single VM ideally uses one storage account if possible.</span></span> <span data-ttu-id="4ef6c-386">따라서 Azure 표준 저장소에서 호스트되는 각 VHD가 해당 할당량 한도에 도달할 수 있는 DBMS 배포의 경우 Azure 표준 저장소를 사용하는 Azure 저장소 계정당 30-40개의 VHD만 배포해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-386">So if we talk about DBMS deployments where each VHD that is hosted on Azure Standard Storage could reach its quota limit, you should only deploy 30-40 VHDs per Azure Storage Account that uses Azure Standard Storage.</span></span> <span data-ttu-id="4ef6c-387">반면 Azure Premium Storage를 활용하고 대용량 데이터베이스를 저장하려는 경우 IOPS에 대해 신경 쓰지 않아도 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-387">On the other hand, if you leverage Azure Premium Storage and want to store large database volumes, you might be fine in terms of IOPS.</span></span> <span data-ttu-id="4ef6c-388">하지만 Azure Premium Storage 계정은 데이터 볼륨 면에서 Azure 표준 저장소 계정보다 훨씬 더 제한적입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-388">But an Azure Premium Storage Account is way more restrictive in data volume than an Azure Standard Storage Account.</span></span> <span data-ttu-id="4ef6c-389">결과적으로, 데이터 볼륨 제한에 도달할 때까지만 Azure 프리미엄 저장소 계정 내에 제한된 수의 VHD를 배포할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-389">As a result, you can only deploy a limited number of VHDs within an Azure Premium Storage Account before hitting the data volume limit.</span></span> <span data-ttu-id="4ef6c-390">결국 Azure 저장소 계정은 IOPS 및/또는 용량이 제한된 "가상 SAN"이라고 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-390">At the end think of an Azure Storage Account as a “Virtual SAN” that has limited capabilities in IOPS and/or capacity.</span></span> <span data-ttu-id="4ef6c-391">결과적으로, 작업은 온-프레미스 배포에서처럼 여러 '가상 SAN 장치' 또는 Azure 저장소 계정에 대해 여러 SAP 시스템의 VHD 레이아웃을 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-391">As a result, the task remains, as in on-premises deployments, to define the layout of the VHDs of the different SAP systems over the different ‘imaginary SAN devices’ or Azure Storage Accounts.</span></span>

<span data-ttu-id="4ef6c-392">Azure 표준 저장소의 경우 여러 저장소 계정의 저장소를 단일 VM에 두는 것은 권장되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-392">For Azure Standard Storage it is not recommended to present storage from different storage accounts to a single VM if possible.</span></span>

<span data-ttu-id="4ef6c-393">반면 Azure VM의 DS 또는 GS 시리즈를 사용할 경우 Azure 표준 저장소 계정 및 프리미엄 저장소 계정에서 VHD를 탑재할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-393">Whereas using the DS or GS-series of Azure VMs it is possible to mount VHDs out of Azure Standard Storage Accounts and Premium Storage Accounts.</span></span> <span data-ttu-id="4ef6c-394">VHD에서 지원되는 표준 저장소에 백업을 작성하고 프리미엄 저장소에 DBMS 데이터 및 로그 파일이 있는 경우 이렇게 다른 유형의 저장소를 활용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-394">Use cases like writing backups into Standard Storage backed VHDs whereas having DBMS data and log files on Premium Storage come to mind where such heterogeneous storage could be leveraged.</span></span>

<span data-ttu-id="4ef6c-395">고객 배포 및 테스트에 따르면 데이터베이스 데이터 파일 및 로그 파일을 포함하는 30-40개의 VHD를 단일 Azure 표준 저장소 계정에 프로비전해야 적절한 성능을 제공할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-395">Based on customer deployments and testing around 30 to 40 VHDs containing database data files and log files can be provisioned on a single Azure Standard Storage Account with acceptable performance.</span></span> <span data-ttu-id="4ef6c-396">앞서 언급했듯이 Azure Premium Storage 계정의 제한은 IOPS가 아니라 포함할 수 있는 데이터 용량과 관련이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-396">As mentioned earlier, the limitation of an Azure Premium Storage Account is likely to be the data capacity it can hold and not IOPS.</span></span>

<span data-ttu-id="4ef6c-397">SAN 장치 온-프레미스처럼 공유를 위해서는 모니터링을 수행하여 Azure 저장소 계정의 병목을 검색해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-397">As with SAN devices on-premises, sharing requires some monitoring in order to eventually detect bottlenecks on an Azure Storage Account.</span></span> <span data-ttu-id="4ef6c-398">SAP용 Azure 모니터링 확장 및 Azure 포털은 현재 사용 중이며 차선의 IO 성능을 제공할 수 있는 Azure 저장소 계정을 검색할 수 있는 도구입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-398">The Azure Monitoring Extension for SAP and the Azure Portal are tools that can be used to detect busy Azure Storage Accounts that may be delivering suboptimal IO performance.</span></span>  <span data-ttu-id="4ef6c-399">이 상황이 검색되면 사용 중인 VM을 다른 Azure 저장소 계정으로 이동하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-399">If this situation is detected it is recommended to move busy VMs to another Azure Storage Account.</span></span> <span data-ttu-id="4ef6c-400">SAP 호스트 모니터링 기능을 활성화하는 방법에 대한 자세한 내용은 [배포 가이드][deployment-guide]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-400">Please refer to the [Deployment Guide][deployment-guide] for details on how to activate the SAP host monitoring capabilities.</span></span>

<span data-ttu-id="4ef6c-401">Azure 표준 저장소 및 Azure 표준 저장소 계정에 대한 모범 사례를 요약한 다른 문서는 여기(<https://blogs.msdn.com/b/mast/archive/2014/10/14/configuring-azure-virtual-machines-for-optimal-storage-performance.aspx>)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-401">Another article summarizing best practices around Azure Standard Storage and Azure Standard Storage Accounts can be found here <https://blogs.msdn.com/b/mast/archive/2014/10/14/configuring-azure-virtual-machines-for-optimal-storage-performance.aspx></span></span>

#### <a name="moving-deployed-dbms-vms-from-azure-standard-storage-to-azure-premium-storage"></a><span data-ttu-id="4ef6c-402">배포된 DBMS VM을 Azure 표준 저장소에서 Azure 프리미엄 저장소로 이동</span><span class="sxs-lookup"><span data-stu-id="4ef6c-402">Moving deployed DBMS VMs from Azure Standard Storage to Azure Premium Storage</span></span>
<span data-ttu-id="4ef6c-403">고객이 배포된 VM을 Azure 표준 저장소에서 Azure 프리미엄 저장소로 이동을 원하는 경우가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-403">We encounter quite some scenarios where you as customer want to move a deployed VM from Azure Standard Storage into Azure Premium Storage.</span></span> <span data-ttu-id="4ef6c-404">이 작업은 데이터를 물리적으로 이동하지 않으면 불가능합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-404">This is not possible without physically moving the data.</span></span> <span data-ttu-id="4ef6c-405">다음과 같은 방법을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-405">There are several ways to achieve the goal:</span></span>

* <span data-ttu-id="4ef6c-406">모든 VHD, 기본 VHD 및 데이터 VHD를 새 Azure 프리미엄 저장소 계정으로 간단하게 복사할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-406">You could simply copy all VHDs, base VHD as well as data VHDs into a new Azure Premium Storage Account.</span></span> <span data-ttu-id="4ef6c-407">데이터 볼륨이 필요한 이유가 아니더라도 Azure 표준 저장소의 VHD 수를 선택해야 할 때가 많습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-407">Very often you chose the number of VHDs in Azure Standard Storage not because of the fact that you needed the data volume.</span></span> <span data-ttu-id="4ef6c-408">하지만 대부분은 IOPS 때문에 VHD가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-408">But you needed that many VHDs because of the IOPS.</span></span> <span data-ttu-id="4ef6c-409">Azure 프리미엄 저장소로 이동한 후에는 VHD를 줄여 일부 IOPS 처리량을 달성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-409">Now that you move to Azure Premium Storage you could go with way less VHDs to achieve the some IOPS throughput.</span></span> <span data-ttu-id="4ef6c-410">Azure 표준 저장소의 경우 명목상의 디스크 크기가 아니라 사용된 데이터에 대해 청구되므로 VHD 수는 비용 면에서 크게 중요하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-410">Given the fact that in Azure Standard Storage you pay for the used data and not the nominal disk size, the number of VHDs did not really matter in terms of costs.</span></span> <span data-ttu-id="4ef6c-411">그러나 Azure 프리미엄 저장소는 명목상의 디스크 크기에 대해 청구됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-411">However, with Azure Premium Storage, you would pay for the nominal disk size.</span></span> <span data-ttu-id="4ef6c-412">따라서 대부분의 고객은 프리미엄 저장소의 Azure VHD 수를 필요한 IOPS 처리량을 얻는 데 필요한 수로 유지하려고 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-412">Therefore, most of the customer try to keep the number of Azure VHDs in Premium Storage at the number needed to achieve the IOPS throughput necessary.</span></span> <span data-ttu-id="4ef6c-413">그러므로 대부분 1:1 복사본 비율을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-413">So, most customers decide against the way of a simple 1:1 copy.</span></span>
* <span data-ttu-id="4ef6c-414">탑재되지 않은 경우 SAP 데이터베이스의 데이터베이스 백업을 포함할 수 있는 단일 VHD를 탑재합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-414">If not yet mounted, you mount a single VHD that can contain a database backup of your SAP database.</span></span> <span data-ttu-id="4ef6c-415">백업 후 백업이 있는 VHD를 포함한 모든 VHD의 탑재를 해제하고 기본 VHD 및 백업이 있는 VHD를 Azure Premium Storage 계정으로 복사합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-415">After the backup, you unmount all VHDs including the VHD containing the backup and copy the base VHD and the VHD with the backup into an Azure Premium Storage account.</span></span> <span data-ttu-id="4ef6c-416">그런 다음 기본 VHD를 기반으로 VM을 배포하고 백업이 있는 VHD를 탑재합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-416">You would then deploy the VM based on the base VHD and mount the VHD with the backup.</span></span> <span data-ttu-id="4ef6c-417">이제 데이터베이스를 복원하는 데 사용되는 VM에 대한 빈 Premium Storage 디스크를 추가로 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-417">Now you create additional empty Premium Storage Disks for the VM that are used to restore the database into.</span></span> <span data-ttu-id="4ef6c-418">여기에서는 복원 프로세스 중 DBMS를 사용하여 데이터 및 로그 파일에 대한 경로를 변경할 수 있다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-418">This assumes that the DBMS allows you to change paths to the data and log files as part of the restore process.</span></span>
* <span data-ttu-id="4ef6c-419">또는 이전 프로세스를 변형하여, 백업 VHD를 Azure Premium Storage로 복사하고 새로 배포 및 설치한 VM에 연결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-419">Another possibility is a variation of the former process, where you just copy the backup VHD into Azure Premium Storage and attach it against a VM that you newly deployed and installed.</span></span>
* <span data-ttu-id="4ef6c-420">네 번째 방법은 데이터베이스의 데이터 파일 수를 변경해야 할 시기를 선택하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-420">The fourth possibility you would choose when you are in need to change the number of data files of your database.</span></span> <span data-ttu-id="4ef6c-421">이 경우 내보내기/가져오기를 사용하여 형식이 같은 SAP 시스템 복사를 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-421">In such a case you would perform a SAP homogenous system copy using export/import.</span></span> <span data-ttu-id="4ef6c-422">Azure 프리미엄 저장소 계정에 복사된 VHD에 내보내기 파일을 저장하고 이를 가져오기 프로세스를 실행하는 데 사용할 VM에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-422">Put those export files into a VHD that is copied into an Azure Premium Storage Account and attach it to a VM that you use to run the import processes.</span></span> <span data-ttu-id="4ef6c-423">고객은 주로 이 방법을 사용하여 데이터 파일의 수를 줄입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-423">Customers use this possibility mainly when they want to decrease the number of data files.</span></span>

### <a name="deployment-of-vms-for-sap-in-azure"></a><span data-ttu-id="4ef6c-424">Azure의 SAP용 VM 배포</span><span class="sxs-lookup"><span data-stu-id="4ef6c-424">Deployment of VMs for SAP in Azure</span></span>
<span data-ttu-id="4ef6c-425">Microsoft Azure는 VM 및 관련 디스크를 배포하기 위한 여러 가지 방법을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-425">Microsoft Azure offers multiple ways to deploy VMs and associated disks.</span></span> <span data-ttu-id="4ef6c-426">따라서 배포 방법에 따라 VM 준비가 달라질 수 있으므로 차이점을 이해해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-426">Thereby it is very important to understand the differences since preparations of the VMs might differ dependent on the way of deployment.</span></span> <span data-ttu-id="4ef6c-427">일반적으로 다음 챕터에서 설명하는 시나리오를 살펴봅니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-427">In general, we look into the scenarios described in the following chapters.</span></span>

#### <a name="deploying-a-vm-from-the-azure-marketplace"></a><span data-ttu-id="4ef6c-428">Azure 마켓플레이스에서 VM 배포</span><span class="sxs-lookup"><span data-stu-id="4ef6c-428">Deploying a VM from the Azure Marketplace</span></span>
<span data-ttu-id="4ef6c-429">Azure 마켓플레이스에서 Microsoft 또는 타사에서 제공한 이미지를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-429">You like to take a Microsoft or 3rd party provided image from the Azure Marketplace to deploy your VM.</span></span> <span data-ttu-id="4ef6c-430">Azure에서 VM을 배포한 후 온-프레미스 환경에서와 동일한 지침 및 도구를 사용하여 VM 내부에 SAP 소프트웨어를 설치합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-430">After you deployed your VM in Azure, you follow the same guidelines and tools to install the SAP software inside your VM as you would do in an on-premises environment.</span></span> <span data-ttu-id="4ef6c-431">Azure VM에 SAP 소프트웨어를 설치할 때는 SAP 설치 미디어를 Azure VHD에 업로드 및 저장하거나 필요한 SAP 설치 미디어를 모두 포함하는 '파일 서버'로 사용할 Azure VM을 만드는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-431">For installing the SAP software inside the Azure VM, SAP and Microsoft recommend to upload and store the SAP installation media in Azure VHDs or to create an Azure VM working as a ‘File server’ which contains all the necessary SAP installation media.</span></span>

#### <a name="deploying-a-vm-with-a-customer-specific-generalized-image"></a><span data-ttu-id="4ef6c-432">고객별 범용 이미지를 사용하여 VM 배포</span><span class="sxs-lookup"><span data-stu-id="4ef6c-432">Deploying a VM with a customer specific generalized image</span></span>
<span data-ttu-id="4ef6c-433">OS 또는 DBMS 버전에 대한 특정 패치 요구 사항으로 인해 Azure 마켓플레이스에 제공된 이미지가 용도에 맞지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-433">Due to specific patch requirements in regards to your OS or DBMS version, the provided images in the Azure Marketplace might not fit your needs.</span></span> <span data-ttu-id="4ef6c-434">따라서 '개인' OS/DBMS VM 이미지를 사용하는 VM을 만들어 이후 여러 번 배포할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-434">Therefore, you might need to create a VM using your own ‘private’ OS/DBMS VM image which can be deployed several times afterwards.</span></span> <span data-ttu-id="4ef6c-435">복제를 위해 이러한 '개인' 이미지를 준비하려면 온-프레미스 VM에서 OS를 일반화해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-435">To prepare such a ‘private’ image for duplication, the OS must be generalized on the on-premises VM.</span></span> <span data-ttu-id="4ef6c-436">VM을 일반화하는 방법에 대한 자세한 내용은 [배포 가이드][deployment-guide]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-436">Please refer to the [Deployment Guide][deployment-guide] for details on how to generalize a VM.</span></span>

<span data-ttu-id="4ef6c-437">온-프레미스 VM(특히 2계층 시스템)에 SAP 콘텐츠를 이미 설치한 경우 Azure VM 배포 후 SAP Software Provisioning Manager에서 지원하는 인스턴스 이름 변경 절차를 통해 SAP 시스템 설정을 적용할 수 있습니다(SAP Note [1619720]).</span><span class="sxs-lookup"><span data-stu-id="4ef6c-437">If you have already installed SAP content in your on-premises VM (especially for 2-Tier systems), you can adapt the SAP system settings after the deployment of the Azure VM through the instance rename procedure supported by the SAP Software Provisioning Manager (SAP Note [1619720]).</span></span> <span data-ttu-id="4ef6c-438">그렇지 않은 경우 Azure VM 배포 후 나중에 SAP 소프트웨어를 설치할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-438">Otherwise you can install the SAP software later after the deployment of the Azure VM.</span></span>

<span data-ttu-id="4ef6c-439">SAP 응용 프로그램에서 사용하는 데이터베이스 콘텐츠를 기준으로 SAP 설치를 통해 콘텐츠를 새롭게 생성하거나 DBMS 데이터베이스 백업이 있는 VHD나 DBMS 기능을 통해 Microsoft Azure 저장소에 직접 백업하여 콘텐츠를 Azure로 가져올 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-439">As of the database content used by the SAP application, you can either generate the content freshly by an SAP installation or you can import your content into Azure by using a VHD with a DBMS database backup or by leveraging capabilities of the DBMS to directly backup into Microsoft Azure Storage.</span></span> <span data-ttu-id="4ef6c-440">이 경우 DBMS 데이터 및 로그 파일 온-프레미스를 사용하여 VHD를 준비한 다음 디스크로서 Azure로 가져올 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-440">In this case, you could also prepare VHDs with the DBMS data and log files on-premises and then import those as Disks into Azure.</span></span> <span data-ttu-id="4ef6c-441">하지만 온-프레미스에서 Azure에 로드되는 DBMS 데이터 전송은 온-프레미스를 프로비전해야 하는 VHD 디스크에 대해 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-441">But the transfer of DBMS data which is getting loaded from on-premises to Azure would work over VHD disks that need to be prepared on-premises.</span></span>

#### <a name="moving-a-vm-from-on-premises-to-azure-with-a-non-generalized-disk"></a><span data-ttu-id="4ef6c-442">일반화되지 않은 디스크를 사용하여 온-프레미스에서 Azure로 VM 이동</span><span class="sxs-lookup"><span data-stu-id="4ef6c-442">Moving a VM from on-premises to Azure with a non-generalized disk</span></span>
<span data-ttu-id="4ef6c-443">온-프레미스에서 Azure로 특정 SAP 시스템을 이동하려고 합니다(리프트 및 전환).</span><span class="sxs-lookup"><span data-stu-id="4ef6c-443">You plan to move a specific SAP system from on-premises to Azure (lift and shift).</span></span> <span data-ttu-id="4ef6c-444">이 작업은 OS, SAP 이진 파일 및 결과적 DBMS 이진을 포함하는 VHD와 DBMS 데이터와 로그 파일이 있는 VHD를 Azure에 업로드하여 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-444">This can be done by uploading the VHD which contains the OS, the SAP binaries and eventual DBMS binaries plus the VHDs with the data and log files of the DBMS to Azure.</span></span> <span data-ttu-id="4ef6c-445">위의 시나리오 2와는 달리 Azure VM에서 호스트 이름, SAP SID 및 SAP 사용자 계정을 온-프레미스 환경에서 구성된 대로 유지합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-445">In opposite to scenario #2 above, you keep the hostname, SAP SID and SAP user accounts in the Azure VM as they were configured in the on-premises environment.</span></span> <span data-ttu-id="4ef6c-446">그러므로 이미지 일반화는 필요하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-446">Therefore, generalizing the image is not necessary.</span></span> <span data-ttu-id="4ef6c-447">이 경우는 SAP 배경의 일부가 온-프레미스에서 실행되고 일부는 Azure에서 실행되는 프레미스 간 시나리오에 주로 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-447">This case will mostly apply for Cross-Premises scenarios where a part of the SAP landscape is run on-premises and parts on Azure.</span></span>

## <span data-ttu-id="4ef6c-448"><a name="871dfc27-e509-4222-9370-ab1de77021c3"></a>Azure VM을 사용한 고가용성 및 재해 복구</span><span class="sxs-lookup"><span data-stu-id="4ef6c-448"><a name="871dfc27-e509-4222-9370-ab1de77021c3"></a>High Availability and Disaster Recovery with Azure VMs</span></span>
<span data-ttu-id="4ef6c-449">Azure는 SAP 및 DBMS 배포에 사용할 다양한 구성 요소에 적용할 수 있는 다음과 같은 HA(고가용성) 및 DR(재해 복구) 기능을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-449">Azure offers the following High Availability (HA) and Disaster Recovery (DR) functionalities which apply to different components we would use for SAP and DBMS deployments</span></span>

### <a name="vms-deployed-on-azure-nodes"></a><span data-ttu-id="4ef6c-450">Azure 노드에 배포된 VM</span><span class="sxs-lookup"><span data-stu-id="4ef6c-450">VMs deployed on Azure Nodes</span></span>
<span data-ttu-id="4ef6c-451">Azure 플랫폼은 배포된 VM을 위한 실시간 마이그레이션 등의 기능을 제공하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-451">The Azure Platform does not offer features such as Live Migration for deployed VMs.</span></span> <span data-ttu-id="4ef6c-452">즉, VM이 배포된 서버 클러스터에 유지 관리가 필요한 경우 VM을 중지했다가 다시 시작해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-452">This means if there is maintenance necessary on a server cluster on which a VM is deployed, the VM needs to get stopped and restarted.</span></span> <span data-ttu-id="4ef6c-453">Azure에서의 유지 관리는 서버 클러스터 내의 업그레이드 도메인을 통해 수행됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-453">Maintenance in Azure is performed using so called Upgrade Domains within clusters of servers.</span></span> <span data-ttu-id="4ef6c-454">한 번에 하나의 업그레이드 도메인만 유지 관리됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-454">Only one Upgrade Domain at a time is being maintained.</span></span> <span data-ttu-id="4ef6c-455">이렇게 다시 시작하는 동안 VM이 종료될 때 서비스가 중단되었다가 유지 관리가 수행되고 VM이 다시 시작됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-455">During such a restart there will be an interruption of service while the VM is shut down, maintenance is performed and VM restarted.</span></span> <span data-ttu-id="4ef6c-456">그러나 대부분의 DBMS 공급업체는 주 노드를 사용할 수 없는 경우 다른 노드에서 DBMS 서비스를 신속하게 다시 시작하는 고가용성 및 재해 복구 기능을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-456">Most DBMS vendors however provide High Availability and Disaster Recovery functionality that will quickly restart the DBMS services on another node if the primary node is unavailable.</span></span> <span data-ttu-id="4ef6c-457">Azure 플랫폼에서는 VM, 저장소 및 기타 Azure 서비스를 업그레이드 도메인에 분산하는 기능을 제공하여 계획된 유지 관리를 수행합니다. 그렇지 않으면 인프라 장애가 소수의 VM 또는 서비스에만 영향을 줍니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-457">The Azure Platform offers functionality to distribute VMs, Storage and other Azure services across Upgrade Domains to ensure that planned maintenance or infrastructure failures would only impact a small subset of VMs or services.</span></span>  <span data-ttu-id="4ef6c-458">신중하게 계획할 경우 온-프레미스 인프라와 비슷한 수준의 가용성을 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-458">With careful planning it is possible to achieve availability levels comparable to on-premises infrastructures.</span></span>

<span data-ttu-id="4ef6c-459">Microsoft Azure 가용성 집합은 VM 및 기타 서비스를 클러스터 내 다른 장애 및 업그레이드 도메인에 배포하여 한 번에 한 노드만 종료되도록 하는 VM 또는 서비스의 논리적 그룹입니다(자세한 내용은 [이 문서][virtual-machines-manage-availability] 참조).</span><span class="sxs-lookup"><span data-stu-id="4ef6c-459">Microsoft Azure Availability Sets are a logical grouping of VMs or Services that ensures VMs and other services are distributed to different Fault and Upgrade Domains within a cluster such that there would only be one node shutdown at any one point in time (read [this][virtual-machines-manage-availability] article for more details).</span></span>

<span data-ttu-id="4ef6c-460">VM을 롤아웃하려는 경우 다음과 같이 구성해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-460">It needs to be configured by purpose when rolling out VMs as seen here:</span></span>

![DBMS HA 구성에 대한 가용성 집합 정의][dbms-guide-figure-200]

<span data-ttu-id="4ef6c-462">DBMS 배포의 고가용성 구성을 생성하려는 경우(사용된 개별 DBMS HA 기능과 별개로) DBMS VM에 대해 다음을 수행해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-462">If we want to create highly available configurations of DBMS deployments (independent of the individual DBMS HA functionality used), the DBMS VMs would need to:</span></span>

* <span data-ttu-id="4ef6c-463">동일한 Azure Virtual Network에 VM 추가(<https://azure.microsoft.com/documentation/services/virtual-network/>)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-463">Add the VMs to the same Azure Virtual Network (<https://azure.microsoft.com/documentation/services/virtual-network/>)</span></span>
* <span data-ttu-id="4ef6c-464">HA 구성의 VM은 동일한 서브넷에 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-464">The VMs of the HA configuration should also be in the same subnet.</span></span> <span data-ttu-id="4ef6c-465">클라우드 전용 배포에서 서로 다른 서브넷 간의 이름 확인은 불가능하며 IP 확인만 가능합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-465">Name resolution between the different subnets is not possible in Cloud-Only deployments, only IP resolution will work.</span></span> <span data-ttu-id="4ef6c-466">프레미스 간 배포에 대한 Express 경로 또는 사이트 간 연결을 사용하여 하나 이상의 서브넷이 있는 네트워크가 이미 구성되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-466">Using site-to-site or ExpressRoute connectivity for Cross-Premises deployments, a network with at least one subnet will be already established.</span></span> <span data-ttu-id="4ef6c-467">이름 확인은 온-프레미스 AD 정책 및 네트워크 인프라에 따라 수행됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-467">Name resolution will be done according to the on-premises AD policies and network infrastructure.</span></span>

<span data-ttu-id="4ef6c-468">[comment]: <> (ARM에서 여전히 true인 경우 MSSedusch TODO 테스트)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-468">[comment]: <> (MSSedusch TODO Test if still true in ARM)</span></span>

#### <a name="ip-addresses"></a><span data-ttu-id="4ef6c-469">IP 주소</span><span class="sxs-lookup"><span data-stu-id="4ef6c-469">IP Addresses</span></span>
<span data-ttu-id="4ef6c-470">복구 가능한 방법으로 HA 구성을 위한 VM을 설정하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-470">It is highly recommended to setup the VMs for HA configurations in a resilient way.</span></span> <span data-ttu-id="4ef6c-471">IP 주소를 사용하여 HA 구성 내에서 HA 파트너를 확인하는 것은 Azure에서 고정 IP 주소를 사용하지 않는 한 안정적이지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-471">Relying on IP addresses to address the HA partner(s) within the HA configuration is not reliable in Azure unless static IP addresses are used.</span></span> <span data-ttu-id="4ef6c-472">Azure에는 두 가지 "종료" 개념이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-472">There are two “Shutdown” concepts in Azure:</span></span>

* <span data-ttu-id="4ef6c-473">Azure 포털 또는 Azure PowerShell cmdlet Stop-AzureRmVM을 통한 종료: 이 경우 가상 컴퓨터가 종료되고 할당이 취소됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-473">Shut down through Azure Portal or Azure PowerShell cmdlet Stop-AzureRmVM: In this case the Virtual Machine gets shutdown and de-allocated.</span></span> <span data-ttu-id="4ef6c-474">Azure 계정에 더 이상 이 VM에 대해 청구되지 않으므로 사용한 저장소에 대해서만 비용이 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-474">Your Azure account will no longer be charged for this VM so the only charges that will incur are for the storage used.</span></span> <span data-ttu-id="4ef6c-475">그러나 네트워크 인터페이스의 개인 IP 주소가 고정이 아닌 경우 IP 주소가 해제되고 네트워크 인터페이스가 VM 다시 시작 후 다시 할당된 이전 IP 주소를 가져온다는 것을 보장할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-475">However, if the private IP address of the network interface was not static, the IP address is released and it is not guaranteed that the network interface gets the old IP address assigned again after a restart of the VM.</span></span> <span data-ttu-id="4ef6c-476">Azure 포털을 통해 또는 Stop-AzureRmVM을 호출하여 종료를 수행하면 자동으로 할당이 취소됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-476">Performing the shut down through the Azure Portal or by calling Stop-AzureRmVM will automatically cause de-allocation.</span></span> <span data-ttu-id="4ef6c-477">컴퓨터 할당을 취소하지 않으려면 Stop-AzureRmVM -StayProvisioned을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-477">If you do not want to deallocat the machine use Stop-AzureRmVM -StayProvisioned</span></span>
* <span data-ttu-id="4ef6c-478">OS 수준에서 VM을 종료하는 경우 VM이 종료되고 할당이 취소되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-478">If you shut down the VM from an OS level, the VM gets shut down and NOT de-allocated.</span></span> <span data-ttu-id="4ef6c-479">그러나 이 경우 종료 후에도 Azure 계정에 계속 VM에 대해 청구됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-479">However, in this case, your Azure account will still be charged for the VM, despite the fact that it is shutdown.</span></span> <span data-ttu-id="4ef6c-480">이러한 경우 중지된 VM에 대한 IP 주소 할당은 그대로 유지됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-480">In such a case, the assignment of the IP address to a stopped VM will remain intact.</span></span> <span data-ttu-id="4ef6c-481">VM을 종료하면 할당 취소가 자동으로 실행되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-481">Shutting down the VM from within will not automatically force de-allocation.</span></span>

<span data-ttu-id="4ef6c-482">프레미스 간 시나리오에서 DHCP 설정의 온-프레미스 정책이 다른 경우에도 기본적으로 종료 및 할당 취소는 VM에서의 IP 주소 할당 취소를 의미합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-482">Even for Cross-Premises scenarios, by default a shutdown and de-allocation will mean de-assignment of the IP addresses from the VM, even if on-premises policies in DHCP settings are different.</span></span>

* <span data-ttu-id="4ef6c-483">예외는 [여기][virtual-networks-reserved-private-ip]서 설명한 대로 고정 IP 주소를 네트워크 인터페이스에 할당하는 경우입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-483">The exception is if one assigns a static IP address to a network interface as described [here][virtual-networks-reserved-private-ip].</span></span>
* <span data-ttu-id="4ef6c-484">이러한 경우 네트워크 인터페이스가 삭제되지 않는 한 IP 주소가 고정 상태로 유지됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-484">In such a case the IP address remains fixed as long as the network interface is not deleted.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="4ef6c-485">전체 배포를 단순하고 관리하기 편하게 유지하려면 Azure 내의 DBMS HA 또는 DR 구성에서 여러 관련 VM 간에 작동하는 이름 확인 방법으로 VM 파트너를 설정하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-485">In order to keep the whole deployment simple and manageable, the clear recommendation is to setup the VMs partnering in a DBMS HA or DR configuration within Azure in a way that there is a functioning name resolution between the different VMs involved.</span></span>
>
>

## <a name="deployment-of-host-monitoring"></a><span data-ttu-id="4ef6c-486">호스트 모니터링 배포</span><span class="sxs-lookup"><span data-stu-id="4ef6c-486">Deployment of Host Monitoring</span></span>
<span data-ttu-id="4ef6c-487">Azure 가상 컴퓨터에서 SAP 응용 프로그램을 생산적으로 사용하려면 Azure 가상 컴퓨터를 실행 중인 물리적 호스트에서 호스트 모니터링 데이터를 가져오는 기능이 SAP에 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-487">For productive usage of SAP Applications in Azure Virtual Machines, SAP requires the ability to get host monitoring data from the physical hosts running the Azure Virtual Machines.</span></span> <span data-ttu-id="4ef6c-488">SAPOSCOL 및 SAP HostAgent에서 이 기능을 사용하려면 특정 SAP HostAgent 패치 수준이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-488">A specific SAP HostAgent patch level will be required that enables this capability in SAPOSCOL and SAP HostAgent.</span></span> <span data-ttu-id="4ef6c-489">정확한 패치 수준은 SAP Note [1409604]에 설명되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-489">The exact patch level is documented in SAP Note [1409604].</span></span>

<span data-ttu-id="4ef6c-490">SAPOSCOL 및 SAPHostAgent에 호스트 데이터를 제공하는 구성 요소의 배포 및 이러한 구성 요소의 수명 주기 관리에 대한 자세한 내용은 [배포 가이드][deployment-guide]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-490">For the details regarding deployment of components that deliver host data to SAPOSCOL and SAPHostAgent and the lifecycle management of those components, please refer to the [Deployment Guide][deployment-guide]</span></span>

## <span data-ttu-id="4ef6c-491"><a name="3264829e-075e-4d25-966e-a49dad878737"></a>Microsoft SQL Server에 대한 고유 정보</span><span class="sxs-lookup"><span data-stu-id="4ef6c-491"><a name="3264829e-075e-4d25-966e-a49dad878737"></a>Specifics to Microsoft SQL Server</span></span>
### <a name="sql-server-iaas"></a><span data-ttu-id="4ef6c-492">SQL Server IaaS</span><span class="sxs-lookup"><span data-stu-id="4ef6c-492">SQL Server IaaS</span></span>
<span data-ttu-id="4ef6c-493">Microsoft Azure부터 Windows Server 플랫폼에 빌드된 기존 SQL Server 응용 프로그램을 쉽게 Azure 가상 컴퓨터로 마이그레이션할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-493">Starting with Microsoft Azure, you can easily migrate your existing SQL Server applications built on Windows Server platform to Azure Virtual Machines.</span></span> <span data-ttu-id="4ef6c-494">가상 컴퓨터에서 SQL Server를 사용하면 이러한 응용 프로그램을 Microsoft Azure로 쉽게 마이그레이션하여 엔터프라이즈 수준의 응용 프로그램에 대한 배포, 관리 및 유지 관리의 총 소유 비용을 줄일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-494">SQL Server in a Virtual Machine enables you to reduce the total cost of ownership of deployment, management and maintenance of enterprise breadth applications by easily migrating these applications to Microsoft Azure.</span></span> <span data-ttu-id="4ef6c-495">Azure 가상 컴퓨터에서 SQL Server를 사용하면 관리자와 개발자가 온-프레미스와 동일한 개발 및 관리 도구를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-495">With SQL Server in an Azure Virtual Machine, administrators and developers can still use the same development and administration tools that are available on-premises.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="4ef6c-496">여기에서는 Microsoft Azure Platform의 PaaS(Platform as a Service)인 Microsoft Azure SQL 데이터베이스에 대해서는 다루지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-496">Please note we are not discussing Microsoft Azure SQL Database which is a Platform as a Service offer of the Microsoft Azure Platform.</span></span> <span data-ttu-id="4ef6c-497">이 문서에서는 Azure의 IaaS(서비스 제공 인프라)를 활용하여 Azure 가상 컴퓨터에서 온-프레미스 배포에 대해 알려진 SQL Server 제품을 실행하는 방법에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-497">The discussion in this paper is about running the SQL Server product as it is known for on-premises deployments in Azure Virtual Machines, leveraging the Infrastructure as a Service capability of Azure.</span></span> <span data-ttu-id="4ef6c-498">이러한 두 환경에서의 데이터베이스 기능은 다르므로 서로 혼합하지 않아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-498">Database capabilities and functionalities between these two offers are different and should not be mixed up with each other.</span></span> <span data-ttu-id="4ef6c-499">참고 항목: <https://azure.microsoft.com/services/sql-database/></span><span class="sxs-lookup"><span data-stu-id="4ef6c-499">See also: <https://azure.microsoft.com/services/sql-database/></span></span>
>
>

<span data-ttu-id="4ef6c-500">계속하기 전에 [이 문서][virtual-machines-sql-server-infrastructure-services]를 검토하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-500">It is strongly recommended to review [this][virtual-machines-sql-server-infrastructure-services] documentation before continuing.</span></span>

<span data-ttu-id="4ef6c-501">다음 섹션에서는 위 링크에 있는 설명서의 일부를 집계 및 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-501">In the following sections pieces of parts of the documentation under the link above will be aggregated and mentioned.</span></span> <span data-ttu-id="4ef6c-502">SAP에 대한 정보도 언급되며 몇 가지 개념도 보다 자세히 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-502">Specifics around SAP are mentioned as well and some concepts are described in more detail.</span></span> <span data-ttu-id="4ef6c-503">그러나 SQL Server 관련 문서를 읽기 전에 먼저 위의 문서를 통해 작업하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-503">However, it is highly recommended to work through the documentation above first before reading the SQL Server specific documentation.</span></span>

<span data-ttu-id="4ef6c-504">계속하기 전에 다음과 같은 IaaS의 SQL Server 관련 정보를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-504">There is some SQL Server in IaaS specific information you should know before continuing:</span></span>

* <span data-ttu-id="4ef6c-505">**가상 컴퓨터 SLA**: Azure에서 실행 중인 가상 컴퓨터용 SLA는 <https://azure.microsoft.com/support/legal/sla/>에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-505">**Virtual Machine SLA**: There is an SLA for Virtual Machines running in Azure which can be found here: <https://azure.microsoft.com/support/legal/sla/></span></span>  
* <span data-ttu-id="4ef6c-506">**SQL 버전 지원**: SAP 고객의 경우 Microsoft Azure 가상 컴퓨터에서 SQL Server 2008 R2 이상 버전을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-506">**SQL Version Support**: For SAP customers, we support SQL Server 2008 R2 and higher on Microsoft Azure Virtual Machine.</span></span> <span data-ttu-id="4ef6c-507">이전 버전은 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-507">Earlier editions are not supported.</span></span> <span data-ttu-id="4ef6c-508">자세한 내용은 이 일반 [지원 설명](https://support.microsoft.com/kb/956893) 을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-508">Review this general [Support Statement](https://support.microsoft.com/kb/956893) for more details.</span></span> <span data-ttu-id="4ef6c-509">일반적으로 SQL Server 2008은 Microsoft에서도 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-509">Please note that in general SQL Server 2008 is supported by Microsoft as well.</span></span> <span data-ttu-id="4ef6c-510">그러나 SQL Server 2008 R2에 SAP용 중요 기능이 도입되어 있으므로 SQL Server 2008 R2 이상 릴리스를 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-510">However due to significant functionality for SAP which was introduced with SQL Server 2008 R2, SQL Server 2008 R2 is the minimum release for SAP.</span></span> <span data-ttu-id="4ef6c-511">SQL Server 2012 및 2014에서는 IaaS 시나리오(Azure 저장소에 대한 직접 백업 등)와 더 밀접하게 통합되어 확장되었습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-511">Keep in mind that SQL Server 2012 and 2014 got extended with deeper integration into the IaaS scenario (like backing up directly against Azure Storage).</span></span> <span data-ttu-id="4ef6c-512">따라서 이 문서는 SQL Server 2012 및 2014와 Azure용 최신 패치 수준으로 제한됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-512">Therefore, we restrict this paper to SQL Server 2012 and 2014 with its latest patch level for Azure.</span></span>
* <span data-ttu-id="4ef6c-513">**SQL 기능 지원**: 대부분의 SQL Server 기능이 Microsoft Azure Virtual Machines에서 지원되지만 몇 가지 예외가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-513">**SQL Feature Support**: Most SQL Server features are supported on Microsoft Azure Virtual Machines with some exceptions.</span></span> <span data-ttu-id="4ef6c-514">**공유 디스크를 사용하는 SQL Server 장애 조치(failover) 클러스터링은 지원되지 않습니다**.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-514">**SQL Server Failover Clustering using Shared Disks is not supported**.</span></span>  <span data-ttu-id="4ef6c-515">데이터베이스 미러링, AlwaysOn 가용성 그룹, 복제, 로그 전달 및 Service Broker와 같은 분산 기술은 단일 Azure 지역 내에서 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-515">Distributed technologies like Database Mirroring, AlwaysOn Availability Groups, Replication, Log Shipping and Service Broker are supported within a single Azure Region.</span></span> <span data-ttu-id="4ef6c-516">SQL Server AlwaysOn은 여기(<https://blogs.technet.com/b/dataplatforminsider/archive/2014/06/19/sql-server-alwayson-availability-groups-supported-between-microsoft-azure-regions.aspx>)에 설명된 대로 다른 Azure 지역 간 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-516">SQL Server AlwaysOn also is supported between different Azure Regions as documented here:  <https://blogs.technet.com/b/dataplatforminsider/archive/2014/06/19/sql-server-alwayson-availability-groups-supported-between-microsoft-azure-regions.aspx>.</span></span>  <span data-ttu-id="4ef6c-517">자세한 내용은 [지원 설명](https://support.microsoft.com/kb/956893) 을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-517">Review the [Support Statement](https://support.microsoft.com/kb/956893) for more details.</span></span> <span data-ttu-id="4ef6c-518">AlwaysOn 구성을 배포하는 방법에 대한 예제는 [이 문서][virtual-machines-workload-template-sql-alwayson]에 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-518">An example on how to deploy an AlwaysOn configuration is shown in [this][virtual-machines-workload-template-sql-alwayson] article.</span></span> <span data-ttu-id="4ef6c-519">또한 [여기][virtual-machines-sql-server-infrastructure-services]서 설명하는 모범 사례도 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-519">Also, check out the Best Practices documented [here][virtual-machines-sql-server-infrastructure-services]</span></span>
* <span data-ttu-id="4ef6c-520">**SQL 성능**: Microsoft Azure에서 호스트되는 가상 컴퓨터는 다른 공용 클라우드 가상화 서비스보다 훨씬 뛰어난 성능을 제공하지만 개별 결과는 다를 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-520">**SQL Performance**: We are confident that Microsoft Azure hosted Virtual Machines will perform very well in comparison to other public cloud virtualization offerings, but individual results may vary.</span></span> <span data-ttu-id="4ef6c-521">[이 문서][virtual-machines-sql-server-performance-best-practices]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-521">Check out [this][virtual-machines-sql-server-performance-best-practices] article.</span></span>
* <span data-ttu-id="4ef6c-522">**Azure 마켓플레이스에서 이미지 사용**: 새 Microsoft Azure VM을 배포하는 가장 빠른 방법은 Azure 마켓플레이스의 이미지를 사용하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-522">**Using Images from Azure Marketplace**: The fastest way to deploy a new Microsoft Azure VM is to use an image from the Azure Marketplace.</span></span> <span data-ttu-id="4ef6c-523">Azure 마켓플레이스에는 SQL Server를 포함한 이미지가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-523">There are images in the Azure Marketplace which contain SQL Server.</span></span> <span data-ttu-id="4ef6c-524">SQL Server가 이미 설치된 이미지는 SAP NetWeaver 응용 프로그램에 즉시 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-524">The images where SQL Server already is installed can’t be immediately used for SAP NetWeaver applications.</span></span> <span data-ttu-id="4ef6c-525">그 이유는 이러한 이미지 내에 SAP NetWeaver 시스템에 필요한 데이터 정렬이 아닌 기본 SQL Server 데이터 정렬이 설치되어 있기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-525">The reason is the default SQL Server collation is installed within those images and not the collation required by SAP NetWeaver systems.</span></span> <span data-ttu-id="4ef6c-526">이러한 이미지를 사용하려면 [Microsoft Azure Marketplace에서 SQL Server 이미지 사용][dbms-guide-5.6] 챕터에서 설명하는 단계를 확인하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-526">In order to use such images, please check the steps documented in chapter [Using a SQL Server images out of the Microsoft Azure Marketplace][dbms-guide-5.6].</span></span>
* <span data-ttu-id="4ef6c-527">자세한 내용은 [가격 책정 정보](https://azure.microsoft.com/pricing/) 를 확인하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-527">Check out [Pricing Details](https://azure.microsoft.com/pricing/) for more information.</span></span> <span data-ttu-id="4ef6c-528">[SQL Server 2012 라이선스 가이드](https://download.microsoft.com/download/7/3/C/73CAD4E0-D0B5-4BE5-AB49-D5B886A5AE00/SQL_Server_2012_Licensing_Reference_Guide.pdf) 및 [SQL Server 2014 라이선스 가이드](https://download.microsoft.com/download/B/4/E/B4E604D9-9D38-4BBA-A927-56E4C872E41C/SQL_Server_2014_Licensing_Guide.pdf)도 중요한 리소스입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-528">The [SQL Server 2012 Licensing Guide](https://download.microsoft.com/download/7/3/C/73CAD4E0-D0B5-4BE5-AB49-D5B886A5AE00/SQL_Server_2012_Licensing_Reference_Guide.pdf) and [SQL Server 2014 Licensing Guide](https://download.microsoft.com/download/B/4/E/B4E604D9-9D38-4BBA-A927-56E4C872E41C/SQL_Server_2014_Licensing_Guide.pdf) are also an important resource.</span></span>

### <a name="sql-server-configuration-guidelines-for-sap-related-sql-server-installations-in-azure-vms"></a><span data-ttu-id="4ef6c-529">Azure VM의 SAP 관련 SQL Server 설치에 대한 SQL Server 구성 지침</span><span class="sxs-lookup"><span data-stu-id="4ef6c-529">SQL Server configuration guidelines for SAP related SQL Server installations in Azure VMs</span></span>
#### <a name="recommendations-on-vmvhd-structure-for-sap-related-sql-server-deployments"></a><span data-ttu-id="4ef6c-530">SAP 관련 SQL Server 배포용 VM/VHD 구조에 대한 권장 사항</span><span class="sxs-lookup"><span data-stu-id="4ef6c-530">Recommendations on VM/VHD structure for SAP related SQL Server deployments</span></span>
<span data-ttu-id="4ef6c-531">일반적인 설명에 따라 SQL Server 실행 파일을 VM의 기본 VHD(드라이브 C:\)에 있는 시스템 드라이브에 배치 또는 설치해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-531">In accordance with the general description, SQL Server executables should be located or installed into the system drive of the VM’s base VHD (drive C:\).</span></span>  <span data-ttu-id="4ef6c-532">일반적으로 대부분의 SQL Server 시스템 데이터베이스는 SAP NetWeaver 워크로드에서 높은 수준으로 사용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-532">Typically, most of the SQL Server system databases are not utilized at a high level by SAP NetWeaver workload.</span></span> <span data-ttu-id="4ef6c-533">따라서 SQL Server의 시스템 데이터베이스(master, msdb 및 model)는 C:\ 드라이브에 남아 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-533">Hence the system databases of SQL Server (master, msdb, and model) can remain on the C:\ drive as well.</span></span> <span data-ttu-id="4ef6c-534">단, tempdb는 예외적으로 일부 SAP ERP 및 모든 BW 워크로드에서 원본 VM보다 더 많은 데이터 볼륨 또는 I/O 작업 볼륨을 필요로 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-534">An exception could be tempdb, which in the case of some SAP ERP and all BW workloads, might require either higher data volume or I/O operations volume which can’t fit into the original VM.</span></span> <span data-ttu-id="4ef6c-535">이러한 시스템의 경우 다음 단계를 수행해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-535">For such systems, the following steps should be performed:</span></span>

* <span data-ttu-id="4ef6c-536">주 tempdb 데이터 파일을 SAP 데이터베이스의 주 데이터 파일과 같은 논리 드라이브로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-536">Move the primary tempdb data file(s) to the same logical drive as the primary data file(s) of the SAP database.</span></span>
* <span data-ttu-id="4ef6c-537">추가 tempdb 데이터 파일을 SAP 사용자 데이터베이스의 데이터 파일을 포함하는 다른 논리 드라이브에 각각 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-537">Add any additional tempdb data files to each of the other logical drives containing a data file of the SAP user database.</span></span>
* <span data-ttu-id="4ef6c-538">tempdb 로그 파일을 사용자 데이터베이스의 로그 파일을 포함하는 논리 드라이브에 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-538">Add the tempdb logfile to the logical drive which contains the user database’s log file.</span></span>
* <span data-ttu-id="4ef6c-539">**로컬 SSD를 사용하는 VM 형식의 경우에만** 계산 노드에서 tempdb 데이터 및 로그 파일을 D:\ 드라이브에 배치할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-539">**Exclusively for VM types that use local SSDs** on the compute node tempdb data and log files might be placed on the D:\ drive.</span></span> <span data-ttu-id="4ef6c-540">그러나 여러 tempdb 데이터 파일을 사용하도록 권장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-540">Nevertheless, it might be recommended to use multiple tempdb data files.</span></span> <span data-ttu-id="4ef6c-541">D:\ 드라이브 볼륨은 VM 유형에 따라 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-541">Be aware D:\ drive volumes are different based on the VM type.</span></span>

<span data-ttu-id="4ef6c-542">이러한 구성을 사용하면 tempdb에서 시스템 드라이브에서 제공할 수 있는 것보다 더 많은 공간을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-542">These configurations enable tempdb to consume more space than the system drive is able to provide.</span></span> <span data-ttu-id="4ef6c-543">적절한 tempdb 크기를 확인하려면 온-프레미스에서 실행 중인 기존 시스템에서 tempdb 크기를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-543">In order to determine the proper tempdb size, one can check the tempdb sizes on existing systems which run on-premises.</span></span> <span data-ttu-id="4ef6c-544">또한 이러한 구성은 시스템 드라이브에서 tempdb에 대해 제공할 수 있는 것보다 더 많은 IOPS 수를 허용합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-544">In addition, such a configuration would enable IOPS numbers against tempdb which cannot be provided with the system drive.</span></span> <span data-ttu-id="4ef6c-545">다시 말해, 온-프레미스에서 실행 중인 시스템은 tempdb에 대한 I/O 워크로드를 모니터링하여 tempdb에 필요한 IOPS 수를 파생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-545">Again, systems that are running on-premises can be used to monitor I/O workload against tempdb so that you can derive the IOPS numbers you expect to see on your tempdb.</span></span>

<span data-ttu-id="4ef6c-546">SQL Server와 SAP 데이터베이스를 실행하고 tempdb 데이터 및 tempdb 로그 파일이 D:\ 드라이브에 배치된 VM 구성은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-546">A VM configuration which runs SQL Server with a SAP database and where tempdb data and tempdb logfile are placed on the D:\ drive would look like:</span></span>

![SAP용 Azure IaaS VM의 참조 구성][dbms-guide-figure-300]

<span data-ttu-id="4ef6c-548">D:\ 드라이브의 크기는 VM 유형에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-548">Be aware that the D:\ drive has different sizes dependent on the VM type.</span></span> <span data-ttu-id="4ef6c-549">D:\ 드라이브가 너무 작은 경우 tempdb 크기 요구 사항에 따라 tempdb 데이터 및 로그 파일을 SAP 데이터베이스 데이터 및 로그 파일에 강제로 연결해야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-549">Dependent on the size requirement of tempdb you might be forced to pair tempdb data and log files with the SAP database data and log files in cases where D:\ drive is too small.</span></span>

#### <a name="formatting-the-vhds"></a><span data-ttu-id="4ef6c-550">VHD 형식 설정</span><span class="sxs-lookup"><span data-stu-id="4ef6c-550">Formatting the VHDs</span></span>
<span data-ttu-id="4ef6c-551">SQL Server의 경우 SQL Server 서버 데이터 및 로그 파일을 포함하는 VHD의 NTFS 블록 크기는 64K여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-551">For SQL Server the NTFS block size for VHDs containing SQL Server data and log files should be 64K.</span></span> <span data-ttu-id="4ef6c-552">D:\ 드라이브의 형식을 설정할 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-552">There is no need to format the D:\ drive.</span></span> <span data-ttu-id="4ef6c-553">이 드라이브는 미리 포맷되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-553">This drive comes pre-formatted.</span></span>

<span data-ttu-id="4ef6c-554">데이터베이스를 복원 또는 생성해도 파일 콘텐츠를 비워 데이터 파일이 초기화되지 않도록 하려면 SQL Server 서비스가 실행 중인 사용자 컨텍스트에 특정 사용 권한이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-554">In order to make sure that the restore or creation of databases is not initializing the data files by zeroing the content of the files, one should make sure that the user context the SQL Server service is running in has a certain permission.</span></span> <span data-ttu-id="4ef6c-555">일반적으로 Windows 관리자 그룹의 사용자에게는 이러한 권한이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-555">Usually users in the Windows Administrator group have these permissions.</span></span> <span data-ttu-id="4ef6c-556">SQL Server 서비스가 Windows 관리자가 아닌 사용자의 사용자 컨텍스트에서 실행되는 경우 해당 사용자에게 '볼륨 유지 관리 작업 수행' 사용자 권한을 할당해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-556">If the SQL Server service is run in the user context of non-Windows Administrator user, you need to assign that user the User Right ‘Perform volume maintenance tasks’.</span></span>  <span data-ttu-id="4ef6c-557">자세한 내용은 Microsoft 기술 자료 문서 <https://support.microsoft.com/kb/2574695>를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-557">See the details in this Microsoft Knowledge Base Article: <https://support.microsoft.com/kb/2574695></span></span>

#### <a name="impact-of-database-compression"></a><span data-ttu-id="4ef6c-558">데이터베이스 압축의 영향</span><span class="sxs-lookup"><span data-stu-id="4ef6c-558">Impact of database compression</span></span>
<span data-ttu-id="4ef6c-559">I/O 대역폭이 제한 요인이 될 수 있는 구성에서 IOPS를 줄여 Azure와 같이 IaaS 시나리오에서 실행할 수 있는 워크로드를 확장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-559">In configurations where I/O bandwidth can become a limiting factor, every measure which reduces IOPS might help to stretch the workload one can run in an IaaS scenario like Azure.</span></span> <span data-ttu-id="4ef6c-560">그러므로 아직 수행하지 않은 경우 기존 SAP 데이터베이스를 Azure에 업로드하기 전에 SQL Server 페이지 압축을 적용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-560">Therefore, if not yet done, applying SQL Server PAGE compression is strongly recommended by both SAP and Microsoft before uploading an existing SAP databases to Azure.</span></span>

<span data-ttu-id="4ef6c-561">Azure에 업로드하기 전에 데이터베이스 압축을 수행하는 이유는 두 가지입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-561">The recommendation to perform Database Compression before uploading to Azure is given out of two reasons:</span></span>

* <span data-ttu-id="4ef6c-562">업로드할 데이터의 양이 적어집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-562">The amount of data to be uploaded is lower.</span></span>
* <span data-ttu-id="4ef6c-563">더 향상된 CPU가 있는 강력한 하드웨어 또는 더 높은 I/O 대역폭이나 낮은 I/O 대기 시간의 온-프레미스를 사용할 경우 압축 실행 시간이 짧아집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-563">The duration of the compression execution is shorter assuming that one can use stronger hardware with more CPUs or higher I/O bandwidth or less I/O latency on-premises.</span></span>
* <span data-ttu-id="4ef6c-564">데이터베이스 크기가 작을수록 디스크 할당 비용이 줄어들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-564">Smaller database sizes might lead to less costs for disk allocation</span></span>

<span data-ttu-id="4ef6c-565">데이터베이스 압축은 Azure 가상 컴퓨터에서도 온-프레미스에서와 마찬가지로 잘 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-565">Database compression works as well in an Azure Virtual Machines as it does on-premises.</span></span> <span data-ttu-id="4ef6c-566">기존 SAP SQL Server 데이터베이스 압축 방법에 대한 자세한 내용은 <https://blogs.msdn.com/b/saponsqlserver/archive/2010/10/08/compressing-an-sap-database-using-report-msscompress.aspx>를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-566">For more details on how to compress an existing SAP SQL Server database please check here: <https://blogs.msdn.com/b/saponsqlserver/archive/2010/10/08/compressing-an-sap-database-using-report-msscompress.aspx></span></span>

### <a name="sql-server-2014--storing-database-files-directly-on-azure-blog-storage"></a><span data-ttu-id="4ef6c-567">SQL Server 2014 - Azure 블로그 저장소에 데이터베이스 파일 직접 저장</span><span class="sxs-lookup"><span data-stu-id="4ef6c-567">SQL Server 2014 – Storing Database Files directly on Azure Blog Storage</span></span>
<span data-ttu-id="4ef6c-568">SQL Server 2014에서는 VHD '래퍼' 없이 Azure Blob 저장소에 직접 데이터베이스 파일을 저장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-568">SQL Server 2014 opens the possibility to store database files directly on Azure Blob Store without the ‘wrapper’ of a VHD around them.</span></span> <span data-ttu-id="4ef6c-569">특히 표준 Azure 저장소 또는 더 작은 VM 유형을 사용할 경우 일부 더 작은 VM 유형에 탑재할 수 있는 VHD 수를 제한하여 IOPS 제한을 극복할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-569">Especially with using Standard Azure Storage or smaller VM types this enables scenarios where you can overcome the limits of IOPS that would be enforced by a limited number of VHDs that can be mounted to some smaller VM types.</span></span> <span data-ttu-id="4ef6c-570">이 방법은 사용자 데이터베이스에는 적용되지만 SQL Server의 시스템 데이터베이스에는 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-570">This works for user databases however not for system databases of SQL Server.</span></span> <span data-ttu-id="4ef6c-571">SQL Server의 데이터 및 로그 파일에도 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-571">It also works for data and log files of SQL Server.</span></span> <span data-ttu-id="4ef6c-572">VHD로 '래핑'하지 않고 이 방법으로 SAP SQL Server 데이터베이스를 배포하려는 경우 다음 사항에 유의하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-572">If you’d like to deploy a SAP SQL Server database this way instead of ‘wrapping’ it into VHDs, please keep the following in mind:</span></span>

* <span data-ttu-id="4ef6c-573">사용된 저장소 계정이 SQL Server가 실행 중인 VM을 배포하는 데 사용된 것과 동일한 Azure 지역에 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-573">The Storage Account used needs to be in the same Azure Region as the one that is used to deploy the VM SQL Server is running in.</span></span>
* <span data-ttu-id="4ef6c-574">앞 부분에서 설명한 여러 Azure 저장소 계정에 VHD 분산과 관련된 고려 사항이 이 배포 방법에도 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-574">Considerations listed earlier in regards to distribute VHDs over different Azure Storage Accounts apply for this method of deployments as well.</span></span> <span data-ttu-id="4ef6c-575">Azure Storage 계정의 제한에 대한 I/O 작업 수를 의미합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-575">Means the I/O operations count against the limits of the Azure Storage Account.</span></span>

<span data-ttu-id="4ef6c-576">[comment]: <> (MSSedusch TODO 하지만 저장소 대역폭이 아닌 네트워크 대역폭을 사용하지 않나요?)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-576">[comment]: <> (MSSedusch TODO But this will use network bandwith and not storage bandwith, doesn't it?)</span></span>

<span data-ttu-id="4ef6c-577">이 배포 유형에 대한 자세한 내용은 <https://msdn.microsoft.com/library/dn385720.aspx>를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-577">Details about this type of deployment are listed here: <https://msdn.microsoft.com/library/dn385720.aspx></span></span>

<span data-ttu-id="4ef6c-578">SQL Server 데이터 파일을 Azure Premium Storage에 직접 저장하려면 최소 <https://support.microsoft.com/kb/3063054>에서 설명한 SQL Server 2014 패치 릴리스가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-578">In order to store SQL Server data files directly on Azure Premium Storage, you need to have a minimum SQL Server 2014 patch release which is documented here: <https://support.microsoft.com/kb/3063054>.</span></span> <span data-ttu-id="4ef6c-579">Azure 표준 저장소에 SQL Server 데이터 파일을 저장하는 작업은 SQL Server 2014의 릴리스 버전에서 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-579">Storing SQL Server data files on Azure Standard Storage does work with the released version of SQL Server 2014.</span></span> <span data-ttu-id="4ef6c-580">그러나 해당 패치에는 SQL Server 데이터 파일 및 백업을 위한 Azure Blob 저장소의 직접 사용을 더 안정적으로 만드는 수정 사항과 다른 시리즈의 수정 사항이 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-580">However, the very same patches contain another series of fixes which make the direct usage of Azure Blob Storage for SQL Server data files and backups more reliable.</span></span> <span data-ttu-id="4ef6c-581">따라서 일반적으로 이러한 패치를 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-581">Therefore we recommend to use these patches in general.</span></span>

### <a name="sql-server-2014-buffer-pool-extension"></a><span data-ttu-id="4ef6c-582">SQL Server 2014 버퍼 풀 확장</span><span class="sxs-lookup"><span data-stu-id="4ef6c-582">SQL Server 2014 Buffer Pool Extension</span></span>
<span data-ttu-id="4ef6c-583">SQL Server 2014에는 버퍼 풀 확장이라는 새로운 기능이 도입되었습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-583">SQL Server 2014 introduced a new feature which is called Buffer Pool Extension.</span></span> <span data-ttu-id="4ef6c-584">이 기능은 메모리에 저장된 SQL Server의 버퍼 풀과 서버 또는 VM의 로컬 SSD에서 지원되는 보조 수준 캐시를 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-584">This functionality extends the buffer pool of SQL Server which is kept in memory with a second level cache that is backed by local SSDs of a server or VM.</span></span> <span data-ttu-id="4ef6c-585">따라서 '메모리 내'에서 더 큰 데이터 작업 집합을 유지할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-585">This enables to keep a larger working set of data ‘in memory’.</span></span> <span data-ttu-id="4ef6c-586">Azure 표준 저장소 액세스에 비해 Azure VM의 로컬 SSD에 저장된 버퍼 풀 확장에 대한 액세스는 많은 요소를 더 빠르게 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-586">Compared to accessing Azure Standard Storage the access into the extension of the buffer pool which is stored on local SSDs of an Azure VM is many factors faster.</span></span>  <span data-ttu-id="4ef6c-587">따라서 뛰어난 IOPS 및 처리량을 갖는 VM 유형의 로컬 D:\ 드라이브를 활용할 경우 Azure 저장소에 대한 IOPS 부하를 줄이고 쿼리 응답 시간을 크게 향상시킬 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-587">Therefore, leveraging the local D:\ drive of the VM types that have excellent IOPS and throughput could be a very reasonable way to reduce the IOPS load against Azure Storage and improve response times of queries dramatically.</span></span> <span data-ttu-id="4ef6c-588">이 이점은 프리미엄 저장소를 사용하지 않는 경우에 특히 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-588">This applies especially when not using Premium Storage.</span></span> <span data-ttu-id="4ef6c-589">프리미엄 저장소와 계산 노드에서 프리미엄 Azure 읽기 캐시를 사용하는 경우 데이터 파일에 대해 권장된 것처럼 큰 차이가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-589">In case of Premium Storage and the usage of the Premium Azure Read Cache on the compute node, as recommended for data files, no big differences are expected.</span></span> <span data-ttu-id="4ef6c-590">그 이유는 두 캐시(SQL Server 버퍼 풀 확장 및 프리미엄 저장소 읽기 캐시)가 계산 노드의 로컬 디스크를 사용하기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-590">Reason is that both caches (SQL Server Buffer Pool Extension and Premium Storage Read Cache) are using the local disks of the compute nodes.</span></span>
<span data-ttu-id="4ef6c-591">이 기능에 대한 자세한 내용은 <https://msdn.microsoft.com/library/dn133176.aspx> 문서를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-591">For more details about this functionality, please check this documentation: <https://msdn.microsoft.com/library/dn133176.aspx></span></span>

### <a name="backuprecovery-considerations-for-sql-server"></a><span data-ttu-id="4ef6c-592">SQL Server에 대한 백업/복구 고려 사항</span><span class="sxs-lookup"><span data-stu-id="4ef6c-592">Backup/Recovery considerations for SQL Server</span></span>
<span data-ttu-id="4ef6c-593">Azure에 SQL Server를 배포하는 경우 백업 방법을 검토해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-593">When deploying SQL Server into Azure your backup methodology must be reviewed.</span></span> <span data-ttu-id="4ef6c-594">생산성이 높은 시스템이 아니더라도 SQL Server에서 호스트하는 SAP 데이터베이스를 정기적으로 백업해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-594">Even if the system is not a productive system, the SAP database hosted by SQL Server must be backed up periodically.</span></span> <span data-ttu-id="4ef6c-595">Azure 저장소에는 이제 세 개의 이미지가 있으므로 저장소 작동 중단을 보완하는 측면에서 백업의 중요성이 줄어들었습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-595">Since Azure Storage keeps three images, a backup is now less important in respect to compensating a storage crash.</span></span> <span data-ttu-id="4ef6c-596">적절한 백업 및 복구 계획 유지 관리가 중요한 이유는 특정 시점 복구 기능을 제공하여 논리/수동 오류를 보완할 수 있기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-596">The priority reason for maintaining a proper backup and recovery plan is more that you can compensate for logical/manual errors by providing point in time recovery capabilities.</span></span> <span data-ttu-id="4ef6c-597">따라서 목표는 백업을 사용하여 데이터베이스를 다시 특정 시점으로 복원하거나 기존 데이터베이스를 복사하여 다른 시스템에 시딩하는 데 Azure의 백업을 사용하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-597">So the goal is to either use backups to restore the database back to a certain point in time or to use the backups in Azure to seed another system by copying the existing database.</span></span> <span data-ttu-id="4ef6c-598">예를 들어 백업을 복구하여 2계층 SAP 구성을 동일한 시스템의 3계층 시스템 설정으로 전송할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-598">For example, you could transfer from a 2-Tier SAP configuration to a 3-Tier system setup of the same system by restoring a backup.</span></span>

<span data-ttu-id="4ef6c-599">SQL Server를 Azure 저장소에 백업하는 방법은 세 가지가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-599">There are three different ways to backup SQL Server to Azure Storage:</span></span>

1. <span data-ttu-id="4ef6c-600">SQL Server 2012 CU4 이상에서는 기본적으로 데이터베이스를 URL에 백업할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-600">SQL Server 2012 CU4 and higher can natively backup databases to a URL.</span></span> <span data-ttu-id="4ef6c-601">이 내용은 [SQL Server 2014의 새로운 기능 – 5부 - 백업/복원 향상](https://blogs.msdn.com/b/saponsqlserver/archive/2014/02/15/new-functionality-in-sql-server-2014-part-5-backup-restore-enhancements.aspx)블로그에 자세히 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-601">This is detailed in the blog [New functionality in SQL Server 2014 – Part 5 – Backup/Restore Enhancements](https://blogs.msdn.com/b/saponsqlserver/archive/2014/02/15/new-functionality-in-sql-server-2014-part-5-backup-restore-enhancements.aspx).</span></span> <span data-ttu-id="4ef6c-602">[SQL Server 2012 SP1 CU4 이상][dbms-guide-5.5.1] 챕터를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-602">See chapter [SQL Server 2012 SP1 CU4 and later][dbms-guide-5.5.1].</span></span>
2. <span data-ttu-id="4ef6c-603">SQL 2012 CU4 이전의 SQL Server 릴리스는 리디렉션 기능을 사용하여 VHD에 백업하고 기본적으로 쓰기 스트림을 구성된 Azure 저장소 위치로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-603">SQL Server releases prior to SQL 2012 CU4 can use a redirection functionality to backup to a VHD and basically move the write stream towards an Azure Storage location that has been configured.</span></span> <span data-ttu-id="4ef6c-604">[SQL Server 2012 SP1 CU3 및 이전 버전][dbms-guide-5.5.2] 챕터를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-604">See chapter [SQL Server 2012 SP1 CU3 and earlier releases][dbms-guide-5.5.2].</span></span>
3. <span data-ttu-id="4ef6c-605">마지막 방법은 기존의 디스크에 SQL Server 백업 명령을 VHD 디스크 장치에 백업하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-605">The final method is to perform a conventional SQL Server backup to disk command onto a VHD disk device.</span></span>  <span data-ttu-id="4ef6c-606">이는 온-프레미스 배포 패턴과 동일하며 이 문서에서 자세히 설명하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-606">This is identical to the on-premises deployment pattern and is not discussed in detail in this document.</span></span>

#### <span data-ttu-id="4ef6c-607"><a name="0fef0e79-d3fe-4ae2-85af-73666a6f7268"></a>SQL Server 2012 SP1 CU4 이상</span><span class="sxs-lookup"><span data-stu-id="4ef6c-607"><a name="0fef0e79-d3fe-4ae2-85af-73666a6f7268"></a>SQL Server 2012 SP1 CU4 and later</span></span>
<span data-ttu-id="4ef6c-608">이 기능을 사용하면 Azure BLOB 저장소에 직접 백업할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-608">This functionality allows you to directly backup to Azure BLOB storage.</span></span> <span data-ttu-id="4ef6c-609">이 방법을 사용하지 않을 경우 VHD 및 IOPS 용량을 사용하는 다른 Azure VHD에 백업해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-609">Without this method, you must backup to other Azure VHDs which would consume VHD and IOPS capacity.</span></span> <span data-ttu-id="4ef6c-610">기본 개념은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-610">The idea is basically this:</span></span>

 ![Microsoft Azure 저장소 BLOB에 SQL Server 2012 백업 사용][dbms-guide-figure-400]

<span data-ttu-id="4ef6c-612">이 경우 SQL Server 백업을 저장할 VHD가 필요하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-612">The advantage in this case is that one doesn’t need to spend VHDs to store SQL Server backups on.</span></span> <span data-ttu-id="4ef6c-613">그러므로 할당되는 VHD 수가 적고 VHD IOPS의 전체 대역폭을 데이터 및 로그 파일에 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-613">So you have fewer VHDs allocated and the whole bandwidth of VHD IOPS can be used for data and log files.</span></span> <span data-ttu-id="4ef6c-614"><https://msdn.microsoft.com/library/dn435916.aspx#limitations> 문서의 '제한' 섹션에 설명된 대로 최대 백업 크기는 1TB로 제한되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-614">Please note that the maximum size of a backup is limited to a maximum of 1 TB as documented in the section ‘Limitations’ in this article: <https://msdn.microsoft.com/library/dn435916.aspx#limitations>.</span></span> <span data-ttu-id="4ef6c-615">SQL Server 백업 압축을 사용하더라도 백업 크기가 1TB를 넘으면 이 문서의 [SQL Server 2012 SP1 CU3 및 이전 버전][dbms-guide-5.5.2] 챕터에서 설명하는 기능을 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-615">If the backup size, despite using SQL Server Backup compression would exceed 1 TB in size, the functionality described in chapter [SQL Server 2012 SP1 CU3 and earlier releases][dbms-guide-5.5.2] in this document needs to be used.</span></span>

<span data-ttu-id="4ef6c-616">Azure Blob 저장소 백업에서의 데이터베이스 복원을 설명하는 [관련 문서](https://msdn.microsoft.com/library/dn449492.aspx)에서는 백업 크기가 25GB를 넘을 경우 Azure Blob 저장소에서 직접 복원하지 않도록 권장하고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-616">[Related documentation](https://msdn.microsoft.com/library/dn449492.aspx) describing the restore of databases from backups against Azure Blob Store recommend not to restore directly from Azure BLOB store if the backups is >25GB.</span></span> <span data-ttu-id="4ef6c-617">이 문서에서는 기능 제한 때문이 아니라 단순히 성능 고려 사항을 기준으로 한 것입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-617">The recommendation in this article is simply based on performance considerations and not due to functional restrictions.</span></span> <span data-ttu-id="4ef6c-618">따라서 상황별로 서로 다른 조건이 적용될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-618">Therefore, different conditions may apply on a case by case basis.</span></span>

<span data-ttu-id="4ef6c-619">이러한 형식의 백업 설정 및 활용 방법에 대한 설명서는 [이](https://msdn.microsoft.com/library/dn466438.aspx) 자습서에서 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-619">Documentation on how this type of backup is set up and leveraged can be found in [this](https://msdn.microsoft.com/library/dn466438.aspx) tutorial</span></span>

<span data-ttu-id="4ef6c-620">단계 순서의 예제는 [여기](https://msdn.microsoft.com/library/dn435916.aspx)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-620">An example of the sequence of steps can be read [here](https://msdn.microsoft.com/library/dn435916.aspx).</span></span>

<span data-ttu-id="4ef6c-621">백업 자동화는 각 백업의 BLOB 이름을 다르게 지정하도록 하기 위해 중요합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-621">Automating backups, it is of highest importance to make sure that the BLOBs for each backup are named differently.</span></span> <span data-ttu-id="4ef6c-622">그렇지 않은 경우 백업이 덮어써지며 복원 체인이 끊어집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-622">Otherwise they will be overwritten and the restore chain is broken.</span></span>

<span data-ttu-id="4ef6c-623">3가지 백업 유형이 혼합되지 않게 하려면 백업에 사용되는 저장소 계정에 다른 컨테이너를 생성하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-623">In order not to mix up things between the 3 different types of backups, it is advisable to create different containers underneath the storage account used for backups.</span></span> <span data-ttu-id="4ef6c-624">컨테이너는 VM 전용 또는 VM과 백업 형식이 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-624">The containers could be by VM only or by VM and Backup type.</span></span> <span data-ttu-id="4ef6c-625">스키마는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-625">The schema could look like:</span></span>

 ![Microsoft Azure 저장소 BLOB에 SQL Server 2012 백업 사용 - 개별 저장소 계정의 다양한 컨테이너][dbms-guide-figure-500]

<span data-ttu-id="4ef6c-627">위의 예제에서 백업은 VM이 배포된 것과 동일한 저장소 계정으로 수행할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-627">In the example above, the backups would not be performed into the same storage account where the VMs are deployed.</span></span> <span data-ttu-id="4ef6c-628">특히 백업을 위한 새 저장소 계정이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-628">There would be a new storage account specifically for the backups.</span></span> <span data-ttu-id="4ef6c-629">저장소 계정 내에는 백업 형식 및 VM 이름의 매트릭스를 사용하여 생성된 여러 컨테이너가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-629">Within the storage accounts, there would be different containers created with a matrix of the type of backup and the VM name.</span></span> <span data-ttu-id="4ef6c-630">이러한 구분을 사용하면 여러 VM의 백업을 쉽게 관리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-630">Such segmentation will make it easier to administrate the backups of the different VMs.</span></span>

<span data-ttu-id="4ef6c-631">백업에 직접 쓰는 BLOB은 VM의 VHD 수에 추가되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-631">The BLOBs one directly writes the backups to, are not adding to the count of the VHDs of a VM.</span></span> <span data-ttu-id="4ef6c-632">따라서 데이터 및 트랜잭션 로그 파일을 위해 특정 VM SKU에 탑재되는 최대 VHD 수를 최대화하고 저장소 컨테이너에 대해 백업을 실행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-632">Hence one could maximize the maximum of VHDs mounted of the specific VM SKU for the data and transaction log file and still execute a backup against a storage container.</span></span>

#### <span data-ttu-id="4ef6c-633"><a name="f9071eff-9d72-4f47-9da4-1852d782087b"></a>SQL Server 2012 SP1 CU3 및 이전 버전</span><span class="sxs-lookup"><span data-stu-id="4ef6c-633"><a name="f9071eff-9d72-4f47-9da4-1852d782087b"></a>SQL Server 2012 SP1 CU3 and earlier releases</span></span>
<span data-ttu-id="4ef6c-634">Azure Storage에 대해 백업을 직접 수행하려면 먼저 [이](https://www.microsoft.com/download/details.aspx?id=40740) KBA 문서에 연결된 msi를 다운로드해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-634">The first step you must perform in order to achieve a backup directly against Azure Storage would be to download the msi which is linked to [this](https://www.microsoft.com/download/details.aspx?id=40740) KBA article.</span></span>

<span data-ttu-id="4ef6c-635">x64 설치 파일 및 설명서를 다운로드합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-635">Download the x64 installation file and the documentation.</span></span> <span data-ttu-id="4ef6c-636">이 파일은 ‘Microsoft SQL Server Backup to Microsoft Azure Tool’ 프로그램을 설치합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-636">The file will install a program called: ‘Microsoft SQL Server Backup to Microsoft Azure Tool’.</span></span> <span data-ttu-id="4ef6c-637">제품 설명서를 자세히 읽어보세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-637">Read the documentation of the product thoroughly.</span></span>  <span data-ttu-id="4ef6c-638">이 도구는 기본적으로 다음과 같은 방식으로 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-638">The tool basically works in the following way:</span></span>

* <span data-ttu-id="4ef6c-639">SQL Server 측에서 SQL Server 백업에 대한 디스크 위치가 정의됩니다(D:\ 드라이브 사용 안 함).</span><span class="sxs-lookup"><span data-stu-id="4ef6c-639">From the SQL Server side, a disk location for the SQL Server backup is defined (don’t use the D:\ drive for this).</span></span>
* <span data-ttu-id="4ef6c-640">이 도구를 사용하면 다른 유형의 백업을 서로 다른 Azure 저장소 컨테이너에 저장할 수 있는 규칙을 정의할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-640">The tool will allow you to define rules which can be used to direct different types of backups to different Azure Storage containers.</span></span>
* <span data-ttu-id="4ef6c-641">규칙이 적용되면 이 도구가 VHD/디스크 중 하나에 대한 백업의 쓰기 스트림을 앞에서 정의한 Azure 저장소 위치로 리디렉션합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-641">Once the rules are in place, the tool will redirect the write stream of the backup to one of the VHDs/disks to the Azure Storage location which was defined earlier.</span></span>
* <span data-ttu-id="4ef6c-642">이 도구는 SQL Server 백업에 대해 정의된 VHD/디스크에서 약간의 스텁 파일(몇 KB)을 남겨 둡니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-642">The tool will leave a small stub file of a few KB size on the VHD/Disk which was defined for the SQL Server backup.</span></span> <span data-ttu-id="4ef6c-643">**이 파일은 Azure 저장소에서 다시 복원하는 데 필요하므로 저장소 위치에 남겨 두어야 합니다.**</span><span class="sxs-lookup"><span data-stu-id="4ef6c-643">**This file should be left on the storage location since it is required to restore again from Azure Storage.**</span></span>
  * <span data-ttu-id="4ef6c-644">스텁 파일이 손실되고(예: 스텁 파일이 포함된 저장소 미디어 손실) Microsoft Azure 저장소 계정에 백업하는 옵션을 선택한 경우 저장소 컨테이너에서 다운로드하여 Microsoft Azure 저장소를 통해 스텁 파일을 복구할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-644">If you have lost the stub file (e.g. through loss of the storage media that contained the stub file) and you have chosen the option of backing up to a Microsoft Azure Storage account, you may recover the stub file through Microsoft Azure Storage by downloading it from the storage container in which it was placed.</span></span> <span data-ttu-id="4ef6c-645">그런 다음 암호화가 원래 규칙을 통해 사용된 경우 도구가 동일한 암호화 암호를 사용하여 검색 및 동일한 컨테이너에 업로드하도록 구성된 로컬 컴퓨터의 폴더에 스텁 파일을 배치합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-645">You should then place the stub file into a folder on the local machine where the Tool is configured to detect and upload to the same container with the same encryption password if encryption was used with the original rule.</span></span>

<span data-ttu-id="4ef6c-646">이는 위에서 설명한 것처럼 최신 릴리스의 SQL Server에 대한 스키마를 Azure 저장소 위치의 주소 지정을 직접 허용하지 않는 SQL Server 릴리스에도 배치할 수 있다는 의미입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-646">This means the schema as described above for more recent releases of SQL Server can be put in place as well for SQL Server releases which are not allowing direct address an Azure Storage location.</span></span>

<span data-ttu-id="4ef6c-647">이 방법은 Azure 저장소에 대해 기본적으로 백업을 지원하는 최신 SQL Server 버전에서는 사용하지 않아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-647">This method should not be used with more recent SQL Server releases which support backing up natively against Azure Storage.</span></span> <span data-ttu-id="4ef6c-648">단, Azure로의 기본 백업 제한이 Azure로의 기본 백업 실행을 차단합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-648">Exceptions are where limitations of the native backup into Azure are blocking native backup execution into Azure.</span></span>

#### <a name="other-possibilities-to-backup-sql-server-databases"></a><span data-ttu-id="4ef6c-649">SQL Server 데이터베이스를 백업하는 다른 방법</span><span class="sxs-lookup"><span data-stu-id="4ef6c-649">Other possibilities to backup SQL Server databases</span></span>
<span data-ttu-id="4ef6c-650">데이터베이스를 백업하는 다른 방법은 백업을 저장하는 데 사용하는 VM에 추가 VHD를 연결하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-650">Other possibilities to backup databases is to attach additional VHDs to a VM that you use to store backups on.</span></span> <span data-ttu-id="4ef6c-651">이러한 경우 VHD가 모두 실행되고 있지 않은지 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-651">In such a case you would need to make sure that the VHDs are not running full.</span></span> <span data-ttu-id="4ef6c-652">해당하는 경우 VHD의 탑재를 해제하고 '보관'한 다음 빈 VHD로 바꿔야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-652">If that is the case, you would need to unmount the VHD and so to speak ‘archive’ it and replace it with a new empty VHD.</span></span> <span data-ttu-id="4ef6c-653">패치를 다운한 경우 데이터베이스 파일이 있는 VHD에서 이러한 VHD를 별도의 Azure 저장소 계정에 보관해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-653">If you go down that path, you want to keep these VHDs in separate Azure Storage Accounts from the ones that the VHDs with the database files.</span></span>

<span data-ttu-id="4ef6c-654">두 번째 방법은 많은 VHD를 연결할 수 있는 대용량 VM을 사용하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-654">A second possibility is to use a large VM that can have many VHDs attached.</span></span> <span data-ttu-id="4ef6c-655">예:</span><span class="sxs-lookup"><span data-stu-id="4ef6c-655">E.g.</span></span> <span data-ttu-id="4ef6c-656">32VHD가 있는 D14.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-656">D14 with 32VHDs.</span></span> <span data-ttu-id="4ef6c-657">저장소 공간을 사용하여 사용되는 공유를 빌드할 수 있는 유연한 환경을 구성한 다음 다양한 DBMS 서버에 대한 백업 대상으로 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-657">Use Storage Spaces to build a flexible environment where you could build shares that are used then as backup targets for the different DBMS servers.</span></span>

<span data-ttu-id="4ef6c-658">몇 가지 모범 사례가 [여기](https://blogs.msdn.com/b/sqlcat/archive/2015/02/26/large-sql-server-database-backup-on-an-azure-vm-and-archiving.aspx) 에 설명되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-658">Some best practices got documented [here](https://blogs.msdn.com/b/sqlcat/archive/2015/02/26/large-sql-server-database-backup-on-an-azure-vm-and-archiving.aspx) as well.</span></span>

#### <a name="performance-considerations-for-backupsrestores"></a><span data-ttu-id="4ef6c-659">백업/복원에 대한 성능 고려 사항</span><span class="sxs-lookup"><span data-stu-id="4ef6c-659">Performance considerations for backups/restores</span></span>
<span data-ttu-id="4ef6c-660">완전 배포에서처럼 백업/복원 성능은 병렬로 읽을 수 있는 볼륨 수와 이러한 볼륨의 처리량에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-660">As in bare-metal deployments, backup/restore performance is dependent on how many volumes can be read in parallel and what the throughput of those volumes might be.</span></span> <span data-ttu-id="4ef6c-661">또한 백업 압축에서 사용하는 CPU 사용량은 최대 8개 CPU 스레드까지 VM에서 중요 역할을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-661">In addition, the CPU consumption used by backup compression may play a significant role on VMs with just up to 8 CPU threads.</span></span> <span data-ttu-id="4ef6c-662">따라서 다음을 가정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-662">Therefore, one can assume:</span></span>

* <span data-ttu-id="4ef6c-663">데이터 파일을 저장하는 데 사용하는 VHD 수가 적을수록 전반적인 읽기 처리량이 줄어듭니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-663">The fewer the number of VHDs used to store the data files, the smaller the overall throughput in reading.</span></span>
* <span data-ttu-id="4ef6c-664">VM의 CPU 스레드 수가 적을수록 백업 압축에 대한 영향이 커집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-664">The smaller the number of CPU threads in the VM, the more severe the impact of backup compression.</span></span>
* <span data-ttu-id="4ef6c-665">백업을 작성하는 대상(BLOB 또는 VHD) 수가 적을수록 처리량이 줄어듭니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-665">The fewer targets (BLOBs or VHDs) to write the backup to, the lesser the throughput.</span></span>
* <span data-ttu-id="4ef6c-666">VM 크기가 작을수록 Azure 저장소에서 쓰고 읽는 저장소 처리량 할당량이 줄어듭니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-666">The smaller the VM size, the smaller the storage throughput quota writing and reading from Azure Storage.</span></span> <span data-ttu-id="4ef6c-667">백업이 Azure Blob에 직접 저장되는지 여부 또는 VHD에 저장되는지 여부에 관계없이 다시 Azure Blob에 저장됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-667">Independent of whether the backups are directly stored on Azure Blob or whether they are stored in VHDs that again are stored in Azure Blobs.</span></span>

<span data-ttu-id="4ef6c-668">Microsoft Azure 저장소 BLOB을 더 최신 버전의 백업 대상으로 사용할 경우 각 특정 백업에 대해 하나의 URL 대상만 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-668">When using a Microsoft Azure Storage BLOB as the backup target in more recent releases, you are restricted to designating only one URL target for each specific backup.</span></span>

<span data-ttu-id="4ef6c-669">그러나 이전 버전에서 ‘Microsoft SQL Server Backup to Microsoft Azure Tool’을 사용할 때는 둘 이상의 파일 대상을 정의할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-669">But when using the ‘Microsoft SQL Server Backup to Microsoft Azure Tool’ in older releases, you can define more than one file target.</span></span> <span data-ttu-id="4ef6c-670">둘 이상의 대상을 사용하여 백업을 확장하고 백업 처리량을 늘릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-670">With more than one target, the backup can scale and the throughput of the backup is higher.</span></span> <span data-ttu-id="4ef6c-671">그 결과 Azure 저장소 계정에도 여러 파일이 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-671">This would result then in multiple files as well in the Azure Storage account.</span></span> <span data-ttu-id="4ef6c-672">테스트에 따르면 여러 파일 대상을 사용하여 SQL Server 2012 SP1 CU4에 구현된 백업 확장으로 얻을 수 있는 처리량을 확실하게 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-672">In our testing, using multiple file destinations one can definitely achieve the throughput which one could achieve with the backup extensions implemented in from SQL Server 2012 SP1 CU4 on.</span></span> <span data-ttu-id="4ef6c-673">Azure로의 기본 백업 크기가 1TB로 제한되지도 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-673">You also are not blocked by the 1TB limit as in the native backup into Azure.</span></span>

<span data-ttu-id="4ef6c-674">그러나 처리량은 백업에 사용하는 Azure 저장소 계정의 위치에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-674">However, keep in mind, the throughput also is dependent on the location of the Azure Storage Account you use for the backup.</span></span> <span data-ttu-id="4ef6c-675">VM이 실행되지 않는 다른 지역에서 저장소 계정을 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-675">An idea might be to locate the storage account in a different region than the VMs are running in.</span></span> <span data-ttu-id="4ef6c-676">예:</span><span class="sxs-lookup"><span data-stu-id="4ef6c-676">E.g.</span></span> <span data-ttu-id="4ef6c-677">유럽 서부에서 VM 구성을 실행하고 백업에 사용할 저장소 계정을 북유럽에 둘 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-677">you would run the VM configuration in West-Europe, but put the Storage Account that you use to back up against in North-Europe.</span></span> <span data-ttu-id="4ef6c-678">이렇게 하면 대상 저장소 및 VM이 동일한 지역 데이터 센터에서 실행될 수 있으므로 백업 처리량에 영향을 주고 150MB/초의 처리량을 생성할 가능성이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-678">That certainly will have impact on the backup throughput and is not likely to generate a throughput of 150MB/sec as it seems to be possible in cases where the target storage and the VMs are running in the same regional datacenter.</span></span>

#### <a name="managing-backup-blobs"></a><span data-ttu-id="4ef6c-679">백업 BLOB 관리</span><span class="sxs-lookup"><span data-stu-id="4ef6c-679">Managing Backup BLOBs</span></span>
<span data-ttu-id="4ef6c-680">백업을 직접 관리해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-680">There is a requirement to manage the backups on your own.</span></span> <span data-ttu-id="4ef6c-681">잦은 트랜잭션 로그 백업의 실행으로 많은 blob이 생성되므로 이러한 blob의 관리를 통해 쉽게 Azure 포털의 작업 부하를 줄일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-681">Since the expectation is that many blobs will be created by executing frequent transaction log backups, administration of those blobs easily can overburden the Azure Portal.</span></span> <span data-ttu-id="4ef6c-682">따라서 Azure 저장소 탐색기를 활용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-682">Therefore, it is recommendable to leverage a Azure Storage Explorer.</span></span> <span data-ttu-id="4ef6c-683">Azure 저장소 계정을 관리하는 데 도움이 되는 몇 가지 도구를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-683">There are several good ones available which can help to manage an Azure storage account</span></span>

* <span data-ttu-id="4ef6c-684">Azure SDK가 설치되어 있는 Microsoft Visual Studio(<https://azure.microsoft.com/downloads/>)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-684">Microsoft Visual Studio with Azure SDK installed (<https://azure.microsoft.com/downloads/>)</span></span>
* <span data-ttu-id="4ef6c-685">Microsoft Azure Storage 탐색기(<https://azure.microsoft.com/downloads/>)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-685">Microsoft Azure Storage Explorer (<https://azure.microsoft.com/downloads/>)</span></span>
* <span data-ttu-id="4ef6c-686">타사 도구</span><span class="sxs-lookup"><span data-stu-id="4ef6c-686">3rd party tools</span></span>

<span data-ttu-id="4ef6c-687">[comment]: <> (ARM에서 아직 지원되지 않음)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-687">[comment]: <> (Not yet supported on ARM)</span></span>
<span data-ttu-id="4ef6c-688">[comment]: <> (#### Azure VM Backup)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-688">[comment]: <> (#### Azure VM backup)</span></span>
<span data-ttu-id="4ef6c-689">[comment]: <> (SAP 시스템 내의 VM은 Azure Virtual Machine 백업 기능을 사용하여 백업할 수 있습니다. Azure 가상 컴퓨터 백업은 2015년 초반에 도입된 이후 Azure에서 전체 VM을 백업하는 표준 방법이 되었습니다. Azure Backup은 Azure에 백업을 저장하고 VM을 다시 복원할 수 있도록 합니다.)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-689">[comment]: <> (VMs within the SAP system can be backed up using Azure Virtual Machine Backup functionality. Azure Virtual Machine Backup got introduced early in the year 2015 and meanwhile is a standard method to backup a complete VM in Azure. Azure Backup stores the backups in Azure and allows a restore of a VM again.)</span></span>
<span data-ttu-id="4ef6c-690">[comment]: <> (DBMS 시스템에서 Windows VSS(Volume Shadow Copy Service)<https://msdn.microsoft.com/library/windows/desktop/bb968832.aspx>를 지원하는 경우 데이터베이스를 실행하는 VM을 SQL Server 등을 통해 일관된 방법으로 백업할 수 있습니다. 따라서 Azure VM 백업을 사용하여 SAP 데이터베이스의 복원 가능한 백업을 가져올 수 있습니다. 그러나 데이터베이스의 Azure VM 백업 기반의 지정 시간 복원은 가능하지 않습니다. 따라서 Azure VM 백업을 사용하지 않고 DBMS 기능을 사용하여 데이터베이스 백업을 수행하는 것이 좋습니다.)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-690">[comment]: <> (VMs that run databases can be backed up in a consistent manner as well if the DBMS systems supports the Windows VSS Volume Shadow Copy Service <https://msdn.microsoft.com/library/windows/desktop/bb968832.aspx> as SQL Server does. So using Azure VM backup could be a way to get to a restorable backup of a SAP database. However, be aware that based on Azure VM backups point-in-time restores of databases is not possible. Therefore, the recommendation is to perform backups of databases with DBMS functionality instead of relying on Azure VM Backup.)</span></span>
<span data-ttu-id="4ef6c-691">[comment]: <> (Azure Virtual Machine 백업에 익숙해지려면 <https://azure.microsoft.com/documentation/services/backup/> 에서 시작하세요.)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-691">[comment]: <> (To get familiar with Azure Virtual Machine Backup please start here <https://azure.microsoft.com/documentation/services/backup/>)</span></span>

### <span data-ttu-id="4ef6c-692"><a name="1b353e38-21b3-4310-aeb6-a77e7c8e81c8"></a>Microsoft Azure 마켓플레이스에서 SQL Server 이미지 사용</span><span class="sxs-lookup"><span data-stu-id="4ef6c-692"><a name="1b353e38-21b3-4310-aeb6-a77e7c8e81c8"></a>Using a SQL Server images out of the Microsoft Azure Marketplace</span></span>
<span data-ttu-id="4ef6c-693">Microsoft는 Azure 마켓플레이스에서 이미 SQL Server를 포함하는 버전의 VM을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-693">Microsoft offers VMs in the Azure Marketplace which already contain versions of SQL Server.</span></span> <span data-ttu-id="4ef6c-694">SQL Server 및 Windows 라이선스가 필요한 SAP 고객의 경우, 이미 SQL Server가 설치된 VM을 스핀업하여 라이선스에 대한 요구 사항을 충족시킬 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-694">For SAP customers who require licenses for SQL Server and Windows, this might be an opportunity to basically cover the need for licenses by spinning up VMs with SQL Server already installed.</span></span> <span data-ttu-id="4ef6c-695">SAP에 대한 이러한 이미지를 사용하려면 다음 사항을 고려해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-695">In order to use such images for SAP, the following considerations need to be made:</span></span>

* <span data-ttu-id="4ef6c-696">평가판이 아닌 SQL Server 버전은 Azure 마켓플레이스에서 배포된 'Windows 전용' VM보다 비용이 더 높습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-696">The SQL Server non-Evaluation versions acquire higher costs than just a ‘Windows-only’ VM deployed from Azure Marketplace.</span></span> <span data-ttu-id="4ef6c-697">가격을 비교하려면 <https://azure.microsoft.com/pricing/details/virtual-machines/> 및 <https://azure.microsoft.com/pricing/details/virtual-machines/#Sql> 문서를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-697">Please see these articles to compare prices: <https://azure.microsoft.com/pricing/details/virtual-machines/> and <https://azure.microsoft.com/pricing/details/virtual-machines/#Sql>.</span></span>
* <span data-ttu-id="4ef6c-698">SQL Server 2012처럼 SAP에서 지원하는 SQL Server 릴리스만 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-698">You only can use SQL Server releases which are supported by SAP, like SQL Server 2012.</span></span>
* <span data-ttu-id="4ef6c-699">Azure 마켓플레이스에서 제공되는 VM에 설치되는 SQL Server 인스턴스의 데이터 정렬은 SAP NetWeaver에서 SQL Server 인스턴스를 실행하는 데 필요한 데이터 정렬이 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-699">The collation of the SQL Server instance which is installed in the VMs offered in the Azure Marketplace is not the collation SAP NetWeaver requires the SQL Server instance to run.</span></span> <span data-ttu-id="4ef6c-700">다음 섹션의 지침을 사용하여 데이터 정렬을 변경할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-700">You can change the collation though with the directions in the following section.</span></span>

#### <a name="changing-the-sql-server-collation-of-a-microsoft-windowssql-server-vm"></a><span data-ttu-id="4ef6c-701">Microsoft Windows/SQL Server VM의 SQL Server 데이터 정렬 변경</span><span class="sxs-lookup"><span data-stu-id="4ef6c-701">Changing the SQL Server Collation of a Microsoft Windows/SQL Server VM</span></span>
<span data-ttu-id="4ef6c-702">Azure 마켓플레이스의 SQL Server 이미지는 SAP NetWeaver 응용 프로그램에서 요구하는 데이터 정렬을 사용하도록 설정되어 있지 않으므로 배포 후 즉시 변경해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-702">Since the SQL Server images in the Azure Marketplace are not set up to use the collation which is required by SAP NetWeaver applications, it needs to be changed immediately after the deployment.</span></span> <span data-ttu-id="4ef6c-703">SQL Server 2012의 경우 VM을 배포하자마자 다음 단계를 통해 이 작업을 수행할 수 있으며 관리자가 배포된 VM에 로그인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-703">For SQL Server 2012, this can be done with the following steps as soon as the VM has been deployed and an administrator is able to log into the deployed VM:</span></span>

* <span data-ttu-id="4ef6c-704">'관리자'로 Windows 명령 창을 엽니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-704">Open a Windows Command Window ‘as administrator’.</span></span>
* <span data-ttu-id="4ef6c-705">디렉터리를 C:\Program Files\Microsoft SQL Server\110\Setup Bootstrap\SQLServer2012로 변경합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-705">Change the directory to C:\Program Files\Microsoft SQL Server\110\Setup Bootstrap\SQLServer2012.</span></span>
* <span data-ttu-id="4ef6c-706">Setup.exe /QUIET /ACTION=REBUILDDATABASE /INSTANCENAME=MSSQLSERVER /SQLSYSADMINACCOUNTS=`<local_admin_account_name`> /SQLCOLLATION=SQL_Latin1_General_Cp850_BIN2 명령을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-706">Execute the command: Setup.exe /QUIET /ACTION=REBUILDDATABASE /INSTANCENAME=MSSQLSERVER /SQLSYSADMINACCOUNTS=`<local_admin_account_name`> /SQLCOLLATION=SQL_Latin1_General_Cp850_BIN2</span></span>   
  * <span data-ttu-id="4ef6c-707">`<local_admin_account_name`>은 갤러리를 통해 처음으로 VM을 배포할 때 관리자 계정으로 정의된 계정입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-707">`<local_admin_account_name`> is the account which was defined as the administrator account when deploying the VM for the first time through the gallery.</span></span>

<span data-ttu-id="4ef6c-708">이 프로세스는 몇 분밖에 안 걸립니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-708">The process should only take a few minutes.</span></span> <span data-ttu-id="4ef6c-709">단계가 올바르게 수행되었는지 확인하려면 다음 단계를 수행하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-709">In order to make sure whether the step ended up with the correct result, please perform the following steps:</span></span>

* <span data-ttu-id="4ef6c-710">SQL Server Management Studio를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-710">Open SQL Server Management Studio.</span></span>
* <span data-ttu-id="4ef6c-711">쿼리 창을 엽니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-711">Open a Query Window.</span></span>
* <span data-ttu-id="4ef6c-712">SQL Server master 데이터베이스에서 sp_helpsort 명령을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-712">Execute the command sp_helpsort in the SQL Server master database.</span></span>

<span data-ttu-id="4ef6c-713">다음과 같은 결과가 나와야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-713">The desired result should look like:</span></span>

    Latin1-General, binary code point comparison sort for Unicode Data, SQL Server Sort Order 40 on Code Page 850 for non-Unicode Data

<span data-ttu-id="4ef6c-714">원하는 결과가 아닌 경우 SAP 배포를 중지하고 설치 명령이 원하는 대로 작동되지 않은 이유를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-714">If this is not the result, STOP deploying SAP and investigate why the setup command did not work as expected.</span></span> <span data-ttu-id="4ef6c-715">위에서 언급한 것과 다른 SQL Server 코드 페이지를 사용하여 SAP NetWeaver 응용 프로그램을 SQL Server 인스턴스에 배포할 수는 **없습니다** .</span><span class="sxs-lookup"><span data-stu-id="4ef6c-715">Deployment of SAP NetWeaver applications onto SQL Server instance with different SQL Server codepages than the one mentioned above is **NOT** supported.</span></span>

### <a name="sql-server-high-availability-for-sap-in-azure"></a><span data-ttu-id="4ef6c-716">Azure의 SAP용 SQL Server 고가용성</span><span class="sxs-lookup"><span data-stu-id="4ef6c-716">SQL Server High-Availability for SAP in Azure</span></span>
<span data-ttu-id="4ef6c-717">이 문서 앞부분에서 언급했듯이 이전 SQL Server 고가용성 기능 활용에 필요한 공유 저장소를 만들 수는 없습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-717">As mentioned earlier in this paper, there is no possibility to create shared storage which is necessary for the usage of the oldest SQL Server high availability functionality.</span></span> <span data-ttu-id="4ef6c-718">이 기능은 사용자 데이터베이스(및 tempdb)용 공유 디스크를 사용하여 WSFC(Windows Server 장애 조치(failover) 클러스터)에 둘 이상의 SQL Server 인스턴스를 설치합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-718">This functionality would install two or more SQL Server instances in a Windows Server Failover Cluster (WSFC) using a shared disk for the user databases (and eventually tempdb).</span></span> <span data-ttu-id="4ef6c-719">이는 SAP에서도 지원되는 오래된 표준 고가용성 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-719">This is the long time standard high availability method which also is supported by SAP.</span></span> <span data-ttu-id="4ef6c-720">Azure에서는 공유 저장소를 지원하지 않으므로 공유 디스크 클러스터 구성의 SQL Server 고가용성 구성을 인식할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-720">Because Azure doesn’t support shared storage, SQL Server high availability configurations with a shared disk cluster configuration cannot be realized.</span></span> <span data-ttu-id="4ef6c-721">그러나 여러 가지 다른 고가용성 방법을 사용할 수 있으며 다음 섹션에서 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-721">However, many other high availability methods are still possible and are described in the following sections.</span></span>

<span data-ttu-id="4ef6c-722">[comment]: <> (문서는 여전히 ASM을 참조합니다.)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-722">[comment]: <> (Article is still refering to ASM)</span></span>
<span data-ttu-id="4ef6c-723">[comment]: <> (Azure의 SQL Server에 사용 가능한 다른 특정 고가용성 기술을 읽기 전에 [여기][virtual-machines-sql-server-high-availability-and-disaster-recovery-solutions]에서 자세한 내용을 참조하세요.)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-723">[comment]: <> (Before reading the different specific high availability technologies usable for SQL Server in Azure, there is a very good document which gives more details and pointers [here][virtual-machines-sql-server-high-availability-and-disaster-recovery-solutions])</span></span>

#### <a name="sql-server-log-shipping"></a><span data-ttu-id="4ef6c-724">SQL Server 로그 전달</span><span class="sxs-lookup"><span data-stu-id="4ef6c-724">SQL Server Log Shipping</span></span>
<span data-ttu-id="4ef6c-725">HA(고가용성) 방법 중 하나는 SQL Server 로그 전달입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-725">One of the methods of high availability (HA) is SQL Server Log Shipping.</span></span> <span data-ttu-id="4ef6c-726">HA 구성에 참여하는 VM에 이름 확인 작업이 있는 경우 아무 문제가 없으며 Azure 설정이 온-프레미스의 설정과 다르지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-726">If the VMs participating in the HA configuration have working name resolution, there is no problem and the setup in Azure will not differ from any setup that is done on-premises.</span></span> <span data-ttu-id="4ef6c-727">IP 확인만 사용하는 것은 권장되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-727">It is not recommended to rely on IP resolution only.</span></span> <span data-ttu-id="4ef6c-728">로그 전달 및 로그 전달 관련 원칙 설정에 대한 내용은 이 설명서를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-728">In regards to setting up Log Shipping and the principles around Log Shipping please check this documentation:</span></span>

<span data-ttu-id="4ef6c-729"><https://technet.microsoft.com/library/ms187103.aspx></span><span class="sxs-lookup"><span data-stu-id="4ef6c-729"><https://technet.microsoft.com/library/ms187103.aspx></span></span>

<span data-ttu-id="4ef6c-730">고가용성을 실현하기 위해서는 이러한 로그 전달 구성 내에 있는 VM을 동일한 Azure 가용성 집합 내에 있도록 배포해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-730">In order to really achieve any high availability, one needs to deploy the VMs which are within such a Log Shipping configuration to be within the same Azure Availability Set.</span></span>

#### <a name="database-mirroring"></a><span data-ttu-id="4ef6c-731">데이터베이스 미러링</span><span class="sxs-lookup"><span data-stu-id="4ef6c-731">Database Mirroring</span></span>
<span data-ttu-id="4ef6c-732">SAP에서 지원하는 데이터베이스 미러링(SAP Note [965908]참조)은 SAP 연결 문자열의 장애 조치(failover) 파트너 정의를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-732">Database Mirroring as supported by SAP (see SAP Note [965908]) relies on defining a failover partner in the SAP connection string.</span></span> <span data-ttu-id="4ef6c-733">프레미스 간 사례의 경우 두 VM이 동일한 도메인에 있고 두 개의 SQL Server 인스턴스를 실행 중인 사용자 컨텍스트도 도메인 사용자이며 관련된 두 개의 SQL Server 인스턴스에 대한 충분한 권한이 있다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-733">For the Cross-Premises cases, we assume that the two VMs are in the same domain and that the user context the two SQL Server instances are running under are domain users as well and have sufficient privileges in the two SQL Server instances involved.</span></span> <span data-ttu-id="4ef6c-734">따라서 Azure에서의 데이터베이스 미러링 설정은 일반적인 온-프레미스 설정/구성 간에 다르지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-734">Therefore, the setup of Database Mirroring in Azure does not differ between a typical on-premises setup/configuration.</span></span>

<span data-ttu-id="4ef6c-735">클라우드 전용 배포 시 가장 쉬운 방법은 Azure에서 이러한 DBMS VM(및 이상적인 전용 SAP VM)을 한 도메인 내에 배치할 수 있도록 다른 도메인을 설정하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-735">As of Cloud-Only deployments, the easiest method is to have another domain setup in Azure to have those DBMS VMs (and ideally dedicated SAP VMs) within one domain.</span></span>

<span data-ttu-id="4ef6c-736">도메인을 사용할 수 없는 경우 <https://technet.microsoft.com/library/ms191477.aspx>에 설명된 대로 데이터베이스 미러링 끝점에 대한 인증서를 사용할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-736">If a domain is not possible, one can also use certificates for the database mirroring endpoints as described here: <https://technet.microsoft.com/library/ms191477.aspx></span></span>

<span data-ttu-id="4ef6c-737">Azure에서 데이터베이스 미러링을 설정하는 자습서는 <https://technet.microsoft.com/library/ms189852.aspx>에서 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-737">A tutorial to set-up Database Mirroring in Azure can be found here: <https://technet.microsoft.com/library/ms189852.aspx></span></span>

#### <a name="alwayson"></a><span data-ttu-id="4ef6c-738">AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="4ef6c-738">AlwaysOn</span></span>
<span data-ttu-id="4ef6c-739">AlwaysOn은 SAP 온-프레미스에 대해 지원되므로(SAP Note [1772688]참조) Azure에서 SAP와 함께 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-739">As AlwaysOn is supported for SAP on-premises (see SAP Note [1772688]), it is supported to be used in combination with SAP in Azure.</span></span> <span data-ttu-id="4ef6c-740">Azure에서 공유 디스크를 만들 수는 없지만 여러 VM 간에 AlwaysOn WSFC(Windows Server 장애 조치(failover) 클러스터) 구성을 만들 수는 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-740">The fact that you are not able to create shared disks in Azure doesn’t mean that one can’t create an AlwaysOn Windows Server Failover Cluster (WSFC) configuration between different VMs.</span></span> <span data-ttu-id="4ef6c-741">단, 클러스터 구성에서 공유 디스크를 쿼럼으로 사용할 수는 없습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-741">It only means that you do not have the possibility to use a shared disk as a quorum in the cluster configuration.</span></span> <span data-ttu-id="4ef6c-742">따라서 Azure에서 AlwaysOn WSFC 구성을 빌드할 수 있으며 단순히 공유 디스크를 사용하는 쿼럼 유형을 선택할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-742">Hence you can build an AlwaysOn WSFC configuration in Azure and simply not select the quorum type that utilizes shared disk.</span></span> <span data-ttu-id="4ef6c-743">이러한 VM이 배포된 Azure 환경은 VM을 이름으로 확인해야 하며 VM이 동일한 도메인에 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-743">The Azure environment those VMs are deployed in should resolve the VMs by name and the VMs should be in the same domain.</span></span> <span data-ttu-id="4ef6c-744">이는 Azure 전용 및 프레미스 간 배포에만 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-744">This is true for Azure only and Cross-Premises deployments.</span></span> <span data-ttu-id="4ef6c-745">SQL Server 가용성 그룹 수신기(Azure 가용성 집합과 다름) 배포와 관련된 일부 특별 고려 사항이 있으며 Azure는 이 시점에서 온-프레미스처럼 AD/DNS 개체를 만들 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-745">There are some special considerations around deploying the SQL Server Availability Group Listener (not to be confused with the Azure Availability Set) since Azure at this point in time does not allow to simply create an AD/DNS object as it is possible on-premises.</span></span> <span data-ttu-id="4ef6c-746">따라서 Azure의 특정 동작을 극복하려면 몇 가지 다른 설치 단계가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-746">Therefore, some different installation steps are necessary to overcome the specific behavior of Azure.</span></span>

<span data-ttu-id="4ef6c-747">가용성 그룹 수신기를 사용하는 경우 몇 가지 고려 사항이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-747">Some considerations using an Availability Group Listener are:</span></span>

* <span data-ttu-id="4ef6c-748">가용성 그룹 수신기는 Windows Server 2012 또는 Windows Server 2012 R2를 VM의 게스트 OS로 사용할 때만 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-748">Using an Availability Group Listener is only possible with Windows Server 2012 or Windows Server 2012 R2 as guest OS of the VM.</span></span> <span data-ttu-id="4ef6c-749">Windows Server 2012의 경우 <https://support.microsoft.com/kb/2854082> 패치가 적용되고 있는지 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-749">For Windows Server 2012 you need to make sure that this patch is applied: <https://support.microsoft.com/kb/2854082></span></span>
* <span data-ttu-id="4ef6c-750">Windows Server 2008 R2의 경우 이 패치가 없고 연결 문자열에서 장애 조치(failover) 파트너를 지정하여 데이터베이스 미러링과 같은 방법으로 AlwaysOn을 사용해야 합니다(SAP default.pfl 매개 변수 dbs/mss/server를 통해 수행 - SAP Note [965908]참조).</span><span class="sxs-lookup"><span data-stu-id="4ef6c-750">For Windows Server 2008 R2 this patch does not exist and AlwaysOn would need to be used in the same manner as Database Mirroring by specifying a failover partner in the connections string (done through the SAP default.pfl parameter dbs/mss/server – see SAP Note [965908]).</span></span>
* <span data-ttu-id="4ef6c-751">가용성 그룹 수신기를 사용할 경우 데이터베이스 VM을 전용 부하 분산 장치에 연결해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-751">When using an Availability Group Listener, the Database VMs need to be connected to a dedicated Load Balancer.</span></span> <span data-ttu-id="4ef6c-752">클라우드 전용 배포의 이름을 확인하려면 SAP 시스템의 모든 VM(응용 프로그램 서버, DBMS 서버 및 (A)SCS 서버)이 동일한 가상 네트워크에 있어야 하며, SQL Server VM의 VM 이름을 확인하려면 SAP 응용 프로그램 계층에서 etc\host 파일을 유지 관리해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-752">Name resolution in Cloud-Only deployments would either require all VMs of an SAP system (application servers, DBMS server and (A)SCS server) are in the same virtual network or would require from an SAP application layer the maintenance of the etc\host file in order to get the VM names of the SQL Server VMs resolved.</span></span> <span data-ttu-id="4ef6c-753">두 VM이 우발적으로 동시에 종료되는 경우 Azure에서 새 IP 주소를 할당하지 않도록 하려면 AlwaysOn 구성에서 해당 VM의 네트워크 인터페이스에 고정 IP 주소를 할당해야 합니다(고정 IP 주소 정의는 [이 문서][virtual-networks-reserved-private-ip]에서 설명).</span><span class="sxs-lookup"><span data-stu-id="4ef6c-753">In order to avoid that Azure is assigning new IP addresses in cases where both VMs incidentally are shutdown, one should assign static IP addresses to the network interfaces of those VMs in the AlwaysOn configuration (defining a static IP address is described in [this][virtual-networks-reserved-private-ip] article)</span></span>

<span data-ttu-id="4ef6c-754">[comment]: <> (이전 블로그)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-754">[comment]: <> (Old blogs)</span></span>
<span data-ttu-id="4ef6c-755">[comment]: <> (<https://blogs.msdn.com/b/alwaysonpro/archive/2014/08/29/recommendations-and-best-practices-when-deploying-sql-server-alwayson-availability-groups-in-windows-azure-iaas.aspx>, <https://blogs.technet.com/b/rmilne/archive/2015/07/27/how-to-set-static-ip-on-azure-vm.aspx>)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-755">[comment]: <> (<https://blogs.msdn.com/b/alwaysonpro/archive/2014/08/29/recommendations-and-best-practices-when-deploying-sql-server-alwayson-availability-groups-in-windows-azure-iaas.aspx>, <https://blogs.technet.com/b/rmilne/archive/2015/07/27/how-to-set-static-ip-on-azure-vm.aspx>)</span></span>
* <span data-ttu-id="4ef6c-756">현재 기능의 Azure는 클러스터가 만들어진 노드와 동일한 IP 주소를 클러스터 이름에 할당하므로 클러스터에 특정 IP 주소를 할당해야 하는 WSFC 클러스터를 구성할 때는 특별한 단계가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-756">There are special steps required when building the WSFC cluster configuration where the cluster needs a special IP address assigned, because Azure with its current functionality would assign the cluster name the same IP address as the node the cluster is created on.</span></span> <span data-ttu-id="4ef6c-757">즉, 클러스터에 다른 IP 주소를 할당하기 위해서는 수동 단계를 수행해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-757">This means a manual step must be performed to assign a different IP address to the cluster.</span></span>
* <span data-ttu-id="4ef6c-758">가용성 그룹 수신기는 가용성 그룹의 기본 및 보조 복제본을 실행 중인 VM에 할당된 TCP/IP 끝점을 사용하여 Azure에서 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-758">The Availability Group Listener is going to be created in Azure with TCP/IP endpoints which are assigned to the VMs running the primary and secondary replicas of the Availability group.</span></span>
* <span data-ttu-id="4ef6c-759">이러한 끝점은 ACL로 보호해야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-759">There might be a need to secure these endpoints with ACLs.</span></span>

<span data-ttu-id="4ef6c-760">[comment]: <> (TODO 이전 블로그)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-760">[comment]: <> (TODO old blog)</span></span>
<span data-ttu-id="4ef6c-761">[comment]: <> (Azure에서 AlwaysOn 구성 설치에 대한 자세한 단계 및 필요성은 [여기][virtual-machines-windows-classic-ps-sql-alwayson-availability-groups]에서 사용할 수 있는 자습서를 살펴보는 것이 좋습니다.)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-761">[comment]: <> (The detailed steps and necessities of installing an AlwaysOn configuration on Azure are best experienced when walking through the tutorial available [here][virtual-machines-windows-classic-ps-sql-alwayson-availability-groups])</span></span>
<span data-ttu-id="4ef6c-762">[comment]: <> (Azure 갤러리<https://blogs.technet.com/b/dataplatforminsider/archive/2014/08/25/sql-server-alwayson-offering-in-microsoft-azure-portal-gallery.aspx>를 통해 미리 구성된 AlwaysOn 설정)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-762">[comment]: <> (Preconfigured AlwaysOn setup via the Azure gallery <https://blogs.technet.com/b/dataplatforminsider/archive/2014/08/25/sql-server-alwayson-offering-in-microsoft-azure-portal-gallery.aspx>)</span></span>
<span data-ttu-id="4ef6c-763">[comment]: <> (가용성 그룹 수신기 생성은 [이][virtual-machines-windows-classic-ps-sql-int-listener] 자습서에 잘 설명되어 있습니다.)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-763">[comment]: <> (Creating an Availability Group Listener is best described in [this][virtual-machines-windows-classic-ps-sql-int-listener] tutorial)</span></span>
<span data-ttu-id="4ef6c-764">[comment]: <> (ACL을 사용한 네트워크 끝점 보호는 여기를 참조하세요.)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-764">[comment]: <> (Securing network endpoints with ACLs are explained best here:)</span></span>
<span data-ttu-id="4ef6c-765">[comment]: <> (*    <https://michaelwasham.com/windows-azure-powershell-reference-guide/network-access-control-list-capability-in-windows-azure-powershell/>)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-765">[comment]: <> (*    <https://michaelwasham.com/windows-azure-powershell-reference-guide/network-access-control-list-capability-in-windows-azure-powershell/>)</span></span>
<span data-ttu-id="4ef6c-766">[comment]: <> (*    <https://blogs.technet.com/b/heyscriptingguy/archive/2013/08/31/weekend-scripter-creating-acls-for-windows-azure-endpoints-part-1-of-2.aspx> )</span><span class="sxs-lookup"><span data-stu-id="4ef6c-766">[comment]: <> (*    <https://blogs.technet.com/b/heyscriptingguy/archive/2013/08/31/weekend-scripter-creating-acls-for-windows-azure-endpoints-part-1-of-2.aspx> )</span></span>
<span data-ttu-id="4ef6c-767">[comment]: <> (*    <https://blogs.technet.com/b/heyscriptingguy/archive/2013/09/01/weekend-scripter-creating-acls-for-windows-azure-endpoints-part-2-of-2.aspx>)  </span><span class="sxs-lookup"><span data-stu-id="4ef6c-767">[comment]: <> (*    <https://blogs.technet.com/b/heyscriptingguy/archive/2013/09/01/weekend-scripter-creating-acls-for-windows-azure-endpoints-part-2-of-2.aspx>)  </span></span>
<span data-ttu-id="4ef6c-768">[comment]: <> (*    <https://blogs.technet.com/b/heyscriptingguy/archive/2013/09/18/creating-acls-for-windows-azure-endpoints.aspx>)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-768">[comment]: <> (*    <https://blogs.technet.com/b/heyscriptingguy/archive/2013/09/18/creating-acls-for-windows-azure-endpoints.aspx>)</span></span>

<span data-ttu-id="4ef6c-769">여러 Azure 지역에 SQL Server AlwaysOn 가용성 그룹을 배포할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-769">It is possible to deploy a SQL Server AlwaysOn Availability Group over different Azure Regions as well.</span></span> <span data-ttu-id="4ef6c-770">이 기능은 Azure VNet 간 연결을 활용합니다([자세한 내용][virtual-networks-configure-vnet-to-vnet-connection]).</span><span class="sxs-lookup"><span data-stu-id="4ef6c-770">This functionality will leverage the Azure VNet-to-Vnet connectivity ([more details][virtual-networks-configure-vnet-to-vnet-connection]).</span></span>

<span data-ttu-id="4ef6c-771">[comment]: <> (TODO 이전 블로그)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-771">[comment]: <> (TODO old blog)</span></span>
<span data-ttu-id="4ef6c-772">[comment]: <> (이러한 시나리오에서 SQL Server AlwaysOn 가용성 그룹의 설정은 <https://blogs.technet.com/b/dataplatforminsider/archive/2014/06/19/sql-server-alwayson-availability-groups-supported-between-microsoft-azure-regions.aspx>에서 설명합니다.)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-772">[comment]: <> (The setup of SQL Server AlwaysOn Availability Groups in such a scenario is described here: <https://blogs.technet.com/b/dataplatforminsider/archive/2014/06/19/sql-server-alwayson-availability-groups-supported-between-microsoft-azure-regions.aspx>.)</span></span>

#### <a name="summary-on-sql-server-high-availability-in-azure"></a><span data-ttu-id="4ef6c-773">Azure의 SQL Server 고가용성 요약</span><span class="sxs-lookup"><span data-stu-id="4ef6c-773">Summary on SQL Server High Availability in Azure</span></span>
<span data-ttu-id="4ef6c-774">Azure 저장소가 콘텐츠를 보호하는 경우 상시 대기 이미지를 고집할 이유가 줄어듭니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-774">Given the fact that Azure Storage is protecting the content, there is one less reason to insist on a hot-standby image.</span></span> <span data-ttu-id="4ef6c-775">즉, 고가용성 시나리오는 다음과 같은 경우에 대해서만 방지해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-775">This means your High Availability scenario needs to only protect against the following cases:</span></span>

* <span data-ttu-id="4ef6c-776">Azure의 서버 클러스터 유지 관리 또는 기타 이유로 인해 VM을 전체적으로 사용할 수 없는 경우</span><span class="sxs-lookup"><span data-stu-id="4ef6c-776">Unavailability of the VM as a whole due to maintenance on the server cluster in Azure or other reasons</span></span>
* <span data-ttu-id="4ef6c-777">SQL Server 인스턴스에 소프트웨어 문제가 발생한 경우</span><span class="sxs-lookup"><span data-stu-id="4ef6c-777">Software issues in the SQL Server instance</span></span>
* <span data-ttu-id="4ef6c-778">데이터가 삭제되고 지정 시간 복구가 필요하여 수동 오류로부터 보호해야 하는 경우</span><span class="sxs-lookup"><span data-stu-id="4ef6c-778">Protecting from manual error where data gets deleted and point-in-time recovery is needed</span></span>

<span data-ttu-id="4ef6c-779">기술적인 면에서 처음 두 경우는 데이터베이스 미러링 또는 AlwaysOn을 통해 해결할 수 있으며 세 번째 경우는 로그 전달을 통해서만 가능합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-779">Looking at matching technologies one can argue that the first two cases can be covered by Database Mirroring or AlwaysOn, whereas the third case only can be covered by Log-Shipping.</span></span>

<span data-ttu-id="4ef6c-780">AlwaysOn의 경우 데이터베이스 미러링에 비해 더 복잡한 설정이 필요하지만 AlwaysOn의 이점이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-780">You will need to balance the more complex setup of AlwaysOn, compared to Database Mirroring, with the advantages of AlwaysOn.</span></span> <span data-ttu-id="4ef6c-781">이러한 이점은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-781">Those advantages can be listed like:</span></span>

* <span data-ttu-id="4ef6c-782">읽기 가능한 보조 복제본</span><span class="sxs-lookup"><span data-stu-id="4ef6c-782">Readable secondary replicas.</span></span>
* <span data-ttu-id="4ef6c-783">보조 복제본에서 백업</span><span class="sxs-lookup"><span data-stu-id="4ef6c-783">Backups from secondary replicas.</span></span>
* <span data-ttu-id="4ef6c-784">향상된 확장성</span><span class="sxs-lookup"><span data-stu-id="4ef6c-784">Better scalability.</span></span>
* <span data-ttu-id="4ef6c-785">둘 이상의 보조 복제본</span><span class="sxs-lookup"><span data-stu-id="4ef6c-785">More than one secondary replicas.</span></span>

### <span data-ttu-id="4ef6c-786"><a name="9053f720-6f3b-4483-904d-15dc54141e30"></a>Azure의 SAP용 SQL Server에 대한 일반적 요약</span><span class="sxs-lookup"><span data-stu-id="4ef6c-786"><a name="9053f720-6f3b-4483-904d-15dc54141e30"></a>General SQL Server for SAP on Azure Summary</span></span>
<span data-ttu-id="4ef6c-787">이 가이드에는 많은 권장 사항이 있으며 Azure 배포를 계획하기 전에 두 번 이상 읽는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-787">There are many recommendations in this guide and we recommend you read it more than once before planning your Azure deployment.</span></span> <span data-ttu-id="4ef6c-788">하지만 일반적으로 상위 10개의 일반 Azure DBMS 특정 사항을 따라야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-788">In general, though, be sure to follow the top ten general DBMS on Azure specific points:</span></span>

<span data-ttu-id="4ef6c-789">[comment]: <> (2.3 더 높은 처리량이 필요한 경우 수행할 작업 하나 이상의 VHD는?)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-789">[comment]: <> (2.3 higher throughput than what? Than one VHD?)</span></span>
1. <span data-ttu-id="4ef6c-790">Azure에서 가장 많은 이점을 제공하는 SQL Server 2014와 같은 최신 DBMS 릴리스를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-790">Use the latest DBMS release, like SQL Server 2014, that has the most advantages in Azure.</span></span> <span data-ttu-id="4ef6c-791">SQL Server의 경우 Azure 저장소 백업 기능을 포함하는 SQL Server 2012 SP1 CU4입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-791">For SQL Server, this is SQL Server 2012 SP1 CU4 which would include the feature of backing up against Azure Storage.</span></span> <span data-ttu-id="4ef6c-792">그러나 SAP와 함께 최소 SQL Server 2014 SP1 CU1 또는 SQL Server 2012 SP2 및 최신 CU를 권장합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-792">However, in conjunction with SAP we would recommend at least SQL Server 2014 SP1 CU1 or SQL Server 2012 SP2 and the latest CU.</span></span>
2. <span data-ttu-id="4ef6c-793">데이터 파일 레이아웃과 Azure 제한 사항 균형을 조정하도록 Azure에서 SAP 시스템 배경을 신중하게 계획합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-793">Carefully plan your SAP system landscape in Azure to balance the data file layout and Azure restrictions:</span></span>
   * <span data-ttu-id="4ef6c-794">VHD가 너무 많으면 안 되지만 필요한 IOPS에 도달할 수 있을 만큼 충분해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-794">Don’t have too many VHDs, but have enough to ensure you can reach your required IOPS.</span></span>
   * <span data-ttu-id="4ef6c-795">IOPS는 Azure Storage 계정별로 제한되며, 해당 저장소 계정도 각 Azure 구독 내에서 제한됩니다([자세한 내용][azure-subscription-service-limits]).</span><span class="sxs-lookup"><span data-stu-id="4ef6c-795">Remember that IOPS are also limited per Azure Storage Account and that Storage Accounts are limited within each Azure subscription ([more details][azure-subscription-service-limits]).</span></span>
   * <span data-ttu-id="4ef6c-796">더 높은 처리량이 필요한 경우에만 VHD를 스트라이프합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-796">Only stripe across VHDs if you need to achieve a higher throughput.</span></span>
3. <span data-ttu-id="4ef6c-797">D:\ 드라이브는 비영구적이며 Windows 재부팅 시 이 드라이브의 내용이 모두 손실되므로 계속 유지해야 하는 소프트웨어를 설치하거나 파일을 저장하지 마세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-797">Never install software or put any files that require persistence on the D:\ drive as it is non-permanent and anything on this drive will be lost at a Windows reboot.</span></span>
4. <span data-ttu-id="4ef6c-798">Azure 표준 저장소에 대해 Azure VHD 캐싱을 사용하지 마세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-798">Don’t use Azure VHD caching for Azure Standard Storage.</span></span>
5. <span data-ttu-id="4ef6c-799">Azure 지역에서 복제된 저장소 계정을 사용하지 마세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-799">Don’t use Azure geo-replicated Storage Accounts.</span></span>  <span data-ttu-id="4ef6c-800">DBMS 워크로드에 대한 로컬 중복을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-800">Use Locally Redundant for DBMS workloads.</span></span>
6. <span data-ttu-id="4ef6c-801">DBMS 공급업체의 HA/DR 솔루션을 사용하여 데이터베이스 데이터를 복제합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-801">Use your DBMS vendor’s HA/DR solution to replicate database data.</span></span>
7. <span data-ttu-id="4ef6c-802">항상 이름 확인을 사용하고 IP 주소를 사용하지 마세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-802">Always use Name Resolution, don’t rely on IP addresses.</span></span>
8. <span data-ttu-id="4ef6c-803">가능한 가장 높은 데이터베이스 압축을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-803">Use the highest database compression possible.</span></span> <span data-ttu-id="4ef6c-804">SQL Server의 경우 페이지 압축입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-804">For SQL Server this is page compression.</span></span>
9. <span data-ttu-id="4ef6c-805">Azure Marketplace의 SQL Server 이미지를 사용할 때는 주의하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-805">Be careful using SQL Server images from the Azure Marketplace.</span></span> <span data-ttu-id="4ef6c-806">SQL Server 이미지를 사용하는 경우 SAP NetWeaver 시스템을 설치하기 전에 인스턴스 데이터 정렬을 변경해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-806">If you use the SQL Server one, you must change the instance collation before installing any SAP NetWeaver system on it.</span></span>
10. <span data-ttu-id="4ef6c-807">[배포 가이드][deployment-guide]에서 설명한 대로 Azure용 SAP 호스트 모니터링을 설치 및 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-807">Install and configure the SAP Host Monitoring for Azure as described in [Deployment Guide][deployment-guide].</span></span>

## <a name="specifics-to-sap-ase-on-windows"></a><span data-ttu-id="4ef6c-808">Windows의 SAP ASE에 대한 고유 정보</span><span class="sxs-lookup"><span data-stu-id="4ef6c-808">Specifics to SAP ASE on Windows</span></span>
<span data-ttu-id="4ef6c-809">Microsoft Azure부터 기존 SAP ASE 응용 프로그램을 쉽게 Azure 가상 컴퓨터로 마이그레이션할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-809">Starting with Microsoft Azure, you can easily migrate your existing SAP ASE applications to Azure Virtual Machines.</span></span> <span data-ttu-id="4ef6c-810">가상 컴퓨터에서 SAP ASE를 사용하면 이러한 응용 프로그램을 Microsoft Azure로 쉽게 마이그레이션하여 엔터프라이즈 수준의 응용 프로그램에 대한 배포, 관리 및 유지 관리의 총 소유 비용을 줄일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-810">SAP ASE in a Virtual Machine enables you to reduce the total cost of ownership of deployment, management and maintenance of enterprise breadth applications by easily migrating these applications to Microsoft Azure.</span></span> <span data-ttu-id="4ef6c-811">Azure 가상 컴퓨터에서 SAP ASE를 사용하면 관리자와 개발자가 온-프레미스와 동일한 개발 및 관리 도구를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-811">With SAP ASE in an Azure Virtual Machine, administrators and developers can still use the same development and administration tools that are available on-premises.</span></span>

<span data-ttu-id="4ef6c-812">Azure 가상 컴퓨터용 SLA는 <https://azure.microsoft.com/support/legal/sla>에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-812">There is an SLA for the Azure Virtual Machines which can be found here: <https://azure.microsoft.com/support/legal/sla></span></span>

<span data-ttu-id="4ef6c-813">Microsoft Azure에서 호스트되는 가상 컴퓨터는 다른 공용 클라우드 가상화 서비스에 비해 훨씬 뛰어난 성능을 제공하지만 개별 결과는 다를 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-813">We are confident that Microsoft Azure hosted Virtual Machines will perform very well in comparison to other public cloud virtualization offerings, but individual results may vary.</span></span> <span data-ttu-id="4ef6c-814">서로 다른 SAP 인증 VM SKU의 SAP 크기 조정 SAPS 번호는 별도 SAP Note [1928533]에서 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-814">SAP sizing SAPS numbers of the different SAP certified VM SKUs will be provided in a separate SAP Note [1928533].</span></span>

<span data-ttu-id="4ef6c-815">이 문서의 처음 네 챕터에서 설명한 것처럼 SAP 응용 프로그램과 함께 SAP ASE를 배포할 때는 Azure 저장소 사용, SAP VM 또는 SAP 모니터링 배포와 관련된 설명 및 권장 사항이 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-815">Statements and recommendations in regard to the usage of Azure Storage, Deployment of SAP VMs or SAP Monitoring apply to deployments of SAP ASE in conjunction with SAP applications as stated throughout the first four chapters of this document.</span></span>

### <a name="sap-ase-version-support"></a><span data-ttu-id="4ef6c-816">SAP ASE 버전 지원</span><span class="sxs-lookup"><span data-stu-id="4ef6c-816">SAP ASE Version Support</span></span>
<span data-ttu-id="4ef6c-817">SAP는 현재 SAP ASE 버전 16.0을 SAP Business Suite 제품과 함께 사용하도록 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-817">SAP currently supports SAP ASE version 16.0 for use with SAP Business Suite products.</span></span> <span data-ttu-id="4ef6c-818">SAP Business Suite 제품과 함께 사용할 SAP ASE 서버 또는 JDBC 및 ODBC 드라이버에 대한 모든 업데이트는 <https://support.sap.com/swdc>에서 SAP Service 마켓플레이스를 통해서만 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-818">All updates for SAP ASE server, or JDBC and ODBC drivers to be used with SAP Business Suite products are provided solely through the SAP Service Marketplace at: <https://support.sap.com/swdc>.</span></span>

<span data-ttu-id="4ef6c-819">온-프레미스 설치와 마찬가지로 Sybase 웹 사이트에서 직접 SAP ASE 서버 또는 JDBC 및 ODBC 드라이버에 대한 업데이트를 다운로드하지 마세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-819">As for installations on-premises, do not download updates for the SAP ASE server, or for the JDBC and ODBC drivers directly from Sybase websites.</span></span> <span data-ttu-id="4ef6c-820">온-프레미스 및 Azure 가상 컴퓨터에서 SAP Business Suite 제품을 사용하도록 지원되는 패치에 대한 자세한 내용은 다음 SAP Note를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-820">For detailed information on patches which are supported for use with SAP Business Suite products on-premises and in Azure Virtual Machines see the following SAP Notes:</span></span>

* <span data-ttu-id="4ef6c-821">[1590719]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-821">[1590719]</span></span>
* <span data-ttu-id="4ef6c-822">[1973241]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-822">[1973241]</span></span>

<span data-ttu-id="4ef6c-823">SAP ASE에서의 SAP Business Suite 실행에 대한 일반 정보는 [SCN](https://scn.sap.com/community/ase)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-823">General information on running SAP Business Suite on SAP ASE can be found in the [SCN](https://scn.sap.com/community/ase)</span></span>

### <a name="sap-ase-configuration-guidelines-for-sap-related-sap-ase-installations-in-azure-vms"></a><span data-ttu-id="4ef6c-824">Azure VM의 SAP 관련 SAP ASE 설치에 대한 SAP ASE 구성 지침</span><span class="sxs-lookup"><span data-stu-id="4ef6c-824">SAP ASE Configuration Guidelines for SAP related SAP ASE Installations in Azure VMs</span></span>
#### <a name="structure-of-the-sap-ase-deployment"></a><span data-ttu-id="4ef6c-825">SAP ASE 배포의 구조</span><span class="sxs-lookup"><span data-stu-id="4ef6c-825">Structure of the SAP ASE Deployment</span></span>
<span data-ttu-id="4ef6c-826">일반적인 설명에 따라 SAP ASE 실행 파일을 VM의 기본 VHD에 있는 시스템 드라이브(드라이브 C:\)에 배치 또는 설치해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-826">In accordance with the general description, SAP ASE executables should be located or installed into the system drive of the VM’s base VHD (drive c:\).</span></span> <span data-ttu-id="4ef6c-827">일반적으로 대부분의 SAP ASE 시스템 및 도구 데이터베이스는 실제로 SAP NetWeaver 워크로드에서 사용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-827">Typically, most of the SAP ASE system and tools databases are not really leveraged hard by SAP NetWeaver workload.</span></span> <span data-ttu-id="4ef6c-828">따라서 시스템 및 도구 데이터베이스(master, model, saptools, sybmgmtdb, sybsystemdb)가 C:\ 드라이브에 남아 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-828">Hence the system and tools databases (master, model, saptools, sybmgmtdb, sybsystemdb) can remain on the C:\drive as well.</span></span>

<span data-ttu-id="4ef6c-829">단, SAP ASE에 의해 만들어진 모든 작업 테이블 및 임시 테이블을 포함하는 임시 데이터베이스는 예외입니다. 이 경우 일부 SAP ERP 및 모든 BW 워크로드에서 원본 VM의 기본 VHD(C: 드라이브\)에 맞지 않는 더 큰 데이터 볼륨 또는 I/O 작업 볼륨이 필요할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-829">An exception could be the temporary database containing all work tables and temporary tables created by SAP ASE, which in case of some SAP ERP and all BW workloads might require either higher data volume or I/O operations volume which can’t fit into the original VM’s base VHD (drive c:\).</span></span>

<span data-ttu-id="4ef6c-830">시스템을 설치하는 데 사용되는 SAPInst/SWPM의 버전에 따라 데이터베이스에 다음 항목이 포함될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-830">Depending on the version of SAPInst/SWPM used to install the system, the database might contain:</span></span>

* <span data-ttu-id="4ef6c-831">SAP ASE를 설치할 때 만들어지는 단일 SAP ASE tempdb</span><span class="sxs-lookup"><span data-stu-id="4ef6c-831">A single SAP ASE tempdb which is created when installing SAP ASE</span></span>
* <span data-ttu-id="4ef6c-832">SAP 설치 루틴에 의해 만들어지는 SAP ASE 및 추가 saptempdb를 설치하여 만들어지는 SAP ASE tempdb</span><span class="sxs-lookup"><span data-stu-id="4ef6c-832">An SAP ASE tempdb created by installing SAP ASE and an additional saptempdb created by the SAP installation routine</span></span>
* <span data-ttu-id="4ef6c-833">ERP/BW 특정 tempdb 요구 사항에 맞게 SAP ASE 및 수동으로 만든 추가 tempdb를 설치하여 만들어지는 SAP ASE tempdb(예: SAP Note [1752266])</span><span class="sxs-lookup"><span data-stu-id="4ef6c-833">An SAP ASE tempdb created by installing SAP ASE and an additional tempdb that has been created manually (e.g. following SAP Note [1752266]) to meet ERP/BW specific tempdb requirements</span></span>

<span data-ttu-id="4ef6c-834">특정 ERP 또는 모든 BW 작업의 경우 이렇게 하면, tempdb 장치 (SWPM 또는 수동으로) 또한 만든 tempdb 이외의 C:\ 드라이브에 유지 하려면 성능 관련 하 여 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-834">In case of specific ERP or all BW workloads it makes sense, in regard to performance, to keep the tempdb devices of the additionally created tempdb (by SWPM or manually) on a drive other than C:\.</span></span> <span data-ttu-id="4ef6c-835">추가 tempdb가 없는 경우 새로 만드는 것이 좋습니다(SAP Note [1752266]).</span><span class="sxs-lookup"><span data-stu-id="4ef6c-835">If no additional tempdb exists it is recommended to create one (SAP Note [1752266]).</span></span>

<span data-ttu-id="4ef6c-836">이러한 시스템의 경우 추가로 생성된 tempdb에 대해 다음 단계를 수행해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-836">For such systems the following steps should be performed for the additionally created tempdb:</span></span>

* <span data-ttu-id="4ef6c-837">첫 번째 tempdb 장치를 SAP 데이터베이스의 첫 번째 장치로 이동</span><span class="sxs-lookup"><span data-stu-id="4ef6c-837">Move the first tempdb device to the first device of the SAP database</span></span>
* <span data-ttu-id="4ef6c-838">SAP 데이터베이스의 장치를 포함하는 각 VHD에 tempdb 장치 추가</span><span class="sxs-lookup"><span data-stu-id="4ef6c-838">Add tempdb devices to each of the VHDs containing a devices of the SAP database</span></span>

<span data-ttu-id="4ef6c-839">이 구성을 사용하면 tempdb에서 시스템 드라이브에서 제공할 수 있는 것보다 더 많은 공간을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-839">This configuration enables tempdb to either consume more space than the system drive is able to provide.</span></span> <span data-ttu-id="4ef6c-840">참조로 온-프레미스에서 실행 중인 기존 시스템에서 tempdb 장치 크기를 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-840">As a reference one can check the tempdb device sizes on existing systems which run on-premises.</span></span> <span data-ttu-id="4ef6c-841">또는 이러한 구성은 시스템 드라이브에서 tempdb에 대해 제공할 수 있는 것보다 더 많은 IOPS 수를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-841">Or such a configuration would enable IOPS numbers against tempdb which cannot be provided with the system drive.</span></span> <span data-ttu-id="4ef6c-842">다시 말하지만 온-프레미스에서 실행 중인 시스템에서 tempdb에 대해 I/O 워크로드를 모니터링할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-842">Again systems that are running on-premises can be used to monitor I/O workload against tempdb.</span></span>

<span data-ttu-id="4ef6c-843">SAP ASE 장치를 VM의 D:\ 드라이브에 배치하지 마세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-843">Never put any SAP ASE devices onto the D:\ drive of the VM.</span></span> <span data-ttu-id="4ef6c-844">이는 tempdb에도 적용되며 tempdb에 저장된 개체가 임시 개체인 경우에도 마찬가지입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-844">This also applies to the tempdb, even if the objects kept in the tempdb are only temporary.</span></span>

#### <a name="impact-of-database-compression"></a><span data-ttu-id="4ef6c-845">데이터베이스 압축의 영향</span><span class="sxs-lookup"><span data-stu-id="4ef6c-845">Impact of Database Compression</span></span>
<span data-ttu-id="4ef6c-846">I/O 대역폭이 제한 요인이 될 수 있는 구성에서 IOPS를 줄여 Azure와 같이 IaaS 시나리오에서 실행할 수 있는 워크로드를 확장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-846">In configurations where I/O bandwidth can become a limiting factor, every measure which reduces IOPS might help to stretch the workload one can run in an IaaS scenario like Azure.</span></span> <span data-ttu-id="4ef6c-847">따라서 기존 SAP 데이터베이스를 Azure에 업로드하기 전에 SAP ASE 압축이 사용되는지 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-847">Therefore, it is strongly recommended to make sure that SAP ASE compression is used before uploading an existing SAP database to Azure.</span></span>

<span data-ttu-id="4ef6c-848">아직 구현되지 않은 경우 Azure에 업로드하기 전에 압축을 수행해야 하는 이유는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-848">The recommendation to perform compression before uploading to Azure if it is not already implemented is given out of several reasons:</span></span>

* <span data-ttu-id="4ef6c-849">Azure에 업로드할 데이터의 양이 적어집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-849">The amount of data to be uploaded to Azure is lower</span></span>
* <span data-ttu-id="4ef6c-850">더 향상된 CPU가 있는 강력한 하드웨어 또는 더 높은 I/O 대역폭이나 낮은 I/O 대기 시간의 온-프레미스를 사용할 경우 압축 실행 시간이 짧아집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-850">The duration of the compression execution is shorter assuming that one can use stronger hardware with more CPUs or higher I/O bandwidth or less I/O latency on-premises</span></span>
* <span data-ttu-id="4ef6c-851">데이터베이스 크기가 작을수록 디스크 할당 비용이 줄어들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-851">Smaller database sizes might lead to less costs for disk allocation</span></span>

<span data-ttu-id="4ef6c-852">데이터 및 LOB 압축은 Azure 가상 컴퓨터에서 호스트되는 VM에서도 온-프레미스에서와 마찬가지로 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-852">Data- and LOB-Compression work in a VM hosted in Azure Virtual Machines as it does on-premises.</span></span> <span data-ttu-id="4ef6c-853">기존 SAP ASE 데이터베이스에서 압축이 이미 사용 중인지 확인하는 방법은 SAP Note [1750510]을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-853">For more details on how to check if compression is already in use in an existing SAP ASE database please check SAP Note [1750510].</span></span>

#### <a name="using-dbacockpit-to-monitor-database-instances"></a><span data-ttu-id="4ef6c-854">DBACockpit를 사용하여 데이터베이스 인스턴스 모니터링</span><span class="sxs-lookup"><span data-stu-id="4ef6c-854">Using DBACockpit to monitor Database Instances</span></span>
<span data-ttu-id="4ef6c-855">SAP ASE를 데이터베이스 플랫폼으로 사용하는 SAP 시스템의 경우 DBACockpit는 트랜잭션 DBACockpit에 포함된 브라우저 창 또는 Webdynpro로 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-855">For SAP systems which are using SAP ASE as database platform, the DBACockpit is accessible as embedded browser windows in transaction DBACockpit or as Webdynpro.</span></span> <span data-ttu-id="4ef6c-856">그러나 데이터베이스 모니터링 및 관리를 위한 전체 기능은 DBACockpit의 Webdynpro 구현에서만 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-856">However the full functionality for monitoring and administering the database is available in the Webdynpro implementation of the DBACockpit only.</span></span>

<span data-ttu-id="4ef6c-857">DBACockpit의 Webdynpro 구현에 의해 사용되는 모든 SAP NetWeaver 기능을 사용하려면 온-프레미스 시스템처럼 여러 단계가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-857">As with on-premises systems several steps are required to enable all SAP NetWeaver functionality used by the Webdynpro implementation of the DBACockpit.</span></span> <span data-ttu-id="4ef6c-858">webdynpro를 사용하도록 설정하고 필요한 경우 생성하려면 SAP Note [1245200] 을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-858">Please follow SAP Note [1245200] to enable the usage of webdynpros and generate the required ones.</span></span> <span data-ttu-id="4ef6c-859">위의 Note 지침을 수행하면 http 및 https 연결에 사용할 포트와 함께 ICM(Internet Communication Manager)도 구성하게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-859">When following the instructions in the above notes you will also configure the Internet Communication Manager (icm) along with the ports to be used for http and https connections.</span></span> <span data-ttu-id="4ef6c-860">Http에 대한 기본 설정은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-860">The default setting for http looks like this:</span></span>

> <span data-ttu-id="4ef6c-861">icm/server_port_0 = PROT=HTTP,PORT=8000,PROCTIMEOUT=600,TIMEOUT=600</span><span class="sxs-lookup"><span data-stu-id="4ef6c-861">icm/server_port_0 = PROT=HTTP,PORT=8000,PROCTIMEOUT=600,TIMEOUT=600</span></span>
>
> <span data-ttu-id="4ef6c-862">icm/server_port_1 = PROT=HTTPS,PORT=443$$,PROCTIMEOUT=600,TIMEOUT=600</span><span class="sxs-lookup"><span data-stu-id="4ef6c-862">icm/server_port_1 = PROT=HTTPS,PORT=443$$,PROCTIMEOUT=600,TIMEOUT=600</span></span>
>
>

<span data-ttu-id="4ef6c-863">트랜잭션 DBACockpit에서 생성된 링크는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-863">and the links generated in transaction DBACockpit will look similar to this:</span></span>

> <span data-ttu-id="4ef6c-864">https://`<fullyqualifiedhostname`>:44300/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="4ef6c-864">https://`<fullyqualifiedhostname`>:44300/sap/bc/webdynpro/sap/dba_cockpit</span></span>
>
> <span data-ttu-id="4ef6c-865">http://`<fullyqualifiedhostname`>:8000/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="4ef6c-865">http://`<fullyqualifiedhostname`>:8000/sap/bc/webdynpro/sap/dba_cockpit</span></span>
>
>

<span data-ttu-id="4ef6c-866">SAP 시스템을 호스트하는 Azure 가상 컴퓨터가 사이트 간, 다중 사이트 또는 Express 경로(프레미스 간 배포)를 통해 연결되었는지 여부 및 그 방법에 따라 ICM이 DBACockpit를 열려는 컴퓨터에서 확인할 수 있는 정규화된 호스트 이름을 사용하는지 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-866">Depending on if and how the Azure Virtual Machine hosting the SAP system is connected via site-to-site, multi-site or ExpressRoute (Cross-Premises deployment) you need to make sure that ICM is using a fully qualified hostname that can be resolved on the machine where you are trying to open the DBACockpit from.</span></span> <span data-ttu-id="4ef6c-867">ICM에서 프로필 매개 변수에 따라 정규화된 호스트 이름을 확인하는 방법을 이해하고 필요한 경우 icm/host_name_full 매개 변수를 명시적으로 설정하려면 SAP Note [773830]을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-867">Please see SAP Note [773830] to understand how ICM determines the fully qualified host name depending on profile parameters and set parameter icm/host_name_full explicitly if required.</span></span>

<span data-ttu-id="4ef6c-868">온-프레미스와 Azure 간에 프레미스 간 연결이 없는 클라우드 전용 시나리오에서 VM을 배포한 경우 공용 IP 주소 및 도메인 레이블을 정의해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-868">If you deployed the VM in a Cloud-Only scenario without cross-premises connectivity between on-premises and Azure, you need to define a public IP address and a domainlabel.</span></span> <span data-ttu-id="4ef6c-869">VM의 공용 DNS 이름 형식은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-869">The format of the public DNS name of the VM will then look like this :</span></span>

> <span data-ttu-id="4ef6c-870">`<custom domainlabel`>.`<azure region`>.cloudapp.azure.com</span><span class="sxs-lookup"><span data-stu-id="4ef6c-870">`<custom domainlabel`>.`<azure region`>.cloudapp.azure.com</span></span>
>
>

<span data-ttu-id="4ef6c-871">DNS 이름과 관련된 자세한 내용은 [여기][virtual-machines-azurerm-versus-azuresm]에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-871">More details related to the DNS name can be found [here][virtual-machines-azurerm-versus-azuresm].</span></span>

<span data-ttu-id="4ef6c-872">SAP 프로필 매개 변수 icm/host_name_full을 Azure VM의 DNS 이름으로 설정할 경우 링크는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-872">Setting the SAP profile parameter icm/host_name_full to the DNS name of the Azure VM the link might look similar to:</span></span>

> <span data-ttu-id="4ef6c-873">https://mydomainlabel.westeurope.cloudapp.net:44300/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="4ef6c-873">https://mydomainlabel.westeurope.cloudapp.net:44300/sap/bc/webdynpro/sap/dba_cockpit</span></span>
>
> <span data-ttu-id="4ef6c-874">http://mydomainlabel.westeurope.cloudapp.net:8000/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="4ef6c-874">http://mydomainlabel.westeurope.cloudapp.net:8000/sap/bc/webdynpro/sap/dba_cockpit</span></span>
>
>

<span data-ttu-id="4ef6c-875">이 경우 다음을 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-875">In this case you need to make sure to:</span></span>

* <span data-ttu-id="4ef6c-876">Azure 포털의 네트워크 보안 그룹에 ICM과 통신하는 데 사용되는 TCP/IP 포트에 대한 인바운드 규칙을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-876">Add Inbound rules to the Network Security Group in the Azure Portal for the TCP/IP ports used to communicate with ICM</span></span>
* <span data-ttu-id="4ef6c-877">Windows 방화벽 구성에 ICM과 통신하는 데 사용되는 TCP/IP 포트에 대한 인바운드 규칙을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-877">Add Inbound rules to the Windows Firewall configuration for the TCP/IP ports used to communicate with the ICM</span></span>

<span data-ttu-id="4ef6c-878">사용 가능한 모든 수정 사항을 자동으로 가져오려면 SAP 버전에 적용할 수 있는 수정 사항 모음 SAP Note를 정기적으로 적용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-878">For an automated imported of all corrections available, it is recommended to periodically apply the correction collection SAP Note applicable to your SAP version:</span></span>

* <span data-ttu-id="4ef6c-879">[1558958]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-879">[1558958]</span></span>
* <span data-ttu-id="4ef6c-880">[1619967]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-880">[1619967]</span></span>
* <span data-ttu-id="4ef6c-881">[1882376]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-881">[1882376]</span></span>

<span data-ttu-id="4ef6c-882">SAP ASE의 DBA Cockpit에 대한 자세한 내용은 다음 SAP Note에서 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-882">Further information about DBA Cockpit for SAP ASE can be found in the following SAP Notes:</span></span>

* <span data-ttu-id="4ef6c-883">[1605680]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-883">[1605680]</span></span>
* <span data-ttu-id="4ef6c-884">[1757924]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-884">[1757924]</span></span>
* <span data-ttu-id="4ef6c-885">[1757928]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-885">[1757928]</span></span>
* <span data-ttu-id="4ef6c-886">[1758182]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-886">[1758182]</span></span>
* <span data-ttu-id="4ef6c-887">[1758496]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-887">[1758496]</span></span>    
* <span data-ttu-id="4ef6c-888">[1814258]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-888">[1814258]</span></span>
* <span data-ttu-id="4ef6c-889">[1922555]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-889">[1922555]</span></span>
* <span data-ttu-id="4ef6c-890">[1956005]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-890">[1956005]</span></span>

#### <a name="backuprecovery-considerations-for-sap-ase"></a><span data-ttu-id="4ef6c-891">SAP ASE에 대한 백업/복구 고려 사항</span><span class="sxs-lookup"><span data-stu-id="4ef6c-891">Backup/Recovery Considerations for SAP ASE</span></span>
<span data-ttu-id="4ef6c-892">Azure에 SAP ASE를 배포하는 경우 백업 방법을 검토해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-892">When deploying SAP ASE into Azure your backup methodology must be reviewed.</span></span> <span data-ttu-id="4ef6c-893">생산성이 높은 시스템이 아니더라도 SAP ASE에서 호스트하는 SAP 데이터베이스를 정기적으로 백업해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-893">Even if the system is not a productive system, the SAP database hosted by SAP ASE must be backed up periodically.</span></span> <span data-ttu-id="4ef6c-894">Azure 저장소에는 이제 세 개의 이미지가 있으므로 저장소 작동 중단을 보완하는 측면에서 백업의 중요성이 줄어들었습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-894">Since Azure Storage keeps three images, a backup is now less important in respect to compensating a storage crash.</span></span> <span data-ttu-id="4ef6c-895">적절한 백업 및 복원 계획 유지 관리가 중요한 이유는 지정 시간 복구 기능을 제공하여 논리/수동 오류를 보완할 수 있기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-895">The primary reason for maintaining a proper backup and restore plan is more that you can compensate for logical/manual errors by providing point in time recovery capabilities.</span></span> <span data-ttu-id="4ef6c-896">따라서 목표는 백업을 사용하여 데이터베이스를 다시 특정 시점으로 복원하거나 기존 데이터베이스를 복사하여 다른 시스템에 시딩하는 데 Azure의 백업을 사용하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-896">So the goal is to either use backups to restore the database back to a certain point in time or to use the backups in Azure to seed another system by copying the existing database.</span></span> <span data-ttu-id="4ef6c-897">예를 들어 백업을 복구하여 2계층 SAP 구성을 동일한 시스템의 3계층 시스템 설정으로 전송할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-897">For example, you could transfer from a 2-Tier SAP configuration to a 3-Tier system setup of the same system by restoring a backup.</span></span>

<span data-ttu-id="4ef6c-898">Azure에서의 데이터베이스 백업 및 복원은 온-프레미스와 동일한 방식으로 진행됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-898">Backing up and restoring a database in Azure works the same way as it does on-premises.</span></span> <span data-ttu-id="4ef6c-899">다음 SAP Note를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-899">Please see SAP Notes:</span></span>

* <span data-ttu-id="4ef6c-900">[1588316]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-900">[1588316]</span></span>
* <span data-ttu-id="4ef6c-901">[1585981]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-901">[1585981]</span></span>

<span data-ttu-id="4ef6c-902">여기에는 덤프 구성 생성 및 백업 예약에 대한 자세한 내용이 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-902">for details on creating dump configurations and scheduling backups.</span></span> <span data-ttu-id="4ef6c-903">전략 및 요구 사항에 따라 데이터베이스를 구성하고 디스크 덤프를 기존 VHD 중 하나에 기록하거나 백업을 위해 다른 VHD를 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-903">Depending on your strategy and needs you can configure database and log dumps to disk onto one of the existing VHDs or add an additional VHD for the backup.</span></span>  <span data-ttu-id="4ef6c-904">오류가 발생할 경우 데이터 손실의 위험을 줄이기 위해서는 데이터베이스 장치가 없는 VHD를 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-904">To reduce the danger of data loss in case of an error it is recommended to use a VHD where no database device is located.</span></span>

<span data-ttu-id="4ef6c-905">데이터 및 LOB 압축 SAP ASE 외에도 백업 압축을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-905">Besides data- and LOB compression SAP ASE also offers backup compression.</span></span> <span data-ttu-id="4ef6c-906">데이터베이스 및 로그 덤프의 공간 사용량을 줄이려면 백업 압축을 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-906">To occupy less space with the database and log dumps it is recommended to use backup compression.</span></span> <span data-ttu-id="4ef6c-907">자세한 내용은 SAP Note [1588316] 을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-907">Please see SAP Note [1588316] for more information.</span></span> <span data-ttu-id="4ef6c-908">백업 압축은 백업 또는 백업 덤프를 포함하는 VHD를 Azure 가상 컴퓨터에서 온-프레미스로 다운로드하려고 할 때 전송되는 데이터 양을 줄이는 데도 효과적입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-908">Compressing the backup is also crucial to reduce the amount of data to be transferred if you plan to download backups or VHDs containing backup dumps from the Azure Virtual Machine to on-premises.</span></span>

<span data-ttu-id="4ef6c-909">데이터베이스 또는 로그 덤프 대상으로 D:\ 드라이브를 사용하지 마세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-909">Do not use drive D:\ as database or log dump destination.</span></span>

#### <a name="performance-considerations-for-backupsrestores"></a><span data-ttu-id="4ef6c-910">백업/복원에 대한 성능 고려 사항</span><span class="sxs-lookup"><span data-stu-id="4ef6c-910">Performance Considerations for Backups/Restores</span></span>
<span data-ttu-id="4ef6c-911">완전 배포에서처럼 백업/복원 성능은 병렬로 읽을 수 있는 볼륨 수와 이러한 볼륨의 처리량에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-911">As in bare-metal deployments, backup/restore performance is dependent on how many volumes can be read in parallel and what the throughput of those volumes might be.</span></span> <span data-ttu-id="4ef6c-912">또한 백업 압축에서 사용하는 CPU 사용량은 최대 8개 CPU 스레드까지 VM에서 중요 역할을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-912">In addition, the CPU consumption used by backup compression may play a significant role on VMs with just up to 8 CPU threads.</span></span> <span data-ttu-id="4ef6c-913">따라서 다음을 가정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-913">Therefore, one can assume:</span></span>

* <span data-ttu-id="4ef6c-914">데이터베이스 장치를 저장하는 데 사용하는 VHD 수가 적을수록 전반적인 읽기 처리량이 줄어듭니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-914">The fewer the number of VHDs used to store the database devices, the smaller the overall throughput in reading</span></span>
* <span data-ttu-id="4ef6c-915">VM의 CPU 스레드 수가 적을수록 백업 압축에 대한 영향이 커집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-915">The smaller the number of CPU threads in the VM, the more severe the impact of backup compression</span></span>
* <span data-ttu-id="4ef6c-916">백업을 작성하는 대상(스트라이프 디렉터리, VHD) 수가 적을수록 처리량이 줄어듭니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-916">The fewer targets (Stripe Directories, VHDs) to write the backup to, the lesser the throughput</span></span>

<span data-ttu-id="4ef6c-917">작성할 대상 수를 늘리려면 두 가지 옵션을 필요에 따라 사용/혼합할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-917">To increase the number of targets to write to there are two options which can be used/combined depending on your needs:</span></span>

* <span data-ttu-id="4ef6c-918">해당 스트라이프 볼륨에 대한 IOPS 처리량을 개선하려면 탑재된 여러 VHD에 백업 대상 볼륨을 스트라이프합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-918">Striping the backup target volume over multiple mounted VHDs in order to improve the IOPS throughput on that striped volume</span></span>
* <span data-ttu-id="4ef6c-919">둘 이상의 대상 디렉터리를 사용하여 덤프를 작성하는 SAP ASE 수준에서 덤프 구성을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-919">Creating a dump configuration on SAP ASE level which uses more than one target directory to write the dump to</span></span>

<span data-ttu-id="4ef6c-920">탑재된 여러 VHD에 볼륨을 스트라이프하는 방법은 이 가이드의 앞부분에서 설명했습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-920">Striping a volume over multiple mounted VHDs has been discussed earlier in this guide.</span></span> <span data-ttu-id="4ef6c-921">여러 디렉터리를 사용하여 SAP ASE 덤프를 구성하는 방법에 대한 자세한 내용은 [Sybase Infocenter](http://infocenter.sybase.com/help/index.jsp)에서 덤프 구성을 만드는 데 사용되는 저장 프로시저 sp_config_dump에 대한 설명서를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-921">For more information on using multiple directories in the SAP ASE dump configuration please refer to the documentation on Stored Procedure sp_config_dump which is used to create the dump configuration on the [Sybase Infocenter](http://infocenter.sybase.com/help/index.jsp).</span></span>

### <a name="disaster-recovery-with-azure-vms"></a><span data-ttu-id="4ef6c-922">Azure VM을 사용한 재해 복구</span><span class="sxs-lookup"><span data-stu-id="4ef6c-922">Disaster Recovery with Azure VMs</span></span>
#### <a name="data-replication-with-sap-sybase-replication-server"></a><span data-ttu-id="4ef6c-923">SA Sybase Replication Server를 사용한 데이터 복제</span><span class="sxs-lookup"><span data-stu-id="4ef6c-923">Data Replication with SAP Sybase Replication Server</span></span>
<span data-ttu-id="4ef6c-924">SAP SRS(Sybase Replication Server)를 사용하면 SAP ASE에서 멀리 떨어진 위치에 데이터베이스 트랜잭션을 비동기적으로 전송하는 웜 대기 솔루션을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-924">With the SAP Sybase Replication Server (SRS) SAP ASE provides a warm standby solution to transfer database transactions to a distant location asynchronously.</span></span>

<span data-ttu-id="4ef6c-925">SRS 설치 및 작동은 Azure 가상 컴퓨터 서비스에서 호스트되는 VM에서도 온-프레미스에서처럼 기능적으로 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-925">The installation and operation of SRS works as well functionally in a VM hosted in Azure Virtual Machine Services as it does on-premises.</span></span>

<span data-ttu-id="4ef6c-926">SAP Replication Server를 통한 ASE HADR은 향후 릴리스에 도입될 예정입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-926">ASE HADR via SAP Replication Server is planned with a future release.</span></span> <span data-ttu-id="4ef6c-927">이 기능은 곧 Microsoft Azure Platform에 대해 테스트되고 릴리스될 예정입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-927">It will be tested with and released for Microsoft Azure platforms as soon as it is available.</span></span>

## <a name="specifics-to-sap-ase-on-linux"></a><span data-ttu-id="4ef6c-928">Linux의 SAP ASE에 대한 고유 정보</span><span class="sxs-lookup"><span data-stu-id="4ef6c-928">Specifics to SAP ASE on Linux</span></span>
<span data-ttu-id="4ef6c-929">Microsoft Azure부터 기존 SAP ASE 응용 프로그램을 쉽게 Azure 가상 컴퓨터로 마이그레이션할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-929">Starting with Microsoft Azure, you can easily migrate your existing SAP ASE applications to Azure Virtual Machines.</span></span> <span data-ttu-id="4ef6c-930">가상 컴퓨터에서 SAP ASE를 사용하면 이러한 응용 프로그램을 Microsoft Azure로 쉽게 마이그레이션하여 엔터프라이즈 수준의 응용 프로그램에 대한 배포, 관리 및 유지 관리의 총 소유 비용을 줄일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-930">SAP ASE in a Virtual Machine enables you to reduce the total cost of ownership of deployment, management and maintenance of enterprise breadth applications by easily migrating these applications to Microsoft Azure.</span></span> <span data-ttu-id="4ef6c-931">Azure 가상 컴퓨터에서 SAP ASE를 사용하면 관리자와 개발자가 온-프레미스와 동일한 개발 및 관리 도구를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-931">With SAP ASE in an Azure Virtual Machine, administrators and developers can still use the same development and administration tools that are available on-premises.</span></span>

<span data-ttu-id="4ef6c-932">Azure VM을 배포하려면 공식 SLA를 알아야 합니다. <https://azure.microsoft.com/support/legal/sla>에서 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-932">For deploying Azure VMs it's important to know the official SLAs which can be found here : <https://azure.microsoft.com/support/legal/sla></span></span>

<span data-ttu-id="4ef6c-933">SAP 크기 조정 정보 및 SAP 인증 VM SKU 목록은 SAP Note [1928533]을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-933">SAP sizing information and a list of SAP certified VM SKUs will be provided in SAP Note [1928533].</span></span> <span data-ttu-id="4ef6c-934">Azure Virtual Machines에 대한 추가 SAP 크기 조정 문서는 <http://blogs.msdn.com/b/saponsqlserver/archive/2015/06/19/how-to-size-sap-systems-running-on-azure-vms.aspx> 및 <http://blogs.msdn.com/b/saponsqlserver/archive/2015/12/01/new-white-paper-on-sizing-sap-solutions-on-azure-public-cloud.aspx>에서 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-934">Additional SAP sizing documents for Azure Virtual machines can be found here <http://blogs.msdn.com/b/saponsqlserver/archive/2015/06/19/how-to-size-sap-systems-running-on-azure-vms.aspx> and here <http://blogs.msdn.com/b/saponsqlserver/archive/2015/12/01/new-white-paper-on-sizing-sap-solutions-on-azure-public-cloud.aspx></span></span>

<span data-ttu-id="4ef6c-935">이 문서의 처음 네 챕터에서 설명한 것처럼 SAP 응용 프로그램과 함께 SAP ASE를 배포할 때는 Azure 저장소 사용, SAP VM 또는 SAP 모니터링 배포와 관련된 설명 및 권장 사항이 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-935">Statements and recommendations in regard to the usage of Azure Storage, Deployment of SAP VMs or SAP Monitoring apply to deployments of SAP ASE in conjunction with SAP applications as stated throughout the first four chapters of this document.</span></span>

<span data-ttu-id="4ef6c-936">다음 두 SAP Note에는 Linux의 ASE 및 클라우드의 ASE에 대한 일반 정보가 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-936">The following two SAP Notes include general information about ASE on Linux and ASE in the Cloud :</span></span>

* <span data-ttu-id="4ef6c-937">[2134316]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-937">[2134316]</span></span>
* <span data-ttu-id="4ef6c-938">[1941500]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-938">[1941500]</span></span>

### <a name="sap-ase-version-support"></a><span data-ttu-id="4ef6c-939">SAP ASE 버전 지원</span><span class="sxs-lookup"><span data-stu-id="4ef6c-939">SAP ASE Version Support</span></span>
<span data-ttu-id="4ef6c-940">SAP는 현재 SAP ASE 버전 16.0을 SAP Business Suite 제품과 함께 사용하도록 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-940">SAP currently supports SAP ASE version 16.0 for use with SAP Business Suite products.</span></span> <span data-ttu-id="4ef6c-941">SAP Business Suite 제품과 함께 사용할 SAP ASE 서버 또는 JDBC 및 ODBC 드라이버에 대한 모든 업데이트는 <https://support.sap.com/swdc>에서 SAP Service 마켓플레이스를 통해서만 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-941">All updates for SAP ASE server, or JDBC and ODBC drivers to be used with SAP Business Suite products are provided solely through the SAP Service Marketplace at: <https://support.sap.com/swdc>.</span></span>

<span data-ttu-id="4ef6c-942">온-프레미스 설치와 마찬가지로 Sybase 웹 사이트에서 직접 SAP ASE 서버 또는 JDBC 및 ODBC 드라이버에 대한 업데이트를 다운로드하지 마세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-942">As for installations on-premises, do not download updates for the SAP ASE server, or for the JDBC and ODBC drivers directly from Sybase websites.</span></span> <span data-ttu-id="4ef6c-943">온-프레미스 및 Azure 가상 컴퓨터에서 SAP Business Suite 제품을 사용하도록 지원되는 패치에 대한 자세한 내용은 다음 SAP Note를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-943">For detailed information on patches which are supported for use with SAP Business Suite products on-premises and in Azure Virtual Machines see the following SAP Notes:</span></span>

* <span data-ttu-id="4ef6c-944">[1590719]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-944">[1590719]</span></span>
* <span data-ttu-id="4ef6c-945">[1973241]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-945">[1973241]</span></span>

<span data-ttu-id="4ef6c-946">SAP ASE에서의 SAP Business Suite 실행에 대한 일반 정보는 [SCN](https://scn.sap.com/community/ase)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-946">General information on running SAP Business Suite on SAP ASE can be found in the [SCN](https://scn.sap.com/community/ase)</span></span>

### <a name="sap-ase-configuration-guidelines-for-sap-related-sap-ase-installations-in-azure-vms"></a><span data-ttu-id="4ef6c-947">Azure VM의 SAP 관련 SAP ASE 설치에 대한 SAP ASE 구성 지침</span><span class="sxs-lookup"><span data-stu-id="4ef6c-947">SAP ASE Configuration Guidelines for SAP related SAP ASE Installations in Azure VMs</span></span>
#### <a name="structure-of-the-sap-ase-deployment"></a><span data-ttu-id="4ef6c-948">SAP ASE 배포의 구조</span><span class="sxs-lookup"><span data-stu-id="4ef6c-948">Structure of the SAP ASE Deployment</span></span>
<span data-ttu-id="4ef6c-949">일반적인 설명에 따라 SAP ASE 실행 파일을 VM의 루트 파일 시스템(/sybase)에 배치 또는 설치해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-949">In accordance with the general description, SAP ASE executables should be located or installed into the root file system of the VM ( /sybase ).</span></span> <span data-ttu-id="4ef6c-950">일반적으로 대부분의 SAP ASE 시스템 및 도구 데이터베이스는 실제로 SAP NetWeaver 워크로드에서 사용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-950">Typically, most of the SAP ASE system and tools databases are not really leveraged hard by SAP NetWeaver workload.</span></span> <span data-ttu-id="4ef6c-951">따라서 시스템 및 도구 데이터베이스(master, model, saptools, sybmgmtdb, sybsystemdb)가 루트 파일 시스템에 남아 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-951">Hence the system and tools databases (master, model, saptools, sybmgmtdb, sybsystemdb) can remain on the root file system as well.</span></span>

<span data-ttu-id="4ef6c-952">단, SAP ASE에서 만들어진 모든 작업 테이블 및 임시 테이블을 포함하는 임시 데이터베이스는 예외입니다. 이 경우 일부 SAP ERP 및 모든 BW 워크로드에서 원본 VM의 OS 디스크에 맞지 않는 더 큰 데이터 볼륨 또는 I/O 작업 볼륨이 필요할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-952">An exception could be the temporary database containing all work tables and temporary tables created by SAP ASE, which in case of some SAP ERP and all BW workloads might require either higher data volume or I/O operations volume which can’t fit into the original VM’s OS disk.</span></span>

<span data-ttu-id="4ef6c-953">시스템을 설치하는 데 사용되는 SAPInst/SWPM의 버전에 따라 데이터베이스에 다음 항목이 포함될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-953">Depending on the version of SAPInst/SWPM used to install the system, the database might contain:</span></span>

* <span data-ttu-id="4ef6c-954">SAP ASE를 설치할 때 만들어지는 단일 SAP ASE tempdb</span><span class="sxs-lookup"><span data-stu-id="4ef6c-954">A single SAP ASE tempdb which is created when installing SAP ASE</span></span>
* <span data-ttu-id="4ef6c-955">SAP 설치 루틴에 의해 만들어지는 SAP ASE 및 추가 saptempdb를 설치하여 만들어지는 SAP ASE tempdb</span><span class="sxs-lookup"><span data-stu-id="4ef6c-955">An SAP ASE tempdb created by installing SAP ASE and an additional saptempdb created by the SAP installation routine</span></span>
* <span data-ttu-id="4ef6c-956">ERP/BW 특정 tempdb 요구 사항에 맞게 SAP ASE 및 수동으로 만든 추가 tempdb를 설치하여 만들어지는 SAP ASE tempdb(예: SAP Note [1752266])</span><span class="sxs-lookup"><span data-stu-id="4ef6c-956">An SAP ASE tempdb created by installing SAP ASE and an additional tempdb that has been created manually (e.g. following SAP Note [1752266]) to meet ERP/BW specific tempdb requirements</span></span>

<span data-ttu-id="4ef6c-957">특정 ERP 또는 모든 BW 워크로드의 경우 성능을 위해 추가로 생성된 tempdb(SWPM을 통해 또는 수동으로)를 단일 Azure 데이터 디스크 또는 여러 Azure 데이터 디스크에 걸친 Linux RAID로 표현될 수 있는 별도의 파일 시스템에 유지해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-957">In case of specific ERP or all BW workloads it makes sense, in regard to performance, to keep the tempdb devices of the additionally created tempdb (by SWPM or manually) on a separate file system which can be represented by a single Azure data disk or a Linux RAID spanning multiple Azure data disks.</span></span> <span data-ttu-id="4ef6c-958">추가 tempdb가 없는 경우 새로 만드는 것이 좋습니다(SAP Note [1752266]).</span><span class="sxs-lookup"><span data-stu-id="4ef6c-958">If no additional tempdb exists it is recommended to create one (SAP Note [1752266]).</span></span>

<span data-ttu-id="4ef6c-959">이러한 시스템의 경우 추가로 생성된 tempdb에 대해 다음 단계를 수행해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-959">For such systems the following steps should be performed for the additionally created tempdb:</span></span>

* <span data-ttu-id="4ef6c-960">SAP 데이터베이스의 첫 번째 파일 시스템으로 첫 번째 tempdb 디렉터리 이동</span><span class="sxs-lookup"><span data-stu-id="4ef6c-960">Move the first tempdb directory to the first file system of the SAP database</span></span>
* <span data-ttu-id="4ef6c-961">SAP 데이터베이스의 파일 시스템을 포함하는 각 VHD에 tempdb 디렉터리 추가</span><span class="sxs-lookup"><span data-stu-id="4ef6c-961">Add tempdb directories to each of the VHDs containing a filesystem of the SAP database</span></span>

<span data-ttu-id="4ef6c-962">이 구성을 사용하면 tempdb에서 시스템 드라이브에서 제공할 수 있는 것보다 더 많은 공간을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-962">This configuration enables tempdb to either consume more space than the system drive is able to provide.</span></span> <span data-ttu-id="4ef6c-963">참조로 온-프레미스에 실행 중인 기존 시스템에서 tempdb 디렉터리 크기를 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-963">As a reference one can check the tempdb directory sizes on existing systems which run on-premises.</span></span> <span data-ttu-id="4ef6c-964">또는 이러한 구성은 시스템 드라이브에서 tempdb에 대해 제공할 수 있는 것보다 더 많은 IOPS 수를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-964">Or such a configuration would enable IOPS numbers against tempdb which cannot be provided with the system drive.</span></span> <span data-ttu-id="4ef6c-965">다시 말하지만 온-프레미스에서 실행 중인 시스템에서 tempdb에 대해 I/O 워크로드를 모니터링할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-965">Again systems that are running on-premises can be used to monitor I/O workload against tempdb.</span></span>

<span data-ttu-id="4ef6c-966">SAP ASE 디렉터리를 VM의 /mnt 또는 /mnt/resource에 배치하지 마세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-966">Never put any SAP ASE directories onto /mnt or /mnt/resource of the VM.</span></span> <span data-ttu-id="4ef6c-967">이는 tempdb에도 적용되며 tempdb에 저장된 개체가 임시 개체인 경우에도 마찬가지입니다. 왜냐하면 /mnt 또는 /mnt/resource가 비영구적인 기본 Azure VM 임시 공간이기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-967">This also applies to the tempdb, even if the objects kept in the tempdb are only temporary because /mnt or /mnt/resource is a default Azure VM temp space which is not persistent.</span></span> <span data-ttu-id="4ef6c-968">Azure VM 임시 공간에 대한 자세한 내용은 [이 문서][virtual-machines-linux-how-to-attach-disk]에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-968">More details about the Azure VM temp space can be found in [this article][virtual-machines-linux-how-to-attach-disk]</span></span>

#### <a name="impact-of-database-compression"></a><span data-ttu-id="4ef6c-969">데이터베이스 압축의 영향</span><span class="sxs-lookup"><span data-stu-id="4ef6c-969">Impact of Database Compression</span></span>
<span data-ttu-id="4ef6c-970">I/O 대역폭이 제한 요인이 될 수 있는 구성에서 IOPS를 줄여 Azure와 같이 IaaS 시나리오에서 실행할 수 있는 워크로드를 확장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-970">In configurations where I/O bandwidth can become a limiting factor, every measure which reduces IOPS might help to stretch the workload one can run in an IaaS scenario like Azure.</span></span> <span data-ttu-id="4ef6c-971">따라서 기존 SAP 데이터베이스를 Azure에 업로드하기 전에 SAP ASE 압축이 사용되는지 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-971">Therefore, it is strongly recommended to make sure that SAP ASE compression is used before uploading an existing SAP database to Azure.</span></span>

<span data-ttu-id="4ef6c-972">아직 구현되지 않은 경우 Azure에 업로드하기 전에 압축을 수행해야 하는 이유는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-972">The recommendation to perform compression before uploading to Azure if it is not already implemented is given out of several reasons:</span></span>

* <span data-ttu-id="4ef6c-973">Azure에 업로드할 데이터의 양이 적어집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-973">The amount of data to be uploaded to Azure is lower</span></span>
* <span data-ttu-id="4ef6c-974">더 향상된 CPU가 있는 강력한 하드웨어 또는 더 높은 I/O 대역폭이나 낮은 I/O 대기 시간의 온-프레미스를 사용할 경우 압축 실행 시간이 짧아집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-974">The duration of the compression execution is shorter assuming that one can use stronger hardware with more CPUs or higher I/O bandwidth or less I/O latency on-premises</span></span>
* <span data-ttu-id="4ef6c-975">데이터베이스 크기가 작을수록 디스크 할당 비용이 줄어들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-975">Smaller database sizes might lead to less costs for disk allocation</span></span>

<span data-ttu-id="4ef6c-976">데이터 및 LOB 압축은 Azure 가상 컴퓨터에서 호스트되는 VM에서도 온-프레미스에서와 마찬가지로 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-976">Data- and LOB-Compression work in a VM hosted in Azure Virtual Machines as it does on-premises.</span></span> <span data-ttu-id="4ef6c-977">기존 SAP ASE 데이터베이스에서 압축이 이미 사용 중인지 확인하는 방법은 SAP Note [1750510]을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-977">For more details on how to check if compression is already in use in an existing SAP ASE database please check SAP Note [1750510].</span></span> <span data-ttu-id="4ef6c-978">또한 SAP Note [2121797] 에서 데이터베이스 압축에 대한 자세한 내용을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-978">Also see SAP Note [2121797] for additional information regarding database compression.</span></span>

#### <a name="using-dbacockpit-to-monitor-database-instances"></a><span data-ttu-id="4ef6c-979">DBACockpit를 사용하여 데이터베이스 인스턴스 모니터링</span><span class="sxs-lookup"><span data-stu-id="4ef6c-979">Using DBACockpit to monitor Database Instances</span></span>
<span data-ttu-id="4ef6c-980">SAP ASE를 데이터베이스 플랫폼으로 사용하는 SAP 시스템의 경우 DBACockpit는 트랜잭션 DBACockpit에 포함된 브라우저 창 또는 Webdynpro로 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-980">For SAP systems which are using SAP ASE as database platform, the DBACockpit is accessible as embedded browser windows in transaction DBACockpit or as Webdynpro.</span></span> <span data-ttu-id="4ef6c-981">그러나 데이터베이스 모니터링 및 관리를 위한 전체 기능은 DBACockpit의 Webdynpro 구현에서만 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-981">However the full functionality for monitoring and administering the database is available in the Webdynpro implementation of the DBACockpit only.</span></span>

<span data-ttu-id="4ef6c-982">DBACockpit의 Webdynpro 구현에 의해 사용되는 모든 SAP NetWeaver 기능을 사용하려면 온-프레미스 시스템처럼 여러 단계가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-982">As with on-premises systems several steps are required to enable all SAP NetWeaver functionality used by the Webdynpro implementation of the DBACockpit.</span></span> <span data-ttu-id="4ef6c-983">webdynpro를 사용하도록 설정하고 필요한 경우 생성하려면 SAP Note [1245200] 을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-983">Please follow SAP Note [1245200] to enable the usage of webdynpros and generate the required ones.</span></span> <span data-ttu-id="4ef6c-984">위의 Note 지침을 수행하면 http 및 https 연결에 사용할 포트와 함께 ICM(Internet Communication Manager)도 구성하게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-984">When following the instructions in the above notes you will also configure the Internet Communication Manager (icm) along with the ports to be used for http and https connections.</span></span> <span data-ttu-id="4ef6c-985">Http에 대한 기본 설정은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-985">The default setting for http looks like this:</span></span>

> <span data-ttu-id="4ef6c-986">icm/server_port_0 = PROT=HTTP,PORT=8000,PROCTIMEOUT=600,TIMEOUT=600</span><span class="sxs-lookup"><span data-stu-id="4ef6c-986">icm/server_port_0 = PROT=HTTP,PORT=8000,PROCTIMEOUT=600,TIMEOUT=600</span></span>
>
> <span data-ttu-id="4ef6c-987">icm/server_port_1 = PROT=HTTPS,PORT=443$$,PROCTIMEOUT=600,TIMEOUT=600</span><span class="sxs-lookup"><span data-stu-id="4ef6c-987">icm/server_port_1 = PROT=HTTPS,PORT=443$$,PROCTIMEOUT=600,TIMEOUT=600</span></span>
>
>

<span data-ttu-id="4ef6c-988">트랜잭션 DBACockpit에서 생성된 링크는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-988">and the links generated in transaction DBACockpit will look similar to this:</span></span>

> <span data-ttu-id="4ef6c-989">https://`<fullyqualifiedhostname`>:44300/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="4ef6c-989">https://`<fullyqualifiedhostname`>:44300/sap/bc/webdynpro/sap/dba_cockpit</span></span>
>
> <span data-ttu-id="4ef6c-990">http://`<fullyqualifiedhostname`>:8000/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="4ef6c-990">http://`<fullyqualifiedhostname`>:8000/sap/bc/webdynpro/sap/dba_cockpit</span></span>
>
>

<span data-ttu-id="4ef6c-991">SAP 시스템을 호스트하는 Azure 가상 컴퓨터가 사이트 간, 다중 사이트 또는 Express 경로(프레미스 간 배포)를 통해 연결되었는지 여부 및 그 방법에 따라 ICM이 DBACockpit를 열려는 컴퓨터에서 확인할 수 있는 정규화된 호스트 이름을 사용하는지 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-991">Depending on if and how the Azure Virtual Machine hosting the SAP system is connected via site-to-site, multi-site or ExpressRoute (Cross-Premises deployment) you need to make sure that ICM is using a fully qualified hostname that can be resolved on the machine where you are trying to open the DBACockpit from.</span></span> <span data-ttu-id="4ef6c-992">ICM에서 프로필 매개 변수에 따라 정규화된 호스트 이름을 확인하는 방법을 이해하고 필요한 경우 icm/host_name_full 매개 변수를 명시적으로 설정하려면 SAP Note [773830]을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-992">Please see SAP Note [773830] to understand how ICM determines the fully qualified host name depending on profile parameters and set parameter icm/host_name_full explicitly if required.</span></span>

<span data-ttu-id="4ef6c-993">온-프레미스와 Azure 간에 프레미스 간 연결이 없는 클라우드 전용 시나리오에서 VM을 배포한 경우 공용 IP 주소 및 도메인 레이블을 정의해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-993">If you deployed the VM in a Cloud-Only scenario without cross-premises connectivity between on-premises and Azure, you need to define a public IP address and a domainlabel.</span></span> <span data-ttu-id="4ef6c-994">VM의 공용 DNS 이름 형식은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-994">The format of the public DNS name of the VM will then look like this :</span></span>

> <span data-ttu-id="4ef6c-995">`<custom domainlabel`>.`<azure region`>.cloudapp.azure.com</span><span class="sxs-lookup"><span data-stu-id="4ef6c-995">`<custom domainlabel`>.`<azure region`>.cloudapp.azure.com</span></span>
>
>

<span data-ttu-id="4ef6c-996">DNS 이름과 관련된 자세한 내용은 [여기][virtual-machines-azurerm-versus-azuresm]에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-996">More details related to the DNS name can be found [here][virtual-machines-azurerm-versus-azuresm].</span></span>

<span data-ttu-id="4ef6c-997">SAP 프로필 매개 변수 icm/host_name_full을 Azure VM의 DNS 이름으로 설정할 경우 링크는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-997">Setting the SAP profile parameter icm/host_name_full to the DNS name of the Azure VM the link might look similar to:</span></span>

> <span data-ttu-id="4ef6c-998">https://mydomainlabel.westeurope.cloudapp.net:44300/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="4ef6c-998">https://mydomainlabel.westeurope.cloudapp.net:44300/sap/bc/webdynpro/sap/dba_cockpit</span></span>
>
> <span data-ttu-id="4ef6c-999">http://mydomainlabel.westeurope.cloudapp.net:8000/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="4ef6c-999">http://mydomainlabel.westeurope.cloudapp.net:8000/sap/bc/webdynpro/sap/dba_cockpit</span></span>
>
>

<span data-ttu-id="4ef6c-1000">이 경우 다음을 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1000">In this case you need to make sure to:</span></span>

* <span data-ttu-id="4ef6c-1001">Azure 포털의 네트워크 보안 그룹에 ICM과 통신하는 데 사용되는 TCP/IP 포트에 대한 인바운드 규칙을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1001">Add Inbound rules to the Network Security Group in the Azure Portal for the TCP/IP ports used to communicate with ICM</span></span>
* <span data-ttu-id="4ef6c-1002">Windows 방화벽 구성에 ICM과 통신하는 데 사용되는 TCP/IP 포트에 대한 인바운드 규칙을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1002">Add Inbound rules to the Windows Firewall configuration for the TCP/IP ports used to communicate with the ICM</span></span>

<span data-ttu-id="4ef6c-1003">사용 가능한 모든 수정 사항을 자동으로 가져오려면 SAP 버전에 적용할 수 있는 수정 사항 모음 SAP Note를 정기적으로 적용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1003">For an automated imported of all corrections available, it is recommended to periodically apply the correction collection SAP Note applicable to your SAP version:</span></span>

* <span data-ttu-id="4ef6c-1004">[1558958]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1004">[1558958]</span></span>
* <span data-ttu-id="4ef6c-1005">[1619967]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1005">[1619967]</span></span>
* <span data-ttu-id="4ef6c-1006">[1882376]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1006">[1882376]</span></span>

<span data-ttu-id="4ef6c-1007">SAP ASE의 DBA Cockpit에 대한 자세한 내용은 다음 SAP Note에서 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1007">Further information about DBA Cockpit for SAP ASE can be found in the following SAP Notes:</span></span>

* <span data-ttu-id="4ef6c-1008">[1605680]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1008">[1605680]</span></span>
* <span data-ttu-id="4ef6c-1009">[1757924]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1009">[1757924]</span></span>
* <span data-ttu-id="4ef6c-1010">[1757928]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1010">[1757928]</span></span>
* <span data-ttu-id="4ef6c-1011">[1758182]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1011">[1758182]</span></span>
* <span data-ttu-id="4ef6c-1012">[1758496]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1012">[1758496]</span></span>    
* <span data-ttu-id="4ef6c-1013">[1814258]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1013">[1814258]</span></span>
* <span data-ttu-id="4ef6c-1014">[1922555]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1014">[1922555]</span></span>
* <span data-ttu-id="4ef6c-1015">[1956005]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1015">[1956005]</span></span>

#### <a name="backuprecovery-considerations-for-sap-ase"></a><span data-ttu-id="4ef6c-1016">SAP ASE에 대한 백업/복구 고려 사항</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1016">Backup/Recovery Considerations for SAP ASE</span></span>
<span data-ttu-id="4ef6c-1017">Azure에 SAP ASE를 배포하는 경우 백업 방법을 검토해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1017">When deploying SAP ASE into Azure your backup methodology must be reviewed.</span></span> <span data-ttu-id="4ef6c-1018">생산성이 높은 시스템이 아니더라도 SAP ASE에서 호스트하는 SAP 데이터베이스를 정기적으로 백업해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1018">Even if the system is not a productive system, the SAP database hosted by SAP ASE must be backed up periodically.</span></span> <span data-ttu-id="4ef6c-1019">Azure 저장소에는 이제 세 개의 이미지가 있으므로 저장소 작동 중단을 보완하는 측면에서 백업의 중요성이 줄어들었습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1019">Since Azure Storage keeps three images, a backup is now less important in respect to compensating a storage crash.</span></span> <span data-ttu-id="4ef6c-1020">적절한 백업 및 복원 계획 유지 관리가 중요한 이유는 지정 시간 복구 기능을 제공하여 논리/수동 오류를 보완할 수 있기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1020">The primary reason for maintaining a proper backup and restore plan is more that you can compensate for logical/manual errors by providing point in time recovery capabilities.</span></span> <span data-ttu-id="4ef6c-1021">따라서 목표는 백업을 사용하여 데이터베이스를 다시 특정 시점으로 복원하거나 기존 데이터베이스를 복사하여 다른 시스템에 시딩하는 데 Azure의 백업을 사용하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1021">So the goal is to either use backups to restore the database back to a certain point in time or to use the backups in Azure to seed another system by copying the existing database.</span></span> <span data-ttu-id="4ef6c-1022">예를 들어 백업을 복구하여 2계층 SAP 구성을 동일한 시스템의 3계층 시스템 설정으로 전송할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1022">For example, you could transfer from a 2-Tier SAP configuration to a 3-Tier system setup of the same system by restoring a backup.</span></span>

<span data-ttu-id="4ef6c-1023">Azure에서의 데이터베이스 백업 및 복원은 온-프레미스와 동일한 방식으로 진행됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1023">Backing up and restoring a database in Azure works the same way as it does on-premises.</span></span> <span data-ttu-id="4ef6c-1024">다음 SAP Note를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1024">Please see SAP Notes:</span></span>

* <span data-ttu-id="4ef6c-1025">[1588316]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1025">[1588316]</span></span>
* <span data-ttu-id="4ef6c-1026">[1585981]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1026">[1585981]</span></span>

<span data-ttu-id="4ef6c-1027">여기에는 덤프 구성 생성 및 백업 예약에 대한 자세한 내용이 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1027">for details on creating dump configurations and scheduling backups.</span></span> <span data-ttu-id="4ef6c-1028">전략 및 요구 사항에 따라 데이터베이스를 구성하고 디스크 덤프를 기존 VHD 중 하나에 기록하거나 백업을 위해 다른 VHD를 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1028">Depending on your strategy and needs you can configure database and log dumps to disk onto one of the existing VHDs or add an additional VHD for the backup.</span></span>  <span data-ttu-id="4ef6c-1029">오류가 발생할 경우 데이터 손실의 위험을 줄이기 위해서는 데이터베이스 디렉터리/파일이 없는 VHD를 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1029">To reduce the danger of data loss in case of an error it is recommended to use a VHD where no database directory/file is located.</span></span>

<span data-ttu-id="4ef6c-1030">데이터 및 LOB 압축 SAP ASE 외에도 백업 압축을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1030">Besides data- and LOB compression SAP ASE also offers backup compression.</span></span> <span data-ttu-id="4ef6c-1031">데이터베이스 및 로그 덤프의 공간 사용량을 줄이려면 백업 압축을 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1031">To occupy less space with the database and log dumps it is recommended to use backup compression.</span></span> <span data-ttu-id="4ef6c-1032">자세한 내용은 SAP Note [1588316] 을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1032">Please see SAP Note [1588316] for more information.</span></span> <span data-ttu-id="4ef6c-1033">백업 압축은 백업 또는 백업 덤프를 포함하는 VHD를 Azure 가상 컴퓨터에서 온-프레미스로 다운로드하려고 할 때 전송되는 데이터 양을 줄이는 데도 효과적입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1033">Compressing the backup is also crucial to reduce the amount of data to be transferred if you plan to download backups or VHDs containing backup dumps from the Azure Virtual Machine to on-premises.</span></span>

<span data-ttu-id="4ef6c-1034">Azure VM 임시 공간 /mnt 또는 /mnt/resource를 데이터베이스 또는 로그 덤프 대상으로 사용하지 마세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1034">Do not use the Azure VM temp space /mnt or /mnt/resource as database or log dump destination.</span></span>

#### <a name="performance-considerations-for-backupsrestores"></a><span data-ttu-id="4ef6c-1035">백업/복원에 대한 성능 고려 사항</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1035">Performance Considerations for Backups/Restores</span></span>
<span data-ttu-id="4ef6c-1036">완전 배포에서처럼 백업/복원 성능은 병렬로 읽을 수 있는 볼륨 수와 이러한 볼륨의 처리량에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1036">As in bare-metal deployments, backup/restore performance is dependent on how many volumes can be read in parallel and what the throughput of those volumes might be.</span></span> <span data-ttu-id="4ef6c-1037">또한 백업 압축에서 사용하는 CPU 사용량은 최대 8개 CPU 스레드까지 VM에서 중요 역할을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1037">In addition, the CPU consumption used by backup compression may play a significant role on VMs with just up to 8 CPU threads.</span></span> <span data-ttu-id="4ef6c-1038">따라서 다음을 가정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1038">Therefore, one can assume:</span></span>

* <span data-ttu-id="4ef6c-1039">데이터베이스 장치를 저장하는 데 사용하는 VHD 수가 적을수록 전반적인 읽기 처리량이 줄어듭니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1039">The fewer the number of VHDs used to store the database devices, the smaller the overall throughput in reading</span></span>
* <span data-ttu-id="4ef6c-1040">VM의 CPU 스레드 수가 적을수록 백업 압축에 대한 영향이 커집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1040">The smaller the number of CPU threads in the VM, the more severe the impact of backup compression</span></span>
* <span data-ttu-id="4ef6c-1041">백업을 작성하는 대상(Linux 소프트웨어 RAID, VHD) 수가 적을수록 처리량이 줄어듭니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1041">The fewer targets ( Linux software RAID, VHDs) to write the backup to, the lesser the throughput</span></span>

<span data-ttu-id="4ef6c-1042">작성할 대상 수를 늘리려면 두 가지 옵션을 필요에 따라 사용/혼합할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1042">To increase the number of targets to write to there are two options which can be used/combined depending on your needs:</span></span>

* <span data-ttu-id="4ef6c-1043">해당 스트라이프 볼륨에 대한 IOPS 처리량을 개선하려면 탑재된 여러 VHD에 백업 대상 볼륨을 스트라이프합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1043">Striping the backup target volume over multiple mounted VHDs in order to improve the IOPS throughput on that striped volume</span></span>
* <span data-ttu-id="4ef6c-1044">둘 이상의 대상 디렉터리를 사용하여 덤프를 작성하는 SAP ASE 수준에서 덤프 구성을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1044">Creating a dump configuration on SAP ASE level which uses more than one target directory to write the dump to</span></span>

<span data-ttu-id="4ef6c-1045">탑재된 여러 VHD에 볼륨을 스트라이프하는 방법은 이 가이드의 앞부분에서 설명했습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1045">Striping a volume over multiple mounted VHDs has been discussed earlier in this guide.</span></span> <span data-ttu-id="4ef6c-1046">여러 디렉터리를 사용하여 SAP ASE 덤프를 구성하는 방법에 대한 자세한 내용은 [Sybase Infocenter](http://infocenter.sybase.com/help/index.jsp)에서 덤프 구성을 만드는 데 사용되는 저장 프로시저 sp_config_dump에 대한 설명서를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1046">For more information on using multiple directories in the SAP ASE dump configuration please refer to the documentation on Stored Procedure sp_config_dump which is used to create the dump configuration on the [Sybase Infocenter](http://infocenter.sybase.com/help/index.jsp).</span></span>

### <a name="disaster-recovery-with-azure-vms"></a><span data-ttu-id="4ef6c-1047">Azure VM을 사용한 재해 복구</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1047">Disaster Recovery with Azure VMs</span></span>
#### <a name="data-replication-with-sap-sybase-replication-server"></a><span data-ttu-id="4ef6c-1048">SA Sybase Replication Server를 사용한 데이터 복제</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1048">Data Replication with SAP Sybase Replication Server</span></span>
<span data-ttu-id="4ef6c-1049">SAP SRS(Sybase Replication Server)를 사용하면 SAP ASE에서 멀리 떨어진 위치에 데이터베이스 트랜잭션을 비동기적으로 전송하는 웜 대기 솔루션을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1049">With the SAP Sybase Replication Server (SRS) SAP ASE provides a warm standby solution to transfer database transactions to a distant location asynchronously.</span></span>

<span data-ttu-id="4ef6c-1050">SRS 설치 및 작동은 Azure 가상 컴퓨터 서비스에서 호스트되는 VM에서도 온-프레미스에서처럼 기능적으로 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1050">The installation and operation of SRS works as well functionally in a VM hosted in Azure Virtual Machine Services as it does on-premises.</span></span>

<span data-ttu-id="4ef6c-1051">SAP Replication Server를 통한 ASE HADR은 현재 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1051">ASE HADR via SAP Replication Server is NOT supported at this point in time.</span></span> <span data-ttu-id="4ef6c-1052">이 기능은 곧 Microsoft Azure Platform에 대해 테스트되고 릴리스될 예정입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1052">It might be tested with and released for Microsoft Azure platforms in the future.</span></span>

## <a name="specifics-to-oracle-database-on-windows"></a><span data-ttu-id="4ef6c-1053">Windows의 Oracle 데이터베이스에 대한 고유 정보</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1053">Specifics to Oracle Database on Windows</span></span>
<span data-ttu-id="4ef6c-1054">2013년 중반부터 Microsoft Windows Hyper-V 및 Azure에서 Oracle 소프트웨어가 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1054">Since midyear 2013, Oracle software is supported by Oracle to run on Microsoft Windows Hyper-V and Azure.</span></span> <span data-ttu-id="4ef6c-1055">Oracle의 Windows Hyper-V 및 Azure 지원에 대한 자세한 내용은 <https://blogs.oracle.com/cloud/entry/oracle_and_microsoft_join_forces>를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1055">Please read this article to get more details on the general support of Windows Hyper-V and Azure by Oracle: <https://blogs.oracle.com/cloud/entry/oracle_and_microsoft_join_forces></span></span>

<span data-ttu-id="4ef6c-1056">일반 지원에 따라 Oracle 데이터베이스를 활용하는 SAP 응용 프로그램의 특정 시나리오도 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1056">Following the general support, the specific scenario of SAP applications leveraging Oracle Databases is supported as well.</span></span> <span data-ttu-id="4ef6c-1057">자세한 내용은 문서의 이 부분에 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1057">Details are named in this part of the document.</span></span>

### <a name="oracle-version-support"></a><span data-ttu-id="4ef6c-1058">Oracle 지원 버전</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1058">Oracle Version Support</span></span>
<span data-ttu-id="4ef6c-1059">Azure 가상 컴퓨터에서 Oracle의 SAP 실행을 위해 지원되는 Oracle 버전 및 해당 OS 버전에 대한 자세한 내용은 SAP Note [2039619]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1059">All details about Oracle versions and corresponding OS versions which are supported for running SAP on Oracle on Azure Virtual Machines can be found in the following SAP Note [2039619]</span></span>

<span data-ttu-id="4ef6c-1060">Oracle에서의 SAP Business Suite 실행에 대한 일반 정보는 SCN <https://scn.sap.com/community/oracle>에서 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1060">General information about running SAP Business Suite on Oracle can be found on SCN: <https://scn.sap.com/community/oracle></span></span>

### <a name="oracle-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="4ef6c-1061">Azure VM의 SAP 설치에 대한 Oracle 구성 지침</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1061">Oracle Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="storage-configuration"></a><span data-ttu-id="4ef6c-1062">저장소 구성</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1062">Storage configuration</span></span>
<span data-ttu-id="4ef6c-1063">NTFS로 포맷된 디스크를 사용하는 하나의 Oracle 인스턴스만 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1063">Only single instance Oracle using NTFS formatted disks is supported.</span></span> <span data-ttu-id="4ef6c-1064">모든 데이터베이스 파일은 VHD 디스크 기반의 NTFS 파일 시스템에 저장되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1064">All database files must be stored on the NTFS file system based on VHD disks.</span></span> <span data-ttu-id="4ef6c-1065">이러한 VHD는 Azure VM에 탑재되어 있으며 Azure 페이지 Blob Storage를 기반으로 합니다(<https://msdn.microsoft.com/library/azure/ee691964.aspx>).</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1065">These VHDs are mounted to the Azure VM and are based on Azure Page BLOB Storage (<https://msdn.microsoft.com/library/azure/ee691964.aspx>).</span></span>
<span data-ttu-id="4ef6c-1066">모든 종류의 네트워크 드라이브 또는 Azure 파일 서비스와 같은 원격 공유:</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1066">Any kind of network drives or remote shares like Azure file services:</span></span>

* <span data-ttu-id="4ef6c-1067"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span><span class="sxs-lookup"><span data-stu-id="4ef6c-1067"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span></span>
* <span data-ttu-id="4ef6c-1068"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span><span class="sxs-lookup"><span data-stu-id="4ef6c-1068"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span></span>

<span data-ttu-id="4ef6c-1069">Oracle 데이터베이스 파일에 대해 지원되지 **않습니다** .</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1069">are **NOT** supported for Oracle database files!</span></span>

<span data-ttu-id="4ef6c-1070">Azure 페이지 Blob Storage에 기반한 Azure VHD를 사용하는 경우 이 문서의 [VM 및 VHD에 대한 캐싱][dbms-guide-2.1] 및 [Microsoft Azure Storage][dbms-guide-2.3] 챕터에서 설명한 내용이 Oracle Database와 함께 배포하는 경우에도 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1070">Using Azure VHDs based on Azure Page BLOB Storage, the statements made in this document in chapter [Caching for VMs and VHDs][dbms-guide-2.1] and [Microsoft Azure Storage][dbms-guide-2.3] apply to deployments with the Oracle Database as well.</span></span>

<span data-ttu-id="4ef6c-1071">이 문서 앞부분의 일반 정보에서 설명했듯이 Azure VHD에 대한 IOPS 처리량에 할당량이 존재합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1071">As explained earlier in the general part of the document, quotas on IOPS throughput for Azure VHDs exist.</span></span> <span data-ttu-id="4ef6c-1072">정확한 할당량은 사용되는 VM 유형에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1072">The exact quotas are depending on the VM type used.</span></span> <span data-ttu-id="4ef6c-1073">VM 유형과 해당 할당량의 목록은 [여기][virtual-machines-sizes]에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1073">A list of VM types with their quotas can be found [here][virtual-machines-sizes]</span></span>

<span data-ttu-id="4ef6c-1074">지원되는 Azure VM 형식을 식별하려면 SAP Note [1928533]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1074">To identify the supported Azure VM types, please refer to SAP note [1928533]</span></span>

<span data-ttu-id="4ef6c-1075">디스크당 현재 IOPS 할당량이 요구 사항을 충족하는 경우 탑재된 단일 Azure VHD에 모든 DB 파일을 저장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1075">As long as the current IOPS quota per disk satisfies the requirements, it is possible to store all the DB files on one single mounted Azure VHD.</span></span>

<span data-ttu-id="4ef6c-1076">더 많은 IOPS가 필요한 경우 Window 저장소 풀(Windows Server 2012 이상에서만 사용 가능) 또는 Windows 2008 R2용 Windows 스트라이프를 사용하여 탑재된 여러 VHD 디스크에 하나의 큰 논리적 장치를 만드는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1076">If more IOPS are required, it is strongly recommended to use Window Storage Pools (only available in Windows Server 2012 and higher) or Windows striping for Windows 2008 R2 to create one big logical device over multiple mounted VHD disks.</span></span> <span data-ttu-id="4ef6c-1077">또한 이 문서의 [소프트웨어 RAID][dbms-guide-2.2] 챕터를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1077">See also chapter [Software RAID][dbms-guide-2.2] of this document.</span></span> <span data-ttu-id="4ef6c-1078">이 방법을 사용하면 디스크 공간 관리를 위한 관리 오버헤드를 간소화하고 탑재된 여러 VHD에 파일을 수동으로 배포하는 수고를 덜 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1078">This approach simplifies the administration overhead to manage the disk space and avoids the effort to manually distribute files across multiple mounted VHDs.</span></span>

#### <a name="backup--restore"></a><span data-ttu-id="4ef6c-1079">백업/복원</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1079">Backup / Restore</span></span>
<span data-ttu-id="4ef6c-1080">백업/복원 기능의 경우 SAP BR*Tools for Oracle은 표준 Windows Server 운영 체제 및 Hyper-V와 동일한 방법으로 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1080">For backup / restore functionality, the SAP BR*Tools for Oracle are supported in the same way as on standard Windows Server Operating Systems and Hyper-V.</span></span> <span data-ttu-id="4ef6c-1081">Oracle RMAN(Recovery Manager)에서도 디스크에 백업 및 디스크에서의 복원이 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1081">Oracle Recovery Manager (RMAN) is also supported for backups to disk and restore from disk.</span></span>

#### <a name="high-availability"></a><span data-ttu-id="4ef6c-1082">고가용성</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1082">High Availability</span></span>
<span data-ttu-id="4ef6c-1083">[comment]: <> (ASM 참조 링크)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1083">[comment]: <> (link refers to ASM)</span></span>
<span data-ttu-id="4ef6c-1084">높은 가용성 및 재해 복구를 위해 Oracle Data Guard가 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1084">Oracle Data Guard is supported for high availability and disaster recovery purposes.</span></span> <span data-ttu-id="4ef6c-1085">자세한 내용은 [이 설명서][virtual-machines-windows-classic-configure-oracle-data-guard]에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1085">Details can be found in [this][virtual-machines-windows-classic-configure-oracle-data-guard] documentation.</span></span>

#### <a name="other"></a><span data-ttu-id="4ef6c-1086">기타</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1086">Other</span></span>
<span data-ttu-id="4ef6c-1087">Azure 가용성 집합 또는 SAP 모니터링과 같은 기타 일반적인 항목은 모두 이 문서의 처음 세 챕터에서 Oracle Database와 VM 배포에 대해 설명한 대로 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1087">All other general topics like Azure Availability Sets or SAP monitoring apply as described in the first three chapters of this document for deployments of VMs with the Oracle Database as well.</span></span>

## <a name="specifics-for-the-sap-maxdb-database-on-windows"></a><span data-ttu-id="4ef6c-1088">Windows의 SAP MaxDB 데이터베이스에 대한 고유 정보</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1088">Specifics for the SAP MaxDB Database on Windows</span></span>
### <a name="sap-maxdb-version-support"></a><span data-ttu-id="4ef6c-1089">SAP MaxDB 버전 지원</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1089">SAP MaxDB Version Support</span></span>
<span data-ttu-id="4ef6c-1090">SAP는 현재 SAP MaxDB 버전 7.9를 Azure의 SAP NetWeaver 기반 제품에 사용하도록 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1090">SAP currently supports SAP MaxDB version 7.9 for use with SAP NetWeaver-based products in Azure.</span></span> <span data-ttu-id="4ef6c-1091">SAP NetWeaver 기반 제품과 함께 사용할 SAP MaxDB 서버 또는 JDBC 및 ODBC 드라이버에 대한 모든 업데이트는 <https://support.sap.com/swdc>에서 SAP Service 마켓플레이스를 통해서만 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1091">All updates for SAP MaxDB server, or JDBC and ODBC drivers to be used with SAP NetWeaver-based products are provided solely through the SAP Service Marketplace at <https://support.sap.com/swdc>.</span></span>
<span data-ttu-id="4ef6c-1092">SAP MaxDB에서의 SAP NetWeaver 실행에 대한 일반 정보는 <https://scn.sap.com/community/maxdb>에서 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1092">General information on running SAP NetWeaver on SAP MaxDB can be found at <https://scn.sap.com/community/maxdb>.</span></span>

### <a name="supported-microsoft-windows-versions-and-azure-vm-types-for-sap-maxdb-dbms"></a><span data-ttu-id="4ef6c-1093">SAP MaxDB DBMS에 대해 지원되는 Microsoft Windows 버전 및 Azure VM 유형</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1093">Supported Microsoft Windows Versions and Azure VM types for SAP MaxDB DBMS</span></span>
<span data-ttu-id="4ef6c-1094">Azure에서 지원되는 SAP MaxDB DBMS용 Microsoft Windows 버전을 찾으려면 다음을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1094">To find the supported Microsoft Windows version for SAP MaxDB DBMS on Azure, see:</span></span>

* <span data-ttu-id="4ef6c-1095">[SAP PAM(제품 가용성 매트릭스)][sap-pam]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1095">[SAP Product Availability Matrix (PAM)][sap-pam]</span></span>
* <span data-ttu-id="4ef6c-1096">SAP Note [1928533]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1096">SAP Note [1928533]</span></span>

<span data-ttu-id="4ef6c-1097">최신 버전의 Microsoft Windows 운영 체제인 Microsoft Windows 2012 R2를 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1097">It is highly recommended to use the newest version of the operating system Microsoft Windows, which is Microsoft Windows 2012 R2.</span></span>

### <a name="available-sap-maxdb-documentation"></a><span data-ttu-id="4ef6c-1098">사용 가능한 SAP MaxDB 설명서</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1098">Available SAP MaxDB Documentation</span></span>
<span data-ttu-id="4ef6c-1099">SAP Note [767598]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1099">You can find the updated list of SAP MaxDB documentation in the following SAP Note [767598]</span></span>

### <a name="sap-maxdb-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="4ef6c-1100">Azure VM의 SAP 설치에 대한 SAP MaxDB 구성 지침</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1100">SAP MaxDB Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <span data-ttu-id="4ef6c-1101"><a name="b48cfe3b-48e9-4f5b-a783-1d29155bd573"></a>저장소 구성</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1101"><a name="b48cfe3b-48e9-4f5b-a783-1d29155bd573"></a>Storage configuration</span></span>
<span data-ttu-id="4ef6c-1102">SAP MaxDB에 대한 Azure Storage 모범 사례는 [RDBMS 배포 구조][dbms-guide-2] 챕터에서 설명한 일반 권장 사항을 따릅니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1102">Azure storage best practices for SAP MaxDB follow the general recommendations mentioned in chapter [Structure of a RDBMS Deployment][dbms-guide-2].</span></span>

> [!IMPORTANT]
> <span data-ttu-id="4ef6c-1103">다른 데이터베이스처럼 SAP MaxDB에도 데이터 및 로그 파일이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1103">Like other databases, SAP MaxDB also has data and log files.</span></span> <span data-ttu-id="4ef6c-1104">그러나 SAP MaxDB 용어에서 올바른 용어는 "볼륨"("파일" 아님)입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1104">However, in SAP MaxDB terminology the correct term is “volume” (not “file”).</span></span> <span data-ttu-id="4ef6c-1105">예를 들어 SAP MaxDB 데이터 볼륨 및 로그 볼륨이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1105">For example, there are SAP MaxDB data volumes and log volumes.</span></span> <span data-ttu-id="4ef6c-1106">운영 체제 디스크 볼륨과 혼동하지 마세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1106">Do not confuse these with OS disk volumes.</span></span>
>
>

<span data-ttu-id="4ef6c-1107">한마디로 다음을 수행해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1107">In short you have to:</span></span>

* <span data-ttu-id="4ef6c-1108">[Microsoft Azure Storage][dbms-guide-2.3] 챕터에서 지정한 대로 SAP MaxDB 데이터 및 로그 볼륨(즉, 파일)을 유지하는 Azure 저장소 계정을 **LRS(로컬 중복 저장소)**로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1108">Set the Azure storage account that holds the SAP MaxDB data and log volumes (i.e. files) to **Local Redundant Storage (LRS)** as specified in chapter [Microsoft Azure Storage][dbms-guide-2.3].</span></span>
* <span data-ttu-id="4ef6c-1109">로그 볼륨(즉, 파일)에 대한 IO 경로에서 SAP MaxDB 데이터 볼륨(즉, 파일)에 대한 IO 경로를 구분합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1109">Separate the IO path for SAP MaxDB data volumes (i.e. files) from the IO path for log volumes (i.e. files).</span></span> <span data-ttu-id="4ef6c-1110">즉, SAP MaxDB 데이터 볼륨(즉, 파일)을 하나의 논리 드라이브에 설치하고 SAP MaxDB 로그 볼륨(즉, 파일)을 다른 논리 드라이브에 설치해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1110">This means that SAP MaxDB data volumes (i.e. files) have to be installed on one logical drive and SAP MaxDB log volumes (i.e. files) have to be installed on another logical drive.</span></span>
* <span data-ttu-id="4ef6c-1111">[VM에 대한 캐싱][dbms-guide-2.1] 챕터에서 설명한 대로 SAP MaxDB 데이터 또는 로그 볼륨(즉, 파일)에 사용하는지 여부와 Azure Standard Storage 또는 Azure Premium Storage에 사용하는지 여부에 따라 각 Azure Blob에 대해 적절한 파일 캐싱을 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1111">Set the proper file caching for each Azure blob, depending on whether you use it for SAP MaxDB data or log volumes (i.e. files), and whether you use Azure Standard or Azure Premium Storage, as described in chapter [Caching for VMs][dbms-guide-2.1].</span></span>
* <span data-ttu-id="4ef6c-1112">디스크당 현재 IOPS 할당량이 요구 사항을 충족하는 경우 탑재된 단일 Azure VHD의 모든 데이터 볼륨을 저장하고 다른 탑재된 단일 Azure VHD에 모든 데이터베이스 로그 볼륨을 저장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1112">As long as the current IOPS quota per disk satisfies the requirements, it is possible to store all the data volumes on a single mounted Azure VHD, and also store all database log volumes on another single mounted Azure VHD.</span></span>
* <span data-ttu-id="4ef6c-1113">더 많은 IOPS 및/또는 공간이 필요한 경우 Microsoft Window 저장소 풀(Microsoft Windows Server 2012 이상에서만 사용 가능) 또는 Windows 2008 R2용 Microsoft Windows 스트라이프를 사용하여 탑재된 여러 VHD 디스크에 하나의 큰 논리적 장치를 만드는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1113">If more IOPS and/or space are required, it is strongly recommended to use Microsoft Window Storage Pools (only available in Microsoft Windows Server 2012 and higher) or Microsoft Windows striping for Microsoft Windows 2008 R2 to create one large logical device over multiple mounted VHD disks.</span></span> <span data-ttu-id="4ef6c-1114">또한 이 문서의 [소프트웨어 RAID][dbms-guide-2.2] 챕터를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1114">See also chapter [Software RAID][dbms-guide-2.2] of this document.</span></span> <span data-ttu-id="4ef6c-1115">이 방법을 사용하면 디스크 공간 관리를 위한 관리 오버헤드를 간소화하고 탑재된 여러 VHD에 파일을 수동으로 배포하는 수고를 덜 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1115">This approach simplifies the administration overhead to manage the disk space and avoids the effort of manually distributing files across multiple mounted VHDs.</span></span>
* <span data-ttu-id="4ef6c-1116">IOPS 요구 사항이 높은 경우 DS 시리즈와 GS 시리즈 VM에서 사용 가능한 Azure 프리미엄 저장소를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1116">For the highest IOPS requirements, you can use Azure Premium Storage, which is available on DS-series and GS-series VMs.</span></span>

![SAP MaxDB DBMS에 대한 Azure IaaS VM의 참조 구성][dbms-guide-figure-600]

#### <span data-ttu-id="4ef6c-1118"><a name="23c78d3b-ca5a-4e72-8a24-645d141a3f5d"></a>백업 및 복원</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1118"><a name="23c78d3b-ca5a-4e72-8a24-645d141a3f5d"></a>Backup and Restore</span></span>
<span data-ttu-id="4ef6c-1119">Azure에 SAP MaxDB를 배포하는 경우 백업 방법을 검토해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1119">When deploying SAP MaxDB into Azure, you must review your backup methodology.</span></span> <span data-ttu-id="4ef6c-1120">생산성이 높은 시스템이 아니더라도 SAP MaxDB에서 호스트하는 SAP 데이터베이스를 정기적으로 백업해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1120">Even if the system is not a productive system, the SAP database hosted by SAP MaxDB must be backed up periodically.</span></span> <span data-ttu-id="4ef6c-1121">Azure 저장소에는 세 개의 이미지가 유지되므로 저장소 오류 및 더 중요한 작동 또는 관리 오류에 대한 시스템 보호 면에서 백업의 중요성이 줄어들었습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1121">Since Azure Storage keeps three images, a backup is now less important in terms of protecting your system against storage failure and more important operational or administrative failures.</span></span> <span data-ttu-id="4ef6c-1122">적절한 백업 및 복원 계획 유지 관리가 중요한 이유는 지정 시간 복구 기능을 제공하여 논리 또는 수동 오류를 보완할 수 있기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1122">The primary reason for maintaining a proper backup and restore plan is so that you can compensate for logical or manual errors by providing point-in-time recovery capabilities.</span></span> <span data-ttu-id="4ef6c-1123">따라서 목표는 백업을 사용하여 데이터베이스를 특정 시점으로 복원하거나 기존 데이터베이스를 복사하여 Azure의 백업을 다른 시스템에 시딩하는 데 Azure의 백업을 사용하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1123">So the goal is to either use backups to restore the database to a certain point in time or to use the backups in Azure to seed another system by copying the existing database.</span></span> <span data-ttu-id="4ef6c-1124">예를 들어 백업을 복구하여 2계층 SAP 구성을 동일한 시스템의 3계층 시스템 설정으로 전송할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1124">For example, you could transfer from a 2-tier SAP configuration to a 3-tier system setup of the same system by restoring a backup.</span></span>

<span data-ttu-id="4ef6c-1125">Azure에서의 데이터베이스 백업 및 복원 방법은 온-프레미스 시스템에서와 동일합니다. 그러므로 SAP Note [767598]에 나열된 SAP MaxDB 설명서 중 하나에서 설명한 표준 SAP MaxDB 백업/복원 도구를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1125">Backing up and restoring a database in Azure works the same way as it does for on-premises systems, so you can use standard SAP MaxDB backup/restore tools, which are described in one of the SAP MaxDB documentation documents listed in SAP Note [767598].</span></span>

#### <span data-ttu-id="4ef6c-1126"><a name="77cd2fbb-307e-4cbf-a65f-745553f72d2c"></a>백업 및 복원에 대한 성능 고려 사항</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1126"><a name="77cd2fbb-307e-4cbf-a65f-745553f72d2c"></a>Performance Considerations for Backup and Restore</span></span>
<span data-ttu-id="4ef6c-1127">완전 배포에서처럼 백업 및 복원 성능은 병렬로 읽을 수 있는 볼륨 수와 이러한 볼륨의 처리량에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1127">As in bare-metal deployments, backup and restore performance is dependent on how many volumes can be read in parallel and the throughput of those volumes.</span></span> <span data-ttu-id="4ef6c-1128">또한 백업 압축에서 사용하는 CPU 사용량은 최대 8개 CPU 스레드까지 VM에서 중요 역할을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1128">In addition, the CPU consumption used by backup compression can play a significant role on VMs with up to 8 CPU threads.</span></span> <span data-ttu-id="4ef6c-1129">따라서 다음을 가정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1129">Therefore, one can assume:</span></span>

* <span data-ttu-id="4ef6c-1130">데이터베이스 장치를 저장하는 데 사용하는 VHD 수가 적을수록 전반적인 읽기 처리량이 줄어듭니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1130">The fewer the number of VHDs used to store the database devices, the lower the overall read throughput</span></span>
* <span data-ttu-id="4ef6c-1131">VM의 CPU 스레드 수가 적을수록 백업 압축에 대한 영향이 커집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1131">The smaller the number of CPU threads in the VM, the more severe the impact of backup compression</span></span>
* <span data-ttu-id="4ef6c-1132">백업을 작성하는 대상(스트라이프 디렉터리, VHD) 수가 적을수록 처리량이 줄어듭니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1132">The fewer targets (Stripe Directories, VHDs) to write the backup to, the lower the throughput</span></span>

<span data-ttu-id="4ef6c-1133">작성할 대상 수를 늘리려면 두 가지 옵션을 사용할 수 있으며 필요에 따라 혼합할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1133">To increase the number of targets to write to, there are two options that you can use, possibly in combination, depending on your needs:</span></span>

* <span data-ttu-id="4ef6c-1134">백업에 대해 별도의 볼륨을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1134">Dedicating separate volumes for backup</span></span>
* <span data-ttu-id="4ef6c-1135">해당 스트라이프 디스크 볼륨에 대한 IOPS 처리량을 개선하려면 탑재된 여러 VHD에 백업 대상 볼륨을 스트라이프합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1135">Striping the backup target volume over multiple mounted VHDs in order to improve the IOPS throughput on that striped disk volume</span></span>
* <span data-ttu-id="4ef6c-1136">다음을 위한 별도의 전용 논리적 디스크 장치가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1136">Having separate dedicated logical disk devices for:</span></span>
  * <span data-ttu-id="4ef6c-1137">SAP MaxDB 백업 볼륨(즉, 파일)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1137">SAP MaxDB backup volumes (i.e. files)</span></span>
  * <span data-ttu-id="4ef6c-1138">SAP MaxDB 데이터 볼륨(즉, 파일)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1138">SAP MaxDB data volumes ( i.e. files)</span></span>
  * <span data-ttu-id="4ef6c-1139">SAP MaxDB 로그 볼륨(즉, 파일)</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1139">SAP MaxDB log volumes ( i.e. files)</span></span>

<span data-ttu-id="4ef6c-1140">탑재된 여러 VHD에 대한 볼륨 스트라이프는 이 문서 앞부분의 [소프트웨어 RAID][dbms-guide-2.2] 챕터에서 설명했습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1140">Striping a volume over multiple mounted VHDs has been discussed earlier in chapter [Software RAID][dbms-guide-2.2] of this document.</span></span>

#### <span data-ttu-id="4ef6c-1141"><a name="f77c1436-9ad8-44fb-a331-8671342de818"></a>기타</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1141"><a name="f77c1436-9ad8-44fb-a331-8671342de818"></a>Other</span></span>
<span data-ttu-id="4ef6c-1142">Azure 가용성 집합 또는 SAP 모니터링과 같은 기타 일반적인 항목은 모두 이 문서의 처음 세 챕터에서 SAP MaxDB 데이터베이스와 VM 배포에 대해 설명한 대로 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1142">All other general topics such as Azure Availability Sets or SAP monitoring also apply as described in the first three chapters of this document for deployments of VMs with the SAP MaxDB database.</span></span>
<span data-ttu-id="4ef6c-1143">다른 SAP MaxDB 관련 설정은 Azure VM에 투명하며 SAP Note [767598] 에 나열된 다른 문서 및 다음 SAP Note에서 설명됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1143">Other SAP MaxDB-specific settings are transparent to Azure VMs and are described in different documents listed in SAP Note [767598] and in these SAP notes:</span></span>

* <span data-ttu-id="4ef6c-1144">[826037]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1144">[826037]</span></span>
* <span data-ttu-id="4ef6c-1145">[1139904]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1145">[1139904]</span></span>
* <span data-ttu-id="4ef6c-1146">[1173395]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1146">[1173395]</span></span>

## <a name="specifics-for-sap-livecache-on-windows"></a><span data-ttu-id="4ef6c-1147">Windows의 SAP liveCache에 대한 고유 정보</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1147">Specifics for SAP liveCache on Windows</span></span>
### <a name="sap-livecache-version-support"></a><span data-ttu-id="4ef6c-1148">SAP liveCache 버전 지원</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1148">SAP liveCache Version Support</span></span>
<span data-ttu-id="4ef6c-1149">Azure Virtual Machines에서 지원되는 SAP liveCache의 최소 버전은 **EhP 2 for SAP SCM 7.0** 이상에 대해 릴리스된 **liveCache 7.9.08.31** 및 **LCA-Build 25**를 포함하는 **SAP LC/LCAPPS 10.0 SP 25**입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1149">Minimal version of SAP liveCache supported in Azure Virtual Machines is **SAP LC/LCAPPS 10.0 SP 25** including **liveCache 7.9.08.31** and **LCA-Build 25**, released for **EhP 2 for SAP SCM 7.0** and higher.</span></span>

### <a name="supported-microsoft-windows-versions-and-azure-vm-types-for-sap-livecache-dbms"></a><span data-ttu-id="4ef6c-1150">SAP liveCache DBMS에 대해 지원되는 Microsoft Windows 버전 및 Azure VM 유형</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1150">Supported Microsoft Windows Versions and Azure VM types for SAP liveCache DBMS</span></span>
<span data-ttu-id="4ef6c-1151">Azure에서 지원되는 SAP liveCache용 Microsoft Windows 버전을 찾으려면 다음을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1151">To find the supported Microsoft Windows version for SAP liveCache on Azure, see:</span></span>

* <span data-ttu-id="4ef6c-1152">[SAP PAM(제품 가용성 매트릭스)][sap-pam]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1152">[SAP Product Availability Matrix (PAM)][sap-pam]</span></span>
* <span data-ttu-id="4ef6c-1153">SAP Note [1928533]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1153">SAP Note [1928533]</span></span>

<span data-ttu-id="4ef6c-1154">최신 버전의 Microsoft Windows 운영 체제인 Microsoft Windows 2012 R2를 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1154">It is highly recommended to use the newest version of the operating system Microsoft Windows, which is Microsoft Windows 2012 R2.</span></span>

### <a name="sap-livecache-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="4ef6c-1155">Azure VM의 SAP 설치에 대한 SAP liveCache 구성 지침</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1155">SAP liveCache Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="recommended-azure-vm-types"></a><span data-ttu-id="4ef6c-1156">권장되는 Azure VM 유형</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1156">Recommended Azure VM Types</span></span>
<span data-ttu-id="4ef6c-1157">SAP liveCache는 많은 계산을 수행하는 응용 프로그램이므로 RAM과 CPU의 양 및 속도가 SAP liveCache 성능에 큰 영향을 줍니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1157">As SAP liveCache is an application that performs huge calculations, the amount and speed of RAM and CPU has a major influence on SAP liveCache performance.</span></span>

<span data-ttu-id="4ef6c-1158">SAP에서 지원하는 Azure VM 형식(SAP Note [1928533])의 경우, VM에 할당된 모든 가상 CPU 리소스가 하이퍼바이저의 전용 물리적 CPU 리소스에 의해 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1158">For the Azure VM types supported by SAP (SAP Note [1928533]), all virtual CPU resources allocated to the VM are backed by dedicated physical CPU resources of the hypervisor.</span></span> <span data-ttu-id="4ef6c-1159">오버프로비저닝이 발생되지 않습니다(따라서 CPU 리소스에 대한 경쟁 없음).</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1159">No overprovisioning (and therefore no competition for CPU resources) takes place.</span></span>

<span data-ttu-id="4ef6c-1160">마찬가지로, SAP에서 지원하는 모든 Azure VM 인스턴스 형식의 경우 VM 메모리가 모두 실제 메모리에 매핑되므로 예를 들어 오버프로비저닝(오버 커밋)이 사용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1160">Similarly, for all Azure VM instance types supported by SAP, the VM memory is 100 % mapped to the physical memory – overprovisioning (over-commitment), for example, is not used.</span></span>

<span data-ttu-id="4ef6c-1161">이러한 관점에서 볼 때, 새로운 D 시리즈 또는 DS 시리즈(Azure 프리미엄 저장소와 함께 사용) Azure VM 유형은 A 시리즈보다 60% 더 빠른 프로세서를 제공하므로 이 형식을 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1161">From this perspective it is highly recommended to use the new D- series or DS-series (in combination with Azure Premium Storage) Azure VM type, as they have 60 % faster processors than the A-series.</span></span> <span data-ttu-id="4ef6c-1162">RAM 및 CPU 부하가 매우 높은 경우 G 시리즈와 GS 시리즈(Azure 프리미엄 저장소와 함께 사용) VM을 최신 Intel® Xeon® 프로세서 E5 v3 제품군과 함께 사용할 수 있으며 그 결과 D/DS 시리즈에 비해 2배 많은 메모리 및 4배 많은 SSD(반도체 드라이브)를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1162">For the highest RAM and CPU load, you can use G-series and GS-series (in combination with Azure Premium Storage) VMs with the latest Intel® Xeon® processor E5 v3 family, which have twice the memory and four times the solid state drive storage (SSDs) of the D/DS-series.</span></span>

#### <a name="storage-configuration"></a><span data-ttu-id="4ef6c-1163">저장소 구성</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1163">Storage Configuration</span></span>
<span data-ttu-id="4ef6c-1164">SAP liveCache는 SAP MaxDB 기술을 기반으로 하므로 SAP MaxDB에 대해 [저장소 구성][dbms-guide-8.4.1] 챕터에서 설명한 모든 Azure Storage 모범 사례 권장 사항이 SAP liveCache에도 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1164">As SAP liveCache is based on SAP MaxDB technology, all the Azure storage best practice recommendations mentioned for SAP MaxDB in chapter [Storage configuration][dbms-guide-8.4.1] are also valid for SAP liveCache.</span></span>

#### <a name="dedicated-azure-vm-for-livecache"></a><span data-ttu-id="4ef6c-1165">liveCache용 전용 Azure VM</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1165">Dedicated Azure VM for liveCache</span></span>
<span data-ttu-id="4ef6c-1166">SAP liveCache는 컴퓨팅 기능을 집중적으로 사용하므로 생산적인 사용을 위해 전용 Azure 가상 컴퓨터에 배포하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1166">As SAP liveCache intensively uses computational power, for productive usage it is highly recommended to deploy on a dedicated Azure Virtual Machine.</span></span>

![생산적인 사용 사례를 위한 liveCache용 전용 Azure VM][dbms-guide-figure-700]

#### <a name="backup-and-restore"></a><span data-ttu-id="4ef6c-1168">백업 및 복원</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1168">Backup and Restore</span></span>
<span data-ttu-id="4ef6c-1169">성능 고려 사항을 포함한 백업 및 복원은 이미 SAP MaxDB 관련의 [백업 및 복원][dbms-guide-8.4.2] 및 [백업 및 복원에 대한 성능 고려 사항][dbms-guide-8.4.3] 챕터에서 설명하고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1169">Backup and restore, including performance considerations, are already described in the relevant SAP MaxDB chapters [Backup and Restore][dbms-guide-8.4.2] and [Performance Considerations for Backup and Restore][dbms-guide-8.4.3].</span></span>

#### <a name="other"></a><span data-ttu-id="4ef6c-1170">기타</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1170">Other</span></span>
<span data-ttu-id="4ef6c-1171">다른 모든 일반 항목은 이미 SAP MaxDB 관련의 [이][dbms-guide-8.4.4] 챕터에서 설명하고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1171">All other general topics are already described in the relevant SAP MaxDB [this][dbms-guide-8.4.4] chapter.</span></span>

## <a name="specifics-for-the-sap-content-server-on-windows"></a><span data-ttu-id="4ef6c-1172">Windows의 SAP Content Server에 대한 고유 정보</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1172">Specifics for the SAP Content Server on Windows</span></span>
<span data-ttu-id="4ef6c-1173">SAP Content Server는 다양한 형식의 전자 문서와 같은 콘텐츠를 저장하기 위한 별도의 서버 기반 구성 요소입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1173">The SAP Content Server is a separate, server-based component to store content such as electronic documents in different formats.</span></span> <span data-ttu-id="4ef6c-1174">SAP Content Server는 기술 개발을 통해 제공되며 SAP 응용 프로그램의 응용 프로그램 간에 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1174">The SAP Content Server is provided by development of technology and is to be used cross-application for any SAP applications.</span></span> <span data-ttu-id="4ef6c-1175">별도의 시스템에 설치됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1175">It is installed on a separate system.</span></span> <span data-ttu-id="4ef6c-1176">일반적인 콘텐츠는 기술 웨어하우스 설명서 또는 mySAP PLM 문서 관리 시스템의 기술 드로잉 및 교육 자료입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1176">Typical content is training material and documentation from Knowledge Warehouse or technical drawings originating from the mySAP PLM Document Management System.</span></span>

### <a name="sap-content-server-version-support"></a><span data-ttu-id="4ef6c-1177">SAP Content Server 버전 지원</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1177">SAP Content Server Version Support</span></span>
<span data-ttu-id="4ef6c-1178">SAP에서 현재 다음을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1178">SAP currently supports:</span></span>

* <span data-ttu-id="4ef6c-1179">**SAP Content Server** 버전 **6.50 이상**</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1179">**SAP Content Server** with version **6.50 (and higher)**</span></span>
* <span data-ttu-id="4ef6c-1180">**SAP MaxDB 버전 7.9**</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1180">**SAP MaxDB version 7.9**</span></span>
* <span data-ttu-id="4ef6c-1181">**Microsoft IIS(인터넷 정보 서비스) 버전 8.0 이상**</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1181">**Microsoft IIS (Internet Information Server) version 8.0 (and higher)**</span></span>

<span data-ttu-id="4ef6c-1182">SAP Content Server의 최신 버전을 사용하는 것이 좋습니다. 이 문서를 작성할 당시를 기준으로 하면 **6.50 SP4**와 **Microsoft IIS 8.5**가 최신 버전입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1182">It is highly recommended to use the newest version of SAP Content Server, which at the time of writing this document is **6.50 SP4**, and the newest version of **Microsoft IIS 8.5**.</span></span>

<span data-ttu-id="4ef6c-1183">지원되는 최신 버전의 SAP Content Server 및 Microsoft IIS는 [SAP PAM(제품 가용성 매트릭스)][sap-pam]을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1183">Check the latest supported versions of SAP Content Server and Microsoft IIS in the [SAP Product Availability Matrix (PAM)][sap-pam].</span></span>

### <a name="supported-microsoft-windows-and-azure-vm-types-for-sap-content-server"></a><span data-ttu-id="4ef6c-1184">SAP Content Server에 대해 지원되는 Microsoft Windows 버전 및 Azure VM 유형</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1184">Supported Microsoft Windows and Azure VM types for SAP Content Server</span></span>
<span data-ttu-id="4ef6c-1185">Azure의 SAP Content Server에서 지원되는 Windows 버전을 확인하려면 다음을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1185">To find out supported Windows version for SAP Content Server on Azure, see:</span></span>

* <span data-ttu-id="4ef6c-1186">[SAP PAM(제품 가용성 매트릭스)][sap-pam]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1186">[SAP Product Availability Matrix (PAM)][sap-pam]</span></span>
* <span data-ttu-id="4ef6c-1187">SAP Note [1928533]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1187">SAP Note [1928533]</span></span>

<span data-ttu-id="4ef6c-1188">Microsoft Windows의 최신 버전을 사용하는 것이 좋습니다. 이 문서를 작성할 당시를 기준으로 하면 **Windows Server 2012 R2**입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1188">It is highly recommended to use the newest version of Microsoft Windows, which at the time of writing this document is **Windows Server 2012 R2**.</span></span>

### <a name="sap-content-server-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="4ef6c-1189">Azure VM의 SAP 설치에 대한 SAP Content Server 구성 지침</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1189">SAP Content Server Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="storage-configuration"></a><span data-ttu-id="4ef6c-1190">저장소 구성</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1190">Storage Configuration</span></span>
<span data-ttu-id="4ef6c-1191">SAP MaxDB 데이터베이스에 파일을 저장하도록 SAP Content Server를 구성하는 경우 SAP MaxDB에 대해 [저장소 구성][dbms-guide-8.4.1] 챕터에서 설명한 모든 Azure Storage 모범 사례 권장 사항이 SAP Content Server 시나리오에도 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1191">If you configure SAP Content Server to store files in the SAP MaxDB database, all Azure storage best practices recommendation mentioned for SAP MaxDB in chapter [Storage Configuration][dbms-guide-8.4.1] are also valid for the SAP Content Server scenario.</span></span>

<span data-ttu-id="4ef6c-1192">파일 시스템에 파일을 저장하도록 SAP Content Server를 구성한 경우 전용 논리 드라이브를 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1192">If you configure SAP Content Server to store files in the file system, it is recommended to use a dedicated logical drive.</span></span> <span data-ttu-id="4ef6c-1193">저장소 공간을 사용하면 [소프트웨어 RAID][dbms-guide-2.2] 챕터에서 설명한 대로 논리 디스크 크기 및 IOPS 처리량을 늘릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1193">Using storage spaces enables you to also increase logical disk size and IOPS throughput, as described in in chapter [Software RAID][dbms-guide-2.2].</span></span>

#### <a name="sap-content-server-location"></a><span data-ttu-id="4ef6c-1194">SAP Content Server 위치</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1194">SAP Content Server Location</span></span>
<span data-ttu-id="4ef6c-1195">SAP Content Server는 SAP 시스템이 배포된 것과 동일한 Azure VNET 및 Azure 지역에 배포되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1195">SAP Content Server has to be deployed in the same Azure region and Azure VNET where the SAP system is deployed.</span></span> <span data-ttu-id="4ef6c-1196">SAP Content Server 구성 요소는 전용 Azure VM 또는 SAP 시스템이 실행 중인 동일한 VM에 배포할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1196">You are free to decide whether you want to deploy SAP Content Server components on a dedicated Azure VM or on the same VM where the SAP system is running.</span></span>

![SAP Content Server용 전용 Azure VM][dbms-guide-figure-800]

#### <a name="sap-cache-server-location"></a><span data-ttu-id="4ef6c-1198">SAP Cache Server 위치</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1198">SAP Cache Server Location</span></span>
<span data-ttu-id="4ef6c-1199">SAP Cache Server는 로컬에 있는 (캐시된) 문서에 대한 액세스를 제공하는 추가 서버 기반 구성 요소입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1199">The SAP Cache Server is an additional server-based component to provide access to (cached) documents locally.</span></span> <span data-ttu-id="4ef6c-1200">SAP Cache Server는 SAP Content Server 문서를 캐시합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1200">The SAP Cache Server caches the documents of a SAP Content Server.</span></span> <span data-ttu-id="4ef6c-1201">이 기능의 목적은 서로 다른 위치에서 문서를 두 번 이상 검색해야 하는 경우 네트워크 트래픽을 최적화하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1201">This is to optimize network traffic if documents have to be retrieved more than once from different locations.</span></span> <span data-ttu-id="4ef6c-1202">일반적으로 SAP Cache Server는 SAP Cache Server에 액세스하는 클라이언트와 물리적으로 가까워야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1202">The general rule is that the SAP Cache Server has to be physically close to the client that accesses the SAP Cache Server.</span></span>

<span data-ttu-id="4ef6c-1203">다음 두 가지 옵션이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1203">Here you have two options:</span></span>

1. <span data-ttu-id="4ef6c-1204">**클라이언트가 백 엔드 SAP 시스템인 경우** SAP Content Server에 액세스하도록 백 엔드 SAP 시스템이 구성된 경우 해당 SAP 시스템은 클라이언트입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1204">**Client is a backend SAP system** If a backend SAP system is configured to access SAP Content Server, that SAP system is a client.</span></span> <span data-ttu-id="4ef6c-1205">SAP 시스템과 SAP Content Server는 모두 같은 Azure 지역, 즉 동일한 Azure 데이터 센터에 배포되므로 물리적으로 서로 가깝습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1205">As both SAP system and SAP Content Server are deployed in the same Azure region – in the same Azure datacenter – they are physically close to each other.</span></span> <span data-ttu-id="4ef6c-1206">따라서 전용 SAP Cache Server를 사용할 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1206">Therefore, there is no need to have a dedicated SAP Cache Server.</span></span> <span data-ttu-id="4ef6c-1207">SAP UI 클라이언트(SAP GUI 또는 웹 브라우저)는 SAP 시스템에 직접 액세스하고 SAP 시스템은 SAP Content Server에서 문서를 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1207">SAP UI clients (SAP GUI or web browser) access the SAP system directly, and the SAP system retrieves documents from the SAP Content Server.</span></span>
2. <span data-ttu-id="4ef6c-1208">**클라이언트가 온-프레미스 웹 브라우저인 경우** 웹 브라우저에서 직접 액세스하도록 SAP Content Server를 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1208">**Client is an on-premises web browser** The SAP Content Server can be configured to be accessed directly by the web browser.</span></span> <span data-ttu-id="4ef6c-1209">이 경우 온-프레미스에서 실행하는 웹 브라우저는 SAP Content Server의 클라이언트입니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1209">In this case, a web browser running on–premises is a client of the SAP Content Server.</span></span> <span data-ttu-id="4ef6c-1210">온-프레미스 데이터 센터와 Azure 데이터 센터는 서로 다른 물리적 위치에 있습니다(이상적으로는 서로 가까워야 함).</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1210">On-premises datacenter and Azure datacenter are placed in different physical locations (ideally close to each other).</span></span> <span data-ttu-id="4ef6c-1211">온-프레미스 데이터 센터는 Azure 사이트 간 VPN 또는 ExpressRoute를 통해 Azure에 연결됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1211">Your on-premises datacenter is connected to Azure via Azure Site-to-Site VPN or ExpressRoute.</span></span> <span data-ttu-id="4ef6c-1212">두 옵션 모두 Azure에 대한 보안 VPN 네트워크 연결을 제공하지만 사이트 간 네트워크 연결은 온-프레미스 데이터 센터와 Azure 데이터 센터 간의 네트워크 대역폭 및 대기 시간 SLA를 제공하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1212">Although both options offer secure VPN network connection to Azure, site-to-site network connection does not offer a network bandwidth and latency SLA between the on-premises datacenter and the Azure datacenter.</span></span> <span data-ttu-id="4ef6c-1213">문서에 대한 액세스 속도를 향상시키기 위해 다음 중 하나를 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1213">To speed up access to documents, you can do one of the following:</span></span>
   1. <span data-ttu-id="4ef6c-1214">온-프레미스 웹 브라우저 근처에 온-프레미스 SAP Cache Server를 설치합니다([이][dbms-guide-900-sap-cache-server-on-premises] 그림의 옵션).</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1214">Install SAP Cache Server on-premises, close to the on-premises web browser (option on [this][dbms-guide-900-sap-cache-server-on-premises] Figure)</span></span>
   2. <span data-ttu-id="4ef6c-1215">빠른 속도와 짧은 대기 시간의 온-프레미스 데이터 센터와 Azure 데이터 센터 간 전용 네트워크 연결을 제공하는 Azure ExpressRoute를 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1215">Configure Azure ExpressRoute, which offers a high-speed and low-latency dedicated network connection between on-premises datacenter and Azure datacenter.</span></span>

<span data-ttu-id="4ef6c-1216">![SAP Cache Server 온-프레미스 설치 옵션][dbms-guide-figure-900]
<a name="642f746c-e4d4-489d-bf63-73e80177a0a8"></a></span><span class="sxs-lookup"><span data-stu-id="4ef6c-1216">![Option to install SAP Cache Server on-premises][dbms-guide-figure-900]
<a name="642f746c-e4d4-489d-bf63-73e80177a0a8"></a></span></span>

#### <a name="backup--restore"></a><span data-ttu-id="4ef6c-1217">백업/복원</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1217">Backup / Restore</span></span>
<span data-ttu-id="4ef6c-1218">SAP MaxDB 데이터베이스에 파일을 저장하도록 SAP Content Server를 구성하는 경우 백업/복원 절차 및 성능 고려 사항은 이미 SAP MaxDB 관련의 [백업 및 복원][dbms-guide-8.4.2] 및 [백업 및 복원에 대한 성능 고려 사항][dbms-guide-8.4.3] 챕터에서 설명하고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1218">If you configure the SAP Content Server to store files in the SAP MaxDB database, the backup/restore procedure and performance considerations are already described in SAP MaxDB chapter [Backup and Restore][dbms-guide-8.4.2] and chapter [Performance Considerations for Backup and Restore][dbms-guide-8.4.3].</span></span>

<span data-ttu-id="4ef6c-1219">파일 시스템에 파일을 저장하도록 SAP Content Server를 구성하는 경우 문서가 위치한 전체 파일 구조의 수동 백업/복원을 실행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1219">If you configure the SAP Content Server to store files in the file system, one option is to execute manual backup/restore of the whole file structure where the documents are located.</span></span> <span data-ttu-id="4ef6c-1220">SAP MaxDB 백업/복원과 마찬가지로, 백업 목적을 위한 전용 디스크 볼륨을 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1220">Similar to SAP MaxDB backup/restore, it is recommended to have a dedicated disk volume for backup purpose.</span></span>

#### <a name="other"></a><span data-ttu-id="4ef6c-1221">기타</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1221">Other</span></span>
<span data-ttu-id="4ef6c-1222">다른 SAP Content Server 관련 설정은 Azure VM에 투명하며 다양한 문서 및 SAP Note에 설명되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1222">Other SAP Content Server specific settings are transparent to Azure VMs and are described in various documents and SAP Notes:</span></span>

* <span data-ttu-id="4ef6c-1223"><https://service.sap.com/contentserver></span><span class="sxs-lookup"><span data-stu-id="4ef6c-1223"><https://service.sap.com/contentserver></span></span>
* <span data-ttu-id="4ef6c-1224">SAP Note [1619726]</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1224">SAP Note [1619726]</span></span>  

## <a name="specifics-to-ibm-db2-for-luw-on-windows"></a><span data-ttu-id="4ef6c-1225">Windows의 LUW용 IBM DB2에 대한 고유 정보</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1225">Specifics to IBM DB2 for LUW on Windows</span></span>
<span data-ttu-id="4ef6c-1226">Microsoft Azure를 사용하면 Linux, UNIX, Windows(LUW)용 IBM DB2에서 실행 중인 기존 SAP 응용 프로그램을 Azure 가상 컴퓨터로 쉽게 마이그레이션할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1226">With Microsoft Azure, you can easily migrate your existing SAP application running on IBM DB2 for Linux, UNIX, and Windows (LUW) to Azure virtual machines.</span></span> <span data-ttu-id="4ef6c-1227">LUW용 IBM DB2에서 SAP를 사용하면 관리자와 개발자가 온-프레미스와 동일한 개발 및 관리 도구를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1227">With SAP on IBM DB2 for LUW, administrators and developers can still use the same development and administration tools which are available on-premises.</span></span>
<span data-ttu-id="4ef6c-1228">LUW용 IBM DB2에서의 SAP Business Suite 실행에 대한 일반 정보는 <https://scn.sap.com/community/db2-for-linux-unix-windows>의 SCN(SAP Community Network)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1228">General information about running SAP Business Suite on IBM DB2 for LUW can be found in the SAP Community Network (SCN) at <https://scn.sap.com/community/db2-for-linux-unix-windows>.</span></span>

<span data-ttu-id="4ef6c-1229">Azure에서 LUW용 DB2의 SAP에 대한 추가 정보 및 업데이트는 SAP Note [2233094]를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1229">For additional information and updates about SAP on DB2 for LUW on Azure, see SAP Note [2233094].</span></span>

### <a name="ibm-db2-for-linux-unix-and-windows-version-support"></a><span data-ttu-id="4ef6c-1230">Linux, UNIX 및 Windows용 IBM DB2 버전 지원</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1230">IBM DB2 for Linux, UNIX, and Windows Version Support</span></span>
<span data-ttu-id="4ef6c-1231">Microsoft Azure 가상 컴퓨터 서비스에서 LUW용 IBM DB2의 SAP는 DB2 버전 10.5부터 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1231">SAP on IBM DB2 for LUW on Microsoft Azure Virtual Machine Services is supported as of DB2 version 10.5.</span></span>

<span data-ttu-id="4ef6c-1232">지원되는 SAP 제품 및 Azure VM 형식에 대한 내용은 SAP Note [1928533]을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1232">For information about supported SAP products and Azure VM types, please refer to SAP Note [1928533].</span></span>

### <a name="ibm-db2-for-linux-unix-and-windows-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="4ef6c-1233">Azure VM의 SAP 설치에 대한 Linux, UNIX 및 Windows용 IBM DB2 구성 지침</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1233">IBM DB2 for Linux, UNIX, and Windows Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="storage-configuration"></a><span data-ttu-id="4ef6c-1234">저장소 구성</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1234">Storage Configuration</span></span>
<span data-ttu-id="4ef6c-1235">모든 데이터베이스 파일은 VHD 디스크 기반의 NTFS 파일 시스템에 저장되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1235">All database files must be stored on the NTFS file system based on VHD disks.</span></span> <span data-ttu-id="4ef6c-1236">이러한 VHD는 Azure VM에 탑재되어 있으며 Azure 페이지 Blob Storage를 기반으로 합니다(<https://msdn.microsoft.com/library/azure/ee691964.aspx>).</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1236">These VHDs are mounted to the Azure VM and are based in Azure Page BLOB Storage (<https://msdn.microsoft.com/library/azure/ee691964.aspx>).</span></span>
<span data-ttu-id="4ef6c-1237">모든 종류의 네트워크 드라이브 또는 다음 Azure 파일 서비스 같은 원격 공유는 데이터베이스 파일에 대해 지원되지 **않습니다** .</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1237">Any kind of network drives or remote shares like the following Azure file services are **NOT** supported for database files:</span></span>

* <span data-ttu-id="4ef6c-1238"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span><span class="sxs-lookup"><span data-stu-id="4ef6c-1238"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span></span>
* <span data-ttu-id="4ef6c-1239"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span><span class="sxs-lookup"><span data-stu-id="4ef6c-1239"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span></span>

<span data-ttu-id="4ef6c-1240">Azure 페이지 Blob Storage에 기반한 Azure VHD를 사용하는 경우 이 문서의 [RDBMS 배포 구조][dbms-guide-2] 챕터에서 설명한 내용이 LUW 데이터베이스용 IBM DB2와 함께 배포하는 경우에도 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1240">If you are using Azure VHDs based on Azure Page BLOB Storage, the statements made in this document in chapter [Structure of a RDBMS Deployment][dbms-guide-2] also apply to deployments with the IBM DB2 for LUW Database.</span></span>

<span data-ttu-id="4ef6c-1241">이 문서 앞부분의 일반 정보에서 설명했듯이 Azure VHD에 대한 IOPS 처리량에 할당량이 존재합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1241">As explained earlier in the general part of the document, quotas on IOPS throughput for Azure VHDs exist.</span></span> <span data-ttu-id="4ef6c-1242">정확한 할당량은 사용되는 VM 유형에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1242">The exact quotas depend on the VM type used.</span></span> <span data-ttu-id="4ef6c-1243">VM 유형과 해당 할당량의 목록은 [여기][virtual-machines-sizes]에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1243">A list of VM types with their quotas can be found [here][virtual-machines-sizes]</span></span>

<span data-ttu-id="4ef6c-1244">디스크당 현재 IOPS 할당량이 충분한 경우 탑재된 단일 Azure VHD에 모든 데이터베이스 파일을 저장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1244">As long as the current IOPS quota per disk is sufficient, it is possible to store all the database files on one single mounted Azure VHD.</span></span>

<span data-ttu-id="4ef6c-1245">SAP 설치 가이드의 "데이터베이스 디렉터리의 데이터 보안 및 성능 고려 사항" 챕터에서도 성능 고려 사항을 참조할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1245">For performance considerations also refer to chapter “Data Safety and Performance Considerations for Database Directories” in SAP installation guides.</span></span>

<span data-ttu-id="4ef6c-1246">또는 이 문서의 [소프트웨어 RAID][dbms-guide-2.2] 챕터에서 설명한 대로 Window 저장소 풀(Windows Server 2012 이상에서만 사용 가능) 또는 Windows 2008 R2용 Windows 스트라이프를 사용하여 탑재된 여러 VHD 디스크에 하나의 큰 논리적 장치를 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1246">Alternatively, you can use Windows Storage Pools (only available in Windows Server 2012 and higher) or Windows striping for Windows 2008 R2 as described in chapter [Software RAID][dbms-guide-2.2] of this document to create one big logical device over multiple mounted VHD disks.</span></span>
<span data-ttu-id="4ef6c-1247">sapdata 및 saptmp 디렉터리에 대한 DB2 저장소 경로를 포함하는 디스크의 경우 물리적 디스크 섹터 크기를 512KB로 지정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1247">For the disks containing the DB2 storage paths for your sapdata and saptmp directories, you must specify a physical disk sector size of 512 KB.</span></span> <span data-ttu-id="4ef6c-1248">Windows 저장소 풀을 사용하는 경우 “-LogicalSectorSizeDefault” 매개 변수를 사용하여 명령줄 인터페이스를 통해 수동으로 저장소 풀을 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1248">When using Windows Storage Pools, you must create the storage pools  manually via command line interface using the parameter „-LogicalSectorSizeDefault“.</span></span> <span data-ttu-id="4ef6c-1249">자세한 내용은 <https://technet.microsoft.com/library/hh848689.aspx>를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1249">For details see <https://technet.microsoft.com/library/hh848689.aspx>.</span></span>

#### <a name="backuprestore"></a><span data-ttu-id="4ef6c-1250">백업/복원</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1250">Backup/Restore</span></span>
<span data-ttu-id="4ef6c-1251">LUW용 IBM DB2의 백업/복원 기능은 표준 Windows Server 운영 체제 및 Hyper-V와 동일한 방법으로 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1251">The backup/restore functionality for IBM DB2 for LUW is supported in the same way as on standard Windows Server Operating Systems and Hyper-V.</span></span>

<span data-ttu-id="4ef6c-1252">유효한 데이터베이스 백업 전략이 있는지 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1252">You must make sure that you have a valid database backup strategy in place.</span></span>

<span data-ttu-id="4ef6c-1253">완전 배포에서처럼 백업/복원 성능은 병렬로 읽을 수 있는 볼륨 수와 이러한 볼륨의 처리량에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1253">As in bare-metal deployments, backup/restore performance depends on how many volumes can be read in parallel and what the throughput of those volumes might be.</span></span> <span data-ttu-id="4ef6c-1254">또한 백업 압축에서 사용하는 CPU 사용량은 최대 8개 CPU 스레드까지 VM에서 중요 역할을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1254">In addition, the CPU consumption used by backup compression may play a significant role on VMs with just up to 8 CPU threads.</span></span> <span data-ttu-id="4ef6c-1255">따라서 다음을 가정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1255">Therefore, one can assume:</span></span>

* <span data-ttu-id="4ef6c-1256">데이터베이스 장치를 저장하는 데 사용하는 VHD 수가 적을수록 전반적인 읽기 처리량이 줄어듭니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1256">The fewer the number of VHDs used to store the database devices, the smaller the overall throughput in reading</span></span>
* <span data-ttu-id="4ef6c-1257">VM의 CPU 스레드 수가 적을수록 백업 압축에 대한 영향이 커집니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1257">The smaller the number of CPU threads in the VM, the more severe the impact of backup compression</span></span>
* <span data-ttu-id="4ef6c-1258">백업을 작성하는 대상(스트라이프 디렉터리, VHD) 수가 적을수록 처리량이 줄어듭니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1258">The fewer targets (Stripe Directories, VHDs) to write the backup to, the lower the throughput</span></span>

<span data-ttu-id="4ef6c-1259">작성할 대상 수를 늘리려면 두 가지 옵션을 필요에 따라 사용/혼합할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1259">To increase the number of targets to write to, two options can be used/combined depending on your needs:</span></span>

* <span data-ttu-id="4ef6c-1260">해당 스트라이프 볼륨에 대한 IOPS 처리량을 개선하려면 탑재된 여러 VHD에 백업 대상 볼륨을 스트라이프합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1260">Striping the backup target volume over multiple mounted VHDs in order to improve the IOPS throughput on that striped volume</span></span>
* <span data-ttu-id="4ef6c-1261">둘 이상의 대상 디렉터리를 사용하여 백업을 작성합니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1261">Using more than one target directory to write the backup to</span></span>

#### <a name="high-availability-and-disaster-recovery"></a><span data-ttu-id="4ef6c-1262">고가용성 및 재해 복구</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1262">High Availability and Disaster Recovery</span></span>
<span data-ttu-id="4ef6c-1263">MSCS(Microsoft Cluster Server)는 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1263">Microsoft Cluster Server (MSCS) is not supported.</span></span>

<span data-ttu-id="4ef6c-1264">DB2 HADR(고가용성 재해 복구)은 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1264">DB2 high availability disaster recovery (HADR) is supported.</span></span> <span data-ttu-id="4ef6c-1265">HA 구성의 가상 컴퓨터에 이름 확인 작업이 있는 경우 Azure 설정이 온-프레미스의 설정과 다르지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1265">If the virtual machines of the HA configuration have working name resolution, the setup in Azure will not differ from any setup that is done on-premises.</span></span> <span data-ttu-id="4ef6c-1266">IP 확인만 사용하는 것은 권장되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1266">It is not recommended to rely on IP resolution only.</span></span>

<span data-ttu-id="4ef6c-1267">Azure 저장소 지역에서 복제는 사용하지 마세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1267">Do not use Azure Store Geo-Replication.</span></span> <span data-ttu-id="4ef6c-1268">자세한 내용은 [Microsoft Azure Storage][dbms-guide-2.3] 및 [Azure VM을 사용한 고가용성 및 재해 복구][dbms-guide-3] 챕터를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1268">For further information, refer to chapter [Microsoft Azure Storage][dbms-guide-2.3] and chapter [High Availability and Disaster Recovery with Azure VMs][dbms-guide-3].</span></span>

#### <a name="other"></a><span data-ttu-id="4ef6c-1269">기타</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1269">Other</span></span>
<span data-ttu-id="4ef6c-1270">Azure 가용성 집합 또는 SAP 모니터링과 같은 기타 일반적인 항목은 모두 이 문서의 처음 세 챕터에서 LUW용 IBM DB2와 VM 배포에 대해 설명한 대로 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1270">All other general topics like Azure Availability Sets or SAP monitoring apply as described in the first three chapters of this document for deployments of VMs with IBM DB2 for LUW as well.</span></span>

<span data-ttu-id="4ef6c-1271">또한 [Azure의 SAP용 SQL Server에 대한 일반적 요약][dbms-guide-5.8] 챕터를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="4ef6c-1271">Also refer to chapter [General SQL Server for SAP on Azure Summary][dbms-guide-5.8].</span></span>
