---
title: "Azure Cosmos DB에서 aaaConsistency 수준 | Microsoft Docs"
description: "Azure Cosmos DB에 5 개의 일관성 수준 toohelp 균형 결과적 일관성, 가용성 및 대기 시간 장단점이 있습니다."
keywords: "최종 일관성, azure cosmos db, azure, Microsoft azure"
services: cosmos-db
author: mimig1
manager: jhubbard
editor: cgronlun
documentationcenter: 
ms.assetid: 3fe51cfa-a889-4a4a-b320-16bf871fe74c
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/16/2017
ms.author: mimig
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: ac399c229d0856cd811bc81568536e519af3300f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="tunable-data-consistency-levels-in-azure-cosmos-db"></a><span data-ttu-id="eb4d3-104">Azure Cosmos DB의 튜닝 가능한 데이터 일관성 수준</span><span class="sxs-lookup"><span data-stu-id="eb4d3-104">Tunable data consistency levels in Azure Cosmos DB</span></span>
<span data-ttu-id="eb4d3-105">모든 데이터 모델에 대해 염두 글로벌 배포 접지 hello에서 azure Cosmos DB 설계 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-105">Azure Cosmos DB is designed from hello ground up with global distribution in mind for every data model.</span></span> <span data-ttu-id="eb4d3-106">디자인 된 toooffer 짧은 대기 시간을 예측 가능한 기능을 보장 함으로써 99.99% 가용성 SLA 이며 잘 정의 된 여러 완화 일관성 모델입니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-106">It is designed toooffer predictable low latency guarantees, a 99.99% availability SLA, and multiple well-defined relaxed consistency models.</span></span> <span data-ttu-id="eb4d3-107">현재 Azure Cosmos DB는 5가지 일관성 수준(강력, 제한된 부실, 세션, 일관적인 접두사 및 최종)을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-107">Currently, Azure Cosmos DB provides five consistency levels: strong, bounded-staleness, session, consistent prefix, and eventual.</span></span> 

<span data-ttu-id="eb4d3-108">Azure Cosmos DB는 분산된 데이터베이스에서 흔히 제공하는 **강력**하고 **최종 일관성**있는 모델 외에도 신중하게 변환된 조작 가능한 3가지 일관성 모델을 제공하며 실제 사용 사례에서도 유용하다는 것이 입증되었습니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-108">Besides **strong** and **eventual consistency** models commonly offered by distributed databases, Azure Cosmos DB offers three more carefully codified and operationalized consistency models, and has validated their usefulness against real world use cases.</span></span> <span data-ttu-id="eb4d3-109">이 hello **부실 제한**, **세션**, 및 **일관 된 접두사** 일관성 수준입니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-109">These are hello **bounded staleness**, **session**, and **consistent prefix** consistency levels.</span></span> <span data-ttu-id="eb4d3-110">전체적으로 이러한 5 개 일관성 수준을 사용 하면 toomake 잘 내용된 간의 장단점 일관성, 가용성 및 대기 시간입니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-110">Collectively these five consistency levels enable you toomake well-reasoned trade-offs between consistency, availability, and latency.</span></span> 

## <a name="distributed-databases-and-consistency"></a><span data-ttu-id="eb4d3-111">분산된 데이터베이스 및 일관성</span><span class="sxs-lookup"><span data-stu-id="eb4d3-111">Distributed databases and consistency</span></span>
<span data-ttu-id="eb4d3-112">상업적으로 분산된 데이터베이스는 입증 가능한 잘 정의된 일관성 선택 사항을 전혀 제공하지 않는 데이터베이스와, 두 가지 극단적인 프로그래밍 가능성 선택을 제공하는 데이터베이스(강력한 일관성, 결과적 일관성) 등의 두 가지 범주에 해당합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-112">Commercial distributed databases fall into two categories: databases that do not offer well-defined, provable consistency choices at all, and databases which offer two extreme programmability choices (strong vs. eventual consistency).</span></span> 

<span data-ttu-id="eb4d3-113">이전 부담 응용 프로그램 개발자가 복제 프로토콜의 세부 사항을 구현 하는 hello 및 일관성, 가용성, 대기 시간 및 처리량 사이의 toomake 어려운 균형에서 예상 하 합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-113">hello former burdens application developers with minutia of their replication protocols and expects them toomake difficult tradeoffs between consistency, availability, latency, and throughput.</span></span> <span data-ttu-id="eb4d3-114">후자의 hello hello 두 가지 극단적인 예측 중 하나는 압력 toochoose를 넣습니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-114">hello latter puts a pressure toochoose one of hello two extremes.</span></span> <span data-ttu-id="eb4d3-115">Hello 다양 한 연구 및 50 개 이상의 일관성 모델에 대 한 제안, 불구 하 고 hello 분산된 데이터베이스 커뮤니티가 않았습니다 초과 강력 하 고 결과적 일관성 수 toocommercialize 일관성 수준.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-115">Despite hello abundance of research and proposals for more than 50 consistency models, hello distributed database community has not been able toocommercialize consistency levels beyond strong and eventual consistency.</span></span> <span data-ttu-id="eb4d3-116">Cosmos DB를 사용 하면 개발자 toochoose hello 일관성 스펙트럼 – 강력한 함께 5 개의 잘 정의 된 일관성 모델 간의 제한 부실, [세션](http://dl.acm.org/citation.cfm?id=383631), 일관 된 접두사 및 최종 합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-116">Cosmos DB allows developers toochoose between five well-defined consistency models along hello consistency spectrum – strong, bounded staleness, [session](http://dl.acm.org/citation.cfm?id=383631), consistent prefix, and eventual.</span></span> 

![(상대적으로 느) 일관성 모델 toochoose에서 정의 된 여러 azure Cosmos DB 제공](./media/consistency-levels/five-consistency-levels.png)

<span data-ttu-id="eb4d3-118">다음 표에서 hello 각 일관성 수준에서 제공 하는 hello 특정 보증을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-118">hello following table illustrates hello specific guarantees each consistency level provides.</span></span>
 
<span data-ttu-id="eb4d3-119">**일관성 수준 및 보증**</span><span class="sxs-lookup"><span data-stu-id="eb4d3-119">**Consistency Levels and guarantees**</span></span>

| <span data-ttu-id="eb4d3-120">일관성 수준</span><span class="sxs-lookup"><span data-stu-id="eb4d3-120">Consistency Level</span></span> | <span data-ttu-id="eb4d3-121">보증</span><span class="sxs-lookup"><span data-stu-id="eb4d3-121">Guarantees</span></span> |
| --- | --- |
| <span data-ttu-id="eb4d3-122">강력</span><span class="sxs-lookup"><span data-stu-id="eb4d3-122">Strong</span></span> | <span data-ttu-id="eb4d3-123">선형화 가능성</span><span class="sxs-lookup"><span data-stu-id="eb4d3-123">Linearizability</span></span> |
| <span data-ttu-id="eb4d3-124">제한된 부실</span><span class="sxs-lookup"><span data-stu-id="eb4d3-124">Bounded Staleness</span></span> | <span data-ttu-id="eb4d3-125">일관적인 접두사</span><span class="sxs-lookup"><span data-stu-id="eb4d3-125">Consistent Prefix.</span></span> <span data-ttu-id="eb4d3-126">k 접두사 또는 t 간격을 통해 쓰기 뒤 읽기 지연</span><span class="sxs-lookup"><span data-stu-id="eb4d3-126">Reads lag behind writes by k prefixes or t interval</span></span> |
| <span data-ttu-id="eb4d3-127">세션</span><span class="sxs-lookup"><span data-stu-id="eb4d3-127">Session</span></span>   | <span data-ttu-id="eb4d3-128">일관적인 접두사</span><span class="sxs-lookup"><span data-stu-id="eb4d3-128">Consistent Prefix.</span></span> <span data-ttu-id="eb4d3-129">단조 읽기, 단조 쓰기, 쓰기 읽기, 읽기 뒤 쓰기</span><span class="sxs-lookup"><span data-stu-id="eb4d3-129">Monotonic reads, monotonic writes, read-your-writes, write-follows-reads</span></span> |
| <span data-ttu-id="eb4d3-130">일관적인 접두사</span><span class="sxs-lookup"><span data-stu-id="eb4d3-130">Consistent Prefix</span></span> | <span data-ttu-id="eb4d3-131">반환 된 업데이트는 간격 없이 모든 hello 업데이트의 일부 접두사</span><span class="sxs-lookup"><span data-stu-id="eb4d3-131">Updates returned are some prefix of all hello updates, with no gaps</span></span> |
| <span data-ttu-id="eb4d3-132">최종</span><span class="sxs-lookup"><span data-stu-id="eb4d3-132">Eventual</span></span>  | <span data-ttu-id="eb4d3-133">순서 외 읽기</span><span class="sxs-lookup"><span data-stu-id="eb4d3-133">Out of order reads</span></span> |

<span data-ttu-id="eb4d3-134">Hello 기본 일관성 수준이 Cosmos DB 계정에 (을 구성한 나중에 특정 읽기 요청에서 hello 일관성을 재정의).</span><span class="sxs-lookup"><span data-stu-id="eb4d3-134">You can configure hello default consistency level on your Cosmos DB account (and later override hello consistency on a specific read request).</span></span> <span data-ttu-id="eb4d3-135">내부적으로 hello 기본 일관성 수준이 toodata 지역으로 확장 될 수 있는 hello 파티션 집합 내에서 적용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-135">Internally, hello default consistency level applies toodata within hello partition sets which may span regions.</span></span> <span data-ttu-id="eb4d3-136">테넌트의 약 73%는 세션 일관성을 사용하고 20%는 제한된 부실을 선호합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-136">About 73% of our tenants use session consistency and 20% prefer bounded staleness.</span></span> <span data-ttu-id="eb4d3-137">고객의 약 3%는 처음에 다양한 일관성 수준을 실험한 후 응용 프로그램에 맞는 특정 일관성을 선택하는 것으로 확인되었습니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-137">We observe that approximately 3% of our customers experiment with various consistency levels initially before settling on a specific consistency choice for their application.</span></span> <span data-ttu-id="eb4d3-138">또한 테넌트의 2%만이 요청에 따라 일관성 수준을 재정의하는 것으로 확인되었습니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-138">We also observe that only 2% of our tenants override consistency levels on a per request basis.</span></span> 

<span data-ttu-id="eb4d3-139">Cosmos DB에서 세션, 일관적인 접두사 및 최종 일관성에서의 읽기는 강력 또는 제한된 부실 일관성에서의 읽기보다 2배 저렴합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-139">In Cosmos DB, reads served at session, consistent prefix and eventual consistency are twice as cheap as reads with strong or bounded staleness consistency.</span></span> <span data-ttu-id="eb4d3-140">Cosmos DB는 가용성, 처리량 및 대기 시간과 함께 일관성 보장을 포함하여 업계 최고 수준의 포괄적인 99.99% SLA를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-140">Cosmos DB has industry leading comprehensive 99.99% SLAs including consistency guarantees along with availability, throughput, and latency.</span></span> <span data-ttu-id="eb4d3-141">채택는 [linearizability 검사기](http://dl.acm.org/citation.cfm?id=1806634), 우리의 서비스 원격 분석에 대해 지속적으로 작동 하 고 공개적으로 모든 일관성 위반 tooyou를 보고 합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-141">We employ a [linearizability checker](http://dl.acm.org/citation.cfm?id=1806634), which continuously operates over our service telemetry and openly reports any consistency violations tooyou.</span></span> <span data-ttu-id="eb4d3-142">에 대 한 부실, 모니터링 및 보고에서 위반 된 걸린 것, t 범위를 제한 합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-142">For bounded staleness, we monitor and report any violations took and t bounds.</span></span> <span data-ttu-id="eb4d3-143">모든 5 개의 상대적으로 느 일관성 수준에 대해도 hello를 보고할 [확률적 bounded 부실 메트릭을](http://dl.acm.org/citation.cfm?id=2212359) 직접 tooyou 합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-143">For all five relaxed consistency levels, we also report hello [probabilistic bounded staleness metric](http://dl.acm.org/citation.cfm?id=2212359) directly tooyou.</span></span>  

## <a name="scope-of-consistency"></a><span data-ttu-id="eb4d3-144">일관성 범위</span><span class="sxs-lookup"><span data-stu-id="eb4d3-144">Scope of consistency</span></span>
<span data-ttu-id="eb4d3-145">일관성의 hello 세분성은 범위 지정 된 tooa 단일 사용자 요청입니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-145">hello granularity of consistency is scoped tooa single user request.</span></span> <span data-ttu-id="eb4d3-146">쓰기 요청을 tooan insert, replace, upsert, 해당 또는 트랜잭션이 삭제 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-146">A write request may correspond tooan insert, replace, upsert, or delete transaction.</span></span> <span data-ttu-id="eb4d3-147">쓰기와 마찬가지로 읽기/쿼리 트랜잭션 범위가 지정 된 tooa 단일 사용자 요청도입니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-147">As with writes, a read/query transaction is also scoped tooa single user request.</span></span> <span data-ttu-id="eb4d3-148">결과 집합, 여러 개의 파티션이 스패닝 hello 사용자 큰를 통해 필요한 toopaginate 있을 수 있지만 각 읽기 트랜잭션 범위가 지정 된 tooa 단일 페이지가 고은 단일 파티션 내에서 제공.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-148">hello user may be required toopaginate over a large result-set, spanning multiple partitions, but each read transaction is scoped tooa single page and served from within a single partition.</span></span>

## <a name="consistency-levels"></a><span data-ttu-id="eb4d3-149">일관성 수준</span><span class="sxs-lookup"><span data-stu-id="eb4d3-149">Consistency levels</span></span>
<span data-ttu-id="eb4d3-150">Cosmos DB 계정으로 기본 일관성 수준이 tooall 컬렉션 (또는 데이터베이스)에 적용 되는 데이터베이스 계정에 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-150">You can configure a default consistency level on your database account that applies tooall collections (and databases) under your Cosmos DB account.</span></span> <span data-ttu-id="eb4d3-151">기본적으로 모든 읽기 및 실행 hello에 대 한 쿼리가 사용자 정의 리소스 hello 기본 일관성 수준이 데이터베이스 계정 hello에 명시 된를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-151">By default, all reads and queries issued against hello user-defined resources use hello default consistency level specified on hello database account.</span></span> <span data-ttu-id="eb4d3-152">특정 읽기/쿼리 hello 일관성 수준이 완화 하면 지원 되는 Api를 각각 hello를 사용 하 여 요청 합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-152">You can relax hello consistency level of a specific read/query request using in each of hello supported APIs.</span></span> <span data-ttu-id="eb4d3-153">5 가지 방법으로이 섹션에 설명 된 대로 지우기 기능 손실을 절충 특정 일관성은 및 성능을 제공 하는 hello Azure Cosmos DB 복제 프로토콜에서 지원 되는 일관성 수준입니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-153">There are five types of consistency levels supported by hello Azure Cosmos DB replication protocol that provide a clear trade-off between specific consistency guarantees and performance, as described in this section.</span></span>

<span data-ttu-id="eb4d3-154">**강력**:</span><span class="sxs-lookup"><span data-stu-id="eb4d3-154">**Strong**:</span></span> 

* <span data-ttu-id="eb4d3-155">강력한 일관성은 제공 된 [linearizability](https://aphyr.com/posts/313-strong-consistency-models) 보장 hello로 항목의 보장 된 tooreturn hello 가장 최신 버전을 읽습니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-155">Strong consistency offers a [linearizability](https://aphyr.com/posts/313-strong-consistency-models) guarantee with hello reads guaranteed tooreturn hello most recent version of an item.</span></span> 
* <span data-ttu-id="eb4d3-156">강력한 일관성은 복제본의 과반수 쿼럼 hello가 지 속력 있게 커밋된 후 쓰기를 볼 수만 있는지 보장 합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-156">Strong consistency guarantees that a write is only visible after it is committed durably by hello majority quorum of replicas.</span></span> <span data-ttu-id="eb4d3-157">쓰기는 하거나 동기적으로 지 속력 있게 커밋된 hello 기본 및 보조 데이터베이스의 hello 쿼럼 둘 다로 또는 중단 됩니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-157">A write is either synchronously committed durably by both hello primary and hello quorum of secondaries, or it is aborted.</span></span> <span data-ttu-id="eb4d3-158">Hello 과반수 쿼럼 읽기에서 읽기를 승인할 항상, 클라이언트 수 커밋되지 않은 또는 부분 쓰기를 확인할 수 없습니다 및 tooread hello 최신 승인 된 쓰기를 항상 보장 됩니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-158">A read is always acknowledged by hello majority read quorum, a client can never see an uncommitted or partial write and is always guaranteed tooread hello latest acknowledged write.</span></span> 
* <span data-ttu-id="eb4d3-159">구성 된 toouse 강력한 일관성 있는 azure Cosmos DB 계정을 Azure Cosmos DB 계정으로 여러 Azure 지역을 연결할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-159">Azure Cosmos DB accounts that are configured toouse strong consistency cannot associate more than one Azure region with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="eb4d3-160">읽기 작업의 비용 hello (의 측면에서 [요청 단위](request-units.md) 사용) 강력한 일관성과 함께 세션 보다 높은 하 고 최종, 하지만 bounded 부실으로 hello 동일 합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-160">hello cost of a read operation (in terms of [request units](request-units.md) consumed) with strong consistency is higher than session and eventual, but hello same as bounded staleness.</span></span>

<span data-ttu-id="eb4d3-161">**제한된 부실**</span><span class="sxs-lookup"><span data-stu-id="eb4d3-161">**Bounded staleness**:</span></span> 

* <span data-ttu-id="eb4d3-162">Bounded 부실 일관성 보장 hello 읽기 쓰기 뒤 최대 지연 될 수 있습니다 *K* 버전 또는 항목의 접두사 또는 *t* 시간 간격입니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-162">Bounded staleness consistency guarantees that hello reads may lag behind writes by at most *K* versions or prefixes of an item or *t* time-interval.</span></span> 
* <span data-ttu-id="eb4d3-163">따라서 부실 바인딩 선택 "부실" hello 구성할 수 있습니다 두 가지 방법으로: 버전 번호 *K* hello 쓰기 및 hello 시간 간격의 데이터로 hello 읽기 지연 hello 항목의 *t*</span><span class="sxs-lookup"><span data-stu-id="eb4d3-163">Therefore, when choosing bounded staleness, hello "staleness" can be configured in two ways: number of versions *K* of hello item by which hello reads lag behind hello writes, and hello time interval *t*</span></span> 
* <span data-ttu-id="eb4d3-164">부실 제공 총 글로벌 제외 하 고 내에서 순서 대로 "부실 창입니다." hello 제한</span><span class="sxs-lookup"><span data-stu-id="eb4d3-164">Bounded staleness offers total global order except within hello "staleness window."</span></span> <span data-ttu-id="eb4d3-165">hello 단조 보장 내부 및 외부 "부실 창입니다." hello 영역 내에 있는 읽기</span><span class="sxs-lookup"><span data-stu-id="eb4d3-165">hello monotonic read guarantees exists within a region both inside and outside hello "staleness window."</span></span> 
* <span data-ttu-id="eb4d3-166">제한된 부실은 세션이나 최종 일관성보다 강력한 일관성 보증을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-166">Bounded staleness provides a stronger consistency guarantee than session or eventual consistency.</span></span> <span data-ttu-id="eb4d3-167">전 세계적으로 분산 응용 프로그램의 경우 여기서 toohave 강력한 일관성 있지만 99.99% 가용성 및 짧은 대기 시간을 원하는 시나리오에 대 한 경계 부실을 사용 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-167">For globally distributed applications, we recommend you use bounded staleness for scenarios where you would like toohave strong consistency but also want 99.99% availability and low latency.</span></span> 
* <span data-ttu-id="eb4d3-168">제한된 부실로 구성된 Azure Cosmos DB 계정은 Azure Cosmos DB 계정이 있는 모든 Azure 지역과 연결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-168">Azure Cosmos DB accounts that are configured with bounded staleness consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="eb4d3-169">읽기 작업 (측면에서 사용 된 Ru)의 비용으로 hello bounded 부실 세션과 결과적 일관성 보다 높습니다. 하지만 강력한 일관성으로 hello 동일 합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-169">hello cost of a read operation (in terms of RUs consumed) with bounded staleness is higher than session and eventual consistency, but hello same as strong consistency.</span></span>

<span data-ttu-id="eb4d3-170">**세션**:</span><span class="sxs-lookup"><span data-stu-id="eb4d3-170">**Session**:</span></span> 

* <span data-ttu-id="eb4d3-171">강력 하 고 bounded 부실 일관성 수준에서 제공 hello 전역 일관성 모델과 달리 세션 일관성은 범위 지정 된 tooa 클라이언트 세션입니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-171">Unlike hello global consistency models offered by strong and bounded staleness consistency levels, session consistency is scoped tooa client session.</span></span> 
* <span data-ttu-id="eb4d3-172">세션 일관성은 단조 읽기, 단조 쓰기, 사용자 고유 쓰기 읽기(RYW)를 보증하므로 장치 또는 사용자 세션이 관련된 모든 시나리오에 이상적입니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-172">Session consistency is ideal for all scenarios where a device or user session is involved since it guarantees monotonic reads, monotonic writes, and read your own writes (RYW) guarantees.</span></span> 
* <span data-ttu-id="eb4d3-173">최대 읽기 처리량 및 hello 가장 낮은 대기 시간 쓰기 및 읽기를 제공 하는 동시 및 세션 일관성은 세션에 대 한 예측 가능한 일관성을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-173">Session consistency provides predictable consistency for a session, and maximum read throughput while offering hello lowest latency writes and reads.</span></span> 
* <span data-ttu-id="eb4d3-174">세션 일관성으로 구성된 Azure Cosmos DB 계정은 Azure Cosmos DB 계정이 있는 모든 Azure 지역과 연결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-174">Azure Cosmos DB accounts that are configured with session consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="eb4d3-175">세션 일관성 수준이 강력한 및 bounded 부실 미만 이지만 이상 결과적 일관성은 읽기 작업 (측면에서 사용 된 Ru)의 비용 hello</span><span class="sxs-lookup"><span data-stu-id="eb4d3-175">hello cost of a read operation (in terms of RUs consumed) with session consistency level is less than strong and bounded staleness, but more than eventual consistency</span></span>

<span data-ttu-id="eb4d3-176"><a id="consistent-prefix"></a>
**일관적인 접두사**:</span><span class="sxs-lookup"><span data-stu-id="eb4d3-176"><a id="consistent-prefix"></a>
**Consistent Prefix**:</span></span> 

* <span data-ttu-id="eb4d3-177">일관 된 접두사는 더 이상 쓰기 없는 경우, hello 그룹 내 복제본 hello 결국 수렴 되도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-177">Consistent prefix guarantees that in absence of any further writes, hello replicas within hello group eventually converge.</span></span> 
* <span data-ttu-id="eb4d3-178">일관적인 접두사는 읽기가 잘못된 쓰기를 볼 수 없도록 보장합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-178">Consistent prefix guarantees that reads never see out of order writes.</span></span> <span data-ttu-id="eb4d3-179">쓰기 hello 순서에서 수행 된 경우 `A, B, C`, 클라이언트에 게 표시 하거나 다음 `A`, `A,B`, 또는 `A,B,C`, 되지 순서가 같은 하지만 `A,C` 또는 `B,A,C`합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-179">If writes were performed in hello order `A, B, C`, then a client sees either `A`, `A,B`, or `A,B,C`, but never out of order like `A,C` or `B,A,C`.</span></span>
* <span data-ttu-id="eb4d3-180">일관적인 접두사로 구성된 Azure Cosmos DB 계정은 Azure Cosmos DB 계정이 있는 모든 Azure 지역과 연결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-180">Azure Cosmos DB accounts that are configured with consistent prefix consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 

<span data-ttu-id="eb4d3-181">**최종**:</span><span class="sxs-lookup"><span data-stu-id="eb4d3-181">**Eventual**:</span></span> 

* <span data-ttu-id="eb4d3-182">결과적 일관성은 더 이상 쓰기 없는 경우, hello 그룹 내 복제본 hello 결국 수렴 되도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-182">Eventual consistency guarantees that in absence of any further writes, hello replicas within hello group eventually converge.</span></span> 
* <span data-ttu-id="eb4d3-183">결과적 일관성은 일관성 hello 약한 형태 클라이언트가 이전에 본 적이 hello 것 보다 오래 된 hello 값을 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-183">Eventual consistency is hello weakest form of consistency where a client may get hello values that are older than hello ones it had seen before.</span></span>
* <span data-ttu-id="eb4d3-184">결과적 일관성 hello 약한 일관성 읽었지만 결과가 제공 읽기 및 쓰기 모두에 대 한 대기 시간이 가장 짧은 hello를 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-184">Eventual consistency provides hello weakest read consistency but offers hello lowest latency for both reads and writes.</span></span>
* <span data-ttu-id="eb4d3-185">최종 일관성으로 구성된 Azure Cosmos DB 계정은 Azure Cosmos DB 계정이 있는 모든 Azure 지역과 연결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-185">Azure Cosmos DB accounts that are configured with eventual consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="eb4d3-186">읽기 작업 (측면에서 사용 된 Ru)의 비용 hello hello 결과적 일관성 수준은 hello 모든 hello Azure Cosmos DB 일관성 수준 중 가장 낮은 값입니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-186">hello cost of a read operation (in terms of RUs consumed) with hello eventual consistency level is hello lowest of all hello Azure Cosmos DB consistency levels.</span></span>

## <a name="configuring-hello-default-consistency-level"></a><span data-ttu-id="eb4d3-187">Hello 기본 일관성 수준 구성</span><span class="sxs-lookup"><span data-stu-id="eb4d3-187">Configuring hello default consistency level</span></span>
1. <span data-ttu-id="eb4d3-188">Hello에 [Azure 포털](https://portal.azure.com/)Jumpbar hello에서 클릭 **Azure Cosmos DB**합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-188">In hello [Azure portal](https://portal.azure.com/), in hello Jumpbar, click **Azure Cosmos DB**.</span></span>
2. <span data-ttu-id="eb4d3-189">Hello에 **Azure Cosmos DB** 블레이드, 선택 hello 데이터베이스 계정 toomodify 합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-189">In hello **Azure Cosmos DB** blade, select hello database account toomodify.</span></span>
3. <span data-ttu-id="eb4d3-190">Hello 계정 블레이드에서 클릭 **일관성 기본**합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-190">In hello account blade, click **Default consistency**.</span></span>
4. <span data-ttu-id="eb4d3-191">Hello에 **기본 일관성** 블레이드, 새 일관성 수준 선택 hello 및 클릭 **저장**합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-191">In hello **Default Consistency** blade, select hello new consistency level and click **Save**.</span></span>
   
    ![Hello 설정 아이콘 및 기본 일관성 항목 강조 표시 하는 스크린 샷](./media/consistency-levels/database-consistency-level-1.png)

## <a name="consistency-levels-for-queries"></a><span data-ttu-id="eb4d3-193">쿼리에 대한 일관성 수준</span><span class="sxs-lookup"><span data-stu-id="eb4d3-193">Consistency levels for queries</span></span>
<span data-ttu-id="eb4d3-194">기본적으로 사용자 정의 리소스에 대 한 hello 일관성 수준이 쿼리에 hello 같은 hello 일관성 수준에 대 한 읽기 작업이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-194">By default, for user-defined resources, hello consistency level for queries is hello same as hello consistency level for reads.</span></span> <span data-ttu-id="eb4d3-195">기본적으로 hello 인덱스는 각 삽입, 교체, 또는 항목 toohello Cosmos DB 컨테이너의 삭제에 동기적으로 업데이트 됩니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-195">By default, hello index is updated synchronously on each insert, replace, or delete of an item toohello Cosmos DB container.</span></span> <span data-ttu-id="eb4d3-196">Hello 쿼리 toohonor hello와 동일한 일관성 수준 가리킨 읽기가 사용 하도록이 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-196">This enables hello queries toohonor hello same consistency level as that of point reads.</span></span> <span data-ttu-id="eb4d3-197">Azure Cosmos DB 쓰기가 최적화 하 고 쓰기, 동기 인덱스 유지 관리 및 일관 된 쿼리를 처리할 지속적인된 볼륨을 지 원하는, 구성할 수 있습니다 컬렉션 tooupdate 특정 해당 인덱스를 지연 합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-197">While Azure Cosmos DB is write optimized and supports sustained volumes of writes, synchronous index maintenance and serving consistent queries, you can configure certain collections tooupdate their index lazily.</span></span> <span data-ttu-id="eb4d3-198">Lazy 인덱싱을 추가 hello 쓰기 성능 증폭에 적합 하며 대량 수집 시나리오 작업은 주로 읽기 많은 경우.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-198">Lazy indexing further boosts hello write performance and is ideal for bulk ingestion scenarios when a workload is primarily read-heavy.</span></span>  

| <span data-ttu-id="eb4d3-199">인덱싱 모드</span><span class="sxs-lookup"><span data-stu-id="eb4d3-199">Indexing Mode</span></span> | <span data-ttu-id="eb4d3-200">읽기</span><span class="sxs-lookup"><span data-stu-id="eb4d3-200">Reads</span></span> | <span data-ttu-id="eb4d3-201">쿼리</span><span class="sxs-lookup"><span data-stu-id="eb4d3-201">Queries</span></span> |
| --- | --- | --- |
| <span data-ttu-id="eb4d3-202">일관성(기본값)</span><span class="sxs-lookup"><span data-stu-id="eb4d3-202">Consistent (default)</span></span> |<span data-ttu-id="eb4d3-203">강력, 제한된 부실, 세션, 일관적인 접두사 또는 최종에서 선택</span><span class="sxs-lookup"><span data-stu-id="eb4d3-203">Select from strong, bounded staleness, session, consistent prefix, or eventual</span></span> |<span data-ttu-id="eb4d3-204">강력, 제한된 부실, 세션 또는 최종에서 선택</span><span class="sxs-lookup"><span data-stu-id="eb4d3-204">Select from strong, bounded staleness, session, or eventual</span></span> |
| <span data-ttu-id="eb4d3-205">지연</span><span class="sxs-lookup"><span data-stu-id="eb4d3-205">Lazy</span></span> |<span data-ttu-id="eb4d3-206">강력, 제한된 부실, 세션, 일관적인 접두사 또는 최종에서 선택</span><span class="sxs-lookup"><span data-stu-id="eb4d3-206">Select from strong, bounded staleness, session, consistent prefix, or eventual</span></span> |<span data-ttu-id="eb4d3-207">최종</span><span class="sxs-lookup"><span data-stu-id="eb4d3-207">Eventual</span></span> |
| <span data-ttu-id="eb4d3-208">없음</span><span class="sxs-lookup"><span data-stu-id="eb4d3-208">None</span></span> |<span data-ttu-id="eb4d3-209">강력, 제한된 부실, 세션, 일관적인 접두사 또는 최종에서 선택</span><span class="sxs-lookup"><span data-stu-id="eb4d3-209">Select from strong, bounded staleness, session, consistent prefix, or eventual</span></span> |<span data-ttu-id="eb4d3-210">해당 없음</span><span class="sxs-lookup"><span data-stu-id="eb4d3-210">Not applicable</span></span> |

<span data-ttu-id="eb4d3-211">읽기 요청 각 API에 특정 쿼리 요청의 hello 일관성 수준을 낮출 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-211">As with read requests, you can lower hello consistency level of a specific query request in each API.</span></span>

## <a name="next-steps"></a><span data-ttu-id="eb4d3-212">다음 단계</span><span class="sxs-lookup"><span data-stu-id="eb4d3-212">Next steps</span></span>
<span data-ttu-id="eb4d3-213">원하는 경우 toodo 더 장단점 및 일관성 수준에 대 한 읽기, 리소스 다음 hello를 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-213">If you'd like toodo more reading about consistency levels and tradeoffs, we recommend hello following resources:</span></span>

* <span data-ttu-id="eb4d3-214">Doug Terry.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-214">Doug Terry.</span></span> <span data-ttu-id="eb4d3-215">야구(비디오)를 통해 복제된 데이터 일관성을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-215">Replicated Data Consistency explained through baseball (video).</span></span>   
  [<span data-ttu-id="eb4d3-216">https://www.youtube.com/watch?v=gluIh8zd26I</span><span class="sxs-lookup"><span data-stu-id="eb4d3-216">https://www.youtube.com/watch?v=gluIh8zd26I</span></span>](https://www.youtube.com/watch?v=gluIh8zd26I)
* <span data-ttu-id="eb4d3-217">Doug Terry.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-217">Doug Terry.</span></span> <span data-ttu-id="eb4d3-218">야구를 통해 복제된 데이터 일관성을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-218">Replicated Data Consistency explained through baseball.</span></span>   
  [<span data-ttu-id="eb4d3-219">http://research.microsoft.com/pubs/157411/ConsistencyAndBaseballReport.pdf</span><span class="sxs-lookup"><span data-stu-id="eb4d3-219">http://research.microsoft.com/pubs/157411/ConsistencyAndBaseballReport.pdf</span></span>](http://research.microsoft.com/pubs/157411/ConsistencyAndBaseballReport.pdf)
* <span data-ttu-id="eb4d3-220">Doug Terry.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-220">Doug Terry.</span></span> <span data-ttu-id="eb4d3-221">약하게 일관된 복제 데이터에 대한 세션 보장입니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-221">Session Guarantees for Weakly Consistent Replicated Data.</span></span>   
  [<span data-ttu-id="eb4d3-222">http://dl.acm.org/citation.cfm?id=383631</span><span class="sxs-lookup"><span data-stu-id="eb4d3-222">http://dl.acm.org/citation.cfm?id=383631</span></span>](http://dl.acm.org/citation.cfm?id=383631)
* <span data-ttu-id="eb4d3-223">Daniel Abadi.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-223">Daniel Abadi.</span></span> <span data-ttu-id="eb4d3-224">최신 분산 데이터베이스 시스템 디자인의 일관성 장단점: hello 스토리의 일부만 한도 ".</span><span class="sxs-lookup"><span data-stu-id="eb4d3-224">Consistency Tradeoffs in Modern Distributed Database Systems Design: CAP is only part of hello story”.</span></span>   
  [<span data-ttu-id="eb4d3-225">http://computer.org/csdl/mags/co/2012/02/mco2012020037-abs.html</span><span class="sxs-lookup"><span data-stu-id="eb4d3-225">http://computer.org/csdl/mags/co/2012/02/mco2012020037-abs.html</span></span>](http://computer.org/csdl/mags/co/2012/02/mco2012020037-abs.html)
* <span data-ttu-id="eb4d3-226">Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, Joseph M. Hellerstein, Ion Stoica.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-226">Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, Joseph M. Hellerstein, Ion Stoica.</span></span> <span data-ttu-id="eb4d3-227">실용적인 부분 쿼럼에 대한 PBS(확률적 제한된 부실)입니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-227">Probabilistic Bounded Staleness (PBS) for Practical Partial Quorums.</span></span>   
  [<span data-ttu-id="eb4d3-228">http://vldb.org/pvldb/vol5/p776_peterbailis_vldb2012.pdf</span><span class="sxs-lookup"><span data-stu-id="eb4d3-228">http://vldb.org/pvldb/vol5/p776_peterbailis_vldb2012.pdf</span></span>](http://vldb.org/pvldb/vol5/p776_peterbailis_vldb2012.pdf)
* <span data-ttu-id="eb4d3-229">Werner Vogels.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-229">Werner Vogels.</span></span> <span data-ttu-id="eb4d3-230">최종 일관성 - 재고되었습니다.</span><span class="sxs-lookup"><span data-stu-id="eb4d3-230">Eventual Consistent - Revisited.</span></span>    
  [<span data-ttu-id="eb4d3-231">http://allthingsdistributed.com/2008/12/eventually_consistent.html</span><span class="sxs-lookup"><span data-stu-id="eb4d3-231">http://allthingsdistributed.com/2008/12/eventually_consistent.html</span></span>](http://allthingsdistributed.com/2008/12/eventually_consistent.html)
* <span data-ttu-id="eb4d3-232">Moni Naor, Avishai 울, hello 부하, 용량 및 쿼럼 가용성 시스템, 컴퓨팅, v.27 n.2, p.423 447, 1998 년 4 월에 SIAM 저널</span><span class="sxs-lookup"><span data-stu-id="eb4d3-232">Moni Naor , Avishai Wool, hello Load, Capacity, and Availability of Quorum Systems, SIAM Journal on Computing, v.27 n.2, p.423-447, April 1998.</span></span>
  [<span data-ttu-id="eb4d3-233">http://epubs.siam.org/doi/abs/10.1137/S0097539795281232</span><span class="sxs-lookup"><span data-stu-id="eb4d3-233">http://epubs.siam.org/doi/abs/10.1137/S0097539795281232</span></span>](http://epubs.siam.org/doi/abs/10.1137/S0097539795281232)
* <span data-ttu-id="eb4d3-234">Sebastian Burckhardt, Chris Dern, Macanal Musuvathi로 Tan, 줄 위로:는 완전 하 고 자동 linearizability 검사 하는 프로그래밍 언어 디자인 및 구현, 2010 년 6 월 10 05에 우선, hello 2010 ACM SIGPLAN 회의의 절차 캐나다 [doi > 10.1145/1806596.1806634] [http://dl.acm.org/citation.cfm?id=1806634](http://dl.acm.org/citation.cfm?id=1806634)</span><span class="sxs-lookup"><span data-stu-id="eb4d3-234">Sebastian Burckhardt, Chris Dern, Macanal Musuvathi, Roy Tan, Line-up: a complete and automatic linearizability checker, Proceedings of hello 2010 ACM SIGPLAN conference on Programming language design and implementation, June 05-10, 2010, Toronto, Ontario, Canada  [doi>10.1145/1806596.1806634] [http://dl.acm.org/citation.cfm?id=1806634](http://dl.acm.org/citation.cfm?id=1806634)</span></span>
* <span data-ttu-id="eb4d3-235">제한 부실 실용적인 부분 쿼럼, hello VLDB (영 특), v.5 n.8, p.776 787, 2012 년 4 월의 절차에 대해 Peter Bailis, Shivaram Venkataraman, Michael J. 프랭클린, 있습니다 M. Hellerstein 이온 Stoica [http:// dl.acm.org/citation.cfm?id=2212359](http://dl.acm.org/citation.cfm?id=2212359)</span><span class="sxs-lookup"><span data-stu-id="eb4d3-235">Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, Joseph M. Hellerstein , Ion Stoica, Probabilistically bounded staleness for practical partial quorums, Proceedings of hello VLDB Endowment, v.5 n.8, p.776-787, April 2012 [http://dl.acm.org/citation.cfm?id=2212359](http://dl.acm.org/citation.cfm?id=2212359)</span></span>
