---
title: "Azure Site Recovery에서 테스트 장애 조치(failover)(VMM에서 VMM으로) | Microsoft Docs"
description: "Azure Site Recovery는 가상 컴퓨터 및 실제 서버의 복제, 장애 조치 및 복구를 조정합니다. Azure로 또는 보조 데이터 센터로 장애 조치에 대해 알아봅니다."
services: site-recovery
documentationcenter: 
author: prateek9us
manager: gauravd
editor: 
ms.assetid: 44813a48-c680-4581-a92e-cecc57cc3b1e
ms.service: site-recovery
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: storage-backup-recovery
ms.date: 06/05/2017
ms.author: pratshar
ms.openlocfilehash: afc4790d5714ce7145c8f4291a05acc2e9882a9b
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/11/2017
---
# <a name="test-failover-vmm-to-vmm-in-site-recovery"></a><span data-ttu-id="eac26-104">Site Recovery에서 테스트 장애 조치(failover)(VMM에서 VMM으로)</span><span class="sxs-lookup"><span data-stu-id="eac26-104">Test failover (VMM to VMM) in Site Recovery</span></span>


<span data-ttu-id="eac26-105">이 문서는 Azure Site Recovery로 보호되는 VM(가상 컴퓨터) 및 물리적 서버의 테스트 장애 조치(failover) 또는 DR(재해 복구) 훈련을 수행하기 위한 정보와 지침을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-105">This article provides information and instructions for doing a test failover or a disaster recovery (DR) drill of virtual machines (VMs) and physical servers that are protected with Azure Site Recovery.</span></span> <span data-ttu-id="eac26-106">System Center VMM(Virtual Machine Manager) 관리 온-프레미스 사이트를 복구 사이트로 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-106">You'll use a System Center Virtual Machine Manager (VMM)-managed on-premises site as the recovery site.</span></span>

<span data-ttu-id="eac26-107">데이터 손실 또는 가동 중지 없이 복제 전략의 유효성을 검사하거나 DR 훈련을 수행하기 위해 테스트 장애 조치(failover)를 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-107">You run a test failover to validate your replication strategy or perform a DR drill without any data loss or downtime.</span></span> <span data-ttu-id="eac26-108">테스트 장애 조치(failover)는 진행 중인 복제 또는 프로덕션 환경에 영향을 주지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-108">A test failover doesn't have any impact on the ongoing replication or on your production environment.</span></span> <span data-ttu-id="eac26-109">가상 컴퓨터 또는 [복구 계획](site-recovery-create-recovery-plans.md)에서 실행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-109">You can run it on either a virtual machine or a [recovery plan](site-recovery-create-recovery-plans.md).</span></span> <span data-ttu-id="eac26-110">테스트 장애 조치(failover)를 트리거할 때 테스트 가상 컴퓨터를 연결할 네트워크를 지정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-110">When you're triggering a test failover, you need to specify the network that the test virtual machines will connect to.</span></span> <span data-ttu-id="eac26-111">**작업** 페이지에서 테스트 장애 조치(failover)의 진행률을 추적할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-111">You can track the progress of the test failover on the **Jobs** page.</span></span>  

<span data-ttu-id="eac26-112">의견이나 질문이 있는 경우 이 문서의 하단 또는 [Azure Recovery Services 포럼](https://social.msdn.microsoft.com/forums/azure/home?forum=hypervrecovmgr)에 게시합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-112">If you have any comments or questions, post them at the bottom of this article or on the [Azure Recovery Services Forum](https://social.msdn.microsoft.com/forums/azure/home?forum=hypervrecovmgr).</span></span>


## <a name="prepare-the-infrastructure-for-test-failover"></a><span data-ttu-id="eac26-113">테스트 장애 조치(failover)를 위한 인프라 준비</span><span class="sxs-lookup"><span data-stu-id="eac26-113">Prepare the infrastructure for test failover</span></span>
<span data-ttu-id="eac26-114">기존 네트워크를 사용하여 테스트 장애 조치(failover)를 실행하려는 경우 해당 네트워크에서 Active Directory, DHCP 및 DNS를 준비합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-114">If you want to run a test failover by using an existing network, prepare Active Directory, DHCP, and DNS in that network.</span></span>

<span data-ttu-id="eac26-115">VM 네트워크를 자동으로 만드는 옵션을 사용하여 테스트 장애 조치(failover)를 실행하려는 경우 테스트 장애 조치(failover)에 사용할 복구 계획에서 그룹 1 앞에 수동 단계를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-115">If you want to run a test failover by using the option to create VM networks automatically, add a manual step before Group-1 in the recovery plan that you’re going to use for the test failover.</span></span> <span data-ttu-id="eac26-116">그런 다음 테스트 장애 조치(failover)를 실행하기 전에 자동으로 만든 네트워크에 인프라 리소스를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-116">Then, add the infrastructure resources to the automatically created network before you run the test failover.</span></span>

### <a name="things-to-note"></a><span data-ttu-id="eac26-117">주의할 사항</span><span class="sxs-lookup"><span data-stu-id="eac26-117">Things to note</span></span>
<span data-ttu-id="eac26-118">보조 사이트에 복제 시, 복제 컴퓨터에서 사용하는 네트워크 유형이 테스트 장애 조치에 사용되는 논리 네트워크 유형과 일치해야 하는 것은 아니지만 일부 조합이 작동하지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-118">When you're replicating to a secondary site, the type of network that the replica machine uses doesn’t need to match the type of logical network used for test failover, but some combinations might not work.</span></span> <span data-ttu-id="eac26-119">복제본에서 DHCP 및 VLAN 기반 격리를 사용하는 경우 복제본에 대한 VM 네트워크는 고정 IP 주소 풀이 필요하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-119">If the replica uses DHCP and VLAN-based isolation, the VM network for the replica doesn't need a static IP address pool.</span></span> <span data-ttu-id="eac26-120">따라서 사용 가능한 주소 풀이 없으므로 테스트 장애 조치에 대한 Windows 네트워크 가상화의 사용이 작동하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-120">So using Windows Network Virtualization for the test failover won't work because no address pools are available.</span></span> 

<span data-ttu-id="eac26-121">또한 복제본 네트워크가 격리 없음을 사용하고 테스트 네트워크가 Windows 네트워크 가상화를 사용하는 경우 테스트 장애 조치(failover)가 작동하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-121">In addition, the test failover won't work if the replica network uses no isolation and the test network uses Windows Network Virtualization.</span></span> <span data-ttu-id="eac26-122">이것은 격리 없는 네트워크에 Windows 네트워크 가상화 네트워크를 만드는 데 필요한 서브넷이 없기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-122">This is because the no-isolation network doesn't have the subnets required to create a Windows Network Virtualization network.</span></span>

<span data-ttu-id="eac26-123">장애 조치 후에 복제본 가상 컴퓨터가 매핑된 VM 네트워크에 연결된 방식은 VM네트워크가 VMM 콘솔에서 구성된 방식에 따라 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-123">How replica virtual machines are connected to mapped VM networks after failover depends on how the VM network is configured in the VMM console.</span></span>

#### <a name="vm-network-configured-with-no-isolation-or-vlan-isolation"></a><span data-ttu-id="eac26-124">격리 없음 또는 VLAN 격리로 구성된 VM 네트워크</span><span class="sxs-lookup"><span data-stu-id="eac26-124">VM network configured with no isolation or VLAN isolation</span></span>
<span data-ttu-id="eac26-125">DHCP가 VM 네트워크에 대해 정의된 경우 복제본 가상 컴퓨터가 관련된 논리 네트워크 내 네트워크 사이트에 대해 지정된 설정을 통해 VLAN ID에 연결됩니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-125">If DHCP is defined for the VM network, the replica virtual machine is connected to the VLAN ID through the settings that are specified for the network site in the associated logical network.</span></span> <span data-ttu-id="eac26-126">가상 컴퓨터는 사용 가능한 DHCP 서버로부터 IP 주소를 수신합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-126">The virtual machine receives its IP address from the available DHCP server.</span></span> 

<span data-ttu-id="eac26-127">대상 VM 네트워크에 대해 고정 IP 주소 풀을 정의할 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-127">You don't need to define a static IP address pool for the target VM network.</span></span> <span data-ttu-id="eac26-128">VM 네트워크에 대해 고정 IP 주소 풀이 사용되는 경우 복제본 가상 컴퓨터가 관련된 논리 네트워크 내 네트워크 사이트에 대해 지정된 설정을 통해 VLAN ID에 연결됩니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-128">If a static IP address pool is used for the VM network, the replica virtual machine is connected to the VLAN ID through the settings that are specified for the network site in the associated logical network.</span></span>

<span data-ttu-id="eac26-129">가상 컴퓨터는 VM 네트워크에 대해 지정된 풀로부터 IP 주소를 수신합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-129">The virtual machine receives its IP address from the pool that's defined for the VM network.</span></span> <span data-ttu-id="eac26-130">고정 IP 주소 풀이 대상 VM 네트워크에 정의되어 있다면 IP 주소 할당이 실패합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-130">If a static IP address pool isn't defined on the target VM network, IP address allocation will fail.</span></span> <span data-ttu-id="eac26-131">보호 및 복구에 사용하려는 원본과 대상 VMM 서버 모두에 IP 주소 풀을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-131">Create the IP address pool on both the source and target VMM servers that you will use for protection and recovery.</span></span>

#### <a name="vm-network-with-windows-network-virtualization"></a><span data-ttu-id="eac26-132">Windows 네트워크 가상화를 사용하여 VM 네트워크</span><span class="sxs-lookup"><span data-stu-id="eac26-132">VM network with Windows Network Virtualization</span></span>
<span data-ttu-id="eac26-133">VM 네트워크가 Windows 네트워크 가상화를 사용하여 구성된 경우 원본 VM 네트워크가 DHCP 또는 고정 IP 주소 풀을 사용하도록 구성되었는지 여부에 상관 없이 대상 VM 네트워크에 대해 고정 풀을 정의해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-133">If a VM network is configured with Windows Network Virtualization, you should define a static pool for the target VM network, regardless of whether the source VM network is configured to use DHCP or a static IP address pool.</span></span> 

<span data-ttu-id="eac26-134">DHCP를 정의하는 경우 대상 VMM 서버가 DHCP 서버 역할을 하며, 대상 VM 네트워크에 대해 정의된 풀로부터 IP 주소를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-134">If you define DHCP, the target VMM server acts as a DHCP server and provides an IP address from the pool that's defined for the target VM network.</span></span> <span data-ttu-id="eac26-135">고정 IP 주소 풀의 사용이 원본 서버에 대해 정의 되어 있다면 대상 VMM 서버가 풀로부터 IP 주소를 할당합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-135">If use of a static IP address pool is defined for the source server, the target VMM server allocates an IP address from the pool.</span></span> <span data-ttu-id="eac26-136">두 경우 모두, 고정 IP 주소 풀이 정의되어 있지 않으면 IP 주소 할당이 실패합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-136">In both cases, IP address allocation will fail if a static IP address pool is not defined.</span></span>


### <a name="prepare-dhcp"></a><span data-ttu-id="eac26-137">DHCP 준비</span><span class="sxs-lookup"><span data-stu-id="eac26-137">Prepare DHCP</span></span>
<span data-ttu-id="eac26-138">테스트 장애 조치에 사용되는 가상 컴퓨터가 DHCP를 사용하는 경우 테스트 장애 조치의 목적을 위해 격리된 네트워크 내에 테스트 DHCP 서버를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-138">If the virtual machines involved in test failover use DHCP, create a test DHCP server within the isolated network for the purpose of test failover.</span></span>

### <a name="prepare-active-directory"></a><span data-ttu-id="eac26-139">Active Directory 준비</span><span class="sxs-lookup"><span data-stu-id="eac26-139">Prepare Active Directory</span></span>
<span data-ttu-id="eac26-140">응용프로그램 테스트를 위해 테스트 장애 조치를 실행하려면 테스트 환경에서 프로덕션 Active Directory 환경의 복사본이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-140">To run a test failover for application testing, you need a copy of the production Active Directory environment in your test environment.</span></span> <span data-ttu-id="eac26-141">자세한 내용은 [Active Directory의 테스트 장애 조치(failover) 시 고려 사항](site-recovery-active-directory.md#test-failover-considerations)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="eac26-141">For more information, review the [test failover considerations for Active Directory](site-recovery-active-directory.md#test-failover-considerations).</span></span>

### <a name="prepare-dns"></a><span data-ttu-id="eac26-142">DNS 준비</span><span class="sxs-lookup"><span data-stu-id="eac26-142">Prepare DNS</span></span>
<span data-ttu-id="eac26-143">다음과 같이 테스트 장애 조치에 대한 DNS 서버를 준비합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-143">Prepare a DNS server for the test failover as follows:</span></span>

* <span data-ttu-id="eac26-144">**DHCP**: 가상 컴퓨터에서 DHCP를 사용하는 경우 테스트 DNS의 IP 주소를 테스트 DHCP 서버에서 업데이트해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-144">**DHCP**: If virtual machines use DHCP, the IP address of the test DNS should be updated on the test DHCP server.</span></span> <span data-ttu-id="eac26-145">네트워크 유형의 Windows 네트워크 가상화를 사용하는 경우 VMM 서버가 DHCP 서버로 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-145">If you’re using a network type of Windows Network Virtualization, the VMM server acts as the DHCP server.</span></span> <span data-ttu-id="eac26-146">따라서 테스트 장애 조치(failover) 네트워크에서 DNS의 IP 주소가 업데이트되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-146">Therefore, the IP address of DNS should be updated in the test failover network.</span></span> <span data-ttu-id="eac26-147">이 경우 가상 컴퓨터가 관련 DNS 서버에 자체 등록됩니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-147">In this case, the virtual machines register themselves to the relevant DNS server.</span></span>
* <span data-ttu-id="eac26-148">**고정 주소**: 가상 컴퓨터가 고정 IP 주소를 사용하는 경우 테스트 장애 조치(failover)에서 테스트 DNS 서버의 IP 주소를 업데이트해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-148">**Static address**: If virtual machines use a static IP address, the IP address of the test DNS server should be updated in test failover network.</span></span> <span data-ttu-id="eac26-149">테스트 가상 컴퓨터의 IP 주소로 DNS를 업데이트해야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-149">You might need to update DNS with the IP address of the test virtual machines.</span></span> <span data-ttu-id="eac26-150">이러한 용도로 다음 예제 스크립트를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-150">You can use the following sample script for this purpose:</span></span>

        Param(
        [string]$Zone,
        [string]$name,
        [string]$IP
        )
        $Record = Get-DnsServerResourceRecord -ZoneName $zone -Name $name
        $newrecord = $record.clone()
        $newrecord.RecordData[0].IPv4Address  =  $IP
        Set-DnsServerResourceRecord -zonename $zone -OldInputObject $record -NewInputObject $Newrecord



## <a name="run-a-test-failover"></a><span data-ttu-id="eac26-151">테스트 장애 조치(Failover) 실행</span><span class="sxs-lookup"><span data-stu-id="eac26-151">Run a test failover</span></span>
<span data-ttu-id="eac26-152">이 절차는 복구 계획에 대한 테스트 장애 조치를 실행하는 방법을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-152">This procedure describes how to run a test failover for a recovery plan.</span></span> <span data-ttu-id="eac26-153">또는 **가상 컴퓨터** 탭에서 단일 가상 컴퓨터에 대한 장애 조치를 실행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-153">Alternatively, you can run the failover for a single virtual machine on the **Virtual Machines** tab.</span></span>

![테스트 장애 조치(Failover) 블레이드](./media/site-recovery-test-failover-vmm-to-vmm/TestFailover.png)

1. <span data-ttu-id="eac26-155">**복구 계획** > *recoveryplan_name*을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-155">Select **Recovery Plans** > *recoveryplan_name*.</span></span> <span data-ttu-id="eac26-156">**장애 조치(Failover)** > **Test 장애 조치(Failover)**에서 의견이나 질문을 게시합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-156">Click **Failover** > **Test Failover**.</span></span>
1. <span data-ttu-id="eac26-157">**테스트 장애 조치** 블레이드에서 테스트 장애 조치(failover) 후에 가상 컴퓨터를 네트워크에 연결할 방법을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-157">On the **Test Failover** blade, specify how virtual machines should be connected to networks after the test failover.</span></span> <span data-ttu-id="eac26-158">자세한 내용은 [네트워크 옵션](#network-options-in-site-recovery)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="eac26-158">For more information, see the [network options](#network-options-in-site-recovery).</span></span>
1. <span data-ttu-id="eac26-159">**작업** 탭에서 장애 조치 진행 상황을 추적합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-159">Track failover progress on the **Jobs** tab.</span></span>
1. <span data-ttu-id="eac26-160">장애 조치(failover)가 완료되면 가상 컴퓨터가 성공적으로 시작되는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-160">After failover is complete, verify that the virtual machines start successfully.</span></span>
1. <span data-ttu-id="eac26-161">작업이 완료되면 복구 계획에서 **테스트 장애 조치 정리**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-161">When you're done, click **Cleanup test failover** on the recovery plan.</span></span> <span data-ttu-id="eac26-162">**참고**에서 테스트 장애 조치와 관련된 모든 관측 내용을 기록하고 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-162">In **Notes**, record and save any observations associated with the test failover.</span></span> <span data-ttu-id="eac26-163">이 단계는 테스트 장애 조치(failover) 중에 생성된 가상 컴퓨터 및 네트워크를 삭제합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-163">This step deletes the virtual machines and networks that were created during test failover.</span></span>


## <a name="network-options-in-site-recovery"></a><span data-ttu-id="eac26-164">Site Recovery의 네트워크 옵션</span><span class="sxs-lookup"><span data-stu-id="eac26-164">Network options in Site Recovery</span></span>

<span data-ttu-id="eac26-165">테스트 장애 조치를 실행하면 테스트 복제 컴퓨터에 대한 네트워크 설정을 선택하라는 메시지가 나타납니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-165">When you run a test failover, you're asked to select network settings for test replica machines.</span></span> <span data-ttu-id="eac26-166">여러 옵션이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-166">You have multiple options.</span></span>  

| <span data-ttu-id="eac26-167">**테스트 장애 조치 옵션**</span><span class="sxs-lookup"><span data-stu-id="eac26-167">**Test failover option**</span></span> | <span data-ttu-id="eac26-168">**설명**</span><span class="sxs-lookup"><span data-stu-id="eac26-168">**Description**</span></span> | <span data-ttu-id="eac26-169">**장애 조치 검사**</span><span class="sxs-lookup"><span data-stu-id="eac26-169">**Failover check**</span></span> | <span data-ttu-id="eac26-170">**세부 정보**</span><span class="sxs-lookup"><span data-stu-id="eac26-170">**Details**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="eac26-171">**보조 VMM 사이트로 장애 조치--네트워크 없이**</span><span class="sxs-lookup"><span data-stu-id="eac26-171">**Fail over to a secondary VMM site--without network**</span></span> |<span data-ttu-id="eac26-172">VM 네트워크를 선택하지 마십시오.</span><span class="sxs-lookup"><span data-stu-id="eac26-172">Don't select a VM network.</span></span> |<span data-ttu-id="eac26-173">장애 조치(failover)에서 테스트 컴퓨터가 생성되었는지 확인</span><span class="sxs-lookup"><span data-stu-id="eac26-173">Failover checks that test machines are created.</span></span><br/><br/><span data-ttu-id="eac26-174">테스트 가상 컴퓨터는 복제본 가상 컴퓨터가 있는 호스트에 생성됩니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-174">The test virtual machine is created on the host where the replica virtual machine exists.</span></span> <span data-ttu-id="eac26-175">복제본 가상 컴퓨터가 있는 클라우드에는 추가되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-175">It isn’t added to the cloud where the replica virtual machine is located.</span></span> |<p><span data-ttu-id="eac26-176">장애 조치된 컴퓨터는 네트워크에 연결되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-176">The failed-over machine isn’t connected to any network.</span></span><br/><br/><span data-ttu-id="eac26-177">컴퓨터는 생성된 후에 VM 네트워크에 연결될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-177">The machine can be connected to a VM network after it has been created.</span></span> |
| <span data-ttu-id="eac26-178">**보조 VMM 사이트로 장애 조치--네트워크 사용**</span><span class="sxs-lookup"><span data-stu-id="eac26-178">**Fail over to a secondary VMM site--with network**</span></span> |<span data-ttu-id="eac26-179">기존 VM 네트워크를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-179">Select an existing VM network.</span></span> |<span data-ttu-id="eac26-180">장애 조치가 가상 컴퓨터 만들어졌는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-180">Failover checks that virtual machines are created.</span></span> |<span data-ttu-id="eac26-181">테스트 가상 컴퓨터는 복제본 가상 컴퓨터가 있는 호스트에 생성됩니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-181">The test virtual machine is created on the host where the replica virtual machine exists.</span></span> <span data-ttu-id="eac26-182">복제본 가상 컴퓨터가 있는 클라우드에는 추가되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-182">It isn’t added to the cloud where the replica virtual machine is located.</span></span><br/><br/><span data-ttu-id="eac26-183">프로덕션 네트워크에서 격리된 VM 네트워크를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-183">Create a VM network that's isolated from your production network.</span></span><br/><br/><span data-ttu-id="eac26-184">권장되는 VLAN 기반 네트워크를 사용하는 경우 이 목적을 위해 VMM에서 별도의 논리 네트워크(프로덕션에 사용되지 않음)를 만드는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-184">If you're using a VLAN-based network, we recommend that you create a separate logical network (not used in production) in VMM for this purpose.</span></span> <span data-ttu-id="eac26-185">이 논리 네트워크는 테스트 장애 조치(failover)에 대한 VM 네트워크를 만드는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-185">This logical network is used to create VM networks for test failovers.</span></span><br/><br/><span data-ttu-id="eac26-186">논리 네트워크는 가상 컴퓨터를 호스트하는 모든 Hyper-V 서버에 있는 하나 이상의 네트워크 어댑터에 연결해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-186">The logical network should be associated with at least one of the network adapters of all the Hyper-V servers that are hosting virtual machines.</span></span><br/><br/><span data-ttu-id="eac26-187">VLAN 논리 네트워크의 경우 논리 네트워크에 추가한 네트워크 사이트는 격리되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-187">For VLAN logical networks, the network sites that you add to the logical network should be isolated.</span></span><br/><br/><span data-ttu-id="eac26-188">Windows 네트워크 가상화 기반의 논리 네트워크를 사용한다면 Azure Site Recovery가 격리된 VM 네트워크를 자동으로 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-188">If you’re using a Windows Network Virtualization–based logical network, Azure Site Recovery automatically creates isolated VM networks.</span></span> |
| <span data-ttu-id="eac26-189">**보조 VMM 사이트로 장애 조치--네트워크 만들기**</span><span class="sxs-lookup"><span data-stu-id="eac26-189">**Fail over to a secondary VMM site--create a network**</span></span> |<span data-ttu-id="eac26-190">임시 테스트 네트워크가 **논리 네트워크**에서 지정한 설정 및 관련 네트워크 사이트를 기반으로 자동 생성됩니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-190">A temporary test network is created automatically based on the setting that you specify in **Logical Network** and its related network sites.</span></span> |<span data-ttu-id="eac26-191">장애 조치가 가상 컴퓨터 만들어졌는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-191">Failover checks that virtual machines are created.</span></span> |<span data-ttu-id="eac26-192">복구 계획에서 VM 네트워크를 두 개 이상 사용할 경우 이 옵션을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-192">Use this option if the recovery plan uses more than one VM network.</span></span> <span data-ttu-id="eac26-193">Windows 네트워크 가상화 네트워크를 사용하는 경우 이 옵션을 사용하여 복제 가상 컴퓨터의 네트워크에서 동일한 설정(서브넷 및 IP 주소 풀)으로 VM 네트워크를 자동으로 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-193">If you're using Windows Network Virtualization networks, this option can automatically create VM networks with the same settings (subnets and IP address pools) in the network of the replica virtual machine.</span></span> <span data-ttu-id="eac26-194">테스트 장애 조치 완료 후 이러한 VM 네트워크는 자동으로 정리됩니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-194">These VM networks are cleaned up automatically after the test failover is complete.</span></span></p><p><span data-ttu-id="eac26-195">테스트 가상 컴퓨터는 복제본 가상 컴퓨터가 있는 호스트에 생성됩니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-195">The test virtual machine is created on the host where the replica virtual machine exists.</span></span> <span data-ttu-id="eac26-196">복제본 가상 컴퓨터가 있는 클라우드에는 추가되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-196">It isn’t added to the cloud where the replica virtual machine is located.</span></span> |

> [!TIP]
> <span data-ttu-id="eac26-197">테스트 장애 조치(failover) 중에 가상 컴퓨터에 제공된 IP 주소는 이 IP 주소가 테스트 장애 조치(failover) 네트워크에서 사용할 수 있는 경우, 가상 컴퓨터가 계획되거나 계획되지 않은 장애 조치(failover)에 대해 수신하게 되는 동일한 IP 주소입니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-197">The IP address given to a virtual machine during test failover is the same IP address that the virtual machine would receive for a planned or unplanned failover (presuming that the IP address is available in the test failover network).</span></span> <span data-ttu-id="eac26-198">동일한 IP 주소를 테스트 장애 조치(failover) 네트워크에서 사용할 수 없는 경우 가상 컴퓨터는 테스트 장애 조치(failover) 네트워크에서 사용 가능한 다른 IP 주소를 받게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-198">If the same IP address isn't available in the test failover network, the virtual machine receives another IP address that's available in the test failover network.</span></span>
>
>


## <a name="test-failover-to-a-production-network-on-a-recovery-site"></a><span data-ttu-id="eac26-199">복구 사이트의 프로덕션 네트워크로 테스트 장애 조치(failover)</span><span class="sxs-lookup"><span data-stu-id="eac26-199">Test failover to a production network on a recovery site</span></span>
<span data-ttu-id="eac26-200">테스트 장애 조치(Failover)를 수행할 때 [네트워크 매핑](https://docs.microsoft.com/azure/site-recovery/site-recovery-network-mapping)에서 입력한 프로덕션 복구 사이트 네트워크와 다른 네트워크를 선택하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-200">We recommend that when you're doing a test failover, you choose a network that is different from your production recovery site network that you provided in [network mapping](https://docs.microsoft.com/azure/site-recovery/site-recovery-network-mapping).</span></span> <span data-ttu-id="eac26-201">그러나 장애 조치된 가상 컴퓨터에서 종단 간 네트워크 연결의 유효성을 실제로 검사하려는 경우 다음 사항에 유의하세요.</span><span class="sxs-lookup"><span data-stu-id="eac26-201">But if you really want to validate end-to-end network connectivity in a failed-over virtual machine, note the following points:</span></span>

* <span data-ttu-id="eac26-202">테스트 장애 조치(failover)를 수행할 때 기본 가상 컴퓨터를 종료합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-202">Make sure that the primary virtual machine is shut down when you're doing the test failover.</span></span> <span data-ttu-id="eac26-203">이렇게 하지 않으면 동일한 ID의 두 가상 컴퓨터는 동시에 동일한 네트워크에서 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-203">If you don't, two virtual machines with the same identity will be running in the same network at the same time.</span></span> <span data-ttu-id="eac26-204">이 경우 원치 않는 결과가 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-204">That situation can lead to undesired consequences.</span></span>
* <span data-ttu-id="eac26-205">테스트 장애 조치(failover) 가상 컴퓨터에 수행하는 모든 변경 내용은 테스트 장애 조치(failover) 가상 컴퓨터를 정리할 때 손실됩니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-205">Any changes that you make to the test failover virtual machines are lost when you clean up the test failover virtual machines.</span></span> <span data-ttu-id="eac26-206">이러한 변경 내용은 기본 가상 컴퓨터에 다시 복제되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-206">These changes are not replicated back to the primary virtual machine.</span></span>
* <span data-ttu-id="eac26-207">이러한 방법으로 테스트를 수행하면 프로덕션 응용 프로그램이 가동 중지되는 결과를 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-207">This way of doing testing leads to downtime for your production application.</span></span> <span data-ttu-id="eac26-208">DR 훈련이 진행 중인 동안에는 응용 프로그램을 사용하지 말라고 응용 프로그램 사용자에게 요청합니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-208">Ask users of the application not to use the application when the DR drill is in progress.</span></span>  


## <a name="next-steps"></a><span data-ttu-id="eac26-209">다음 단계</span><span class="sxs-lookup"><span data-stu-id="eac26-209">Next steps</span></span>
<span data-ttu-id="eac26-210">테스트 장애 조치(failover)를 성공적으로 실행한 후에는 [장애 조치](site-recovery-failover.md)(failover)를 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="eac26-210">After you have successfully run a test failover, you can try a [failover](site-recovery-failover.md).</span></span>
