---
title: "유효성 검사-Microsoft 위협 모델링 도구-Azure aaaInput | Microsoft Docs"
description: "hello 위협 모델링 도구에에서 노출 위협에 대 한 완화"
services: security
documentationcenter: na
author: RodSan
manager: RodSan
editor: RodSan
ms.assetid: na
ms.service: security
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: rodsan
ms.openlocfilehash: 823503881f4bae292ef021834d5e64acf2a0f54a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="security-frame-input-validation--mitigations"></a><span data-ttu-id="1b10c-103">보안 프레임: 입력 유효성 검사 | 완화</span><span class="sxs-lookup"><span data-stu-id="1b10c-103">Security Frame: Input Validation | Mitigations</span></span> 
| <span data-ttu-id="1b10c-104">제품/서비스</span><span class="sxs-lookup"><span data-stu-id="1b10c-104">Product/Service</span></span> | <span data-ttu-id="1b10c-105">문서</span><span class="sxs-lookup"><span data-stu-id="1b10c-105">Article</span></span> |
| --------------- | ------- |
| <span data-ttu-id="1b10c-106">**웹 응용 프로그램**</span><span class="sxs-lookup"><span data-stu-id="1b10c-106">**Web Application**</span></span> | <ul><li>[<span data-ttu-id="1b10c-107">신뢰할 수 없는 스타일시트를 사용하는 모든 변환에 대해 XSLT 스크립팅을 사용하지 않도록 설정</span><span class="sxs-lookup"><span data-stu-id="1b10c-107">Disable XSLT scripting for all transforms using untrusted style sheets</span></span>](#disable-xslt)</li><li>[<span data-ttu-id="1b10c-108">사용자가 제어할 수 있는 콘텐츠를 포함할 수 있는 각 페이지가 자동 MIME 스니핑에서 옵트아웃하는지 확인</span><span class="sxs-lookup"><span data-stu-id="1b10c-108">Ensure that each page that could contain user controllable content opts out of automatic MIME sniffing</span></span>](#out-sniffing)</li><li>[<span data-ttu-id="1b10c-109">XML 엔터티 확인 확정 또는 사용 중지</span><span class="sxs-lookup"><span data-stu-id="1b10c-109">Harden or Disable XML Entity Resolution</span></span>](#xml-resolution)</li><li>[<span data-ttu-id="1b10c-110">http.sys를 활용하는 응용 프로그램에서 URL 정형화 확인 수행</span><span class="sxs-lookup"><span data-stu-id="1b10c-110">Applications utilizing http.sys perform URL canonicalization verification</span></span>](#app-verification)</li><li>[<span data-ttu-id="1b10c-111">사용자의 파일을 허용할 때 적절한 제어가 수행되는지 확인</span><span class="sxs-lookup"><span data-stu-id="1b10c-111">Ensure appropriate controls are in place when accepting files from users</span></span>](#controls-users)</li><li>[<span data-ttu-id="1b10c-112">웹 응용 프로그램에서 데이터 액세스를 위해 형식이 안전한 매개 변수를 사용하는지 확인</span><span class="sxs-lookup"><span data-stu-id="1b10c-112">Ensure that type-safe parameters are used in Web Application for data access</span></span>](#typesafe)</li><li>[<span data-ttu-id="1b10c-113">별도 모델 필터 목록 tooprevent MVC 대량 할당 취약점을 바인딩 또는 바인딩 클래스를 사용 하 여</span><span class="sxs-lookup"><span data-stu-id="1b10c-113">Use separate model binding classes or binding filter lists tooprevent MVC mass assignment vulnerability</span></span>](#binding-mvc)</li><li>[<span data-ttu-id="1b10c-114">신뢰할 수 없는 웹 출력 이전 toorendering 인코딩</span><span class="sxs-lookup"><span data-stu-id="1b10c-114">Encode untrusted web output prior toorendering</span></span>](#rendering)</li><li>[<span data-ttu-id="1b10c-115">모든 문자열 형식 모델 속성에 대한 입력 유효성 검사 및 필터링 수행</span><span class="sxs-lookup"><span data-stu-id="1b10c-115">Perform input validation and filtering on all string type Model properties</span></span>](#typemodel)</li><li>[<span data-ttu-id="1b10c-116">모든 문자를 허용하는 양식 필드(예: 서식 있는 텍스트 편집기)에서 삭제 적용</span><span class="sxs-lookup"><span data-stu-id="1b10c-116">Sanitization should be applied on form fields that accept all characters, e.g, rich text editor</span></span>](#richtext)</li><li>[<span data-ttu-id="1b10c-117">기본 제공 된 인코딩 갖지 않는 DOM 요소 toosinks를 할당 하지 마십시오</span><span class="sxs-lookup"><span data-stu-id="1b10c-117">Do not assign DOM elements toosinks that do not have inbuilt encoding</span></span>](#inbuilt-encode)</li><li>[<span data-ttu-id="1b10c-118">모든 유효성 검사 hello 응용 프로그램 내에서 리디렉션을 닫히거나 안전 하 게 수행</span><span class="sxs-lookup"><span data-stu-id="1b10c-118">Validate all redirects within hello application are closed or done safely</span></span>](#redirect-safe)</li><li>[<span data-ttu-id="1b10c-119">컨트롤러 메서드에서 허용하는 모든 문자열 형식 매개 변수에 대한 입력 유효성 검사 구현</span><span class="sxs-lookup"><span data-stu-id="1b10c-119">Implement input validation on all string type parameters accepted by Controller methods</span></span>](#string-method)</li><li>[<span data-ttu-id="1b10c-120">정규식 toobad 정규식 인해 tooprevent DoS 처리에 대 한 최대 제한 시간 제한 설정</span><span class="sxs-lookup"><span data-stu-id="1b10c-120">Set upper limit timeout for regular expression processing tooprevent DoS due toobad regular expressions</span></span>](#dos-expression)</li><li>[<span data-ttu-id="1b10c-121">Razor 보기에서 Html.Raw 사용 방지</span><span class="sxs-lookup"><span data-stu-id="1b10c-121">Avoid using Html.Raw in Razor views</span></span>](#html-razor)</li></ul> | 
| <span data-ttu-id="1b10c-122">**데이터베이스**</span><span class="sxs-lookup"><span data-stu-id="1b10c-122">**Database**</span></span> | <ul><li>[<span data-ttu-id="1b10c-123">저장 프로시저에서 동적 쿼리 사용 금지</span><span class="sxs-lookup"><span data-stu-id="1b10c-123">Do not use dynamic queries in stored procedures</span></span>](#stored-proc)</li></ul> |
| <span data-ttu-id="1b10c-124">**앱 API**</span><span class="sxs-lookup"><span data-stu-id="1b10c-124">**Web API**</span></span> | <ul><li>[<span data-ttu-id="1b10c-125">모델 유효성 검사가 Web API 메서드에서 수행되는지 확인</span><span class="sxs-lookup"><span data-stu-id="1b10c-125">Ensure that model validation is done on Web API methods</span></span>](#validation-api)</li><li>[<span data-ttu-id="1b10c-126">Web API 메서드에서 허용하는 모든 문자열 형식 매개 변수에 대한 입력 유효성 검사 구현</span><span class="sxs-lookup"><span data-stu-id="1b10c-126">Implement input validation on all string type parameters accepted by Web API methods</span></span>](#string-api)</li><li>[<span data-ttu-id="1b10c-127">Web API에서 데이터 액세스를 위해 형식이 안전한 매개 변수를 사용하는지 확인</span><span class="sxs-lookup"><span data-stu-id="1b10c-127">Ensure that type-safe parameters are used in Web API for data access</span></span>](#typesafe-api)</li></ul> | 
| <span data-ttu-id="1b10c-128">**Azure Document DB**</span><span class="sxs-lookup"><span data-stu-id="1b10c-128">**Azure Document DB**</span></span> | <ul><li>[<span data-ttu-id="1b10c-129">DocumentDB에 매개 변수가 있는 SQL 쿼리 사용</span><span class="sxs-lookup"><span data-stu-id="1b10c-129">Use parametrized SQL queries for DocumentDB</span></span>](#sql-docdb)</li></ul> | 
| <span data-ttu-id="1b10c-130">**WCF**</span><span class="sxs-lookup"><span data-stu-id="1b10c-130">**WCF**</span></span> | <ul><li>[<span data-ttu-id="1b10c-131">WCF - 스키마 바인딩을 통한 입력 유효성 검사</span><span class="sxs-lookup"><span data-stu-id="1b10c-131">WCF Input validation through Schema binding</span></span>](#schema-binding)</li><li>[<span data-ttu-id="1b10c-132">WCF - 매개 변수 검사기를 통한 입력 유효성 검사</span><span class="sxs-lookup"><span data-stu-id="1b10c-132">WCF- Input validation through Parameter Inspectors</span></span>](#parameters)</li></ul> |

## <span data-ttu-id="1b10c-133"><a id="disable-xslt"></a>신뢰할 수 없는 스타일시트를 사용하는 모든 변환에 대해 XSLT 스크립팅을 사용하지 않도록 설정</span><span class="sxs-lookup"><span data-stu-id="1b10c-133"><a id="disable-xslt"></a>Disable XSLT scripting for all transforms using untrusted style sheets</span></span>

| <span data-ttu-id="1b10c-134">제목</span><span class="sxs-lookup"><span data-stu-id="1b10c-134">Title</span></span>                   | <span data-ttu-id="1b10c-135">세부 정보</span><span class="sxs-lookup"><span data-stu-id="1b10c-135">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1b10c-136">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="1b10c-136">**Component**</span></span>               | <span data-ttu-id="1b10c-137">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="1b10c-137">Web Application</span></span> | 
| <span data-ttu-id="1b10c-138">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-138">**SDL Phase**</span></span>               | <span data-ttu-id="1b10c-139">빌드</span><span class="sxs-lookup"><span data-stu-id="1b10c-139">Build</span></span> |  
| <span data-ttu-id="1b10c-140">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="1b10c-140">**Applicable Technologies**</span></span> | <span data-ttu-id="1b10c-141">일반</span><span class="sxs-lookup"><span data-stu-id="1b10c-141">Generic</span></span> |
| <span data-ttu-id="1b10c-142">**특성**</span><span class="sxs-lookup"><span data-stu-id="1b10c-142">**Attributes**</span></span>              | <span data-ttu-id="1b10c-143">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-143">N/A</span></span>  |
| <span data-ttu-id="1b10c-144">**참조**</span><span class="sxs-lookup"><span data-stu-id="1b10c-144">**References**</span></span>              | <span data-ttu-id="1b10c-145">[XSLT 보안](https://msdn.microsoft.com/library/ms763800(v=vs.85).aspx), [XsltSettings.EnableScript 속성](http://msdn.microsoft.com/library/system.xml.xsl.xsltsettings.enablescript.aspx)</span><span class="sxs-lookup"><span data-stu-id="1b10c-145">[XSLT Security](https://msdn.microsoft.com/library/ms763800(v=vs.85).aspx), [XsltSettings.EnableScript Property](http://msdn.microsoft.com/library/system.xml.xsl.xsltsettings.enablescript.aspx)</span></span> |
| <span data-ttu-id="1b10c-146">**단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-146">**Steps**</span></span> | <span data-ttu-id="1b10c-147">XSLT 스타일 시트 hello를 사용 하 여 내부 스크립팅을 지원 `<msxml:script>` 요소입니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-147">XSLT supports scripting inside style sheets using hello `<msxml:script>` element.</span></span> <span data-ttu-id="1b10c-148">그러면 XSLT 변환에 사용 된 사용자 지정 함수 toobe 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-148">This allows custom functions toobe used in an XSLT transformation.</span></span> <span data-ttu-id="1b10c-149">hello 스크립트 hello 변환을 수행 하는 hello 프로세스의 hello 컨텍스트 내에서 실행 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-149">hello script is executed under hello context of hello process performing hello transform.</span></span> <span data-ttu-id="1b10c-150">신뢰할 수 없는 코드의 신뢰할 수 없는 환경 tooprevent 실행에 있는 경우 XSLT 스크립트를 사용 하지 않도록 설정 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-150">XSLT script must be disabled when in an untrusted environment tooprevent execution of untrusted code.</span></span> <span data-ttu-id="1b10c-151">*하지만.NET을 사용 하는 경우:* XSLT 스크립트는 기본적으로 해제 하 고 설정 되어 있지 않은 명시적으로 hello를 통해 확인 해야; `XsltSettings.EnableScript` 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-151">*If using .NET:* XSLT scripting is disabled by default; however, you must ensure that it has not been explicitly enabled through hello `XsltSettings.EnableScript` property.</span></span>|

### <a name="example"></a><span data-ttu-id="1b10c-152">예제</span><span class="sxs-lookup"><span data-stu-id="1b10c-152">Example</span></span> 

```C#
XsltSettings settings = new XsltSettings();
settings.EnableScript = true; // WRONG: THIS SHOULD BE SET toofalse
```

### <a name="example"></a><span data-ttu-id="1b10c-153">예제</span><span class="sxs-lookup"><span data-stu-id="1b10c-153">Example</span></span>
<span data-ttu-id="1b10c-154">기본적으로 XSLT 스크립트는 비활성화 되어 MSXML 6.0을 사용 하 여를 사용 하는 경우 그러나는 설정 되어 있지 않은 명시적으로 AllowXsltScript hello XML DOM 개체 속성을 통해 확인 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-154">If you are using using MSXML 6.0, XSLT scripting is disabled by default; however, you must ensure that it has not been explicitly enabled through hello XML DOM object property AllowXsltScript.</span></span> 

```C#
doc.setProperty("AllowXsltScript", true); // WRONG: THIS SHOULD BE SET toofalse
```

### <a name="example"></a><span data-ttu-id="1b10c-155">예제</span><span class="sxs-lookup"><span data-stu-id="1b10c-155">Example</span></span>
<span data-ttu-id="1b10c-156">MSXML 5 이하를 사용하는 경우 XSLT 스크립팅은 기본적으로 활성화되며, 명시적으로 사용하지 않도록 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-156">If you are using MSXML 5 or below, XSLT scripting is enabled by default and you must explicitly disable it.</span></span> <span data-ttu-id="1b10c-157">Hello XML DOM 개체 속성 AllowXsltScript toofalse를 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-157">Set hello XML DOM object property AllowXsltScript toofalse.</span></span> 

```C#
doc.setProperty("AllowXsltScript", false); // CORRECT. Setting toofalse disables XSLT scripting.
```

## <span data-ttu-id="1b10c-158"><a id="out-sniffing"></a>사용자가 제어할 수 있는 콘텐츠를 포함할 수 있는 각 페이지가 자동 MIME 스니핑에서 옵트아웃하는지 확인</span><span class="sxs-lookup"><span data-stu-id="1b10c-158"><a id="out-sniffing"></a>Ensure that each page that could contain user controllable content opts out of automatic MIME sniffing</span></span>

| <span data-ttu-id="1b10c-159">제목</span><span class="sxs-lookup"><span data-stu-id="1b10c-159">Title</span></span>                   | <span data-ttu-id="1b10c-160">세부 정보</span><span class="sxs-lookup"><span data-stu-id="1b10c-160">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1b10c-161">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="1b10c-161">**Component**</span></span>               | <span data-ttu-id="1b10c-162">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="1b10c-162">Web Application</span></span> | 
| <span data-ttu-id="1b10c-163">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-163">**SDL Phase**</span></span>               | <span data-ttu-id="1b10c-164">빌드</span><span class="sxs-lookup"><span data-stu-id="1b10c-164">Build</span></span> |  
| <span data-ttu-id="1b10c-165">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="1b10c-165">**Applicable Technologies**</span></span> | <span data-ttu-id="1b10c-166">일반</span><span class="sxs-lookup"><span data-stu-id="1b10c-166">Generic</span></span> |
| <span data-ttu-id="1b10c-167">**특성**</span><span class="sxs-lookup"><span data-stu-id="1b10c-167">**Attributes**</span></span>              | <span data-ttu-id="1b10c-168">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-168">N/A</span></span>  |
| <span data-ttu-id="1b10c-169">**참조**</span><span class="sxs-lookup"><span data-stu-id="1b10c-169">**References**</span></span>              | <span data-ttu-id="1b10c-170">[IE8 보안 5부 - 포괄적 보호](http://blogs.msdn.com/ie/archive/2008/07/02/ie8-security-part-v-comprehensive-protection.aspx)(영문)</span><span class="sxs-lookup"><span data-stu-id="1b10c-170">[IE8 Security Part V - Comprehensive Protection](http://blogs.msdn.com/ie/archive/2008/07/02/ie8-security-part-v-comprehensive-protection.aspx)</span></span>  |
| <span data-ttu-id="1b10c-171">**단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-171">**Steps**</span></span> | <p><span data-ttu-id="1b10c-172">사용자가 제어할 수 있는 콘텐츠를 포함할 수 있는 각 페이지에 대 한 hello HTTP 헤더를 사용 해야 `X-Content-Type-Options:nosniff`합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-172">For each page that could contain user controllable content, you must use hello HTTP Header `X-Content-Type-Options:nosniff`.</span></span> <span data-ttu-id="1b10c-173">이 요구 사항의 toocomply, 어느 집합 hello 필수 헤더 사용자를 제어할 수 있는 콘텐츠가 포함 될 수 있는 해당 페이지에 대 한 페이지 단위로 하거나 hello 응용 프로그램의 모든 페이지에 대 한 전역적으로 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-173">toocomply with this requirement, you can either set hello required header page by page for only those pages that might contain user-controllable content, or you can set it globally for all pages in hello application.</span></span></p><p><span data-ttu-id="1b10c-174">웹 서버에서 전달 하는 파일의 각 형식에 연결 된 [MIME 형식을](http://en.wikipedia.org/wiki/Mime_type) (라고도 *콘텐츠-유형*) hello 콘텐츠 (즉, 이미지, 텍스트, 응용 프로그램 등)의 hello 특성을 설명 하는</span><span class="sxs-lookup"><span data-stu-id="1b10c-174">Each type of file delivered from a web server has an associated [MIME type](http://en.wikipedia.org/wiki/Mime_type) (also called a *content-type*) that describes hello nature of hello content (that is, image, text, application, etc.)</span></span></p><p><span data-ttu-id="1b10c-175">X-콘텐츠-유형-옵션 hello 헤더는 개발자가 사용할 수 있는 HTTP 헤더는 해당 콘텐츠 되지 않아야 MIME 스니핑 toospecify 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-175">hello X-Content-Type-Options header is an HTTP header that allows developers toospecify that their content should not be MIME-sniffed.</span></span> <span data-ttu-id="1b10c-176">이 헤더는 디자인 된 toomitigate MIME 스니핑 공격입니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-176">This header is designed toomitigate MIME-Sniffing attacks.</span></span> <span data-ttu-id="1b10c-177">IE8(Internet Explorer 8)에는 이 헤더에 대한 지원이 추가되었습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-177">Support for this header was added in Internet Explorer 8 (IE8)</span></span></p><p><span data-ttu-id="1b10c-178">IE8 사용자만 X-Content-Type-Options의 이점을 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-178">Only users of Internet Explorer 8 (IE8) will benefit from X-Content-Type-Options.</span></span> <span data-ttu-id="1b10c-179">이전 버전의 Internet Explorer hello X-콘텐츠-유형-옵션 헤더를 현재 적용 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-179">Previous versions of Internet Explorer do not currently respect hello X-Content-Type-Options header</span></span></p><p><span data-ttu-id="1b10c-180">Internet Explorer 8 이상 주요 브라우저 MIME 스니핑 tooimplement 옵트아웃 기능만을 hello 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-180">Internet Explorer 8 (and later) are hello only major browsers tooimplement a MIME-sniffing opt-out feature.</span></span> <span data-ttu-id="1b10c-181">이 권장 사항은 이러한 브라우저에 대 한 업데이트 된 tooinclude 구문이 됩니다 유사한 기능을 구현 하는 주요 브라우저 (Safari, Firefox, Chrome) 경우</span><span class="sxs-lookup"><span data-stu-id="1b10c-181">If and when other major browsers (Firefox, Safari, Chrome) implement similar features, this recommendation will be updated tooinclude syntax for those browsers as well</span></span></p>|

### <a name="example"></a><span data-ttu-id="1b10c-182">예제</span><span class="sxs-lookup"><span data-stu-id="1b10c-182">Example</span></span>
<span data-ttu-id="1b10c-183">hello 응용 프로그램의 모든 페이지에 대 한 전역적으로 tooenable hello의 필수 헤더를 hello 다음 중 하나를 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-183">tooenable hello required header globally for all pages in hello application, you can do one of hello following:</span></span> 

* <span data-ttu-id="1b10c-184">Hello 응용 프로그램에는 인터넷 정보 서비스 (IIS) 7에서 호스팅되는 경우 hello 헤더 hello web.config 파일에 추가</span><span class="sxs-lookup"><span data-stu-id="1b10c-184">Add hello header in hello web.config file if hello application is hosted by Internet Information Services (IIS) 7</span></span> 

```
<system.webServer> 
  <httpProtocol> 
    <customHeaders> 
      <add name=""X-Content-Type-Options"" value=""nosniff""/>
    </customHeaders>
  </httpProtocol>
</system.webServer> 
```

* <span data-ttu-id="1b10c-185">Hello 통해 hello 헤더 추가 전역 응용 프로그램\_BeginRequest</span><span class="sxs-lookup"><span data-stu-id="1b10c-185">Add hello header through hello global Application\_BeginRequest</span></span> 

``` 
void Application_BeginRequest(object sender, EventArgs e)
{
  this.Response.Headers[""X-Content-Type-Options""] = ""nosniff"";
} 
```

* <span data-ttu-id="1b10c-186">사용자 지정 HTTP 모듈을 구현합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-186">Implement custom HTTP module</span></span> 

``` 
public class XContentTypeOptionsModule : IHttpModule 
  {
    #region IHttpModule Members 
    public void Dispose() 
    { 

    } 
    public void Init(HttpApplication context)
    { 
      context.PreSendRequestHeaders += newEventHandler(context_PreSendRequestHeaders); 
    } 
    #endregion 
    void context_PreSendRequestHeaders(object sender, EventArgs e) 
      { 
        HttpApplication application = sender as HttpApplication; 
        if (application == null) 
          return; 
        if (application.Response.Headers[""X-Content-Type-Options ""] != null) 
          return; 
        application.Response.Headers.Add(""X-Content-Type-Options "", ""nosniff""); 
      } 
  } 

``` 

* <span data-ttu-id="1b10c-187">Tooindividual 응답을 추가 하 여 특정 페이지에 대해서만 hello 필수 헤더를 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-187">You can enable hello required header only for specific pages by adding it tooindividual responses:</span></span> 

```
this.Response.Headers[""X-Content-Type-Options""] = ""nosniff""; 
``` 

## <span data-ttu-id="1b10c-188"><a id="xml-resolution"></a>XML 엔터티 확인 확정 또는 사용 중지</span><span class="sxs-lookup"><span data-stu-id="1b10c-188"><a id="xml-resolution"></a>Harden or Disable XML Entity Resolution</span></span>

| <span data-ttu-id="1b10c-189">제목</span><span class="sxs-lookup"><span data-stu-id="1b10c-189">Title</span></span>                   | <span data-ttu-id="1b10c-190">세부 정보</span><span class="sxs-lookup"><span data-stu-id="1b10c-190">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1b10c-191">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="1b10c-191">**Component**</span></span>               | <span data-ttu-id="1b10c-192">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="1b10c-192">Web Application</span></span> | 
| <span data-ttu-id="1b10c-193">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-193">**SDL Phase**</span></span>               | <span data-ttu-id="1b10c-194">빌드</span><span class="sxs-lookup"><span data-stu-id="1b10c-194">Build</span></span> |  
| <span data-ttu-id="1b10c-195">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="1b10c-195">**Applicable Technologies**</span></span> | <span data-ttu-id="1b10c-196">일반</span><span class="sxs-lookup"><span data-stu-id="1b10c-196">Generic</span></span> |
| <span data-ttu-id="1b10c-197">**특성**</span><span class="sxs-lookup"><span data-stu-id="1b10c-197">**Attributes**</span></span>              | <span data-ttu-id="1b10c-198">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-198">N/A</span></span>  |
| <span data-ttu-id="1b10c-199">**참조**</span><span class="sxs-lookup"><span data-stu-id="1b10c-199">**References**</span></span>              | <span data-ttu-id="1b10c-200">[XML 엔터티 확장](http://capec.mitre.org/data/definitions/197.html)(영문), [XML DoS(서비스 거부) 공격 및 방어](http://msdn.microsoft.com/magazine/ee335713.aspx)(영문), [MSXML 보안 개요](http://msdn.microsoft.com/library/ms754611(v=VS.85).aspx), [MSXML 코드 보안에 대한 모범 사례](http://msdn.microsoft.com/library/ms759188(VS.85).aspx), [NSXMLParserDelegate 프로토콜 참조](http://developer.apple.com/library/ios/#documentation/cocoa/reference/NSXMLParserDelegate_Protocol/Reference/Reference.html)(영문), [외부 참조 확인](https://msdn.microsoft.com/library/5fcwybb2.aspx)</span><span class="sxs-lookup"><span data-stu-id="1b10c-200">[XML Entity Expansion](http://capec.mitre.org/data/definitions/197.html), [XML Denial of Service Attacks and Defenses](http://msdn.microsoft.com/magazine/ee335713.aspx), [MSXML Security Overview](http://msdn.microsoft.com/library/ms754611(v=VS.85).aspx), [Best Practices for Securing MSXML Code](http://msdn.microsoft.com/library/ms759188(VS.85).aspx), [NSXMLParserDelegate Protocol Reference](http://developer.apple.com/library/ios/#documentation/cocoa/reference/NSXMLParserDelegate_Protocol/Reference/Reference.html), [Resolving External References](https://msdn.microsoft.com/library/5fcwybb2.aspx)</span></span> |
| <span data-ttu-id="1b10c-201">**단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-201">**Steps**</span></span>| <p><span data-ttu-id="1b10c-202">널리 사용 되지 않습니다 이지만 hello XML 파서 tooexpand 매크로 엔터티 hello 문서 자체 내에서 또는 외부 원본에서 정의 된 값으로 허용 하는 XML의 기능입니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-202">Although it is not widely used, there is a feature of XML that allows hello XML parser tooexpand macro entities with values defined either within hello document itself or from external sources.</span></span> <span data-ttu-id="1b10c-203">예를 들어 통해 hello 문서 때마다 hello 텍스트를 "companyname" hello "Microsoft" 값을 가진 엔터티를 정의할 수 있습니다 "&companyname;"은 자동으로 Microsoft hello 텍스트로 대체 hello 문서에 나타납니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-203">For example, hello document might define an entity "companyname" with hello value "Microsoft," so that every time hello text "&companyname;" appears in hello document, it is automatically replaced with hello text Microsoft.</span></span> <span data-ttu-id="1b10c-204">또는 hello 문서는 외부 웹 서비스 toofetch hello의 현재 값 Microsoft 재고를 참조 하는 "MSFTStock" 엔터티를 정의할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-204">Or, hello document might define an entity "MSFTStock" that references an external web service toofetch hello current value of Microsoft stock.</span></span></p><p><span data-ttu-id="1b10c-205">언제 든 지 다음 "&MSFTStock;" hello 현재 주가으로 자동으로 대체 됩니다 hello 문서에 나타납니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-205">Then any time "&MSFTStock;" appears in hello document, it is automatically replaced with hello current stock price.</span></span> <span data-ttu-id="1b10c-206">그러나이 기능은 악용 toocreate 서비스 거부 (DoS) 조건 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-206">However, this functionality can be abused toocreate denial of service (DoS) conditions.</span></span> <span data-ttu-id="1b10c-207">공격자가 여러 엔터티 toocreate hello 시스템에서 사용 가능한 모든 메모리를 소비 하는 지 수 확장 XML 폭탄 중첩할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-207">An attacker can nest multiple entities toocreate an exponential expansion XML bomb that consumes all available memory on hello system.</span></span> </p><p><span data-ttu-id="1b10c-208">또는 그 뒤로 스트림 하는 외부 참조가 무기한 데이터의 만들거나 단순히 hello 스레드를 중단 하는.</span><span class="sxs-lookup"><span data-stu-id="1b10c-208">Alternatively, he can create an external reference that streams back an infinite amount of data or that simply hangs hello thread.</span></span> <span data-ttu-id="1b10c-209">결과적으로, 모든 팀 해야 사용 하지 않도록 설정 내부 및/또는 외부 XML 엔터티 해상도 응용 프로그램을 사용 하지 않거나 수동으로 hello 크기의 메모리 및 hello 응용 프로그램에서이 기능을 하는 경우 엔터티 확인을 위해 사용할 수 있는 시간을 제한 하는 경우에 완전 하 게 반드시 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-209">As a result, all teams must disable internal and/or external XML entity resolution entirely if their application does not use it, or manually limit hello amount of memory and time that hello application can consume for entity resolution if this functionality is absolutely necessary.</span></span> <span data-ttu-id="1b10c-210">응용 프로그램에서 엔터티 확인이 필요하지 않은 경우 엔터티 확인을 사용하지 않도록 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-210">If entity resolution is not required by your application, then disable it.</span></span> </p>|

### <a name="example"></a><span data-ttu-id="1b10c-211">예제</span><span class="sxs-lookup"><span data-stu-id="1b10c-211">Example</span></span>
<span data-ttu-id="1b10c-212">.NET Framework 코드에 대 한 다음 방법 hello를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-212">For .NET Framework code, you can use hello following approaches:</span></span>

```C#
XmlTextReader reader = new XmlTextReader(stream);
reader.ProhibitDtd = true;

XmlReaderSettings settings = new XmlReaderSettings();
settings.ProhibitDtd = true;
XmlReader reader = XmlReader.Create(stream, settings);

// for .NET 4
XmlReaderSettings settings = new XmlReaderSettings();
settings.DtdProcessing = DtdProcessing.Prohibit;
XmlReader reader = XmlReader.Create(stream, settings);
```
<span data-ttu-id="1b10c-213">해당 hello 기본 값을 기록해 둡니다 `ProhibitDtd` 에 `XmlReaderSettings` 하지만 true 이면 `XmlTextReader` 은 false입니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-213">Note that hello default value of `ProhibitDtd` in `XmlReaderSettings` is true, but in `XmlTextReader` it is false.</span></span> <span data-ttu-id="1b10c-214">XmlReaderSettings를 사용 하는 경우 tooset ProhibitDtd tootrue를 명시적으로 필요 하지 않습니다 하지만 것이 좋습니다 안전 위해서는 방어막 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-214">If you are using XmlReaderSettings, you do not need tooset ProhibitDtd tootrue explicitly, but it is recommended for safety sake that you do.</span></span> <span data-ttu-id="1b10c-215">또한 hello XmlDocument 클래스는 기본적으로 엔터티 확인을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-215">Also note that hello XmlDocument class allows entity resolution by default.</span></span> 

### <a name="example"></a><span data-ttu-id="1b10c-216">예제</span><span class="sxs-lookup"><span data-stu-id="1b10c-216">Example</span></span>
<span data-ttu-id="1b10c-217">XmlDocuments 사용 하 여 hello에 대 한 엔터티 확인 toodisable `XmlDocument.Load(XmlReader)` hello의 오버 로드가 Load 메서드 속성을 설정 hello 적절 한 hello XmlReader 인수 toodisable 확인에 hello 코드 다음에 설명 된 대로:</span><span class="sxs-lookup"><span data-stu-id="1b10c-217">toodisable entity resolution for XmlDocuments, use hello `XmlDocument.Load(XmlReader)` overload of hello Load method and set hello appropriate properties in hello XmlReader argument toodisable resolution, as illustrated in hello following code:</span></span> 

```C#
XmlReaderSettings settings = new XmlReaderSettings();
settings.ProhibitDtd = true;
XmlReader reader = XmlReader.Create(stream, settings);
XmlDocument doc = new XmlDocument();
doc.Load(reader);
```

### <a name="example"></a><span data-ttu-id="1b10c-218">예제</span><span class="sxs-lookup"><span data-stu-id="1b10c-218">Example</span></span>
<span data-ttu-id="1b10c-219">엔터티 확인을 사용 하지 않도록 설정, 응용 프로그램에 가져올 수 없으면 hello XmlReaderSettings.MaxCharactersFromEntities 속성 tooa 적당 한 값 tooyour 응용 프로그램의 요구에 따라 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-219">If disabling entity resolution is not possible for your application, set hello XmlReaderSettings.MaxCharactersFromEntities property tooa reasonable value according tooyour application's needs.</span></span> <span data-ttu-id="1b10c-220">이 지 수 확장 DoS 공격 가능성의 hello 영향을 제한 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-220">This will limit hello impact of potential exponential expansion DoS attacks.</span></span> <span data-ttu-id="1b10c-221">이 방법의 예제를 제공 하는 코드 다음 hello:</span><span class="sxs-lookup"><span data-stu-id="1b10c-221">hello following code provides an example of this approach:</span></span> 

```C#
XmlReaderSettings settings = new XmlReaderSettings();
settings.ProhibitDtd = false;
settings.MaxCharactersFromEntities = 1000;
XmlReader reader = XmlReader.Create(stream, settings);
```

### <a name="example"></a><span data-ttu-id="1b10c-222">예제</span><span class="sxs-lookup"><span data-stu-id="1b10c-222">Example</span></span>
<span data-ttu-id="1b10c-223">Tooresolve 인라인 엔터티 필요 하지만 tooresolve 외부 엔터티 불필요 경우 hello XmlReaderSettings.XmlResolver 속성 toonull를 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-223">If you need tooresolve inline entities but do not need tooresolve external entities, set hello XmlReaderSettings.XmlResolver property toonull.</span></span> <span data-ttu-id="1b10c-224">예:</span><span class="sxs-lookup"><span data-stu-id="1b10c-224">For example:</span></span> 

```C#
XmlReaderSettings settings = new XmlReaderSettings();
settings.ProhibitDtd = false;
settings.MaxCharactersFromEntities = 1000;
settings.XmlResolver = null;
XmlReader reader = XmlReader.Create(stream, settings);
```
<span data-ttu-id="1b10c-225">Note는 MSXML6의 ProhibitDTD tootrue (DTD 처리를 사용 하지 않으면) 기본적으로 설정 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-225">Note that in MSXML6, ProhibitDTD is set tootrue (disabling DTD processing) by default.</span></span> <span data-ttu-id="1b10c-226">Apple OSX/iOS 코드의 경우 두 가지 XML 파서, NSXMLParser 및 libXML2를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-226">For Apple OSX/iOS code, there are two XML parsers you can use: NSXMLParser and libXML2.</span></span> 

## <span data-ttu-id="1b10c-227"><a id="app-verification"></a>http.sys를 활용하는 응용 프로그램에서 URL 정형화 확인 수행</span><span class="sxs-lookup"><span data-stu-id="1b10c-227"><a id="app-verification"></a>Applications utilizing http.sys perform URL canonicalization verification</span></span>

| <span data-ttu-id="1b10c-228">제목</span><span class="sxs-lookup"><span data-stu-id="1b10c-228">Title</span></span>                   | <span data-ttu-id="1b10c-229">세부 정보</span><span class="sxs-lookup"><span data-stu-id="1b10c-229">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1b10c-230">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="1b10c-230">**Component**</span></span>               | <span data-ttu-id="1b10c-231">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="1b10c-231">Web Application</span></span> | 
| <span data-ttu-id="1b10c-232">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-232">**SDL Phase**</span></span>               | <span data-ttu-id="1b10c-233">빌드</span><span class="sxs-lookup"><span data-stu-id="1b10c-233">Build</span></span> |  
| <span data-ttu-id="1b10c-234">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="1b10c-234">**Applicable Technologies**</span></span> | <span data-ttu-id="1b10c-235">일반</span><span class="sxs-lookup"><span data-stu-id="1b10c-235">Generic</span></span> |
| <span data-ttu-id="1b10c-236">**특성**</span><span class="sxs-lookup"><span data-stu-id="1b10c-236">**Attributes**</span></span>              | <span data-ttu-id="1b10c-237">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-237">N/A</span></span>  |
| <span data-ttu-id="1b10c-238">**참조**</span><span class="sxs-lookup"><span data-stu-id="1b10c-238">**References**</span></span>              | <span data-ttu-id="1b10c-239">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-239">N/A</span></span>  |
| <span data-ttu-id="1b10c-240">**단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-240">**Steps**</span></span> | <p><span data-ttu-id="1b10c-241">http.sys를 사용하는 모든 응용 프로그램은 다음 지침을 따라야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-241">Any application that uses http.sys should follow these guidelines:</span></span></p><ul><li><span data-ttu-id="1b10c-242">Hello URL 길이 toono 개 이상의 16, 384 문자 (ASCII 또는 유니코드)을 제한 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-242">Limit hello URL length toono more than 16,384 characters (ASCII or Unicode).</span></span> <span data-ttu-id="1b10c-243">Hello 절대 최대 URL 길이 hello 기본 인터넷 정보 서비스 (IIS) 6 설정에 따라입니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-243">This is hello absolute maximum URL length based on hello default Internet Information Services (IIS) 6 setting.</span></span> <span data-ttu-id="1b10c-244">웹 사이트에서는 가능한 경우 이 길이보다 더 짧도록 노력해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-244">Websites should strive for a length shorter than this if possible</span></span></li><li><span data-ttu-id="1b10c-245">이 활용할 hello 정규화 규칙에서.NET FX hello 대로 hello 표준.NET Framework 파일 I/O 클래스 (예: FileStream)를 사용 하 여</span><span class="sxs-lookup"><span data-stu-id="1b10c-245">Use hello standard .NET Framework file I/O classes (such as FileStream) as these will take advantage of hello canonicalization rules in hello .NET FX</span></span></li><li><span data-ttu-id="1b10c-246">알려진 파일 이름의 허용 목록을 명시적으로 작성합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-246">Explicitly build an allow-list of known filenames</span></span></li><li><span data-ttu-id="1b10c-247">UrlScan 거부를 제공하지 않는 것으로 알려진 파일 형식(exe, bat, cmd, com, htw, ida, idq, htr, idc, shtm[l], stm, printer, ini, pol, dat 파일)을 명시적으로 거부합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-247">Explicitly reject known filetypes you will not serve UrlScan rejects: exe, bat, cmd, com, htw, ida, idq, htr, idc, shtm[l], stm, printer, ini, pol, dat files</span></span></li><li><span data-ttu-id="1b10c-248">Hello 다음 예외를 catch:</span><span class="sxs-lookup"><span data-stu-id="1b10c-248">Catch hello following exceptions:</span></span><ul><li><span data-ttu-id="1b10c-249">System.ArgumentException(장치 이름의 경우)</span><span class="sxs-lookup"><span data-stu-id="1b10c-249">System.ArgumentException (for device names)</span></span></li><li><span data-ttu-id="1b10c-250">System.NotSupportedException(데이터 스트림의 경우)</span><span class="sxs-lookup"><span data-stu-id="1b10c-250">System.NotSupportedException (for data streams)</span></span></li><li><span data-ttu-id="1b10c-251">System.IO.FileNotFoundException(잘못된 이스케이프 문자를 사용한 파일 이름의 경우)</span><span class="sxs-lookup"><span data-stu-id="1b10c-251">System.IO.FileNotFoundException (for invalid escaped filenames)</span></span></li><li><span data-ttu-id="1b10c-252">System.IO.DirectoryNotFoundException(잘못된 이스케이프 문자를 사용한 디렉터리의 경우)</span><span class="sxs-lookup"><span data-stu-id="1b10c-252">System.IO.DirectoryNotFoundException (for invalid escaped dirs)</span></span></li></ul></li><li><span data-ttu-id="1b10c-253">*없는* tooWin32 파일 I/O Api를 호출 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-253">*Do not* call out tooWin32 file I/O APIs.</span></span> <span data-ttu-id="1b10c-254">잘못 된 URL에서 400 오류 toohello 사용자 정상적으로 반환 하 고 hello 실제 오류를 기록.</span><span class="sxs-lookup"><span data-stu-id="1b10c-254">On an invalid URL gracefully return a 400 error toohello user, and log hello real error.</span></span></li></ul>|

## <span data-ttu-id="1b10c-255"><a id="controls-users"></a>사용자의 파일을 허용할 때 적절한 제어가 수행되는지 확인</span><span class="sxs-lookup"><span data-stu-id="1b10c-255"><a id="controls-users"></a>Ensure appropriate controls are in place when accepting files from users</span></span>

| <span data-ttu-id="1b10c-256">제목</span><span class="sxs-lookup"><span data-stu-id="1b10c-256">Title</span></span>                   | <span data-ttu-id="1b10c-257">세부 정보</span><span class="sxs-lookup"><span data-stu-id="1b10c-257">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1b10c-258">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="1b10c-258">**Component**</span></span>               | <span data-ttu-id="1b10c-259">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="1b10c-259">Web Application</span></span> | 
| <span data-ttu-id="1b10c-260">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-260">**SDL Phase**</span></span>               | <span data-ttu-id="1b10c-261">빌드</span><span class="sxs-lookup"><span data-stu-id="1b10c-261">Build</span></span> |  
| <span data-ttu-id="1b10c-262">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="1b10c-262">**Applicable Technologies**</span></span> | <span data-ttu-id="1b10c-263">일반</span><span class="sxs-lookup"><span data-stu-id="1b10c-263">Generic</span></span> |
| <span data-ttu-id="1b10c-264">**특성**</span><span class="sxs-lookup"><span data-stu-id="1b10c-264">**Attributes**</span></span>              | <span data-ttu-id="1b10c-265">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-265">N/A</span></span>  |
| <span data-ttu-id="1b10c-266">**참조**</span><span class="sxs-lookup"><span data-stu-id="1b10c-266">**References**</span></span>              | <span data-ttu-id="1b10c-267">[무제한 파일 업로드](https://www.owasp.org/index.php/Unrestricted_File_Upload)(영문), [파일 서명 테이블](http://www.garykessler.net/library/file_sigs.html)(영문)</span><span class="sxs-lookup"><span data-stu-id="1b10c-267">[Unrestricted File Upload](https://www.owasp.org/index.php/Unrestricted_File_Upload), [File Signature Table](http://www.garykessler.net/library/file_sigs.html)</span></span> |
| <span data-ttu-id="1b10c-268">**단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-268">**Steps**</span></span> | <p><span data-ttu-id="1b10c-269">업로드 된 파일은 상당한 위험 tooapplications를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-269">Uploaded files represent a significant risk tooapplications.</span></span></p><p><span data-ttu-id="1b10c-270">대부분의 공격이 hello 첫 번째 단계에는 일부 코드 toohello 시스템 toobe 공격 tooget 것입니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-270">hello first step in many attacks is tooget some code toohello system toobe attacked.</span></span> <span data-ttu-id="1b10c-271">그런 다음 hello 공격 toofind 방식으로 tooget hello 코드가 실행만 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-271">Then hello attack only needs toofind a way tooget hello code executed.</span></span> <span data-ttu-id="1b10c-272">파일 업로드를 사용 하 여 hello 첫 번째 단계를 수행 하는 hello 공격자는 데 도움이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-272">Using a file upload helps hello attacker accomplish hello first step.</span></span> <span data-ttu-id="1b10c-273">전체 시스템 인수는 오버 로드 된 파일 시스템 또는 데이터베이스를 전달 공격 tooback 엔드 시스템의 경우 및 단순 손상과 비롯 하 여 무제한 파일 업로드의 hello 결과 달라질 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-273">hello consequences of unrestricted file upload can vary, including complete system takeover, an overloaded file system or database, forwarding attacks tooback-end systems, and simple defacement.</span></span></p><p><span data-ttu-id="1b10c-274">어떤 hello 응용 프로그램을 업로드 하는 hello 파일과 함께 수행 하 고 저장 위치에 특히에 따라 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-274">It depends on what hello application does with hello uploaded file and especially where it is stored.</span></span> <span data-ttu-id="1b10c-275">파일 업로드에 대한 서버 쪽 유효성 검사는 없습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-275">Server side validation of file uploads is missing.</span></span> <span data-ttu-id="1b10c-276">파일 업로드 기능에 대해 다음과 같은 보안 제어를 구현해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-276">Following security controls should be implemented for File Upload functionality:</span></span></p><ul><li><span data-ttu-id="1b10c-277">파일 확장명 검사(허용되는 파일 형식의 유효한 집합만)</span><span class="sxs-lookup"><span data-stu-id="1b10c-277">File Extension check (only a valid set of allowed file type should be accepted)</span></span></li><li><span data-ttu-id="1b10c-278">최대 파일 크기 제한</span><span class="sxs-lookup"><span data-stu-id="1b10c-278">Maximum file size limit</span></span></li><li><span data-ttu-id="1b10c-279">파일에는 업로드 된 toowebroot;를 사용 해야 합니다. hello 위치 비시스템 드라이브의 디렉터리에 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-279">File should not be uploaded toowebroot; hello location should be a directory on non-system drive</span></span></li><li><span data-ttu-id="1b10c-280">명명 규칙을 따라야도 록 hello 업로드 된 파일 이름 일부 임의성 파일을 덮어씁니다 tooprevent으로 하므로</span><span class="sxs-lookup"><span data-stu-id="1b10c-280">Naming convention should be followed, such that hello uploaded file name have some randomness, so as tooprevent file overwrites</span></span></li><li><span data-ttu-id="1b10c-281">Toohello 디스크를 쓰기 전에 바이러스 백신에 대 한 파일을 검색할 수 해야</span><span class="sxs-lookup"><span data-stu-id="1b10c-281">Files should be scanned for anti-virus before writing toohello disk</span></span></li><li><span data-ttu-id="1b10c-282">Hello 파일 이름 및 다른 메타 데이터 (예: 파일 경로) 악의적인 문자에 대 한 유효성이 검사 됩니다 확인</span><span class="sxs-lookup"><span data-stu-id="1b10c-282">Ensure that hello file name and any other metadata (e.g., file path) are validated for malicious characters</span></span></li><li><span data-ttu-id="1b10c-283">파일 형식 서명을 확인 해야 tooprevent masqueraded 파일 업로드 사용자 (예: 확장 tootxt 변경 하 여 exe 파일 업로드)</span><span class="sxs-lookup"><span data-stu-id="1b10c-283">File format signature should be checked, tooprevent a user from uploading a masqueraded file (e.g., uploading an exe file by changing extension tootxt)</span></span></li></ul>| 

### <a name="example"></a><span data-ttu-id="1b10c-284">예제</span><span class="sxs-lookup"><span data-stu-id="1b10c-284">Example</span></span>
<span data-ttu-id="1b10c-285">파일 형식에 대 한 서명 유효성 검사에 대 한 마지막 지점 hello에 대 한 자세한 내용은 아래 toohello 클래스를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="1b10c-285">For hello last point regarding file format signature validation, refer toohello class below for details:</span></span> 

```C#
        private static Dictionary<string, List<byte[]>> fileSignature = new Dictionary<string, List<byte[]>>
                    {
                    { ".DOC", new List<byte[]> { new byte[] { 0xD0, 0xCF, 0x11, 0xE0, 0xA1, 0xB1, 0x1A, 0xE1 } } },
                    { ".DOCX", new List<byte[]> { new byte[] { 0x50, 0x4B, 0x03, 0x04 } } },
                    { ".PDF", new List<byte[]> { new byte[] { 0x25, 0x50, 0x44, 0x46 } } },
                    { ".ZIP", new List<byte[]> 
                                            {
                                              new byte[] { 0x50, 0x4B, 0x03, 0x04 },
                                              new byte[] { 0x50, 0x4B, 0x4C, 0x49, 0x54, 0x55 },
                                              new byte[] { 0x50, 0x4B, 0x53, 0x70, 0x58 },
                                              new byte[] { 0x50, 0x4B, 0x05, 0x06 },
                                              new byte[] { 0x50, 0x4B, 0x07, 0x08 },
                                              new byte[] { 0x57, 0x69, 0x6E, 0x5A, 0x69, 0x70 }
                                                }
                                            },
                    { ".PNG", new List<byte[]> { new byte[] { 0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A } } },
                    { ".JPG", new List<byte[]>
                                    {
                                              new byte[] { 0xFF, 0xD8, 0xFF, 0xE0 },
                                              new byte[] { 0xFF, 0xD8, 0xFF, 0xE1 },
                                              new byte[] { 0xFF, 0xD8, 0xFF, 0xE8 }
                                    }
                                    },
                    { ".JPEG", new List<byte[]>
                                        { 
                                            new byte[] { 0xFF, 0xD8, 0xFF, 0xE0 },
                                            new byte[] { 0xFF, 0xD8, 0xFF, 0xE2 },
                                            new byte[] { 0xFF, 0xD8, 0xFF, 0xE3 }
                                        }
                                        },
                    { ".XLS", new List<byte[]>
                                            {
                                              new byte[] { 0xD0, 0xCF, 0x11, 0xE0, 0xA1, 0xB1, 0x1A, 0xE1 },
                                              new byte[] { 0x09, 0x08, 0x10, 0x00, 0x00, 0x06, 0x05, 0x00 },
                                              new byte[] { 0xFD, 0xFF, 0xFF, 0xFF }
                                            }
                                            },
                    { ".XLSX", new List<byte[]> { new byte[] { 0x50, 0x4B, 0x03, 0x04 } } },
                    { ".GIF", new List<byte[]> { new byte[] { 0x47, 0x49, 0x46, 0x38 } } }
                };

        public static bool IsValidFileExtension(string fileName, byte[] fileData, byte[] allowedChars)
        {
            if (string.IsNullOrEmpty(fileName) || fileData == null || fileData.Length == 0)
            {
                return false;
            }

            bool flag = false;
            string ext = Path.GetExtension(fileName);
            if (string.IsNullOrEmpty(ext))
            {
                return false;
            }

            ext = ext.ToUpperInvariant();

            if (ext.Equals(".TXT") || ext.Equals(".CSV") || ext.Equals(".PRN"))
            {
                foreach (byte b in fileData)
                {
                    if (b > 0x7F)
                    {
                        if (allowedChars != null)
                        {
                            if (!allowedChars.Contains(b))
                            {
                                return false;
                            }
                        }
                        else
                        {
                            return false;
                        }
                    }
                }

                return true;
            }

            if (!fileSignature.ContainsKey(ext))
            {
                return true;
            }

            List<byte[]> sig = fileSignature[ext];
            foreach (byte[] b in sig)
            {
                var curFileSig = new byte[b.Length];
                Array.Copy(fileData, curFileSig, b.Length);
                if (curFileSig.SequenceEqual(b))
                {
                    flag = true;
                    break;
                }
            }

            return flag;
        }
```

## <span data-ttu-id="1b10c-286"><a id="typesafe"></a>웹 응용 프로그램에서 데이터 액세스를 위해 형식이 안전한 매개 변수를 사용하는지 확인</span><span class="sxs-lookup"><span data-stu-id="1b10c-286"><a id="typesafe"></a>Ensure that type-safe parameters are used in Web Application for data access</span></span>

| <span data-ttu-id="1b10c-287">제목</span><span class="sxs-lookup"><span data-stu-id="1b10c-287">Title</span></span>                   | <span data-ttu-id="1b10c-288">세부 정보</span><span class="sxs-lookup"><span data-stu-id="1b10c-288">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1b10c-289">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="1b10c-289">**Component**</span></span>               | <span data-ttu-id="1b10c-290">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="1b10c-290">Web Application</span></span> | 
| <span data-ttu-id="1b10c-291">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-291">**SDL Phase**</span></span>               | <span data-ttu-id="1b10c-292">빌드</span><span class="sxs-lookup"><span data-stu-id="1b10c-292">Build</span></span> |  
| <span data-ttu-id="1b10c-293">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="1b10c-293">**Applicable Technologies**</span></span> | <span data-ttu-id="1b10c-294">일반</span><span class="sxs-lookup"><span data-stu-id="1b10c-294">Generic</span></span> |
| <span data-ttu-id="1b10c-295">**특성**</span><span class="sxs-lookup"><span data-stu-id="1b10c-295">**Attributes**</span></span>              | <span data-ttu-id="1b10c-296">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-296">N/A</span></span>  |
| <span data-ttu-id="1b10c-297">**참조**</span><span class="sxs-lookup"><span data-stu-id="1b10c-297">**References**</span></span>              | <span data-ttu-id="1b10c-298">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-298">N/A</span></span>  |
| <span data-ttu-id="1b10c-299">**단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-299">**Steps**</span></span> | <p><span data-ttu-id="1b10c-300">Hello 매개 변수 컬렉션을 사용 하는 경우 실행 코드가 아니라 리터럴 값으로 SQL에서는 hello 입력이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-300">If you use hello Parameters collection, SQL treats hello input is as a literal value rather then as executable code.</span></span> <span data-ttu-id="1b10c-301">hello 매개 변수 컬렉션에는 입력된 데이터에 사용 되는 tooenforce 형식 및 길이 제약 조건 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-301">hello Parameters collection can be used tooenforce type and length constraints on input data.</span></span> <span data-ttu-id="1b10c-302">Hello 범위 밖의 값에는 예외가 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-302">Values outside of hello range trigger an exception.</span></span> <span data-ttu-id="1b10c-303">형식 안정적 SQL 매개 변수 사용 되지 않는 경우 공격자가 필터링 되지 않은 hello 입력에 포함 하는 수 tooexecute 삽입 공격을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-303">If type-safe SQL parameters are not used, attackers might be able tooexecute injection attacks that are embedded in hello unfiltered input.</span></span></p><p><span data-ttu-id="1b10c-304">Tooavoid 가능한 SQL 삽입 공격 필터링 되지 않은 입력 발생할 수 있는 쿼리를 SQL을 생성 하는 경우 형식 안전 매개 변수를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-304">Use type safe parameters when constructing SQL queries tooavoid possible SQL injection attacks that can occur with unfiltered input.</span></span> <span data-ttu-id="1b10c-305">저장 프로시저 및 동적 SQL 문과 함께 형식이 안전한 매개 변수를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-305">You can use type safe parameters with stored procedures and with dynamic SQL statements.</span></span> <span data-ttu-id="1b10c-306">매개 변수는 실행 코드가 아닌 리터럴 값 hello 데이터베이스에 의해로 처리 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-306">Parameters are treated as literal values by hello database and not as executable code.</span></span> <span data-ttu-id="1b10c-307">또한 매개 변수의 형식 및 길이에 대해서도 검사합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-307">Parameters are also checked for type and length.</span></span></p>|

### <a name="example"></a><span data-ttu-id="1b10c-308">예제</span><span class="sxs-lookup"><span data-stu-id="1b10c-308">Example</span></span> 
<span data-ttu-id="1b10c-309">hello 다음 코드에서는 저장된 프로시저를 호출할 때 toouse SqlParameterCollection hello로 안전 하 게 보호 매개 변수를 입력 하는 방법을</span><span class="sxs-lookup"><span data-stu-id="1b10c-309">hello following code shows how toouse type safe parameters with hello SqlParameterCollection when calling a stored procedure.</span></span> 

```C#
using System.Data;
using System.Data.SqlClient;

using (SqlConnection connection = new SqlConnection(connectionString))
{ 
DataSet userDataset = new DataSet(); 
SqlDataAdapter myCommand = new SqlDataAdapter(LoginStoredProcedure", connection); 
myCommand.SelectCommand.CommandType = CommandType.StoredProcedure; 
myCommand.SelectCommand.Parameters.Add("@au_id", SqlDbType.VarChar, 11); 
myCommand.SelectCommand.Parameters["@au_id"].Value = SSN.Text; 
myCommand.Fill(userDataset);
}  
```
<span data-ttu-id="1b10c-310">Hello 코드 예제에서는 앞에에서 hello 입력된 값을 11 자 보다 길 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-310">In hello preceding code example, hello input value cannot be longer than 11 characters.</span></span> <span data-ttu-id="1b10c-311">Hello 데이터 toohello 형식 또는 hello 매개 변수에 의해 정의 된 길이 준수 하지 않는, 경우 hello SqlParameter 클래스 예외를 throw 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-311">If hello data does not conform toohello type or length defined by hello parameter, hello SqlParameter class throws an exception.</span></span> 

## <span data-ttu-id="1b10c-312"><a id="binding-mvc"></a>별도 모델 필터 목록 tooprevent MVC 대량 할당 취약점을 바인딩 또는 바인딩 클래스를 사용 하 여</span><span class="sxs-lookup"><span data-stu-id="1b10c-312"><a id="binding-mvc"></a>Use separate model binding classes or binding filter lists tooprevent MVC mass assignment vulnerability</span></span>

| <span data-ttu-id="1b10c-313">제목</span><span class="sxs-lookup"><span data-stu-id="1b10c-313">Title</span></span>                   | <span data-ttu-id="1b10c-314">세부 정보</span><span class="sxs-lookup"><span data-stu-id="1b10c-314">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1b10c-315">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="1b10c-315">**Component**</span></span>               | <span data-ttu-id="1b10c-316">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="1b10c-316">Web Application</span></span> | 
| <span data-ttu-id="1b10c-317">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-317">**SDL Phase**</span></span>               | <span data-ttu-id="1b10c-318">빌드</span><span class="sxs-lookup"><span data-stu-id="1b10c-318">Build</span></span> |  
| <span data-ttu-id="1b10c-319">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="1b10c-319">**Applicable Technologies**</span></span> | <span data-ttu-id="1b10c-320">MVC5, MVC6</span><span class="sxs-lookup"><span data-stu-id="1b10c-320">MVC5, MVC6</span></span> |
| <span data-ttu-id="1b10c-321">**특성**</span><span class="sxs-lookup"><span data-stu-id="1b10c-321">**Attributes**</span></span>              | <span data-ttu-id="1b10c-322">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-322">N/A</span></span>  |
| <span data-ttu-id="1b10c-323">**참조**</span><span class="sxs-lookup"><span data-stu-id="1b10c-323">**References**</span></span>              | <span data-ttu-id="1b10c-324">[메타 데이터 특성](http://msdn.microsoft.com/library/system.componentmodel.dataannotations.metadatatypeattribute), [공개 키 보안 취약성을 완화](https://github.com/blog/1068-public-key-security-vulnerability-and-mitigation), [완벽 가이드 tooMass ASP.NET MVC에서 할당](http://odetocode.com/Blogs/scott/archive/2012/03/11/complete-guide-to-mass-assignment-in-asp-net-mvc.aspx), [MVC를 사용해 EF 시작](http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/implementing-basic-crud-functionality-with-the-entity-framework-in-asp-net-mvc-application#overpost)</span><span class="sxs-lookup"><span data-stu-id="1b10c-324">[Metadata Attributes](http://msdn.microsoft.com/library/system.componentmodel.dataannotations.metadatatypeattribute), [Public Key Security Vulnerability And Mitigation](https://github.com/blog/1068-public-key-security-vulnerability-and-mitigation), [Complete Guide tooMass Assignment in ASP.NET MVC](http://odetocode.com/Blogs/scott/archive/2012/03/11/complete-guide-to-mass-assignment-in-asp-net-mvc.aspx), [Getting Started with EF using MVC](http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/implementing-basic-crud-functionality-with-the-entity-framework-in-asp-net-mvc-application#overpost)</span></span> |
| <span data-ttu-id="1b10c-325">**단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-325">**Steps**</span></span> | <ul><li><span data-ttu-id="1b10c-326">**과도한 게시 취약성은 언제 찾아야 합니까? -** 사용자 입력에서 모델 클래스를 바인딩하는 모든 위치에서 과도한 게시 취약성이 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-326">**When should I look for over-posting vulnerabilities? -** Over-posting vulnerabilities can occur any place you bind model classes from user input.</span></span> <span data-ttu-id="1b10c-327">MVC와 같은 프레임워크는 POCO(Plain Old CLR Object)를 포함하여 사용자 지정 .NET 클래스의 사용자 데이터를 나타낼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-327">Frameworks like MVC can represent user data in custom .NET classes, including Plain Old CLR Objects (POCOs).</span></span> <span data-ttu-id="1b10c-328">MVC를 자동으로 채우려고 hello 요청에서 데이터를 사용 하 여 이러한 모델 클래스 사용자 입력 처리 하기 위한 편리한 표현을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-328">MVC automatically populates these model classes with data from hello request, providing a convenient representation for dealing with user input.</span></span> <span data-ttu-id="1b10c-329">이러한 클래스에는 hello 사용자가 설정 하지 않아야 하는 속성, hello 응용 프로그램 하지 hello 응용 프로그램 의도 하는 데이터의 사용자 정의 컨트롤 수 있는 tooover 게시 공격에 취약 한 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-329">When these classes include properties that should not be set by hello user, hello application can be vulnerable tooover-posting attacks, which allow user control of data that hello application never intended.</span></span> <span data-ttu-id="1b10c-330">MVC 모델 바인딩와 같은 Entity Framework와 같은 개체 관계형 매퍼 같은 데이터베이스 액세스 기술을 POCO 개체 toorepresent 데이터베이스 데이터를 사용 하 여 자주도 지원 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-330">Like MVC model binding, database access technologies such as object/relational mappers like Entity Framework often also support using POCO objects toorepresent database data.</span></span> <span data-ttu-id="1b10c-331">이러한 데이터 모델 클래스 제공 hello MVC 사용자 입력으로 처리 하는 데에서 마찬가지로 데이터베이스 데이터를 처리할 때 동일한 편리 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-331">These data model classes provide hello same convenience in dealing with database data as MVC does in dealing with user input.</span></span> <span data-ttu-id="1b10c-332">MVC 및 hello 모두 데이터베이스 POCO 개체와 같은 비슷한 모델을 지원 하기 때문에 두 가지 용도로 클래스 동일 쉽게 tooreuse hello 같습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-332">Because both MVC and hello database support similar models, like POCO objects, it seems easy tooreuse hello same classes for both purposes.</span></span> <span data-ttu-id="1b10c-333">이 연습 실패 하면 toopreserve 분리 우려 사항, 그리고이 공통 영역은 의도 하지 않은 속성 노출 toomodel 바인딩, 초과 게시 공격을 사용 하도록 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-333">This practice fails toopreserve separation of concerns, and it is one common area where unintended properties are exposed toomodel binding, enabling over-posting attacks.</span></span></li><li><span data-ttu-id="1b10c-334">**매개 변수 toomy MVC 동작으로 내 필터링 되지 않은 데이터베이스 모델 클래스를 사용 하지 않아야는 이유 -** 때문에 MVC 모델 바인딩은 아무 것도 해당 클래스에 바인딩합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-334">**Why shouldn't I use my unfiltered database model classes as parameters toomy MVC actions? -** Because MVC model binding will bind anything in that class.</span></span> <span data-ttu-id="1b10c-335">데이터 표시 되지 않습니다 보기에 악의적인 사용자,이 데이터와 HTTP 요청을 보낼 수는 hello 및 MVC는 기꺼이 바인딩할 액션 것으로 표시 database 클래스 hello 모양의 데이터 때문에 경우에 사용자 입력을 허용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-335">Even if hello data does not appear in your view, a malicious user can send an HTTP request with this data included, and MVC will gladly bind it because your action says that database class is hello shape of data it should accept for user input.</span></span></li><li><span data-ttu-id="1b10c-336">**모델 바인딩에 대 한 사용 되는 hello 모양을 대 한 고려해 야 -** 너무 광범위 한 모델을 사용 하 여 ASP.NET MVC 모델 바인딩 응용 프로그램 게시 tooover 공격 노출 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-336">**Why should I care about hello shape used for model binding? -** Using ASP.NET MVC model binding with overly broad models exposes an application tooover-posting attacks.</span></span> <span data-ttu-id="1b10c-337">과도 하 게 게시 하는 중 어떤 hello 개발자가 계정에 대 한 프로그램 항목 또는 hello 보안 권한에 대 한 hello 가격을 재정의 하는 등 의도 한 초과 하 여 공격자가 toochange 응용 프로그램 데이터를 설정 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-337">Over-posting could enable attackers toochange application data beyond what hello developer intended, such as overriding hello price for an item or hello security privileges for an account.</span></span> <span data-ttu-id="1b10c-338">응용 프로그램 모델 바인딩을 통해 신뢰할 수 없는 입력된 tooallow 어떤 작업별 모델 (또는 특정 허용 되는 속성 필터 목록) 바인딩 tooprovide 명시적 계약을 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-338">Applications should use action-specific binding models (or specific allowed property filter lists) tooprovide an explicit contract for what untrusted input tooallow via model binding.</span></span></li><li><span data-ttu-id="1b10c-339">**코드를 복제하는 별도의 바인딩 모델이 있습니까? -** 아니요, 이는 중요한 부분의 분리 문제입니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-339">**Is having separate binding models just duplicating code? -** No, it is a matter of separation of concerns.</span></span> <span data-ttu-id="1b10c-340">작업 메서드에서 데이터베이스 모델을 다시 사용 하면 받는지 모든 속성 (또는 하위 속성) hello HTTP 요청에는 사용자가 클래스를 설정할 수 있다는 점에서 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-340">If you reuse database models in action methods, you are saying any property (or sub-property) in that class can be set by hello user in an HTTP request.</span></span> <span data-ttu-id="1b10c-341">결과 원하지 않은 MVC toodo 필터 목록이 나 해야 별도 클래스 셰이프 tooshow MVC 사용자 대신 입력에서 어떤 데이터를 가져올 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-341">If that is not what you want MVC toodo, you need a filter list or a separate class shape tooshow MVC what data can come from user input instead.</span></span></li><li><span data-ttu-id="1b10c-342">**사용자 입력에 대 한 별도 바인딩을 모델 있으면 용량은 tooduplicate 내 모든 데이터 주석 특성 -** 필요는 없습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-342">**If I have separate binding models for user input, do I have tooduplicate all my data annotation attributes? -** Not necessarily.</span></span> <span data-ttu-id="1b10c-343">MetadataTypeAttribute hello 데이터베이스 모델 클래스 toolink toohello 메타 데이터에는 모델 바인딩 클래스에 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-343">You can use MetadataTypeAttribute on hello database model class toolink toohello metadata on a model binding class.</span></span> <span data-ttu-id="1b10c-344">Hello MetadataTypeAttribute 참조 형식 hello 정당한 참고 (가질 수 있습니다 더 하지 하지만 속성이 더 적게) 형식을 참조 하는 hello의 하위 집합 이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-344">Just note that hello type referenced by hello MetadataTypeAttribute must be a subset of hello referencing type (it can have fewer properties, but not more).</span></span></li><li><span data-ttu-id="1b10c-345">**사용자 입력 모델과 데이터베이스 모델 간에 데이터를 앞뒤로 이동하는 것은 지루한 작업입니다. 리플렉션을 사용하여 모든 속성을 복사할 수 있습니까? -** 예.</span><span class="sxs-lookup"><span data-stu-id="1b10c-345">**Moving data back and forth between user input models and database models is tedious. Can I just copy over all properties using reflection? -** Yes.</span></span> <span data-ttu-id="1b10c-346">hello만 속성 hello 바인딩 모델에 나타나는 toobe 사용자 입력에 안전으로 확인 된 hello 것입니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-346">hello only properties that appear in hello binding models are hello ones you have determined toobe safe for user input.</span></span> <span data-ttu-id="1b10c-347">이러한 두 모델 간의 공통 존재 하는 모든 속성에 대해 리플렉션을 toocopy를 사용 하는 것을 금지 하는 보안 않아도가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-347">There is no security reason that prevents using reflection toocopy over all properties that exist in common between these two models.</span></span></li><li><span data-ttu-id="1b10c-348">**[Bind(Exclude ="â€¦")]는 어떻습니까? 별도의 바인딩 모델을 사용하는 대신 이 특성을 사용할 수 있습니까? -** 이 방법은 권장되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-348">**What about [Bind(Exclude ="â€¦")]. Can I use that instead of having separate binding models? -** This approach is not recommended.</span></span> <span data-ttu-id="1b10c-349">[Bind(Exclude ="â€¦")]를 사용하면 새 속성 모두를 기본적으로 바인딩할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-349">Using [Bind(Exclude ="â€¦")] means that any new property is bindable by default.</span></span> <span data-ttu-id="1b10c-350">새 속성이 추가 되는 경우는 안전 추가 단계 tooremember tookeep 작업 대신 hello 디자인 설정 기본적으로 안전 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-350">When a new property is added, there is an extra step tooremember tookeep things secure, rather than having hello design be secure by default.</span></span> <span data-ttu-id="1b10c-351">Hello 개발자에 따라 속성에 추가 될 때마다이 목록 확인은 위험 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-351">Depending on hello developer checking this list every time a property is added is risky.</span></span></li><li><span data-ttu-id="1b10c-352">**[Bind(Include ="â€¦")]는 편집 작업에 유용합니까? -** 아니요.</span><span class="sxs-lookup"><span data-stu-id="1b10c-352">**Is [Bind(Include ="â€¦")] useful for Edit operations? -** No.</span></span> <span data-ttu-id="1b10c-353">[Bind(Include ="â€¦")]는 삽입 방식 작업(새 데이터 추가)에만 적합합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-353">[Bind(Include ="â€¦")] is only suitable for INSERT-style operations (adding new data).</span></span> <span data-ttu-id="1b10c-354">(기존 데이터를 수정) 스타일 업데이트 작업에 명시적 목록이 허용 되는 속성 tooUpdateModel 또는 TryUpdateModel 전달 하거나 별도 바인딩을 모델 같은 다른 방법을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-354">For UPDATE-style operations (revising existing data), use another approach, like having separate binding models or passing an explicit list of allowed properties tooUpdateModel or TryUpdateModel.</span></span> <span data-ttu-id="1b10c-355">추가 [바인딩합니다 (Include = "â € 해 보아야")] MVC는 개체 인스턴스를 만들고 설정 하나만 hello 표시 속성을 기본값으로 유지 하는 다른 모든 특성 편집 작업을 의미 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-355">Adding a [Bind(Include ="â€¦")] attribute on an Edit operation means that MVC will create an object instance and set only hello listed properties, leaving all others at their default values.</span></span> <span data-ttu-id="1b10c-356">Hello 데이터가 유지 되 면 완전히 바꾸게 됩니다 hello 기존 엔터티를 생략된 속성 tootheir 기본값에 대 한 hello 값 다시 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-356">When hello data is persisted, it will entirely replace hello existing entity, resetting hello values for any omitted properties tootheir defaults.</span></span> <span data-ttu-id="1b10c-357">IsAdmin에서 누락 된 경우 등는 [바인딩합니다 (Include = "â € 해 보아야")] 특성 편집 작업에서 모든 사용자 이름이이 동작을 통해 편집 재설정 tooIsAdmin 것 = false (편집 된 모든 사용자는 관리자 상태 손실 없음).</span><span class="sxs-lookup"><span data-stu-id="1b10c-357">For example, if IsAdmin was omitted from a [Bind(Include ="â€¦")] attribute on an Edit operation, any user whose name was edited via this action would be reset tooIsAdmin = false (any edited user would lose administrator status).</span></span> <span data-ttu-id="1b10c-358">Tooprevent toocertain 속성을 업데이트 하려면 중 하나를 사용 hello 위의 다른 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-358">If you want tooprevent updates toocertain properties, use one of hello other approaches above.</span></span> <span data-ttu-id="1b10c-359">일부 버전의 MVC 도구는 [Bind(Include ="â€¦")]를 포함한 컨트롤러 클래스를 편집 작업에서 생성하며, 해당 목록에서 속성을 제거하면 과도한 게시 공격이 방지됩니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-359">Note that some versions of MVC tooling generate controller classes with [Bind(Include ="â€¦")] on Edit actions and imply that removing a property from that list will prevent over-posting attacks.</span></span> <span data-ttu-id="1b10c-360">그러나 위에서 설명한 대로 해당 접근 의도 한 대로 작동 하지 않습니다 않으며 대신에 생략 hello 속성 tootheir 기본 값의 데이터를 다시 설정 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-360">However, as described above, that approach does not work as intended and instead will reset any data in hello omitted properties tootheir default values.</span></span></li><li><span data-ttu-id="1b10c-361">**만들기 작업의 경우 별도의 바인딩 모델이 아닌 [Bind(Include ="â€¦")]를 사용하는 데 주의해야 합니까? -** 예.</span><span class="sxs-lookup"><span data-stu-id="1b10c-361">**For Create operations, are there any caveats using [Bind(Include ="â€¦")] rather than separate binding models? -** Yes.</span></span> <span data-ttu-id="1b10c-362">첫째, 이 방법은 편집 시나리오에서 작동하지 않으므로 모든 과도한 게시 취약성을 완화하기 위해서는 별도의 두 가지 방법을 유지해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-362">First this approach does not work for Edit scenarios, requiring maintaining two separate approaches for mitigating all over-posting vulnerabilities.</span></span> <span data-ttu-id="1b10c-363">지 속성을 사용 하는 사용자 입력 및 hello 셰이프에 사용 된 hello 셰이프 간의 문제의 분리를 적용 하는 두 번째, 별도 바인딩을 모델 항목 [바인딩합니다 (포함 "â € 해 보아야" =)] 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-363">Second, separate binding models enforce separation of concerns between hello shape used for user input and hello shape used for persistence, something [Bind(Include ="â€¦")] does not do.</span></span> <span data-ttu-id="1b10c-364">셋째, 유의 [바인딩합니다 (Include = "â € 해 보아야")] 최상위 속성;만 처리할 수 있습니다 hello 특성에 (예: "Details.Name") 하위 속성의 일부만 허용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-364">Third, note that [Bind(Include ="â€¦")] can only handle top-level properties; you cannot allow only portions of sub-properties (such as "Details.Name") in hello attribute.</span></span> <span data-ttu-id="1b10c-365">와 마지막으로, 가장 중요 하 게 사용 하 여 [바인딩할 (Include = "â € 해 보아야")] 시간 hello 클래스 모델 바인딩의 사용 저장 해야 하는 추가 단계를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-365">Finally, and perhaps most importantly, using [Bind(Include ="â€¦")] adds an extra step that must be remembered any time hello class is used for model binding.</span></span> <span data-ttu-id="1b10c-366">새 작업 메서드에 toohello 데이터 클래스에 직접 바인딩합니다 tooinclude 잊은 경우는 [바인딩합니다 (포함 "â € 해 보아야" =)] 특성 수 취약 한 tooover 게시 공격 하므로 hello [바인딩할 (포함 "â € 해 보아야" =)] 방법은 기본적으로 상대적으로 덜 안전 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-366">If a new action method binds toohello data class directly and forgets tooinclude a [Bind(Include ="â€¦")] attribute, it can be vulnerable tooover-posting attacks, so hello [Bind(Include ="â€¦")] approach is somewhat less secure by default.</span></span> <span data-ttu-id="1b10c-367">사용 하는 경우 [바인딩 (Include = "â € 해 보아야")], tooremember toospecify 항상 처리할 데이터 클래스 동작 메서드 매개 변수로 표시 될 때마다 해당 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-367">If you use [Bind(Include ="â€¦")], take care always tooremember toospecify it every time your data classes appear as action method parameters.</span></span></li><li><span data-ttu-id="1b10c-368">**Hello를 배치 하는 방법에 대 한 어떤 만들기 작업에 대 한 [바인딩합니다 (Include = "â € 해 보아야")] 특성 hello 모델 클래스 자체에? 이 방법을 사용 하지 hello 필요 tooremember 배치 hello 특성에 있는 모든 작업 메서드에 방지 하려면? -** 경우에 따라이 방법은 작동 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-368">**For Create operations, what about putting hello [Bind(Include ="â€¦")] attribute on hello model class itself? Does not this approach avoid hello need tooremember putting hello attribute on every action method? -** This approach works in some cases.</span></span> <span data-ttu-id="1b10c-369">사용 하 여 [바인딩할 (포함 = "â € 해 보아야")] hello 모델 형식 자체에 (아닌이 클래스를 사용 하 여 액션 매개 변수), hello 필요 tooremember tooinclude hello 방지 않습니다 [바인딩할 (포함 "â € 해 보아야" =)] 모든 작업 메서드에 특성을 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-369">Using [Bind(Include ="â€¦")] on hello model type itself (rather than on action parameters using this class), does avoid hello need tooremember tooinclude hello [Bind(Include ="â€¦")] attribute on every action method.</span></span> <span data-ttu-id="1b10c-370">Hello 클래스에서 직접 hello 특성을 효과적으로 사용 모델 바인딩 목적에 대 한이 클래스의 별도 노출 영역을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-370">Using hello attribute directly on hello class effectively creates a separate surface area of this class for model binding purposes.</span></span> <span data-ttu-id="1b10c-371">그러나 이 방법은 모델 클래스마다 모델 바인딩 셰이프 하나만 허용합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-371">However, this approach only allows for one model binding shape per model class.</span></span> <span data-ttu-id="1b10c-372">하나의 작업 메서드가 해야 tooallow 모델 바인딩 필드 (예를 들어, 관리자 전용 업데이트 하는 동작 사용자 역할)의 다른 작업에는이 필드의 tooprevent 모델 바인딩 필요 하는 경우이 방법은 작동 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-372">If one action method needs tooallow model binding of a field (for example, an administrator-only action that updates user roles) and other actions need tooprevent model binding of this field, this approach will not work.</span></span> <span data-ttu-id="1b10c-373">각 클래스는 모델 바인딩 모양을; 하나만 사용할 수 있습니다. 67gb toorepresent 이러한 별도 모델 바인딩 클래스 중 하나를 사용 하 여 셰이프를 별도 열 데이터 나 별도 동작이 서로 다른 여러 가지 모델 바인딩 셰이프를 필요 [바인딩할 (Include = "â € 해 보아야")] hello 작업 메서드에 특성입니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-373">Each class can only have one model binding shape; if different actions need different model binding shapes, they need toorepresent these separate shapes using either separate model binding classes or separate [Bind(Include ="â€¦")] attributes on hello action methods.</span></span></li><li><span data-ttu-id="1b10c-374">**바인딩 모델이란 무엇입니까? 모델 보기와 같은 작업을 hello? -** 는 두 개의 관련된 개념입니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-374">**What are binding models? Are they hello same thing as view models? -** These are two related concepts.</span></span> <span data-ttu-id="1b10c-375">바인딩 모델에에서 사용 되는 tooa 모델 클래스를 참조 하는 hello 용어는 매개 변수 목록 (hello 셰이프 MVC 모델 바인딩 toohello 작업 메서드에서 전달).</span><span class="sxs-lookup"><span data-stu-id="1b10c-375">hello term binding model refers tooa model class used in an action is parameter list (hello shape passed from MVC model binding toohello action method).</span></span> <span data-ttu-id="1b10c-376">hello 용어 뷰 모델 동작 메서드 tooa 보기에서 전달 된 tooa 모델 클래스를 참조 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-376">hello term view model refers tooa model class passed from an action method tooa view.</span></span> <span data-ttu-id="1b10c-377">보기 관련 모델을 사용 하는 동작 메서드 tooa 보기에서 데이터를 전달 하기 위한 일반적인 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-377">Using a view-specific model is a common approach for passing data from an action method tooa view.</span></span> <span data-ttu-id="1b10c-378">대개이 셰이프는 모델 바인딩에 대 한 적합도 및 hello 용어 뷰 모델에 사용 되는 toorefer hello 양쪽 모두에서 같은 모델에 사용 되는 일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-378">Often, this shape is also suitable for model binding, and hello term view model can be used toorefer hello same model used in both places.</span></span> <span data-ttu-id="1b10c-379">toobe 정확 하 게,이 절차 바인딩 대량 할당을 위해 중요 한 toohello 동작을 전달 하는 hello 모양에 중점을 두기 모델에 대 한 구체적으로 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-379">toobe precise, this procedure talks specifically about binding models, focusing on hello shape passed toohello action, which is what matters for mass assignment purposes.</span></span></li></ul>| 

## <span data-ttu-id="1b10c-380"><a id="rendering"></a>신뢰할 수 없는 웹 출력 이전 toorendering 인코딩</span><span class="sxs-lookup"><span data-stu-id="1b10c-380"><a id="rendering"></a>Encode untrusted web output prior toorendering</span></span>

| <span data-ttu-id="1b10c-381">제목</span><span class="sxs-lookup"><span data-stu-id="1b10c-381">Title</span></span>                   | <span data-ttu-id="1b10c-382">세부 정보</span><span class="sxs-lookup"><span data-stu-id="1b10c-382">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1b10c-383">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="1b10c-383">**Component**</span></span>               | <span data-ttu-id="1b10c-384">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="1b10c-384">Web Application</span></span> | 
| <span data-ttu-id="1b10c-385">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-385">**SDL Phase**</span></span>               | <span data-ttu-id="1b10c-386">빌드</span><span class="sxs-lookup"><span data-stu-id="1b10c-386">Build</span></span> |  
| <span data-ttu-id="1b10c-387">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="1b10c-387">**Applicable Technologies**</span></span> | <span data-ttu-id="1b10c-388">일반, Web Forms, MVC5, MVC6</span><span class="sxs-lookup"><span data-stu-id="1b10c-388">Generic, Web Forms, MVC5, MVC6</span></span> |
| <span data-ttu-id="1b10c-389">**특성**</span><span class="sxs-lookup"><span data-stu-id="1b10c-389">**Attributes**</span></span>              | <span data-ttu-id="1b10c-390">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-390">N/A</span></span>  |
| <span data-ttu-id="1b10c-391">**참조**</span><span class="sxs-lookup"><span data-stu-id="1b10c-391">**References**</span></span>              | <span data-ttu-id="1b10c-392">[어떻게 ASP.NET의 tooprevent 교차 사이트 스크립팅](http://msdn.microsoft.com/library/ms998274.aspx), [교차 사이트 스크립팅](http://cwe.mitre.org/data/definitions/79.html), [XSS (교차 사이트 스크립팅) 방지 치트 시트](https://www.owasp.org/index.php/XSS_(Cross_Site_Scripting)_Prevention_Cheat_Sheet)</span><span class="sxs-lookup"><span data-stu-id="1b10c-392">[How tooprevent Cross-site scripting in ASP.NET](http://msdn.microsoft.com/library/ms998274.aspx), [Cross-site Scripting](http://cwe.mitre.org/data/definitions/79.html), [XSS (Cross Site Scripting) Prevention Cheat Sheet](https://www.owasp.org/index.php/XSS_(Cross_Site_Scripting)_Prevention_Cheat_Sheet)</span></span> |
| <span data-ttu-id="1b10c-393">**단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-393">**Steps**</span></span> | <span data-ttu-id="1b10c-394">사이트 간 (약어로 XSS) 스크립팅은 온라인 서비스 또는 hello 웹에서 입력을 사용 하는 응용 프로그램 구성에 대 한 공격입니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-394">Cross-site scripting (commonly abbreviated as XSS) is an attack vector for online services or any application/component that consumes input from hello web.</span></span> <span data-ttu-id="1b10c-395">XSS 취약점 취약 한 웹 응용 프로그램을 통해 다른 사용자의 컴퓨터에서 공격자 tooexecute 스크립트를 허용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-395">XSS vulnerabilities may allow an attacker tooexecute script on another user's machine through a vulnerable web application.</span></span> <span data-ttu-id="1b10c-396">악의적인 스크립트 사용된 toosteal 쿠키를 수 있으며 JavaScript 통해 희생자의 컴퓨터와 무단 변경 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-396">Malicious scripts can be used toosteal cookies and otherwise tamper with a victim's machine through JavaScript.</span></span> <span data-ttu-id="1b10c-397">XSS는 사용자 입력의 유효성을 검사하고 웹 페이지에 렌더링하기 전에 형식과 인코딩이 올바른지 확인함으로써 방지됩니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-397">XSS is prevented by validating user input, ensuring it is well formed and encoding before it is rendered in a web page.</span></span> <span data-ttu-id="1b10c-398">입력 유효성 검사 및 출력 인코딩은 Web Protection Library를 사용하여 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-398">Input validation and output encoding can be done by using Web Protection Library.</span></span> <span data-ttu-id="1b10c-399">관리 코드에 대 한 (C\#, VB.net 등), 하나를 사용 하거나 hello hello 사용자 입력 매니페스트 가져옵니다 hello 컨텍스트에 따라 웹 보호 (앤티 XSS) 라이브러리에서에서 인코딩 방법 보다 적절 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-399">For Managed code (C\#, VB.net, etc.), use one or more appropriate encoding methods from hello Web Protection (Anti-XSS) Library, depending on hello context where hello user input gets manifested:</span></span>| 

### <a name="example"></a><span data-ttu-id="1b10c-400">예제</span><span class="sxs-lookup"><span data-stu-id="1b10c-400">Example</span></span>

```C#
* Encoder.HtmlEncode 
* Encoder.HtmlAttributeEncode 
* Encoder.JavaScriptEncode 
* Encoder.UrlEncode
* Encoder.VisualBasicScriptEncode 
* Encoder.XmlEncode 
* Encoder.XmlAttributeEncode 
* Encoder.CssEncode 
* Encoder.LdapEncode 
```

## <span data-ttu-id="1b10c-401"><a id="typemodel"></a>모든 문자열 형식 모델 속성에 대한 입력 유효성 검사 및 필터링 수행</span><span class="sxs-lookup"><span data-stu-id="1b10c-401"><a id="typemodel"></a>Perform input validation and filtering on all string type Model properties</span></span>

| <span data-ttu-id="1b10c-402">제목</span><span class="sxs-lookup"><span data-stu-id="1b10c-402">Title</span></span>                   | <span data-ttu-id="1b10c-403">세부 정보</span><span class="sxs-lookup"><span data-stu-id="1b10c-403">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1b10c-404">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="1b10c-404">**Component**</span></span>               | <span data-ttu-id="1b10c-405">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="1b10c-405">Web Application</span></span> | 
| <span data-ttu-id="1b10c-406">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-406">**SDL Phase**</span></span>               | <span data-ttu-id="1b10c-407">빌드</span><span class="sxs-lookup"><span data-stu-id="1b10c-407">Build</span></span> |  
| <span data-ttu-id="1b10c-408">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="1b10c-408">**Applicable Technologies**</span></span> | <span data-ttu-id="1b10c-409">일반, MVC5, MVC6</span><span class="sxs-lookup"><span data-stu-id="1b10c-409">Generic, MVC5, MVC6</span></span> |
| <span data-ttu-id="1b10c-410">**특성**</span><span class="sxs-lookup"><span data-stu-id="1b10c-410">**Attributes**</span></span>              | <span data-ttu-id="1b10c-411">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-411">N/A</span></span>  |
| <span data-ttu-id="1b10c-412">**참조**</span><span class="sxs-lookup"><span data-stu-id="1b10c-412">**References**</span></span>              | <span data-ttu-id="1b10c-413">[유효성 검사 추가](http://www.asp.net/mvc/overview/getting-started/introduction/adding-validation), [MVC 응용 프로그램에서 모델 데이터 유효성 검사](http://msdn.microsoft.com/library/dd410404(v=vs.90).aspx)(영문), [ASP.NET MVC 응용 프로그램을 위한 기본 원칙](http://msdn.microsoft.com/magazine/dd942822.aspx)(영문)</span><span class="sxs-lookup"><span data-stu-id="1b10c-413">[Adding Validation](http://www.asp.net/mvc/overview/getting-started/introduction/adding-validation), [Validating Model Data in an MVC Application](http://msdn.microsoft.com/library/dd410404(v=vs.90).aspx), [Guiding Principles For Your ASP.NET MVC Applications](http://msdn.microsoft.com/magazine/dd942822.aspx)</span></span> |
| <span data-ttu-id="1b10c-414">**단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-414">**Steps**</span></span> | <p><span data-ttu-id="1b10c-415">사용 하기 전에 hello 응용 프로그램 tooensure에 악의적인 사용자 입력에 대 한 hello 응용 프로그램 보호는 모든 hello 입력된 매개 변수의 유효성을 검사 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-415">All hello input parameters must be validated before they are used in hello application tooensure that hello application is safeguarded against malicious user inputs.</span></span> <span data-ttu-id="1b10c-416">화이트 리스트 유효성 검사 전략으로 서버 쪽에서 유효성 검사 정규식을 사용 하 여 hello 입력된 값의 유효성을 검사 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-416">Validate hello input values using regular expression validations on server side with a whitelist validation strategy.</span></span> <span data-ttu-id="1b10c-417">사용자 입력을 unsanitized / toohello 메서드에 전달 된 매개 변수 코드 주입 취약점 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-417">Unsanitized user inputs / parameters passed toohello methods can cause code injection vulnerabilities.</span></span></p><p><span data-ttu-id="1b10c-418">웹 응용 프로그램의 경우 양식 필드, QueryStrings, 쿠키, HTTP 헤더 및 웹 서비스 매개 변수가 진입점에 포함될 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-418">For web applications, entry points can also include form fields, QueryStrings, cookies, HTTP headers, and web service parameters.</span></span></p><p><span data-ttu-id="1b10c-419">hello 다음 입력된 유효성 검사 수행 해야 모델 바인딩에 따라:</span><span class="sxs-lookup"><span data-stu-id="1b10c-419">hello following input validation checks must be performed upon model binding:</span></span></p><ul><li><span data-ttu-id="1b10c-420">허용된 되는 문자 및 최대 허용 길이 수락 하는 것에 대 한 정규식으로 주석이로 주석을 달아야 hello 모델 속성</span><span class="sxs-lookup"><span data-stu-id="1b10c-420">hello model properties should be annotated with RegularExpression annotation, for accepting allowed characters and maximum permissible length</span></span></li><li><span data-ttu-id="1b10c-421">ModelState 유효성을 수행 해야 하는 hello 컨트롤러 메서드</span><span class="sxs-lookup"><span data-stu-id="1b10c-421">hello controller methods should perform ModelState validity</span></span></li></ul>|

## <span data-ttu-id="1b10c-422"><a id="richtext"></a>모든 문자를 허용하는 양식 필드(예: 서식 있는 텍스트 편집기)에서 삭제 적용</span><span class="sxs-lookup"><span data-stu-id="1b10c-422"><a id="richtext"></a>Sanitization should be applied on form fields that accept all characters, e.g, rich text editor</span></span>

| <span data-ttu-id="1b10c-423">제목</span><span class="sxs-lookup"><span data-stu-id="1b10c-423">Title</span></span>                   | <span data-ttu-id="1b10c-424">세부 정보</span><span class="sxs-lookup"><span data-stu-id="1b10c-424">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1b10c-425">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="1b10c-425">**Component**</span></span>               | <span data-ttu-id="1b10c-426">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="1b10c-426">Web Application</span></span> | 
| <span data-ttu-id="1b10c-427">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-427">**SDL Phase**</span></span>               | <span data-ttu-id="1b10c-428">빌드</span><span class="sxs-lookup"><span data-stu-id="1b10c-428">Build</span></span> |  
| <span data-ttu-id="1b10c-429">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="1b10c-429">**Applicable Technologies**</span></span> | <span data-ttu-id="1b10c-430">일반</span><span class="sxs-lookup"><span data-stu-id="1b10c-430">Generic</span></span> |
| <span data-ttu-id="1b10c-431">**특성**</span><span class="sxs-lookup"><span data-stu-id="1b10c-431">**Attributes**</span></span>              | <span data-ttu-id="1b10c-432">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-432">N/A</span></span>  |
| <span data-ttu-id="1b10c-433">**참조**</span><span class="sxs-lookup"><span data-stu-id="1b10c-433">**References**</span></span>              | <span data-ttu-id="1b10c-434">[안전하지 않은 입력 인코딩](https://msdn.microsoft.com/library/ff647397.aspx#paght000003_step3)(영어), [HTML 삭제기](https://github.com/mganss/HtmlSanitizer)(영어)</span><span class="sxs-lookup"><span data-stu-id="1b10c-434">[Encode Unsafe Input](https://msdn.microsoft.com/library/ff647397.aspx#paght000003_step3), [HTML Sanitizer](https://github.com/mganss/HtmlSanitizer)</span></span> |
| <span data-ttu-id="1b10c-435">**단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-435">**Steps**</span></span> | <p><span data-ttu-id="1b10c-436">정적으로 toouse 원하는 모든 태그를 식별 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-436">Identify all static markup tags that you want toouse.</span></span> <span data-ttu-id="1b10c-437">일반적인 방법은 서식 toosafe HTML 요소와 같은 toorestrict `<b>` (굵게) 및 `<i>` (기울임꼴)입니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-437">A common practice is toorestrict formatting toosafe HTML elements, such as `<b>` (bold) and `<i>` (italic).</span></span></p><p><span data-ttu-id="1b10c-438">HTML 인코딩할 hello 데이터를 쓰기 전에 것입니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-438">Before writing hello data, HTML-encode it.</span></span> <span data-ttu-id="1b10c-439">이렇게 하면 toobe 시켜 안전 악성 스크립트 실행 코드가 아니라 텍스트로 처리 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-439">This makes any malicious script safe by causing it toobe handled as text, not as executable code.</span></span></p><ol><li><span data-ttu-id="1b10c-440">ASP.NET 요청 hello를 추가 하 여 유효성 검사 ValidateRequest hello 사용 안 함 = "false" 특성 toohello @ Page 지시문</span><span class="sxs-lookup"><span data-stu-id="1b10c-440">Disable ASP.NET request validation by hello adding hello ValidateRequest="false" attribute toohello @ Page directive</span></span></li><li><span data-ttu-id="1b10c-441">Hello 문자열 입력 hello HtmlEncode 메서드로 인코딩</span><span class="sxs-lookup"><span data-stu-id="1b10c-441">Encode hello string input with hello HtmlEncode method</span></span></li><li><span data-ttu-id="1b10c-442">StringBuilder 및 해당 바꾸기 메서드 tooselectively toopermit 원하는 hello HTML 요소에서 인코딩을 hello를 제거 하는 호출을 사용 하 여</span><span class="sxs-lookup"><span data-stu-id="1b10c-442">Use a StringBuilder and call its Replace method tooselectively remove hello encoding on hello HTML elements that you want toopermit</span></span></li></ol><p><span data-ttu-id="1b10c-443">hello hello에 대 한 페이지 참조 ASP.NET 요청 유효성 검사 설정 하 여 해제 `ValidateRequest="false"`합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-443">hello page-in hello references disables ASP.NET request validation by setting `ValidateRequest="false"`.</span></span> <span data-ttu-id="1b10c-444">이 HTML로 인코딩하고 hello 입력과 hello를 선택적으로 허용 `<b>` 및 `<i>` 또는 HTML 삭제에 대 한.NET 라이브러리 사용 될 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-444">It HTML-encodes hello input and selectively allows hello `<b>` and `<i>` Alternatively, a .NET library for HTML sanitization may also be used.</span></span></p><p><span data-ttu-id="1b10c-445">HtmlSanitizer는 HTML 조각 및 tooXSS 공격을 야기할 수 있는 구문에서 문서를 정리 하기 위해.NET 라이브러리입니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-445">HtmlSanitizer is a .NET library for cleaning HTML fragments and documents from constructs that can lead tooXSS attacks.</span></span> <span data-ttu-id="1b10c-446">AngleSharp tooparse 사용 하 여, 조작 및 HTML 및 CSS를 렌더링 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-446">It uses AngleSharp tooparse, manipulate, and render HTML and CSS.</span></span> <span data-ttu-id="1b10c-447">NuGet 패키지로 HtmlSanitizer 설치할 수 있으며이 메서드를 통해 관련 CSS 또는 HTML 삭제가, hello 서버 쪽에서 해당 hello 사용자 입력을 전달할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-447">HtmlSanitizer can be installed as a NuGet package, and hello user input can be passed through relevant HTML or CSS sanitization methods, as applicable, on hello server side.</span></span> <span data-ttu-id="1b10c-448">보안 제어로서의 삭제는 마지막 옵션으로만 고려해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-448">Please note that Sanitization as a security control should be considered only as a last option.</span></span></p><p><span data-ttu-id="1b10c-449">입력 유효성 검사 및 출력 인코딩은 보다 효과적인 보안 제어로 간주됩니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-449">Input validation and Output Encoding are considered better security controls.</span></span></p> |

## <span data-ttu-id="1b10c-450"><a id="inbuilt-encode"></a>기본 제공 된 인코딩 갖지 않는 DOM 요소 toosinks를 할당 하지 마십시오</span><span class="sxs-lookup"><span data-stu-id="1b10c-450"><a id="inbuilt-encode"></a>Do not assign DOM elements toosinks that do not have inbuilt encoding</span></span>

| <span data-ttu-id="1b10c-451">제목</span><span class="sxs-lookup"><span data-stu-id="1b10c-451">Title</span></span>                   | <span data-ttu-id="1b10c-452">세부 정보</span><span class="sxs-lookup"><span data-stu-id="1b10c-452">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1b10c-453">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="1b10c-453">**Component**</span></span>               | <span data-ttu-id="1b10c-454">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="1b10c-454">Web Application</span></span> | 
| <span data-ttu-id="1b10c-455">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-455">**SDL Phase**</span></span>               | <span data-ttu-id="1b10c-456">빌드</span><span class="sxs-lookup"><span data-stu-id="1b10c-456">Build</span></span> |  
| <span data-ttu-id="1b10c-457">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="1b10c-457">**Applicable Technologies**</span></span> | <span data-ttu-id="1b10c-458">일반</span><span class="sxs-lookup"><span data-stu-id="1b10c-458">Generic</span></span> |
| <span data-ttu-id="1b10c-459">**특성**</span><span class="sxs-lookup"><span data-stu-id="1b10c-459">**Attributes**</span></span>              | <span data-ttu-id="1b10c-460">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-460">N/A</span></span>  |
| <span data-ttu-id="1b10c-461">**참조**</span><span class="sxs-lookup"><span data-stu-id="1b10c-461">**References**</span></span>              | <span data-ttu-id="1b10c-462">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-462">N/A</span></span>  |
| <span data-ttu-id="1b10c-463">**단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-463">**Steps**</span></span> | <span data-ttu-id="1b10c-464">다양한 JavaScript 함수는 기본적으로 인코딩을 수행하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-464">Many javascript functions don't do encoding by default.</span></span> <span data-ttu-id="1b10c-465">이러한 함수를 통해 신뢰할 수 없는 입력된 tooDOM 요소에 할당할 때 교차 사이트 (XSS) 스크립트 실행 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-465">When assigning untrusted input tooDOM elements via such functions, may result in cross site script (XSS) executions.</span></span>| 

### <a name="example"></a><span data-ttu-id="1b10c-466">예제</span><span class="sxs-lookup"><span data-stu-id="1b10c-466">Example</span></span>
<span data-ttu-id="1b10c-467">다음은 안전하지 않은 예제입니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-467">Following are insecure examples:</span></span> 

```
document.getElementByID("div1").innerHtml = value;
$("#userName").html(res.Name);
return $('<div/>').html(value)
$('body').append(resHTML);   
```
<span data-ttu-id="1b10c-468">`innerHtml`을 사용하지 않는 대신 `innerText`를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-468">Don't use `innerHtml`; instead use `innerText`.</span></span> <span data-ttu-id="1b10c-469">마찬가지로 `$("#elm").html()` 대신 `$("#elm").text()`를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-469">Similarly, instead of `$("#elm").html()`, use `$("#elm").text()`</span></span> 

## <span data-ttu-id="1b10c-470"><a id="redirect-safe"></a>모든 유효성 검사 hello 응용 프로그램 내에서 리디렉션을 닫히거나 안전 하 게 수행</span><span class="sxs-lookup"><span data-stu-id="1b10c-470"><a id="redirect-safe"></a>Validate all redirects within hello application are closed or done safely</span></span>

| <span data-ttu-id="1b10c-471">제목</span><span class="sxs-lookup"><span data-stu-id="1b10c-471">Title</span></span>                   | <span data-ttu-id="1b10c-472">세부 정보</span><span class="sxs-lookup"><span data-stu-id="1b10c-472">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1b10c-473">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="1b10c-473">**Component**</span></span>               | <span data-ttu-id="1b10c-474">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="1b10c-474">Web Application</span></span> | 
| <span data-ttu-id="1b10c-475">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-475">**SDL Phase**</span></span>               | <span data-ttu-id="1b10c-476">빌드</span><span class="sxs-lookup"><span data-stu-id="1b10c-476">Build</span></span> |  
| <span data-ttu-id="1b10c-477">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="1b10c-477">**Applicable Technologies**</span></span> | <span data-ttu-id="1b10c-478">일반</span><span class="sxs-lookup"><span data-stu-id="1b10c-478">Generic</span></span> |
| <span data-ttu-id="1b10c-479">**특성**</span><span class="sxs-lookup"><span data-stu-id="1b10c-479">**Attributes**</span></span>              | <span data-ttu-id="1b10c-480">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-480">N/A</span></span>  |
| <span data-ttu-id="1b10c-481">**참조**</span><span class="sxs-lookup"><span data-stu-id="1b10c-481">**References**</span></span>              | [<span data-ttu-id="1b10c-482">OAuth 2.0 Authorization Framework-hello Open 리디렉터</span><span class="sxs-lookup"><span data-stu-id="1b10c-482">hello OAuth 2.0 Authorization Framework - Open Redirectors</span></span>](http://tools.ietf.org/html/rfc6749#section-10.15) |
| <span data-ttu-id="1b10c-483">**단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-483">**Steps**</span></span> | <p><span data-ttu-id="1b10c-484">리디렉션 tooa 사용자가 제공한 위치를 요구 하는 응용 프로그램 디자인 hello 가능한 리디렉션 tooa 미리 정의 된 "안전한"의 대상 목록 사이트 또는 도메인을 제한 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-484">Application design requiring redirection tooa user-supplied location must constrain hello possible redirection targets tooa predefined "safe" list of sites or domains.</span></span> <span data-ttu-id="1b10c-485">Hello 응용 프로그램에서 모든 리디렉션이 종료/안전 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-485">All redirects in hello application must be closed/safe.</span></span></p><p><span data-ttu-id="1b10c-486">toodo이:</span><span class="sxs-lookup"><span data-stu-id="1b10c-486">toodo this:</span></span></p><ul><li><span data-ttu-id="1b10c-487">모든 리디렉션을 식별합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-487">Identify all redirects</span></span></li><li><span data-ttu-id="1b10c-488">리디렉션마다 적절한 완화를 구현합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-488">Implement an appropriate mitigation for each redirect.</span></span> <span data-ttu-id="1b10c-489">적절한 완화에는 리디렉션 허용 목록 또는 사용자 확인이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-489">Appropriate mitigations include redirect whitelist or user confirmation.</span></span> <span data-ttu-id="1b10c-490">오픈 리디렉션 취약성이 있는 웹 사이트 또는 서비스에서 Facebook/OAuth/OpenID ID 공급자를 사용하는 경우 공격자가 사용자의 로그온 토큰을 도용하여 해당 사용자를 가장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-490">If a web site or service with an open redirect vulnerability uses Facebook/OAuth/OpenID identity providers, an attacker can steal a user's logon token and impersonate that user.</span></span> <span data-ttu-id="1b10c-491">이 내재 된 위험 RFC 6749 "hello OAuth 2.0 권한 부여 프레임 워크"에 설명 되어 있는 OAuth를 사용 하는 경우, 마찬가지로 10.15 "열고 리디렉션합니다" 섹션, 스피어 피싱 공격 열려 리디렉션을 사용 하 여 사용자의 자격 증명을 손상 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-491">This is an inherent risk when using OAuth, which is documented in RFC 6749 "hello OAuth 2.0 Authorization Framework", Section 10.15 "Open Redirects" Similarly, users' credentials can be compromised by spear phishing attacks using open redirects</span></span></li></ul>|

## <span data-ttu-id="1b10c-492"><a id="string-method"></a>컨트롤러 메서드에서 허용하는 모든 문자열 형식 매개 변수에 대한 입력 유효성 검사 구현</span><span class="sxs-lookup"><span data-stu-id="1b10c-492"><a id="string-method"></a>Implement input validation on all string type parameters accepted by Controller methods</span></span>

| <span data-ttu-id="1b10c-493">제목</span><span class="sxs-lookup"><span data-stu-id="1b10c-493">Title</span></span>                   | <span data-ttu-id="1b10c-494">세부 정보</span><span class="sxs-lookup"><span data-stu-id="1b10c-494">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1b10c-495">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="1b10c-495">**Component**</span></span>               | <span data-ttu-id="1b10c-496">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="1b10c-496">Web Application</span></span> | 
| <span data-ttu-id="1b10c-497">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-497">**SDL Phase**</span></span>               | <span data-ttu-id="1b10c-498">빌드</span><span class="sxs-lookup"><span data-stu-id="1b10c-498">Build</span></span> |  
| <span data-ttu-id="1b10c-499">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="1b10c-499">**Applicable Technologies**</span></span> | <span data-ttu-id="1b10c-500">일반, MVC5, MVC6</span><span class="sxs-lookup"><span data-stu-id="1b10c-500">Generic, MVC5, MVC6</span></span> |
| <span data-ttu-id="1b10c-501">**특성**</span><span class="sxs-lookup"><span data-stu-id="1b10c-501">**Attributes**</span></span>              | <span data-ttu-id="1b10c-502">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-502">N/A</span></span>  |
| <span data-ttu-id="1b10c-503">**참조**</span><span class="sxs-lookup"><span data-stu-id="1b10c-503">**References**</span></span>              | <span data-ttu-id="1b10c-504">[MVC 응용 프로그램에서 모델 데이터 유효성 검사](http://msdn.microsoft.com/library/dd410404(v=vs.90).aspx)(영문), [ASP.NET MVC 응용 프로그램을 위한 기본 원칙](http://msdn.microsoft.com/magazine/dd942822.aspx)(영문)</span><span class="sxs-lookup"><span data-stu-id="1b10c-504">[Validating Model Data in an MVC Application](http://msdn.microsoft.com/library/dd410404(v=vs.90).aspx), [Guiding Principles For Your ASP.NET MVC Applications](http://msdn.microsoft.com/magazine/dd942822.aspx)</span></span> |
| <span data-ttu-id="1b10c-505">**단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-505">**Steps**</span></span> | <span data-ttu-id="1b10c-506">인수로 모델이 아니라 기본 데이터 형식만 허용하는 메서드의 경우 정규식을 사용하여 입력 유효성 검사를 수행해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-506">For methods that just accept primitive data type, and not models as argument,input validation using Regular Expression should be done.</span></span> <span data-ttu-id="1b10c-507">여기서는 Regex.IsMatch를 유효한 정규식 패턴과 함께 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-507">Here Regex.IsMatch should be used with a valid regex pattern.</span></span> <span data-ttu-id="1b10c-508">Hello 입력와 일치 하지 않으면 지정 된 정규식 hello, 컨트롤 추가, 계속 진행 하지 않아야 및 유효성 검사 실패와 관련 된 적절 한 경고를 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-508">If hello input doesn't match hello specified Regular Expression, control should not proceed further, and an adequate warning regarding validation failure should be displayed.</span></span>| 

## <span data-ttu-id="1b10c-509"><a id="dos-expression"></a>정규식 toobad 정규식 인해 tooprevent DoS 처리에 대 한 최대 제한 시간 제한 설정</span><span class="sxs-lookup"><span data-stu-id="1b10c-509"><a id="dos-expression"></a>Set upper limit timeout for regular expression processing tooprevent DoS due toobad regular expressions</span></span>

| <span data-ttu-id="1b10c-510">제목</span><span class="sxs-lookup"><span data-stu-id="1b10c-510">Title</span></span>                   | <span data-ttu-id="1b10c-511">세부 정보</span><span class="sxs-lookup"><span data-stu-id="1b10c-511">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1b10c-512">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="1b10c-512">**Component**</span></span>               | <span data-ttu-id="1b10c-513">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="1b10c-513">Web Application</span></span> | 
| <span data-ttu-id="1b10c-514">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-514">**SDL Phase**</span></span>               | <span data-ttu-id="1b10c-515">빌드</span><span class="sxs-lookup"><span data-stu-id="1b10c-515">Build</span></span> |  
| <span data-ttu-id="1b10c-516">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="1b10c-516">**Applicable Technologies**</span></span> | <span data-ttu-id="1b10c-517">일반, Web Forms, MVC5, MVC6</span><span class="sxs-lookup"><span data-stu-id="1b10c-517">Generic, Web Forms, MVC5, MVC6</span></span>  |
| <span data-ttu-id="1b10c-518">**특성**</span><span class="sxs-lookup"><span data-stu-id="1b10c-518">**Attributes**</span></span>              | <span data-ttu-id="1b10c-519">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-519">N/A</span></span>  |
| <span data-ttu-id="1b10c-520">**참조**</span><span class="sxs-lookup"><span data-stu-id="1b10c-520">**References**</span></span>              | [<span data-ttu-id="1b10c-521">DefaultRegexMatchTimeout 속성</span><span class="sxs-lookup"><span data-stu-id="1b10c-521">DefaultRegexMatchTimeout Property </span></span>](https://msdn.microsoft.com/library/system.web.configuration.httpruntimesection.defaultregexmatchtimeout.aspx) |
| <span data-ttu-id="1b10c-522">**단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-522">**Steps**</span></span> | <span data-ttu-id="1b10c-523">tooensure 서비스 거부 공격에 대 한 hello 전역 기본 제한 시간을 설정 잘못 시키는 많은 역 추적 정규식을 생성 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-523">tooensure denial of service attacks against badly created regular expressions, that cause a lot of backtracking, set hello global default timeout.</span></span> <span data-ttu-id="1b10c-524">Hello 처리 시간이 hello 상한값 정의 된 것 보다 더 오래 걸리면에 시간 제한 예외를 throw 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-524">If hello processing time takes longer than hello defined upper limit, it would throw a Timeout exception.</span></span> <span data-ttu-id="1b10c-525">구성 되는 것을 hello timeout 한정 된 것입니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-525">If nothing is configured, hello timeout would be infinite.</span></span>| 

### <a name="example"></a><span data-ttu-id="1b10c-526">예제</span><span class="sxs-lookup"><span data-stu-id="1b10c-526">Example</span></span>
<span data-ttu-id="1b10c-527">예를 들어 hello 다음과 같은 구성이 throw 합니다는 RegexMatchTimeoutException hello 처리 5 초 넘게 걸리는 경우:</span><span class="sxs-lookup"><span data-stu-id="1b10c-527">For example, hello following configuration will throw a RegexMatchTimeoutException, if hello processing takes more than 5 seconds:</span></span> 

```C#
<httpRuntime targetFramework="4.5" defaultRegexMatchTimeout="00:00:05" />
```

## <span data-ttu-id="1b10c-528"><a id="html-razor"></a>Razor 보기에서 Html.Raw 사용 방지</span><span class="sxs-lookup"><span data-stu-id="1b10c-528"><a id="html-razor"></a>Avoid using Html.Raw in Razor views</span></span>

| <span data-ttu-id="1b10c-529">제목</span><span class="sxs-lookup"><span data-stu-id="1b10c-529">Title</span></span>                   | <span data-ttu-id="1b10c-530">세부 정보</span><span class="sxs-lookup"><span data-stu-id="1b10c-530">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1b10c-531">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="1b10c-531">**Component**</span></span>               | <span data-ttu-id="1b10c-532">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="1b10c-532">Web Application</span></span> | 
| <span data-ttu-id="1b10c-533">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-533">**SDL Phase**</span></span>               | <span data-ttu-id="1b10c-534">빌드</span><span class="sxs-lookup"><span data-stu-id="1b10c-534">Build</span></span> |  
| <span data-ttu-id="1b10c-535">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="1b10c-535">**Applicable Technologies**</span></span> | <span data-ttu-id="1b10c-536">MVC5, MVC6</span><span class="sxs-lookup"><span data-stu-id="1b10c-536">MVC5, MVC6</span></span> |
| <span data-ttu-id="1b10c-537">**특성**</span><span class="sxs-lookup"><span data-stu-id="1b10c-537">**Attributes**</span></span>              | <span data-ttu-id="1b10c-538">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-538">N/A</span></span>  |
| <span data-ttu-id="1b10c-539">**참조**</span><span class="sxs-lookup"><span data-stu-id="1b10c-539">**References**</span></span>              | <span data-ttu-id="1b10c-540">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-540">N/A</span></span>  |
| <span data-ttu-id="1b10c-541">단계</span><span class="sxs-lookup"><span data-stu-id="1b10c-541">Step</span></span> | <span data-ttu-id="1b10c-542">ASP.Net WebPages(Razor)는 자동 HTML 인코딩을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-542">ASP.Net WebPages (Razor) perform automatic HTML encoding.</span></span> <span data-ttu-id="1b10c-543">포함된 코드 너깃(@ 블록)으로 인쇄된 모든 문자열은 자동으로 HTML로 인코딩됩니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-543">All strings printed by embedded code nuggets (@ blocks) are automatically HTML-encoded.</span></span> <span data-ttu-id="1b10c-544">그러나 `HtmlHelper.Raw` 메서드가 호출되면 HTML로 인코딩되지 않은 태그를 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-544">However, when `HtmlHelper.Raw` Method is invoked, it returns markup that is not HTML encoded.</span></span> <span data-ttu-id="1b10c-545">경우 `Html.Raw()` hello 자동 인코딩 보호 Razor 제공 하는 과정이 생략, 도우미 메서드를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-545">If `Html.Raw()` helper method is used, it bypasses hello automatic encoding protection that Razor provides.</span></span>|

### <a name="example"></a><span data-ttu-id="1b10c-546">예제</span><span class="sxs-lookup"><span data-stu-id="1b10c-546">Example</span></span>
<span data-ttu-id="1b10c-547">다음은 안전하지 않은 예제입니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-547">Following is an insecure example:</span></span> 

```C#
<div class="form-group">
            @Html.Raw(Model.AccountConfirmText)
        </div>
        <div class="form-group">
            @Html.Raw(Model.PaymentConfirmText)
        </div>
</div>
```
<span data-ttu-id="1b10c-548">사용 하지 마십시오 `Html.Raw()` toodisplay 태그 경우를 제외 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-548">Do not use `Html.Raw()` unless you need toodisplay markup.</span></span> <span data-ttu-id="1b10c-549">이 메서드는 암시적으로 출력 인코딩을 수행하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-549">This method does not perform output encoding implicitly.</span></span> <span data-ttu-id="1b10c-550">다른 ASP.NET 도우미(예: `@Html.DisplayFor()`)를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-550">Use other ASP.NET helpers e.g., `@Html.DisplayFor()`</span></span> 

## <span data-ttu-id="1b10c-551"><a id="stored-proc"></a>저장 프로시저에서 동적 쿼리 사용 금지</span><span class="sxs-lookup"><span data-stu-id="1b10c-551"><a id="stored-proc"></a>Do not use dynamic queries in stored procedures</span></span>

| <span data-ttu-id="1b10c-552">제목</span><span class="sxs-lookup"><span data-stu-id="1b10c-552">Title</span></span>                   | <span data-ttu-id="1b10c-553">세부 정보</span><span class="sxs-lookup"><span data-stu-id="1b10c-553">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1b10c-554">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="1b10c-554">**Component**</span></span>               | <span data-ttu-id="1b10c-555">데이터베이스</span><span class="sxs-lookup"><span data-stu-id="1b10c-555">Database</span></span> | 
| <span data-ttu-id="1b10c-556">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-556">**SDL Phase**</span></span>               | <span data-ttu-id="1b10c-557">빌드</span><span class="sxs-lookup"><span data-stu-id="1b10c-557">Build</span></span> |  
| <span data-ttu-id="1b10c-558">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="1b10c-558">**Applicable Technologies**</span></span> | <span data-ttu-id="1b10c-559">일반</span><span class="sxs-lookup"><span data-stu-id="1b10c-559">Generic</span></span> |
| <span data-ttu-id="1b10c-560">**특성**</span><span class="sxs-lookup"><span data-stu-id="1b10c-560">**Attributes**</span></span>              | <span data-ttu-id="1b10c-561">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-561">N/A</span></span>  |
| <span data-ttu-id="1b10c-562">**참조**</span><span class="sxs-lookup"><span data-stu-id="1b10c-562">**References**</span></span>              | <span data-ttu-id="1b10c-563">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-563">N/A</span></span>  |
| <span data-ttu-id="1b10c-564">**단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-564">**Steps**</span></span> | <p><span data-ttu-id="1b10c-565">Hello 데이터베이스에 입력된 유효성 검사 toorun 임의의 명령이의 취약점을 악용 하는 SQL 삽입 공격입니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-565">A SQL injection attack exploits vulnerabilities in input validation toorun arbitrary commands in hello database.</span></span> <span data-ttu-id="1b10c-566">발생할 수 있습니다 응용 프로그램이 입력된 tooconstruct 동적을 사용 하는 경우 SQL 문을 tooaccess hello 데이터베이스입니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-566">It can occur when your application uses input tooconstruct dynamic SQL statements tooaccess hello database.</span></span> <span data-ttu-id="1b10c-567">또한 코드에서 원시 사용자 입력을 포함한 문자열이 전달되는 저장 프로시저를 사용하는 경우에도 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-567">It can also occur if your code uses stored procedures that are passed strings that contain raw user input.</span></span> <span data-ttu-id="1b10c-568">SQL 삽입 공격 hello를 사용 하 여 hello 데이터베이스의 hello 공격자가 임의의 명령을 실행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-568">Using hello SQL injection attack, hello attacker can execute arbitrary commands in hello database.</span></span> <span data-ttu-id="1b10c-569">(저장된 프로시저의 hello SQL 문을 포함)는 모든 SQL 문에 매개 변수가 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-569">All SQL statements (including hello SQL statements in stored procedures) must be parameterized.</span></span> <span data-ttu-id="1b10c-570">매개 변수가 있는 SQL 문을 강력한 형식 때문에 문제 없이 (예: 작은따옴표) tooSQL을 특별 한 의미를 가진 문자를 허용 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-570">Parameterized SQL statements will accept characters that have special meaning tooSQL (like single quote) without problems because they are strongly typed.</span></span> |

### <a name="example"></a><span data-ttu-id="1b10c-571">예제</span><span class="sxs-lookup"><span data-stu-id="1b10c-571">Example</span></span>
<span data-ttu-id="1b10c-572">다음은 안전하지 않은 동적 저장 프로시저의 예제입니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-572">Following is an example of insecure dynamic Stored Procedure:</span></span> 

```C#
CREATE PROCEDURE [dbo].[uspGetProductsByCriteria]
(
  @productName nvarchar(200) = NULL,
  @startPrice float = NULL,
  @endPrice float = NULL
)
AS
 BEGIN
  DECLARE @sql nvarchar(max)
  SELECT @sql = ' SELECT ProductID, ProductName, Description, UnitPrice, ImagePath' +
       ' FROM dbo.Products WHERE 1 = 1 '
       PRINT @sql
  IF @productName IS NOT NULL
     SELECT @sql = @sql + ' AND ProductName LIKE ''%' + @productName + '%'''
  IF @startPrice IS NOT NULL
     SELECT @sql = @sql + ' AND UnitPrice > ''' + CONVERT(VARCHAR(10),@startPrice) + ''''
  IF @endPrice IS NOT NULL
     SELECT @sql = @sql + ' AND UnitPrice < ''' + CONVERT(VARCHAR(10),@endPrice) + ''''

  PRINT @sql
  EXEC(@sql)
 END
```

### <a name="example"></a><span data-ttu-id="1b10c-573">예제</span><span class="sxs-lookup"><span data-stu-id="1b10c-573">Example</span></span>
<span data-ttu-id="1b10c-574">다음은 동일한 저장된 프로시저가 안전 하 게 구현 하는 hello:</span><span class="sxs-lookup"><span data-stu-id="1b10c-574">Following is hello same stored procedure implemented securely:</span></span> 
```C#
CREATE PROCEDURE [dbo].[uspGetProductsByCriteriaSecure]
(
             @productName nvarchar(200) = NULL,
             @startPrice float = NULL,
             @endPrice float = NULL
)
AS
       BEGIN
             SELECT ProductID, ProductName, Description, UnitPrice, ImagePath
             FROM dbo.Products where
             (@productName IS NULL or ProductName like '%'+ @productName +'%')
             AND
             (@startPrice IS NULL or UnitPrice > @startPrice)
             AND
             (@endPrice IS NULL or UnitPrice < @endPrice)         
       END
```

## <span data-ttu-id="1b10c-575"><a id="validation-api"></a>모델 유효성 검사가 Web API 메서드에서 수행되는지 확인</span><span class="sxs-lookup"><span data-stu-id="1b10c-575"><a id="validation-api"></a>Ensure that model validation is done on Web API methods</span></span>

| <span data-ttu-id="1b10c-576">제목</span><span class="sxs-lookup"><span data-stu-id="1b10c-576">Title</span></span>                   | <span data-ttu-id="1b10c-577">세부 정보</span><span class="sxs-lookup"><span data-stu-id="1b10c-577">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1b10c-578">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="1b10c-578">**Component**</span></span>               | <span data-ttu-id="1b10c-579">Web API</span><span class="sxs-lookup"><span data-stu-id="1b10c-579">Web API</span></span> | 
| <span data-ttu-id="1b10c-580">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-580">**SDL Phase**</span></span>               | <span data-ttu-id="1b10c-581">빌드</span><span class="sxs-lookup"><span data-stu-id="1b10c-581">Build</span></span> |  
| <span data-ttu-id="1b10c-582">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="1b10c-582">**Applicable Technologies**</span></span> | <span data-ttu-id="1b10c-583">MVC5, MVC6</span><span class="sxs-lookup"><span data-stu-id="1b10c-583">MVC5, MVC6</span></span> |
| <span data-ttu-id="1b10c-584">**특성**</span><span class="sxs-lookup"><span data-stu-id="1b10c-584">**Attributes**</span></span>              | <span data-ttu-id="1b10c-585">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-585">N/A</span></span>  |
| <span data-ttu-id="1b10c-586">**참조**</span><span class="sxs-lookup"><span data-stu-id="1b10c-586">**References**</span></span>              | <span data-ttu-id="1b10c-587">[ASP.NET Web API의 모델 유효성 검사](http://www.asp.net/web-api/overview/formats-and-model-binding/model-validation-in-aspnet-web-api)(영문)</span><span class="sxs-lookup"><span data-stu-id="1b10c-587">[Model Validation in ASP.NET Web API ](http://www.asp.net/web-api/overview/formats-and-model-binding/model-validation-in-aspnet-web-api)</span></span> |
| <span data-ttu-id="1b10c-588">**단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-588">**Steps**</span></span> | <span data-ttu-id="1b10c-589">클라이언트가 데이터 tooa web API 보내면는 필수 toovalidate hello 데이터 처리를 수행 하기 전에입니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-589">When a client sends data tooa web API, it is mandatory toovalidate hello data before doing any processing.</span></span> <span data-ttu-id="1b10c-590">입력으로 모델을 허용 하는 ASP.NET 웹 Api에 대 한 hello 모델의 hello 속성에 대 한 모델 tooset 유효성 검사 규칙에 데이터 주석을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-590">For ASP.NET Web APIs which accept models as input, use data annotations on models tooset validation rules on hello properties of hello model.</span></span>|

### <a name="example"></a><span data-ttu-id="1b10c-591">예제</span><span class="sxs-lookup"><span data-stu-id="1b10c-591">Example</span></span>
<span data-ttu-id="1b10c-592">hello 코드 다음 동일한 hello 하는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-592">hello following code demonstrates hello same:</span></span> 

```C#
using System.ComponentModel.DataAnnotations;

namespace MyApi.Models
{
    public class Product
    {
        public int Id { get; set; }
        [Required]
        [RegularExpression(@"^[a-zA-Z0-9]*$", ErrorMessage="Only alphanumeric characters are allowed.")]
        public string Name { get; set; }
        public decimal Price { get; set; }
        [Range(0, 999)]
        public double Weight { get; set; }
    }
}
```

### <a name="example"></a><span data-ttu-id="1b10c-593">예제</span><span class="sxs-lookup"><span data-stu-id="1b10c-593">Example</span></span>
<span data-ttu-id="1b10c-594">Hello API 컨트롤러 동작 메서드에 hello hello 모델의 유효성에는 아래와 같이 명시적으로 확인 toobe 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-594">In hello action method of hello API controllers, validity of hello model has toobe explicitly checked as shown below:</span></span> 

```C#
namespace MyApi.Controllers
{
    public class ProductsController : ApiController
    {
        public HttpResponseMessage Post(Product product)
        {
            if (ModelState.IsValid)
            {
                // Do something with hello product (not shown).

                return new HttpResponseMessage(HttpStatusCode.OK);
            }
            else
            {
                return Request.CreateErrorResponse(HttpStatusCode.BadRequest, ModelState);
            }
        }
    }
}
```

## <span data-ttu-id="1b10c-595"><a id="string-api"></a>Web API 메서드에서 허용하는 모든 문자열 형식 매개 변수에 대한 입력 유효성 검사 구현</span><span class="sxs-lookup"><span data-stu-id="1b10c-595"><a id="string-api"></a>Implement input validation on all string type parameters accepted by Web API methods</span></span>

| <span data-ttu-id="1b10c-596">제목</span><span class="sxs-lookup"><span data-stu-id="1b10c-596">Title</span></span>                   | <span data-ttu-id="1b10c-597">세부 정보</span><span class="sxs-lookup"><span data-stu-id="1b10c-597">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1b10c-598">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="1b10c-598">**Component**</span></span>               | <span data-ttu-id="1b10c-599">Web API</span><span class="sxs-lookup"><span data-stu-id="1b10c-599">Web API</span></span> | 
| <span data-ttu-id="1b10c-600">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-600">**SDL Phase**</span></span>               | <span data-ttu-id="1b10c-601">빌드</span><span class="sxs-lookup"><span data-stu-id="1b10c-601">Build</span></span> |  
| <span data-ttu-id="1b10c-602">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="1b10c-602">**Applicable Technologies**</span></span> | <span data-ttu-id="1b10c-603">일반, MVC 5, MVC 6</span><span class="sxs-lookup"><span data-stu-id="1b10c-603">Generic, MVC 5, MVC 6</span></span> |
| <span data-ttu-id="1b10c-604">**특성**</span><span class="sxs-lookup"><span data-stu-id="1b10c-604">**Attributes**</span></span>              | <span data-ttu-id="1b10c-605">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-605">N/A</span></span>  |
| <span data-ttu-id="1b10c-606">**참조**</span><span class="sxs-lookup"><span data-stu-id="1b10c-606">**References**</span></span>              | <span data-ttu-id="1b10c-607">[MVC 응용 프로그램에서 모델 데이터 유효성 검사](http://msdn.microsoft.com/library/dd410404(v=vs.90).aspx)(영문), [ASP.NET MVC 응용 프로그램을 위한 기본 원칙](http://msdn.microsoft.com/magazine/dd942822.aspx)(영문)</span><span class="sxs-lookup"><span data-stu-id="1b10c-607">[Validating Model Data in an MVC Application](http://msdn.microsoft.com/library/dd410404(v=vs.90).aspx), [Guiding Principles For Your ASP.NET MVC Applications](http://msdn.microsoft.com/magazine/dd942822.aspx)</span></span> |
| <span data-ttu-id="1b10c-608">**단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-608">**Steps**</span></span> | <span data-ttu-id="1b10c-609">인수로 모델이 아니라 기본 데이터 형식만 허용하는 메서드의 경우 정규식을 사용하여 입력 유효성 검사를 수행해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-609">For methods that just accept primitive data type, and not models as argument,input validation using Regular Expression should be done.</span></span> <span data-ttu-id="1b10c-610">여기서는 Regex.IsMatch를 유효한 정규식 패턴과 함께 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-610">Here Regex.IsMatch should be used with a valid regex pattern.</span></span> <span data-ttu-id="1b10c-611">Hello 입력와 일치 하지 않으면 지정 된 정규식 hello, 컨트롤 추가, 계속 진행 하지 않아야 및 유효성 검사 실패와 관련 된 적절 한 경고를 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-611">If hello input doesn't match hello specified Regular Expression, control should not proceed further, and an adequate warning regarding validation failure should be displayed.</span></span>|

## <span data-ttu-id="1b10c-612"><a id="typesafe-api"></a>Web API에서 데이터 액세스를 위해 형식이 안전한 매개 변수를 사용하는지 확인</span><span class="sxs-lookup"><span data-stu-id="1b10c-612"><a id="typesafe-api"></a>Ensure that type-safe parameters are used in Web API for data access</span></span>

| <span data-ttu-id="1b10c-613">제목</span><span class="sxs-lookup"><span data-stu-id="1b10c-613">Title</span></span>                   | <span data-ttu-id="1b10c-614">세부 정보</span><span class="sxs-lookup"><span data-stu-id="1b10c-614">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1b10c-615">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="1b10c-615">**Component**</span></span>               | <span data-ttu-id="1b10c-616">Web API</span><span class="sxs-lookup"><span data-stu-id="1b10c-616">Web API</span></span> | 
| <span data-ttu-id="1b10c-617">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-617">**SDL Phase**</span></span>               | <span data-ttu-id="1b10c-618">빌드</span><span class="sxs-lookup"><span data-stu-id="1b10c-618">Build</span></span> |  
| <span data-ttu-id="1b10c-619">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="1b10c-619">**Applicable Technologies**</span></span> | <span data-ttu-id="1b10c-620">일반</span><span class="sxs-lookup"><span data-stu-id="1b10c-620">Generic</span></span> |
| <span data-ttu-id="1b10c-621">**특성**</span><span class="sxs-lookup"><span data-stu-id="1b10c-621">**Attributes**</span></span>              | <span data-ttu-id="1b10c-622">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-622">N/A</span></span>  |
| <span data-ttu-id="1b10c-623">**참조**</span><span class="sxs-lookup"><span data-stu-id="1b10c-623">**References**</span></span>              | <span data-ttu-id="1b10c-624">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-624">N/A</span></span>  |
| <span data-ttu-id="1b10c-625">**단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-625">**Steps**</span></span> | <p><span data-ttu-id="1b10c-626">Hello 매개 변수 컬렉션을 사용 하는 경우 실행 코드가 아니라 리터럴 값으로 SQL에서는 hello 입력이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-626">If you use hello Parameters collection, SQL treats hello input is as a literal value rather then as executable code.</span></span> <span data-ttu-id="1b10c-627">hello 매개 변수 컬렉션에는 입력된 데이터에 사용 되는 tooenforce 형식 및 길이 제약 조건 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-627">hello Parameters collection can be used tooenforce type and length constraints on input data.</span></span> <span data-ttu-id="1b10c-628">Hello 범위 밖의 값에는 예외가 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-628">Values outside of hello range trigger an exception.</span></span> <span data-ttu-id="1b10c-629">형식 안정적 SQL 매개 변수 사용 되지 않는 경우 공격자가 필터링 되지 않은 hello 입력에 포함 하는 수 tooexecute 삽입 공격을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-629">If type-safe SQL parameters are not used, attackers might be able tooexecute injection attacks that are embedded in hello unfiltered input.</span></span></p><p><span data-ttu-id="1b10c-630">Tooavoid 가능한 SQL 삽입 공격 필터링 되지 않은 입력 발생할 수 있는 쿼리를 SQL을 생성 하는 경우 형식 안전 매개 변수를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-630">Use type safe parameters when constructing SQL queries tooavoid possible SQL injection attacks that can occur with unfiltered input.</span></span> <span data-ttu-id="1b10c-631">저장 프로시저 및 동적 SQL 문과 함께 형식이 안전한 매개 변수를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-631">You can use type safe parameters with stored procedures and with dynamic SQL statements.</span></span> <span data-ttu-id="1b10c-632">매개 변수는 실행 코드가 아닌 리터럴 값 hello 데이터베이스에 의해로 처리 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-632">Parameters are treated as literal values by hello database and not as executable code.</span></span> <span data-ttu-id="1b10c-633">또한 매개 변수의 형식 및 길이에 대해서도 검사합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-633">Parameters are also checked for type and length.</span></span></p>|

### <a name="example"></a><span data-ttu-id="1b10c-634">예제</span><span class="sxs-lookup"><span data-stu-id="1b10c-634">Example</span></span>
<span data-ttu-id="1b10c-635">hello 다음 코드에서는 저장된 프로시저를 호출할 때 toouse SqlParameterCollection hello로 안전 하 게 보호 매개 변수를 입력 하는 방법을</span><span class="sxs-lookup"><span data-stu-id="1b10c-635">hello following code shows how toouse type safe parameters with hello SqlParameterCollection when calling a stored procedure.</span></span> 

```C#
using System.Data;
using System.Data.SqlClient;

using (SqlConnection connection = new SqlConnection(connectionString))
{ 
DataSet userDataset = new DataSet(); 
SqlDataAdapter myCommand = new SqlDataAdapter(LoginStoredProcedure", connection); 
myCommand.SelectCommand.CommandType = CommandType.StoredProcedure; 
myCommand.SelectCommand.Parameters.Add("@au_id", SqlDbType.VarChar, 11); 
myCommand.SelectCommand.Parameters["@au_id"].Value = SSN.Text; 
myCommand.Fill(userDataset);
}  
```
<span data-ttu-id="1b10c-636">Hello 코드 예제에서는 앞에에서 hello 입력된 값을 11 자 보다 길 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-636">In hello preceding code example, hello input value cannot be longer than 11 characters.</span></span> <span data-ttu-id="1b10c-637">Hello 데이터 toohello 형식 또는 hello 매개 변수에 의해 정의 된 길이 준수 하지 않는, 경우 hello SqlParameter 클래스 예외를 throw 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-637">If hello data does not conform toohello type or length defined by hello parameter, hello SqlParameter class throws an exception.</span></span> 

## <span data-ttu-id="1b10c-638"><a id="sql-docdb"></a>Cosmos DB에 매개 변수가 있는 SQL 쿼리 사용</span><span class="sxs-lookup"><span data-stu-id="1b10c-638"><a id="sql-docdb"></a>Use parametrized SQL queries for Cosmos DB</span></span>

| <span data-ttu-id="1b10c-639">제목</span><span class="sxs-lookup"><span data-stu-id="1b10c-639">Title</span></span>                   | <span data-ttu-id="1b10c-640">세부 정보</span><span class="sxs-lookup"><span data-stu-id="1b10c-640">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1b10c-641">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="1b10c-641">**Component**</span></span>               | <span data-ttu-id="1b10c-642">Azure Document DB</span><span class="sxs-lookup"><span data-stu-id="1b10c-642">Azure Document DB</span></span> | 
| <span data-ttu-id="1b10c-643">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-643">**SDL Phase**</span></span>               | <span data-ttu-id="1b10c-644">빌드</span><span class="sxs-lookup"><span data-stu-id="1b10c-644">Build</span></span> |  
| <span data-ttu-id="1b10c-645">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="1b10c-645">**Applicable Technologies**</span></span> | <span data-ttu-id="1b10c-646">일반</span><span class="sxs-lookup"><span data-stu-id="1b10c-646">Generic</span></span> |
| <span data-ttu-id="1b10c-647">**특성**</span><span class="sxs-lookup"><span data-stu-id="1b10c-647">**Attributes**</span></span>              | <span data-ttu-id="1b10c-648">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-648">N/A</span></span>  |
| <span data-ttu-id="1b10c-649">**참조**</span><span class="sxs-lookup"><span data-stu-id="1b10c-649">**References**</span></span>              | <span data-ttu-id="1b10c-650">[DocumentDB에서 SQL 매개 변수 지정 발표](https://azure.microsoft.com/blog/announcing-sql-parameterization-in-documentdb/)(영문)</span><span class="sxs-lookup"><span data-stu-id="1b10c-650">[Announcing SQL Parameterization in DocumentDB](https://azure.microsoft.com/blog/announcing-sql-parameterization-in-documentdb/)</span></span> |
| <span data-ttu-id="1b10c-651">**단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-651">**Steps**</span></span> | <span data-ttu-id="1b10c-652">DocumentDB는 읽기 전용 쿼리만 지원하지만 사용자 입력과 연결하여 쿼리를 구성하면 여전히 SQL 삽입이 가능합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-652">Although DocumentDB only supports read-only queries, SQL injection is still possible if queries are constructed by concatenating with user input.</span></span> <span data-ttu-id="1b10c-653">Hello 내에서 액세스 하지 않아야 하는 사용자 toogain 액세스 toodata 수 있습니다 악성 SQL 쿼리를 만들어 동일한 컬렉션입니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-653">It might be possible for a user toogain access toodata they shouldn’t be accessing within hello same collection by crafting malicious SQL queries.</span></span> <span data-ttu-id="1b10c-654">사용자 입력을 기반으로 하여 쿼리를 구성한 경우 매개 변수가 있는 SQL를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-654">Use parameterized SQL queries if queries are constructed based on user input.</span></span> |

## <span data-ttu-id="1b10c-655"><a id="schema-binding"></a>WCF - 스키마 바인딩을 통한 입력 유효성 검사</span><span class="sxs-lookup"><span data-stu-id="1b10c-655"><a id="schema-binding"></a>WCF Input validation through Schema binding</span></span>

| <span data-ttu-id="1b10c-656">제목</span><span class="sxs-lookup"><span data-stu-id="1b10c-656">Title</span></span>                   | <span data-ttu-id="1b10c-657">세부 정보</span><span class="sxs-lookup"><span data-stu-id="1b10c-657">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1b10c-658">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="1b10c-658">**Component**</span></span>               | <span data-ttu-id="1b10c-659">WCF</span><span class="sxs-lookup"><span data-stu-id="1b10c-659">WCF</span></span> | 
| <span data-ttu-id="1b10c-660">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-660">**SDL Phase**</span></span>               | <span data-ttu-id="1b10c-661">빌드</span><span class="sxs-lookup"><span data-stu-id="1b10c-661">Build</span></span> |  
| <span data-ttu-id="1b10c-662">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="1b10c-662">**Applicable Technologies**</span></span> | <span data-ttu-id="1b10c-663">일반, .NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="1b10c-663">Generic, NET Framework 3</span></span> |
| <span data-ttu-id="1b10c-664">**특성**</span><span class="sxs-lookup"><span data-stu-id="1b10c-664">**Attributes**</span></span>              | <span data-ttu-id="1b10c-665">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-665">N/A</span></span>  |
| <span data-ttu-id="1b10c-666">**참조**</span><span class="sxs-lookup"><span data-stu-id="1b10c-666">**References**</span></span>              | [<span data-ttu-id="1b10c-667">MSDN</span><span class="sxs-lookup"><span data-stu-id="1b10c-667">MSDN</span></span>](https://msdn.microsoft.com/library/ff647820.aspx) |
| <span data-ttu-id="1b10c-668">**단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-668">**Steps**</span></span> | <p><span data-ttu-id="1b10c-669">유효성 검사의 부족 toodifferent 형식 삽입 공격을 안내합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-669">Lack of validation leads toodifferent type injection attacks.</span></span></p><p><span data-ttu-id="1b10c-670">메시지 유효성 검사를 한 줄을의 WCF 응용 프로그램의 hello 보호에는 심층적인 방어를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-670">Message validation represents one line of defense in hello protection of your WCF application.</span></span> <span data-ttu-id="1b10c-671">이 방법에서는 악성 클라이언트의 공격 으로부터 스키마 tooprotect WCF 서비스 작업을 사용 하 여 메시지 유효성 검사 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-671">With this approach, you validate messages using schemas tooprotect WCF service operations from attack by a malicious client.</span></span> <span data-ttu-id="1b10c-672">악성 서비스에서 공격 으로부터 hello 클라이언트 tooprotect hello 클라이언트에서 받은 모든 메시지의 유효성을 검사 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-672">Validate all messages received by hello client tooprotect hello client from attack by a malicious service.</span></span> <span data-ttu-id="1b10c-673">메시지 유효성 검사를 사용 하면 가능한 toovalidate 메시지 operations 소비할 메시지 계약 또는 데이터 계약을 수정할 수 없는 경우 매개 변수 유효성 검사를 사용 하 여 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-673">Message validation makes it possible toovalidate messages when operations consume message contracts or data contracts, which cannot be done using parameter validation.</span></span> <span data-ttu-id="1b10c-674">메시지 유효성 검사 스키마에 있으므로 더 많은 유연성을 제공 하 고 개발 시간 단축 내 toocreate 유효성 검사 논리를 허용 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-674">Message validation allows you toocreate validation logic inside schemas, thereby providing more flexibility and reducing development time.</span></span> <span data-ttu-id="1b10c-675">스키마는 데이터 표현에 대 한 표준을 만들 hello 조직 내에서 다른 응용 프로그램에서 다시 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-675">Schemas can be reused across different applications inside hello organization, creating standards for data representation.</span></span> <span data-ttu-id="1b10c-676">또한 메시지 유효성 검사가 있습니다 tooprotect 작업을 계약을 나타내는 비즈니스 논리를 포함 하는 더 복잡 한 데이터 형식을 사용할 때.</span><span class="sxs-lookup"><span data-stu-id="1b10c-676">Additionally, message validation allows you tooprotect operations when they consume more complex data types involving contracts representing business logic.</span></span></p><p><span data-ttu-id="1b10c-677">tooperform 메시지 유효성 검사를 먼저 만듭니다 hello 작업이 해당 작업에 사용 된 서비스 및 hello 데이터 형식을 표시 하는 스키마.</span><span class="sxs-lookup"><span data-stu-id="1b10c-677">tooperform message validation, you first build a schema that represents hello operations of your service and hello data types consumed by those operations.</span></span> <span data-ttu-id="1b10c-678">그런 다음 사용자 지정 클라이언트 메시지 검사자와 사용자 정의 디스패처 메시지 검사자 toovalidate hello 메시지 hello 서비스에서 보낸/받은 구현 하는.NET 클래스를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-678">You then create a .NET class that implements a custom client message inspector and custom dispatcher message inspector toovalidate hello messages sent/received to/from hello service.</span></span> <span data-ttu-id="1b10c-679">그런 다음 hello 클라이언트와 hello 서비스에 사용자 지정 끝점 동작 tooenable 메시지 유효성 검사를 구현 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-679">Next, you implement a custom endpoint behavior tooenable message validation on both hello client and hello service.</span></span> <span data-ttu-id="1b10c-680">마지막으로, tooexpose hello hello 서비스 또는 클라이언트 hello hello 구성 파일에서 사용자 지정 끝점 동작 확장을 허용 하는 hello 클래스에는 사용자 지정 구성 요소를 구현할 "</span><span class="sxs-lookup"><span data-stu-id="1b10c-680">Finally, you implement a custom configuration element on hello class that allows you tooexpose hello extended custom endpoint behavior in hello configuration file of hello service or hello client"</span></span></p>|

## <span data-ttu-id="1b10c-681"><a id="parameters"></a>WCF - 매개 변수 검사기를 통한 입력 유효성 검사</span><span class="sxs-lookup"><span data-stu-id="1b10c-681"><a id="parameters"></a>WCF- Input validation through Parameter Inspectors</span></span>

| <span data-ttu-id="1b10c-682">제목</span><span class="sxs-lookup"><span data-stu-id="1b10c-682">Title</span></span>                   | <span data-ttu-id="1b10c-683">세부 정보</span><span class="sxs-lookup"><span data-stu-id="1b10c-683">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="1b10c-684">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="1b10c-684">**Component**</span></span>               | <span data-ttu-id="1b10c-685">WCF</span><span class="sxs-lookup"><span data-stu-id="1b10c-685">WCF</span></span> | 
| <span data-ttu-id="1b10c-686">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-686">**SDL Phase**</span></span>               | <span data-ttu-id="1b10c-687">빌드</span><span class="sxs-lookup"><span data-stu-id="1b10c-687">Build</span></span> |  
| <span data-ttu-id="1b10c-688">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="1b10c-688">**Applicable Technologies**</span></span> | <span data-ttu-id="1b10c-689">일반, .NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="1b10c-689">Generic, NET Framework 3</span></span> |
| <span data-ttu-id="1b10c-690">**특성**</span><span class="sxs-lookup"><span data-stu-id="1b10c-690">**Attributes**</span></span>              | <span data-ttu-id="1b10c-691">해당 없음</span><span class="sxs-lookup"><span data-stu-id="1b10c-691">N/A</span></span>  |
| <span data-ttu-id="1b10c-692">**참조**</span><span class="sxs-lookup"><span data-stu-id="1b10c-692">**References**</span></span>              | [<span data-ttu-id="1b10c-693">MSDN</span><span class="sxs-lookup"><span data-stu-id="1b10c-693">MSDN</span></span>](https://msdn.microsoft.com/library/ff647875.aspx) |
| <span data-ttu-id="1b10c-694">**단계**</span><span class="sxs-lookup"><span data-stu-id="1b10c-694">**Steps**</span></span> | <p><span data-ttu-id="1b10c-695">입력 및 데이터 유효성 검사는 WCF 응용 프로그램의 hello 보호에는 심층적인 방어의 중요 한 줄을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-695">Input and data validation represents one important line of defense in hello protection of your WCF application.</span></span> <span data-ttu-id="1b10c-696">악성 클라이언트를 공격 으로부터 WCF 서비스 작업 tooprotect hello 서비스에 노출 된 모든 매개 변수를 확인 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-696">You should validate all parameters exposed in WCF service operations tooprotect hello service from attack by a malicious client.</span></span> <span data-ttu-id="1b10c-697">반대로, 악성 서비스에서 공격 으로부터 hello 클라이언트 tooprotect hello 클라이언트에서 받는 모든 반환 값도 확인 해야</span><span class="sxs-lookup"><span data-stu-id="1b10c-697">Conversely, you should also validate all return values received by hello client tooprotect hello client from attack by a malicious service</span></span></p><p><span data-ttu-id="1b10c-698">WCF는 사용자 지정 확장 프로그램을 만들어 toocustomize hello WCF 런타임 동작을 허용 하는 다른 확장성 지점을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-698">WCF provides different extensibility points that allow you toocustomize hello WCF runtime behavior by creating custom extensions.</span></span> <span data-ttu-id="1b10c-699">메시지 검사자와 매개 변수 검사자는 두 개의 확장성 메커니즘 사용 toogain는 클라이언트와 서비스 간에 전달 되는 hello 데이터에 대 한 제어 강화 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-699">Message Inspectors and Parameter Inspectors are two extensibility mechanisms used toogain greater control over hello data passing between a client and a service.</span></span> <span data-ttu-id="1b10c-700">입력된 유효성 검사에 대 한 매개 변수 검사자를 사용 하 고 서비스 내부 및 외부로 흐르는 tooinspect hello 전체 메시지를 필요할 때만 메시지 검사자를 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-700">You should use parameter inspectors for input validation and use message inspectors only when you need tooinspect hello entire message flowing in and out of a service.</span></span></p><p><span data-ttu-id="1b10c-701">tooperform 입력 유효성 검사,.NET 클래스를 빌드하고 적절 toovalidate 작업에 대 한 매개 변수에서 서비스에 사용자 지정 매개 변수 검사자를 구현 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-701">tooperform input validation, you will build a .NET class and implement a custom parameter inspector in order toovalidate parameters on operations in your service.</span></span> <span data-ttu-id="1b10c-702">그런 다음 클라이언트 hello와 hello 서비스에 사용자 지정 끝점 동작 tooenable 유효성 검사를 구현 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-702">You will then implement a custom endpoint behavior tooenable validation on both hello client and hello service.</span></span> <span data-ttu-id="1b10c-703">마지막으로, tooexpose hello hello 서비스 또는 클라이언트 hello hello 구성 파일에서 사용자 지정 끝점 동작 확장을 허용 하는 hello 클래스에는 사용자 지정 구성 요소를 구현 합니다.</span><span class="sxs-lookup"><span data-stu-id="1b10c-703">Finally, you will implement a custom configuration element on hello class that allows you tooexpose hello extended custom endpoint behavior in hello configuration file of hello service or hello client</span></span></p>|
