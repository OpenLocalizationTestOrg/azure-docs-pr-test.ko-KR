---
title: "암호화 - Microsoft 위협 모델링 도구 - Azure | Microsoft Docs"
description: "위협 모델링 도구에 노출되는 위협 완화"
services: security
documentationcenter: na
author: RodSan
manager: RodSan
editor: RodSan
ms.assetid: na
ms.service: security
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: rodsan
ms.openlocfilehash: 96e74371fe51a8050a91c86215e3eefab07bbed8
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/29/2017
---
# <a name="security-frame-cryptography--mitigations"></a><span data-ttu-id="e794c-103">보안 프레임: 암호화 | 완화</span><span class="sxs-lookup"><span data-stu-id="e794c-103">Security Frame: Cryptography | Mitigations</span></span> 
| <span data-ttu-id="e794c-104">제품/서비스</span><span class="sxs-lookup"><span data-stu-id="e794c-104">Product/Service</span></span> | <span data-ttu-id="e794c-105">문서</span><span class="sxs-lookup"><span data-stu-id="e794c-105">Article</span></span> |
| --------------- | ------- |
| <span data-ttu-id="e794c-106">**웹 응용 프로그램**</span><span class="sxs-lookup"><span data-stu-id="e794c-106">**Web Application**</span></span> | <ul><li>[<span data-ttu-id="e794c-107">승인된 대칭 블록 암호화 및 키 길이만 사용</span><span class="sxs-lookup"><span data-stu-id="e794c-107">Use only approved symmetric block ciphers and key lengths</span></span>](#cipher-length)</li><li>[<span data-ttu-id="e794c-108">대칭 암호화에 승인된 블록 암호화 모드 및 초기화 벡터 사용</span><span class="sxs-lookup"><span data-stu-id="e794c-108">Use approved block cipher modes and initialization vectors for symmetric ciphers</span></span>](#vector-ciphers)</li><li>[<span data-ttu-id="e794c-109">승인된 비대칭 알고리즘, 키 길이 및 패딩 사용</span><span class="sxs-lookup"><span data-stu-id="e794c-109">Use approved asymmetric algorithms, key lengths, and padding</span></span>](#padding)</li><li>[<span data-ttu-id="e794c-110">승인된 난수 생성기 사용</span><span class="sxs-lookup"><span data-stu-id="e794c-110">Use approved random number generators</span></span>](#numgen)</li><li>[<span data-ttu-id="e794c-111">대칭 스트림 암호화 사용 금지</span><span class="sxs-lookup"><span data-stu-id="e794c-111">Do not use symmetric stream ciphers</span></span>](#stream-ciphers)</li><li>[<span data-ttu-id="e794c-112">승인된 MAC/HMAC/키 해시 알고리즘 사용</span><span class="sxs-lookup"><span data-stu-id="e794c-112">Use approved MAC/HMAC/keyed hash algorithms</span></span>](#mac-hash)</li><li>[<span data-ttu-id="e794c-113">승인된 암호화 해시 함수만 사용</span><span class="sxs-lookup"><span data-stu-id="e794c-113">Use only approved cryptographic hash functions</span></span>](#hash-functions)</li></ul> |
| <span data-ttu-id="e794c-114">**데이터베이스**</span><span class="sxs-lookup"><span data-stu-id="e794c-114">**Database**</span></span> | <ul><li>[<span data-ttu-id="e794c-115">강력한 암호화 알고리즘을 사용하여 데이터베이스 데이터 암호화</span><span class="sxs-lookup"><span data-stu-id="e794c-115">Use strong encryption algorithms to encrypt data in the database</span></span>](#strong-db)</li><li>[<span data-ttu-id="e794c-116">암호화되고 디지털 서명되어야 하는 SSIS 패키지</span><span class="sxs-lookup"><span data-stu-id="e794c-116">SSIS packages should be encrypted and digitally signed</span></span>](#ssis-signed)</li><li>[<span data-ttu-id="e794c-117">중요한 데이터베이스 보안 개체에 디지털 서명 추가</span><span class="sxs-lookup"><span data-stu-id="e794c-117">Add digital signature to critical database securables</span></span>](#securables-db)</li><li>[<span data-ttu-id="e794c-118">SQL 서버 EKM을 사용하여 암호화 키 보호</span><span class="sxs-lookup"><span data-stu-id="e794c-118">Use SQL server EKM to protect encryption keys</span></span>](#ekm-keys)</li><li>[<span data-ttu-id="e794c-119">데이터베이스 엔진에 암호화 키를 공개하지 않아야 하는 경우 AlwaysEncrypted 기능 사용</span><span class="sxs-lookup"><span data-stu-id="e794c-119">Use AlwaysEncrypted feature if encryption keys should not be revealed to Database engine</span></span>](#keys-engine)</li></ul> |
| <span data-ttu-id="e794c-120">**IoT 장치**</span><span class="sxs-lookup"><span data-stu-id="e794c-120">**IoT Device**</span></span> | <ul><li>[<span data-ttu-id="e794c-121">IoT 장치에 안전하게 암호화 키 저장</span><span class="sxs-lookup"><span data-stu-id="e794c-121">Store Cryptographic Keys securely on IoT Device</span></span>](#keys-iot)</li></ul> | 
| <span data-ttu-id="e794c-122">**IoT 클라우드 게이트웨이**</span><span class="sxs-lookup"><span data-stu-id="e794c-122">**IoT Cloud Gateway**</span></span> | <ul><li>[<span data-ttu-id="e794c-123">IoT Hub 인증에 충분한 길이의 임의 대칭 키 생성</span><span class="sxs-lookup"><span data-stu-id="e794c-123">Generate a random symmetric key of sufficient length for authentication to IoT Hub</span></span>](#random-hub)</li></ul> | 
| <span data-ttu-id="e794c-124">**Dynamics CRM 모바일 클라이언트**</span><span class="sxs-lookup"><span data-stu-id="e794c-124">**Dynamics CRM Mobile Client**</span></span> | <ul><li>[<span data-ttu-id="e794c-125">PIN 사용이 필요하고 원격 지우기를 허용하는 장치 관리 정책이 있는지 확인</span><span class="sxs-lookup"><span data-stu-id="e794c-125">Ensure a device management policy is in place that requires a use PIN and allows remote wiping</span></span>](#pin-remote)</li></ul> | 
| <span data-ttu-id="e794c-126">**Dynamics CRM Outlook 클라이언트**</span><span class="sxs-lookup"><span data-stu-id="e794c-126">**Dynamics CRM Outlook Client**</span></span> | <ul><li>[<span data-ttu-id="e794c-127">PIN/암호/자동 잠금이 필요하고 모든 데이터를 암호화(예: Bitlocker)하는 장치 관리 정책이 있는지 확인</span><span class="sxs-lookup"><span data-stu-id="e794c-127">Ensure a device management policy is in place that requires a PIN/password/auto lock and encrypts all data (e.g. Bitlocker)</span></span>](#bitlocker)</li></ul> | 
| <span data-ttu-id="e794c-128">**Identity Server**</span><span class="sxs-lookup"><span data-stu-id="e794c-128">**Identity Server**</span></span> | <ul><li>[<span data-ttu-id="e794c-129">Identity Server를 사용할 때 서명 키가 롤오버되는지 확인</span><span class="sxs-lookup"><span data-stu-id="e794c-129">Ensure that signing keys are rolled over when using Identity Server</span></span>](#rolled-server)</li><li>[<span data-ttu-id="e794c-130">Identity Server에서 암호화된 강력한 클라이언트 ID와 클라이언트 비밀이 사용되는지 확인</span><span class="sxs-lookup"><span data-stu-id="e794c-130">Ensure that cryptographically strong client ID, client secret are used in Identity Server</span></span>](#client-server)</li></ul> | 

## <span data-ttu-id="e794c-131"><a id="cipher-length"></a>승인된 대칭 블록 암호화 및 키 길이만 사용</span><span class="sxs-lookup"><span data-stu-id="e794c-131"><a id="cipher-length"></a>Use only approved symmetric block ciphers and key lengths</span></span>

| <span data-ttu-id="e794c-132">제목</span><span class="sxs-lookup"><span data-stu-id="e794c-132">Title</span></span>                   | <span data-ttu-id="e794c-133">세부 정보</span><span class="sxs-lookup"><span data-stu-id="e794c-133">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="e794c-134">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="e794c-134">**Component**</span></span>               | <span data-ttu-id="e794c-135">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="e794c-135">Web Application</span></span> | 
| <span data-ttu-id="e794c-136">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-136">**SDL Phase**</span></span>               | <span data-ttu-id="e794c-137">빌드</span><span class="sxs-lookup"><span data-stu-id="e794c-137">Build</span></span> |  
| <span data-ttu-id="e794c-138">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="e794c-138">**Applicable Technologies**</span></span> | <span data-ttu-id="e794c-139">일반</span><span class="sxs-lookup"><span data-stu-id="e794c-139">Generic</span></span> |
| <span data-ttu-id="e794c-140">**특성**</span><span class="sxs-lookup"><span data-stu-id="e794c-140">**Attributes**</span></span>              | <span data-ttu-id="e794c-141">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e794c-141">N/A</span></span>  |
| <span data-ttu-id="e794c-142">**참조**</span><span class="sxs-lookup"><span data-stu-id="e794c-142">**References**</span></span>              | <span data-ttu-id="e794c-143">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e794c-143">N/A</span></span>  |
| <span data-ttu-id="e794c-144">**단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-144">**Steps**</span></span> | <p><span data-ttu-id="e794c-145">제품에는 조직의 Crypto Advisor에서 명시적으로 승인한 대칭 블록 암호화 및 관련 키 길이만 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-145">Products must use only those symmetric block ciphers and associated key lengths which have been explicitly approved by the Crypto Advisor in your organization.</span></span> <span data-ttu-id="e794c-146">승인된 Microsoft 대칭 알고리즘에는 다음과 같은 블록 암호화가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-146">Approved symmetric algorithms at Microsoft include the following block ciphers:</span></span></p><ul><li><span data-ttu-id="e794c-147">새로운 코드의 경우 AES-128, AES-192, AES-256이 허용됩니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-147">For new code AES-128, AES-192, and AES-256 are acceptable</span></span></li><li><span data-ttu-id="e794c-148">기존 코드를 사용하는 이전 버전과의 호환성을 위해 3개 키를 사용하는 3DES가 허용됩니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-148">For backward compatibility with existing code, three-key 3DES is acceptable</span></span></li><li><span data-ttu-id="e794c-149">대칭 블록 암호화를 사용하는 제품의 경우:</span><span class="sxs-lookup"><span data-stu-id="e794c-149">For products using symmetric block ciphers:</span></span><ul><li><span data-ttu-id="e794c-150">새로운 코드에는 AES(Advanced Encryption Standard)가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-150">Advanced Encryption Standard (AES) is required for new code</span></span></li><li><span data-ttu-id="e794c-151">이전 버전과의 호환성을 위해 기존 코드에 3DES(3키 3중 Data Encryption Standard)가 허용됩니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-151">Three-key triple Data Encryption Standard (3DES) is permissible in existing code for backward compatibility</span></span></li><li><span data-ttu-id="e794c-152">RC2, DES, 2키 3DES, DESX 및 Skipjack을 포함한 다른 모든 블록 암호화는 이전 데이터를 해독하는 데만 사용할 수 있으며, 암호화에 사용되는 경우 교체해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-152">All other block ciphers, including RC2, DES, 2 Key 3DES, DESX, and Skipjack, may only be used for decrypting old data, and must be replaced if used for encryption</span></span></li></ul></li><li><span data-ttu-id="e794c-153">대칭 블록 암호화 알고리즘의 경우 최소 키 길이는 128비트입니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-153">For symmetric block encryption algorithms, a minimum key length of 128 bits is required.</span></span> <span data-ttu-id="e794c-154">새 코드에 권장되는 유일한 블록 암호화 알고리즘은 AES입니다(AES-128, AES-192 및 AES-256 모두 허용됨).</span><span class="sxs-lookup"><span data-stu-id="e794c-154">The only block encryption algorithm recommended for new code is AES (AES-128, AES-192 and AES-256 are all acceptable)</span></span></li><li><span data-ttu-id="e794c-155">현재 3키 3DES는 기존 코드에서 이미 사용 중인 경우 허용되지만, AES로 전환하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-155">Three-key 3DES is currently acceptable if already in use in existing code; transition to AES is recommended.</span></span> <span data-ttu-id="e794c-156">DES, DESX, RC2 및 Skipjack은 더 이상 안전한 것으로 간주되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-156">DES, DESX, RC2, and Skipjack are no longer considered secure.</span></span> <span data-ttu-id="e794c-157">이러한 알고리즘은 이전 버전과의 호환성을 위해 기존 데이터를 해독하는 데만 사용할 수 있으며, 권장되는 블록 암호화를 사용하여 데이터를 다시 암호화해야 합니다</span><span class="sxs-lookup"><span data-stu-id="e794c-157">These algorithms may only be used for decrypting existing data for the sake of backward-compatibility, and data should be re-encrypted using a recommended block cipher</span></span></li></ul><p><span data-ttu-id="e794c-158">모든 대칭 블록 암호화는 적절한 IV(초기화 벡터)를 사용해야 하는 승인된 암호화 모드와 함께 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-158">Please note that all symmetric block ciphers must be used with an approved cipher mode, which requires use of an appropriate initialization vector (IV).</span></span> <span data-ttu-id="e794c-159">적절한 IV는 일반적으로 난수이며, 절대로 상수 값이 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-159">An appropriate IV, is typically a random number and never a constant value</span></span></p><p><span data-ttu-id="e794c-160">조직의 Crypto Board에서 검토한 후에 기존 암호화 알고리즘 또는 기타 승인되지 않은 암호화 알고리즘 및 기존 데이터(새로 작성된 데이터와 반대)를 읽는 데 필요한 더 작은 키 길이를 사용하도록 허용될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-160">The use of legacy or otherwise unapproved crypto algorithms and smaller key lengths for reading existing data (as opposed to writing new data) may be permitted after your organization's Crypto Board review.</span></span> <span data-ttu-id="e794c-161">그러나 이 요구 사항에 대한 예외를 제출해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-161">However, you must file for an exception against this requirement.</span></span> <span data-ttu-id="e794c-162">또한 엔터프라이즈 배포에서는 약한 암호화를 사용하여 데이터를 읽는 경우 제품에서 관리자에게 경고하는 것도 고려해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-162">Additionally, in enterprise deployments, products should consider warning administrators when weak crypto is used to read data.</span></span> <span data-ttu-id="e794c-163">이러한 경고는 설명적이고 실행 가능해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-163">Such warnings should be explanatory and actionable.</span></span> <span data-ttu-id="e794c-164">어떤 경우에는 그룹 정책으로 약한 암호화 사용을 제어하도록 하는 것이 적절할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-164">In some cases, it may be appropriate to have Group Policy control the use of weak crypto</span></span></p><p><span data-ttu-id="e794c-165">관리되는 암호화 민첩성을 위해 허용되는 .NET 알고리즘(기본 설정 순서대로)</span><span class="sxs-lookup"><span data-stu-id="e794c-165">Allowed .NET algorithms for managed crypto agility (in order of preference)</span></span></p><ul><li><span data-ttu-id="e794c-166">AesCng(FIPS 규격)</span><span class="sxs-lookup"><span data-stu-id="e794c-166">AesCng (FIPS compliant)</span></span></li><li><span data-ttu-id="e794c-167">AuthenticatedAesCng(FIPS 규격)</span><span class="sxs-lookup"><span data-stu-id="e794c-167">AuthenticatedAesCng (FIPS compliant)</span></span></li><li><span data-ttu-id="e794c-168">AESCryptoServiceProvider(FIPS 규격)</span><span class="sxs-lookup"><span data-stu-id="e794c-168">AESCryptoServiceProvider (FIPS compliant)</span></span></li><li><span data-ttu-id="e794c-169">AESManaged(비 FIPS 규격)</span><span class="sxs-lookup"><span data-stu-id="e794c-169">AESManaged (non-FIPS-compliant)</span></span></li></ul><p><span data-ttu-id="e794c-170">이러한 알고리즘은 Machine.config 파일을 변경해야 `SymmetricAlgorithm.Create` 또는 `CryptoConfig.CreateFromName` 메서드를 통해 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-170">Please note that none of these algorithms can be specified via the `SymmetricAlgorithm.Create` or `CryptoConfig.CreateFromName` methods without making changes to the machine.config file.</span></span> <span data-ttu-id="e794c-171">또한 .NET 3.5 이전의 .NET 버전에서 AES는 `RijndaelManaged`로 명명되었고, `AesCng`와 `AuthenticatedAesCng`는 CodePlex를 통해 사용할 수 있으며, 기본 OS에 CNG가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-171">Also, note that AES in versions of .NET prior to .NET 3.5 is named `RijndaelManaged`, and `AesCng` and `AuthenticatedAesCng` are >available through CodePlex and require CNG in the underlying OS</span></span></p>

## <span data-ttu-id="e794c-172"><a id="vector-ciphers"></a>대칭 암호화에 승인된 블록 암호화 모드 및 초기화 벡터 사용</span><span class="sxs-lookup"><span data-stu-id="e794c-172"><a id="vector-ciphers"></a>Use approved block cipher modes and initialization vectors for symmetric ciphers</span></span>

| <span data-ttu-id="e794c-173">제목</span><span class="sxs-lookup"><span data-stu-id="e794c-173">Title</span></span>                   | <span data-ttu-id="e794c-174">세부 정보</span><span class="sxs-lookup"><span data-stu-id="e794c-174">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="e794c-175">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="e794c-175">**Component**</span></span>               | <span data-ttu-id="e794c-176">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="e794c-176">Web Application</span></span> | 
| <span data-ttu-id="e794c-177">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-177">**SDL Phase**</span></span>               | <span data-ttu-id="e794c-178">빌드</span><span class="sxs-lookup"><span data-stu-id="e794c-178">Build</span></span> |  
| <span data-ttu-id="e794c-179">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="e794c-179">**Applicable Technologies**</span></span> | <span data-ttu-id="e794c-180">일반</span><span class="sxs-lookup"><span data-stu-id="e794c-180">Generic</span></span> |
| <span data-ttu-id="e794c-181">**특성**</span><span class="sxs-lookup"><span data-stu-id="e794c-181">**Attributes**</span></span>              | <span data-ttu-id="e794c-182">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e794c-182">N/A</span></span>  |
| <span data-ttu-id="e794c-183">**참조**</span><span class="sxs-lookup"><span data-stu-id="e794c-183">**References**</span></span>              | <span data-ttu-id="e794c-184">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e794c-184">N/A</span></span>  |
| <span data-ttu-id="e794c-185">**단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-185">**Steps**</span></span> | <span data-ttu-id="e794c-186">모든 대칭 블록 암호화는 승인된 대칭 암호화 모드와 함께 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-186">All symmetric block ciphers must be used with an approved symmetric cipher mode.</span></span> <span data-ttu-id="e794c-187">유일하게 승인된 모드는 CBC 및 CTS입니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-187">The only approved modes are CBC and CTS.</span></span> <span data-ttu-id="e794c-188">특히 ECB(Electronic Code Book) 작동 모드는 피해야 합니다. ECB를 사용하려면 조직의 Crypto Board에서 검토해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-188">In particular, the electronic code book (ECB) mode of operation should be avoided; use of ECB requires your organization's Crypto Board review.</span></span> <span data-ttu-id="e794c-189">OFB, CFB, CTR, CCM 및 GCM 또는 다른 암호화 모드의 모든 사용은 조직의 Crypto Board에서 검토해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-189">All usage of OFB, CFB, CTR, CCM, and GCM or any other encryption mode must be reviewed by your organization's Crypto Board.</span></span> <span data-ttu-id="e794c-190">동일한 IV(초기화 벡터)를 "스트리밍 암호화 모드"의 블록 암호화(예: CTR)로 다시 사용하면 암호화된 데이터가 노출될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-190">Reusing the same initialization vector (IV) with block ciphers in "streaming ciphers modes," such as CTR, may cause encrypted data to be revealed.</span></span> <span data-ttu-id="e794c-191">또한 모든 대칭 블록 암호화도 적절한 IV와 함께 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-191">All symmetric block ciphers must also be used with an appropriate initialization vector (IV).</span></span> <span data-ttu-id="e794c-192">적절한 IV는 암호화된 강력한 난수이며, 절대로 상수 값이 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-192">An appropriate IV is a cryptographically strong, random number and never a constant value.</span></span> |

## <span data-ttu-id="e794c-193"><a id="padding"></a>승인된 비대칭 알고리즘, 키 길이 및 패딩 사용</span><span class="sxs-lookup"><span data-stu-id="e794c-193"><a id="padding"></a>Use approved asymmetric algorithms, key lengths, and padding</span></span>

| <span data-ttu-id="e794c-194">제목</span><span class="sxs-lookup"><span data-stu-id="e794c-194">Title</span></span>                   | <span data-ttu-id="e794c-195">세부 정보</span><span class="sxs-lookup"><span data-stu-id="e794c-195">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="e794c-196">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="e794c-196">**Component**</span></span>               | <span data-ttu-id="e794c-197">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="e794c-197">Web Application</span></span> | 
| <span data-ttu-id="e794c-198">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-198">**SDL Phase**</span></span>               | <span data-ttu-id="e794c-199">빌드</span><span class="sxs-lookup"><span data-stu-id="e794c-199">Build</span></span> |  
| <span data-ttu-id="e794c-200">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="e794c-200">**Applicable Technologies**</span></span> | <span data-ttu-id="e794c-201">일반</span><span class="sxs-lookup"><span data-stu-id="e794c-201">Generic</span></span> |
| <span data-ttu-id="e794c-202">**특성**</span><span class="sxs-lookup"><span data-stu-id="e794c-202">**Attributes**</span></span>              | <span data-ttu-id="e794c-203">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e794c-203">N/A</span></span>  |
| <span data-ttu-id="e794c-204">**참조**</span><span class="sxs-lookup"><span data-stu-id="e794c-204">**References**</span></span>              | <span data-ttu-id="e794c-205">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e794c-205">N/A</span></span>  |
| <span data-ttu-id="e794c-206">**단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-206">**Steps**</span></span> | <p><span data-ttu-id="e794c-207">금지된 암호화 알고리즘의 사용은 제품 보안에 상당한 위험을 초래하므로 피해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-207">The use of banned cryptographic algorithms introduces significant risk to product security and must be avoided.</span></span> <span data-ttu-id="e794c-208">제품에서는 조직의 Crypto Board에서 명시적으로 승인한 암호화 알고리즘, 관련 키 길이 및 패딩만 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-208">Products must use only those cryptographic algorithms and associated key lengths and padding that have been explicitly approved by your organization's Crypto Board.</span></span></p><ul><li><span data-ttu-id="e794c-209">**RSA -** 암호화, 키 교환 및 서명에 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-209">**RSA-** may be used for encryption, key exchange and signature.</span></span> <span data-ttu-id="e794c-210">RSA 암호화는 OAEP 또는 RSA-KEM 패딩 모드만 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-210">RSA encryption must use only the OAEP or RSA-KEM padding modes.</span></span> <span data-ttu-id="e794c-211">기존 코드는 호환성을 위해서만 PKCS #1 v1.5 패딩 모드를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-211">Existing code may use PKCS #1 v1.5 padding mode for compatibility only.</span></span> <span data-ttu-id="e794c-212">널 패딩 사용은 명시적으로 금지됩니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-212">Use of null padding is explicitly banned.</span></span> <span data-ttu-id="e794c-213">새 코드에는 2,048비트 이상의 키가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-213">Keys >= 2048 bits is required for new code.</span></span> <span data-ttu-id="e794c-214">기존 코드는 조직의 Crypto Board에서 검토한 후 이전 버전과의 호환성을 위해서만 2,048비트 미만의 키를 지원할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-214">Existing code may support keys < 2048 bits only for backwards compatibility after a review by your organization's Crypto Board.</span></span> <span data-ttu-id="e794c-215">1,024비트 미만의 키는 이전 데이터의 암호 해독/확인에만 사용할 수 있으며, 암호화 또는 서명 작업에 사용되는 경우 교체해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-215">Keys < 1024 bits may only be used for decrypting/verifying old data, and must be replaced if used for encryption or signing operations</span></span></li><li><span data-ttu-id="e794c-216">**ECDSA -** 서명에만 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-216">**ECDSA-** may be used for signature only.</span></span> <span data-ttu-id="e794c-217">새 코드에는 256비트 이상의 키가 있는 ECDSA가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-217">ECDSA with >=256-bit keys is required for new code.</span></span> <span data-ttu-id="e794c-218">ECDSA 기반 서명은 NIST에서 승인한 세 가지 곡선(P-256, P-384 또는 P521) 중 하나를 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-218">ECDSA-based signatures must use one of the three NIST approved curves (P-256, P-384, or P521).</span></span> <span data-ttu-id="e794c-219">철저히 분석된 곡선은 조직의 Crypto Board에서 검토한 후에만 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-219">Curves that have been thoroughly analyzed may be used only after a review with your organization's Crypto Board.</span></span></li><li><span data-ttu-id="e794c-220">**ECDH -** 키 교환에만 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-220">**ECDH-** may be used for key exchange only.</span></span> <span data-ttu-id="e794c-221">새 코드에는 256비트 이상의 키가 있는 ECDH가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-221">ECDH with >=256-bit keys is required for new code.</span></span> <span data-ttu-id="e794c-222">ECDH 기반 키 교환은 NIST에서 승인한 세 가지 곡선(P-256, P-384 또는 P521) 중 하나를 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-222">ECDH-based key exchange must use one of the three NIST approved curves (P-256, P-384, or P521).</span></span> <span data-ttu-id="e794c-223">철저히 분석된 곡선은 조직의 Crypto Board에서 검토한 후에만 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-223">Curves that have been thoroughly analyzed may be used only after a review with your organization's Crypto Board.</span></span></li><li><span data-ttu-id="e794c-224">**DSA -** 조직의 Crypto Board에서 검토하고 승인한 후에 허용될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-224">**DSA-** may be acceptable after review and approval from your organization's Crypto Board.</span></span> <span data-ttu-id="e794c-225">보안 관리자에게 문의하여 조직의 Crypto Board 검토를 예약합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-225">Contact your security advisor to schedule your organization's Crypto Board review.</span></span> <span data-ttu-id="e794c-226">DSA 사용이 승인되면 2,048비트 미만의 키 사용을 금지해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-226">If your use of DSA is approved, note that you will need to prohibit use of keys less than 2048 bits in length.</span></span> <span data-ttu-id="e794c-227">CNG는 Windows 8부터 2,048비트 이상의 키 길이를 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-227">CNG supports 2048-bit and greater key lengths as of Windows 8.</span></span></li><li><span data-ttu-id="e794c-228">**Diffie-Hellman -** 세션 키 관리에만 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-228">**Diffie-Hellman-** may be used for session key management only.</span></span> <span data-ttu-id="e794c-229">새 코드에는 2,048비트 이상의 키가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-229">Key length >= 2048 bits is required for new code.</span></span> <span data-ttu-id="e794c-230">기존 코드는 조직의 Crypto Board에서 검토한 후 이전 버전과의 호환성을 위해서만 2,048비트 미만의 키를 지원할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-230">Existing code may support key lengths < 2048 bits only for backwards compatibility after a review by your organization's Crypto Board.</span></span> <span data-ttu-id="e794c-231">1,024비트 미만의 키는 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-231">Keys < 1024 bits may not be used.</span></span></li><ul>

## <span data-ttu-id="e794c-232"><a id="numgen"></a>승인된 난수 생성기 사용</span><span class="sxs-lookup"><span data-stu-id="e794c-232"><a id="numgen"></a>Use approved random number generators</span></span>

| <span data-ttu-id="e794c-233">제목</span><span class="sxs-lookup"><span data-stu-id="e794c-233">Title</span></span>                   | <span data-ttu-id="e794c-234">세부 정보</span><span class="sxs-lookup"><span data-stu-id="e794c-234">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="e794c-235">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="e794c-235">**Component**</span></span>               | <span data-ttu-id="e794c-236">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="e794c-236">Web Application</span></span> | 
| <span data-ttu-id="e794c-237">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-237">**SDL Phase**</span></span>               | <span data-ttu-id="e794c-238">빌드</span><span class="sxs-lookup"><span data-stu-id="e794c-238">Build</span></span> |  
| <span data-ttu-id="e794c-239">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="e794c-239">**Applicable Technologies**</span></span> | <span data-ttu-id="e794c-240">일반</span><span class="sxs-lookup"><span data-stu-id="e794c-240">Generic</span></span> |
| <span data-ttu-id="e794c-241">**특성**</span><span class="sxs-lookup"><span data-stu-id="e794c-241">**Attributes**</span></span>              | <span data-ttu-id="e794c-242">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e794c-242">N/A</span></span>  |
| <span data-ttu-id="e794c-243">**참조**</span><span class="sxs-lookup"><span data-stu-id="e794c-243">**References**</span></span>              | <span data-ttu-id="e794c-244">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e794c-244">N/A</span></span>  |
| <span data-ttu-id="e794c-245">**단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-245">**Steps**</span></span> | <p><span data-ttu-id="e794c-246">제품에서는 승인된 난수 발생기를 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-246">Products must use approved random number generators.</span></span> <span data-ttu-id="e794c-247">따라서 의사 난수 함수(예: rand C 런타임 함수, System.Random .NET Framework 클래스 또는 GetTickCount 시스템 함수)는 이러한 코드에 절대로 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-247">Pseudorandom functions such as the C runtime function rand, the .NET Framework class System.Random, or system functions such as GetTickCount must, therefore, never be used in such code.</span></span> <span data-ttu-id="e794c-248">이중 타원 곡선 난수 생성기(DUAL_EC_DRBG) 알고리즘의 사용은 금지됩니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-248">Use of the dual elliptic curve random number generator (DUAL_EC_DRBG) algorithm is prohibited</span></span></p><ul><li><span data-ttu-id="e794c-249">**CNG -** BCryptGenRandom(호출자가 0보다 큰 IRQL[즉 PASSIVE_LEVEL]에서 실행되지 않는 한 BCRYPT_USE_SYSTEM_PREFERRED_RNG 플래그를 사용하는 것이 좋음)</span><span class="sxs-lookup"><span data-stu-id="e794c-249">**CNG-** BCryptGenRandom(use of the BCRYPT_USE_SYSTEM_PREFERRED_RNG flag recommended unless the caller might run at any IRQL greater than 0 [that is, PASSIVE_LEVEL])</span></span></li><li><span data-ttu-id="e794c-250">**CAPI -** cryptGenRandom</span><span class="sxs-lookup"><span data-stu-id="e794c-250">**CAPI-** cryptGenRandom</span></span></li><li><span data-ttu-id="e794c-251">**Win32/64 -** RtlGenRandom(새 구현에서는 BCryptGenRandom 또는 CryptGenRandom을 사용해야 함) * rand_s * SystemPrng(커널 모드의 경우)</span><span class="sxs-lookup"><span data-stu-id="e794c-251">**Win32/64-** RtlGenRandom (new implementations should use BCryptGenRandom or CryptGenRandom) * rand_s * SystemPrng (for kernel mode)</span></span></li><li><span data-ttu-id="e794c-252">**.NET -** RNGCryptoServiceProvider 또는 RNGCng</span><span class="sxs-lookup"><span data-stu-id="e794c-252">**.NET-** RNGCryptoServiceProvider or RNGCng</span></span></li><li><span data-ttu-id="e794c-253">**Windows 스토어 앱-** Windows.Security.Cryptography.CryptographicBuffer.GenerateRandom 또는 .GenerateRandomNumber</span><span class="sxs-lookup"><span data-stu-id="e794c-253">**Windows Store Apps-** Windows.Security.Cryptography.CryptographicBuffer.GenerateRandom or .GenerateRandomNumber</span></span></li><li><span data-ttu-id="e794c-254">**Apple OS X (10.7+)/iOS(2.0+)-** int SecRandomCopyBytes (SecRandomRef random, size_t count, uint8_t *bytes )</li><li>**Apple OS X (<10.7)-** /dev/random을 사용하여 난수를 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-254">**Apple OS X (10.7+)/iOS(2.0+)-** int SecRandomCopyBytes (SecRandomRef random, size_t count, uint8_t *bytes )</li><li>**Apple OS X (<10.7)-** Use /dev/random to retrieve random numbers</span></span></li><li><span data-ttu-id="e794c-255">**Java(Google Android Java 코드 포함) -** java.security.SecureRandom 클래스입니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-255">**Java(including Google Android Java code)-** java.security.SecureRandom class.</span></span> <span data-ttu-id="e794c-256">Android 4.3(Jelly Bean)의 경우 개발자는 Android 권장 해결 방법을 수행하고 /dev/urandom 또는/dev/random에서 엔트로피를 사용하여 명시적으로 PRNG를 초기화하도록 응용 프로그램을 업데이트해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-256">Note that for Android 4.3 (Jelly Bean), developers must follow the Android recommended workaround and update their applications to explicitly initialize the PRNG with entropy from /dev/urandom or /dev/random</span></span></li></ul>|

## <span data-ttu-id="e794c-257"><a id="stream-ciphers"></a>대칭 스트림 암호화 사용 금지</span><span class="sxs-lookup"><span data-stu-id="e794c-257"><a id="stream-ciphers"></a>Do not use symmetric stream ciphers</span></span>

| <span data-ttu-id="e794c-258">제목</span><span class="sxs-lookup"><span data-stu-id="e794c-258">Title</span></span>                   | <span data-ttu-id="e794c-259">세부 정보</span><span class="sxs-lookup"><span data-stu-id="e794c-259">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="e794c-260">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="e794c-260">**Component**</span></span>               | <span data-ttu-id="e794c-261">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="e794c-261">Web Application</span></span> | 
| <span data-ttu-id="e794c-262">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-262">**SDL Phase**</span></span>               | <span data-ttu-id="e794c-263">빌드</span><span class="sxs-lookup"><span data-stu-id="e794c-263">Build</span></span> |  
| <span data-ttu-id="e794c-264">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="e794c-264">**Applicable Technologies**</span></span> | <span data-ttu-id="e794c-265">일반</span><span class="sxs-lookup"><span data-stu-id="e794c-265">Generic</span></span> |
| <span data-ttu-id="e794c-266">**특성**</span><span class="sxs-lookup"><span data-stu-id="e794c-266">**Attributes**</span></span>              | <span data-ttu-id="e794c-267">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e794c-267">N/A</span></span>  |
| <span data-ttu-id="e794c-268">**참조**</span><span class="sxs-lookup"><span data-stu-id="e794c-268">**References**</span></span>              | <span data-ttu-id="e794c-269">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e794c-269">N/A</span></span>  |
| <span data-ttu-id="e794c-270">**단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-270">**Steps**</span></span> | <span data-ttu-id="e794c-271">대칭 스트림 암호화(예: RC4)는 사용하지 않아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-271">Symmetric stream ciphers, such as RC4, must not be used.</span></span> <span data-ttu-id="e794c-272">대칭 스트림 암호화 대신 제품에서 키 길이가 128비트 이상인 AES와 같은 블록 암호화를 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-272">Instead of symmetric stream ciphers, products should use a block cipher, specifically AES with a key length of at least 128 bits.</span></span> |

## <span data-ttu-id="e794c-273"><a id="mac-hash"></a>승인된 MAC/HMAC/키 해시 알고리즘 사용</span><span class="sxs-lookup"><span data-stu-id="e794c-273"><a id="mac-hash"></a>Use approved MAC/HMAC/keyed hash algorithms</span></span>

| <span data-ttu-id="e794c-274">제목</span><span class="sxs-lookup"><span data-stu-id="e794c-274">Title</span></span>                   | <span data-ttu-id="e794c-275">세부 정보</span><span class="sxs-lookup"><span data-stu-id="e794c-275">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="e794c-276">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="e794c-276">**Component**</span></span>               | <span data-ttu-id="e794c-277">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="e794c-277">Web Application</span></span> | 
| <span data-ttu-id="e794c-278">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-278">**SDL Phase**</span></span>               | <span data-ttu-id="e794c-279">빌드</span><span class="sxs-lookup"><span data-stu-id="e794c-279">Build</span></span> |  
| <span data-ttu-id="e794c-280">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="e794c-280">**Applicable Technologies**</span></span> | <span data-ttu-id="e794c-281">일반</span><span class="sxs-lookup"><span data-stu-id="e794c-281">Generic</span></span> |
| <span data-ttu-id="e794c-282">**특성**</span><span class="sxs-lookup"><span data-stu-id="e794c-282">**Attributes**</span></span>              | <span data-ttu-id="e794c-283">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e794c-283">N/A</span></span>  |
| <span data-ttu-id="e794c-284">**참조**</span><span class="sxs-lookup"><span data-stu-id="e794c-284">**References**</span></span>              | <span data-ttu-id="e794c-285">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e794c-285">N/A</span></span>  |
| <span data-ttu-id="e794c-286">**단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-286">**Steps**</span></span> | <p><span data-ttu-id="e794c-287">제품에서는 승인된 MAC(메시지 인증 코드) 또는 HMAC(해시 기반 메시지 인증 코드) 알고리즘만 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-287">Products must use only approved message authentication code (MAC) or hash-based message authentication code (HMAC) algorithms.</span></span></p><p><span data-ttu-id="e794c-288">MAC는 받는 사람이 비밀 키를 사용하여 보낸 사람의 신뢰성과 메시지 무결성을 모두 확인할 수 있도록 메시지에 연결되는 정보입니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-288">A message authentication code (MAC) is a piece of information attached to a message that allows its recipient to verify both the authenticity of the sender and the integrity of the message using a secret key.</span></span> <span data-ttu-id="e794c-289">모든 기본 해시 또는 대칭 암호화 알고리즘을 사용하도록 승인한 경우에만 해시 기반 MAC([HMAC](http://csrc.nist.gov/publications/nistpubs/800-107-rev1/sp800-107-rev1.pdf)) 또는 [블록 암호화 기반 MAC](http://csrc.nist.gov/publications/nistpubs/800-38B/SP_800-38B.pdf)를 사용할 수 있습니다. 현재 여기에는 HMAC-SHA2 함수(HMAC-SHA256, HMAC-SHA384 및 HMAC-SHA512)과 CMAC/OMAC1 및 OMAC2 블록 암호화 기반 MAC(AES 기반)가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-289">The use of either a hash-based MAC ([HMAC](http://csrc.nist.gov/publications/nistpubs/800-107-rev1/sp800-107-rev1.pdf)) or [block-cipher-based MAC](http://csrc.nist.gov/publications/nistpubs/800-38B/SP_800-38B.pdf) is permissible as long as all underlying hash or symmetric encryption algorithms are also approved for use; currently this includes the HMAC-SHA2 functions (HMAC-SHA256, HMAC-SHA384 and HMAC-SHA512) and the CMAC/OMAC1 and OMAC2 block cipher-based MACs (these are based on AES).</span></span></p><p><span data-ttu-id="e794c-290">HMAC-SHA1은 플랫폼 호환성을 위해 사용할 수 있지만 이 절차에 대한 예외를 제출하고 조직의 Crypto 검토를 거쳐야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-290">Use of HMAC-SHA1 may be permissible for platform compatibility, but you will be required to file an exception to this procedure and undergo your organization's Crypto review.</span></span> <span data-ttu-id="e794c-291">128비트 미만으로의 HMAC 잘림은 허용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-291">Truncation of HMACs to less than 128 bits is not permitted.</span></span> <span data-ttu-id="e794c-292">고객의 방법을 사용하여 키와 데이터를 해시하는 것은 승인되지 않으며 사용하기 전에 조직의 Crypto Board 검토를 거쳐야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-292">Using customer methods to hash a key and data is not approved, and must undergo your organization's Crypto Board review prior to use.</span></span></p>|

## <span data-ttu-id="e794c-293"><a id="hash-functions"></a>승인된 암호화 해시 함수만 사용</span><span class="sxs-lookup"><span data-stu-id="e794c-293"><a id="hash-functions"></a>Use only approved cryptographic hash functions</span></span>

| <span data-ttu-id="e794c-294">제목</span><span class="sxs-lookup"><span data-stu-id="e794c-294">Title</span></span>                   | <span data-ttu-id="e794c-295">세부 정보</span><span class="sxs-lookup"><span data-stu-id="e794c-295">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="e794c-296">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="e794c-296">**Component**</span></span>               | <span data-ttu-id="e794c-297">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="e794c-297">Web Application</span></span> | 
| <span data-ttu-id="e794c-298">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-298">**SDL Phase**</span></span>               | <span data-ttu-id="e794c-299">빌드</span><span class="sxs-lookup"><span data-stu-id="e794c-299">Build</span></span> |  
| <span data-ttu-id="e794c-300">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="e794c-300">**Applicable Technologies**</span></span> | <span data-ttu-id="e794c-301">일반</span><span class="sxs-lookup"><span data-stu-id="e794c-301">Generic</span></span> |
| <span data-ttu-id="e794c-302">**특성**</span><span class="sxs-lookup"><span data-stu-id="e794c-302">**Attributes**</span></span>              | <span data-ttu-id="e794c-303">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e794c-303">N/A</span></span>  |
| <span data-ttu-id="e794c-304">**참조**</span><span class="sxs-lookup"><span data-stu-id="e794c-304">**References**</span></span>              | <span data-ttu-id="e794c-305">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e794c-305">N/A</span></span>  |
| <span data-ttu-id="e794c-306">**단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-306">**Steps**</span></span> | <p><span data-ttu-id="e794c-307">제품에서는 SHA-2 해시 알고리즘 제품군(SHA256, SHA384 및 SHA512)을 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-307">Products must use the SHA-2 family of hash algorithms (SHA256, SHA384, and SHA512).</span></span> <span data-ttu-id="e794c-308">짧은 MD5 해시를 고려하여 설계된 데이터 구조에 맞추기 위해 128비트 출력 길이와 같이 더 짧은 해시가 필요한 경우 제품 팀이 SHA2 해시 중 하나(일반적으로 SHA256)를 자를 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-308">If a shorter hash is needed, such as a 128-bit output length in order to fit a data structure designed with the shorter MD5 hash in mind, product teams may truncate one of the SHA2 hashes (typically SHA256).</span></span> <span data-ttu-id="e794c-309">SHA384는 SHA512의 잘린 버전입니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-309">Note that SHA384 is a truncated version of SHA512.</span></span> <span data-ttu-id="e794c-310">보안을 위해 암호화 해시를 128비트 미만으로 자르는 것은 허용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-310">Truncation of cryptographic hashes for security purposes to less than 128 bits is not permitted.</span></span> <span data-ttu-id="e794c-311">새 코드에서는 MD2, MD4, MD5, SHA-0, SHA-1 또는 RIPEMD 해시 알고리즘을 사용하면 안됩니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-311">New code must not use the MD2, MD4, MD5, SHA-0, SHA-1, or RIPEMD hash algorithms.</span></span> <span data-ttu-id="e794c-312">해시 충돌은 이러한 알고리즘에 대해 컴퓨터를 통해 실행 가능하며 효과적으로 해독할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-312">Hash collisions are computationally feasible for these algorithms, which effectively breaks them.</span></span></p><p><span data-ttu-id="e794c-313">관리되는 암호화 민첩성을 위해 허용되는 .NET 해시 알고리즘(기본 설정 순서대로)</span><span class="sxs-lookup"><span data-stu-id="e794c-313">Allowed .NET hash algorithms for managed crypto agility (in order of preference):</span></span></p><ul><li><span data-ttu-id="e794c-314">SHA512Cng(FIPS 규격)</span><span class="sxs-lookup"><span data-stu-id="e794c-314">SHA512Cng (FIPS compliant)</span></span></li><li><span data-ttu-id="e794c-315">SHA384Cng(FIPS 규격)</span><span class="sxs-lookup"><span data-stu-id="e794c-315">SHA384Cng (FIPS compliant)</span></span></li><li><span data-ttu-id="e794c-316">SHA256Cng(FIPS 규격)</span><span class="sxs-lookup"><span data-stu-id="e794c-316">SHA256Cng (FIPS compliant)</span></span></li><li><span data-ttu-id="e794c-317">SHA512Managed (FIPS 규격이 아닌) () 사용 하 여 SHA512 HashAlgorithm.Create 또는 CryptoConfig.CreateFromName에 대 한 호출에서 알고리즘 이름으로</span><span class="sxs-lookup"><span data-stu-id="e794c-317">SHA512Managed (non-FIPS-compliant) (use SHA512 as algorithm name in calls to HashAlgorithm.Create or CryptoConfig.CreateFromName)</span></span></li><li><span data-ttu-id="e794c-318">SHA384Managed (FIPS 규격이 아닌) () 사용 하 여 SHA384 알고리즘 이름 HashAlgorithm.Create 또는 CryptoConfig.CreateFromName에 대 한 호출로</span><span class="sxs-lookup"><span data-stu-id="e794c-318">SHA384Managed (non-FIPS-compliant) (use SHA384 as algorithm name in calls to HashAlgorithm.Create or CryptoConfig.CreateFromName)</span></span></li><li><span data-ttu-id="e794c-319">SHA256Managed (FIPS 규격이 아닌) () 사용 하 여 SHA256 알고리즘 이름 HashAlgorithm.Create 또는 CryptoConfig.CreateFromName에 대 한 호출로</span><span class="sxs-lookup"><span data-stu-id="e794c-319">SHA256Managed (non-FIPS-compliant) (use SHA256 as algorithm name in calls to HashAlgorithm.Create or CryptoConfig.CreateFromName)</span></span></li><li><span data-ttu-id="e794c-320">SHA512CryptoServiceProvider(FIPS 규격)</span><span class="sxs-lookup"><span data-stu-id="e794c-320">SHA512CryptoServiceProvider (FIPS compliant)</span></span></li><li><span data-ttu-id="e794c-321">SHA256CryptoServiceProvider(FIPS 규격)</span><span class="sxs-lookup"><span data-stu-id="e794c-321">SHA256CryptoServiceProvider (FIPS compliant)</span></span></li><li><span data-ttu-id="e794c-322">SHA384CryptoServiceProvider(FIPS 규격)</span><span class="sxs-lookup"><span data-stu-id="e794c-322">SHA384CryptoServiceProvider (FIPS compliant)</span></span></li></ul>| 

## <span data-ttu-id="e794c-323"><a id="strong-db"></a>강력한 암호화 알고리즘을 사용하여 데이터베이스 데이터 암호화</span><span class="sxs-lookup"><span data-stu-id="e794c-323"><a id="strong-db"></a>Use strong encryption algorithms to encrypt data in the database</span></span>

| <span data-ttu-id="e794c-324">제목</span><span class="sxs-lookup"><span data-stu-id="e794c-324">Title</span></span>                   | <span data-ttu-id="e794c-325">세부 정보</span><span class="sxs-lookup"><span data-stu-id="e794c-325">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="e794c-326">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="e794c-326">**Component**</span></span>               | <span data-ttu-id="e794c-327">데이터베이스</span><span class="sxs-lookup"><span data-stu-id="e794c-327">Database</span></span> | 
| <span data-ttu-id="e794c-328">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-328">**SDL Phase**</span></span>               | <span data-ttu-id="e794c-329">빌드</span><span class="sxs-lookup"><span data-stu-id="e794c-329">Build</span></span> |  
| <span data-ttu-id="e794c-330">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="e794c-330">**Applicable Technologies**</span></span> | <span data-ttu-id="e794c-331">일반</span><span class="sxs-lookup"><span data-stu-id="e794c-331">Generic</span></span> |
| <span data-ttu-id="e794c-332">**특성**</span><span class="sxs-lookup"><span data-stu-id="e794c-332">**Attributes**</span></span>              | <span data-ttu-id="e794c-333">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e794c-333">N/A</span></span>  |
| <span data-ttu-id="e794c-334">**참조**</span><span class="sxs-lookup"><span data-stu-id="e794c-334">**References**</span></span>              | <span data-ttu-id="e794c-335">[암호화 알고리즘 선택](https://technet.microsoft.com/library/ms345262(v=sql.130).aspx)</span><span class="sxs-lookup"><span data-stu-id="e794c-335">[Choosing an encryption algorithm](https://technet.microsoft.com/library/ms345262(v=sql.130).aspx)</span></span> |
| <span data-ttu-id="e794c-336">**단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-336">**Steps**</span></span> | <span data-ttu-id="e794c-337">암호화 알고리즘은 권한이 없는 사용자가 쉽게 바꿀 수 없는 데이터 변환을 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-337">Encryption algorithms define data transformations that cannot be easily reversed by unauthorized users.</span></span> <span data-ttu-id="e794c-338">SQL Server를 사용하면 관리자와 개발자가 DES, 3중 DES, TRIPLE_DES_3KEY, RC2, RC4, 128비트 RC4, DESX, 128비트 AES, 192비트 AES 및 256비트 AES를 포함한 여러 알고리즘 중에서 선택할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-338">SQL Server allows administrators and developers to choose from among several algorithms, including DES, Triple DES, TRIPLE_DES_3KEY, RC2, RC4, 128-bit RC4, DESX, 128-bit AES, 192-bit AES, and 256-bit AES</span></span> |

## <span data-ttu-id="e794c-339"><a id="ssis-signed"></a>암호화되고 디지털 서명되어야 하는 SSIS 패키지</span><span class="sxs-lookup"><span data-stu-id="e794c-339"><a id="ssis-signed"></a>SSIS packages should be encrypted and digitally signed</span></span>

| <span data-ttu-id="e794c-340">제목</span><span class="sxs-lookup"><span data-stu-id="e794c-340">Title</span></span>                   | <span data-ttu-id="e794c-341">세부 정보</span><span class="sxs-lookup"><span data-stu-id="e794c-341">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="e794c-342">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="e794c-342">**Component**</span></span>               | <span data-ttu-id="e794c-343">데이터베이스</span><span class="sxs-lookup"><span data-stu-id="e794c-343">Database</span></span> | 
| <span data-ttu-id="e794c-344">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-344">**SDL Phase**</span></span>               | <span data-ttu-id="e794c-345">빌드</span><span class="sxs-lookup"><span data-stu-id="e794c-345">Build</span></span> |  
| <span data-ttu-id="e794c-346">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="e794c-346">**Applicable Technologies**</span></span> | <span data-ttu-id="e794c-347">일반</span><span class="sxs-lookup"><span data-stu-id="e794c-347">Generic</span></span> |
| <span data-ttu-id="e794c-348">**특성**</span><span class="sxs-lookup"><span data-stu-id="e794c-348">**Attributes**</span></span>              | <span data-ttu-id="e794c-349">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e794c-349">N/A</span></span>  |
| <span data-ttu-id="e794c-350">**참조**</span><span class="sxs-lookup"><span data-stu-id="e794c-350">**References**</span></span>              | <span data-ttu-id="e794c-351">[디지털 서명을 사용하여 패키지 원본 확인](https://msdn.microsoft.com/library/ms141174.aspx), [위협 요소 및 취약성 완화(Integration Services)](https://msdn.microsoft.com/library/bb522559.aspx)</span><span class="sxs-lookup"><span data-stu-id="e794c-351">[Identify the Source of Packages with Digital Signatures](https://msdn.microsoft.com/library/ms141174.aspx), [Threat and Vulnerability Mitigation (Integration Services)](https://msdn.microsoft.com/library/bb522559.aspx)</span></span> |
| <span data-ttu-id="e794c-352">**단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-352">**Steps**</span></span> | <span data-ttu-id="e794c-353">패키지의 원본은 해당 패키지를 만든 개인 또는 조직입니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-353">The source of a package is the individual or organization that created the package.</span></span> <span data-ttu-id="e794c-354">알 수 없거나 신뢰할 수 없는 원본에서 패키지를 실행하는 것은 위험할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-354">Running a package from an unknown or untrusted source might be risky.</span></span> <span data-ttu-id="e794c-355">SSIS 패키지의 무단 변조를 방지하려면 디지털 서명을 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-355">To prevent unauthorized tampering of SSIS packages, digital signatures should be used.</span></span> <span data-ttu-id="e794c-356">또한 저장/전송 중에 패키지의 기밀성을 보장하려면 SSIS 패키지를 암호화해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-356">Also, to ensure the confidentiality of the packages during storage/transit, SSIS packages have to be encrypted</span></span> |

## <span data-ttu-id="e794c-357"><a id="securables-db"></a>중요한 데이터베이스 보안 개체에 디지털 서명 추가</span><span class="sxs-lookup"><span data-stu-id="e794c-357"><a id="securables-db"></a>Add digital signature to critical database securables</span></span>

| <span data-ttu-id="e794c-358">제목</span><span class="sxs-lookup"><span data-stu-id="e794c-358">Title</span></span>                   | <span data-ttu-id="e794c-359">세부 정보</span><span class="sxs-lookup"><span data-stu-id="e794c-359">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="e794c-360">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="e794c-360">**Component**</span></span>               | <span data-ttu-id="e794c-361">데이터베이스</span><span class="sxs-lookup"><span data-stu-id="e794c-361">Database</span></span> | 
| <span data-ttu-id="e794c-362">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-362">**SDL Phase**</span></span>               | <span data-ttu-id="e794c-363">빌드</span><span class="sxs-lookup"><span data-stu-id="e794c-363">Build</span></span> |  
| <span data-ttu-id="e794c-364">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="e794c-364">**Applicable Technologies**</span></span> | <span data-ttu-id="e794c-365">일반</span><span class="sxs-lookup"><span data-stu-id="e794c-365">Generic</span></span> |
| <span data-ttu-id="e794c-366">**특성**</span><span class="sxs-lookup"><span data-stu-id="e794c-366">**Attributes**</span></span>              | <span data-ttu-id="e794c-367">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e794c-367">N/A</span></span>  |
| <span data-ttu-id="e794c-368">**참조**</span><span class="sxs-lookup"><span data-stu-id="e794c-368">**References**</span></span>              | [<span data-ttu-id="e794c-369">ADD SIGNATURE(TRANSACT-SQL)</span><span class="sxs-lookup"><span data-stu-id="e794c-369">ADD SIGNATURE (Transact-SQL)</span></span>](https://msdn.microsoft.com/library/ms181700) |
| <span data-ttu-id="e794c-370">**단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-370">**Steps**</span></span> | <span data-ttu-id="e794c-371">중요한 데이터베이스 보안 개체의 무결성을 확인해야 하는 경우 디지털 서명을 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-371">In cases where the integrity of a critical database securable has to be verified, digital signatures should be used.</span></span> <span data-ttu-id="e794c-372">저장 프로시저, 함수, 어셈블리 또는 트리거와 같은 데이터베이스 보안 개체는 디지털로 서명할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-372">Database securables such as a stored procedure, function, assembly, or trigger can be digitally signed.</span></span> <span data-ttu-id="e794c-373">이러한 디지털 서명이 유용할 수 있는 경우의 예로, ISV(Independent Software Vendor)에서 고객 중 한 사람에게 전달되는 소프트웨어에 대한 지원을 제공한다고 가정해 보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-373">Below is an example of when this can be useful: Let us say an ISV (Independent Software Vendor) has provided support to a software delivered to one of their customers.</span></span> <span data-ttu-id="e794c-374">ISV는 지원을 제공하기 전에 소프트웨어의 데이터베이스 보안 개체가 실수로 또는 악의적으로 변조되지 않았는지 확인하려고 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-374">Before providing support, the ISV would want to ensure that a database securable in the software was not tampered either by mistake or by a malicious attempt.</span></span> <span data-ttu-id="e794c-375">보안 개체가 디지털 서명된 경우 ISV는 해당 디지털 서명을 확인하고 무결성의 유효성을 검사할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-375">If the securable is digitally signed, the ISV can verify its digital signature and validate its integrity.</span></span>| 

## <span data-ttu-id="e794c-376"><a id="ekm-keys"></a>SQL 서버 EKM을 사용하여 암호화 키 보호</span><span class="sxs-lookup"><span data-stu-id="e794c-376"><a id="ekm-keys"></a>Use SQL server EKM to protect encryption keys</span></span>

| <span data-ttu-id="e794c-377">제목</span><span class="sxs-lookup"><span data-stu-id="e794c-377">Title</span></span>                   | <span data-ttu-id="e794c-378">세부 정보</span><span class="sxs-lookup"><span data-stu-id="e794c-378">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="e794c-379">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="e794c-379">**Component**</span></span>               | <span data-ttu-id="e794c-380">데이터베이스</span><span class="sxs-lookup"><span data-stu-id="e794c-380">Database</span></span> | 
| <span data-ttu-id="e794c-381">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-381">**SDL Phase**</span></span>               | <span data-ttu-id="e794c-382">빌드</span><span class="sxs-lookup"><span data-stu-id="e794c-382">Build</span></span> |  
| <span data-ttu-id="e794c-383">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="e794c-383">**Applicable Technologies**</span></span> | <span data-ttu-id="e794c-384">일반</span><span class="sxs-lookup"><span data-stu-id="e794c-384">Generic</span></span> |
| <span data-ttu-id="e794c-385">**특성**</span><span class="sxs-lookup"><span data-stu-id="e794c-385">**Attributes**</span></span>              | <span data-ttu-id="e794c-386">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e794c-386">N/A</span></span>  |
| <span data-ttu-id="e794c-387">**참조**</span><span class="sxs-lookup"><span data-stu-id="e794c-387">**References**</span></span>              | <span data-ttu-id="e794c-388">[SQL Server EKM(확장 가능 키 관리)](https://msdn.microsoft.com/library/bb895340), [Azure Key Vault(SQL Server)를 사용한 확장 가능 키 관리](https://msdn.microsoft.com/library/dn198405)</span><span class="sxs-lookup"><span data-stu-id="e794c-388">[SQL Server Extensible Key Management (EKM)](https://msdn.microsoft.com/library/bb895340), [Extensible Key Management Using Azure Key Vault (SQL Server)](https://msdn.microsoft.com/library/dn198405)</span></span> |
| <span data-ttu-id="e794c-389">**단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-389">**Steps**</span></span> | <span data-ttu-id="e794c-390">SQL Server EKM(확장 가능 키 관리)을 사용하면 데이터베이스 파일을 보호하는 암호화 키를 스마트 카드, USB 장치 또는 EKM/HSM 모듈과 같은 외부 장치에 저장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-390">SQL Server Extensible Key Management enables the encryption keys that protect the database files to be stored in an off-box device such as a smartcard, USB device, or EKM/HSM module.</span></span> <span data-ttu-id="e794c-391">또한 데이터베이스 관리자(sysadmin 그룹의 멤버 제외)로부터 데이터를 보호할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-391">This also enables data protection from database administrators (except members of the sysadmin group).</span></span> <span data-ttu-id="e794c-392">데이터베이스 사용자만 외부 EKM/HSM 모듈에 액세스할 수 있는 암호화 키를 사용하여 데이터를 암호화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-392">Data can be encrypted by using encryption keys that only the database user has access to on the external EKM/HSM module.</span></span> |

## <span data-ttu-id="e794c-393"><a id="keys-engine"></a>데이터베이스 엔진에 암호화 키를 공개하지 않아야 하는 경우 AlwaysEncrypted 기능 사용</span><span class="sxs-lookup"><span data-stu-id="e794c-393"><a id="keys-engine"></a>Use AlwaysEncrypted feature if encryption keys should not be revealed to Database engine</span></span>

| <span data-ttu-id="e794c-394">제목</span><span class="sxs-lookup"><span data-stu-id="e794c-394">Title</span></span>                   | <span data-ttu-id="e794c-395">세부 정보</span><span class="sxs-lookup"><span data-stu-id="e794c-395">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="e794c-396">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="e794c-396">**Component**</span></span>               | <span data-ttu-id="e794c-397">데이터베이스</span><span class="sxs-lookup"><span data-stu-id="e794c-397">Database</span></span> | 
| <span data-ttu-id="e794c-398">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-398">**SDL Phase**</span></span>               | <span data-ttu-id="e794c-399">빌드</span><span class="sxs-lookup"><span data-stu-id="e794c-399">Build</span></span> |  
| <span data-ttu-id="e794c-400">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="e794c-400">**Applicable Technologies**</span></span> | <span data-ttu-id="e794c-401">SQL Azure, 온-프레미스</span><span class="sxs-lookup"><span data-stu-id="e794c-401">SQL Azure, OnPrem</span></span> |
| <span data-ttu-id="e794c-402">**특성**</span><span class="sxs-lookup"><span data-stu-id="e794c-402">**Attributes**</span></span>              | <span data-ttu-id="e794c-403">SQL 버전 - V12, MsSQL2016</span><span class="sxs-lookup"><span data-stu-id="e794c-403">SQL Version - V12, MsSQL2016</span></span> |
| <span data-ttu-id="e794c-404">**참조**</span><span class="sxs-lookup"><span data-stu-id="e794c-404">**References**</span></span>              | [<span data-ttu-id="e794c-405">상시 암호화(데이터베이스 엔진)</span><span class="sxs-lookup"><span data-stu-id="e794c-405">Always Encrypted (Database Engine)</span></span>](https://msdn.microsoft.com/library/mt163865) |
| <span data-ttu-id="e794c-406">**단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-406">**Steps**</span></span> | <span data-ttu-id="e794c-407">상시 암호화는 Azure SQL Database 또는 SQL Server 데이터베이스에 저장된 신용 카드 번호 또는 주민 등록 번호(예: 미국 사회 보장 번호)와 같은 중요한 데이터를 보호하기 위해 고안된 기능입니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-407">Always Encrypted is a feature designed to protect sensitive data, such as credit card numbers or national identification numbers (e.g. U.S. social security numbers), stored in Azure SQL Database or SQL Server databases.</span></span> <span data-ttu-id="e794c-408">상시 암호화를 사용하면 클라이언트에서 클라이언트 응용 프로그램 내의 중요한 데이터를 암호화하고 데이터베이스 엔진(SQL Database 또는 SQL Server)에 암호화 키를 공개하지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-408">Always Encrypted allows clients to encrypt sensitive data inside client applications and never reveal the encryption keys to the Database Engine (SQL Database or SQL Server).</span></span> <span data-ttu-id="e794c-409">따라서 상시 암호화는 데이터를 소유하고 볼 수 있는 사용자와 데이터를 관리하지만 액세스 권한이 없는 사용자를 구별합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-409">As a result, Always Encrypted provides a separation between those who own the data (and can view it) and those who manage the data (but should have no access)</span></span> |

## <span data-ttu-id="e794c-410"><a id="keys-iot"></a>IoT 장치에 안전하게 암호화 키 저장</span><span class="sxs-lookup"><span data-stu-id="e794c-410"><a id="keys-iot"></a>Store Cryptographic Keys securely on IoT Device</span></span>

| <span data-ttu-id="e794c-411">제목</span><span class="sxs-lookup"><span data-stu-id="e794c-411">Title</span></span>                   | <span data-ttu-id="e794c-412">세부 정보</span><span class="sxs-lookup"><span data-stu-id="e794c-412">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="e794c-413">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="e794c-413">**Component**</span></span>               | <span data-ttu-id="e794c-414">IoT 장치</span><span class="sxs-lookup"><span data-stu-id="e794c-414">IoT Device</span></span> | 
| <span data-ttu-id="e794c-415">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-415">**SDL Phase**</span></span>               | <span data-ttu-id="e794c-416">빌드</span><span class="sxs-lookup"><span data-stu-id="e794c-416">Build</span></span> |  
| <span data-ttu-id="e794c-417">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="e794c-417">**Applicable Technologies**</span></span> | <span data-ttu-id="e794c-418">일반</span><span class="sxs-lookup"><span data-stu-id="e794c-418">Generic</span></span> |
| <span data-ttu-id="e794c-419">**특성**</span><span class="sxs-lookup"><span data-stu-id="e794c-419">**Attributes**</span></span>              | <span data-ttu-id="e794c-420">장치 OS - Windows IoT Core, 장치 연결 - Azure IoT 장치 SDK</span><span class="sxs-lookup"><span data-stu-id="e794c-420">Device OS - Windows IoT Core, Device Connectivity - Azure IoT device SDKs</span></span> |
| <span data-ttu-id="e794c-421">**참조**</span><span class="sxs-lookup"><span data-stu-id="e794c-421">**References**</span></span>              | <span data-ttu-id="e794c-422">[Windows IoT Core의 TPM](https://developer.microsoft.com/windows/iot/docs/tpm)(영문), [Windows IoT Core에서 TPM 설정](https://developer.microsoft.com/windows/iot/win10/setuptpm)(영문), [Azure IoT 장치 SDK TPM](https://github.com/Azure/azure-iot-hub-vs-cs/wiki/Device-Provisioning-with-TPM)(영문)</span><span class="sxs-lookup"><span data-stu-id="e794c-422">[TPM on Windows IoT Core](https://developer.microsoft.com/windows/iot/docs/tpm), [Set up TPM on Windows IoT Core](https://developer.microsoft.com/windows/iot/win10/setuptpm), [Azure IoT Device SDK TPM](https://github.com/Azure/azure-iot-hub-vs-cs/wiki/Device-Provisioning-with-TPM)</span></span> |
| <span data-ttu-id="e794c-423">**단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-423">**Steps**</span></span> | <span data-ttu-id="e794c-424">대칭 또는 인증서 개인 키는 TPM 또는 스마트 카드 칩과 같은 하드웨어로 보호된 저장소에 안전하게 보관됩니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-424">Symmetric or Certificate Private keys securely in a hardware protected storage like TPM or Smart Card chips.</span></span> <span data-ttu-id="e794c-425">Windows 10 IoT Core는 TPM의 usr을 지원하며, https://developer.microsoft.com/windows/iot/win10/tpm에는 사용할 수 있는 몇 가지 호환 가능한 TPM이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-425">Windows 10 IoT Core supports the user of a TPM and there are several compatible TPMs that can be used: https://developer.microsoft.com/windows/iot/win10/tpm.</span></span> <span data-ttu-id="e794c-426">펌웨어 또는 불연속 TPM을 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-426">It is recommended to use a Firmware or Discrete TPM.</span></span> <span data-ttu-id="e794c-427">소프트웨어 TPM은 개발 및 테스트 용도로만 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-427">A Software TPM should only be used for development and testing purposes.</span></span> <span data-ttu-id="e794c-428">TPM을 사용할 수 있고 이 TPM에 키를 프로비전하는 경우 토큰을 생성하는 코드는 중요한 정보를 하드 코딩하지 않고 작성해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-428">Once a TPM is available and the keys are provisioned in it, the code that generates the token should be written without hard coding any sensitive information in it.</span></span> | 

### <a name="example"></a><span data-ttu-id="e794c-429">예제</span><span class="sxs-lookup"><span data-stu-id="e794c-429">Example</span></span>
```
TpmDevice myDevice = new TpmDevice(0);
// Use logical device 0 on the TPM 
string hubUri = myDevice.GetHostName(); 
string deviceId = myDevice.GetDeviceId(); 
string sasToken = myDevice.GetSASToken(); 

var deviceClient = DeviceClient.Create( hubUri, AuthenticationMethodFactory. CreateAuthenticationWithToken(deviceId, sasToken), TransportType.Amqp); 
```
<span data-ttu-id="e794c-430">여기서 보여 주듯이 장치 기본 키는 코드에 없지만</span><span class="sxs-lookup"><span data-stu-id="e794c-430">As can be seen, the device primary key is not present in the code.</span></span> <span data-ttu-id="e794c-431">TPM의 슬롯 0에 저장됩니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-431">Instead, it is stored in the TPM at slot 0.</span></span> <span data-ttu-id="e794c-432">TPM 장치는 IoT Hub에 연결하는 데 사용되는 수명이 짧은 SAS 토큰을 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-432">TPM device generates a short-lived SAS token that is then used to connect to the IoT Hub.</span></span> 

## <span data-ttu-id="e794c-433"><a id="random-hub"></a>IoT Hub 인증에 충분한 길이의 임의 대칭 키 생성</span><span class="sxs-lookup"><span data-stu-id="e794c-433"><a id="random-hub"></a>Generate a random symmetric key of sufficient length for authentication to IoT Hub</span></span>

| <span data-ttu-id="e794c-434">제목</span><span class="sxs-lookup"><span data-stu-id="e794c-434">Title</span></span>                   | <span data-ttu-id="e794c-435">세부 정보</span><span class="sxs-lookup"><span data-stu-id="e794c-435">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="e794c-436">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="e794c-436">**Component**</span></span>               | <span data-ttu-id="e794c-437">IoT 클라우드 게이트웨이</span><span class="sxs-lookup"><span data-stu-id="e794c-437">IoT Cloud Gateway</span></span> | 
| <span data-ttu-id="e794c-438">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-438">**SDL Phase**</span></span>               | <span data-ttu-id="e794c-439">빌드</span><span class="sxs-lookup"><span data-stu-id="e794c-439">Build</span></span> |  
| <span data-ttu-id="e794c-440">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="e794c-440">**Applicable Technologies**</span></span> | <span data-ttu-id="e794c-441">일반</span><span class="sxs-lookup"><span data-stu-id="e794c-441">Generic</span></span> |
| <span data-ttu-id="e794c-442">**특성**</span><span class="sxs-lookup"><span data-stu-id="e794c-442">**Attributes**</span></span>              | <span data-ttu-id="e794c-443">게이트웨이 선택 - Azure IoT Hub</span><span class="sxs-lookup"><span data-stu-id="e794c-443">Gateway choice - Azure IoT Hub</span></span> |
| <span data-ttu-id="e794c-444">**참조**</span><span class="sxs-lookup"><span data-stu-id="e794c-444">**References**</span></span>              | <span data-ttu-id="e794c-445">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e794c-445">N/A</span></span>  |
| <span data-ttu-id="e794c-446">**단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-446">**Steps**</span></span> | <span data-ttu-id="e794c-447">IoT Hub는 장치 ID 레지스트리를 포함하고, 장치를 프로비전하는 동안 임의 대칭 키를 자동으로 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-447">IoT Hub contains a device Identity Registry and while provisioning a device, automatically generates a random Symmetric key.</span></span> <span data-ttu-id="e794c-448">Azure IoT Hub ID 레지스트리의 이 기능을 사용하여 인증에 사용되는 키를 생성하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-448">It is recommended to use this feature of the Azure IoT Hub Identity Registry to generate the key used for authentication.</span></span> <span data-ttu-id="e794c-449">또한 IoT Hub를 사용하면 장치를 만드는 동안 키를 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-449">IoT Hub also allows for a key to be specified while creating the device.</span></span> <span data-ttu-id="e794c-450">장치 프로비전 중에 IoT Hub 외부에서 키를 생성하는 경우 임의 대칭 키 또는 256비트 이상의 키를 만드는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-450">If a key is generated outside of IoT Hub during device provisioning, it is recommended to create a random symmetric key or at least 256 bits.</span></span> |

## <span data-ttu-id="e794c-451"><a id="pin-remote"></a>PIN 사용이 필요하고 원격 지우기를 허용하는 장치 관리 정책이 있는지 확인</span><span class="sxs-lookup"><span data-stu-id="e794c-451"><a id="pin-remote"></a>Ensure a device management policy is in place that requires a use PIN and allows remote wiping</span></span>

| <span data-ttu-id="e794c-452">제목</span><span class="sxs-lookup"><span data-stu-id="e794c-452">Title</span></span>                   | <span data-ttu-id="e794c-453">세부 정보</span><span class="sxs-lookup"><span data-stu-id="e794c-453">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="e794c-454">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="e794c-454">**Component**</span></span>               | <span data-ttu-id="e794c-455">Dynamics CRM 모바일 클라이언트</span><span class="sxs-lookup"><span data-stu-id="e794c-455">Dynamics CRM Mobile Client</span></span> | 
| <span data-ttu-id="e794c-456">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-456">**SDL Phase**</span></span>               | <span data-ttu-id="e794c-457">배포</span><span class="sxs-lookup"><span data-stu-id="e794c-457">Deployment</span></span> |  
| <span data-ttu-id="e794c-458">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="e794c-458">**Applicable Technologies**</span></span> | <span data-ttu-id="e794c-459">일반</span><span class="sxs-lookup"><span data-stu-id="e794c-459">Generic</span></span> |
| <span data-ttu-id="e794c-460">**특성**</span><span class="sxs-lookup"><span data-stu-id="e794c-460">**Attributes**</span></span>              | <span data-ttu-id="e794c-461">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e794c-461">N/A</span></span>  |
| <span data-ttu-id="e794c-462">**참조**</span><span class="sxs-lookup"><span data-stu-id="e794c-462">**References**</span></span>              | <span data-ttu-id="e794c-463">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e794c-463">N/A</span></span>  |
| <span data-ttu-id="e794c-464">**단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-464">**Steps**</span></span> | <span data-ttu-id="e794c-465">PIN 사용이 필요하고 원격 지우기를 허용하는 장치 관리 정책이 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-465">Ensure a device management policy is in place that requires a use PIN and allows remote wiping</span></span> |

## <span data-ttu-id="e794c-466"><a id="bitlocker"></a>PIN/암호/자동 잠금이 필요하고 모든 데이터를 암호화(예: Bitlocker)하는 장치 관리 정책이 있는지 확인</span><span class="sxs-lookup"><span data-stu-id="e794c-466"><a id="bitlocker"></a>Ensure a device management policy is in place that requires a PIN/password/auto lock and encrypts all data (e.g. Bitlocker)</span></span>

| <span data-ttu-id="e794c-467">제목</span><span class="sxs-lookup"><span data-stu-id="e794c-467">Title</span></span>                   | <span data-ttu-id="e794c-468">세부 정보</span><span class="sxs-lookup"><span data-stu-id="e794c-468">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="e794c-469">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="e794c-469">**Component**</span></span>               | <span data-ttu-id="e794c-470">Dynamics CRM Outlook 클라이언트</span><span class="sxs-lookup"><span data-stu-id="e794c-470">Dynamics CRM Outlook Client</span></span> | 
| <span data-ttu-id="e794c-471">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-471">**SDL Phase**</span></span>               | <span data-ttu-id="e794c-472">빌드</span><span class="sxs-lookup"><span data-stu-id="e794c-472">Build</span></span> |  
| <span data-ttu-id="e794c-473">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="e794c-473">**Applicable Technologies**</span></span> | <span data-ttu-id="e794c-474">일반</span><span class="sxs-lookup"><span data-stu-id="e794c-474">Generic</span></span> |
| <span data-ttu-id="e794c-475">**특성**</span><span class="sxs-lookup"><span data-stu-id="e794c-475">**Attributes**</span></span>              | <span data-ttu-id="e794c-476">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e794c-476">N/A</span></span>  |
| <span data-ttu-id="e794c-477">**참조**</span><span class="sxs-lookup"><span data-stu-id="e794c-477">**References**</span></span>              | <span data-ttu-id="e794c-478">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e794c-478">N/A</span></span>  |
| <span data-ttu-id="e794c-479">**단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-479">**Steps**</span></span> | <span data-ttu-id="e794c-480">PIN/암호/자동 잠금이 필요하고 모든 데이터를 암호화(예: Bitlocker)하는 장치 관리 정책이 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-480">Ensure a device management policy is in place that requires a PIN/password/auto lock and encrypts all data (e.g. Bitlocker)</span></span> |

## <span data-ttu-id="e794c-481"><a id="rolled-server"></a>Identity Server를 사용할 때 서명 키가 롤오버되는지 확인</span><span class="sxs-lookup"><span data-stu-id="e794c-481"><a id="rolled-server"></a>Ensure that signing keys are rolled over when using Identity Server</span></span>

| <span data-ttu-id="e794c-482">제목</span><span class="sxs-lookup"><span data-stu-id="e794c-482">Title</span></span>                   | <span data-ttu-id="e794c-483">세부 정보</span><span class="sxs-lookup"><span data-stu-id="e794c-483">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="e794c-484">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="e794c-484">**Component**</span></span>               | <span data-ttu-id="e794c-485">ID 서버</span><span class="sxs-lookup"><span data-stu-id="e794c-485">Identity Server</span></span> | 
| <span data-ttu-id="e794c-486">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-486">**SDL Phase**</span></span>               | <span data-ttu-id="e794c-487">배포</span><span class="sxs-lookup"><span data-stu-id="e794c-487">Deployment</span></span> |  
| <span data-ttu-id="e794c-488">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="e794c-488">**Applicable Technologies**</span></span> | <span data-ttu-id="e794c-489">일반</span><span class="sxs-lookup"><span data-stu-id="e794c-489">Generic</span></span> |
| <span data-ttu-id="e794c-490">**특성**</span><span class="sxs-lookup"><span data-stu-id="e794c-490">**Attributes**</span></span>              | <span data-ttu-id="e794c-491">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e794c-491">N/A</span></span>  |
| <span data-ttu-id="e794c-492">**참조**</span><span class="sxs-lookup"><span data-stu-id="e794c-492">**References**</span></span>              | <span data-ttu-id="e794c-493">[Identity Server - 키, 서명 및 암호화](https://identityserver.github.io/Documentation/docsv2/configuration/crypto.html)(영문)</span><span class="sxs-lookup"><span data-stu-id="e794c-493">[Identity Server - Keys, Signatures and Cryptography ](https://identityserver.github.io/Documentation/docsv2/configuration/crypto.html)</span></span> |
| <span data-ttu-id="e794c-494">**단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-494">**Steps**</span></span> | <span data-ttu-id="e794c-495">Identity Server를 사용할 때 서명 키가 롤오버되는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-495">Ensure that signing keys are rolled over when using Identity Server.</span></span> <span data-ttu-id="e794c-496">참조 섹션의 링크에서는 Identity Server를 사용하는 응용 프로그램을 중단하지 않고도 서명 키를 롤오버하도록 계획하는 방법을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-496">The link in the references section explains how this should be planned without causing outages to applications relying on Identity Server.</span></span> |

## <span data-ttu-id="e794c-497"><a id="client-server"></a>Identity Server에서 암호화된 강력한 클라이언트 ID와 클라이언트 비밀이 사용되는지 확인</span><span class="sxs-lookup"><span data-stu-id="e794c-497"><a id="client-server"></a>Ensure that cryptographically strong client ID, client secret are used in Identity Server</span></span>

| <span data-ttu-id="e794c-498">제목</span><span class="sxs-lookup"><span data-stu-id="e794c-498">Title</span></span>                   | <span data-ttu-id="e794c-499">세부 정보</span><span class="sxs-lookup"><span data-stu-id="e794c-499">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="e794c-500">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="e794c-500">**Component**</span></span>               | <span data-ttu-id="e794c-501">ID 서버</span><span class="sxs-lookup"><span data-stu-id="e794c-501">Identity Server</span></span> | 
| <span data-ttu-id="e794c-502">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-502">**SDL Phase**</span></span>               | <span data-ttu-id="e794c-503">빌드</span><span class="sxs-lookup"><span data-stu-id="e794c-503">Build</span></span> |  
| <span data-ttu-id="e794c-504">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="e794c-504">**Applicable Technologies**</span></span> | <span data-ttu-id="e794c-505">일반</span><span class="sxs-lookup"><span data-stu-id="e794c-505">Generic</span></span> |
| <span data-ttu-id="e794c-506">**특성**</span><span class="sxs-lookup"><span data-stu-id="e794c-506">**Attributes**</span></span>              | <span data-ttu-id="e794c-507">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e794c-507">N/A</span></span>  |
| <span data-ttu-id="e794c-508">**참조**</span><span class="sxs-lookup"><span data-stu-id="e794c-508">**References**</span></span>              | <span data-ttu-id="e794c-509">해당 없음</span><span class="sxs-lookup"><span data-stu-id="e794c-509">N/A</span></span>  |
| <span data-ttu-id="e794c-510">**단계**</span><span class="sxs-lookup"><span data-stu-id="e794c-510">**Steps**</span></span> | <p><span data-ttu-id="e794c-511">Identity Server에서 암호화된 강력한 클라이언트 ID와 클라이언트 비밀이 사용되는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-511">Ensure that cryptographically strong client ID, client secret are used in Identity Server.</span></span> <span data-ttu-id="e794c-512">클라이언트 ID와 비밀을 생성하는 동안 다음 지침을 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-512">The following guidelines should be used while generating a client ID and secret:</span></span></p><ul><li><span data-ttu-id="e794c-513">클라이언트 ID로 임의 GUID를 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-513">Generate a random GUID as the client ID</span></span></li><li><span data-ttu-id="e794c-514">비밀로 암호화된 임의 256비트 키를 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="e794c-514">Generate a cryptographically random 256-bit key as the secret</span></span></li></ul>|