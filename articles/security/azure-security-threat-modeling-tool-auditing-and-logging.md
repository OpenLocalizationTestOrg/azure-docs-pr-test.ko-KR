---
title: "감사 및 로깅 - Microsoft 위협 모델링 도구 - Azure | Microsoft Docs"
description: "위협 모델링 도구에 노출되는 위협 완화"
services: security
documentationcenter: na
author: RodSan
manager: RodSan
editor: RodSan
ms.assetid: na
ms.service: security
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: rodsan
ms.openlocfilehash: 3f1933fc59862eca7ae6ee40bbd5136e449e5cf1
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/29/2017
---
# <a name="security-frame-auditing-and-logging--mitigations"></a><span data-ttu-id="2d7df-103">보안 프레임: 감사 및 로깅 | 완화</span><span class="sxs-lookup"><span data-stu-id="2d7df-103">Security Frame: Auditing and Logging | Mitigations</span></span> 
| <span data-ttu-id="2d7df-104">제품/서비스</span><span class="sxs-lookup"><span data-stu-id="2d7df-104">Product/Service</span></span> | <span data-ttu-id="2d7df-105">문서</span><span class="sxs-lookup"><span data-stu-id="2d7df-105">Article</span></span> |
| --------------- | ------- |
| <span data-ttu-id="2d7df-106">**Dynamics CRM**</span><span class="sxs-lookup"><span data-stu-id="2d7df-106">**Dynamics CRM**</span></span>    | <ul><li>[<span data-ttu-id="2d7df-107">솔루션의 민감한 엔터티를 식별하고 변경 감사 구현</span><span class="sxs-lookup"><span data-stu-id="2d7df-107">Identify sensitive entities in your solution and implement change auditing</span></span>](#sensitive-entities)</li></ul> |
| <span data-ttu-id="2d7df-108">**웹 응용 프로그램**</span><span class="sxs-lookup"><span data-stu-id="2d7df-108">**Web Application**</span></span> | <ul><li>[<span data-ttu-id="2d7df-109">응용 프로그램에 감사 및 로깅 적용</span><span class="sxs-lookup"><span data-stu-id="2d7df-109">Ensure that auditing and logging is enforced on the application</span></span>](#auditing)</li><li>[<span data-ttu-id="2d7df-110">로그 회전 및 분리가 작동하는지 확인</span><span class="sxs-lookup"><span data-stu-id="2d7df-110">Ensure that log rotation and separation are in place</span></span>](#log-rotation)</li><li>[<span data-ttu-id="2d7df-111">응용 프로그램이 민감한 사용자 데이터를 기록하지 않도록 확인</span><span class="sxs-lookup"><span data-stu-id="2d7df-111">Ensure that the application does not log sensitive user data</span></span>](#log-sensitive-data)</li><li>[<span data-ttu-id="2d7df-112">감사 및 로그 파일의 액세스 제한</span><span class="sxs-lookup"><span data-stu-id="2d7df-112">Ensure that Audit and Log Files have Restricted Access</span></span>](#log-restricted-access)</li><li>[<span data-ttu-id="2d7df-113">사용자 관리 이벤트 기록</span><span class="sxs-lookup"><span data-stu-id="2d7df-113">Ensure that User Management Events are Logged</span></span>](#user-management)</li><li>[<span data-ttu-id="2d7df-114">시스템에 악용 방지 수단을 기본적으로 제공</span><span class="sxs-lookup"><span data-stu-id="2d7df-114">Ensure that the system has inbuilt defenses against misuse</span></span>](#inbuilt-defenses)</li><li>[<span data-ttu-id="2d7df-115">Azure App Service에서 웹앱에 대한 진단 로깅 설정</span><span class="sxs-lookup"><span data-stu-id="2d7df-115">Enable diagnostics logging for web apps in Azure App Service</span></span>](#diagnostics-logging)</li></ul> |
| <span data-ttu-id="2d7df-116">**데이터베이스**</span><span class="sxs-lookup"><span data-stu-id="2d7df-116">**Database**</span></span> | <ul><li>[<span data-ttu-id="2d7df-117">SQL Server에서 로그인 감사를 사용하도록 설정</span><span class="sxs-lookup"><span data-stu-id="2d7df-117">Ensure that login auditing is enabled on SQL Server</span></span>](#identify-sensitive-entities)</li><li>[<span data-ttu-id="2d7df-118">Azure SQL에서 위협 감지 사용</span><span class="sxs-lookup"><span data-stu-id="2d7df-118">Enable Threat detection on Azure SQL</span></span>](#threat-detection)</li></ul> |
| <span data-ttu-id="2d7df-119">**Azure 저장소**</span><span class="sxs-lookup"><span data-stu-id="2d7df-119">**Azure Storage**</span></span> | <ul><li>[<span data-ttu-id="2d7df-120">Azure 저장소 분석을 사용하여 Azure Storage에 대한 액세스 감사</span><span class="sxs-lookup"><span data-stu-id="2d7df-120">Use Azure Storage Analytics to audit access of Azure Storage</span></span>](#analytics)</li></ul> |
| <span data-ttu-id="2d7df-121">**WCF**</span><span class="sxs-lookup"><span data-stu-id="2d7df-121">**WCF**</span></span> | <ul><li>[<span data-ttu-id="2d7df-122">충분한 로깅 구현</span><span class="sxs-lookup"><span data-stu-id="2d7df-122">Implement sufficient Logging</span></span>](#sufficient-logging)</li><li>[<span data-ttu-id="2d7df-123">충분한 감사 실패 처리 구현</span><span class="sxs-lookup"><span data-stu-id="2d7df-123">Implement sufficient Audit Failure Handling</span></span>](#audit-failure-handling)</li></ul> |
| <span data-ttu-id="2d7df-124">**앱 API**</span><span class="sxs-lookup"><span data-stu-id="2d7df-124">**Web API**</span></span> | <ul><li>[<span data-ttu-id="2d7df-125">웹 API에 감사 및 로깅 적용</span><span class="sxs-lookup"><span data-stu-id="2d7df-125">Ensure that auditing and logging is enforced on Web API</span></span>](#logging-web-api)</li></ul> |
| <span data-ttu-id="2d7df-126">**IoT 필드 게이트웨이**</span><span class="sxs-lookup"><span data-stu-id="2d7df-126">**IoT Field Gateway**</span></span> | <ul><li>[<span data-ttu-id="2d7df-127">필드 게이트웨이에 적절한 감사 및 로깅 적용</span><span class="sxs-lookup"><span data-stu-id="2d7df-127">Ensure that appropriate auditing and logging is enforced on Field Gateway</span></span>](#logging-field-gateway)</li></ul> |
| <span data-ttu-id="2d7df-128">**IoT 클라우드 게이트웨이**</span><span class="sxs-lookup"><span data-stu-id="2d7df-128">**IoT Cloud Gateway**</span></span> | <ul><li>[<span data-ttu-id="2d7df-129">클라우드 게이트웨이에 적절한 감사 및 로깅 적용</span><span class="sxs-lookup"><span data-stu-id="2d7df-129">Ensure that appropriate auditing and logging is enforced on Cloud Gateway</span></span>](#logging-cloud-gateway)</li></ul> |

## <span data-ttu-id="2d7df-130"><a id="sensitive-entities"></a>솔루션의 민감한 엔터티를 식별하고 변경 감사 구현</span><span class="sxs-lookup"><span data-stu-id="2d7df-130"><a id="sensitive-entities"></a>Identify sensitive entities in your solution and implement change auditing</span></span>

| <span data-ttu-id="2d7df-131">제목</span><span class="sxs-lookup"><span data-stu-id="2d7df-131">Title</span></span>                   | <span data-ttu-id="2d7df-132">세부 정보</span><span class="sxs-lookup"><span data-stu-id="2d7df-132">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2d7df-133">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="2d7df-133">**Component**</span></span>               | <span data-ttu-id="2d7df-134">Dynamics CRM</span><span class="sxs-lookup"><span data-stu-id="2d7df-134">Dynamics CRM</span></span> | 
| <span data-ttu-id="2d7df-135">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-135">**SDL Phase**</span></span>               | <span data-ttu-id="2d7df-136">빌드</span><span class="sxs-lookup"><span data-stu-id="2d7df-136">Build</span></span> |  
| <span data-ttu-id="2d7df-137">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="2d7df-137">**Applicable Technologies**</span></span> | <span data-ttu-id="2d7df-138">일반</span><span class="sxs-lookup"><span data-stu-id="2d7df-138">Generic</span></span> |
| <span data-ttu-id="2d7df-139">**특성**</span><span class="sxs-lookup"><span data-stu-id="2d7df-139">**Attributes**</span></span>              | <span data-ttu-id="2d7df-140">해당 없음</span><span class="sxs-lookup"><span data-stu-id="2d7df-140">N/A</span></span>  |
| <span data-ttu-id="2d7df-141">**참조**</span><span class="sxs-lookup"><span data-stu-id="2d7df-141">**References**</span></span>              | <span data-ttu-id="2d7df-142">해당 없음</span><span class="sxs-lookup"><span data-stu-id="2d7df-142">N/A</span></span>  |
| <span data-ttu-id="2d7df-143">**단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-143">**Steps**</span></span>                   | <span data-ttu-id="2d7df-144">솔루션에서 중요한 데이터가 포함된 엔터티를 식별하고 이러한 엔터티 및 필드에 대한 변경 감사 구현</span><span class="sxs-lookup"><span data-stu-id="2d7df-144">Identify entities in your solution containing sensitive data and implement change auditing on those entities and fields</span></span> |

## <span data-ttu-id="2d7df-145"><a id="auditing"></a>응용 프로그램에 감사 및 로깅 적용</span><span class="sxs-lookup"><span data-stu-id="2d7df-145"><a id="auditing"></a>Ensure that auditing and logging is enforced on the application</span></span>

| <span data-ttu-id="2d7df-146">제목</span><span class="sxs-lookup"><span data-stu-id="2d7df-146">Title</span></span>                   | <span data-ttu-id="2d7df-147">세부 정보</span><span class="sxs-lookup"><span data-stu-id="2d7df-147">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2d7df-148">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="2d7df-148">**Component**</span></span>               | <span data-ttu-id="2d7df-149">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="2d7df-149">Web Application</span></span> | 
| <span data-ttu-id="2d7df-150">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-150">**SDL Phase**</span></span>               | <span data-ttu-id="2d7df-151">빌드</span><span class="sxs-lookup"><span data-stu-id="2d7df-151">Build</span></span> |  
| <span data-ttu-id="2d7df-152">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="2d7df-152">**Applicable Technologies**</span></span> | <span data-ttu-id="2d7df-153">일반</span><span class="sxs-lookup"><span data-stu-id="2d7df-153">Generic</span></span> |
| <span data-ttu-id="2d7df-154">**특성**</span><span class="sxs-lookup"><span data-stu-id="2d7df-154">**Attributes**</span></span>              | <span data-ttu-id="2d7df-155">해당 없음</span><span class="sxs-lookup"><span data-stu-id="2d7df-155">N/A</span></span>  |
| <span data-ttu-id="2d7df-156">**참조**</span><span class="sxs-lookup"><span data-stu-id="2d7df-156">**References**</span></span>              | <span data-ttu-id="2d7df-157">해당 없음</span><span class="sxs-lookup"><span data-stu-id="2d7df-157">N/A</span></span>  |
| <span data-ttu-id="2d7df-158">**단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-158">**Steps**</span></span>                   | <span data-ttu-id="2d7df-159">모든 구성 요소에 감사 및 로깅을 사용하도록 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-159">Enable auditing and logging on all components.</span></span> <span data-ttu-id="2d7df-160">감사 로그는 사용자 컨텍스트를 캡처해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-160">Audit logs should capture user context.</span></span> <span data-ttu-id="2d7df-161">모든 중요한 이벤트를 식별하고 해당 이벤트를 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-161">Identify all important events and log those events.</span></span> <span data-ttu-id="2d7df-162">중앙 집중식 로깅 구현</span><span class="sxs-lookup"><span data-stu-id="2d7df-162">Implement centralized logging</span></span> |

## <span data-ttu-id="2d7df-163"><a id="log-rotation"></a>로그 회전 및 분리가 작동하는지 확인</span><span class="sxs-lookup"><span data-stu-id="2d7df-163"><a id="log-rotation"></a>Ensure that log rotation and separation are in place</span></span>

| <span data-ttu-id="2d7df-164">제목</span><span class="sxs-lookup"><span data-stu-id="2d7df-164">Title</span></span>                   | <span data-ttu-id="2d7df-165">세부 정보</span><span class="sxs-lookup"><span data-stu-id="2d7df-165">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2d7df-166">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="2d7df-166">**Component**</span></span>               | <span data-ttu-id="2d7df-167">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="2d7df-167">Web Application</span></span> | 
| <span data-ttu-id="2d7df-168">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-168">**SDL Phase**</span></span>               | <span data-ttu-id="2d7df-169">빌드</span><span class="sxs-lookup"><span data-stu-id="2d7df-169">Build</span></span> |  
| <span data-ttu-id="2d7df-170">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="2d7df-170">**Applicable Technologies**</span></span> | <span data-ttu-id="2d7df-171">일반</span><span class="sxs-lookup"><span data-stu-id="2d7df-171">Generic</span></span> |
| <span data-ttu-id="2d7df-172">**특성**</span><span class="sxs-lookup"><span data-stu-id="2d7df-172">**Attributes**</span></span>              | <span data-ttu-id="2d7df-173">해당 없음</span><span class="sxs-lookup"><span data-stu-id="2d7df-173">N/A</span></span>  |
| <span data-ttu-id="2d7df-174">**참조**</span><span class="sxs-lookup"><span data-stu-id="2d7df-174">**References**</span></span>              | <span data-ttu-id="2d7df-175">해당 없음</span><span class="sxs-lookup"><span data-stu-id="2d7df-175">N/A</span></span>  |
| <span data-ttu-id="2d7df-176">**단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-176">**Steps**</span></span>                   | <p><span data-ttu-id="2d7df-177">로그 회전은 날짜가 지정된 로그 파일이 보관되는 시스템 관리에 사용되는 자동화 프로세스입니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-177">Log rotation is an automated process used in system administration in which dated log files are archived.</span></span> <span data-ttu-id="2d7df-178">대형 응용 프로그램을 실행하는 서버는 모든 요청을 기록하는 경우가 많은데, 대규모 로그가 발생하는 경우 로그 회전은 최근 이벤트의 분석을 계속 허용하면서도 로그의 총 크기를 제한할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-178">Servers which run large applications often log every request: in the face of bulky logs, log rotation is a way to limit the total size of the logs while still allowing analysis of recent events.</span></span> </p><p><span data-ttu-id="2d7df-179">로그 분리는 기본적으로 서비스 거부 공격 또는 응용 프로그램 성능 저하를 방지하기 위해 OS/응용 프로그램 실행되고 있는 여러 파티션에 로그 파일을 저장해야 한다는 의미입니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-179">Log separation basically means that you have to store your log files on a different partition as where your OS/application is running on in order to avert a Denial of service attack or the downgrading of your application its performance</span></span></p>|

## <span data-ttu-id="2d7df-180"><a id="log-sensitive-data"></a>응용 프로그램이 민감한 사용자 데이터를 기록하지 않도록 확인</span><span class="sxs-lookup"><span data-stu-id="2d7df-180"><a id="log-sensitive-data"></a>Ensure that the application does not log sensitive user data</span></span>

| <span data-ttu-id="2d7df-181">제목</span><span class="sxs-lookup"><span data-stu-id="2d7df-181">Title</span></span>                   | <span data-ttu-id="2d7df-182">세부 정보</span><span class="sxs-lookup"><span data-stu-id="2d7df-182">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2d7df-183">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="2d7df-183">**Component**</span></span>               | <span data-ttu-id="2d7df-184">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="2d7df-184">Web Application</span></span> | 
| <span data-ttu-id="2d7df-185">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-185">**SDL Phase**</span></span>               | <span data-ttu-id="2d7df-186">빌드</span><span class="sxs-lookup"><span data-stu-id="2d7df-186">Build</span></span> |  
| <span data-ttu-id="2d7df-187">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="2d7df-187">**Applicable Technologies**</span></span> | <span data-ttu-id="2d7df-188">일반</span><span class="sxs-lookup"><span data-stu-id="2d7df-188">Generic</span></span> |
| <span data-ttu-id="2d7df-189">**특성**</span><span class="sxs-lookup"><span data-stu-id="2d7df-189">**Attributes**</span></span>              | <span data-ttu-id="2d7df-190">해당 없음</span><span class="sxs-lookup"><span data-stu-id="2d7df-190">N/A</span></span>  |
| <span data-ttu-id="2d7df-191">**참조**</span><span class="sxs-lookup"><span data-stu-id="2d7df-191">**References**</span></span>              | <span data-ttu-id="2d7df-192">해당 없음</span><span class="sxs-lookup"><span data-stu-id="2d7df-192">N/A</span></span>  |
| <span data-ttu-id="2d7df-193">**단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-193">**Steps**</span></span>                   | <p><span data-ttu-id="2d7df-194">사용자가 사이트에 제출하는 민감한 데이터를 기록하지 않도록 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-194">Check that you do not log any sensitive data that a user submits to your site.</span></span> <span data-ttu-id="2d7df-195">의도적 로깅과 설계 문제로 인한 부작용을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-195">Check for intentional logging as well as side effects caused by design issues.</span></span> <span data-ttu-id="2d7df-196">다음은 민감한 데이터의 예입니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-196">Examples of sensitive data include:</span></span></p><ul><li><span data-ttu-id="2d7df-197">사용자 자격 증명</span><span class="sxs-lookup"><span data-stu-id="2d7df-197">User Credentials</span></span></li><li><span data-ttu-id="2d7df-198">사회 보장 번호 또는 기타 식별 정보</span><span class="sxs-lookup"><span data-stu-id="2d7df-198">Social Security number or other identifying information</span></span></li><li><span data-ttu-id="2d7df-199">신용 카드 번호 또는 기타 금융 정보</span><span class="sxs-lookup"><span data-stu-id="2d7df-199">Credit card numbers or other financial information</span></span></li><li><span data-ttu-id="2d7df-200">의료 정보</span><span class="sxs-lookup"><span data-stu-id="2d7df-200">Health information</span></span></li><li><span data-ttu-id="2d7df-201">개인 키 또는 암호화된 정보를 해독하는 데 사용할 수 있는 기타 데이터</span><span class="sxs-lookup"><span data-stu-id="2d7df-201">Private keys or other data that could be used to decrypt encrypted information</span></span></li><li><span data-ttu-id="2d7df-202">응용 프로그램을 보다 효과적으로 공격하는 데 용할 수 있는 시스템 또는 응용 프로그램 정보</span><span class="sxs-lookup"><span data-stu-id="2d7df-202">System or application information that can be used to more effectively attack the application</span></span></li></ul>|

## <span data-ttu-id="2d7df-203"><a id="log-restricted-access"></a>감사 및 로그 파일의 액세스 제한</span><span class="sxs-lookup"><span data-stu-id="2d7df-203"><a id="log-restricted-access"></a>Ensure that Audit and Log Files have Restricted Access</span></span>

| <span data-ttu-id="2d7df-204">제목</span><span class="sxs-lookup"><span data-stu-id="2d7df-204">Title</span></span>                   | <span data-ttu-id="2d7df-205">세부 정보</span><span class="sxs-lookup"><span data-stu-id="2d7df-205">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2d7df-206">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="2d7df-206">**Component**</span></span>               | <span data-ttu-id="2d7df-207">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="2d7df-207">Web Application</span></span> | 
| <span data-ttu-id="2d7df-208">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-208">**SDL Phase**</span></span>               | <span data-ttu-id="2d7df-209">빌드</span><span class="sxs-lookup"><span data-stu-id="2d7df-209">Build</span></span> |  
| <span data-ttu-id="2d7df-210">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="2d7df-210">**Applicable Technologies**</span></span> | <span data-ttu-id="2d7df-211">일반</span><span class="sxs-lookup"><span data-stu-id="2d7df-211">Generic</span></span> |
| <span data-ttu-id="2d7df-212">**특성**</span><span class="sxs-lookup"><span data-stu-id="2d7df-212">**Attributes**</span></span>              | <span data-ttu-id="2d7df-213">해당 없음</span><span class="sxs-lookup"><span data-stu-id="2d7df-213">N/A</span></span>  |
| <span data-ttu-id="2d7df-214">**참조**</span><span class="sxs-lookup"><span data-stu-id="2d7df-214">**References**</span></span>              | <span data-ttu-id="2d7df-215">해당 없음</span><span class="sxs-lookup"><span data-stu-id="2d7df-215">N/A</span></span>  |
| <span data-ttu-id="2d7df-216">**단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-216">**Steps**</span></span>                   | <p><span data-ttu-id="2d7df-217">로그 파일에 대한 액세스 권한이 적절하게 설정되었는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-217">Check to ensure access rights to log files are appropriately set.</span></span> <span data-ttu-id="2d7df-218">응용 프로그램 계정은 쓰기 전용 액세스만 가능해야 하고 운영자 및 고객 지원 담당자는 필요에 따라 읽기 전용 액세스만 가능해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-218">Application accounts should have write-only access and operators and support personnel should have read-only access as needed.</span></span></p><p><span data-ttu-id="2d7df-219">관리자 계정은 전체 액세스가 가능한 유일한 계정입니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-219">Administrators accounts are the only accounts which should have full access.</span></span> <span data-ttu-id="2d7df-220">액세스 권한이 적절하게 제한되었는지 그 파일에서 Windows ACL을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-220">Check Windows ACL on log files to ensure they are properly restricted:</span></span></p><ul><li><span data-ttu-id="2d7df-221">응용 프로그램 계정은 쓰기 전용 액세스만 가능해야 함</span><span class="sxs-lookup"><span data-stu-id="2d7df-221">Application accounts should have write-only access</span></span></li><li><span data-ttu-id="2d7df-222">운영자 및 고객 지원 담당자는 필요에 따라 읽기 전용 액세스만 가능해야 함</span><span class="sxs-lookup"><span data-stu-id="2d7df-222">Operators and support personnel should have read-only access as needed</span></span></li><li><span data-ttu-id="2d7df-223">관리자 계정은 전체 액세스가 가능한 유일한 계정</span><span class="sxs-lookup"><span data-stu-id="2d7df-223">Administrators are the only accounts that should have full access</span></span></li></ul>|

## <span data-ttu-id="2d7df-224"><a id="user-management"></a>사용자 관리 이벤트 기록</span><span class="sxs-lookup"><span data-stu-id="2d7df-224"><a id="user-management"></a>Ensure that User Management Events are Logged</span></span>

| <span data-ttu-id="2d7df-225">제목</span><span class="sxs-lookup"><span data-stu-id="2d7df-225">Title</span></span>                   | <span data-ttu-id="2d7df-226">세부 정보</span><span class="sxs-lookup"><span data-stu-id="2d7df-226">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2d7df-227">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="2d7df-227">**Component**</span></span>               | <span data-ttu-id="2d7df-228">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="2d7df-228">Web Application</span></span> | 
| <span data-ttu-id="2d7df-229">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-229">**SDL Phase**</span></span>               | <span data-ttu-id="2d7df-230">빌드</span><span class="sxs-lookup"><span data-stu-id="2d7df-230">Build</span></span> |  
| <span data-ttu-id="2d7df-231">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="2d7df-231">**Applicable Technologies**</span></span> | <span data-ttu-id="2d7df-232">일반</span><span class="sxs-lookup"><span data-stu-id="2d7df-232">Generic</span></span> |
| <span data-ttu-id="2d7df-233">**특성**</span><span class="sxs-lookup"><span data-stu-id="2d7df-233">**Attributes**</span></span>              | <span data-ttu-id="2d7df-234">해당 없음</span><span class="sxs-lookup"><span data-stu-id="2d7df-234">N/A</span></span>  |
| <span data-ttu-id="2d7df-235">**참조**</span><span class="sxs-lookup"><span data-stu-id="2d7df-235">**References**</span></span>              | <span data-ttu-id="2d7df-236">해당 없음</span><span class="sxs-lookup"><span data-stu-id="2d7df-236">N/A</span></span>  |
| <span data-ttu-id="2d7df-237">**단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-237">**Steps**</span></span>                   | <p><span data-ttu-id="2d7df-238">응용 프로그램에서 성공 및 실패한 사용자 로그인, 암호 재설정, 암호 변경, 계정 잠금, 사용자 등록 등의 사용자 관리 이벤트를 모니터링하도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-238">Ensure that the application monitors user management events such as successful and failed user logins, password resets, password changes, account lockout, user registration.</span></span> <span data-ttu-id="2d7df-239">이렇게 하면 의심스러운 동작을 감지하고 적절하게 대응할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-239">Doing this helps to detect and react to potentially suspicious behavior.</span></span> <span data-ttu-id="2d7df-240">뿐만 아니라 운영 데이터를 수집할 수 있습니다. 예를 들어 누가 응용 프로그램에 액세스하는지 추적할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-240">It also enables to gather operations data; for example, to track who is accessing the application</span></span></p>|

## <span data-ttu-id="2d7df-241"><a id="inbuilt-defenses"></a>시스템에 악용 방지 수단을 기본적으로 제공</span><span class="sxs-lookup"><span data-stu-id="2d7df-241"><a id="inbuilt-defenses"></a>Ensure that the system has inbuilt defenses against misuse</span></span>

| <span data-ttu-id="2d7df-242">제목</span><span class="sxs-lookup"><span data-stu-id="2d7df-242">Title</span></span>                   | <span data-ttu-id="2d7df-243">세부 정보</span><span class="sxs-lookup"><span data-stu-id="2d7df-243">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2d7df-244">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="2d7df-244">**Component**</span></span>               | <span data-ttu-id="2d7df-245">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="2d7df-245">Web Application</span></span> | 
| <span data-ttu-id="2d7df-246">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-246">**SDL Phase**</span></span>               | <span data-ttu-id="2d7df-247">빌드</span><span class="sxs-lookup"><span data-stu-id="2d7df-247">Build</span></span> |  
| <span data-ttu-id="2d7df-248">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="2d7df-248">**Applicable Technologies**</span></span> | <span data-ttu-id="2d7df-249">일반</span><span class="sxs-lookup"><span data-stu-id="2d7df-249">Generic</span></span> |
| <span data-ttu-id="2d7df-250">**특성**</span><span class="sxs-lookup"><span data-stu-id="2d7df-250">**Attributes**</span></span>              | <span data-ttu-id="2d7df-251">해당 없음</span><span class="sxs-lookup"><span data-stu-id="2d7df-251">N/A</span></span>  |
| <span data-ttu-id="2d7df-252">**참조**</span><span class="sxs-lookup"><span data-stu-id="2d7df-252">**References**</span></span>              | <span data-ttu-id="2d7df-253">해당 없음</span><span class="sxs-lookup"><span data-stu-id="2d7df-253">N/A</span></span>  |
| <span data-ttu-id="2d7df-254">**단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-254">**Steps**</span></span>                   | <p><span data-ttu-id="2d7df-255">응용 프로그램이 잘못 사용될 경우 보안 예외를 throw하는 컨트롤이 작동해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-255">Controls should be in place which throw security exception in case of application misuse.</span></span> <span data-ttu-id="2d7df-256">예를 들어 입력 유효성 검사가 작동하면 공격자가 regex와 일치하지 않는 악성 코드를 삽입하려고 시도할 때 시스템 악용을 의미하는 보안 예외를 throw할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-256">E.g., If input validation is in place and an attacker attempts to inject malicious code that does not match the regex, a security exception can be thrown which can be an indicative of system misuse</span></span></p><p><span data-ttu-id="2d7df-257">예를 들어 다음과 같은 문제에 대해 보안 예외를 기록하고 적절한 작업을 수행하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-257">For example, it is recommended to have security exceptions logged and actions taken for the following issues:</span></span></p><ul><li><span data-ttu-id="2d7df-258">입력 유효성 검사</span><span class="sxs-lookup"><span data-stu-id="2d7df-258">Input validation</span></span></li><li><span data-ttu-id="2d7df-259">CSRF 위반</span><span class="sxs-lookup"><span data-stu-id="2d7df-259">CSRF violations</span></span></li><li><span data-ttu-id="2d7df-260">무차별 암호 대입(리소스당 사용자별 요청 수에 대한 상한)</span><span class="sxs-lookup"><span data-stu-id="2d7df-260">Brute force (upper limit for number of requests per user per resource)</span></span></li><li><span data-ttu-id="2d7df-261">파일 업로드 위반</span><span class="sxs-lookup"><span data-stu-id="2d7df-261">File upload violations</span></span></li><ul>|

## <span data-ttu-id="2d7df-262"><a id="diagnostics-logging"></a>Azure App Service에서 웹앱에 대한 진단 로깅 설정</span><span class="sxs-lookup"><span data-stu-id="2d7df-262"><a id="diagnostics-logging"></a>Enable diagnostics logging for web apps in Azure App Service</span></span>

| <span data-ttu-id="2d7df-263">제목</span><span class="sxs-lookup"><span data-stu-id="2d7df-263">Title</span></span>                   | <span data-ttu-id="2d7df-264">세부 정보</span><span class="sxs-lookup"><span data-stu-id="2d7df-264">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2d7df-265">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="2d7df-265">**Component**</span></span>               | <span data-ttu-id="2d7df-266">웹 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="2d7df-266">Web Application</span></span> | 
| <span data-ttu-id="2d7df-267">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-267">**SDL Phase**</span></span>               | <span data-ttu-id="2d7df-268">빌드</span><span class="sxs-lookup"><span data-stu-id="2d7df-268">Build</span></span> |  
| <span data-ttu-id="2d7df-269">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="2d7df-269">**Applicable Technologies**</span></span> | <span data-ttu-id="2d7df-270">일반</span><span class="sxs-lookup"><span data-stu-id="2d7df-270">Generic</span></span> |
| <span data-ttu-id="2d7df-271">**특성**</span><span class="sxs-lookup"><span data-stu-id="2d7df-271">**Attributes**</span></span>              | <span data-ttu-id="2d7df-272">EnvironmentType - Azure</span><span class="sxs-lookup"><span data-stu-id="2d7df-272">EnvironmentType - Azure</span></span> |
| <span data-ttu-id="2d7df-273">**참조**</span><span class="sxs-lookup"><span data-stu-id="2d7df-273">**References**</span></span>              | <span data-ttu-id="2d7df-274">해당 없음</span><span class="sxs-lookup"><span data-stu-id="2d7df-274">N/A</span></span>  |
| <span data-ttu-id="2d7df-275">**단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-275">**Steps**</span></span> | <p><span data-ttu-id="2d7df-276">Azure는 App Service 웹앱을 디버그하는 데 도움이 되는 기본 제공 진단을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-276">Azure provides built-in diagnostics to assist with debugging an App Service web app.</span></span> <span data-ttu-id="2d7df-277">API 앱 및 모바일 앱에도 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-277">It also applies to API apps and mobile apps.</span></span> <span data-ttu-id="2d7df-278">앱 서비스 웹앱은 웹 서버와 웹 응용 프로그램 모두의 정보를 로깅할 수 있도록 진단 기능을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-278">App Service web apps provide diagnostic functionality for logging information from both the web server and the web application.</span></span></p><p><span data-ttu-id="2d7df-279">이는 논리적으로 웹 서버 진단 및 응용 프로그램 진단으로 구분됩니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-279">These are logically separated into web server diagnostics and application diagnostics</span></span></p>|

## <span data-ttu-id="2d7df-280"><a id="identify-sensitive-entities"></a>SQL Server에서 로그인 감사를 사용하도록 설정</span><span class="sxs-lookup"><span data-stu-id="2d7df-280"><a id="identify-sensitive-entities"></a>Ensure that login auditing is enabled on SQL Server</span></span>

| <span data-ttu-id="2d7df-281">제목</span><span class="sxs-lookup"><span data-stu-id="2d7df-281">Title</span></span>                   | <span data-ttu-id="2d7df-282">세부 정보</span><span class="sxs-lookup"><span data-stu-id="2d7df-282">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2d7df-283">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="2d7df-283">**Component**</span></span>               | <span data-ttu-id="2d7df-284">데이터베이스</span><span class="sxs-lookup"><span data-stu-id="2d7df-284">Database</span></span> | 
| <span data-ttu-id="2d7df-285">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-285">**SDL Phase**</span></span>               | <span data-ttu-id="2d7df-286">빌드</span><span class="sxs-lookup"><span data-stu-id="2d7df-286">Build</span></span> |  
| <span data-ttu-id="2d7df-287">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="2d7df-287">**Applicable Technologies**</span></span> | <span data-ttu-id="2d7df-288">일반</span><span class="sxs-lookup"><span data-stu-id="2d7df-288">Generic</span></span> |
| <span data-ttu-id="2d7df-289">**특성**</span><span class="sxs-lookup"><span data-stu-id="2d7df-289">**Attributes**</span></span>              | <span data-ttu-id="2d7df-290">해당 없음</span><span class="sxs-lookup"><span data-stu-id="2d7df-290">N/A</span></span>  |
| <span data-ttu-id="2d7df-291">**참조**</span><span class="sxs-lookup"><span data-stu-id="2d7df-291">**References**</span></span>              | [<span data-ttu-id="2d7df-292">로그인 감사 구성</span><span class="sxs-lookup"><span data-stu-id="2d7df-292">Configure Login Auditing</span></span>](https://msdn.microsoft.com/library/ms175850.aspx) |
| <span data-ttu-id="2d7df-293">**단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-293">**Steps**</span></span> | <p><span data-ttu-id="2d7df-294">암호 추측 공격을 감지/확인할 수 있도록 데이터베이스 서버 로그인 감사를 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-294">Database Server login auditing must be enabled to detect/confirm password guessing attacks.</span></span> <span data-ttu-id="2d7df-295">실패한 로그인 시도를 캡처하는 것이 중요합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-295">It is important to capture failed login attempts.</span></span> <span data-ttu-id="2d7df-296">성공한 로그인 시도와 실패한 로그인 시도를 모두 캡처하면 법정 조사 시 추가적인 이점이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-296">Capturing both successful and failed login attempts provides additional benefit during forensic investigations</span></span></p>|

## <span data-ttu-id="2d7df-297"><a id="threat-detection"></a>Azure SQL에서 위협 감지 사용</span><span class="sxs-lookup"><span data-stu-id="2d7df-297"><a id="threat-detection"></a>Enable Threat detection on Azure SQL</span></span>

| <span data-ttu-id="2d7df-298">제목</span><span class="sxs-lookup"><span data-stu-id="2d7df-298">Title</span></span>                   | <span data-ttu-id="2d7df-299">세부 정보</span><span class="sxs-lookup"><span data-stu-id="2d7df-299">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2d7df-300">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="2d7df-300">**Component**</span></span>               | <span data-ttu-id="2d7df-301">데이터베이스</span><span class="sxs-lookup"><span data-stu-id="2d7df-301">Database</span></span> | 
| <span data-ttu-id="2d7df-302">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-302">**SDL Phase**</span></span>               | <span data-ttu-id="2d7df-303">빌드</span><span class="sxs-lookup"><span data-stu-id="2d7df-303">Build</span></span> |  
| <span data-ttu-id="2d7df-304">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="2d7df-304">**Applicable Technologies**</span></span> | <span data-ttu-id="2d7df-305">SQL Azure</span><span class="sxs-lookup"><span data-stu-id="2d7df-305">SQL Azure</span></span> |
| <span data-ttu-id="2d7df-306">**특성**</span><span class="sxs-lookup"><span data-stu-id="2d7df-306">**Attributes**</span></span>              | <span data-ttu-id="2d7df-307">SQL 버전 - V12</span><span class="sxs-lookup"><span data-stu-id="2d7df-307">SQL Version - V12</span></span> |
| <span data-ttu-id="2d7df-308">**참조**</span><span class="sxs-lookup"><span data-stu-id="2d7df-308">**References**</span></span>              | [<span data-ttu-id="2d7df-309">SQL Database 위협 감지 시작</span><span class="sxs-lookup"><span data-stu-id="2d7df-309">Get Started with SQL Database Threat Detection</span></span>](https://azure.microsoft.com/documentation/articles/sql-database-threat-detection-get-started/)|
| <span data-ttu-id="2d7df-310">**단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-310">**Steps**</span></span> |<p><span data-ttu-id="2d7df-311">위협 감지는 데이터베이스에 대한 잠재적인 보안 위협을 나타내는 비정상적인 데이터베이스 활동을 감지합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-311">Threat Detection detects anomalous database activities indicating potential security threats to the database.</span></span> <span data-ttu-id="2d7df-312">위협 감지는 비정상적인 활동에 대한 보안 경고를 제공하여 잠재적인 위협이 발생하면 고객이 이를 감지하고 대응할 수 있도록 하는 새로운 차원의 보안을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-312">It provides a new layer of security, which enables customers to detect and respond to potential threats as they occur by providing security alerts on anomalous activities.</span></span></p><p><span data-ttu-id="2d7df-313">사용자는 데이터베이스의 데이터를 액세스, 침범 또는 악용하려는 시도로 인해 의심스러운 이벤트가 발생했는지를 판단하기 위해서 Azure SQL Database 감사를 사용하여 의심스러운 이벤트를 살펴 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-313">Users can explore the suspicious events using Azure SQL Database Auditing to determine if they result from an attempt to access, breach or exploit data in the database.</span></span></p><p><span data-ttu-id="2d7df-314">위협 감지는 보안 전문가가 되거나 고급 보안 모니터링 시스템을 관리할 필요 없이 데이터베이스에 대한 잠재적인 위협에 간단하게 대처할 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-314">Threat Detection makes it simple to address potential threats to the database without the need to be a security expert or manage advanced security monitoring systems</span></span></p>|

## <span data-ttu-id="2d7df-315"><a id="analytics"></a>Azure 저장소 분석을 사용하여 Azure Storage에 대한 액세스 감사</span><span class="sxs-lookup"><span data-stu-id="2d7df-315"><a id="analytics"></a>Use Azure Storage Analytics to audit access of Azure Storage</span></span>

| <span data-ttu-id="2d7df-316">제목</span><span class="sxs-lookup"><span data-stu-id="2d7df-316">Title</span></span>                   | <span data-ttu-id="2d7df-317">세부 정보</span><span class="sxs-lookup"><span data-stu-id="2d7df-317">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2d7df-318">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="2d7df-318">**Component**</span></span>               | <span data-ttu-id="2d7df-319">Azure 저장소</span><span class="sxs-lookup"><span data-stu-id="2d7df-319">Azure Storage</span></span> | 
| <span data-ttu-id="2d7df-320">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-320">**SDL Phase**</span></span>               | <span data-ttu-id="2d7df-321">배포</span><span class="sxs-lookup"><span data-stu-id="2d7df-321">Deployment</span></span> |  
| <span data-ttu-id="2d7df-322">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="2d7df-322">**Applicable Technologies**</span></span> | <span data-ttu-id="2d7df-323">일반</span><span class="sxs-lookup"><span data-stu-id="2d7df-323">Generic</span></span> |
| <span data-ttu-id="2d7df-324">**특성**</span><span class="sxs-lookup"><span data-stu-id="2d7df-324">**Attributes**</span></span>              | <span data-ttu-id="2d7df-325">해당 없음</span><span class="sxs-lookup"><span data-stu-id="2d7df-325">N/A</span></span> |
| <span data-ttu-id="2d7df-326">**참조**</span><span class="sxs-lookup"><span data-stu-id="2d7df-326">**References**</span></span>              | [<span data-ttu-id="2d7df-327">저장소 분석을 사용하여 인증 유형 모니터링</span><span class="sxs-lookup"><span data-stu-id="2d7df-327">Using Storage Analytics to monitor authorization type</span></span>](https://azure.microsoft.com/documentation/articles/storage-security-guide/#storage-analytics) |
| <span data-ttu-id="2d7df-328">**단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-328">**Steps**</span></span> | <p><span data-ttu-id="2d7df-329">각 저장소 계정에 대해 Azure 저장소 분석을 사용하도록 설정하여 로깅을 수행하고 메트릭 데이터를 저장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-329">For each storage account, one can enable Azure Storage Analytics to perform logging and store metrics data.</span></span> <span data-ttu-id="2d7df-330">저장소 분석 로그는 누군가가 저장소에 액세스할 때 사용한 인증 방법 등의 중요한 정보를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-330">The storage analytics logs provide important information such as authentication method used by someone when they access storage.</span></span></p><p><span data-ttu-id="2d7df-331">저장소에 대한 액세스를 엄격히 관리하는 경우에는 이 방법이 도움이 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-331">This can be really helpful if you are tightly guarding access to storage.</span></span> <span data-ttu-id="2d7df-332">예를 들어, Blob 저장소에서 모든 컨테이너를 개인으로 설정하고 응용 프로그램 전체에서 SAS 서비스를 사용을 구현할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-332">For example, in Blob Storage you can set all of the containers to private and implement the use of an SAS service throughout your applications.</span></span> <span data-ttu-id="2d7df-333">그런 다음 로그를 주기적으로 확인하여 저장소 계정 키를 사용하여 Blob에 액세스하는지(보안 위반을 의미할 수 있음) 또는 Blob이 공용이지만 공용이면 안 되는지 알아볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-333">Then you can check the logs regularly to see if your blobs are accessed using the storage account keys, which may indicate a breach of security, or if the blobs are public but they shouldn’t be.</span></span></p>|

## <span data-ttu-id="2d7df-334"><a id="sufficient-logging"></a>충분한 로깅 구현</span><span class="sxs-lookup"><span data-stu-id="2d7df-334"><a id="sufficient-logging"></a>Implement sufficient Logging</span></span>

| <span data-ttu-id="2d7df-335">제목</span><span class="sxs-lookup"><span data-stu-id="2d7df-335">Title</span></span>                   | <span data-ttu-id="2d7df-336">세부 정보</span><span class="sxs-lookup"><span data-stu-id="2d7df-336">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2d7df-337">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="2d7df-337">**Component**</span></span>               | <span data-ttu-id="2d7df-338">WCF</span><span class="sxs-lookup"><span data-stu-id="2d7df-338">WCF</span></span> | 
| <span data-ttu-id="2d7df-339">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-339">**SDL Phase**</span></span>               | <span data-ttu-id="2d7df-340">빌드</span><span class="sxs-lookup"><span data-stu-id="2d7df-340">Build</span></span> |  
| <span data-ttu-id="2d7df-341">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="2d7df-341">**Applicable Technologies**</span></span> | <span data-ttu-id="2d7df-342">.NET Framework</span><span class="sxs-lookup"><span data-stu-id="2d7df-342">.NET Framework</span></span> |
| <span data-ttu-id="2d7df-343">**특성**</span><span class="sxs-lookup"><span data-stu-id="2d7df-343">**Attributes**</span></span>              | <span data-ttu-id="2d7df-344">해당 없음</span><span class="sxs-lookup"><span data-stu-id="2d7df-344">N/A</span></span>  |
| <span data-ttu-id="2d7df-345">**참조**</span><span class="sxs-lookup"><span data-stu-id="2d7df-345">**References**</span></span>              | <span data-ttu-id="2d7df-346">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify, 영국](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="2d7df-346">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="2d7df-347">**단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-347">**Steps**</span></span> | <p><span data-ttu-id="2d7df-348">보안 문제가 발생한 후 적절한 감사 내역이 부족하면 범죄 수사가 제한될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-348">The lack of a proper audit trail after a security incident can hamper forensic efforts.</span></span> <span data-ttu-id="2d7df-349">WCF(Windows Communication Foundation)는 성공한/실패한 인증 시도를 기록하는 기능을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-349">Windows Communication Foundation (WCF) offers the ability to log successful and/or failed authentication attempts.</span></span></p><p><span data-ttu-id="2d7df-350">실패한 인증 시도를 기록하면 관리자에게 무차별 암호 대입 공격 가능성을 경고할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-350">Logging failed authentication attempts can warn administrators of potential brute-force attacks.</span></span> <span data-ttu-id="2d7df-351">마찬가지로, 성공한 인증 이벤트를 기록하면 합법적 계정이 손상될 때 유용한 감사 추적을 제공할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-351">Similarly, logging successful authentication events can provide a useful audit trail when a legitimate account is compromised.</span></span> <span data-ttu-id="2d7df-352">WCF의 서비스 보안 감사 기능을 사용하도록 설정</span><span class="sxs-lookup"><span data-stu-id="2d7df-352">Enable WCF's service security audit feature</span></span> |

### <a name="example"></a><span data-ttu-id="2d7df-353">예제</span><span class="sxs-lookup"><span data-stu-id="2d7df-353">Example</span></span>
<span data-ttu-id="2d7df-354">다음은 감사를 사용하도록 설정된 구성 예제입니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-354">The following is an example configuration with auditing enabled</span></span>
```
<system.serviceModel>
    <behaviors>
        <serviceBehaviors>
            <behavior name=""NewBehavior"">
                <serviceSecurityAudit auditLogLocation=""Default""
                suppressAuditFailure=""false"" 
                serviceAuthorizationAuditLevel=""SuccessAndFailure""
                messageAuthenticationAuditLevel=""SuccessAndFailure"" />
                ...
            </behavior>
        </servicebehaviors>
    </behaviors>
</system.serviceModel>
```

## <span data-ttu-id="2d7df-355"><a id="audit-failure-handling"></a>충분한 감사 실패 처리 구현</span><span class="sxs-lookup"><span data-stu-id="2d7df-355"><a id="audit-failure-handling"></a>Implement sufficient Audit Failure Handling</span></span>

| <span data-ttu-id="2d7df-356">제목</span><span class="sxs-lookup"><span data-stu-id="2d7df-356">Title</span></span>                   | <span data-ttu-id="2d7df-357">세부 정보</span><span class="sxs-lookup"><span data-stu-id="2d7df-357">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2d7df-358">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="2d7df-358">**Component**</span></span>               | <span data-ttu-id="2d7df-359">WCF</span><span class="sxs-lookup"><span data-stu-id="2d7df-359">WCF</span></span> | 
| <span data-ttu-id="2d7df-360">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-360">**SDL Phase**</span></span>               | <span data-ttu-id="2d7df-361">빌드</span><span class="sxs-lookup"><span data-stu-id="2d7df-361">Build</span></span> |  
| <span data-ttu-id="2d7df-362">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="2d7df-362">**Applicable Technologies**</span></span> | <span data-ttu-id="2d7df-363">.NET Framework</span><span class="sxs-lookup"><span data-stu-id="2d7df-363">.NET Framework</span></span> |
| <span data-ttu-id="2d7df-364">**특성**</span><span class="sxs-lookup"><span data-stu-id="2d7df-364">**Attributes**</span></span>              | <span data-ttu-id="2d7df-365">해당 없음</span><span class="sxs-lookup"><span data-stu-id="2d7df-365">N/A</span></span>  |
| <span data-ttu-id="2d7df-366">**참조**</span><span class="sxs-lookup"><span data-stu-id="2d7df-366">**References**</span></span>              | <span data-ttu-id="2d7df-367">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify, 영국](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="2d7df-367">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="2d7df-368">**단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-368">**Steps**</span></span> | <p><span data-ttu-id="2d7df-369">개발된 솔루션은 감사 로그에 쓸 수 없는 경우 예외를 생성하지 않도록 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-369">Developed solution is configured not to generate an exception when it fails to write to an audit log.</span></span> <span data-ttu-id="2d7df-370">감사 로그에 쓸 수 없는 경우 예외를 throw하지 않도록 WCF가 구성되면 프로그램에서는 실패에 대한 알림을 받지 못하고 중요한 보안 이벤트의 감사가 발생하지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-370">If WCF is configured not to throw an exception when it is unable to write to an audit log, the program will not be notified of the failure and auditing of critical security events may not occur.</span></span></p>|

### <a name="example"></a><span data-ttu-id="2d7df-371">예제</span><span class="sxs-lookup"><span data-stu-id="2d7df-371">Example</span></span>
<span data-ttu-id="2d7df-372">아래에 보이는 WCF 구성 파일의 `<behavior/>` 요소는 WCF가 감사 로그에 쓸 수 없는 경우 그 사실을 응용 프로그램에게 알리지 말라고 WCF에 지시합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-372">The `<behavior/>` element of the WCF configuration file below instructs WCF to not notify the application when WCF fails to write to an audit log.</span></span>
````
<behaviors>
    <serviceBehaviors>
        <behavior name="NewBehavior">
            <serviceSecurityAudit auditLogLocation="Application"
            suppressAuditFailure="true"
            serviceAuthorizationAuditLevel="Success"
            messageAuthenticationAuditLevel="Success" />
        </behavior>
    </serviceBehaviors>
</behaviors>
````
<span data-ttu-id="2d7df-373">감사 로그에 쓸 수 없을 때마다 프로그램에 알리도록 WCF를 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-373">Configure WCF to notify the program whenever it is unable to write to an audit log.</span></span> <span data-ttu-id="2d7df-374">감사 추적이 유지되지 않는다는 사실을 조직에 경고할 수 있도록 프로그램에 대체 알림 체계가 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-374">The program should have an alternative notification scheme in place to alert the organization that audit trails are not being maintained.</span></span> 

## <span data-ttu-id="2d7df-375"><a id="logging-web-api"></a>웹 API에 감사 및 로깅 적용</span><span class="sxs-lookup"><span data-stu-id="2d7df-375"><a id="logging-web-api"></a>Ensure that auditing and logging is enforced on Web API</span></span>

| <span data-ttu-id="2d7df-376">제목</span><span class="sxs-lookup"><span data-stu-id="2d7df-376">Title</span></span>                   | <span data-ttu-id="2d7df-377">세부 정보</span><span class="sxs-lookup"><span data-stu-id="2d7df-377">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2d7df-378">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="2d7df-378">**Component**</span></span>               | <span data-ttu-id="2d7df-379">Web API</span><span class="sxs-lookup"><span data-stu-id="2d7df-379">Web API</span></span> | 
| <span data-ttu-id="2d7df-380">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-380">**SDL Phase**</span></span>               | <span data-ttu-id="2d7df-381">빌드</span><span class="sxs-lookup"><span data-stu-id="2d7df-381">Build</span></span> |  
| <span data-ttu-id="2d7df-382">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="2d7df-382">**Applicable Technologies**</span></span> | <span data-ttu-id="2d7df-383">일반</span><span class="sxs-lookup"><span data-stu-id="2d7df-383">Generic</span></span> |
| <span data-ttu-id="2d7df-384">**특성**</span><span class="sxs-lookup"><span data-stu-id="2d7df-384">**Attributes**</span></span>              | <span data-ttu-id="2d7df-385">해당 없음</span><span class="sxs-lookup"><span data-stu-id="2d7df-385">N/A</span></span>  |
| <span data-ttu-id="2d7df-386">**참조**</span><span class="sxs-lookup"><span data-stu-id="2d7df-386">**References**</span></span>              | <span data-ttu-id="2d7df-387">해당 없음</span><span class="sxs-lookup"><span data-stu-id="2d7df-387">N/A</span></span>  |
| <span data-ttu-id="2d7df-388">**단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-388">**Steps**</span></span> | <span data-ttu-id="2d7df-389">웹 API에서 감사 및 로깅을 사용하도록 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-389">Enable auditing and logging on Web APIs.</span></span> <span data-ttu-id="2d7df-390">감사 로그는 사용자 컨텍스트를 캡처해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-390">Audit logs should capture user context.</span></span> <span data-ttu-id="2d7df-391">모든 중요한 이벤트를 식별하고 해당 이벤트를 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-391">Identify all important events and log those events.</span></span> <span data-ttu-id="2d7df-392">중앙 집중식 로깅 구현</span><span class="sxs-lookup"><span data-stu-id="2d7df-392">Implement centralized logging</span></span> |

## <span data-ttu-id="2d7df-393"><a id="logging-field-gateway"></a>필드 게이트웨이에 적절한 감사 및 로깅 적용</span><span class="sxs-lookup"><span data-stu-id="2d7df-393"><a id="logging-field-gateway"></a>Ensure that appropriate auditing and logging is enforced on Field Gateway</span></span>

| <span data-ttu-id="2d7df-394">제목</span><span class="sxs-lookup"><span data-stu-id="2d7df-394">Title</span></span>                   | <span data-ttu-id="2d7df-395">세부 정보</span><span class="sxs-lookup"><span data-stu-id="2d7df-395">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2d7df-396">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="2d7df-396">**Component**</span></span>               | <span data-ttu-id="2d7df-397">IoT 필드 게이트웨이</span><span class="sxs-lookup"><span data-stu-id="2d7df-397">IoT Field Gateway</span></span> | 
| <span data-ttu-id="2d7df-398">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-398">**SDL Phase**</span></span>               | <span data-ttu-id="2d7df-399">빌드</span><span class="sxs-lookup"><span data-stu-id="2d7df-399">Build</span></span> |  
| <span data-ttu-id="2d7df-400">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="2d7df-400">**Applicable Technologies**</span></span> | <span data-ttu-id="2d7df-401">일반</span><span class="sxs-lookup"><span data-stu-id="2d7df-401">Generic</span></span> |
| <span data-ttu-id="2d7df-402">**특성**</span><span class="sxs-lookup"><span data-stu-id="2d7df-402">**Attributes**</span></span>              | <span data-ttu-id="2d7df-403">해당 없음</span><span class="sxs-lookup"><span data-stu-id="2d7df-403">N/A</span></span>  |
| <span data-ttu-id="2d7df-404">**참조**</span><span class="sxs-lookup"><span data-stu-id="2d7df-404">**References**</span></span>              | <span data-ttu-id="2d7df-405">해당 없음</span><span class="sxs-lookup"><span data-stu-id="2d7df-405">N/A</span></span>  |
| <span data-ttu-id="2d7df-406">**단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-406">**Steps**</span></span> | <p><span data-ttu-id="2d7df-407">여러 장치가 필드 게이트웨이에 연결하는 경우 개별 장치에 대한 연결 시도 및 인증 상태(성공 또는 실패)를 기록하고 필드 게이트웨이에 유지해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-407">When multiple devices connect to a Field Gateway, ensure that connection attempts and authentication status (success or failure) for individual devices are logged and maintained on the Field Gateway.</span></span></p><p><span data-ttu-id="2d7df-408">또한 필드 게이트웨이에서 개별 장치의 IoT Hub 자격 증명을 유지하는 경우 이러한 자격 증명이 검색될 때 감사를 수행해야 합니다. 로그를 장기간 보존할 수 있도록 Azure IoT Hub/저장소에 주기적으로 로그를 업로드하는 프로세스를 개발합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-408">Also, in cases where Field Gateway is maintaining the IoT Hub credentials for individual devices, ensure that auditing is performed when these credentials are retrieved.Develop a process to periodically upload the logs to Azure IoT Hub/storage for long term retention.</span></span></p> |

## <span data-ttu-id="2d7df-409"><a id="logging-cloud-gateway"></a>클라우드 게이트웨이에 적절한 감사 및 로깅 적용</span><span class="sxs-lookup"><span data-stu-id="2d7df-409"><a id="logging-cloud-gateway"></a>Ensure that appropriate auditing and logging is enforced on Cloud Gateway</span></span>

| <span data-ttu-id="2d7df-410">제목</span><span class="sxs-lookup"><span data-stu-id="2d7df-410">Title</span></span>                   | <span data-ttu-id="2d7df-411">세부 정보</span><span class="sxs-lookup"><span data-stu-id="2d7df-411">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2d7df-412">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="2d7df-412">**Component**</span></span>               | <span data-ttu-id="2d7df-413">IoT 클라우드 게이트웨이</span><span class="sxs-lookup"><span data-stu-id="2d7df-413">IoT Cloud Gateway</span></span> | 
| <span data-ttu-id="2d7df-414">**SDL 단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-414">**SDL Phase**</span></span>               | <span data-ttu-id="2d7df-415">빌드</span><span class="sxs-lookup"><span data-stu-id="2d7df-415">Build</span></span> |  
| <span data-ttu-id="2d7df-416">**적용 가능한 기술**</span><span class="sxs-lookup"><span data-stu-id="2d7df-416">**Applicable Technologies**</span></span> | <span data-ttu-id="2d7df-417">일반</span><span class="sxs-lookup"><span data-stu-id="2d7df-417">Generic</span></span> |
| <span data-ttu-id="2d7df-418">**특성**</span><span class="sxs-lookup"><span data-stu-id="2d7df-418">**Attributes**</span></span>              | <span data-ttu-id="2d7df-419">해당 없음</span><span class="sxs-lookup"><span data-stu-id="2d7df-419">N/A</span></span>  |
| <span data-ttu-id="2d7df-420">**참조**</span><span class="sxs-lookup"><span data-stu-id="2d7df-420">**References**</span></span>              | [<span data-ttu-id="2d7df-421">IoT Hub 작업 모니터링 소개</span><span class="sxs-lookup"><span data-stu-id="2d7df-421">Introduction to IoT Hub operations monitoring</span></span>](https://azure.microsoft.com/documentation/articles/iot-hub-operations-monitoring/) |
| <span data-ttu-id="2d7df-422">**단계**</span><span class="sxs-lookup"><span data-stu-id="2d7df-422">**Steps**</span></span> | <p><span data-ttu-id="2d7df-423">IoT Hub 작업 모니터링을 통해 모은 감사 데이터를 수집하고 저장하도록 설계합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-423">Design for collecting and storing audit data gathered through IoT Hub Operations Monitoring.</span></span> <span data-ttu-id="2d7df-424">다음 모니터링 범주를 사용하도록 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="2d7df-424">Enable the following monitoring categories:</span></span></p><ul><li><span data-ttu-id="2d7df-425">장치 ID 작업</span><span class="sxs-lookup"><span data-stu-id="2d7df-425">Device identity operations</span></span></li><li><span data-ttu-id="2d7df-426">장치-클라우드 통신</span><span class="sxs-lookup"><span data-stu-id="2d7df-426">Device-to-cloud communications</span></span></li><li><span data-ttu-id="2d7df-427">클라우드-장치 통신</span><span class="sxs-lookup"><span data-stu-id="2d7df-427">Cloud-to-device communications</span></span></li><li><span data-ttu-id="2d7df-428">연결</span><span class="sxs-lookup"><span data-stu-id="2d7df-428">Connections</span></span></li><li><span data-ttu-id="2d7df-429">파일 업로드</span><span class="sxs-lookup"><span data-stu-id="2d7df-429">File uploads</span></span></li></ul>|