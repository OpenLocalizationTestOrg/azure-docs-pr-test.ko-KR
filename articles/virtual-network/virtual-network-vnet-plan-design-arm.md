---
title: "가상 네트워크 (VNet) aaaAzure 계획 및 디자인 가이드 | Microsoft Docs"
description: "Azure에서 가상 네트워크 tooplan 및 디자인 격리, 연결 및 위치 요구 사항에 따라 하는 방법에 대해 알아봅니다."
services: virtual-network
documentationcenter: na
author: jimdial
manager: carmonm
editor: tysonn
ms.assetid: 3a4a9aea-7608-4d2e-bb3c-40de2e537200
ms.service: virtual-network
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 02/08/2016
ms.author: jdial
ms.openlocfilehash: f3ffadf8cf254f64b1f86b44f90315d2bc679f63
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="plan-and-design-azure-virtual-networks"></a><span data-ttu-id="1d3cd-103">Azure 가상 네트워크 계획 및 디자인</span><span class="sxs-lookup"><span data-stu-id="1d3cd-103">Plan and design Azure Virtual Networks</span></span>
<span data-ttu-id="1d3cd-104">충분히 쉽게와 VNet tooexperiment를 만들 수 있지만 그럴 경우 조직의 시간 toosupport hello 프로덕션 요구를 통해 여러 Vnet을 배포 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-104">Creating a VNet tooexperiment with is easy enough, but chances are, you will deploy multiple VNets over time toosupport hello production needs of your organization.</span></span> <span data-ttu-id="1d3cd-105">몇 가지 계획 및 디자인을 있습니다 수 toodeploy Vnet 되며 hello 필요한 리소스를 보다 효율적으로 연결 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-105">With some planning and design, you will be able toodeploy VNets and connect hello resources you need more effectively.</span></span> <span data-ttu-id="1d3cd-106">Vnet 모르는 경우는 것이 좋습니다는 하면 [Vnet에 대 한 자세한 내용은](virtual-networks-overview.md) 및 [어떻게 toodeploy](virtual-networks-create-vnet-arm-pportal.md) 진행 하기 전에.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-106">If you are not familiar with VNets, it's recommended that you [learn about VNets](virtual-networks-overview.md) and [how toodeploy](virtual-networks-create-vnet-arm-pportal.md) one before proceeding.</span></span>

## <a name="plan"></a><span data-ttu-id="1d3cd-107">계획</span><span class="sxs-lookup"><span data-stu-id="1d3cd-107">Plan</span></span>
<span data-ttu-id="1d3cd-108">성공을 위해서는 Azure 구독, 하위 지역 및 네트워크 리소스를 충분히 이해하는 것이 중요합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-108">A thorough understanding of Azure subscriptions, regions, and network resources is critical for success.</span></span> <span data-ttu-id="1d3cd-109">Hello 아래 고려 사항 목록을 시작 지점으로 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-109">You can use hello list of considerations below as a starting point.</span></span> <span data-ttu-id="1d3cd-110">이러한 고려 사항을 이해 하 고 나면 네트워크 디자인에 대 한 hello 요구 사항을 정의할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-110">Once you understand those considerations, you can define hello requirements for your network design.</span></span>

### <a name="considerations"></a><span data-ttu-id="1d3cd-111">고려 사항</span><span class="sxs-lookup"><span data-stu-id="1d3cd-111">Considerations</span></span>
<span data-ttu-id="1d3cd-112">계획 관련 질문 아래 hello를 응답 하기 전에 hello 다음을 고려 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-112">Before answering hello planning questions below, consider hello following:</span></span>

* <span data-ttu-id="1d3cd-113">Azure에서 만드는 모든 항목은 하나 이상의 리소스로 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-113">Everything you create in Azure is composed of one or more resources.</span></span> <span data-ttu-id="1d3cd-114">가상 컴퓨터 (VM)는 리소스 hello 네트워크 어댑터 (NIC) 사용 하는 인터페이스는 VM은 리소스 hello NIC에서 사용 되는 공용 IP 주소는 리소스, hello VNet hello NIC가 연결 된 toois 리소스입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-114">A virtual machine (VM) is a resource, hello network adapter interface (NIC) used by a VM is a resource, hello public IP address used by a NIC is a resource, hello VNet hello NIC is connected toois a resource.</span></span>
* <span data-ttu-id="1d3cd-115">[Azure 지역](https://azure.microsoft.com/regions/#services) 및 구독 내에서 리소스를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-115">You create resources within an [Azure region](https://azure.microsoft.com/regions/#services) and subscription.</span></span> <span data-ttu-id="1d3cd-116">리소스에 연결 된 tooa 가상 네트워크 hello에 있는 동일한 지역 및 구독 hello 리소스에는 수만 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-116">Resources can only be connected tooa virtual network that exists in hello same region and subscription hello resource is in.</span></span>
* <span data-ttu-id="1d3cd-117">사용 하 여 다른 가상 네트워크 tooeach를 연결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-117">You can connect virtual networks tooeach other by using:</span></span>
    * <span data-ttu-id="1d3cd-118">**[가상 네트워크 피어 링](virtual-network-peering-overview.md)**: hello 가상 네트워크에에서 존재 해야 hello 동일한 Azure 지역입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-118">**[Virtual network peering](virtual-network-peering-overview.md)**: hello virtual networks must exist in hello same Azure region.</span></span> <span data-ttu-id="1d3cd-119">가상 네트워크 겹치기의 리소스 간에 대역폭 하면 hello 리소스에 연결 된 toohello 것 처럼 동일 hello은 동일한 가상 네트워크입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-119">Bandwidth between resources in peered virtual networks is hello same as if hello resources were connected toohello same virtual network.</span></span>
    * <span data-ttu-id="1d3cd-120">**Azure [VPN 게이트웨이](../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md)**: hello 가상 네트워크에에서 존재할 수 hello 동일 하거나 서로 다른 Azure 지역입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-120">**An Azure [VPN Gateway](../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md)**: hello virtual networks can exist in hello same, or different Azure regions.</span></span> <span data-ttu-id="1d3cd-121">VPN 게이트웨이 통해 연결 된 가상 네트워크의 리소스 간에 대역폭의 hello VPN 게이트웨이 hello 대역폭으로 제한 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-121">Bandwidth between resources in virtual networks connected through a VPN Gateway is limited by hello bandwidth of hello VPN Gateway.</span></span>
* <span data-ttu-id="1d3cd-122">Hello 중 하나를 사용 하 여 Vnet tooyour 온-프레미스 네트워크를 연결할 수 있습니다 [연결 옵션](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti) Azure에서 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-122">You can connect VNets tooyour on-premises network by using one of hello [connectivity options](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti) available in Azure.</span></span>
* <span data-ttu-id="1d3cd-123">다양 한 리소스를 함께 그룹화 [리소스 그룹](../azure-resource-manager/resource-group-overview.md#resource-groups), 하나의 단위로 쉽게 toomanage hello 리소스 만들기.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-123">Different resources can be grouped together in [resource groups](../azure-resource-manager/resource-group-overview.md#resource-groups), making it easier toomanage hello resource as a unit.</span></span> <span data-ttu-id="1d3cd-124">리소스 그룹으로 hello 리소스가 속해야 toohello 여러 지역에서 리소스를 포함할 수 있습니다 동일한 구독 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-124">A resource group can contain resources from multiple regions, as long as hello resources belong toohello same subscription.</span></span>

### <a name="define-requirements"></a><span data-ttu-id="1d3cd-125">요구 사항 정의</span><span class="sxs-lookup"><span data-stu-id="1d3cd-125">Define requirements</span></span>
<span data-ttu-id="1d3cd-126">Azure 네트워크 디자인에 대 한 시작 점으로 아래 hello 질문을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-126">Use hello questions below as a starting point for your Azure network design.</span></span>    

1. <span data-ttu-id="1d3cd-127">어떤 Azure 위치 하나요 toohost Vnet을 사용 하 여?</span><span class="sxs-lookup"><span data-stu-id="1d3cd-127">What Azure locations will you use toohost VNets?</span></span>
2. <span data-ttu-id="1d3cd-128">이러한 Azure 위치 간의 tooprovide 통신 필요 한가요?</span><span class="sxs-lookup"><span data-stu-id="1d3cd-128">Do you need tooprovide communication between these Azure locations?</span></span>
3. <span data-ttu-id="1d3cd-129">Azure VNet(s)와 온-프레미스 센터 간의 tooprovide 통신 필요 한가요?</span><span class="sxs-lookup"><span data-stu-id="1d3cd-129">Do you need tooprovide communication between your Azure VNet(s) and your on-premises datacenter(s)?</span></span>
4. <span data-ttu-id="1d3cd-130">솔루션에 얼마나 많은 IaaS(Infrastructure as a Service) VM, 클라우드 서비스 역할 및 웹앱이 필요합니까?</span><span class="sxs-lookup"><span data-stu-id="1d3cd-130">How many Infrastructure as a Service (IaaS) VMs, cloud services roles, and web apps do you need for your solution?</span></span>
5. <span data-ttu-id="1d3cd-131">Vm (즉, 프런트 엔드 웹 서버와 백 엔드 데이터베이스 서버)의 그룹에 따라 tooisolate 트래픽의 필요 한가요?</span><span class="sxs-lookup"><span data-stu-id="1d3cd-131">Do you need tooisolate traffic based on groups of VMs (i.e. front end web servers and back end database servers)?</span></span>
6. <span data-ttu-id="1d3cd-132">가상 어플라이언스를 사용 하 여 toocontrol 트래픽 흐름 필요 한가요?</span><span class="sxs-lookup"><span data-stu-id="1d3cd-132">Do you need toocontrol traffic flow using virtual appliances?</span></span>
7. <span data-ttu-id="1d3cd-133">사용자가 필요한 상이한 권한 toodifferent Azure 리소스 합니까?</span><span class="sxs-lookup"><span data-stu-id="1d3cd-133">Do users need different sets of permissions toodifferent Azure resources?</span></span>

### <a name="understand-vnet-and-subnet-properties"></a><span data-ttu-id="1d3cd-134">VNet 및 서브넷 속성 이해</span><span class="sxs-lookup"><span data-stu-id="1d3cd-134">Understand VNet and subnet properties</span></span>
<span data-ttu-id="1d3cd-135">VNet과 서브넷 리소스를 사용하여 Azure에서 실행 중인 워크로드에 대한 보안 경계를 정의할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-135">VNet and subnets resources help define a security boundary for workloads running in Azure.</span></span> <span data-ttu-id="1d3cd-136">VNet은 주소 공간의 모임(CIDR 블록으로 정의됨)으로 특징지을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-136">A VNet is characterized by a collection of address spaces, defined as CIDR blocks.</span></span>

> [!NOTE]
> <span data-ttu-id="1d3cd-137">네트워크 관리자는 CIDR 표기법에 익숙합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-137">Network administrators are familiar with CIDR notation.</span></span> <span data-ttu-id="1d3cd-138">CIDR을 잘 모르는 경우 [자세히 알아보세요](http://whatismyipaddress.com/cidr).</span><span class="sxs-lookup"><span data-stu-id="1d3cd-138">If you are not familiar with CIDR, [learn more about it](http://whatismyipaddress.com/cidr).</span></span>
>
>

<span data-ttu-id="1d3cd-139">Vnet hello 다음과 같은 속성을 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-139">VNets contain hello following properties.</span></span>

| <span data-ttu-id="1d3cd-140">속성</span><span class="sxs-lookup"><span data-stu-id="1d3cd-140">Property</span></span> | <span data-ttu-id="1d3cd-141">설명</span><span class="sxs-lookup"><span data-stu-id="1d3cd-141">Description</span></span> | <span data-ttu-id="1d3cd-142">제약 조건</span><span class="sxs-lookup"><span data-stu-id="1d3cd-142">Constraints</span></span> |
| --- | --- | --- |
| <span data-ttu-id="1d3cd-143">**name**</span><span class="sxs-lookup"><span data-stu-id="1d3cd-143">**name**</span></span> |<span data-ttu-id="1d3cd-144">VNet 이름</span><span class="sxs-lookup"><span data-stu-id="1d3cd-144">VNet name</span></span> |<span data-ttu-id="1d3cd-145">Too80 문자를 문자열입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-145">String of up too80 characters.</span></span> <span data-ttu-id="1d3cd-146">문자, 숫자, 밑줄, 마침표 또는 하이픈을 포함할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-146">May contain letters, numbers, underscore, periods, or hyphens.</span></span> <span data-ttu-id="1d3cd-147">문자 또는 숫자로 시작해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-147">Must start with a letter or number.</span></span> <span data-ttu-id="1d3cd-148">문자, 숫자 또는 밑줄로 끝나야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-148">Must end with a letter, number, or underscore.</span></span> <span data-ttu-id="1d3cd-149">대문자 또는 소문자를 포함할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-149">Can contains upper or lower case letters.</span></span> |
| <span data-ttu-id="1d3cd-150">**위치**</span><span class="sxs-lookup"><span data-stu-id="1d3cd-150">**location**</span></span> |<span data-ttu-id="1d3cd-151">(또한 참조 tooas 지역)는 azure 위치입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-151">Azure location (also referred tooas region).</span></span> |<span data-ttu-id="1d3cd-152">중 하나 여야 합니다 hello 유효한 Azure 위치입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-152">Must be one of hello valid Azure locations.</span></span> |
| <span data-ttu-id="1d3cd-153">**addressSpace**</span><span class="sxs-lookup"><span data-stu-id="1d3cd-153">**addressSpace**</span></span> |<span data-ttu-id="1d3cd-154">CIDR 표기법에 hello VNet 구성 하는 주소 접두사의 컬렉션입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-154">Collection of address prefixes that make up hello VNet in CIDR notation.</span></span> |<span data-ttu-id="1d3cd-155">공용 IP 주소 범위를 포함하여 올바른 CIDR 주소 블록의 배열이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-155">Must be an array of valid CIDR address blocks, including public IP address ranges.</span></span> |
| <span data-ttu-id="1d3cd-156">**서브넷**</span><span class="sxs-lookup"><span data-stu-id="1d3cd-156">**subnets**</span></span> |<span data-ttu-id="1d3cd-157">서브넷 hello VNet 구성 하는 컬렉션입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-157">Collection of subnets that make up hello VNet</span></span> |<span data-ttu-id="1d3cd-158">아래 hello 서브넷 속성 표를 참조 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-158">see hello subnet properties table below.</span></span> |
| <span data-ttu-id="1d3cd-159">**dhcpOptions**</span><span class="sxs-lookup"><span data-stu-id="1d3cd-159">**dhcpOptions**</span></span> |<span data-ttu-id="1d3cd-160">**dnsServers**로 명명된 단일 필수 속성을 포함하는 개체입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-160">Object that contains a single required property named **dnsServers**.</span></span> | |
| <span data-ttu-id="1d3cd-161">**dnsServers**</span><span class="sxs-lookup"><span data-stu-id="1d3cd-161">**dnsServers**</span></span> |<span data-ttu-id="1d3cd-162">DNS 서버 hello VNet에서 사용 하는 배열입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-162">Array of DNS servers used by hello VNet.</span></span> <span data-ttu-id="1d3cd-163">서버를 지정하지 않은 경우 Azure 내부 이름 확인이 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-163">If no server is specified, Azure internal name resolution is used.</span></span> |<span data-ttu-id="1d3cd-164">IP 주소로 too10 DNS 서버를 배열 이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-164">Must be an array of up too10 DNS servers, by IP address.</span></span> |

<span data-ttu-id="1d3cd-165">서브넷은 VNet의 자식 리소스이며, IP 주소 접두사를 사용하여 CIDR 블록 내의 주소 공간 세그먼트를 정의하는 데 도움이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-165">A subnet is a child resource of a VNet, and helps define segments of address spaces within a CIDR block, using IP address prefixes.</span></span> <span data-ttu-id="1d3cd-166">Nic는 toosubnets, 및 다양 한 작업에 대 한 연결을 제공 하는 연결 된 tooVMs를 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-166">NICs can be added toosubnets, and connected tooVMs, providing connectivity for various workloads.</span></span>

<span data-ttu-id="1d3cd-167">서브넷 hello 다음과 같은 속성을 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-167">Subnets contain hello following properties.</span></span>

| <span data-ttu-id="1d3cd-168">속성</span><span class="sxs-lookup"><span data-stu-id="1d3cd-168">Property</span></span> | <span data-ttu-id="1d3cd-169">설명</span><span class="sxs-lookup"><span data-stu-id="1d3cd-169">Description</span></span> | <span data-ttu-id="1d3cd-170">제약 조건</span><span class="sxs-lookup"><span data-stu-id="1d3cd-170">Constraints</span></span> |
| --- | --- | --- |
| <span data-ttu-id="1d3cd-171">**name**</span><span class="sxs-lookup"><span data-stu-id="1d3cd-171">**name**</span></span> |<span data-ttu-id="1d3cd-172">서브넷 이름</span><span class="sxs-lookup"><span data-stu-id="1d3cd-172">Subnet name</span></span> |<span data-ttu-id="1d3cd-173">Too80 문자를 문자열입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-173">String of up too80 characters.</span></span> <span data-ttu-id="1d3cd-174">문자, 숫자, 밑줄, 마침표 또는 하이픈을 포함할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-174">May contain letters, numbers, underscore, periods, or hyphens.</span></span> <span data-ttu-id="1d3cd-175">문자 또는 숫자로 시작해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-175">Must start with a letter or number.</span></span> <span data-ttu-id="1d3cd-176">문자, 숫자 또는 밑줄로 끝나야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-176">Must end with a letter, number, or underscore.</span></span> <span data-ttu-id="1d3cd-177">대문자 또는 소문자를 포함할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-177">Can contains upper or lower case letters.</span></span> |
| <span data-ttu-id="1d3cd-178">**위치**</span><span class="sxs-lookup"><span data-stu-id="1d3cd-178">**location**</span></span> |<span data-ttu-id="1d3cd-179">(또한 참조 tooas 지역)는 azure 위치입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-179">Azure location (also referred tooas region).</span></span> |<span data-ttu-id="1d3cd-180">중 하나 여야 합니다 hello 유효한 Azure 위치입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-180">Must be one of hello valid Azure locations.</span></span> |
| <span data-ttu-id="1d3cd-181">**addressPrefix**</span><span class="sxs-lookup"><span data-stu-id="1d3cd-181">**addressPrefix**</span></span> |<span data-ttu-id="1d3cd-182">CIDR 표기법에서 hello 서브넷 구성 하는 단일 주소 접두사</span><span class="sxs-lookup"><span data-stu-id="1d3cd-182">Single address prefix that make up hello subnet in CIDR notation</span></span> |<span data-ttu-id="1d3cd-183">Hello VNet 주소 공간 중 하나에 포함 된 단일 CIDR 블록 이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-183">Must be a single CIDR block that is part of one of hello VNet's address spaces.</span></span> |
| <span data-ttu-id="1d3cd-184">**networkSecurityGroup**</span><span class="sxs-lookup"><span data-stu-id="1d3cd-184">**networkSecurityGroup**</span></span> |<span data-ttu-id="1d3cd-185">NSG 적용 toohello 서브넷</span><span class="sxs-lookup"><span data-stu-id="1d3cd-185">NSG applied toohello subnet</span></span> | |
| <span data-ttu-id="1d3cd-186">**routeTable**</span><span class="sxs-lookup"><span data-stu-id="1d3cd-186">**routeTable**</span></span> |<span data-ttu-id="1d3cd-187">경로 테이블 toohello 서브넷 적용</span><span class="sxs-lookup"><span data-stu-id="1d3cd-187">Route table applied toohello subnet</span></span> | |
| <span data-ttu-id="1d3cd-188">**ipConfigurations**</span><span class="sxs-lookup"><span data-stu-id="1d3cd-188">**ipConfigurations**</span></span> |<span data-ttu-id="1d3cd-189">Nic 연결 된 toohello 서브넷에서 사용 하는 IP 구성 개체의 컬렉션</span><span class="sxs-lookup"><span data-stu-id="1d3cd-189">Collection of IP configuration objects used by NICs connected toohello subnet</span></span> | |

### <a name="name-resolution"></a><span data-ttu-id="1d3cd-190">이름 확인</span><span class="sxs-lookup"><span data-stu-id="1d3cd-190">Name resolution</span></span>
<span data-ttu-id="1d3cd-191">기본적으로 VNet 사용 [Azure 제공 이름 확인](virtual-networks-name-resolution-for-vms-and-role-instances.md) tooresolve 이름을 hello VNet 내의 공용 인터넷 hello 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-191">By default, your VNet uses [Azure-provided name resolution](virtual-networks-name-resolution-for-vms-and-role-instances.md) tooresolve names inside hello VNet, and on hello public Internet.</span></span> <span data-ttu-id="1d3cd-192">그러나 Vnet tooyour 온-프레미스 데이터 센터를 연결 하는 경우 필요한 tooprovide [자체 DNS 서버](virtual-networks-name-resolution-for-vms-and-role-instances.md) 네트워크 간 tooresolve 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-192">However, if you connect your VNets tooyour on-premises data centers, you need tooprovide [your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md) tooresolve names between your networks.</span></span>  

### <a name="limits"></a><span data-ttu-id="1d3cd-193">제한</span><span class="sxs-lookup"><span data-stu-id="1d3cd-193">Limits</span></span>
<span data-ttu-id="1d3cd-194">Hello에 hello 네트워킹 제한 검토 [Azure 제한](../azure-subscription-service-limits.md#networking-limits) 문서 tooensure 디자인 hello 한계를 사용 하 여 충돌 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-194">Review hello networking limits in hello [Azure limits](../azure-subscription-service-limits.md#networking-limits) article tooensure that your design doesn't conflict with any of hello limits.</span></span> <span data-ttu-id="1d3cd-195">일부 제한은 지원 티켓을 열어 늘릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-195">Some limits can be increased by opening a support ticket.</span></span>

### <a name="role-based-access-control-rbac"></a><span data-ttu-id="1d3cd-196">역할 기반 액세스 제어(RBAC)</span><span class="sxs-lookup"><span data-stu-id="1d3cd-196">Role-Based Access Control (RBAC)</span></span>
<span data-ttu-id="1d3cd-197">사용할 수 있습니다 [Azure RBAC](../active-directory/role-based-access-built-in-roles.md) toocontrol hello 수준의 액세스를 다른 사용자가 Azure에서 toodifferent 리소스 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-197">You can use [Azure RBAC](../active-directory/role-based-access-built-in-roles.md) toocontrol hello level of access different users may have toodifferent resources in Azure.</span></span> <span data-ttu-id="1d3cd-198">이런 방식으로 요구에 따라 팀에서 수행 하는 hello 작업을 구분할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-198">That way you can segregate hello work done by your team based on their needs.</span></span>

<span data-ttu-id="1d3cd-199">Hello에 대 한 사용자가 가상 네트워크는 먼 우려 **네트워크 참가자** 역할 Azure 리소스 관리자 가상 네트워크 리소스에 대해 모든 권한을 갖고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-199">As far as virtual networks are concerned, users in hello **Network Contributor** role have full control over Azure Resource Manager virtual network resources.</span></span> <span data-ttu-id="1d3cd-200">마찬가지로, 사용자 hello에 **클래식 네트워크 참가자** 역할 클래식 가상 네트워크 리소스에 대해 모든 권한을 갖고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-200">Similarly, users in hello **Classic Network Contributor** role have full control over classic virtual network resources.</span></span>

> [!NOTE]
> <span data-ttu-id="1d3cd-201">수도 있습니다 [자신의 역할을 만들](../active-directory/role-based-access-control-configure.md) tooseparate 관리 요구 사항입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-201">You can also [create your own roles](../active-directory/role-based-access-control-configure.md) tooseparate your administrative needs.</span></span>
>
>

## <a name="design"></a><span data-ttu-id="1d3cd-202">디자인</span><span class="sxs-lookup"><span data-stu-id="1d3cd-202">Design</span></span>
<span data-ttu-id="1d3cd-203">Hello에 toohello 질문 hello 답변을 알고 있다면 [계획](#Plan) 섹션에서 Vnet을 정의 하기 전에 hello 다음을 검토 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-203">Once you know hello answers toohello questions in hello [Plan](#Plan) section, review hello following before defining your VNets.</span></span>

### <a name="number-of-subscriptions-and-vnets"></a><span data-ttu-id="1d3cd-204">구독 및 VNet의 수</span><span class="sxs-lookup"><span data-stu-id="1d3cd-204">Number of subscriptions and VNets</span></span>
<span data-ttu-id="1d3cd-205">Hello 다음 시나리오에서에서 여러 Vnet을 작성 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-205">You should consider creating multiple VNets in hello following scenarios:</span></span>

* <span data-ttu-id="1d3cd-206">**Toobe 서로 다른 Azure 위치에 배치 해야 하는 Vm**합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-206">**VMs that need toobe placed in different Azure locations**.</span></span> <span data-ttu-id="1d3cd-207">Azure에서 VNet은 지역적입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-207">VNets in Azure are regional.</span></span> <span data-ttu-id="1d3cd-208">여러 위치에 걸쳐 있지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-208">They cannot span locations.</span></span> <span data-ttu-id="1d3cd-209">따라서 toohost Vm에서 원하는 각 Azure 위치에 대해 하나 이상의 VNet이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-209">Therefore you need at least one VNet for each Azure location you want toohost VMs in.</span></span>
* <span data-ttu-id="1d3cd-210">**Toobe 서로 완전히 분리 해야 하는 워크 로드**합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-210">**Workloads that need toobe completely isolated from one another**.</span></span> <span data-ttu-id="1d3cd-211">동일한 IP 주소 공간이 서로 tooisolate 다양 한 작업이 해당도 사용 하 여 hello 별도 Vnet을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-211">You can create separate VNets, that even use hello same IP address spaces, tooisolate different workloads from one another.</span></span>

<span data-ttu-id="1d3cd-212">Hello 위의 참조 제한은 구독 당 지역당 염두에 둬야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-212">Keep in mind that hello limits you see above are per region, per subscription.</span></span> <span data-ttu-id="1d3cd-213">즉, 여러 구독 tooincrease hello 제한인 리소스 Azure에서 유지 관리할 수 있습니다 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-213">That means you can use multiple subscriptions tooincrease hello limit of resources you can maintain in Azure.</span></span> <span data-ttu-id="1d3cd-214">사이트 간 VPN 또는 다른 구독의 Vnet tooconnect ExpressRoute 회로 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-214">You can use a site-to-site VPN, or an ExpressRoute circuit, tooconnect VNets in different subscriptions.</span></span>

### <a name="subscription-and-vnet-design-patterns"></a><span data-ttu-id="1d3cd-215">구독 및 VNet 디자인 패턴</span><span class="sxs-lookup"><span data-stu-id="1d3cd-215">Subscription and VNet design patterns</span></span>
<span data-ttu-id="1d3cd-216">hello 표에서 구독 및 Vnet을 사용 하기 위한 몇 가지 일반적인 디자인 패턴을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-216">hello table below shows some common design patterns for using subscriptions and VNets.</span></span>

| <span data-ttu-id="1d3cd-217">시나리오</span><span class="sxs-lookup"><span data-stu-id="1d3cd-217">Scenario</span></span> | <span data-ttu-id="1d3cd-218">다이어그램</span><span class="sxs-lookup"><span data-stu-id="1d3cd-218">Diagram</span></span> | <span data-ttu-id="1d3cd-219">장점</span><span class="sxs-lookup"><span data-stu-id="1d3cd-219">Pros</span></span> | <span data-ttu-id="1d3cd-220">단점</span><span class="sxs-lookup"><span data-stu-id="1d3cd-220">Cons</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="1d3cd-221">단일 구독, 앱당 두 VNet</span><span class="sxs-lookup"><span data-stu-id="1d3cd-221">Single subscription, two VNets per app</span></span> |![단일 구독](./media/virtual-network-vnet-plan-design-arm/figure1.png) |<span data-ttu-id="1d3cd-223">하나의 구독 에서만 toomanage 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-223">Only one subscription toomanage.</span></span> |<span data-ttu-id="1d3cd-224">Azure 지역당 최대 Vnet 수입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-224">Maximum number of VNets per Azure region.</span></span> <span data-ttu-id="1d3cd-225">이후에 구독이 더 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-225">You need more subscriptions after that.</span></span> <span data-ttu-id="1d3cd-226">검토 hello [Azure 제한](../azure-subscription-service-limits.md#networking-limits) 을 참조 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-226">Review hello [Azure limits](../azure-subscription-service-limits.md#networking-limits) article for details.</span></span> |
| <span data-ttu-id="1d3cd-227">앱당 1개 구독, 앱당 두 VNet</span><span class="sxs-lookup"><span data-stu-id="1d3cd-227">One subscription per app, two VNets per app</span></span> |![단일 구독](./media/virtual-network-vnet-plan-design-arm/figure2.png) |<span data-ttu-id="1d3cd-229">구독당 두 개의 VNet만 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-229">Uses only two VNets per subscription.</span></span> |<span data-ttu-id="1d3cd-230">앱이 너무 많은 경우 쉽다는 점 toomanage 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-230">Harder toomanage when there are too many apps.</span></span> |
| <span data-ttu-id="1d3cd-231">사업부당 1개 구독, 앱당 두 VNet</span><span class="sxs-lookup"><span data-stu-id="1d3cd-231">One subscription per business unit, two VNets per app.</span></span> |![단일 구독](./media/virtual-network-vnet-plan-design-arm/figure3.png) |<span data-ttu-id="1d3cd-233">구독 및 VNet 수 간에 균형을 유지합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-233">Balance between number of subscriptions and VNets.</span></span> |<span data-ttu-id="1d3cd-234">사업부(구독)당 최대 VNet 수입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-234">Maximum number of VNets per business unit (subscription).</span></span> <span data-ttu-id="1d3cd-235">검토 hello [Azure 제한](../azure-subscription-service-limits.md#networking-limits) 을 참조 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-235">Review hello [Azure limits](../azure-subscription-service-limits.md#networking-limits) article for details.</span></span> |
| <span data-ttu-id="1d3cd-236">사업부당 1개 구독, 앱 그룹당 두 VNet</span><span class="sxs-lookup"><span data-stu-id="1d3cd-236">One subscription per business unit, two VNets per group of apps.</span></span> |![단일 구독](./media/virtual-network-vnet-plan-design-arm/figure4.png) |<span data-ttu-id="1d3cd-238">구독 및 VNet 수 간에 균형을 유지합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-238">Balance between number of subscriptions and VNets.</span></span> |<span data-ttu-id="1d3cd-239">서브넷과 NSG를 사용하여 앱을 격리해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-239">Apps must be isolated by using subnets and NSGs.</span></span> |

### <a name="number-of-subnets"></a><span data-ttu-id="1d3cd-240">서브넷 수</span><span class="sxs-lookup"><span data-stu-id="1d3cd-240">Number of subnets</span></span>
<span data-ttu-id="1d3cd-241">다음 시나리오는 hello에 VNet에 여러 서브넷을 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-241">You should consider multiple subnets in a VNet in hello following scenarios:</span></span>

* <span data-ttu-id="1d3cd-242">**서브넷에 있는 모든 NIC에 대해 개인 IP 주소가 부족**.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-242">**Not enough private IP addresses for all NICs in a subnet**.</span></span> <span data-ttu-id="1d3cd-243">서브넷 주소 공간에 IP 주소 개수가 충분 없으면 hello 서브넷의 Nic hello 수에 대 한 여러 서브넷 toocreate 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-243">If your subnet address space does not contain enough IP addresses for hello number of NICs in hello subnet, you need toocreate multiple subnets.</span></span> <span data-ttu-id="1d3cd-244">Azure에서 사용할 수 없는 각 서브넷의에서 개인 IP 주소를 5 예약을 염두에서에 둬야: 먼저 hello 및 연결 (멀티 캐스트 hello 서브넷 주소에 대해) hello 주소 공간 및 사용 되는 내부적으로 (목적) DHCP 및 DNS 주소를 3 toobe의 주소를 지속 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-244">Keep in mind that Azure reserves 5 private IP addresses from each subnet that cannot be used: hello first and last addresses of hello address space (for hello subnet address, and multicast) and 3 addresses toobe used internally (for DHCP and DNS purposes).</span></span>
* <span data-ttu-id="1d3cd-245">**보안**.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-245">**Security**.</span></span> <span data-ttu-id="1d3cd-246">다중 계층 구조, 다른 적용 하 고 있는 작업을 위해 다른 Vm의 서브넷 tooseparate 그룹을 사용할 수 있습니다 [네트워크 보안 그룹 (Nsg)](virtual-networks-nsg.md#subnets) 이러한 서브넷에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-246">You can use subnets tooseparate groups of VMs from one another for workloads that have a multi-layer structure, and apply different [network security groups (NSGs)](virtual-networks-nsg.md#subnets) for those subnets.</span></span>
* <span data-ttu-id="1d3cd-247">**하이브리드 연결**.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-247">**Hybrid connectivity**.</span></span> <span data-ttu-id="1d3cd-248">VPN 게이트웨이 및 express 경로 회로도 사용할 수[연결](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti) Vnet tooone 다른, 및 tooyour 온-프레미스 데이터 센터입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-248">You can use VPN gateways and ExpressRoute circuits too[connect](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti) your VNets tooone another, and tooyour on-premises data center(s).</span></span> <span data-ttu-id="1d3cd-249">VPN 게이트웨이 및 express 경로 회로 만든 자신의 toobe의 서브넷이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-249">VPN gateways and ExpressRoute circuits require a subnet of their own toobe created.</span></span>
* <span data-ttu-id="1d3cd-250">**가상 어플라이언스**.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-250">**Virtual appliances**.</span></span> <span data-ttu-id="1d3cd-251">Azure VNet에서 방화벽, WAN 가속기 또는 VPN 게이트웨이 같은 가상 어플라이언스를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-251">You can use a virtual appliance, such as a firewall, WAN accelerator, or VPN gateway in an Azure VNet.</span></span> <span data-ttu-id="1d3cd-252">이렇게 하면 해야 너무[트래픽을 라우팅할](virtual-networks-udr-overview.md) toothose 어플라이언스 자체의 서브넷에서 격리 하 고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-252">When you do so, you need too[route traffic](virtual-networks-udr-overview.md) toothose appliances and isolate them in their own subnet.</span></span>

### <a name="subnet-and-nsg-design-patterns"></a><span data-ttu-id="1d3cd-253">서브넷 및 NSG 디자인 패턴</span><span class="sxs-lookup"><span data-stu-id="1d3cd-253">Subnet and NSG design patterns</span></span>
<span data-ttu-id="1d3cd-254">hello 표에서 서브넷을 사용 하기 위한 몇 가지 일반적인 디자인 패턴을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-254">hello table below shows some common design patterns for using subnets.</span></span>

| <span data-ttu-id="1d3cd-255">시나리오</span><span class="sxs-lookup"><span data-stu-id="1d3cd-255">Scenario</span></span> | <span data-ttu-id="1d3cd-256">다이어그램</span><span class="sxs-lookup"><span data-stu-id="1d3cd-256">Diagram</span></span> | <span data-ttu-id="1d3cd-257">장점</span><span class="sxs-lookup"><span data-stu-id="1d3cd-257">Pros</span></span> | <span data-ttu-id="1d3cd-258">단점</span><span class="sxs-lookup"><span data-stu-id="1d3cd-258">Cons</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="1d3cd-259">단일 서브넷, 앱당 응용 프로그램 계층당 여러 NSG</span><span class="sxs-lookup"><span data-stu-id="1d3cd-259">Single subnet, NSGs per application layer, per app</span></span> |![단일 서브넷](./media/virtual-network-vnet-plan-design-arm/figure5.png) |<span data-ttu-id="1d3cd-261">하나의 서브넷 toomanage 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-261">Only one subnet toomanage.</span></span> |<span data-ttu-id="1d3cd-262">여러 Nsg 필요한 tooisolate 각 응용 프로그램입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-262">Multiple NSGs necessary tooisolate each application.</span></span> |
| <span data-ttu-id="1d3cd-263">앱당 1개 서브넷, 응용 프로그램 계층당 여러 NSG</span><span class="sxs-lookup"><span data-stu-id="1d3cd-263">One subnet per app, NSGs per application layer</span></span> |![앱당 서브넷](./media/virtual-network-vnet-plan-design-arm/figure6.png) |<span data-ttu-id="1d3cd-265">Nsg toomanage 적습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-265">Fewer NSGs toomanage.</span></span> |<span data-ttu-id="1d3cd-266">여러 서브넷 toomanage 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-266">Multiple subnets toomanage.</span></span> |
| <span data-ttu-id="1d3cd-267">응용 프로그램 계층당 1개 서브넷, 앱당 여러 NSG</span><span class="sxs-lookup"><span data-stu-id="1d3cd-267">One subnet per application layer, NSGs per app.</span></span> |![계층당 서브넷](./media/virtual-network-vnet-plan-design-arm/figure7.png) |<span data-ttu-id="1d3cd-269">서브넷 및 NSG 수 간에 균형을 유지합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-269">Balance between number of subnets and NSGs.</span></span> |<span data-ttu-id="1d3cd-270">구독당 최대 NSG 수입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-270">Maximum number of NSGs per subscription.</span></span> <span data-ttu-id="1d3cd-271">검토 hello [Azure 제한](../azure-subscription-service-limits.md#networking-limits) 을 참조 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-271">Review hello [Azure limits](../azure-subscription-service-limits.md#networking-limits) article for details.</span></span> |
| <span data-ttu-id="1d3cd-272">앱당, 응용 프로그램 계층당 1개 서브넷, 서브넷당 여러 NSG</span><span class="sxs-lookup"><span data-stu-id="1d3cd-272">One subnet per application layer, per app, NSGs per subnet</span></span> |![앱당 계층당 서브넷](./media/virtual-network-vnet-plan-design-arm/figure8.png) |<span data-ttu-id="1d3cd-274">가능하면 NSG 수가 더 적습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-274">Possibly smaller number of NSGs.</span></span> |<span data-ttu-id="1d3cd-275">여러 서브넷 toomanage 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-275">Multiple subnets toomanage.</span></span> |

## <a name="sample-design"></a><span data-ttu-id="1d3cd-276">샘플 디자인</span><span class="sxs-lookup"><span data-stu-id="1d3cd-276">Sample design</span></span>
<span data-ttu-id="1d3cd-277">이 문서에서는 hello 정보의 tooillustrate hello 적용 hello를 시나리오를 따르는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-277">tooillustrate hello application of hello information in this article, consider hello following scenario.</span></span>

<span data-ttu-id="1d3cd-278">여러분은 데이터 센터가 북아메리카에 2개, 유럽에 2개 있는 회사에서 일합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-278">You work for a company that has 2 data centers in North America, and two data centers Europe.</span></span> <span data-ttu-id="1d3cd-279">6 식별 toomigrate tooAzure 파일럿으로 원하는 2 다른 비즈니스 단위에서 연결 된 응용 프로그램과 다른 고객 유지 관리 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-279">You identified 6 different customer facing applications maintained by 2 different business units that you want toomigrate tooAzure as a pilot.</span></span> <span data-ttu-id="1d3cd-280">hello hello 응용 프로그램에 대 한 기본 아키텍처는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-280">hello basic architecture for hello applications are as follows:</span></span>

* <span data-ttu-id="1d3cd-281">App1, App2, App3 및 App4는 Ubuntu를 실행하는 Linux 서버에서 호스트되는 웹 응용 프로그램입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-281">App1, App2, App3, and App4 are web applications hosted on Linux servers running Ubuntu.</span></span> <span data-ttu-id="1d3cd-282">Linux 서버에 RESTful 서비스를 호스팅하는 각 응용 프로그램 tooa 별도 응용 프로그램 서버에 연결 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-282">Each application connects tooa separate application server that hosts RESTful services on Linux servers.</span></span> <span data-ttu-id="1d3cd-283">hello RESTful 서비스 tooa 백 엔드 MySQL 데이터베이스를 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-283">hello RESTful services connect tooa back end MySQL database.</span></span>
* <span data-ttu-id="1d3cd-284">App5 및 App6은 Windows Server 2012 R2를 실행하는 Windows 서버에서 호스트되는 웹 응용 프로그램입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-284">App5 and App6 are web applications hosted on Windows servers running Windows Server 2012 R2.</span></span> <span data-ttu-id="1d3cd-285">각 응용 프로그램 tooa 백 엔드 SQL Server 데이터베이스를 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-285">Each application connects tooa back end SQL Server database.</span></span>
* <span data-ttu-id="1d3cd-286">모든 앱은 현재 북미 지역에 hello 회사의 데이터 센터 중 하나에서 호스트 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-286">All apps are currently hosted in one of hello company's data centers in North America.</span></span>
* <span data-ttu-id="1d3cd-287">hello 온-프레미스 데이터 센터 hello 10.0.0.0/8 주소 공간을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-287">hello on-premises data centers use hello 10.0.0.0/8 address space.</span></span>

<span data-ttu-id="1d3cd-288">Hello 요구 사항을 준수를 충족 하는 가상 네트워크 솔루션 toodesign이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-288">You need toodesign a virtual network solution that meets hello following requirements:</span></span>

* <span data-ttu-id="1d3cd-289">각 사업부는 다른 사업부의 리소스 사용량에 영향을 받아서는 안 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-289">Each business unit should not be affected by resource consumption of other business units.</span></span>
* <span data-ttu-id="1d3cd-290">Vnet 및 서브넷 toomake 관리를 보다 쉽게 hello 양을 최소화 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-290">You should minimize hello amount of VNets and subnets toomake management easier.</span></span>
* <span data-ttu-id="1d3cd-291">각 사업부에는 모든 응용 프로그램에 사용되는 단일 테스트/개발 VNet이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-291">Each business unit should have a single test/development VNet used for all applications.</span></span>
* <span data-ttu-id="1d3cd-292">각 응용 프로그램은 대륙당(북아메리카 및 유럽) 서로 다른 2개의 Azure 데이터 센터에서 호스트됩니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-292">Each application is hosted in 2 different Azure data centers per continent (North America and Europe).</span></span>
* <span data-ttu-id="1d3cd-293">각 응용 프로그램은 서로 완전히 격리됩니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-293">Each application is completely isolated from each other.</span></span>
* <span data-ttu-id="1d3cd-294">각 응용 프로그램 hello 인터넷을 통해 고객에 의해 액세스할 수 HTTP를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-294">Each application can be accessed by customers over hello Internet using HTTP.</span></span>
* <span data-ttu-id="1d3cd-295">각 응용 프로그램은 암호화 된 터널을 사용 하 여 사용자가 연결 된 toohello 온-프레미스 데이터 센터에서 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-295">Each application can be accessed by users connected toohello on-premises data centers by using an encrypted tunnel.</span></span>
* <span data-ttu-id="1d3cd-296">연결 tooon 온-프레미스 데이터 센터는 기존의 VPN 장치를 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-296">Connection tooon-premises data centers should use existing VPN devices.</span></span>
* <span data-ttu-id="1d3cd-297">hello 회사의 네트워킹 그룹 있어야 hello VNet 구성에 대 한 모든 권한을 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-297">hello company's networking group should have full control over hello VNet configuration.</span></span>
* <span data-ttu-id="1d3cd-298">각 사업부의 개발자 수 toodeploy Vm tooexisting 서브넷만 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-298">Developers in each business unit should only be able toodeploy VMs tooexisting subnets.</span></span>
* <span data-ttu-id="1d3cd-299">모든 응용 프로그램 (리프트 시프트) tooAzure 멤버인 마이그레이션됩니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-299">All applications will be migrated as they are tooAzure (lift-and-shift).</span></span>
* <span data-ttu-id="1d3cd-300">각 위치에서 hello 데이터베이스 tooother Azure에 복제 해야 하루에 한 번에 위치 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-300">hello databases in each location should replicate tooother Azure locations once a day.</span></span>
* <span data-ttu-id="1d3cd-301">각 응용 프로그램은 5개의 프런트 엔드 웹 서버, 2개의 응용 프로그램 서버(필요한 경우) 및 2개의 데이터베이스 서버를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-301">Each application should use 5 front end web servers, 2 application servers (when necessary), and 2 database servers.</span></span>

### <a name="plan"></a><span data-ttu-id="1d3cd-302">계획</span><span class="sxs-lookup"><span data-stu-id="1d3cd-302">Plan</span></span>
<span data-ttu-id="1d3cd-303">Hello에 hello 질문에 응답 하 여 계획 설계를 시작 해야 [요구 사항을 정의](#Define-requirements) 아래 표시 된 대로 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-303">You should start your design planning by answering hello question in hello [Define requirements](#Define-requirements) section as shown below.</span></span>

1. <span data-ttu-id="1d3cd-304">어떤 Azure 위치 하나요 toohost Vnet을 사용 하 여?</span><span class="sxs-lookup"><span data-stu-id="1d3cd-304">What Azure locations will you use toohost VNets?</span></span>

    <span data-ttu-id="1d3cd-305">북아메리카에 2곳, 유럽에 2곳입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-305">2 locations in North America, and 2 locations in Europe.</span></span> <span data-ttu-id="1d3cd-306">기존 온-프레미스 데이터 센터의 실제 위치 hello에 기반한 선택 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-306">You should pick those based on hello physical location of your existing on-premises data centers.</span></span> <span data-ttu-id="1d3cd-307">이런 방식으로 물리적 위치 tooAzure에서 연결 대기 시간: 더 나은 갖습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-307">That way your connection from your physical locations tooAzure will have a better latency.</span></span>
2. <span data-ttu-id="1d3cd-308">이러한 Azure 위치 간의 tooprovide 통신 필요 한가요?</span><span class="sxs-lookup"><span data-stu-id="1d3cd-308">Do you need tooprovide communication between these Azure locations?</span></span>

    <span data-ttu-id="1d3cd-309">예.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-309">Yes.</span></span> <span data-ttu-id="1d3cd-310">이후 hello 데이터베이스가 복제 된 tooall 위치 여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-310">Since hello databases must be replicated tooall locations.</span></span>
3. <span data-ttu-id="1d3cd-311">Azure VNet(s)와 온-프레미스 데이터 센터 간의 tooprovide 통신 필요 한가요?</span><span class="sxs-lookup"><span data-stu-id="1d3cd-311">Do you need tooprovide communication between your Azure VNet(s) and your on-premises data center(s)?</span></span>

    <span data-ttu-id="1d3cd-312">예.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-312">Yes.</span></span> <span data-ttu-id="1d3cd-313">사용자가 연결 되기 때문 toohello 온-프레미스 데이터 센터에는 암호화 된 터널을 통해 수 tooaccess hello 응용 프로그램 이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-313">Since users connected toohello on-premises data centers must be able tooaccess hello applications through an encrypted tunnel.</span></span>
4. <span data-ttu-id="1d3cd-314">솔루션에 IaaS VM이 얼마나 필요합니까?</span><span class="sxs-lookup"><span data-stu-id="1d3cd-314">How many IaaS VMs do you need for your solution?</span></span>

    <span data-ttu-id="1d3cd-315">200개의 IaaS VM입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-315">200 IaaS VMs.</span></span> <span data-ttu-id="1d3cd-316">App1, App2, App3 및 App4에는 각각 5개의 웹 서버, 각각 2개의 응용 프로그램 서버, 각각 2개의 데이터베이스 서버가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-316">App1, App2, App3, and App4 require 5 web servers each, 2 applications servers each, and 2 database servers each.</span></span> <span data-ttu-id="1d3cd-317">응용 프로그램당 총 9개의 IaaS VM 또는 36개의 IaaS VM입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-317">That's a total of 9 IaaS VMs per application, or 36 IaaS VMs.</span></span> <span data-ttu-id="1d3cd-318">App5 및 App6에는 5개의 웹 서버와 각각 2개의 데이터베이스 서버가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-318">App5 and App6 require 5 web servers and 2 database servers each.</span></span> <span data-ttu-id="1d3cd-319">응용 프로그램당 총 7개의 IaaS VM 또는 14개의 IaaS VM입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-319">That's a total of 7 IaaS VMs per application, or 14 IaaS VMs.</span></span> <span data-ttu-id="1d3cd-320">따라서 각 Azure 지역에 있는 모든 응용 프로그램에 대해 50개의 IaaS VM이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-320">Therefore, you need 50 IaaS VMs for all applications in each Azure region.</span></span> <span data-ttu-id="1d3cd-321">4 toouse 영역, 필요 하므로 IaaS Vm 200 됩니다 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-321">Since we need toouse 4 regions, there will be 200 IaaS VMs.</span></span>

    <span data-ttu-id="1d3cd-322">Azure IaaS Vm 및 온-프레미스 네트워크 간에 또는 온-프레미스 데이터 센터 tooresolve 이름이 각 VNet에 tooprovide DNS 서버도 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-322">You will also need tooprovide DNS servers in each VNet, or in your on-premises data centers tooresolve name between your Azure IaaS VMs and your on-premises network.</span></span>
5. <span data-ttu-id="1d3cd-323">Vm (즉, 프런트 엔드 웹 서버와 백 엔드 데이터베이스 서버)의 그룹에 따라 tooisolate 트래픽의 필요 한가요?</span><span class="sxs-lookup"><span data-stu-id="1d3cd-323">Do you need tooisolate traffic based on groups of VMs (i.e. front end web servers and back end database servers)?</span></span>

    <span data-ttu-id="1d3cd-324">예.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-324">Yes.</span></span> <span data-ttu-id="1d3cd-325">각 응용 프로그램은 서로 완전히 격리되어야 하고 각 응용 프로그램 계층도 격리되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-325">Each application should be completely isolated from each other, and each application layer should also be isolated.</span></span>
6. <span data-ttu-id="1d3cd-326">가상 어플라이언스를 사용 하 여 toocontrol 트래픽 흐름 필요 한가요?</span><span class="sxs-lookup"><span data-stu-id="1d3cd-326">Do you need toocontrol traffic flow using virtual appliances?</span></span>

    <span data-ttu-id="1d3cd-327">아니요.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-327">No.</span></span> <span data-ttu-id="1d3cd-328">가상 어플라이언스 사용된 tooprovide 보다 자세한 데이터 평면 로깅을 포함 하 되는 트래픽 흐름을 보다 자세히 제어할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-328">Virtual appliances can be used tooprovide more control over traffic flow, including more detailed data plane logging.</span></span>
7. <span data-ttu-id="1d3cd-329">사용자가 필요한 상이한 권한 toodifferent Azure 리소스 합니까?</span><span class="sxs-lookup"><span data-stu-id="1d3cd-329">Do users need different sets of permissions toodifferent Azure resources?</span></span>

    <span data-ttu-id="1d3cd-330">예.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-330">Yes.</span></span> <span data-ttu-id="1d3cd-331">hello 네트워킹 팀 해야 hello 가상 네트워킹 설정에 대해 모든 권한을 개발자 toodeploy 수 있어야 하는 동안 Vm toopre 기존 서브넷 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-331">hello networking team needs full control on hello virtual networking settings, while developers should only be able toodeploy their VMs toopre-existing subnets.</span></span>

### <a name="design"></a><span data-ttu-id="1d3cd-332">디자인</span><span class="sxs-lookup"><span data-stu-id="1d3cd-332">Design</span></span>
<span data-ttu-id="1d3cd-333">구독, Vnet, 서브넷 및 Nsg를 지정 하는 hello 디자인을 따라야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-333">You should follow hello design specifying subscriptions, VNets, subnets, and NSGs.</span></span> <span data-ttu-id="1d3cd-334">여기서는 NSG를 설명하지만 디자인을 완료하기 전에 [NSG](virtual-networks-nsg.md) 에 대해 자세히 알아보아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-334">We will discuss NSGs here, but you should learn more about [NSGs](virtual-networks-nsg.md) before finishing your design.</span></span>

<span data-ttu-id="1d3cd-335">**구독 및 VNet의 수**</span><span class="sxs-lookup"><span data-stu-id="1d3cd-335">**Number of subscriptions and VNets**</span></span>

<span data-ttu-id="1d3cd-336">요구 사항을 준수 하는 hello은 관련된 toosubscriptions과 Vnet입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-336">hello following requirements are related toosubscriptions and VNets:</span></span>

* <span data-ttu-id="1d3cd-337">각 사업부는 다른 사업부의 리소스 사용량에 영향을 받아서는 안 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-337">Each business unit should not be affected by resource consumption of other business units.</span></span>
* <span data-ttu-id="1d3cd-338">Vnet 및 서브넷의 hello 양을 최소화 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-338">You should minimize hello amount of VNets and subnets.</span></span>
* <span data-ttu-id="1d3cd-339">각 사업부에는 모든 응용 프로그램에 사용되는 단일 테스트/개발 VNet이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-339">Each business unit should have a single test/development VNet used for all applications.</span></span>
* <span data-ttu-id="1d3cd-340">각 응용 프로그램은 대륙당(북아메리카 및 유럽) 서로 다른 2개의 Azure 데이터 센터에서 호스트됩니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-340">Each application is hosted in 2 different Azure data centers per continent (North America and Europe).</span></span>

<span data-ttu-id="1d3cd-341">이러한 요구에 따라 각 사업부에 대한 구독이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-341">Based on those requirements, you need a subscription for each business unit.</span></span> <span data-ttu-id="1d3cd-342">이런 방식으로 사업부의 리소스 사용량은 다른 사업부에 대한 제한에 포함되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-342">That way, consumption of resources from a business unit will not count towards limits for other business units.</span></span> <span data-ttu-id="1d3cd-343">toominimize hello 수가 Vnet 지정할 것 이므로 hello를 사용 하 여 고려해 야 할 **사업부, 앱의 그룹 마다 두 개의 Vnet 파티션당 하나의 구독이** 아래 그림 처럼 패턴을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-343">And since you want toominimize hello number of VNets, you should consider using hello **one subscription per business unit, two VNets per group of apps** pattern as seen below.</span></span>

![단일 구독](./media/virtual-network-vnet-plan-design-arm/figure9.png)

<span data-ttu-id="1d3cd-345">또한 각 VNet에 대 한 toospecify hello 주소 공간에 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-345">You also need toospecify hello address space for each VNet.</span></span> <span data-ttu-id="1d3cd-346">하므로 hello 간의 연결 온-프레미스 데이터 센터 및 hello Azure 지역 Azure Vnet에 사용 된 hello 주소 공간은 없습니다 충돌 hello 온-프레미스 네트워크와 다른 기존 Vnet 각 VNet에서 사용 하는 hello 주소 공간 충돌 하지 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-346">Since you need connectivity between hello on-premises data centers and hello Azure regions, hello address space used for Azure VNets cannot clash with hello on-premises network, and hello address space used by each VNet should not clash with other existing VNets.</span></span> <span data-ttu-id="1d3cd-347">이러한 요구 사항을 toosatisfy 아래 hello 표에 hello 주소 공간을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-347">You could use hello address spaces in hello table below toosatisfy these requirements.</span></span>  

| <span data-ttu-id="1d3cd-348">**구독**</span><span class="sxs-lookup"><span data-stu-id="1d3cd-348">**Subscription**</span></span> | <span data-ttu-id="1d3cd-349">**VNet**</span><span class="sxs-lookup"><span data-stu-id="1d3cd-349">**VNet**</span></span> | <span data-ttu-id="1d3cd-350">**Azure 지역**</span><span class="sxs-lookup"><span data-stu-id="1d3cd-350">**Azure region**</span></span> | <span data-ttu-id="1d3cd-351">**주소 공간**</span><span class="sxs-lookup"><span data-stu-id="1d3cd-351">**Address space**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="1d3cd-352">BU1</span><span class="sxs-lookup"><span data-stu-id="1d3cd-352">BU1</span></span> |<span data-ttu-id="1d3cd-353">ProdBU1US1</span><span class="sxs-lookup"><span data-stu-id="1d3cd-353">ProdBU1US1</span></span> |<span data-ttu-id="1d3cd-354">미국 서부</span><span class="sxs-lookup"><span data-stu-id="1d3cd-354">West US</span></span> |<span data-ttu-id="1d3cd-355">172.16.0.0/16</span><span class="sxs-lookup"><span data-stu-id="1d3cd-355">172.16.0.0/16</span></span> |
| <span data-ttu-id="1d3cd-356">BU1</span><span class="sxs-lookup"><span data-stu-id="1d3cd-356">BU1</span></span> |<span data-ttu-id="1d3cd-357">ProdBU1US2</span><span class="sxs-lookup"><span data-stu-id="1d3cd-357">ProdBU1US2</span></span> |<span data-ttu-id="1d3cd-358">미국 동부</span><span class="sxs-lookup"><span data-stu-id="1d3cd-358">East US</span></span> |<span data-ttu-id="1d3cd-359">172.17.0.0/16</span><span class="sxs-lookup"><span data-stu-id="1d3cd-359">172.17.0.0/16</span></span> |
| <span data-ttu-id="1d3cd-360">BU1</span><span class="sxs-lookup"><span data-stu-id="1d3cd-360">BU1</span></span> |<span data-ttu-id="1d3cd-361">ProdBU1EU1</span><span class="sxs-lookup"><span data-stu-id="1d3cd-361">ProdBU1EU1</span></span> |<span data-ttu-id="1d3cd-362">북유럽</span><span class="sxs-lookup"><span data-stu-id="1d3cd-362">North Europe</span></span> |<span data-ttu-id="1d3cd-363">172.18.0.0/16</span><span class="sxs-lookup"><span data-stu-id="1d3cd-363">172.18.0.0/16</span></span> |
| <span data-ttu-id="1d3cd-364">BU1</span><span class="sxs-lookup"><span data-stu-id="1d3cd-364">BU1</span></span> |<span data-ttu-id="1d3cd-365">ProdBU1EU2</span><span class="sxs-lookup"><span data-stu-id="1d3cd-365">ProdBU1EU2</span></span> |<span data-ttu-id="1d3cd-366">서유럽</span><span class="sxs-lookup"><span data-stu-id="1d3cd-366">West Europe</span></span> |<span data-ttu-id="1d3cd-367">172.19.0.0/16</span><span class="sxs-lookup"><span data-stu-id="1d3cd-367">172.19.0.0/16</span></span> |
| <span data-ttu-id="1d3cd-368">BU1</span><span class="sxs-lookup"><span data-stu-id="1d3cd-368">BU1</span></span> |<span data-ttu-id="1d3cd-369">TestDevBU1</span><span class="sxs-lookup"><span data-stu-id="1d3cd-369">TestDevBU1</span></span> |<span data-ttu-id="1d3cd-370">미국 서부</span><span class="sxs-lookup"><span data-stu-id="1d3cd-370">West US</span></span> |<span data-ttu-id="1d3cd-371">172.20.0.0/16</span><span class="sxs-lookup"><span data-stu-id="1d3cd-371">172.20.0.0/16</span></span> |
| <span data-ttu-id="1d3cd-372">BU2</span><span class="sxs-lookup"><span data-stu-id="1d3cd-372">BU2</span></span> |<span data-ttu-id="1d3cd-373">TestDevBU2</span><span class="sxs-lookup"><span data-stu-id="1d3cd-373">TestDevBU2</span></span> |<span data-ttu-id="1d3cd-374">미국 서부</span><span class="sxs-lookup"><span data-stu-id="1d3cd-374">West US</span></span> |<span data-ttu-id="1d3cd-375">172.21.0.0/16</span><span class="sxs-lookup"><span data-stu-id="1d3cd-375">172.21.0.0/16</span></span> |
| <span data-ttu-id="1d3cd-376">BU2</span><span class="sxs-lookup"><span data-stu-id="1d3cd-376">BU2</span></span> |<span data-ttu-id="1d3cd-377">ProdBU2US1</span><span class="sxs-lookup"><span data-stu-id="1d3cd-377">ProdBU2US1</span></span> |<span data-ttu-id="1d3cd-378">미국 서부</span><span class="sxs-lookup"><span data-stu-id="1d3cd-378">West US</span></span> |<span data-ttu-id="1d3cd-379">172.22.0.0/16</span><span class="sxs-lookup"><span data-stu-id="1d3cd-379">172.22.0.0/16</span></span> |
| <span data-ttu-id="1d3cd-380">BU2</span><span class="sxs-lookup"><span data-stu-id="1d3cd-380">BU2</span></span> |<span data-ttu-id="1d3cd-381">ProdBU2US2</span><span class="sxs-lookup"><span data-stu-id="1d3cd-381">ProdBU2US2</span></span> |<span data-ttu-id="1d3cd-382">미국 동부</span><span class="sxs-lookup"><span data-stu-id="1d3cd-382">East US</span></span> |<span data-ttu-id="1d3cd-383">172.23.0.0/16</span><span class="sxs-lookup"><span data-stu-id="1d3cd-383">172.23.0.0/16</span></span> |
| <span data-ttu-id="1d3cd-384">BU2</span><span class="sxs-lookup"><span data-stu-id="1d3cd-384">BU2</span></span> |<span data-ttu-id="1d3cd-385">ProdBU2EU1</span><span class="sxs-lookup"><span data-stu-id="1d3cd-385">ProdBU2EU1</span></span> |<span data-ttu-id="1d3cd-386">북유럽</span><span class="sxs-lookup"><span data-stu-id="1d3cd-386">North Europe</span></span> |<span data-ttu-id="1d3cd-387">172.24.0.0/16</span><span class="sxs-lookup"><span data-stu-id="1d3cd-387">172.24.0.0/16</span></span> |
| <span data-ttu-id="1d3cd-388">BU2</span><span class="sxs-lookup"><span data-stu-id="1d3cd-388">BU2</span></span> |<span data-ttu-id="1d3cd-389">ProdBU2EU2</span><span class="sxs-lookup"><span data-stu-id="1d3cd-389">ProdBU2EU2</span></span> |<span data-ttu-id="1d3cd-390">서유럽</span><span class="sxs-lookup"><span data-stu-id="1d3cd-390">West Europe</span></span> |<span data-ttu-id="1d3cd-391">172.25.0.0/16</span><span class="sxs-lookup"><span data-stu-id="1d3cd-391">172.25.0.0/16</span></span> |

<span data-ttu-id="1d3cd-392">**서브넷 및 NSG 수**</span><span class="sxs-lookup"><span data-stu-id="1d3cd-392">**Number of subnets and NSGs**</span></span>

<span data-ttu-id="1d3cd-393">요구 사항을 준수 하는 hello은 관련된 toosubnets과 Nsg입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-393">hello following requirements are related toosubnets and NSGs:</span></span>

* <span data-ttu-id="1d3cd-394">Vnet 및 서브넷의 hello 양을 최소화 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-394">You should minimize hello amount of VNets and subnets.</span></span>
* <span data-ttu-id="1d3cd-395">각 응용 프로그램은 서로 완전히 격리됩니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-395">Each application is completely isolated from each other.</span></span>
* <span data-ttu-id="1d3cd-396">각 응용 프로그램 hello 인터넷을 통해 고객에 의해 액세스할 수 HTTP를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-396">Each application can be accessed by customers over hello Internet using HTTP.</span></span>
* <span data-ttu-id="1d3cd-397">각 응용 프로그램은 암호화 된 터널을 사용 하 여 사용자가 연결 된 toohello 온-프레미스 데이터 센터에서 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-397">Each application can be accessed by users connected toohello on-premises data centers by using an encrypted tunnel.</span></span>
* <span data-ttu-id="1d3cd-398">연결 tooon 온-프레미스 데이터 센터는 기존의 VPN 장치를 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-398">Connection tooon-premises data centers should use existing VPN devices.</span></span>
* <span data-ttu-id="1d3cd-399">각 위치에서 hello 데이터베이스 tooother Azure에 복제 해야 하루에 한 번에 위치 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-399">hello databases in each location should replicate tooother Azure locations once a day.</span></span>

<span data-ttu-id="1d3cd-400">이러한 요구 사항에 따라, 응용 프로그램 계층 마다 하나의 서브넷을 사용 하 여 및 응용 프로그램별 toofilter 트래픽 Nsg를 사용 하 여 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-400">Based on those requirements, you could use one subnet per application layer, and use NSGs toofilter traffic per application.</span></span> <span data-ttu-id="1d3cd-401">이런 방식으로 각 VNet에 3개의 서브넷(프런트 엔드, 응용 프로그램 계층 및 데이터 센터) 및 서브넷당 응용 프로그램당 1개 NSG만 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-401">That way, you only have 3 subnets in each VNet (front end, application layer, and data layer) and one NSG per application per subnet.</span></span> <span data-ttu-id="1d3cd-402">Hello를 사용 해야 하는 경우에 **앱 당 Nsg 응용 프로그램 계층당 하나의 서브넷** 디자인 패턴.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-402">In this case, you should consider using hello **one subnet per application layer, NSGs per app** design pattern.</span></span> <span data-ttu-id="1d3cd-403">hello 아래 그림 hello 디자인 패턴을 나타내는 hello hello 사용 **ProdBU1US1** VNet입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-403">hello figure below shows hello use of hello design pattern representing hello **ProdBU1US1** VNet.</span></span>

![계층당 1개 서브넷, 계층당 응용 프로그램당 1개 NSG](./media/virtual-network-vnet-plan-design-arm/figure11.png)

<span data-ttu-id="1d3cd-405">그러나 있어야 toocreate 추가 서브넷 hello Vnet 및 온-프레미스 데이터 센터 간에 VPN 연결 hello에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-405">However, you also need toocreate an extra subnet for hello VPN connectivity between hello VNets, and your on-premises data centers.</span></span> <span data-ttu-id="1d3cd-406">및 각 서브넷에 대 한 toospecify hello 주소 공간이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-406">And you need toospecify hello address space for each subnet.</span></span> <span data-ttu-id="1d3cd-407">hello 아래 그림에 대 한 샘플 솔루션 **ProdBU1US1** VNet입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-407">hello figure below shows a sample solution for **ProdBU1US1** VNet.</span></span> <span data-ttu-id="1d3cd-408">각 VNet에 대해 이 시나리오를 복제합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-408">You would replicate this scenario for each VNet.</span></span> <span data-ttu-id="1d3cd-409">각 색상은 서로 다른 응용 프로그램을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-409">Each color represents a different application.</span></span>

![샘플 VNet](./media/virtual-network-vnet-plan-design-arm/figure10.png)

<span data-ttu-id="1d3cd-411">**액세스 제어**</span><span class="sxs-lookup"><span data-stu-id="1d3cd-411">**Access Control**</span></span>

<span data-ttu-id="1d3cd-412">hello 다음 요구 사항은 관련된 tooaccess 제어:</span><span class="sxs-lookup"><span data-stu-id="1d3cd-412">hello following requirements are related tooaccess control:</span></span>

* <span data-ttu-id="1d3cd-413">hello 회사의 네트워킹 그룹 있어야 hello VNet 구성에 대 한 모든 권한을 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-413">hello company's networking group should have full control over hello VNet configuration.</span></span>
* <span data-ttu-id="1d3cd-414">각 사업부의 개발자 수 toodeploy Vm tooexisting 서브넷만 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-414">Developers in each business unit should only be able toodeploy VMs tooexisting subnets.</span></span>

<span data-ttu-id="1d3cd-415">이러한 요구 사항에 따라, 있습니다 수에서 사용자를 추가할 기본 제공 팀 toohello 네트워킹 hello **네트워크 참가자** ; 각 구독에 대 한 역할을 만들고 hello에 대 한 사용자 지정 역할 응용 프로그램 개발자가 제공 하는 각 구독에 이러한 권한 tooadd Vm tooexisting 서브넷입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-415">Based on those requirements, you could add users from hello networking team toohello built-in **Network Contributor** role in each subscription; and create a custom role for hello application developers in each subscription giving them rights tooadd VMs tooexisting subnets.</span></span>

## <a name="next-steps"></a><span data-ttu-id="1d3cd-416">다음 단계</span><span class="sxs-lookup"><span data-stu-id="1d3cd-416">Next steps</span></span>
* <span data-ttu-id="1d3cd-417">[가상 네트워크를 배포](virtual-networks-create-vnet-arm-template-click.md) 합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-417">[Deploy a virtual network](virtual-networks-create-vnet-arm-template-click.md) based on a scenario.</span></span>
* <span data-ttu-id="1d3cd-418">너무 방법을 이해[부하를 분산](../load-balancer/load-balancer-overview.md) IaaS Vm 및 [여러 Azure 지역에 대 한 라우팅을 관리](../traffic-manager/traffic-manager-overview.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-418">Understand how too[load balance](../load-balancer/load-balancer-overview.md) IaaS VMs and [manage routing over multiple Azure regions](../traffic-manager/traffic-manager-overview.md).</span></span>
* <span data-ttu-id="1d3cd-419">에 대 한 자세한 내용은 [Nsg 방법과 tooplan 및 디자인](virtual-networks-nsg.md) NSG 솔루션입니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-419">Learn more about [NSGs and how tooplan and design](virtual-networks-nsg.md) an NSG solution.</span></span>
* <span data-ttu-id="1d3cd-420">[크로스-프레미스 및 VNet 연결 옵션](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti)에 대해 알아봅니다.</span><span class="sxs-lookup"><span data-stu-id="1d3cd-420">Learn more about your [cross-premises and VNet connectivity options](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti).</span></span>
