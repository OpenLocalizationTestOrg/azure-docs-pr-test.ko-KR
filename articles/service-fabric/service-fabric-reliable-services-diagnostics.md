---
title: "상태 저장 Reliable Services 진단 | Microsoft Docs"
description: "상태 저장 Reliable Services의 진단 기능"
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: ae0e8f99-69ab-4d45-896d-1fa80ed45659
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/30/2017
ms.author: dekapur
ms.openlocfilehash: 63a7707f16bbf037c0c91da1d02093e2314dc06e
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/11/2017
---
# <a name="diagnostic-functionality-for-stateful-reliable-services"></a><span data-ttu-id="3797b-103">상태 저장 Reliable Services의 진단 기능</span><span class="sxs-lookup"><span data-stu-id="3797b-103">Diagnostic functionality for Stateful Reliable Services</span></span>
<span data-ttu-id="3797b-104">상태 저장 Reliable Services StatefulServiceBase 클래스는 서비스를 디버그하는 데 사용할 수 있는 [EventSource](https://msdn.microsoft.com/library/system.diagnostics.tracing.eventsource.aspx) 이벤트를 내보내고, 런타임이 작동하는 방법에 대한 고급 정보를 제공하고 문제 해결에 도움을 줍니다.</span><span class="sxs-lookup"><span data-stu-id="3797b-104">The Stateful Reliable Services StatefulServiceBase class emits [EventSource](https://msdn.microsoft.com/library/system.diagnostics.tracing.eventsource.aspx) events that can be used to debug the service, provide insights into how the runtime is operating, and help with troubleshooting.</span></span>

## <a name="eventsource-events"></a><span data-ttu-id="3797b-105">EventSource 이벤트</span><span class="sxs-lookup"><span data-stu-id="3797b-105">EventSource events</span></span>
<span data-ttu-id="3797b-106">상태 저장 Reliable Services StatefulServiceBase 클래스의 EventSource 이름은 "Microsoft-ServiceFabric-Services"입니다.</span><span class="sxs-lookup"><span data-stu-id="3797b-106">The EventSource name for the Stateful Reliable Services StatefulServiceBase class is "Microsoft-ServiceFabric-Services".</span></span> <span data-ttu-id="3797b-107">이 이벤트 원본의 이벤트는 서비스가 [Visual Studio에서 디버깅](service-fabric-debugging-your-application.md)될 때 [진단 이벤트](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md#view-service-fabric-system-events-in-visual-studio) 창에 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="3797b-107">Events from this event source appear in the [Diagnostics Events](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md#view-service-fabric-system-events-in-visual-studio) window when the service is being [debugged in Visual Studio](service-fabric-debugging-your-application.md).</span></span>

<span data-ttu-id="3797b-108">EventSource 이벤트를 수집하거나 보는 데 도움이 되는 도구 및 기술의 예로 [PerfView](http://www.microsoft.com/download/details.aspx?id=28567), [Microsoft Azure 진단](../cloud-services/cloud-services-dotnet-diagnostics.md) 및 [Microsoft TraceEvent 라이브러리](http://www.nuget.org/packages/Microsoft.Diagnostics.Tracing.TraceEvent)가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3797b-108">Examples of tools and technologies that help in collecting and/or viewing EventSource events are [PerfView](http://www.microsoft.com/download/details.aspx?id=28567), [Microsoft Azure Diagnostics](../cloud-services/cloud-services-dotnet-diagnostics.md), and the [Microsoft TraceEvent Library](http://www.nuget.org/packages/Microsoft.Diagnostics.Tracing.TraceEvent).</span></span>

## <a name="events"></a><span data-ttu-id="3797b-109">이벤트</span><span class="sxs-lookup"><span data-stu-id="3797b-109">Events</span></span>
| <span data-ttu-id="3797b-110">이벤트 이름</span><span class="sxs-lookup"><span data-stu-id="3797b-110">Event name</span></span> | <span data-ttu-id="3797b-111">이벤트 ID</span><span class="sxs-lookup"><span data-stu-id="3797b-111">Event ID</span></span> | <span data-ttu-id="3797b-112">Level</span><span class="sxs-lookup"><span data-stu-id="3797b-112">Level</span></span> | <span data-ttu-id="3797b-113">이벤트 설명</span><span class="sxs-lookup"><span data-stu-id="3797b-113">Event description</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="3797b-114">StatefulRunAsyncInvocation</span><span class="sxs-lookup"><span data-stu-id="3797b-114">StatefulRunAsyncInvocation</span></span> |<span data-ttu-id="3797b-115">1</span><span class="sxs-lookup"><span data-stu-id="3797b-115">1</span></span> |<span data-ttu-id="3797b-116">정보 제공</span><span class="sxs-lookup"><span data-stu-id="3797b-116">Informational</span></span> |<span data-ttu-id="3797b-117">서비스 RunAsync 작업이 시작되면 내보내집니다.</span><span class="sxs-lookup"><span data-stu-id="3797b-117">Emitted when service RunAsync task is started</span></span> |
| <span data-ttu-id="3797b-118">StatefulRunAsyncCancellation</span><span class="sxs-lookup"><span data-stu-id="3797b-118">StatefulRunAsyncCancellation</span></span> |<span data-ttu-id="3797b-119">2</span><span class="sxs-lookup"><span data-stu-id="3797b-119">2</span></span> |<span data-ttu-id="3797b-120">정보 제공</span><span class="sxs-lookup"><span data-stu-id="3797b-120">Informational</span></span> |<span data-ttu-id="3797b-121">서비스 RunAsync 작업이 취소되면 내보내집니다.</span><span class="sxs-lookup"><span data-stu-id="3797b-121">Emitted when service RunAsync task is cancelled</span></span> |
| <span data-ttu-id="3797b-122">StatefulRunAsyncCompletion</span><span class="sxs-lookup"><span data-stu-id="3797b-122">StatefulRunAsyncCompletion</span></span> |<span data-ttu-id="3797b-123">3</span><span class="sxs-lookup"><span data-stu-id="3797b-123">3</span></span> |<span data-ttu-id="3797b-124">정보 제공</span><span class="sxs-lookup"><span data-stu-id="3797b-124">Informational</span></span> |<span data-ttu-id="3797b-125">서비스 RunAsync 작업이 완료되면 내보내집니다.</span><span class="sxs-lookup"><span data-stu-id="3797b-125">Emitted when service RunAsync task is completed</span></span> |
| <span data-ttu-id="3797b-126">StatefulRunAsyncSlowCancellation</span><span class="sxs-lookup"><span data-stu-id="3797b-126">StatefulRunAsyncSlowCancellation</span></span> |<span data-ttu-id="3797b-127">4</span><span class="sxs-lookup"><span data-stu-id="3797b-127">4</span></span> |<span data-ttu-id="3797b-128">Warning</span><span class="sxs-lookup"><span data-stu-id="3797b-128">Warning</span></span> |<span data-ttu-id="3797b-129">서비스 RunAsync 작업이 취소를 완료하는 데 너무 오래 걸리는 경우 내보내집니다.</span><span class="sxs-lookup"><span data-stu-id="3797b-129">Emitted when service RunAsync task takes too long to complete cancellation</span></span> |
| <span data-ttu-id="3797b-130">StatefulRunAsyncFailure</span><span class="sxs-lookup"><span data-stu-id="3797b-130">StatefulRunAsyncFailure</span></span> |<span data-ttu-id="3797b-131">5</span><span class="sxs-lookup"><span data-stu-id="3797b-131">5</span></span> |<span data-ttu-id="3797b-132">오류</span><span class="sxs-lookup"><span data-stu-id="3797b-132">Error</span></span> |<span data-ttu-id="3797b-133">서비스 RunAsync 작업이 예외를 throw하면 내보내집니다.</span><span class="sxs-lookup"><span data-stu-id="3797b-133">Emitted when service RunAsync task throws an exception</span></span> |

## <a name="interpret-events"></a><span data-ttu-id="3797b-134">이벤트 해석</span><span class="sxs-lookup"><span data-stu-id="3797b-134">Interpret events</span></span>
<span data-ttu-id="3797b-135">StatefulRunAsyncInvocation, StatefulRunAsyncCompletion 및 StatefulRunAsyncCancellation 이벤트는 서비스 작성자가 서비스 시작, 취소 또는 완료 타이밍과 서비스의 수명 주기를 이해하는 데 유용합니다.</span><span class="sxs-lookup"><span data-stu-id="3797b-135">StatefulRunAsyncInvocation, StatefulRunAsyncCompletion, and StatefulRunAsyncCancellation events are useful to the service writer to understand the lifecycle of a service--as well as the timing for when a service is started, cancelled, or completed.</span></span> <span data-ttu-id="3797b-136">이는 서비스 문제를 디버깅하거나 서비스 수명 주기를 이해할 때 유용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3797b-136">This can be useful when debugging service issues or understanding the service lifecycle.</span></span>

<span data-ttu-id="3797b-137">StatefulRunAsyncSlowCancellation 및 StatefulRunAsyncFailure 이벤트는 서비스와 관련된 문제를 나타내므로 서비스 작성자는 이 이벤트에 세심한 주의를 기울여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="3797b-137">Service writers should pay close attention to StatefulRunAsyncSlowCancellation and StatefulRunAsyncFailure events because they indicate issues with the service.</span></span>

<span data-ttu-id="3797b-138">서비스 RunAsync() 작업이 예외를 throw할 때마다 StatefulRunAsyncFailure가 내보내집니다.</span><span class="sxs-lookup"><span data-stu-id="3797b-138">StatefulRunAsyncFailure is emitted whenever the service RunAsync() task throws an exception.</span></span> <span data-ttu-id="3797b-139">일반적으로 throw된 예외는 서비스의 오류 또는 버그를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="3797b-139">Typically, an exception thrown indicates an error or bug in the service.</span></span> <span data-ttu-id="3797b-140">또한 예외로 인해 서비스가 실패하므로 다른 노드로 이동시켜야 합니다.</span><span class="sxs-lookup"><span data-stu-id="3797b-140">Additionally, the exception causes the service to fail, so it is moved to a different node.</span></span> <span data-ttu-id="3797b-141">이 작업은 부담이 큰 작업이며 서비스가 이동하는 동안 들어오는 요청을 지연시킬 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3797b-141">This can be an expensive operation and can delay incoming requests while the service is moved.</span></span> <span data-ttu-id="3797b-142">서비스 작성자는 예외의 원인을 확인하고 가능한 경우 이를 완화해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="3797b-142">Service writers should determine the cause of the exception and, if possible, mitigate it.</span></span>

<span data-ttu-id="3797b-143">RunAsync 작업에 대한 취소 요청이 4초보다 오래 걸릴 경우 StatefulRunAsyncSlowCancellation이 내보내집니다.</span><span class="sxs-lookup"><span data-stu-id="3797b-143">StatefulRunAsyncSlowCancellation is emitted whenever a cancellation request for the RunAsync task takes longer than four seconds.</span></span> <span data-ttu-id="3797b-144">서비스 취소 완료 시간이 너무 오래 걸리는 경우 서비스가 다른 노드에서 신속하게 다시 시작하는 기능에 영향을 줄 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3797b-144">When a service takes too long to complete cancellation, it impacts the ability for the service to be quickly restarted on another node.</span></span> <span data-ttu-id="3797b-145">이 작업은 서비스의 전반적인 가용성에 영향을 줄 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="3797b-145">This may impact the overall availability of the service.</span></span>

## <a name="next-steps"></a><span data-ttu-id="3797b-146">다음 단계</span><span class="sxs-lookup"><span data-stu-id="3797b-146">Next steps</span></span>
* [<span data-ttu-id="3797b-147">PerfView의 EventSource 공급자</span><span class="sxs-lookup"><span data-stu-id="3797b-147">EventSource providers in PerfView</span></span>](https://blogs.msdn.microsoft.com/vancem/2012/07/09/introduction-tutorial-logging-etw-events-in-c-system-diagnostics-tracing-eventsource/)
