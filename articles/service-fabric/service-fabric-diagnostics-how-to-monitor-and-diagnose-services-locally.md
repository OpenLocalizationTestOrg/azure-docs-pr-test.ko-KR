---
title: "windows에서 Azure microservices aaaDebug | Microsoft Docs"
description: "자세한 방법을 toomonitor 하 고 로컬 개발 컴퓨터에서 Microsoft Azure Service Fabric을 사용 하 여 작성 하 여 서비스를 진단 합니다."
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: edcc0631-ed2d-45a3-851d-2c4fa0f4a326
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 04/24/2017
ms.author: dekapur
ms.openlocfilehash: 24868aa194b8a28fa3e6de95c1de5506d912a544
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="monitor-and-diagnose-services-in-a-local-machine-development-setup"></a><span data-ttu-id="e6dbb-103">로컬 컴퓨터 개발 설정에서의 모니터링 및 진단 서비스</span><span class="sxs-lookup"><span data-stu-id="e6dbb-103">Monitor and diagnose services in a local machine development setup</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="e6dbb-104">Windows</span><span class="sxs-lookup"><span data-stu-id="e6dbb-104">Windows</span></span>](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md)
> * [<span data-ttu-id="e6dbb-105">Linux</span><span class="sxs-lookup"><span data-stu-id="e6dbb-105">Linux</span></span>](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally-linux.md)
> 
> 

<span data-ttu-id="e6dbb-106">모니터링, 검색, 진단 및 문제 해결 중단을 최소화 toohello 사용자 환경을 서비스 toocontinue 허용 합니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-106">Monitoring, detecting, diagnosing, and troubleshooting allow for services toocontinue with minimal disruption toohello user experience.</span></span> <span data-ttu-id="e6dbb-107">모니터링 및 진단을 하지만 배포 된 실제 프로덕션 환경에서 필수적인, hello 효율성 tooa 실제 설치 프로그램을 이동 하면 작동 하는 서비스 tooensure 개발 하는 동안 비슷한 모델을 채택 달라 집니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-107">While monitoring and diagnostics are critical in an actual deployed production environment, hello efficiency will depend on adopting a similar model during development of services tooensure they work when you move tooa real-world setup.</span></span> <span data-ttu-id="e6dbb-108">서비스 패브릭을 사용 하면 단일 컴퓨터의 로컬 개발 한 설정 및 실제 생산 클러스터 설치 모두에서 원활 하 게 사용할 수 있는 서비스 개발자가 tooimplement 진단 쉬워집니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-108">Service Fabric makes it easy for service developers tooimplement diagnostics that can seamlessly work across both single-machine local development setups and real-world production cluster setups.</span></span>

## <a name="event-tracing-for-windows"></a><span data-ttu-id="e6dbb-109">Windows용 이벤트 추적</span><span class="sxs-lookup"><span data-stu-id="e6dbb-109">Event Tracing for Windows</span></span>
<span data-ttu-id="e6dbb-110">[Windows 용 이벤트 추적](https://msdn.microsoft.com/library/windows/desktop/bb968803.aspx) (ETW)는 hello 서비스 패브릭에서 추적 메시지에 대 한 기술 권장 합니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-110">[Event Tracing for Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803.aspx) (ETW) is hello recommended technology for tracing messages in Service Fabric.</span></span> <span data-ttu-id="e6dbb-111">ETW를 사용하면 다음과 같은 이점이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-111">Some benefits of using ETW are:</span></span>

* <span data-ttu-id="e6dbb-112">**ETW는 속도가 빠릅니다.**</span><span class="sxs-lookup"><span data-stu-id="e6dbb-112">**ETW is fast.**</span></span> <span data-ttu-id="e6dbb-113">코드 실행 시간에 미치는 영향을 최소화하도록 설계된 추적 기술입니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-113">It was built as a tracing technology that has minimal impact on code execution times.</span></span>
* <span data-ttu-id="e6dbb-114">**ETW 추적은 로컬 개발 환경 및 실제 사용 클러스터 설정에서도 매끄럽게 작동합니다.**</span><span class="sxs-lookup"><span data-stu-id="e6dbb-114">**ETW tracing works seamlessly across local development environments and also real-world cluster setups.**</span></span> <span data-ttu-id="e6dbb-115">이 없는 추적 코드 준비 toodeploy 있을 때는 toorewrite 코드 tooa 실제 클러스터 것을 의미 합니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-115">This  means you don't have toorewrite your tracing code when you are ready toodeploy your code tooa real cluster.</span></span>
* <span data-ttu-id="e6dbb-116">**서비스 패브릭은 내부 추적에도 ETW를 사용합니다.**</span><span class="sxs-lookup"><span data-stu-id="e6dbb-116">**Service Fabric system code also uses ETW for internal tracing.**</span></span> <span data-ttu-id="e6dbb-117">이렇게 하면 서비스 패브릭 시스템 추적으로 인터리빙 된 응용 프로그램 추적 tooview 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-117">This allows you tooview your application traces interleaved with Service Fabric system traces.</span></span> <span data-ttu-id="e6dbb-118">또한 toomore hello 기본 시스템의 hello 시퀀스와 응용 프로그램 코드 및 이벤트 간의 상호 관계를 쉽게 이해할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-118">It also helps you toomore easily understand hello sequences and interrelationships between your application code and events in hello underlying system.</span></span>
* <span data-ttu-id="e6dbb-119">**Tooview ETW 이벤트는 서비스 패브릭 Visual Studio 도구에서 기본적으로 지원 합니다.**</span><span class="sxs-lookup"><span data-stu-id="e6dbb-119">**There is built-in support in Service Fabric Visual Studio tools tooview ETW events.**</span></span> <span data-ttu-id="e6dbb-120">Visual Studio 서비스 패브릭 올바르게 구성 되 면 ETW 이벤트 hello Visual Studio의 진단 이벤트 보기에에서 나타납니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-120">ETW events appear in hello Diagnostic Events view of Visual Studio once Visual Studio is correctly configured with Service Fabric.</span></span> 

## <a name="view-service-fabric-system-events-in-visual-studio"></a><span data-ttu-id="e6dbb-121">Visual Studio에서 서비스 패브릭 시스템 이벤트 보기</span><span class="sxs-lookup"><span data-stu-id="e6dbb-121">View Service Fabric system events in Visual Studio</span></span>
<span data-ttu-id="e6dbb-122">서비스 패브릭 응용 프로그램 개발자가 toohelp hello 플랫폼에서 일어나는 이해 하는 ETW 이벤트를 내보냅니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-122">Service Fabric emits ETW events toohelp application developers understand what's happening in hello platform.</span></span> <span data-ttu-id="e6dbb-123">그렇게 이미 하지 않은 경우 계속 진행 하 고 hello 단계에 따라 [Visual Studio에서 응용 프로그램 처음 만들기](service-fabric-create-your-first-application-in-visual-studio.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-123">If you haven't already done so, go ahead and follow hello steps in [Creating your first application in Visual Studio](service-fabric-create-your-first-application-in-visual-studio.md).</span></span> <span data-ttu-id="e6dbb-124">이 정보를 참조할 수 문제 없이 응용 프로그램 진단 이벤트 뷰어 hello 추적 메시지를 보여 주는 hello로 합니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-124">This information will help you get an application up and running with hello Diagnostics Events Viewer showing hello trace messages.</span></span>

1. <span data-ttu-id="e6dbb-125">Hello 진단 이벤트 창을 자동으로 표시 되지 않습니다 toohello 전환 되는 경우 **보기** Visual Studio에서 탭을 선택 **다른 창** 차례로 **진단 이벤트 뷰어**합니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-125">If hello diagnostics events window does not automatically show, Go toohello **View** tab in Visual Studio, choose **Other Windows** and then **Diagnostic Events Viewer**.</span></span>
2. <span data-ttu-id="e6dbb-126">각 이벤트에 hello 노드, 응용 프로그램 및 서비스 hello 이벤트에서 온 것인지를 알려 주는 표준 메타 데이터 정보입니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-126">Each event has standard metadata information that tells you hello node, application and service hello event is coming from.</span></span> <span data-ttu-id="e6dbb-127">Hello를 사용 하 여 hello 목록은 이벤트를 필터링 할 수도 있습니다 **이벤트를 필터링** hello 이벤트 창의 hello 상단 상자입니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-127">You can also filter hello list of events by using hello **Filter events** box at hello top of hello events window.</span></span> <span data-ttu-id="e6dbb-128">예를 들어 **노드 이름**이나 **서비스 이름**으로 필터링할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-128">For example, you can filter on **Node Name** or **Service Name.**</span></span> <span data-ttu-id="e6dbb-129">이벤트 세부 정보를 찾고자 하는 경우 또한 놓으면 hello를 사용 하 여 및 **일시 중지** hello hello 이벤트 창 위쪽에 단추를 선택한 이벤트의 손실 없이 나중에 다시 시작 합니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-129">And when you're looking at event details, you can also pause by using hello **Pause** button at hello top of hello events window and resume later without any loss of events.</span></span>
   
   ![Visual Studio 진단 이벤트 뷰어](./media/service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally/DiagEventsExamples2.png)

## <a name="add-your-own-custom-traces-toohello-application-code"></a><span data-ttu-id="e6dbb-131">사용자 고유의 사용자 지정 추적은 toohello 응용 프로그램 코드를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-131">Add your own custom traces toohello application code</span></span>
<span data-ttu-id="e6dbb-132">hello 서비스 패브릭 Visual Studio 프로젝트 템플릿 샘플 코드가 들어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-132">hello Service Fabric Visual Studio project templates contain sample code.</span></span> <span data-ttu-id="e6dbb-133">hello 코드 방법을 tooadd 사용자 지정 응용 프로그램 코드 ETW 추적을 보여 주는를 서비스 패브릭에서 시스템 추적 함께 hello Visual Studio ETW 뷰어에서 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-133">hello code shows how tooadd custom application code ETW traces that show up in hello Visual Studio ETW viewer alongside system traces from Service Fabric.</span></span> <span data-ttu-id="e6dbb-134">hello이 방법의 장점은 메타 데이터는 tootraces, 자동으로 추가 하 고 Visual Studio 진단 이벤트 뷰어는 이미 hello 구성 toodisplay 해당 합니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-134">hello advantage of this method is that metadata is automatically added tootraces, and hello Visual Studio Diagnostic Events Viewer is already configured toodisplay them.</span></span>

<span data-ttu-id="e6dbb-135">Hello에서 만든 프로젝트에 대 한 **서비스 템플릿은** hello에 대 한 정당한 검색 (상태 비저장 또는 상태 저장) `RunAsync` 구현:</span><span class="sxs-lookup"><span data-stu-id="e6dbb-135">For projects created from hello **service templates** (stateless or stateful) just search for hello `RunAsync` implementation:</span></span>

1. <span data-ttu-id="e6dbb-136">호출을 너무 hello`ServiceEventSource.Current.ServiceMessage` hello에 `RunAsync` 메서드 hello 응용 프로그램 코드 로부터 사용자 정의 ETW 추적의 예를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-136">hello call too`ServiceEventSource.Current.ServiceMessage` in hello `RunAsync` method shows an example of a custom ETW trace from hello application code.</span></span>
2. <span data-ttu-id="e6dbb-137">Hello에 **ServiceEventSource.cs** 파일인 hello에 대 한 오버 로드를 찾을 수 있습니다 `ServiceEventSource.ServiceMessage` tooperformance 이유로 인해 고주파 이벤트에 사용 해야 하는 메서드입니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-137">In hello **ServiceEventSource.cs** file, you will find an overload for hello `ServiceEventSource.ServiceMessage` method that should be used for high-frequency events due tooperformance reasons.</span></span>

<span data-ttu-id="e6dbb-138">Hello에서 만든 프로젝트에 대 한 **행위자 템플릿** (상태 비저장 또는 상태 저장):</span><span class="sxs-lookup"><span data-stu-id="e6dbb-138">For projects created from hello **actor templates** (stateless or stateful):</span></span>

1. <span data-ttu-id="e6dbb-139">열기 hello **"ProjectName".cs** 파일 *p r o j* Visual Studio 프로젝트에 대해 선택한 hello 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-139">Open hello **"ProjectName".cs** file where *ProjectName* is hello name you chose for your Visual Studio project.</span></span>  
2. <span data-ttu-id="e6dbb-140">Hello 코드 찾기 `ActorEventSource.Current.ActorMessage(this, "Doing Work");` hello에 *DoWorkAsync* 메서드.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-140">Find hello code `ActorEventSource.Current.ActorMessage(this, "Doing Work");` in hello *DoWorkAsync* method.</span></span>  <span data-ttu-id="e6dbb-141">이는 응용 프로그램 코드에서 작성된 사용자 지정 ETW의 예제입니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-141">This is an example of a custom ETW trace written from application code.</span></span>  
3. <span data-ttu-id="e6dbb-142">파일에 **ActorEventSource.cs**, hello에 대 한 오버 로드를 찾을 수 있습니다 `ActorEventSource.ActorMessage` tooperformance 이유로 인해 고주파 이벤트에 사용 해야 하는 메서드입니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-142">In file **ActorEventSource.cs**, you will find an overload for hello `ActorEventSource.ActorMessage` method that should be used for high-frequency events due tooperformance reasons.</span></span>

<span data-ttu-id="e6dbb-143">Tooyour 서비스 코드를 추적 하는 사용자 지정 ETW를 추가한 후 수 빌드, 배포 및 실행 hello 응용 프로그램 다시 toosee 진단 이벤트 뷰어 hello에 사용자 이벤트입니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-143">After adding custom ETW tracing tooyour service code, you can build, deploy, and run hello application again toosee your event(s) in hello Diagnostic Events Viewer.</span></span> <span data-ttu-id="e6dbb-144">Hello 응용 프로그램을 디버깅 하는 경우 **F5**, hello 진단 이벤트 뷰어를 자동으로 열립니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-144">If you debug hello application with **F5**, hello Diagnostic Events Viewer will open automatically.</span></span>

## <a name="next-steps"></a><span data-ttu-id="e6dbb-145">다음 단계</span><span class="sxs-lookup"><span data-stu-id="e6dbb-145">Next steps</span></span>
<span data-ttu-id="e6dbb-146">hello 동일한 추적 코드를 로컬 진단에 대 한 위의 tooyour 응용 프로그램 추가 작동할지 tooview를 사용할 수 있는 도구와 함께 Azure 클러스터에서 응용 프로그램을 실행할 때 이러한 이벤트입니다.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-146">hello same tracing code that you added tooyour application above for local diagnostics will work with tools that you can use tooview these events when running your application on an Azure cluster.</span></span> <span data-ttu-id="e6dbb-147">Hello hello 도구에 대 한 다른 옵션에 설명 하 고를를 설정 하는 방법을 설명 하는 다음이 문서를 확인해 보세요.</span><span class="sxs-lookup"><span data-stu-id="e6dbb-147">Check out these articles that discuss hello different options for hello tools and describe how you can set them up.</span></span>

* [<span data-ttu-id="e6dbb-148">Azure 진단으로 toocollect 기록 하는 방법</span><span class="sxs-lookup"><span data-stu-id="e6dbb-148">How toocollect logs with Azure Diagnostics</span></span>](service-fabric-diagnostics-how-to-setup-wad.md)
* [<span data-ttu-id="e6dbb-149">EventFlow를 사용하여 이벤트 집계 및 수집</span><span class="sxs-lookup"><span data-stu-id="e6dbb-149">Event aggregation and collection using EventFlow</span></span>](service-fabric-diagnostics-event-aggregation-eventflow.md)

