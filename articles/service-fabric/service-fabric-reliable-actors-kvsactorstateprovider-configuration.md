---
title: "Azure microservices의 aaaChange KVSActorStateProvider 설정 | Microsoft Docs"
description: "'KVSActorStateProvider' 형식의 Azure 서비스 패브릭 상태 저장 행위자를 구성하는 방법에 대해 알아봅니다."
services: Service-Fabric
documentationcenter: .net
author: sumukhs
manager: timlt
editor: 
ms.assetid: dbed72f4-dda5-4287-bd56-da492710cd96
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 6/29/2017
ms.author: sumukhs
ms.openlocfilehash: e003512678556e68a8926b1b9c6c28d9ae3979d2
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="configuring-reliable-actors--kvsactorstateprovider"></a><span data-ttu-id="175a9-103">Reliable Actors 구성--KVSActorStateProvider</span><span class="sxs-lookup"><span data-stu-id="175a9-103">Configuring Reliable Actors--KVSActorStateProvider</span></span>
<span data-ttu-id="175a9-104">KVSActorStateProvider의 기본 구성은 hello hello Microsoft Visual Studio 패키지 루트 hello 지정 된 작업자에 대해 hello Config 폴더에서 생성 되는 hello settings.xml 파일을 변경 하 여 수정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-104">You can modify hello default configuration of KVSActorStateProvider by changing hello settings.xml file that is generated in hello Microsoft Visual Studio package root under hello Config folder for hello specified actor.</span></span>

<span data-ttu-id="175a9-105">hello Azure 서비스 패브릭 런타임을 hello settings.xml 파일에 미리 정의 된 섹션 이름을 찾는 하 고 hello 기본 런타임 구성 요소를 만드는 동안 hello 구성 값을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-105">hello Azure Service Fabric runtime looks for predefined section names in hello settings.xml file and consumes hello configuration values while creating hello underlying runtime components.</span></span>

> [!NOTE]
> <span data-ttu-id="175a9-106">수행 **하지** 삭제 하거나 hello Visual Studio 솔루션에서에서 생성 되는 hello settings.xml 파일에는 구성을 따르고 hello의 hello 섹션 이름을 수정 합니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-106">Do **not** delete or modify hello section names of hello following configurations in hello settings.xml file that is generated in hello Visual Studio solution.</span></span>
> 
> 

## <a name="replicator-security-configuration"></a><span data-ttu-id="175a9-107">복제자 보안 구성</span><span class="sxs-lookup"><span data-stu-id="175a9-107">Replicator security configuration</span></span>
<span data-ttu-id="175a9-108">복제기 보안 구성을 복제 하는 동안 사용 되는 사용 되는 toosecure hello 통신 채널 됩니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-108">Replicator security configurations are used toosecure hello communication channel that is used during replication.</span></span> <span data-ttu-id="175a9-109">즉, 서비스 다른 사용자의 복제 트래픽을 인지 확인 하는 hello는 데이터에 항상 사용 가능한도 보안을 볼 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-109">This means that services cannot see each other's replication traffic, ensuring that hello data that is made highly available is also secure.</span></span>
<span data-ttu-id="175a9-110">기본적으로 빈 보안 구성 섹션에서는 복제 보안이 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-110">By default, an empty security configuration section prevents replication security.</span></span>

### <a name="section-name"></a><span data-ttu-id="175a9-111">섹션 이름</span><span class="sxs-lookup"><span data-stu-id="175a9-111">Section name</span></span>
<span data-ttu-id="175a9-112">&lt;ActorName&gt;ServiceReplicatorSecurityConfig</span><span class="sxs-lookup"><span data-stu-id="175a9-112">&lt;ActorName&gt;ServiceReplicatorSecurityConfig</span></span>

## <a name="replicator-configuration"></a><span data-ttu-id="175a9-113">복제자 구성</span><span class="sxs-lookup"><span data-stu-id="175a9-113">Replicator configuration</span></span>
<span data-ttu-id="175a9-114">복제기 구성 hello 행위자 상태 공급자 상태 안정성이 높아야 하는 일을 담당 하는 hello 복제기를 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-114">Replicator configurations configure hello replicator that is responsible for making hello Actor State Provider state highly reliable.</span></span>
<span data-ttu-id="175a9-115">hello 기본 구성에서 hello Visual Studio 템플릿이 생성 되 고 충분 합니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-115">hello default configuration is generated by hello Visual Studio template and should suffice.</span></span> <span data-ttu-id="175a9-116">이 섹션은 사용할 수 있는 tootune hello 복제기 추가 구성에 대 한 설명입니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-116">This section talks about additional configurations that are available tootune hello replicator.</span></span>

### <a name="section-name"></a><span data-ttu-id="175a9-117">섹션 이름</span><span class="sxs-lookup"><span data-stu-id="175a9-117">Section name</span></span>
<span data-ttu-id="175a9-118">&lt;ActorName&gt;ServiceReplicatorConfig</span><span class="sxs-lookup"><span data-stu-id="175a9-118">&lt;ActorName&gt;ServiceReplicatorConfig</span></span>

### <a name="configuration-names"></a><span data-ttu-id="175a9-119">구성 이름</span><span class="sxs-lookup"><span data-stu-id="175a9-119">Configuration names</span></span>
| <span data-ttu-id="175a9-120">이름</span><span class="sxs-lookup"><span data-stu-id="175a9-120">Name</span></span> | <span data-ttu-id="175a9-121">단위</span><span class="sxs-lookup"><span data-stu-id="175a9-121">Unit</span></span> | <span data-ttu-id="175a9-122">기본값</span><span class="sxs-lookup"><span data-stu-id="175a9-122">Default value</span></span> | <span data-ttu-id="175a9-123">설명</span><span class="sxs-lookup"><span data-stu-id="175a9-123">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="175a9-124">BatchAcknowledgementInterval</span><span class="sxs-lookup"><span data-stu-id="175a9-124">BatchAcknowledgementInterval</span></span> |<span data-ttu-id="175a9-125">초</span><span class="sxs-lookup"><span data-stu-id="175a9-125">Seconds</span></span> |<span data-ttu-id="175a9-126">0.015</span><span class="sxs-lookup"><span data-stu-id="175a9-126">0.015</span></span> |<span data-ttu-id="175a9-127">Hello 보조 대기를 보내기 전에 다시 승인을 toohello 기본 작업을 받은 후에 hello 복제기에 대 한 시간 간격입니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-127">Time period for which hello replicator at hello secondary waits after receiving an operation before sending back an acknowledgement toohello primary.</span></span> <span data-ttu-id="175a9-128">이 간격 내에서 처리 하는 작업에 대 한 보낸 승인 toobe 하나의 응답으로 전송 됩니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-128">Any other acknowledgements toobe sent for operations processed within this interval are sent as one response.</span></span> |
| <span data-ttu-id="175a9-129">ReplicatorEndpoint</span><span class="sxs-lookup"><span data-stu-id="175a9-129">ReplicatorEndpoint</span></span> |<span data-ttu-id="175a9-130">해당 없음</span><span class="sxs-lookup"><span data-stu-id="175a9-130">N/A</span></span> |<span data-ttu-id="175a9-131">기본값 없음--필수 매개 변수</span><span class="sxs-lookup"><span data-stu-id="175a9-131">No default--required parameter</span></span> |<span data-ttu-id="175a9-132">IP 주소와 포트를 주/보조 복제기 hello toocommunicate hello 복제 세트에 다른 복제기를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-132">IP address and port that hello primary/secondary replicator will use toocommunicate with other replicators in hello replica set.</span></span> <span data-ttu-id="175a9-133">이 서비스 매니페스트의 hello TCP 리소스 끝점을 참조 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-133">This should reference a TCP resource endpoint in hello service manifest.</span></span> <span data-ttu-id="175a9-134">너무 참조[서비스 매니페스트 리소스](service-fabric-service-manifest-resources.md) tooread hello 서비스 매니페스트에 끝점 리소스를 정의 하는 방법에 대 한 자세한 합니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-134">Refer too[Service manifest resources](service-fabric-service-manifest-resources.md) tooread more about defining endpoint resources in hello service manifest.</span></span> |
| <span data-ttu-id="175a9-135">RetryInterval</span><span class="sxs-lookup"><span data-stu-id="175a9-135">RetryInterval</span></span> |<span data-ttu-id="175a9-136">초</span><span class="sxs-lookup"><span data-stu-id="175a9-136">Seconds</span></span> |<span data-ttu-id="175a9-137">5</span><span class="sxs-lookup"><span data-stu-id="175a9-137">5</span></span> |<span data-ttu-id="175a9-138">기간이 지난 후 어떤 hello 복제기 다시 전송 작업에 대 한 승인을 받지 않을 경우 메시지입니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-138">Time period after which hello replicator re-transmits a message if it does not receive an acknowledgement for an operation.</span></span> |
| <span data-ttu-id="175a9-139">MaxReplicationMessageSize</span><span class="sxs-lookup"><span data-stu-id="175a9-139">MaxReplicationMessageSize</span></span> |<span data-ttu-id="175a9-140">바이트</span><span class="sxs-lookup"><span data-stu-id="175a9-140">Bytes</span></span> |<span data-ttu-id="175a9-141">50MB</span><span class="sxs-lookup"><span data-stu-id="175a9-141">50 MB</span></span> |<span data-ttu-id="175a9-142">단일 메시지에서 전송할 수 있는 복제 데이터의 최대 크기.</span><span class="sxs-lookup"><span data-stu-id="175a9-142">Maximum size of replication data that can be transmitted in a single message.</span></span> |
| <span data-ttu-id="175a9-143">MaxPrimaryReplicationQueueSize</span><span class="sxs-lookup"><span data-stu-id="175a9-143">MaxPrimaryReplicationQueueSize</span></span> |<span data-ttu-id="175a9-144">작업의 수</span><span class="sxs-lookup"><span data-stu-id="175a9-144">Number of operations</span></span> |<span data-ttu-id="175a9-145">1024</span><span class="sxs-lookup"><span data-stu-id="175a9-145">1024</span></span> |<span data-ttu-id="175a9-146">Hello 기본 큐에서 작업의 최대 수입니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-146">Maximum number of operations in hello primary queue.</span></span> <span data-ttu-id="175a9-147">Hello 기본 복제기에서 모든 hello 보조 복제기에서 승인을 받은 후에 작업을 해제 됩니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-147">An operation is freed up after hello primary replicator receives an acknowledgement from all hello secondary replicators.</span></span> <span data-ttu-id="175a9-148">이 값은 64보다 크고 2의 제곱이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-148">This value must be greater than 64 and a power of 2.</span></span> |
| <span data-ttu-id="175a9-149">MaxSecondaryReplicationQueueSize</span><span class="sxs-lookup"><span data-stu-id="175a9-149">MaxSecondaryReplicationQueueSize</span></span> |<span data-ttu-id="175a9-150">작업의 수</span><span class="sxs-lookup"><span data-stu-id="175a9-150">Number of operations</span></span> |<span data-ttu-id="175a9-151">2048</span><span class="sxs-lookup"><span data-stu-id="175a9-151">2048</span></span> |<span data-ttu-id="175a9-152">Hello 보조 큐에 있는 작업의 최대 수입니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-152">Maximum number of operations in hello secondary queue.</span></span> <span data-ttu-id="175a9-153">작업은 지속성을 통해 상태를 항상 사용 가능하도록 설정한 후 해제됩니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-153">An operation is freed up after making its state highly available through persistence.</span></span> <span data-ttu-id="175a9-154">이 값은 64보다 크고 2의 제곱이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-154">This value must be greater than 64 and a power of 2.</span></span> |

## <a name="store-configuration"></a><span data-ttu-id="175a9-155">저장소 구성</span><span class="sxs-lookup"><span data-stu-id="175a9-155">Store configuration</span></span>
<span data-ttu-id="175a9-156">저장소 구성이 사용 되는 tooconfigure hello 로컬 저장소에 복제 되 고 사용 되는 toopersist hello 상태가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-156">Store configurations are used tooconfigure hello local store that is used toopersist hello state that is being replicated.</span></span>
<span data-ttu-id="175a9-157">hello 기본 구성에서 hello Visual Studio 템플릿이 생성 되 고 충분 합니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-157">hello default configuration is generated by hello Visual Studio template and should suffice.</span></span> <span data-ttu-id="175a9-158">이 섹션 추가 구성에 사용할 수 있는 tootune hello에 대 한 로컬 저장소에 대해 소개 합니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-158">This section talks about additional configurations that are available tootune hello local store.</span></span>

### <a name="section-name"></a><span data-ttu-id="175a9-159">섹션 이름</span><span class="sxs-lookup"><span data-stu-id="175a9-159">Section name</span></span>
<span data-ttu-id="175a9-160">&lt;ActorName&gt;ServiceLocalStoreConfig</span><span class="sxs-lookup"><span data-stu-id="175a9-160">&lt;ActorName&gt;ServiceLocalStoreConfig</span></span>

### <a name="configuration-names"></a><span data-ttu-id="175a9-161">구성 이름</span><span class="sxs-lookup"><span data-stu-id="175a9-161">Configuration names</span></span>
| <span data-ttu-id="175a9-162">이름</span><span class="sxs-lookup"><span data-stu-id="175a9-162">Name</span></span> | <span data-ttu-id="175a9-163">단위</span><span class="sxs-lookup"><span data-stu-id="175a9-163">Unit</span></span> | <span data-ttu-id="175a9-164">기본값</span><span class="sxs-lookup"><span data-stu-id="175a9-164">Default value</span></span> | <span data-ttu-id="175a9-165">설명</span><span class="sxs-lookup"><span data-stu-id="175a9-165">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="175a9-166">MaxAsyncCommitDelayInMilliseconds</span><span class="sxs-lookup"><span data-stu-id="175a9-166">MaxAsyncCommitDelayInMilliseconds</span></span> |<span data-ttu-id="175a9-167">밀리초</span><span class="sxs-lookup"><span data-stu-id="175a9-167">Milliseconds</span></span> |<span data-ttu-id="175a9-168">200</span><span class="sxs-lookup"><span data-stu-id="175a9-168">200</span></span> |<span data-ttu-id="175a9-169">Hello 최대 일괄 처리 커밋 로컬 영 속 저장소에 대 한 간격을 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-169">Sets hello maximum batching interval for durable local store commits.</span></span> |
| <span data-ttu-id="175a9-170">MaxVerPages</span><span class="sxs-lookup"><span data-stu-id="175a9-170">MaxVerPages</span></span> |<span data-ttu-id="175a9-171">페이지 수</span><span class="sxs-lookup"><span data-stu-id="175a9-171">Number of pages</span></span> |<span data-ttu-id="175a9-172">16384</span><span class="sxs-lookup"><span data-stu-id="175a9-172">16384</span></span> |<span data-ttu-id="175a9-173">데이터베이스를 저장 하는 hello 최대 로컬 hello에 버전 페이지 수입니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-173">hello maximum number of version pages in hello local store database.</span></span> <span data-ttu-id="175a9-174">Hello 처리 중인 트랜잭션의 최대 수를 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-174">It determines hello maximum number of outstanding transactions.</span></span> |

## <a name="sample-configuration-file"></a><span data-ttu-id="175a9-175">샘플 구성 파일</span><span class="sxs-lookup"><span data-stu-id="175a9-175">Sample configuration file</span></span>
```xml
<?xml version="1.0" encoding="utf-8"?>
<Settings xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://schemas.microsoft.com/2011/01/fabric">
   <Section Name="MyActorServiceReplicatorConfig">
      <Parameter Name="ReplicatorEndpoint" Value="MyActorServiceReplicatorEndpoint" />
      <Parameter Name="BatchAcknowledgementInterval" Value="0.05"/>
   </Section>
   <Section Name="MyActorServiceLocalStoreConfig">
      <Parameter Name="MaxVerPages" Value="8192" />
   </Section>
   <Section Name="MyActorServiceReplicatorSecurityConfig">
      <Parameter Name="CredentialType" Value="X509" />
      <Parameter Name="FindType" Value="FindByThumbprint" />
      <Parameter Name="FindValue" Value="9d c9 06 b1 69 dc 4f af fd 16 97 ac 78 1e 80 67 90 74 9d 2f" />
      <Parameter Name="StoreLocation" Value="LocalMachine" />
      <Parameter Name="StoreName" Value="My" />
      <Parameter Name="ProtectionLevel" Value="EncryptAndSign" />
      <Parameter Name="AllowedCommonNames" Value="My-Test-SAN1-Alice,My-Test-SAN1-Bob" />
   </Section>
</Settings>
```
## <a name="remarks"></a><span data-ttu-id="175a9-176">설명</span><span class="sxs-lookup"><span data-stu-id="175a9-176">Remarks</span></span>
<span data-ttu-id="175a9-177">hello BatchAcknowledgementInterval 매개 변수는 복제 대기 시간을 제어합니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-177">hello BatchAcknowledgementInterval parameter controls replication latency.</span></span> <span data-ttu-id="175a9-178">값이 '0' (더 많은 승인 메시지를 전송 및 처리를 각각 포함 된 더 적은 승인 해야)으로 hello 가능한 최저의 대기 시간, 처리량의 hello 비용이 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-178">A value of '0' results in hello lowest possible latency, at hello cost of throughput (as more acknowledgement messages must be sent and processed, each containing fewer acknowledgements).</span></span>
<span data-ttu-id="175a9-179">hello, BatchAcknowledgementInterval에 더 큰 hello 값 hello 더 높은 hello 전반적인 hello 비용을 더 높은 작업 대기 시간에 복제 처리량입니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-179">hello larger hello value for BatchAcknowledgementInterval, hello higher hello overall replication throughput, at hello cost of higher operation latency.</span></span> <span data-ttu-id="175a9-180">트랜잭션 커밋의 대기 시간 toohello 직접 변환 됩니다.</span><span class="sxs-lookup"><span data-stu-id="175a9-180">This directly translates toohello latency of transaction commits.</span></span>

