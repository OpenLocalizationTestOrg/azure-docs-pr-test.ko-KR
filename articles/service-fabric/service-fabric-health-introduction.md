---
title: "Service Fabric의 상태 모니터링 | Microsoft Docs"
description: "클러스터 및 응용 프로그램과 서비스 모니터링을 제공하는 Azure 서비스 패브릭 상태 모니터링 모델 소개."
services: service-fabric
documentationcenter: .net
author: oanapl
manager: timlt
editor: 
ms.assetid: 1d979210-b1eb-4022-be24-799fd9d8e003
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/19/2017
ms.author: oanapl
ms.openlocfilehash: 598a4d35faebb592f840b1bec7e77c7a091ea2de
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/18/2017
---
# <a name="introduction-to-service-fabric-health-monitoring"></a><span data-ttu-id="24f92-103">서비스 패브릭 상태 모니터링 소개</span><span class="sxs-lookup"><span data-stu-id="24f92-103">Introduction to Service Fabric health monitoring</span></span>
<span data-ttu-id="24f92-104">다양하고 유연하며 확장 가능한 상태 평가 및 보고 기능을 제공하는 상태 모델이 Azure 서비스 패브릭에 도입되었습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-104">Azure Service Fabric introduces a health model that provides rich, flexible, and extensible health evaluation and reporting.</span></span> <span data-ttu-id="24f92-105">이 모델에서는 클러스터의 상태와 클러스터에서 실행되는 서비스의 상태를 거의 실시간으로 모니터링할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-105">The model allows near-real-time monitoring of the state of the cluster and the services running in it.</span></span> <span data-ttu-id="24f92-106">간편하게 상태 정보를 얻을 수 있고 잠재적인 문제로 인한 대규모 중단 사태가 발생하기 전에 해당 문제를 해결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-106">You can easily obtain health information and correct potential issues before they cascade and cause massive outages.</span></span> <span data-ttu-id="24f92-107">일반적인 모델에서는 서비스가 로컬 보기를 기반으로 한 보고서를 보내고 정보는 전체 클러스터 수준 보기를 제공하도록 집계됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-107">In the typical model, services send reports based on their local views, and that information is aggregated to provide an overall cluster-level view.</span></span>

<span data-ttu-id="24f92-108">Service Fabric 구성 요소는 이 풍부한 상태 모델을 사용하여 현재 상태를 보고합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-108">Service Fabric components use this rich health model to report their current state.</span></span> <span data-ttu-id="24f92-109">동일한 메커니즘을 사용하여 응용 프로그램의 상태를 보고할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-109">You can use the same mechanism to report health from your applications.</span></span> <span data-ttu-id="24f92-110">사용자 지정 조건을 캡처하는 고품질의 상태 보고에 투자하면 실행 중인 응용 프로그램에 대한 문제를 훨씬 더 쉽게 감지하고 수정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-110">If you invest in high-quality health reporting that captures your custom conditions, you can detect and fix issues for your running application much more easily.</span></span>

<span data-ttu-id="24f92-111">다음 Microsoft Virtual Academy 비디오에는 Service Fabric 상태 모델 및 사용 방법도 설명합니다. <center><a target="_blank" href="https://mva.microsoft.com/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=tevZw56yC_1906218965">
<img src="./media/service-fabric-health-introduction/HealthIntroVid.png" WIDTH="360" HEIGHT="244">
</a></center></span><span class="sxs-lookup"><span data-stu-id="24f92-111">The following Microsoft Virtual Academy video also describes the Service Fabric health model and how it's used: <center><a target="_blank" href="https://mva.microsoft.com/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=tevZw56yC_1906218965">
<img src="./media/service-fabric-health-introduction/HealthIntroVid.png" WIDTH="360" HEIGHT="244">
</a></center></span></span>

> [!NOTE]
> <span data-ttu-id="24f92-112">이전에는 모니터링되는 업그레이드에 대한 요구를 해결하기 위해 상태 하위 시스템을 시작했습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-112">We started the health subsystem to address a need for monitored upgrades.</span></span> <span data-ttu-id="24f92-113">Service Fabric은 모니터링되는 응용 프로그램 및 클러스터 업그레이드를 제공하여 가동 중지 시간 없는 최대 가용성을 보장하고 사용자 개입을 최소화하거나 필요 없도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-113">Service Fabric provides monitored application and cluster upgrades that ensure full availability, no downtime and minimal to no user intervention.</span></span> <span data-ttu-id="24f92-114">이 목표를 달성하기 위해 업그레이드에서는 구성된 업그레이드 정책을 기초로 상태를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-114">To achieve these goals, the upgrade checks health based on configured upgrade policies.</span></span> <span data-ttu-id="24f92-115">상태가 바람직한 임계값에 부합하는 경우에만 업그레이드를 진행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-115">An upgrade can proceed only when health respects desired thresholds.</span></span> <span data-ttu-id="24f92-116">그렇지 않으면 관리자가 문제를 해결할 수 있도록 업그레이드가 자동으로 롤백되거나 일시 중지됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-116">Otherwise, the upgrade is either automatically rolled back or paused to give administrators a chance to fix the issues.</span></span> <span data-ttu-id="24f92-117">응용 프로그램 업그레이드에 대한 자세한 내용은 [이 문서](service-fabric-application-upgrade.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="24f92-117">To learn more about application upgrades, see [this article](service-fabric-application-upgrade.md).</span></span>
> 
> 

## <a name="health-store"></a><span data-ttu-id="24f92-118">Health 스토어</span><span class="sxs-lookup"><span data-stu-id="24f92-118">Health store</span></span>
<span data-ttu-id="24f92-119">Health 스토어는 클러스터의 엔터티에 대한 상태 관련 정보를 쉽게 검색하고 평가하기 위해 보관합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-119">The health store keeps health-related information about entities in the cluster for easy retrieval and evaluation.</span></span> <span data-ttu-id="24f92-120">또한 높은 가용성과 확장성을 제공할 수 있도록 서비스 패브릭 지속형 상태 저장 서비스로 구현됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-120">It is implemented as a Service Fabric persisted stateful service to ensure high availability and scalability.</span></span> <span data-ttu-id="24f92-121">Health 스토어는 **fabric:/System** 응용 프로그램의 일부로, 클러스터가 가동되어 실행될 때 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-121">The health store is part of the **fabric:/System** application, and it is available when the cluster is up and running.</span></span>

## <a name="health-entities-and-hierarchy"></a><span data-ttu-id="24f92-122">상태 엔터티 및 계층 구조</span><span class="sxs-lookup"><span data-stu-id="24f92-122">Health entities and hierarchy</span></span>
<span data-ttu-id="24f92-123">상태 엔터티는 여러 엔터티 간의 상호 작용 및 종속성을 캡처하는 논리적 계층 구조로 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-123">The health entities are organized in a logical hierarchy that captures interactions and dependencies among different entities.</span></span> <span data-ttu-id="24f92-124">상태 저장소는 Service Fabric 구성 요소로부터 수신한 보고서를 기준으로 상태 엔터티와 계층 구조를 자동으로 빌드합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-124">The health store automatically builds health entities and hierarchy based on reports received from Service Fabric components.</span></span>

<span data-ttu-id="24f92-125">상태 엔터티는 서비스 패브릭 엔터티를 미러링합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-125">The health entities mirror the Service Fabric entities.</span></span> <span data-ttu-id="24f92-126">(예: **상태 응용 프로그램 엔터티**가 클러스터에 배포된 응용 프로그램 인스턴스와 일치하는 반면, **상태 노드 엔터티**는 Service Fabric 클러스터 노드와 일치하는지 등.) 상태 계층 구조는 시스템 엔터티의 상호 작용을 캡처하며 고급 상태 평가를 위한 기준입니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-126">(For example, **health application entity** matches an application instance deployed in the cluster, while **health node entity** matches a Service Fabric cluster node.) The health hierarchy captures the interactions of the system entities, and it is the basis for advanced health evaluation.</span></span> <span data-ttu-id="24f92-127">[서비스 패브릭 기술 개요](service-fabric-technical-overview.md)에서 주요 서비스 패브릭 개념에 대해 알아볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-127">You can learn about key Service Fabric concepts in [Service Fabric technical overview](service-fabric-technical-overview.md).</span></span> <span data-ttu-id="24f92-128">응용 프로그램에 대한 자세한 내용은 [서비스 패브릭 응용 프로그램 모델](service-fabric-application-model.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="24f92-128">For more on application, see [Service Fabric application model](service-fabric-application-model.md).</span></span>

<span data-ttu-id="24f92-129">상태 엔터티 및 계층 구조를 사용하면 클러스터와 응용 프로그램에 대한 효과적인 보고, 디버깅 및 모니터링이 가능합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-129">The health entities and hierarchy allow the cluster and applications to be effectively reported, debugged, and monitored.</span></span> <span data-ttu-id="24f92-130">상태 모델은 클러스터에서 많이 이동되는 항목의 상태를 정확하게 *세분화* 하여 표현할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-130">The health model provides an accurate, *granular* representation of the health of the many moving pieces in the cluster.</span></span>

<span data-ttu-id="24f92-131">![상태 엔터티.][1]</span><span class="sxs-lookup"><span data-stu-id="24f92-131">![Health entities.][1]</span></span>
<span data-ttu-id="24f92-132">상태 엔터티는 부모-자식 관계에 따른 계층 구조로 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-132">The health entities, organized in a hierarchy based on parent-child relationships.</span></span>

[1]: ./media/service-fabric-health-introduction/servicefabric-health-hierarchy.png

<span data-ttu-id="24f92-133">상태 엔터티는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-133">The health entities are:</span></span>

* <span data-ttu-id="24f92-134">**클러스터**.</span><span class="sxs-lookup"><span data-stu-id="24f92-134">**Cluster**.</span></span> <span data-ttu-id="24f92-135">서비스 패브릭 클러스터의 상태를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-135">Represents the health of a Service Fabric cluster.</span></span> <span data-ttu-id="24f92-136">클러스터 상태 보고서에서는 전체 클러스터에 영향을 주는 상태를 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-136">Cluster health reports describe conditions that affect the entire cluster.</span></span> <span data-ttu-id="24f92-137">이러한 조건은 클러스터의 여러 엔터티나 클러스터 자체에 영향을 미칩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-137">These conditions affect multiple entities in the cluster or the cluster itself.</span></span> <span data-ttu-id="24f92-138">조건에 따라 보고자는 하나 이상의 비정상 상태인 자식으로 문제 범위를 축소할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-138">Based on the condition, the reporter can't narrow the issue down to one or more unhealthy children.</span></span> <span data-ttu-id="24f92-139">예를 들면 네트워크 분할 또는 통신 문제로 인한 클러스터의 스플릿 브레인이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-139">Examples include the brain of the cluster splitting due to network partitioning or communication issues.</span></span>
* <span data-ttu-id="24f92-140">**노드**.</span><span class="sxs-lookup"><span data-stu-id="24f92-140">**Node**.</span></span> <span data-ttu-id="24f92-141">서비스 패브릭 노드의 상태를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-141">Represents the health of a Service Fabric node.</span></span> <span data-ttu-id="24f92-142">노드 상태 보고서에서는 노드 기능에 영향을 주는 상태를 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-142">Node health reports describe conditions that affect the node functionality.</span></span> <span data-ttu-id="24f92-143">일반적으로 노드에서 실행되는 배포된 모든 엔터티에 영향을 줍니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-143">They typically affect all the deployed entities running on it.</span></span> <span data-ttu-id="24f92-144">예를 들면 노드에 디스크 공간(또는 메모리, 연결 등 기타 컴퓨터 전반적인 속성)이 부족하거나 노드가 다운되는 경우가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-144">Examples include node out of disk space (or other machine-wide properties, such as memory, connections) and when a node is down.</span></span> <span data-ttu-id="24f92-145">노드 엔터티는 노드 이름(문자열)으로 식별됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-145">The node entity is identified by the node name (string).</span></span>
* <span data-ttu-id="24f92-146">**응용 프로그램**.</span><span class="sxs-lookup"><span data-stu-id="24f92-146">**Application**.</span></span> <span data-ttu-id="24f92-147">클러스터에서 실행 중인 응용 프로그램 인스턴스의 상태를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-147">Represents the health of an application instance running in the cluster.</span></span> <span data-ttu-id="24f92-148">응용 프로그램 상태 보고서에서는 전체 응용 프로그램 상태에 영향을 주는 상태를 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-148">Application health reports describe conditions that affect the overall health of the application.</span></span> <span data-ttu-id="24f92-149">이 상태는 개별 자식(서비스 또는 배포된 응용 프로그램)으로 좁힐 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-149">They can't be narrowed down to individual children (services or deployed applications).</span></span> <span data-ttu-id="24f92-150">예를 들면 응용 프로그램에서 서로 다른 서비스 간의 종단간 상호 작용이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-150">Examples include the end-to-end interaction among different services in the application.</span></span> <span data-ttu-id="24f92-151">응용 프로그램 엔터티는 응용 프로그램 이름(URI)으로 식별됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-151">The application entity is identified by the application name (URI).</span></span>
* <span data-ttu-id="24f92-152">**서비스**.</span><span class="sxs-lookup"><span data-stu-id="24f92-152">**Service**.</span></span> <span data-ttu-id="24f92-153">클러스터에서 실행되는 서비스의 상태를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-153">Represents the health of a service running in the cluster.</span></span> <span data-ttu-id="24f92-154">서비스 상태 보고서에서는 전체 서비스 상태에 영향을 주는 상태를 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-154">Service health reports describe conditions that affect the overall health of the service.</span></span> <span data-ttu-id="24f92-155">보고자는 비정상 파티션 또는 복제본으로 문제 범위를 축소할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-155">The reporter can't narrow down the issue to an unhealthy partition or replica.</span></span> <span data-ttu-id="24f92-156">예를 들면 모든 파티션에 대해 문제를 일으키는 서비스 구성(포트 또는 외부 파일 공유 등)이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-156">Examples include a service configuration (such as port or external file share) that is causing issues for all partitions.</span></span> <span data-ttu-id="24f92-157">서비스 엔터티는 서비스 이름(URI)으로 식별됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-157">The service entity is identified by the service name (URI).</span></span>
* <span data-ttu-id="24f92-158">**파티션**.</span><span class="sxs-lookup"><span data-stu-id="24f92-158">**Partition**.</span></span> <span data-ttu-id="24f92-159">서비스 파티션의 상태를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-159">Represents the health of a service partition.</span></span> <span data-ttu-id="24f92-160">파티션 상태 보고서에서는 전체 복제본 세트에 영향을 주는 상태를 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-160">Partition health reports describe conditions that affect the entire replica set.</span></span> <span data-ttu-id="24f92-161">예를 들면 복제본의 수가 목표 개수 아래이거나 파티션이 쿼럼 손실 상태인 경우가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-161">Examples include when the number of replicas is below target count and when a partition is in quorum loss.</span></span> <span data-ttu-id="24f92-162">파티션 엔터티는 파티션 ID(GUID)로 식별됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-162">The partition entity is identified by the partition ID (GUID).</span></span>
* <span data-ttu-id="24f92-163">**복제본**.</span><span class="sxs-lookup"><span data-stu-id="24f92-163">**Replica**.</span></span> <span data-ttu-id="24f92-164">상태 저장 서비스 복제본 또는 상태 비저장 서비스 인스턴스의 상태를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-164">Represents the health of a stateful service replica or a stateless service instance.</span></span> <span data-ttu-id="24f92-165">복제본은 Watchdog 및 시스템 구성 요소가 응용 프로그램에 대해 보고할 수 있는 최소 단위입니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-165">The replica is the smallest unit that watchdogs and system components can report on for an application.</span></span> <span data-ttu-id="24f92-166">상태 저장 서비스의 경우 보조 복제본에 작업을 복제할 수 없는 주 복제본과 느린 복제를 예로 들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-166">For stateful services, examples include a primary replica that can't replicate operations to secondaries and slow replication.</span></span> <span data-ttu-id="24f92-167">또한 상태 비저장 인스턴스는 리소스 부족 또는 연결 문제가 있는 경우에 보고할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-167">Also, a stateless instance can report when it is running out of resources or has connectivity issues.</span></span> <span data-ttu-id="24f92-168">복제본 엔터티는 파티션 ID(GUID) 및 복제본 또는 인스턴스 ID(long)로 식별됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-168">The replica entity is identified by the partition ID (GUID) and the replica or instance ID (long).</span></span>
* <span data-ttu-id="24f92-169">**DeployedApplication**.</span><span class="sxs-lookup"><span data-stu-id="24f92-169">**DeployedApplication**.</span></span> <span data-ttu-id="24f92-170">*노드에서 실행되는 응용 프로그램*의 상태를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-170">Represents the health of an *application running on a node*.</span></span> <span data-ttu-id="24f92-171">배포된 응용 프로그램 상태 보고서에서는 동일한 노드에 배포된 서비스 패키지로 좁힐 수 없는 노드의 응용 프로그램별 상태를 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-171">Deployed application health reports describe conditions specific to the application on the node that can't be narrowed down to service packages deployed on the same node.</span></span> <span data-ttu-id="24f92-172">예를 들면 응용 프로그램 패키지를 해당 노드에 다운로드할 수 없는 경우 또는 해당 노드에서 응용 프로그램 보안 주체를 설정하는 데 문제가 있는 경우가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-172">Examples include errors when application package can't be downloaded on that node and issues setting up application security principals on the node.</span></span> <span data-ttu-id="24f92-173">배포된 응용 프로그램은 응용 프로그램 이름(URI) 및 노드 이름(문자열)으로 식별됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-173">The deployed application is identified by application name (URI) and node name (string).</span></span>
* <span data-ttu-id="24f92-174">**DeployedServicePackage**.</span><span class="sxs-lookup"><span data-stu-id="24f92-174">**DeployedServicePackage**.</span></span> <span data-ttu-id="24f92-175">클러스터의 노드에서 실행 중인 서비스 패키지의 상태를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-175">Represents the health of a service package running on a node in the cluster.</span></span> <span data-ttu-id="24f92-176">동일한 응용 프로그램에 대해 동일한 노드의 다른 서비스 패키지에 영향을 주지 않는 서비스 패키지별 상태를 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-176">It describes conditions specific to a service package that do not affect the other service packages on the same node for the same application.</span></span> <span data-ttu-id="24f92-177">예를 들면 서비스 패키지의 코드 패키지를 시작할 수 없거나 구성 패키지를 읽을 수 없는 경우가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-177">Examples include a code package in the service package that cannot be started and a configuration package that cannot be read.</span></span> <span data-ttu-id="24f92-178">배포된 서비스 패키지는 응용 프로그램 이름(URI), 노드 이름(문자열), 서비스 매니페스트 이름(문자열) 및 서비스 패키지 활성화 ID(문자열)로 식별됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-178">The deployed service package is identified by application name (URI), node name (string), service manifest name (string), and service package activation ID (string).</span></span>

<span data-ttu-id="24f92-179">상태 모델의 세분성을 통해 문제를 쉽게 감지하여 수정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-179">The granularity of the health model makes it easy to detect and correct issues.</span></span> <span data-ttu-id="24f92-180">예를 들어, 서비스가 응답하지 않는 경우 응용 프로그램 인스턴스가 비정상이라고 보고될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-180">For example, if a service is not responding, it is feasible to report that the application instance is unhealthy.</span></span> <span data-ttu-id="24f92-181">하지만 문제가 해당 응용 프로그램 내의 모든 서비스에 영향을 주지는 않을 수도 있으므로 그 수준에서 보고하는 것은 이상적이지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-181">Reporting at that level is not ideal, however, because the issue might not be affecting all the services within that application.</span></span> <span data-ttu-id="24f92-182">많은 정보가 해당 파티션을 가리키는 경우 보고서는 비정상 서비스에 적용되거나, 특정 자식 파티션에 적용되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-182">The report should be applied to the unhealthy service or to a specific child partition, if more information points to that partition.</span></span> <span data-ttu-id="24f92-183">데이터가 계층 구조를 통해 자동으로 표면화되며 비정상 파티션을 서비스 및 응용 프로그램 수준에서 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-183">The data automatically surfaces through the hierarchy, and an unhealthy partition is made visible at service and application levels.</span></span> <span data-ttu-id="24f92-184">이러한 집계는 문제의 근본 원인을 빠르고 정확하게 찾아내서 해결하는 데 도움이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-184">This aggregation helps to pinpoint and resolve the root cause of the issue more quickly.</span></span>

<span data-ttu-id="24f92-185">상태 계층 구조는 부모-자식 관계로 이루어집니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-185">The health hierarchy is composed of parent-child relationships.</span></span> <span data-ttu-id="24f92-186">클러스터는 노드 및 응용 프로그램으로 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-186">A cluster is composed of nodes and applications.</span></span> <span data-ttu-id="24f92-187">응용 프로그램에는 서비스 및 배포된 응용 프로그램이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-187">Applications have services and deployed applications.</span></span> <span data-ttu-id="24f92-188">배포된 응용 프로그램에는 배포된 서비스 패키지가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-188">Deployed applications have deployed service packages.</span></span> <span data-ttu-id="24f92-189">서비스에는 파티션이 있고 각 파티션에는 하나 이상의 복제본이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-189">Services have partitions, and each partition has one or more replicas.</span></span> <span data-ttu-id="24f92-190">노드 및 배포된 엔터티 간에는 특수한 관계가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-190">There is a special relationship between nodes and deployed entities.</span></span> <span data-ttu-id="24f92-191">기관 시스템 구성 요소(장애 조치(Failover) 관리자 서비스)에서 비정상 노드로 보고되면 배포된 응용 프로그램, 서비스 패키지 및 배포된 복제본에 영향을 줍니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-191">An unhealthy node as reported by its authority system component, the Failover Manager service, affects the deployed applications, service packages, and replicas deployed on it.</span></span>

<span data-ttu-id="24f92-192">상태 계층 구조는 최신 상태 보고서에 기반한 시스템의 최신 상태를 나타내며, 이 정보는 거의 실시간 정보입니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-192">The health hierarchy represents the latest state of the system based on the latest health reports, which is almost real-time information.</span></span>
<span data-ttu-id="24f92-193">내부 및 외부 Watchdog는 동일한 엔터티에 대해 응용 프로그램별 논리 또는 사용자 지정 모니터링 상태에 따라 보고할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-193">Internal and external watchdogs can report on the same entities based on application-specific logic or custom monitored conditions.</span></span> <span data-ttu-id="24f92-194">사용자 보고서는 시스템 보고서와 함께 존재합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-194">User reports coexist with the system reports.</span></span>

<span data-ttu-id="24f92-195">대규모 클라우드 서비스를 설계할 때 상태를 보고하고 이에 대응하는 방식에 대해 투자하도록 계획합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-195">Plan to invest in how to report and respond to health during the design of a large cloud service.</span></span> <span data-ttu-id="24f92-196">이러한 선투자는 서비스를 손쉽게 디버깅하고 모니터링하고 운영하게 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-196">This up-front investement makes the service easier to debug, monitor, and operate.</span></span>

## <a name="health-states"></a><span data-ttu-id="24f92-197">성능 상태</span><span class="sxs-lookup"><span data-stu-id="24f92-197">Health states</span></span>
<span data-ttu-id="24f92-198">서비스 패브릭은 3가지 성능 상태(정상, 경고 및 오류)를 사용하여 엔터티가 정상인지 여부를 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-198">Service Fabric uses three health states to describe whether an entity is healthy or not: OK, warning, and error.</span></span> <span data-ttu-id="24f92-199">Health 스토어로 전송되는 모든 보고서에 이러한 상태 중 하나를 지정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-199">Any report sent to the health store must specify one of these states.</span></span> <span data-ttu-id="24f92-200">상태 평가 결과는 이러한 상태 중 하나입니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-200">The health evaluation result is one of these states.</span></span>

<span data-ttu-id="24f92-201">사용 가능한 [성능 상태](https://docs.microsoft.com/dotnet/api/system.fabric.health.healthstate) 는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-201">The possible [health states](https://docs.microsoft.com/dotnet/api/system.fabric.health.healthstate) are:</span></span>

* <span data-ttu-id="24f92-202">**확인**.</span><span class="sxs-lookup"><span data-stu-id="24f92-202">**OK**.</span></span> <span data-ttu-id="24f92-203">엔터티가 정상입니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-203">The entity is healthy.</span></span> <span data-ttu-id="24f92-204">엔터티 또는 자식(해당하는 경우)에 대해 보고된 알려진 문제가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-204">There are no known issues reported on it or its children (when applicable).</span></span>
* <span data-ttu-id="24f92-205">**경고**.</span><span class="sxs-lookup"><span data-stu-id="24f92-205">**Warning**.</span></span> <span data-ttu-id="24f92-206">엔터티에 몇 가지 문제가 있지만 여전히 제대로 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-206">The entity has some issues, but it can still function correctly.</span></span> <span data-ttu-id="24f92-207">예를 들어, 지연이 있으나 아직 기능상의 문제는 없습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-207">For example, there are delays, but they do not cause any functional issues yet.</span></span> <span data-ttu-id="24f92-208">일부 경우 외부 개입 없이도 경고 상태가 자체 해결되기도 합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-208">In some cases, the warning condition may fix itself without external intervention.</span></span> <span data-ttu-id="24f92-209">이러한 경우 상태 보고서는 알림을 전달하고 상황에 대한 정보를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-209">In these cases, health reports raise awareness and provide visibility into what is going on.</span></span> <span data-ttu-id="24f92-210">또한 사용자 개입이 없으면 심각한 문제를 초래하는 경고 상태도 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-210">In other cases, the warning condition may degrade into a severe problem without user intervention.</span></span>
* <span data-ttu-id="24f92-211">**오류**.</span><span class="sxs-lookup"><span data-stu-id="24f92-211">**Error**.</span></span> <span data-ttu-id="24f92-212">엔터티가 비정상입니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-212">The entity is unhealthy.</span></span> <span data-ttu-id="24f92-213">엔터티가 제대로 작동하지 않으므로 해당 엔터티의 상태를 해결하는 조치를 취해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-213">Action should be taken to fix the state of the entity, because it can't function properly.</span></span>
* <span data-ttu-id="24f92-214">**알 수 없음**.</span><span class="sxs-lookup"><span data-stu-id="24f92-214">**Unknown**.</span></span> <span data-ttu-id="24f92-215">엔터티가 Health 스토어에 존재하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-215">The entity doesn't exist in the health store.</span></span> <span data-ttu-id="24f92-216">이 결과는 여러 구성 요소에서 결과를 병합하는 분산 쿼리에서 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-216">This result can be obtained from the distributed queries that merge results from multiple components.</span></span> <span data-ttu-id="24f92-217">예를 들어, 노드 목록 가져오기 쿼리는**FailoverManager**, **ClusterManager** 및 **HealthManager**로, 응용 프로그램 목록 가져오기 쿼리는 **ClusterManager** 및 **HealthManager**로 갑니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-217">For example, the get node list query goes to **FailoverManager**, **ClusterManager**, and **HealthManager**; get application list query goes to **ClusterManager** and **HealthManager**.</span></span> <span data-ttu-id="24f92-218">이들 쿼리는 여러 시스템 구성 요소의 결과를 병합합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-218">These queries merge results from multiple system components.</span></span> <span data-ttu-id="24f92-219">다른 시스템 구성 요소에서 상태 저장소에 없는 엔터티를 반환할 경우 병합된 결과에 알 수 없는 상태가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-219">If another system component returns an entity that is not present in health store, the merged result has unknown health state.</span></span> <span data-ttu-id="24f92-220">상태 보고서가 아직 처리되지 않았거나 엔터티가 삭제 후 정리되지 않아 엔터티가 저장소에 없습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-220">An entity is not in store because health reports have not yet been processed or the entity has been cleaned up after deletion.</span></span>

## <a name="health-policies"></a><span data-ttu-id="24f92-221">상태 정책</span><span class="sxs-lookup"><span data-stu-id="24f92-221">Health policies</span></span>
<span data-ttu-id="24f92-222">Health 스토어는 상태 정책을 적용하여 보고서와 해당 자식에 따라 엔터티가 정상인지 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-222">The health store applies health policies to determine whether an entity is healthy based on its reports and its children.</span></span>

> [!NOTE]
> <span data-ttu-id="24f92-223">상태 정책은 클러스터 매니페스트(클러스터 및 노드 상태 평가용) 또는 응용 프로그램 매니페스트(응용 프로그램 및 해당 자식 평가용)에서 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-223">Health policies can be specified in the cluster manifest (for cluster and node health evaluation) or in the application manifest (for application evaluation and any of its children).</span></span> <span data-ttu-id="24f92-224">또한 해당 평가에만 사용되는 사용자 지정 상태 평가 정책에서 상태 평가 요청을 전달할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-224">Health evaluation requests can also pass in custom health evaluation policies, which are used only for that evaluation.</span></span>
> 
> 

<span data-ttu-id="24f92-225">기본적으로 서비스 패브릭은 부모-자식 계층 구조 관계에 대한 엄격한 규칙(모든 것이 정상이어야 함)을 적용합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-225">By default, Service Fabric applies strict rules (everything must be healthy) for the parent-child hierarchical relationship.</span></span> <span data-ttu-id="24f92-226">자식 중 하나에 비정상 이벤트가 하나만 있어도 부모가 비정상으로 간주됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-226">If even one of the children has one unhealthy event, the parent is considered unhealthy.</span></span>

### <a name="cluster-health-policy"></a><span data-ttu-id="24f92-227">클러스터 상태 정책</span><span class="sxs-lookup"><span data-stu-id="24f92-227">Cluster health policy</span></span>
<span data-ttu-id="24f92-228">[클러스터 상태 정책](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy) 은 클러스터 성능 상태 및 노드 성능 상태를 평가하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-228">The [cluster health policy](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy) is used to evaluate the cluster health state and node health states.</span></span> <span data-ttu-id="24f92-229">이 정책은 클러스터 매니페스트에서 정의할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-229">The policy can be defined in the cluster manifest.</span></span> <span data-ttu-id="24f92-230">없는 경우는 기본 정책(0 허용 실패)이 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-230">If it is not present, the default policy (zero tolerated failures) is used.</span></span>
<span data-ttu-id="24f92-231">클러스터 상태 정책은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-231">The cluster health policy contains:</span></span>

* <span data-ttu-id="24f92-232">[ConsiderWarningAsError](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.considerwarningaserror).</span><span class="sxs-lookup"><span data-stu-id="24f92-232">[ConsiderWarningAsError](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.considerwarningaserror).</span></span> <span data-ttu-id="24f92-233">상태를 평가하는 동안 경고 상태 보고를 오류로 처리할지 여부를 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-233">Specifies whether to treat warning health reports as errors during health evaluation.</span></span> <span data-ttu-id="24f92-234">기본값: false입니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-234">Default: false.</span></span>
* <span data-ttu-id="24f92-235">[MaxPercentUnhealthyApplications](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.maxpercentunhealthyapplications).</span><span class="sxs-lookup"><span data-stu-id="24f92-235">[MaxPercentUnhealthyApplications](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.maxpercentunhealthyapplications).</span></span> <span data-ttu-id="24f92-236">클러스터에서 오류로 처리하기 전에 비정상 상태를 유지할 수 있는 응용 프로그램의 최대 허용 비율을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-236">Specifies the maximum tolerated percentage of applications that can be unhealthy before the cluster is considered in error.</span></span>
* <span data-ttu-id="24f92-237">[MaxPercentUnhealthyNodes](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.maxpercentunhealthynodes).</span><span class="sxs-lookup"><span data-stu-id="24f92-237">[MaxPercentUnhealthyNodes](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.maxpercentunhealthynodes).</span></span> <span data-ttu-id="24f92-238">클러스터에서 오류로 처리하기 전에 비정상 상태를 유지할 수 있는 노드의 최대 허용 비율을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-238">Specifies the maximum tolerated percentage of nodes that can be unhealthy before the cluster is considered in error.</span></span> <span data-ttu-id="24f92-239">대형 클러스터에는 항상 복구를 위해 다운되거나 중단되는 노드가 있으므로 이 비율은 이를 허용할 수 있도록 구성되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-239">In large clusters, some nodes are always down or out for repairs, so this percentage should be configured to tolerate that.</span></span>
* <span data-ttu-id="24f92-240">[ApplicationTypeHealthPolicyMap](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.applicationtypehealthpolicymap).</span><span class="sxs-lookup"><span data-stu-id="24f92-240">[ApplicationTypeHealthPolicyMap](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.applicationtypehealthpolicymap).</span></span> <span data-ttu-id="24f92-241">클러스터 상태를 평가하는 동안 응용 프로그램 유형 상태 정책 맵을 사용하여 특수 응용 프로그램 유형을 설명할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-241">The application type health policy map can be used during cluster health evaluation to describe special application types.</span></span> <span data-ttu-id="24f92-242">기본적으로 모든 응용 프로그램은 풀에 배치되고 MaxPercentUnhealthyApplications를 사용하여 평가됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-242">By default, all applications are put into a pool and evaluated with MaxPercentUnhealthyApplications.</span></span> <span data-ttu-id="24f92-243">일부 응용 프로그램 유형을 다르게 처리해야 하는 경우, 전역 풀에서 꺼낼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-243">If some application types should be treated differently, they can be taken out of the global pool.</span></span> <span data-ttu-id="24f92-244">대신, 맵 내의 해당 응용 프로그램 유형 이름과 연결된 백분율에 대해 평가됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-244">Instead, they are evaluated against the percentages associated with their application type name in the map.</span></span> <span data-ttu-id="24f92-245">예를 들어 클러스터에는 다양한 유형의 응용 프로그램 수천 개와 특수 응용 프로그램 유형의 제어 응용 프로그램 인스턴스가 약간 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-245">For example, in a cluster there are thousands of applications of different types, and a few control application instances of a special application type.</span></span> <span data-ttu-id="24f92-246">제어 응용 프로그램은 절대 오류가 발생하면 안 됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-246">The control applications should never be in error.</span></span> <span data-ttu-id="24f92-247">일부 실패를 허용하도록 전체 MaxPercentUnhealthyApplications를 20%로 설정할 수 있지만, 응용 프로그램 유형 "ControlApplicationType"의 경우에는 MaxPercentUnhealthyApplications를 0으로 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-247">You can specify global MaxPercentUnhealthyApplications to 20% to tolerate some failures, but for the application type "ControlApplicationType" set the MaxPercentUnhealthyApplications to 0.</span></span> <span data-ttu-id="24f92-248">이러한 방식으로, 여러 응용 프로그램 중 일부가 비정상 상태이더라도 전체 비정상 비율보다 낮으면 클러스터가 경고로 평가됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-248">This way, if some of the many applications are unhealthy, but below the global unhealthy percentage, the cluster would be evaluated to Warning.</span></span> <span data-ttu-id="24f92-249">경고 상태는 클러스터 업그레이드 또는 오류 상태에 의해 트리거되는 기타 모니터링에 영향을 주지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-249">A warning health state does not impact cluster upgrade or other monitoring triggered by Error health state.</span></span> <span data-ttu-id="24f92-250">하지만 제어 응용 프로그램 중 하나라도 잘못되면 클러스터가 비정상 상태가 되고, 이로 인해 클러스터 업그레이드는 업그레이드 구성에 따라 롤백 또는 차단됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-250">But even one control application in error would make cluster unhealthy, which triggers roll back or pauses the cluster upgrade, depending on the upgrade configuration.</span></span>
  <span data-ttu-id="24f92-251">맵에 정의된 응용 프로그램 유형의 경우 모든 응용 프로그램 인스턴스를 응용 프로그램 전체 풀에서 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-251">For the application types defined in the map, all application instances are taken out of the global pool of applications.</span></span> <span data-ttu-id="24f92-252">이러한 응용 프로그램은 맵의 특정 MaxPercentUnhealthyApplications를 사용하여 총 응용 프로그램 수를 기반으로 평가됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-252">They are evaluated based on the total number of applications of the application type, using the specific MaxPercentUnhealthyApplications from the map.</span></span> <span data-ttu-id="24f92-253">나머지 응용 프로그램은 전체 풀에 남아 있으며 MaxPercentUnhealthyApplications를 사용하여 평가됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-253">All the rest of the applications remain in the global pool and are evaluated with MaxPercentUnhealthyApplications.</span></span>

<span data-ttu-id="24f92-254">다음 예제는 클러스터 매니페스트에서 발췌한 내용입니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-254">The following example is an excerpt from a cluster manifest.</span></span> <span data-ttu-id="24f92-255">응용 프로그램 유형 맵에 항목을 정의하려면 매개 변수 이름 앞에 "ApplicationTypeMaxPercentUnhealthyApplications-"를 붙이고 그 뒤에 응용 프로그램 유형 이름을 붙이면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-255">To define entries in the application type map, prefix the parameter name with "ApplicationTypeMaxPercentUnhealthyApplications-", followed by the application type name.</span></span>

```xml
<FabricSettings>
  <Section Name="HealthManager/ClusterHealthPolicy">
    <Parameter Name="ConsiderWarningAsError" Value="False" />
    <Parameter Name="MaxPercentUnhealthyApplications" Value="20" />
    <Parameter Name="MaxPercentUnhealthyNodes" Value="20" />
    <Parameter Name="ApplicationTypeMaxPercentUnhealthyApplications-ControlApplicationType" Value="0" />
  </Section>
</FabricSettings>
```

### <a name="application-health-policy"></a><span data-ttu-id="24f92-256">응용 프로그램 상태 정책</span><span class="sxs-lookup"><span data-stu-id="24f92-256">Application health policy</span></span>
<span data-ttu-id="24f92-257">[응용 프로그램 상태 정책](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy) 은 응용 프로그램 및 해당 자식에 대해 이벤트 및 하위 상태 집계의 평가를 수행하는 방법을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-257">The [application health policy](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy) describes how the evaluation of events and child-states aggregation is done for applications and their children.</span></span> <span data-ttu-id="24f92-258">응용 프로그램 패키지의 응용 프로그램 매니페스트 **ApplicationManifest.xml**에서 정의할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-258">It can be defined in the application manifest, **ApplicationManifest.xml**, in the application package.</span></span> <span data-ttu-id="24f92-259">정책을 지정하지 않으면 상태 보고가 있거나 자식이 경고 또는 오류 성능 상태인 경우 서비스 패브릭에서 해당 엔터티를 비정상으로 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-259">If no policies are specified, Service Fabric assumes that the entity is unhealthy if it has a health report or a child at the warning or error health state.</span></span>
<span data-ttu-id="24f92-260">구성 가능한 정책은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-260">The configurable policies are:</span></span>

* <span data-ttu-id="24f92-261">[ConsiderWarningAsError](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.considerwarningaserror.aspx).</span><span class="sxs-lookup"><span data-stu-id="24f92-261">[ConsiderWarningAsError](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.considerwarningaserror.aspx).</span></span> <span data-ttu-id="24f92-262">상태를 평가하는 동안 경고 상태 보고를 오류로 처리할지 여부를 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-262">Specifies whether to treat warning health reports as errors during health evaluation.</span></span> <span data-ttu-id="24f92-263">기본값: false입니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-263">Default: false.</span></span>
* <span data-ttu-id="24f92-264">[MaxPercentUnhealthyDeployedApplications](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.maxpercentunhealthydeployedapplications).</span><span class="sxs-lookup"><span data-stu-id="24f92-264">[MaxPercentUnhealthyDeployedApplications](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.maxpercentunhealthydeployedapplications).</span></span> <span data-ttu-id="24f92-265">응용 프로그램에서 오류로 처리하기 전에 비정상 상태를 유지할 수 있는 배포된 응용 프로그램의 최대 허용 비율을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-265">Specifies the maximum tolerated percentage of deployed applications that can be unhealthy before the application is considered in error.</span></span> <span data-ttu-id="24f92-266">이 비율은 클러스터에서 응용 프로그램이 현재 배포되어 있는 노드 수에 대해 배포된 비정상 응용 프로그램의 수를 나누어 계산됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-266">This percentage is calculated by dividing the number of unhealthy deployed applications over the number of nodes that the applications are currently deployed on in the cluster.</span></span> <span data-ttu-id="24f92-267">계산값은 적은 수의 노드에서 오류 하나를 허용할 수 있도록 반올림됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-267">The computation rounds up to tolerate one failure on small numbers of nodes.</span></span> <span data-ttu-id="24f92-268">기본 비율: 0.</span><span class="sxs-lookup"><span data-stu-id="24f92-268">Default percentage: zero.</span></span>
* <span data-ttu-id="24f92-269">[DefaultServiceTypeHealthPolicy](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.defaultservicetypehealthpolicy).</span><span class="sxs-lookup"><span data-stu-id="24f92-269">[DefaultServiceTypeHealthPolicy](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.defaultservicetypehealthpolicy).</span></span> <span data-ttu-id="24f92-270">응용 프로그램에서 모든 서비스 유형의 기본 상태 정책을 대체하는 기본 서비스 유형 상태 정책을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-270">Specifies the default service type health policy, which replaces the default health policy for all service types in the application.</span></span>
* <span data-ttu-id="24f92-271">[ServiceTypeHealthPolicyMap](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.servicetypehealthpolicymap).</span><span class="sxs-lookup"><span data-stu-id="24f92-271">[ServiceTypeHealthPolicyMap](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.servicetypehealthpolicymap).</span></span> <span data-ttu-id="24f92-272">서비스 유형별 서비스 상태 정책의 맵을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-272">Provides a map of service health policies per service type.</span></span> <span data-ttu-id="24f92-273">이러한 정책은 지정된 서비스 유형의 기본 서비스 유형 상태 정책을 대체합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-273">These policies replace the default service type health policies for each specified service type.</span></span> <span data-ttu-id="24f92-274">예를 들어 응용 프로그램에 상태 비저장 게이트웨이 서비스 유형과 상태 저장 엔진 서비스 유형이 있다면, 평가를 위한 상태 정책을 다르게 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-274">For example, if an application has a stateless gateway service type and a stateful engine service type, you can configure the health policies for their evaluation differently.</span></span> <span data-ttu-id="24f92-275">서비스 유형별로 정책을 지정할 때 서비스의 상태를 좀더 세분화하여 제어할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-275">When you specify policy per service type, you can gain more granular control of the health of the service.</span></span>

### <a name="service-type-health-policy"></a><span data-ttu-id="24f92-276">서비스 유형 상태 정책</span><span class="sxs-lookup"><span data-stu-id="24f92-276">Service type health policy</span></span>
<span data-ttu-id="24f92-277">[서비스 유형 상태 정책](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy) 은 서비스 및 서비스의 자식을 평가 및 집계하는 방법을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-277">The [service type health policy](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy) specifies how to evaluate and aggregate the services and the children of services.</span></span> <span data-ttu-id="24f92-278">정책은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-278">The policy contains:</span></span>

* <span data-ttu-id="24f92-279">[MaxPercentUnhealthyPartitionsPerService](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy.maxpercentunhealthypartitionsperservice).</span><span class="sxs-lookup"><span data-stu-id="24f92-279">[MaxPercentUnhealthyPartitionsPerService](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy.maxpercentunhealthypartitionsperservice).</span></span> <span data-ttu-id="24f92-280">서비스를 비정상으로 처리하기 전에 허용되는 최대 비정상 파티션 비율을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-280">Specifies the maximum tolerated percentage of unhealthy partitions before a service is considered unhealthy.</span></span> <span data-ttu-id="24f92-281">기본 비율: 0.</span><span class="sxs-lookup"><span data-stu-id="24f92-281">Default percentage: zero.</span></span>
* <span data-ttu-id="24f92-282">[MaxPercentUnhealthyReplicasPerPartition](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy.maxpercentunhealthyreplicasperpartition).</span><span class="sxs-lookup"><span data-stu-id="24f92-282">[MaxPercentUnhealthyReplicasPerPartition](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy.maxpercentunhealthyreplicasperpartition).</span></span> <span data-ttu-id="24f92-283">파티션을 비정상으로 처리하기 전에 허용되는 최대 비정상 복제본 비율을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-283">Specifies the maximum tolerated percentage of unhealthy replicas before a partition is considered unhealthy.</span></span> <span data-ttu-id="24f92-284">기본 비율: 0.</span><span class="sxs-lookup"><span data-stu-id="24f92-284">Default percentage: zero.</span></span>
* <span data-ttu-id="24f92-285">[MaxPercentUnhealthyServices](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy.maxpercentunhealthyservices).</span><span class="sxs-lookup"><span data-stu-id="24f92-285">[MaxPercentUnhealthyServices](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy.maxpercentunhealthyservices).</span></span> <span data-ttu-id="24f92-286">응용 프로그램을 비정상으로 처리하기 전에 허용되는 최대 비정상 서비스 비율을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-286">Specifies the maximum tolerated percentage of unhealthy services before the application is considered unhealthy.</span></span> <span data-ttu-id="24f92-287">기본 비율: 0.</span><span class="sxs-lookup"><span data-stu-id="24f92-287">Default percentage: zero.</span></span>

<span data-ttu-id="24f92-288">다음 예제는 응용 프로그램 매니페스트에서 발췌한 내용입니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-288">The following example is an excerpt from an application manifest:</span></span>

```xml
    <Policies>
        <HealthPolicy ConsiderWarningAsError="true" MaxPercentUnhealthyDeployedApplications="20">
            <DefaultServiceTypeHealthPolicy
                   MaxPercentUnhealthyServices="0"
                   MaxPercentUnhealthyPartitionsPerService="10"
                   MaxPercentUnhealthyReplicasPerPartition="0"/>
            <ServiceTypeHealthPolicy ServiceTypeName="FrontEndServiceType"
                   MaxPercentUnhealthyServices="0"
                   MaxPercentUnhealthyPartitionsPerService="20"
                   MaxPercentUnhealthyReplicasPerPartition="0"/>
            <ServiceTypeHealthPolicy ServiceTypeName="BackEndServiceType"
                   MaxPercentUnhealthyServices="20"
                   MaxPercentUnhealthyPartitionsPerService="0"
                   MaxPercentUnhealthyReplicasPerPartition="0">
            </ServiceTypeHealthPolicy>
        </HealthPolicy>
    </Policies>
```

## <a name="health-evaluation"></a><span data-ttu-id="24f92-289">상태 평가</span><span class="sxs-lookup"><span data-stu-id="24f92-289">Health evaluation</span></span>
<span data-ttu-id="24f92-290">사용자 및 자동화된 서비스가 언제든지 엔터티의 상태를 평가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-290">Users and automated services can evaluate health for any entity at any time.</span></span> <span data-ttu-id="24f92-291">엔터티 상태를 평가하기 위해서는 Health 스토어에서 엔터티에 대한 모든 상태 보고서를 집계하고 모든 자식(해당하는 경우)을 평가합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-291">To evaluate an entity's health, the health store aggregates all health reports on the entity and evaluates all its children (when applicable).</span></span> <span data-ttu-id="24f92-292">상태 집계 알고리즘은 상태 보고서를 평가하는 방법과 자식 성능 상태(해당하는 경우)를 집계하는 방법을 지정하는 상태 정책을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-292">The health aggregation algorithm uses health policies that specify how to evaluate health reports and how to aggregate child health states (when applicable).</span></span>

### <a name="health-report-aggregation"></a><span data-ttu-id="24f92-293">상태 보고서 집계</span><span class="sxs-lookup"><span data-stu-id="24f92-293">Health report aggregation</span></span>
<span data-ttu-id="24f92-294">하나의 엔터티에는 서로 다른 속성에 대해 서로 다른 보고자(시스템 구성 요소 또는 Watchdog)에서 보낸 여러 상태 보고서가 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-294">One entity can have multiple health reports sent by different reporters (system components or watchdogs) on different properties.</span></span> <span data-ttu-id="24f92-295">집계에서는 연결된 상태 정책 특히, 응용 프로그램 또는 클러스터 상태 정책의 ConsiderWarningAsError 멤버를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-295">The aggregation uses the associated health policies, in particular the ConsiderWarningAsError member of application or cluster health policy.</span></span> <span data-ttu-id="24f92-296">ConsiderWarningAsError는 경고를 평가하는 방법을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-296">ConsiderWarningAsError specifies how to evaluate warnings.</span></span>

<span data-ttu-id="24f92-297">집계된 성능 상태는 해당 엔터티에 대한 *최악* 의 상태 보고서에 의해 트리거됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-297">The aggregated health state is triggered by the *worst* health reports on the entity.</span></span> <span data-ttu-id="24f92-298">오류 상태 보고서가 하나 이상 있는 경우, 집계된 성능 상태는 오류입니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-298">If there is at least one error health report, the aggregated health state is an error.</span></span>

![오류 보고서가 있는 상태 보고서 집계.][2]

<span data-ttu-id="24f92-300">하나 이상의 오류 상태 보고가 있는 상태 엔터티는 오류로 평가됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-300">A health entity that has one or more error health reports is evaluated as Error.</span></span> <span data-ttu-id="24f92-301">만료된 상태 보고서에 대해서도 그 상태와 상관없이 같은 내용이 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-301">The same is true for an expired health report, regardless of its health state.</span></span>

[2]: ./media/service-fabric-health-introduction/servicefabric-health-report-eval-error.png

<span data-ttu-id="24f92-302">오류 보고서가 없고 하나 이상의 경고가 있는 경우 집계된 성능 상태는 ConsiderWarningAsError 정책 플래그에 따라 경고 또는 오류 중 하나입니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-302">If there are no error reports and one or more warnings, the aggregated health state is either warning or error, depending on the ConsiderWarningAsError policy flag.</span></span>

![경고 보고서가 있고 ConsiderWarningAsError false인 상태 보고서 집계.][3]

<span data-ttu-id="24f92-304">경고 보고서가 있고 ConsiderWarningAsError가 false(기본값)로 설정된 상태 보고서 집계.</span><span class="sxs-lookup"><span data-stu-id="24f92-304">Health report aggregation with warning report and ConsiderWarningAsError set to false (default).</span></span>

[3]: ./media/service-fabric-health-introduction/servicefabric-health-report-eval-warning.png

### <a name="child-health-aggregation"></a><span data-ttu-id="24f92-305">자식 상태 집계</span><span class="sxs-lookup"><span data-stu-id="24f92-305">Child health aggregation</span></span>
<span data-ttu-id="24f92-306">엔터티의 집계된 성능 상태는 자식 성능 상태(해당하는 경우)를 반영합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-306">The aggregated health state of an entity reflects the child health states (when applicable).</span></span> <span data-ttu-id="24f92-307">자식 성능 상태를 집계하기 위한 알고리즘은 엔터티 유형에 따라 적용 가능한 상태 정책을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-307">The algorithm for aggregating child health states uses the health policies applicable based on the entity type.</span></span>

![자식 엔터티 상태 집계.][4]

<span data-ttu-id="24f92-309">상태 정책에 따른 자식 집계.</span><span class="sxs-lookup"><span data-stu-id="24f92-309">Child aggregation based on health policies.</span></span>

[4]: ./media/service-fabric-health-introduction/servicefabric-health-hierarchy-eval.png

<span data-ttu-id="24f92-310">Health 스토어에서 모든 자식을 평가한 후 비정상 자식에 대해 구성된 최대 비율에 따라 성능 상태를 집계합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-310">After the health store has evaluated all the children, it aggregates their health states based on the configured maximum percentage of unhealthy children.</span></span> <span data-ttu-id="24f92-311">이 비율은 엔터티 및 자식 유형을 기반으로 하는 정책에서 확보합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-311">This percentage is taken from the policy based on the entity and child type.</span></span>

* <span data-ttu-id="24f92-312">모든 자식이 정상 상태이면 자식 집계 성능 상태도 정상입니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-312">If all children have OK states, the child aggregated health state is OK.</span></span>
* <span data-ttu-id="24f92-313">자식에 정상 및 경고 상태가 모두 있으면 자식 집계 성능 상태는 경고입니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-313">If children have both OK and warning states, the child aggregated health state is warning.</span></span>
* <span data-ttu-id="24f92-314">허용된 최대 비정상 자식 비율에 들어가지 않는 오류 상태의 자식이 있으면 집계된 성능 상태는 오류입니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-314">If there are children with error states that do not respect the maximum allowed percentage of unhealthy children, the aggregated health state is an error.</span></span>
* <span data-ttu-id="24f92-315">오류 상태의 자식이 허용된 최대 비정상 자식 비율 내에 있으면 집계된 성능 상태는 경고입니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-315">If the children with error states respect the maximum allowed percentage of unhealthy children, the aggregated health state is warning.</span></span>

## <a name="health-reporting"></a><span data-ttu-id="24f92-316">상태 보고</span><span class="sxs-lookup"><span data-stu-id="24f92-316">Health reporting</span></span>
<span data-ttu-id="24f92-317">시스템 구성 요소, 시스템 패브릭 응용 프로그램 및 내부/외부 Watchdog에서 Service Fabric 엔터티에 대해 보고할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-317">System components, System Fabric applications, and internal/external watchdogs can report against Service Fabric entities.</span></span> <span data-ttu-id="24f92-318">보고자는 모니터링하는 상태를 바탕으로 모니터링되는 엔터티의 상태를 *로컬* 결정으로 파악합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-318">The reporters make *local* determinations of the health of the monitored entities, based on the conditions they are monitoring.</span></span> <span data-ttu-id="24f92-319">따라서 전역 상태를 살펴보거나 데이터를 집계할 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-319">They don't need to look at any global state or aggregate data.</span></span> <span data-ttu-id="24f92-320">바람직한 동작은 간단한 보고자를 갖는 것이지 보낼 정보를 추정하기 위해 많은 것들을 살펴봐야 하는 복잡한 조직체를 갖는 것이 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-320">The desired behavior is to have simple reporters, and not complex organisms that need to look at many things to infer what information to send.</span></span>

<span data-ttu-id="24f92-321">상태 데이터를 Health 스토어로 보내려면 보고자가 영향 받는 엔터티를 식별하여 상태 보고서를 작성해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-321">To send health data to the health store, a reporter needs to identify the affected entity and create a health report.</span></span> <span data-ttu-id="24f92-322">보고서를 보내려면 [FabricClient.HealthClient.ReportHealth](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.healthclient.reporthealth) API `Partition` 또는 `CodePackageActivationContext` 개체, PowerShell cmdlet 또는 REST에 노출된 상태 보고서 API를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-322">To send the report, use the [FabricClient.HealthClient.ReportHealth](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.healthclient.reporthealth) API, report health APIs exposed on the `Partition` or `CodePackageActivationContext` objects, PowerShell cmdlets, or REST.</span></span>

### <a name="health-reports"></a><span data-ttu-id="24f92-323">상태 보고서</span><span class="sxs-lookup"><span data-stu-id="24f92-323">Health reports</span></span>
<span data-ttu-id="24f92-324">클러스터의 각 엔터티에 대한 [상태 보고서](https://docs.microsoft.com/dotnet/api/system.fabric.health.healthreport) 에는 다음과 같은 정보가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-324">The [health reports](https://docs.microsoft.com/dotnet/api/system.fabric.health.healthreport) for each of the entities in the cluster contain the following information:</span></span>

* <span data-ttu-id="24f92-325">**SourceId**.</span><span class="sxs-lookup"><span data-stu-id="24f92-325">**SourceId**.</span></span> <span data-ttu-id="24f92-326">상태 이벤트의 보고자를 고유하게 식별하는 문자열입니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-326">A string that uniquely identifies the reporter of the health event.</span></span>
* <span data-ttu-id="24f92-327">**엔터티 식별자**.</span><span class="sxs-lookup"><span data-stu-id="24f92-327">**Entity identifier**.</span></span> <span data-ttu-id="24f92-328">보고서가 적용되는 엔터티를 식별합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-328">Identifies the entity where the report is applied.</span></span> <span data-ttu-id="24f92-329">다음과 같은 [엔터티 유형](service-fabric-health-introduction.md#health-entities-and-hierarchy)에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-329">It differs based on the [entity type](service-fabric-health-introduction.md#health-entities-and-hierarchy):</span></span>
  
  * <span data-ttu-id="24f92-330">클러스터.</span><span class="sxs-lookup"><span data-stu-id="24f92-330">Cluster.</span></span> <span data-ttu-id="24f92-331">없음.</span><span class="sxs-lookup"><span data-stu-id="24f92-331">None.</span></span>
  * <span data-ttu-id="24f92-332">노드.</span><span class="sxs-lookup"><span data-stu-id="24f92-332">Node.</span></span> <span data-ttu-id="24f92-333">노드 이름(문자열).</span><span class="sxs-lookup"><span data-stu-id="24f92-333">Node name  (string).</span></span>
  * <span data-ttu-id="24f92-334">응용 프로그램을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-334">Application.</span></span> <span data-ttu-id="24f92-335">응용 프로그램 이름(URI).</span><span class="sxs-lookup"><span data-stu-id="24f92-335">Application name (URI).</span></span> <span data-ttu-id="24f92-336">클러스터에 배포된 응용 프로그램 인스턴스의 이름을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-336">Represents the name of the application instance deployed in the cluster.</span></span>
  * <span data-ttu-id="24f92-337">서비스.</span><span class="sxs-lookup"><span data-stu-id="24f92-337">Service.</span></span> <span data-ttu-id="24f92-338">서비스 이름(URI).</span><span class="sxs-lookup"><span data-stu-id="24f92-338">Service name (URI).</span></span> <span data-ttu-id="24f92-339">클러스터에 배포된 서비스 인스턴스의 이름을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-339">Represents the name of the service instance deployed in the cluster.</span></span>
  * <span data-ttu-id="24f92-340">파티션.</span><span class="sxs-lookup"><span data-stu-id="24f92-340">Partition.</span></span> <span data-ttu-id="24f92-341">파티션 ID(GUID).</span><span class="sxs-lookup"><span data-stu-id="24f92-341">Partition ID (GUID).</span></span> <span data-ttu-id="24f92-342">파티션 고유 식별자를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-342">Represents the partition unique identifier.</span></span>
  * <span data-ttu-id="24f92-343">복제본.</span><span class="sxs-lookup"><span data-stu-id="24f92-343">Replica.</span></span> <span data-ttu-id="24f92-344">상태 저장 서비스 복제본 ID 또는 상태 비저장 서비스 인스턴스 ID(INT64).</span><span class="sxs-lookup"><span data-stu-id="24f92-344">The stateful service replica ID or the stateless service instance ID (INT64).</span></span>
  * <span data-ttu-id="24f92-345">DeployedApplication.</span><span class="sxs-lookup"><span data-stu-id="24f92-345">DeployedApplication.</span></span> <span data-ttu-id="24f92-346">응용 프로그램 이름(URI) 및 노드 이름(문자열).</span><span class="sxs-lookup"><span data-stu-id="24f92-346">Application name (URI) and node name (string).</span></span>
  * <span data-ttu-id="24f92-347">DeployedServicePackage.</span><span class="sxs-lookup"><span data-stu-id="24f92-347">DeployedServicePackage.</span></span> <span data-ttu-id="24f92-348">응용 프로그램 이름(URI), 노드 이름(문자열) 및 서비스 매니페스트 이름(문자열).</span><span class="sxs-lookup"><span data-stu-id="24f92-348">Application name (URI), node name (string), and service manifest name (string).</span></span>
* <span data-ttu-id="24f92-349">**속성**.</span><span class="sxs-lookup"><span data-stu-id="24f92-349">**Property**.</span></span> <span data-ttu-id="24f92-350">보고자가 엔터티의 특정 속성에 대한 상태 이벤트를 분류하도록 허용하는 *문자열* (고정된 열거형 아님).</span><span class="sxs-lookup"><span data-stu-id="24f92-350">A *string* (not a fixed enumeration) that allows the reporter to categorize the health event for a specific property of the entity.</span></span> <span data-ttu-id="24f92-351">예를 들어, 보고자 A는 Node01 "저장소" 속성의 상태를 보고할 수 있으며 보고자 B는 Node01 "연결" 속성의 상태를 보고할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-351">For example, reporter A can report the health of the Node01 "Storage" property and reporter B can report the health of the Node01 "Connectivity" property.</span></span> <span data-ttu-id="24f92-352">Health 스토어에서 이 보고서는 Node01 엔터티에 대한 별도의 상태 이벤트로 처리됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-352">In the health store, these reports are treated as separate health events for the Node01 entity.</span></span>
* <span data-ttu-id="24f92-353">**설명**.</span><span class="sxs-lookup"><span data-stu-id="24f92-353">**Description**.</span></span> <span data-ttu-id="24f92-354">보고자가 상태 이벤트에 대한 세부 정보를 제공하도록 허용하는 문자열.</span><span class="sxs-lookup"><span data-stu-id="24f92-354">A string that allows a reporter to provide detailed information about the health event.</span></span> <span data-ttu-id="24f92-355">**SourceId**, **속성** 및 **HealthState**는 보고서를 완벽하게 설명해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-355">**SourceId**, **Property**, and **HealthState** should fully describe the report.</span></span> <span data-ttu-id="24f92-356">설명을 통해 보고서에 대한 알기 쉬운 정보를 추가하면</span><span class="sxs-lookup"><span data-stu-id="24f92-356">The description adds human-readable information about the report.</span></span> <span data-ttu-id="24f92-357">관리자와 사용자가 상태 보고서를 손쉽게 이해할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-357">The text makes it easier for administrators and users to understand the health report.</span></span>
* <span data-ttu-id="24f92-358">**HealthState**.</span><span class="sxs-lookup"><span data-stu-id="24f92-358">**HealthState**.</span></span> <span data-ttu-id="24f92-359">보고서의 성능 상태를 설명하는 [열거형](service-fabric-health-introduction.md#health-states) .</span><span class="sxs-lookup"><span data-stu-id="24f92-359">An [enumeration](service-fabric-health-introduction.md#health-states) that describes the health state of the report.</span></span> <span data-ttu-id="24f92-360">허용되는 값은 정상, 경고 및 오류입니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-360">The accepted values are OK, Warning, and Error.</span></span>
* <span data-ttu-id="24f92-361">**TimeToLive**.</span><span class="sxs-lookup"><span data-stu-id="24f92-361">**TimeToLive**.</span></span> <span data-ttu-id="24f92-362">상태 보고서가 유효 상태를 유지하는 기간.</span><span class="sxs-lookup"><span data-stu-id="24f92-362">A timespan that indicates how long the health report is valid.</span></span> <span data-ttu-id="24f92-363">**RemoveWhenExpired**와 연결되어 있으므로 Health 스토어에서 만료된 이벤트를 평가하는 방법을 알 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-363">Coupled with **RemoveWhenExpired**, it lets the health store know how to evaluate expired events.</span></span> <span data-ttu-id="24f92-364">기본적으로 이 값은 무한대이고 보고서는 영원히 유효합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-364">By default, the value is infinite, and the report is valid forever.</span></span>
* <span data-ttu-id="24f92-365">**RemoveWhenExpired**.</span><span class="sxs-lookup"><span data-stu-id="24f92-365">**RemoveWhenExpired**.</span></span> <span data-ttu-id="24f92-366">부울.</span><span class="sxs-lookup"><span data-stu-id="24f92-366">A Boolean.</span></span> <span data-ttu-id="24f92-367">true로 설정되면 만료된 상태 보고서가 Health 스토어에서 자동으로 제거되며 엔터티 상태 평가에는 영향을 주지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-367">If set to true, the expired health report is automatically removed from the health store, and the report doesn't impact entity health evaluation.</span></span> <span data-ttu-id="24f92-368">보고서가 지정된 기간만 유효하고 보고자가 해당 보고서를 명시적으로 지울 필요가 없을 때 사용됩니다. Health 스토어에서 보고서를 삭제하는 데도 사용되며 예를 들어, Watchdog이 변경되어 이전 소스와 속성으로 보고서를 보내는 것을 중지합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-368">Used when the report is valid for a specified period of time only, and the reporter doesn't need to explicitly clear it out. It's also used to delete reports from the health store (for example, a watchdog is changed and stops sending reports with previous source and property).</span></span> <span data-ttu-id="24f92-369">RemoveWhenExpired와 함께 간략한 TimeToLive로 보고서를 보내 Health 스토어에서 이전 상태를 정리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-369">It can send a report with a brief TimeToLive along with RemoveWhenExpired to clear up any previous state from the health store.</span></span> <span data-ttu-id="24f92-370">이 값을 false로 설정하면 만료된 보고서가 상태 평가에서 오류로 처리됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-370">If the value is set to false, the expired report is treated as an error on the health evaluation.</span></span> <span data-ttu-id="24f92-371">false 값은 소스에서 이 속성에 대해 주기적으로 보고해야 함을 Health 스토어에 알려주는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-371">The false value signals to the health store that the source should report periodically on this property.</span></span> <span data-ttu-id="24f92-372">그렇지 않은 경우 Watchdog에 문제가 있는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-372">If it doesn't, then there must be something wrong with the watchdog.</span></span> <span data-ttu-id="24f92-373">Watchdog 상태는 이벤트를 오류로 간주하여 캡처됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-373">The watchdog's health is captured by considering the event as an error.</span></span>
* <span data-ttu-id="24f92-374">**SequenceNumber**.</span><span class="sxs-lookup"><span data-stu-id="24f92-374">**SequenceNumber**.</span></span> <span data-ttu-id="24f92-375">계속 증가되어야 하는 양의 정수로, 보고서의 순서를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-375">A positive integer that needs to be ever-increasing, it represents the order of the reports.</span></span> <span data-ttu-id="24f92-376">Health 스토어에서 네트워크 지연 또는 기타 문제 때문에 늦게 수신된 기한 경과된 보고서를 감지하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-376">It is used by the health store to detect stale reports that are received late because of network delays or other issues.</span></span> <span data-ttu-id="24f92-377">시퀀스 번호가 동일한 엔터티, 소스 및 속성에 대해 가장 최근에 적용된 번호보다 작거나 같은 경우, 보고서는 거부됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-377">A report is rejected if the sequence number is less than or equal to the most recently applied number for the same entity, source, and property.</span></span> <span data-ttu-id="24f92-378">시퀀스 번호를 지정하지 않으면 자동으로 생성됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-378">If it is not specified, the sequence number is generated automatically.</span></span> <span data-ttu-id="24f92-379">상태 전환에 대해 보고하는 경우에만 시퀀스 번호를 부여해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-379">It is necessary to put in the sequence number only when reporting on state transitions.</span></span> <span data-ttu-id="24f92-380">이 경우 소스는 전송할 보고서를 기억해야 하며 장애 조치(failover)를 위해 복구에 대한 정보를 유지해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-380">In this situation, the source needs to remember which reports it sent and keep the information for recovery on failover.</span></span>

<span data-ttu-id="24f92-381">SourceId, 엔터티 식별자, 속성 및 HealthState의 4가지 정보는 모든 상태 보고서에서 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-381">These four pieces of information--SourceId, entity identifier, Property, and HealthState--are required for every health report.</span></span> <span data-ttu-id="24f92-382">SourceId 문자열은 접두사 "**System.**"으로 시작할 수 없습니다. 이 접두사는 시스템 보고서용으로 예약되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-382">The SourceId string is not allowed to start with the prefix "**System.**", which is reserved for system reports.</span></span> <span data-ttu-id="24f92-383">동일한 엔터티인 경우 동일한 소스 및 속성에 대해 하나의 보고서만 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-383">For the same entity, there is only one report for the same source and property.</span></span> <span data-ttu-id="24f92-384">동일한 소스와 속성에 대한 여러 보고서는 상태 클라이언트(배치 처리된 경우) 또는 Health 스토어 중 한 군데에서 서로 재정의됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-384">Multiple reports for the same source and property override each other, either on the health client side (if they are batched) or on the health store side.</span></span> <span data-ttu-id="24f92-385">교체는 시퀀스 번호를 기준으로 수행됩니다. 최신 보고서(높은 시퀀스 번호)가 오래된 보고서를 대체합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-385">The replacement is based on sequence numbers; newer reports (with higher sequence numbers) replace older reports.</span></span>

### <a name="health-events"></a><span data-ttu-id="24f92-386">상태 이벤트</span><span class="sxs-lookup"><span data-stu-id="24f92-386">Health events</span></span>
<span data-ttu-id="24f92-387">내부적으로 Health 스토어에는 보고서와 추가 메타데이터의 모든 정보를 포함하는 [상태 이벤트](https://docs.microsoft.com/dotnet/api/system.fabric.health.healthevent)가 유지됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-387">Internally, the health store keeps [health events](https://docs.microsoft.com/dotnet/api/system.fabric.health.healthevent), which contain all the information from the reports, and additional metadata.</span></span> <span data-ttu-id="24f92-388">메타데이터에는 보고서를 상태 클라이언트에 제공한 시간 및 서버에서 보고서가 수정된 시간 등이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-388">The metadata includes the time the report was given to the health client and the time it was modified on the server side.</span></span> <span data-ttu-id="24f92-389">상태 이벤트는 [상태 쿼리](service-fabric-view-entities-aggregated-health.md#health-queries)로 반환됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-389">The health events are returned by [health queries](service-fabric-view-entities-aggregated-health.md#health-queries).</span></span>

<span data-ttu-id="24f92-390">추가된 메타데이터에는 다음이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-390">The added metadata contains:</span></span>

* <span data-ttu-id="24f92-391">**SourceUtcTimestamp**.</span><span class="sxs-lookup"><span data-stu-id="24f92-391">**SourceUtcTimestamp**.</span></span> <span data-ttu-id="24f92-392">보고서가 상태 클라이언트에 제공된 시간(협정 세계시).</span><span class="sxs-lookup"><span data-stu-id="24f92-392">The time the report was given to the health client (Coordinated Universal Time).</span></span>
* <span data-ttu-id="24f92-393">**LastModifiedUtcTimestamp**.</span><span class="sxs-lookup"><span data-stu-id="24f92-393">**LastModifiedUtcTimestamp**.</span></span> <span data-ttu-id="24f92-394">서버에서 보고서가 마지막으로 수정된 시간(협정 세계시).</span><span class="sxs-lookup"><span data-stu-id="24f92-394">The time the report was last modified on the server side (Coordinated Universal Time).</span></span>
* <span data-ttu-id="24f92-395">**IsExpired**.</span><span class="sxs-lookup"><span data-stu-id="24f92-395">**IsExpired**.</span></span> <span data-ttu-id="24f92-396">Health 스토어에 의해 쿼리가 실행된 시간에 보고서가 만료되었는지 여부를 나타내는 플래그.</span><span class="sxs-lookup"><span data-stu-id="24f92-396">A flag to indicate whether the report was expired when the query was executed by the health store.</span></span> <span data-ttu-id="24f92-397">RemoveWhenExpired가 false인 경우에만 이벤트가 만료될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-397">An event can be expired only if RemoveWhenExpired is false.</span></span> <span data-ttu-id="24f92-398">그렇지 않은 경우 쿼리에 의해 이벤트가 반환되지 않으며 스토어에서 제거됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-398">Otherwise, the event is not returned by query and is removed from the store.</span></span>
* <span data-ttu-id="24f92-399">**LastOkTransitionAt**, **LastWarningTransitionAt**, **LastErrorTransitionAt**.</span><span class="sxs-lookup"><span data-stu-id="24f92-399">**LastOkTransitionAt**, **LastWarningTransitionAt**, **LastErrorTransitionAt**.</span></span> <span data-ttu-id="24f92-400">마지막 정상/경고/오류 전환 시간.</span><span class="sxs-lookup"><span data-stu-id="24f92-400">The last time for OK/warning/error transitions.</span></span> <span data-ttu-id="24f92-401">이러한 필드는 이벤트에 대한 성능 상태 전환 기록을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-401">These fields give the history of the health state transitions for the event.</span></span>

<span data-ttu-id="24f92-402">상태 전환 필드는 보다 현명한 경고 또는 "시간에 따른" 상태 이벤트 정보에 대해 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-402">The state transition fields can be used for smarter alerts or "historical" health event information.</span></span> <span data-ttu-id="24f92-403">따라서 다음과 같은 시나리오가 가능해집니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-403">They enable scenarios such as:</span></span>

* <span data-ttu-id="24f92-404">속성이 X분 넘게 경고/오류 상태일 때 알림.</span><span class="sxs-lookup"><span data-stu-id="24f92-404">Alert when a property has been at warning/error for more than X minutes.</span></span> <span data-ttu-id="24f92-405">일정 기간에 대한 조건을 확인하면 임시 조건에 대한 경고를 방지합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-405">Checking the condition for a period of time avoids alerts on temporary conditions.</span></span> <span data-ttu-id="24f92-406">예를 들어, 5분 이상 경고 상태에 있었던 성능 상태가 (HealthState == 경고 및 현재 - LastWarningTransitionTime > 5분)으로 전환될 수 있는 경우.</span><span class="sxs-lookup"><span data-stu-id="24f92-406">For example, an alert if the health state has been warning for more than five minutes can be translated into (HealthState == Warning and Now - LastWarningTransitionTime > 5 minutes).</span></span>
* <span data-ttu-id="24f92-407">지난 X분 내에 변경된 상태에 대해서만 알림.</span><span class="sxs-lookup"><span data-stu-id="24f92-407">Alert only on conditions that have changed in the last X minutes.</span></span> <span data-ttu-id="24f92-408">지정된 시간 이전부터 보고서가 오류 상태인 경우, 이전에 이미 알린 상태이므로 무시할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-408">If a report was already at error before the specified time, it can be ignored because it was already signaled previously.</span></span>
* <span data-ttu-id="24f92-409">속성이 경고와 오류 사이에 전환되고 있는 경우, 얼마나 오래 비정상(즉, 정상이 아닌 상태)이었는지 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-409">If a property is toggling between warning and error, determine how long it has been unhealthy (that is, not OK).</span></span> <span data-ttu-id="24f92-410">예를 들어, 5분 이상 정상이 아니었던 속성이 (HealthState != 정상 및 현재 - LastOkTransitionTime > 5분)으로 전환될 수 있는 경우 알림.</span><span class="sxs-lookup"><span data-stu-id="24f92-410">For example, an alert if the property hasn't been healthy for more than five minutes can be translated into (HealthState != Ok and Now - LastOkTransitionTime > 5 minutes).</span></span>

## <a name="example-report-and-evaluate-application-health"></a><span data-ttu-id="24f92-411">예: 응용 프로그램 상태 보고 및 평가</span><span class="sxs-lookup"><span data-stu-id="24f92-411">Example: Report and evaluate application health</span></span>
<span data-ttu-id="24f92-412">다음 예에서는 소스 **MyWatchdog**의 **패브릭:/WordCount** 응용 프로그램에서 PowerShell을 통해 상태 보고서를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-412">The following example sends a health report through PowerShell on the application **fabric:/WordCount** from the source **MyWatchdog**.</span></span> <span data-ttu-id="24f92-413">상태 보고서에는 무한 TimeToLive와 함께 오류 성능 상태에서 상태 속성 Availability에 대한 정보가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-413">The health report contains information about the health property "availability" in an error health state, with infinite TimeToLive.</span></span> <span data-ttu-id="24f92-414">그런 다음, 집계된 성능 상태 오류 및 보고된 상태 이벤트를 상태 이벤트 목록으로 반환되는 응용 프로그램 상태를 쿼리합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-414">Then it queries the application health, which returns aggregated health state errors and the reported health events in the list of health events.</span></span>

```powershell
PS C:\> Send-ServiceFabricApplicationHealthReport –ApplicationName fabric:/WordCount –SourceId "MyWatchdog" –HealthProperty "Availability" –HealthState Error

PS C:\> Get-ServiceFabricApplicationHealth fabric:/WordCount -ExcludeHealthStatistics


ApplicationName                 : fabric:/WordCount
AggregatedHealthState           : Error
UnhealthyEvaluations            :
                                  Error event: SourceId='MyWatchdog', Property='Availability'.

ServiceHealthStates             :
                                  ServiceName           : fabric:/WordCount/WordCountService
                                  AggregatedHealthState : Error

                                  ServiceName           : fabric:/WordCount/WordCountWebService
                                  AggregatedHealthState : Ok

DeployedApplicationHealthStates :
                                  ApplicationName       : fabric:/WordCount
                                  NodeName              : _Node_0
                                  AggregatedHealthState : Ok

                                  ApplicationName       : fabric:/WordCount
                                  NodeName              : _Node_2
                                  AggregatedHealthState : Ok

                                  ApplicationName       : fabric:/WordCount
                                  NodeName              : _Node_3
                                  AggregatedHealthState : Ok

                                  ApplicationName       : fabric:/WordCount
                                  NodeName              : _Node_4
                                  AggregatedHealthState : Ok

                                  ApplicationName       : fabric:/WordCount
                                  NodeName              : _Node_1
                                  AggregatedHealthState : Ok

HealthEvents                    :
                                  SourceId              : System.CM
                                  Property              : State
                                  HealthState           : Ok
                                  SequenceNumber        : 360
                                  SentAt                : 3/22/2016 7:56:53 PM
                                  ReceivedAt            : 3/22/2016 7:56:53 PM
                                  TTL                   : Infinite
                                  Description           : Application has been created.
                                  RemoveWhenExpired     : False
                                  IsExpired             : False
                                  Transitions           : Error->Ok = 3/22/2016 7:56:53 PM, LastWarning = 1/1/0001 12:00:00 AM

                                  SourceId              : MyWatchdog
                                  Property              : Availability
                                  HealthState           : Error
                                  SequenceNumber        : 131032204762818013
                                  SentAt                : 3/23/2016 3:27:56 PM
                                  ReceivedAt            : 3/23/2016 3:27:56 PM
                                  TTL                   : Infinite
                                  Description           :
                                  RemoveWhenExpired     : False
                                  IsExpired             : False
                                  Transitions           : Ok->Error = 3/23/2016 3:27:56 PM, LastWarning = 1/1/0001 12:00:00 AM
```

## <a name="health-model-usage"></a><span data-ttu-id="24f92-415">상태 모델 사용</span><span class="sxs-lookup"><span data-stu-id="24f92-415">Health model usage</span></span>
<span data-ttu-id="24f92-416">상태 모델을 사용하면 클러스터 내의 여러 모니터에 모니터링 및 상태 결정이 분산되므로 클라우드 서비스 및 기본 서비스 패브릭 플랫폼을 확장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-416">The health model allows cloud services and the underlying Service Fabric platform to scale, because monitoring and health determinations are distributed among the different monitors within the cluster.</span></span>
<span data-ttu-id="24f92-417">다른 시스템에는 서비스에서 내보낸 모든 *잠재적으로* 유용한 정보를 구문 분석하는 단일 중앙 집중 서비스가 클러스터 수준에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-417">Other systems have a single, centralized service at the cluster level that parses all the *potentially* useful information emitted by services.</span></span> <span data-ttu-id="24f92-418">이 방법으로 인해 확장성이 저하됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-418">This approach hinders their scalability.</span></span> <span data-ttu-id="24f92-419">문제 및 잠재적 문제를 가능한 한 근본 원인에 가깝게 식별하는 데 도움이 되는 매우 구체적인 정보를 수집할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-419">It also doesn't allow them to collect specific information to help identify issues and potential issues as close to the root cause as possible.</span></span>

<span data-ttu-id="24f92-420">상태 모델은 모니터링 및 진단, 클러스터 및 응용 프로그램 상태 평가, 모니터링되는 업그레이드에서 굉장히 많이 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-420">The health model is used heavily for monitoring and diagnosis, for evaluating cluster and application health, and for monitored upgrades.</span></span> <span data-ttu-id="24f92-421">다른 서비스에서는 상태 데이터를 사용하여 자동 복구를 수행하고 클러스터 상태 기록을 작성하고 특정 상태에 대한 알림을 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="24f92-421">Other services use health data to perform automatic repairs, build cluster health history, and issue alerts on certain conditions.</span></span>

## <a name="next-steps"></a><span data-ttu-id="24f92-422">다음 단계</span><span class="sxs-lookup"><span data-stu-id="24f92-422">Next steps</span></span>
[<span data-ttu-id="24f92-423">서비스 패브릭 상태 보고서 보기</span><span class="sxs-lookup"><span data-stu-id="24f92-423">View Service Fabric health reports</span></span>](service-fabric-view-entities-aggregated-health.md)

[<span data-ttu-id="24f92-424">시스템 상태 보고서를 문제 해결에 사용</span><span class="sxs-lookup"><span data-stu-id="24f92-424">Use system health reports for troubleshooting</span></span>](service-fabric-understand-and-troubleshoot-with-system-health-reports.md)

[<span data-ttu-id="24f92-425">서비스 상태를 보고 및 확인하는 방법</span><span class="sxs-lookup"><span data-stu-id="24f92-425">How to report and check service health</span></span>](service-fabric-diagnostics-how-to-report-and-check-service-health.md)

[<span data-ttu-id="24f92-426">사용자 지정 서비스 패브릭 상태 보고서 추가</span><span class="sxs-lookup"><span data-stu-id="24f92-426">Add custom Service Fabric health reports</span></span>](service-fabric-report-health.md)

[<span data-ttu-id="24f92-427">로컬로 서비스 모니터링 및 진단</span><span class="sxs-lookup"><span data-stu-id="24f92-427">Monitor and diagnose services locally</span></span>](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md)

[<span data-ttu-id="24f92-428">서비스 패브릭 응용 프로그램 업그레이드</span><span class="sxs-lookup"><span data-stu-id="24f92-428">Service Fabric application upgrade</span></span>](service-fabric-application-upgrade.md)

