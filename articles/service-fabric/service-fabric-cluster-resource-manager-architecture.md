---
title: "관리자 아키텍처 aaaResource | Microsoft Docs"
description: "서비스 패브릭 클러스터 리소스 관리자의 아키텍처 개요"
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: 6c4421f9-834b-450c-939f-1cb4ff456b9b
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 9ea80273d0566a2ac25143ada3662875656b57b8
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="cluster-resource-manager-architecture-overview"></a><span data-ttu-id="27d97-103">클러스터 리소스 관리자 아키텍처 개요</span><span class="sxs-lookup"><span data-stu-id="27d97-103">Cluster resource manager architecture overview</span></span>
<span data-ttu-id="27d97-104">hello 서비스 패브릭 클러스터 리소스 관리자는 hello 클러스터에서 실행 되는 중앙 서비스입니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-104">hello Service Fabric Cluster Resource Manager is a central service that runs in hello cluster.</span></span> <span data-ttu-id="27d97-105">존중 tooresource 소비 및 모든 배치 규칙을 사용한 특히 hello 클러스터에서 hello 서비스의 원하는 hello 상태를 관리합니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-105">It manages hello desired state of hello services in hello cluster, particularly with respect tooresource consumption and any placement rules.</span></span> 

<span data-ttu-id="27d97-106">toomanage hello 클러스터 리소스를, hello 서비스 패브릭 클러스터 리소스 관리자는 여러 가지 정보가 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-106">toomanage hello resources in your cluster, hello Service Fabric Cluster Resource Manager must have several pieces of information:</span></span>

- <span data-ttu-id="27d97-107">현재 존재하는 서비스</span><span class="sxs-lookup"><span data-stu-id="27d97-107">Which services currently exist</span></span>
- <span data-ttu-id="27d97-108">각 서비스의 현재(또는 기본) 리소스 소비량</span><span class="sxs-lookup"><span data-stu-id="27d97-108">Each service's current (or default) resource consumption</span></span> 
- <span data-ttu-id="27d97-109">hello 남아 있는 클러스터 용량</span><span class="sxs-lookup"><span data-stu-id="27d97-109">hello remaining cluster capacity</span></span> 
- <span data-ttu-id="27d97-110">hello 용량 hello hello 클러스터 노드</span><span class="sxs-lookup"><span data-stu-id="27d97-110">hello capacity of hello nodes in hello cluster</span></span> 
- <span data-ttu-id="27d97-111">각 노드에서 사용 되는 리소스의 hello 양</span><span class="sxs-lookup"><span data-stu-id="27d97-111">hello amount of resources consumed on each node</span></span>

<span data-ttu-id="27d97-112">지정된 된 서비스의 리소스 소비량 hello 시간이 지남에 따라 변경 하 고 서비스는 일반적으로 한 가지 이상 유형의 리소스에 대 한 처리.</span><span class="sxs-lookup"><span data-stu-id="27d97-112">hello resource consumption of a given service can change over time, and services usually care about more than one type of resource.</span></span> <span data-ttu-id="27d97-113">다른 서비스에 있는 실제 물리적 리소스와 물리적 리소스를 모두 측정하고 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-113">Across different services, there may be both real physical and physical resources being measured.</span></span> <span data-ttu-id="27d97-114">서비스는 메모리 및 디스크 소비와 같은 물리적 메트릭을 추적할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-114">Services may track physical metrics like memory and disk consumption.</span></span> <span data-ttu-id="27d97-115">일반적으로 서비스는 "WorkQueueDepth" 또는 "TotalRequests"와 같은 논리 메트릭을 고려할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-115">More commonly, services may care about logical metrics - things like "WorkQueueDepth" or "TotalRequests".</span></span> <span data-ttu-id="27d97-116">논리 / 물리 메트릭 hello에 사용할 수 있습니다 동일한 클러스터입니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-116">Both logical and physical metrics can be used in hello same cluster.</span></span> <span data-ttu-id="27d97-117">메트릭 많은 서비스에서 공유할 수 또는 특정 tooa 특정 서비스 여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-117">Metrics can be shared across many services or be specific tooa particular service.</span></span>

## <a name="other-considerations"></a><span data-ttu-id="27d97-118">기타 고려 사항</span><span class="sxs-lookup"><span data-stu-id="27d97-118">Other considerations</span></span>
<span data-ttu-id="27d97-119">hello 소유자 및 hello 클러스터의 연산자 다를 수 있습니다 서비스 및 응용 프로그램 작성자 hello 또는 최소 a가에서 환영 같은 다른 hats 착용 사람입니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-119">hello owners and operators of hello cluster can be different from hello service and application authors, or at a minimum are hello same people wearing different hats.</span></span> <span data-ttu-id="27d97-120">응용 프로그램을 개발할 때는 필요한 사항을 알 것입니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-120">When you develop your application you know a few things about what it requires.</span></span> <span data-ttu-id="27d97-121">예상 있는 hello의을 사용 하는 리소스 및 여러 서비스를 배포 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-121">You have an estimate of hello resources it will consume and how different services should be deployed.</span></span> <span data-ttu-id="27d97-122">예를 들어 hello 웹 계층 hello 데이터베이스 서비스 하지 않아야 하는 동안 인터넷에 노출 하는 노드 toohello에 toorun이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-122">For example, hello web tier needs toorun on nodes exposed toohello Internet, while hello database services should not.</span></span> <span data-ttu-id="27d97-123">또 다른 예로, CPU 및 메모리 및 디스크 사용량에 대 한 hello 데이터 계층 서비스 주의 하는 동안 네트워크에서 hello 웹 서비스 아마도 제한 됩니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-123">As another example, hello web services are probably constrained by CPU and network, while hello data tier services care more about memory and disk consumption.</span></span> <span data-ttu-id="27d97-124">그러나 프로덕션 환경에서 해당 서비스에 대 한 라이브 사이트 인시던트 또는 업그레이드 toohello 서비스를 관리 하는 사용자를 처리 하는 hello 사람이 서로 다른 작업 toodo 개이고 다양 한 도구를 필요로 합니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-124">However, hello person handling a live-site incident for that service in production, or who is managing an upgrade toohello service has a different job toodo, and requires different tools.</span></span> 

<span data-ttu-id="27d97-125">Hello 클러스터와 서비스 둘 다은 고정 되지 않고</span><span class="sxs-lookup"><span data-stu-id="27d97-125">Both hello cluster and services are dynamic:</span></span>

- <span data-ttu-id="27d97-126">hello hello 클러스터의 노드 수가 수 확장 및 축소</span><span class="sxs-lookup"><span data-stu-id="27d97-126">hello number of nodes in hello cluster can grow and shrink</span></span>
- <span data-ttu-id="27d97-127">다양한 크기 및 형식의 노드는 오갈 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-127">Nodes of different sizes and types can come and go</span></span>
- <span data-ttu-id="27d97-128">서비스를 생성, 제거할 수 있고 원하는 리소스 할당 및 배치 규칙을 변경할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-128">Services can be created, removed, and change their desired resource allocations and placement rules</span></span>
- <span data-ttu-id="27d97-129">업그레이드 또는 기타 관리 작업 hello 응용 프로그램에서 hello 클러스터 통해 인프라 수준에서 롤백될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-129">Upgrades or other management operations can roll through hello cluster at hello application on infrastructure levels</span></span>
- <span data-ttu-id="27d97-130">언제든지 실패할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-130">Failures can happen at any time.</span></span>

## <a name="cluster-resource-manager-components-and-data-flow"></a><span data-ttu-id="27d97-131">클러스터 리소스 관리자 구성 요소 및 데이터 흐름</span><span class="sxs-lookup"><span data-stu-id="27d97-131">Cluster resource manager components and data flow</span></span>
<span data-ttu-id="27d97-132">hello 클러스터 리소스 관리자는 해당 서비스 내에서 각 서비스 개체에 의해 리소스의 각 서비스 및 hello 소비의 tootrack hello 요구 사항에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-132">hello Cluster Resource Manager has tootrack hello requirements of each service and hello consumption of resources by each service object within those services.</span></span> <span data-ttu-id="27d97-133">hello 클러스터 리소스 관리자는 개념적 두 부분으로 이루어져: 노드마다 및 내결함성 / 서비스에서 실행 되는 에이전트입니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-133">hello Cluster Resource Manager has two conceptual parts: agents that run on each node and a fault-tolerant service.</span></span> <span data-ttu-id="27d97-134">각 노드 트랙 부하에 hello 에이전트, 서비스, 집계에서 보고 하 고 주기적으로 보고 합니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-134">hello agents on each node track load reports from services, aggregate them, and periodically report them.</span></span> <span data-ttu-id="27d97-135">hello 클러스터 리소스 관리자 서비스는 hello 로컬 에이전트에서 모든 hello 정보를 수집 및 현재 구성에 따라 반응 합니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-135">hello Cluster Resource Manager service aggregates all hello information from hello local agents and reacts based on its current configuration.</span></span>

<span data-ttu-id="27d97-136">다음 다이어그램 hello를 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-136">Let’s look at hello following diagram:</span></span>

<span data-ttu-id="27d97-137"><center>
![리소스 분산 장치 아키텍처][Image1]
</center></span><span class="sxs-lookup"><span data-stu-id="27d97-137"><center>
![Resource Balancer Architecture][Image1]
</center></span></span>

<span data-ttu-id="27d97-138">런타임 중에 많은 내용이 변경될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-138">During runtime, there are many changes that could happen.</span></span> <span data-ttu-id="27d97-139">예를 들어 hello 양 가정해 일부 서비스 리소스의 변경 내용을 일부 서비스 장애를 사용 하 고 일부 노드가 참가 하 고 hello 클러스터를 떠날 합니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-139">For example, let’s say hello amount of resources some services consume changes, some services fail, and some nodes join and leave hello cluster.</span></span> <span data-ttu-id="27d97-140">노드의 모든 hello 변경 집계 하 고 주기적으로 toohello 클러스터 리소스 관리자 서비스 (1, 2)를 다시 집계, 분석 되며 저장 됩니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-140">All hello changes on a node are aggregated and periodically sent toohello Cluster Resource Manager service (1,2) where they are aggregated again, analyzed, and stored.</span></span> <span data-ttu-id="27d97-141">서비스 hello 변경 찾은 동작이 필요 여부를 결정 하는 몇 초 마다 (3).</span><span class="sxs-lookup"><span data-stu-id="27d97-141">Every few seconds that service looks at hello changes and determines if any actions are necessary (3).</span></span> <span data-ttu-id="27d97-142">예를 들어 비어 있는 일부 노드는 toohello 클러스터 추가 되었음을 확인할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-142">For example, it could notice that some empty nodes have been added toohello cluster.</span></span> <span data-ttu-id="27d97-143">결과적으로, toomove 일부 서비스 toothose 노드 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-143">As a result, it decides toomove some services toothose nodes.</span></span> <span data-ttu-id="27d97-144">hello 클러스터 리소스 관리자 수도 확인 특정 노드의 오버 로드 되었거나 특정 서비스가 실패 했거나 삭제 되었거나, 다른 위치에서 리소스를 확보 합니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-144">hello Cluster Resource Manager could also notice that a particular node is overloaded, or that certain services have failed or been deleted, freeing up resources elsewhere.</span></span>

<span data-ttu-id="27d97-145">보겠습니다 다이어그램을 다음 hello와 다음을 참조 하십시오.</span><span class="sxs-lookup"><span data-stu-id="27d97-145">Let’s look at hello following diagram and see what happens next.</span></span> <span data-ttu-id="27d97-146">보겠습니다 예를 들어 해당 hello 클러스터 리소스 관리자 결정 변경 내용이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-146">Let’s say that hello Cluster Resource Manager determines that changes are necessary.</span></span> <span data-ttu-id="27d97-147">다른 시스템 (특정 hello Failover Manager)에서 서비스 toomake hello 필요한 변경 내용으로 조정합니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-147">It coordinates with other system services (in particular hello Failover Manager) toomake hello necessary changes.</span></span> <span data-ttu-id="27d97-148">그런 다음 필요한 명령은 hello toohello 적절 한 노드 (4) 전송 됩니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-148">Then hello necessary commands are sent toohello appropriate nodes (4).</span></span> <span data-ttu-id="27d97-149">예를 들어 리소스 관리자 발견 Node5가 오버 로드 하 고 있으므로 Node5 tooNode4에서 toomove 서비스 B를 결정 하는 hello를 가정해 봅니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-149">For example, let's say hello Resource Manager noticed that Node5 was overloaded, and so decided toomove service B from Node5 tooNode4.</span></span> <span data-ttu-id="27d97-150">Hello 재구성 (5)의 hello 끝 hello 클러스터는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-150">At hello end of hello reconfiguration (5), hello cluster looks like this:</span></span>

<span data-ttu-id="27d97-151"><center>
![리소스 분산 장치 아키텍처][Image2]
</center></span><span class="sxs-lookup"><span data-stu-id="27d97-151"><center>
![Resource Balancer Architecture][Image2]
</center></span></span>

## <a name="next-steps"></a><span data-ttu-id="27d97-152">다음 단계</span><span class="sxs-lookup"><span data-stu-id="27d97-152">Next steps</span></span>
- <span data-ttu-id="27d97-153">클러스터 리소스 관리자 hello에 hello 클러스터를 설명 하는 많은 옵션이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-153">hello Cluster Resource Manager has many options for describing hello cluster.</span></span> <span data-ttu-id="27d97-154">toofind에 대 한 자세한 내용을 확인해이 문서에 [서비스 패브릭 클러스터를 설명 하는](./service-fabric-cluster-resource-manager-cluster-description.md)</span><span class="sxs-lookup"><span data-stu-id="27d97-154">toofind out more about them, check out this article on [describing a Service Fabric cluster](./service-fabric-cluster-resource-manager-cluster-description.md)</span></span>
- <span data-ttu-id="27d97-155">hello 클러스터 리소스 관리자의 기본 임무는 hello 클러스터를 리 밸런스 및 배치 규칙을 적용 합니다.</span><span class="sxs-lookup"><span data-stu-id="27d97-155">hello Cluster Resource Manager's primary duties are rebalancing hello cluster and enforcing placement rules.</span></span> <span data-ttu-id="27d97-156">이러한 동작은 구성하는 방법에 대한 자세한 내용은 [Service Fabric 클러스터 부하 분산](./service-fabric-cluster-resource-manager-balancing.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="27d97-156">For more information on configuring these behaviors, see [balancing your Service Fabric cluster](./service-fabric-cluster-resource-manager-balancing.md)</span></span>

[Image1]:./media/service-fabric-cluster-resource-manager-architecture/Service-Fabric-Resource-Manager-Architecture-Activity-1.png
[Image2]:./media/service-fabric-cluster-resource-manager-architecture/Service-Fabric-Resource-Manager-Architecture-Activity-2.png
