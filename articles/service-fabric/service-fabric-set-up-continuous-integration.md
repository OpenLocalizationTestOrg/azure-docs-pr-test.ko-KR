---
title: "Azure 마이크로 서비스에 대한 연속 통합 설정 | Microsoft Docs"
description: "VSTS(Visual Studio Team Services)를 사용한 Service Fabric 응용 프로그램에 대한 지속적인 통합 및 배포 설정 방법의 개요를 확인합니다."
services: service-fabric
documentationcenter: na
author: mthalman-msft
manager: timlt
editor: 
ms.assetid: 3e8c2290-9e7a-456a-9b2c-db44d1b3988d
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 12/06/2016
ms.author: mthalman;mikhegn
ms.openlocfilehash: 76a1e013e824910c7a489e345b6563ae3951378f
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/11/2017
---
# <a name="set-up-service-fabric-continuous-integration-and-deployment-with-visual-studio-team-services"></a><span data-ttu-id="d6469-103">Visual Studio Team Services로 Service Fabric 연속 통합 및 배포 설정</span><span class="sxs-lookup"><span data-stu-id="d6469-103">Set up Service Fabric continuous integration and deployment with Visual Studio Team Services</span></span>
<span data-ttu-id="d6469-104">이 문서에서는 VSTS(Visual Studio Team Services)를 사용한 Azure Service Fabric 응용 프로그램에 대한 지속적인 통합 및 배포를 설정하는 단계를 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-104">This article describes the steps to set up continuous integration and deployment for an Azure Service Fabric application by using Visual Studio Team Services (VSTS).</span></span>

<span data-ttu-id="d6469-105">이 문서는 최신 절차를 반영하며 시간이 지나면 변경될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-105">This document reflects the current procedure and is expected to change over time.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="d6469-106">필수 조건</span><span class="sxs-lookup"><span data-stu-id="d6469-106">Prerequisites</span></span>
<span data-ttu-id="d6469-107">시작하려면 이 단계를 따르세요.</span><span class="sxs-lookup"><span data-stu-id="d6469-107">To get started, follow these steps:</span></span>

1. <span data-ttu-id="d6469-108">Team Services 계정에 대한 액세스 권한이 있는지 확인하거나 직접 [계정을 만듭니다](https://www.visualstudio.com/docs/setup-admin/team-services/sign-up-for-visual-studio-team-services) .</span><span class="sxs-lookup"><span data-stu-id="d6469-108">Ensure that you have access to a Team Services account or [create one](https://www.visualstudio.com/docs/setup-admin/team-services/sign-up-for-visual-studio-team-services) yourself.</span></span>
2. <span data-ttu-id="d6469-109">Team Services 팀 프로젝트에 대한 액세스 권한이 있는지 확인하거나 직접 [프로젝트를 만듭니다](https://www.visualstudio.com/docs/setup-admin/create-team-project) .</span><span class="sxs-lookup"><span data-stu-id="d6469-109">Ensure that you have access to a Team Services team project or [create one](https://www.visualstudio.com/docs/setup-admin/create-team-project) yourself.</span></span>
3. <span data-ttu-id="d6469-110">응용 프로그램을 배포할 수 있는 Service Fabric 클러스터가 있는지 확인하거나 [Azure Portal](service-fabric-cluster-creation-via-portal.md), [Azure Resource Manager 템플릿](service-fabric-cluster-creation-via-arm.md) 또는 [Visual Studio](service-fabric-cluster-creation-via-visual-studio.md)를 사용하여 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-110">Ensure that you have a Service Fabric cluster to which you can deploy your application or create one using the [Azure portal](service-fabric-cluster-creation-via-portal.md), an [Azure Resource Manager template](service-fabric-cluster-creation-via-arm.md), or [Visual Studio](service-fabric-cluster-creation-via-visual-studio.md).</span></span>
4. <span data-ttu-id="d6469-111">서비스 패브릭 응용 프로그램(.sfproj) 프로젝트를 이미 만들었는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-111">Ensure that you have already created a Service Fabric Application (.sfproj) project.</span></span> <span data-ttu-id="d6469-112">서비스 패브릭 SDK 2.1 이상으로 만들었거나 업그레이드한 프로젝트가 있어야 합니다(.sfproj 파일에는 1.1 이상의 ProjectVersion 속성 값이 포함되어야 함).</span><span class="sxs-lookup"><span data-stu-id="d6469-112">You must have a project that was created or upgraded with Service Fabric SDK 2.1 or higher (the .sfproj file should contain a ProjectVersion property value of 1.1 or higher).</span></span>

> [!NOTE]
> <span data-ttu-id="d6469-113">사용자 지정 빌드 에이전트는 더 이상 필요하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-113">Custom build agents are no longer required.</span></span> <span data-ttu-id="d6469-114">Team Services 호스트 에이전트는 이제 서비스 패브릭 클러스터 관리 소프트웨어가 미리 설치된 상태로 제공되므로 해당 에이전트에서 직접 응용 프로그램을 배포할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-114">Team Services hosted agents now come pre-installed with Service Fabric cluster management software, allowing for deployment of your applications directly from those agents.</span></span>
> 
> 

## <a name="configure-and-share-your-source-files"></a><span data-ttu-id="d6469-115">소스 파일 구성 및 공유</span><span class="sxs-lookup"><span data-stu-id="d6469-115">Configure and share your source files</span></span>
<span data-ttu-id="d6469-116">가장 먼저 할 일은 Team Services 내에서 실행할 배포 프로세스에 사용할 게시 프로필을 준비하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-116">The first thing you want to do is prepare a publish profile for use by the deployment process that executes within Team Services.</span></span>  <span data-ttu-id="d6469-117">게시 프로필은 이전에 준비한 클러스터를 대상으로 지정하도록 구성해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-117">The publish profile should be configured to target the cluster that you've previously prepared:</span></span>

1. <span data-ttu-id="d6469-118">연속 통합 워크플로로 사용할 응용 프로그램 프로젝트 내에서 게시 프로필을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-118">Choose a publish profile within your Application project that you want to use for your continuous integration workflow.</span></span> <span data-ttu-id="d6469-119">원격 클러스터에 응용 프로그램을 게시하는 방법은 [게시 지침](service-fabric-publish-app-remote-cluster.md)을 따릅니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-119">Follow the [publish instructions](service-fabric-publish-app-remote-cluster.md) on how to publish an application to a remote cluster.</span></span> <span data-ttu-id="d6469-120">그러나 실제로 응용 프로그램을 게시할 필요는 없습니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-120">You don't actually need to publish your application though.</span></span> <span data-ttu-id="d6469-121">모든 정보를 올바르게 구성한 후 게시 대화 상자에서 **저장** 하이퍼링크를 클릭하면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-121">You can click the **Save** hyperlink in the publish dialog once you have configured things appropriately.</span></span>
2. <span data-ttu-id="d6469-122">Team Services 내에서 이루어질 각 배포에 대해 응용 프로그램을 업그레이드하려면 업그레이드를 사용하도록 게시 프로필을 구성하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-122">If you want your application to be upgraded for each deployment that occurs within Team Services, you want to configure the publish profile to enable upgrade.</span></span> <span data-ttu-id="d6469-123">1단계에 사용한 것과 같은 게시 대화 상자에서 **응용 프로그램 업그레이드** 확인란을 선택했는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-123">In the same publish dialog used in step 1, ensure that the **Upgrade the Application** checkbox is checked.</span></span>  <span data-ttu-id="d6469-124">[추가 업그레이드 설정 구성](service-fabric-visualstudio-configure-upgrade.md)에 대해 더 자세히 알아봅니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-124">Learn more about [configuring additional upgrade settings](service-fabric-visualstudio-configure-upgrade.md).</span></span> <span data-ttu-id="d6469-125">**저장** 하이퍼링크를 클릭하여 설정을 게시 프로필에 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-125">Click the **Save** hyperlink to save the settings to the publish profile.</span></span>
3. <span data-ttu-id="d6469-126">게시 프로필에 대한 변경 내용을 저장했는지 확인하고 게시 대화 상자를 취소합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-126">Ensure that you've saved your changes to the publish profile and cancel the publish dialog.</span></span>
4. <span data-ttu-id="d6469-127">이제 [응용 프로그램 프로젝트 소스 파일을 Team Services와 공유](https://www.visualstudio.com/docs/setup-admin/team-services/connect-to-visual-studio-team-services#vs) 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-127">Now it's time to [share your Application project source files](https://www.visualstudio.com/docs/setup-admin/team-services/connect-to-visual-studio-team-services#vs) with Team Services.</span></span> <span data-ttu-id="d6469-128">소스 파일을 Team Services에서 액세스할 수 있으면 이제 빌드 생성의 다음 단계로 이동할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-128">Once your source files are accessible in Team Services, you can now move on to the next step of generating builds.</span></span> 

## <a name="create-a-build-definition"></a><span data-ttu-id="d6469-129">빌드 정의 만들기</span><span class="sxs-lookup"><span data-stu-id="d6469-129">Create a build definition</span></span>
<span data-ttu-id="d6469-130">Team Services 빌드 정의는 순차적으로 실행되는 빌드 단계 집합으로 구성된 워크플로를 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-130">A Team Services build definition describes a workflow that is composed of a set of build steps that are executed sequentially.</span></span> <span data-ttu-id="d6469-131">만들려는 빌드 정의의 목표는 응용 프로그램을 배포하는 데 사용할 수 있는 Service Fabric 응용 프로그램 패키지 및 기타 아티팩트를 생성하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-131">The goal of the build definition that you are creating is to produce a Service Fabric application package, and other artifacts, that can be used to deploy the application.</span></span> <span data-ttu-id="d6469-132">Team Services [빌드 정의](https://www.visualstudio.com/docs/build/define/create)에 대해 자세히 알아봅니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-132">Learn more about Team Services [build definitions](https://www.visualstudio.com/docs/build/define/create).</span></span>

### <a name="create-a-definition-from-the-build-template"></a><span data-ttu-id="d6469-133">빌드 템플릿에서 정의 만들기</span><span class="sxs-lookup"><span data-stu-id="d6469-133">Create a definition from the build template</span></span>
1. <span data-ttu-id="d6469-134">Visual Studio Team Services에서 팀 프로젝트를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-134">Open your team project in Visual Studio Team Services.</span></span>
2. <span data-ttu-id="d6469-135">**빌드** 탭을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-135">Select the **Build** tab.</span></span>
3. <span data-ttu-id="d6469-136">녹색 **+** 기호를 선택하여 새 빌드 정의를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-136">Select the green **+** sign to create a new build definition.</span></span>
4. <span data-ttu-id="d6469-137">이때 열리는 대화 상자의 **빌드** 템플릿 범주 내에서 **Azure Service Fabric 응용 프로그램**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-137">In the dialog that opens, select **Azure Service Fabric Application** within the **Build** template category.</span></span>
5. <span data-ttu-id="d6469-138">**다음**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-138">Select **Next**.</span></span>
6. <span data-ttu-id="d6469-139">서비스 패브릭 응용 프로그램과 연결된 리포지토리 및 분기를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-139">Select the repository and branch associated with your Service Fabric application.</span></span>
7. <span data-ttu-id="d6469-140">사용하려는 에이전트 큐를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-140">Select the agent queue you wish to use.</span></span> <span data-ttu-id="d6469-141">호스트 에이전트가 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-141">Hosted agents are supported.</span></span>
8. <span data-ttu-id="d6469-142">**만들기**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-142">Select **Create**.</span></span>
9. <span data-ttu-id="d6469-143">빌드 정의를 저장하고 이름을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-143">Save the build definition and provide a name.</span></span>
10. <span data-ttu-id="d6469-144">다음 단락은 템플릿에 의해 생성되는 빌드 단계에 대한 설명입니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-144">The following paragraph is a description of the build steps generated by the template:</span></span>

| <span data-ttu-id="d6469-145">빌드 단계</span><span class="sxs-lookup"><span data-stu-id="d6469-145">Build step</span></span> | <span data-ttu-id="d6469-146">설명</span><span class="sxs-lookup"><span data-stu-id="d6469-146">Description</span></span> |
| --- | --- |
| <span data-ttu-id="d6469-147">NuGet 복원</span><span class="sxs-lookup"><span data-stu-id="d6469-147">NuGet restore</span></span> |<span data-ttu-id="d6469-148">솔루션에 대한 NuGet 패키지를 복원합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-148">Restores the NuGet packages for the solution.</span></span> |
| <span data-ttu-id="d6469-149">솔루션 \*.sln 빌드</span><span class="sxs-lookup"><span data-stu-id="d6469-149">Build solution \*.sln</span></span> |<span data-ttu-id="d6469-150">전체 솔루션을 빌드합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-150">Builds the entire solution.</span></span> |
| <span data-ttu-id="d6469-151">솔루션 \*.sfproj 빌드</span><span class="sxs-lookup"><span data-stu-id="d6469-151">Build solution \*.sfproj</span></span> |<span data-ttu-id="d6469-152">응용 프로그램을 배포하는 데 사용할 Service Fabric 응용 프로그램 패키지를 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-152">Generates the Service Fabric application package that is used to deploy the application.</span></span> <span data-ttu-id="d6469-153">응용 프로그램 패키지 위치는 빌드의 아티팩트 디렉터리 내에 있도록 지정됩니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-153">The application package location is specified to be within the build's artifact directory.</span></span> |
| <span data-ttu-id="d6469-154">서비스 패브릭 앱 버전 업데이트</span><span class="sxs-lookup"><span data-stu-id="d6469-154">Update Service Fabric App Versions</span></span> |<span data-ttu-id="d6469-155">업그레이드 지원이 가능하도록 응용 프로그램 패키지의 매니페스트에 포함된 버전 값을 업데이트합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-155">Updates the version values contained in the application package's manifest files to allow for upgrade support.</span></span> <span data-ttu-id="d6469-156">자세한 내용은 [작업 설명서 페이지](https://go.microsoft.com/fwlink/?LinkId=820529) 를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="d6469-156">See the [task documentation page](https://go.microsoft.com/fwlink/?LinkId=820529) for more information.</span></span> |
| <span data-ttu-id="d6469-157">파일 복사</span><span class="sxs-lookup"><span data-stu-id="d6469-157">Copy Files</span></span> |<span data-ttu-id="d6469-158">게시 프로필 및 응용 프로그램 매개 변수 파일을 배포에 사용할 빌드의 아티팩트에 복사합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-158">Copies the publish profile and application parameters files to the build's artifacts to be consumed for deployment.</span></span> |
| <span data-ttu-id="d6469-159">아티팩트 게시</span><span class="sxs-lookup"><span data-stu-id="d6469-159">Publish Artifact</span></span> |<span data-ttu-id="d6469-160">빌드의 아티팩트를 게시합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-160">Publishes the build's artifacts.</span></span> <span data-ttu-id="d6469-161">릴리스 정의가 빌드의 아티팩트를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-161">Allows a release definition to consume the build's artifacts.</span></span> |

### <a name="verify-the-default-set-of-tasks"></a><span data-ttu-id="d6469-162">기본 작업 집합 확인</span><span class="sxs-lookup"><span data-stu-id="d6469-162">Verify the default set of tasks</span></span>
1. <span data-ttu-id="d6469-163">**NuGet 복원** 및 **빌드 솔루션** 빌드 단계에 대한 **솔루션** 입력 필드를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-163">Verify the **Solution** input field for the **NuGet restore** and **Build solution** build steps.</span></span>  <span data-ttu-id="d6469-164">기본적으로 이러한 빌드 단계는 연결된 리포지토리에 포함된 모든 솔루션 파일에 대해 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-164">By default, these build steps execute upon all solution files that are contained in the associated repository.</span></span>  <span data-ttu-id="d6469-165">빌드 정의가 이러한 솔루션 파일 중 하나에서만 작동하도록 하려면 해당 파일에 대한 경로를 명시적으로 업데이트해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-165">If you only want the build definition to operate on one of those solution files, you need to explicitly update the path to that file.</span></span>
2. <span data-ttu-id="d6469-166">**패키지 응용 프로그램** 빌드 단계에 대한 **솔루션** 입력 필드를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-166">Verify the **Solution** input field for the **Package application** build step.</span></span>  <span data-ttu-id="d6469-167">기본적으로 이 빌드 단계는 리포지토리에 서비스 패브릭 응용 프로그램 프로젝트(.sfproj)가 한 개만 있다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-167">By default, this build step assumes only one Service Fabric Application project (.sfproj) exists in the repository.</span></span>  <span data-ttu-id="d6469-168">리포지토리에 그러한 파일이 여러 개 있고 그 중 하나만을 이 빌드 정의에 대상으로 지정하려면 해당 파일에 대한 경로를 명시적으로 업데이트해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-168">If you have multiple such files in your repository and want to target only one of them for this build definition, you need to explicitly update the path to that file.</span></span>  <span data-ttu-id="d6469-169">리포지토리 내에 응용 프로그램 프로젝트 여러 개를 패키징하려면 빌드 정의에 각각 응용 프로그램 프로젝트를 대상으로 지정하는 추가 **Visual Studio 빌드** 단계를 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-169">If you want to package multiple Application projects in your repository, you need to create additional **Visual Studio Build** steps in the build definition that each target an Application project.</span></span>  <span data-ttu-id="d6469-170">또한 패키지 위치가 각 단계에 대해 고유하도록 해당 빌드 단계 각각에 대해 **MSBuild 인수** 필드를 업데이트해야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-170">You would then also need to update the **MSBuild Arguments** field for each of those build steps so that the package location is unique for each of them.</span></span>
3. <span data-ttu-id="d6469-171">**서비스 패브릭 앱 버전 업데이트** 빌드 단계에 정의된 버전 관리 동작을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-171">Verify the versioning behavior defined in the **Update Service Fabric App Versions** build step.</span></span>  <span data-ttu-id="d6469-172">기본적으로 이 빌드 단계는 응용 프로그램 패키지의 매니페스트 파일에 있는 모든 버전 값에 빌드 번호를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-172">By default, this build step appends the build number to all version values in the application package's manifest files.</span></span> <span data-ttu-id="d6469-173">자세한 내용은 [작업 설명서 페이지](https://go.microsoft.com/fwlink/?LinkId=820529) 를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="d6469-173">See the [task documentation page](https://go.microsoft.com/fwlink/?LinkId=820529) for more information.</span></span> <span data-ttu-id="d6469-174">이는 각 업그레이드 배포에 이전 배포와 다른 버전 값이 필요하므로 응용 프로그램의 업그레이드를 지원하는 데 유용합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-174">This is useful for supporting upgrade of your application since each upgrade deployment requires different version values from the previous deployment.</span></span> <span data-ttu-id="d6469-175">워크플로에 응용 프로그램 업그레이드를 사용하지 않으려는 경우 이 빌드 단계를 사용하지 않도록 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-175">If you're not intending to use application upgrade in your workflow, you may consider disabling this build step.</span></span> <span data-ttu-id="d6469-176">기존 Service Fabric 응용 프로그램을 덮어쓰는 데 사용할 수 있는 빌드를 생성하려는 경우 사용하지 않도록 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-176">It must be disabled if your intention is to produce a build that can be used to overwrite an existing Service Fabric application.</span></span> <span data-ttu-id="d6469-177">빌드에서 생성한 응용 프로그램 버전이 클러스트의 응용 프로그램 버전과 일치하지 않으면 배포가 실패합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-177">The deployment fails if the version of the application produced by the build does not match the version of the application in the cluster.</span></span>
4. <span data-ttu-id="d6469-178">솔루션에 .NET Core 프로젝트가 포함되는 경우 빌드 정의에 종속성을 복원하는 빌드 단계가 포함되어 있는지 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-178">If your solution contains a .NET Core project, you must ensure that your build definition contains a build step that restores the dependencies:</span></span>
   1. <span data-ttu-id="d6469-179">**빌드 단계 추가...**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-179">Select **Add build step...**.</span></span>
   2. <span data-ttu-id="d6469-180">유틸리티 탭 내에서 **명령줄** 작업을 찾고 추가 단추를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-180">Locate the **Command-Line** task within the Utility tab and click its Add button.</span></span>
   3. <span data-ttu-id="d6469-181">작업의 입력 필드에 다음 값을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-181">For the task's input fields, use the following values:</span></span>
   4. <span data-ttu-id="d6469-182">도구: dotnet</span><span class="sxs-lookup"><span data-stu-id="d6469-182">Tool: dotnet</span></span>
   5. <span data-ttu-id="d6469-183">인수: restore</span><span class="sxs-lookup"><span data-stu-id="d6469-183">Arguments: restore</span></span>
   6. <span data-ttu-id="d6469-184">작업이 **NuGet 복원** 단계 바로 다음에 오도록 끕니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-184">Drag the task so that it is immediately after the **NuGet restore** step.</span></span>
5. <span data-ttu-id="d6469-185">빌드 정의에 대해 실행한 변경 내용을 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-185">Save any changes you've made to the build definition.</span></span>

### <a name="try-it"></a><span data-ttu-id="d6469-186">시도</span><span class="sxs-lookup"><span data-stu-id="d6469-186">Try it</span></span>
<span data-ttu-id="d6469-187">**큐 빌드** 를 선택하여 수동으로 빌드를 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-187">Select **Queue Build** to manually start a build.</span></span> <span data-ttu-id="d6469-188">푸시 또는 체크 인 시 트리거도 빌드합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-188">Builds also triggers upon push or check-in.</span></span> <span data-ttu-id="d6469-189">빌드가 성공적으로 실행되고 있는지 확인했으면 이제 응용 프로그램을 클러스터에 배포할 릴리스 정의를 정의하는 작업으로 이동할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-189">Once you've verified that the build is executing successfully, you can now move on to defining a release definition that deploys your application to a cluster.</span></span>

## <a name="create-a-release-definition"></a><span data-ttu-id="d6469-190">릴리스 정의 만들기</span><span class="sxs-lookup"><span data-stu-id="d6469-190">Create a release definition</span></span>
<span data-ttu-id="d6469-191">Team Services 릴리스 정의는 순차적으로 실행되는 작업 집합으로 구성된 워크플로를 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-191">A Team Services release definition describes a workflow that is composed of a set of tasks that are executed sequentially.</span></span> <span data-ttu-id="d6469-192">만들려는 릴리스 정의의 목표는 응용 프로그램 패키지를 가져와서 클러스터에 배포하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-192">The goal of the release definition that you are creating is to take an application package and deploy it to a cluster.</span></span> <span data-ttu-id="d6469-193">빌드 정의와 릴리스 정의를 함께 사용할 경우 소스 파일로 시작하여 클러스터에서 실행 중인 응용 프로그램에서 종료할 때까지 전체 워크플로를 실행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-193">When used together, the build definition and release definition can execute the entire workflow from starting with source files to ending with a running application in your cluster.</span></span> <span data-ttu-id="d6469-194">Team Services [릴리스 정의](https://www.visualstudio.com/docs/release/author-release-definition/more-release-definition)에 대해 자세히 알아봅니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-194">Learn more about Team Services [release definitions](https://www.visualstudio.com/docs/release/author-release-definition/more-release-definition).</span></span>

### <a name="create-a-definition-from-the-release-template"></a><span data-ttu-id="d6469-195">릴리스 템플릿에서 정의 만들기</span><span class="sxs-lookup"><span data-stu-id="d6469-195">Create a definition from the release template</span></span>
1. <span data-ttu-id="d6469-196">Visual Studio Team Services에서 프로젝트를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-196">Open your project in Visual Studio Team Services.</span></span>
2. <span data-ttu-id="d6469-197">**릴리스** 탭을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-197">Select the **Release** tab.</span></span>
3. <span data-ttu-id="d6469-198">녹색 **+** 기호를 선택하여 새 릴리스 정의를 만들고 메뉴에서 **릴리스 정의 만들기**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-198">Select the green **+** sign to create a new release definition and select **Create release definition** in the menu.</span></span>
4. <span data-ttu-id="d6469-199">이때 열리는 대화 상자의 **배포** 템플릿 범주 내에서 **Azure Service Fabric 배포**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-199">In the dialog that opens, select **Azure Service Fabric Deployment** within the **Deployment** template category.</span></span>
5. <span data-ttu-id="d6469-200">**다음**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-200">Select **Next**.</span></span>
6. <span data-ttu-id="d6469-201">이 릴리스 정의의 원본으로 사용할 빌드 정의를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-201">Select the build definition you want to use as the source of this release definition.</span></span>  <span data-ttu-id="d6469-202">릴리스 정의는 선택한 빌드 정의에 의해 생성된 아티팩트를 참조합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-202">The release definition references the artifacts that were produced by the selected build definition.</span></span>
7. <span data-ttu-id="d6469-203">Team Services가 자동으로 새 릴리스를 만들고 빌드가 완료될 때마다 서비스 패브릭 응용 프로그램을 배포하게 하려면 **연속 배포** 확인란을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-203">Check the **Continuous deployment** check box if you wish to have Team Services automatically create a new release and deploy the Service Fabric application whenever a build completes.</span></span>
8. <span data-ttu-id="d6469-204">사용하려는 에이전트 큐를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-204">Select the agent queue you wish to use.</span></span> <span data-ttu-id="d6469-205">호스트 에이전트가 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-205">Hosted agents are supported.</span></span>
9. <span data-ttu-id="d6469-206">**만들기**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-206">Select **Create**.</span></span>
10. <span data-ttu-id="d6469-207">페이지 맨 위의 연필 아이콘을 클릭하여 정의 이름을 편집합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-207">Edit the definition name by clicking the pencil icon at the top of the page.</span></span>
11. <span data-ttu-id="d6469-208">작업의 **클러스터 연결** 입력 필드에서 응용 프로그램을 배포해야 하는 클러스터를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-208">Select the cluster to which your application should be deployed from the **Cluster Connection** input field of the task.</span></span> <span data-ttu-id="d6469-209">클러스터 연결은 배포 작업이 클러스터에 연결할 수 있도록 하는 데 필요한 정보를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-209">The cluster connection provides the necessary information that allows the deployment task to connect to the cluster.</span></span> <span data-ttu-id="d6469-210">클러스터에 대한 클러스터 연결이 아직 없는 경우 추가할 필드 옆의 **관리** 하이퍼링크를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-210">If you do not yet have a cluster connection for your cluster, select the **Manage** hyperlink next to the field to add one.</span></span> <span data-ttu-id="d6469-211">이때 열리는 페이지에서 다음 단계를 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-211">On the page that opens, perform the following steps:</span></span>
    1. <span data-ttu-id="d6469-212">**새 서비스 끝점**을 선택한 다음 메뉴에서 **Azure Service Fabric**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-212">Select **New Service Endpoint** and then select **Azure Service Fabric** from the menu.</span></span>
    2. <span data-ttu-id="d6469-213">이 끝점에서 대상으로 지정한 클러스터가 사용 중인 인증 유형을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-213">Select the type of authentication being used by the cluster targeted by this endpoint.</span></span>
    3. <span data-ttu-id="d6469-214">**연결 이름** 필드에서 연결의 이름을 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-214">Define a name for your connection in the **Connection Name** field.</span></span>  <span data-ttu-id="d6469-215">일반적으로 클러스터의 이름을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-215">Typically, you would use the name of your cluster.</span></span>
    4. <span data-ttu-id="d6469-216">**클러스터 끝점** 필드에서 클라이언트 연결 끝점 URL을 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-216">Define the client connection endpoint URL in the **Cluster Endpoint** field.</span></span>  <span data-ttu-id="d6469-217">예: tcp://contoso.westus.cloudapp.azure.com:19000.</span><span class="sxs-lookup"><span data-stu-id="d6469-217">Example: tcp://contoso.westus.cloudapp.azure.com:19000.</span></span>
    5. <span data-ttu-id="d6469-218">Azure Active Directory 자격 증명의 경우 **사용자 이름** 및 **암호** 필드에서 클러스터에 연결하는 데 사용할 자격 증명을 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-218">For Azure Active Directory credentials, define the credentials you want to use to connect to the cluster in the **Username** and **Password** fields.</span></span>
    6. <span data-ttu-id="d6469-219">인증서 기반 인증의 경우 **클라이언트 인증서** 필드에서 클라이언트 인증서 파일의 Base64 인코딩을 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-219">For Certificate Based authentication, define the Base64 encoding of the client certificate file in the **Client Certificate** field.</span></span>  <span data-ttu-id="d6469-220">이 값을 가져오는 방법에 대한 자세한 내용은 해당 필드에 대한 도움말 팝업을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="d6469-220">See the help pop-up on that field for info on how to get that value.</span></span>  <span data-ttu-id="d6469-221">인증서가 암호로 보호된 경우 **암호** 필드에서 암호를 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-221">If your certificate is password-protected, define the password in the **Password** field.</span></span>
    7. <span data-ttu-id="d6469-222">**확인**을 클릭하여 변경을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-222">Confirm your changes by clicking **OK**.</span></span> <span data-ttu-id="d6469-223">릴리스 정의를 다시 탐색한 후 **클러스터 연결** 필드의 새로 고침 아이콘을 클릭하여 방금 추가한 끝점을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-223">After navigating back to your release definition, click the refresh icon on the **Cluster Connection** field to see the endpoint you just added.</span></span>
12. <span data-ttu-id="d6469-224">릴리스 정의를 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-224">Save the release definition.</span></span>

> [!NOTE]
> <span data-ttu-id="d6469-225">Microsoft 계정(예: @hotmail.com 또는 @outlook.com)은 Azure Active Directory 인증이 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-225">Microsoft Accounts (for example, @hotmail.com or @outlook.com) are not supported with Azure Active Directory authentication.</span></span>
> 
> 

<span data-ttu-id="d6469-226">만들어지는 정의는 **서비스 패브릭 응용 프로그램 배포**형식의 단일 작업으로 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-226">The definition that is created consists of one task of type **Service Fabric Application Deployment**.</span></span> <span data-ttu-id="d6469-227">이 작업에 대한 자세한 내용은 [작업 설명서 페이지](https://go.microsoft.com/fwlink/?LinkId=820528) 를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="d6469-227">See the [task documentation page](https://go.microsoft.com/fwlink/?LinkId=820528) for more information about this task.</span></span>

### <a name="verify-the-template-defaults"></a><span data-ttu-id="d6469-228">템플릿 기본값 확인</span><span class="sxs-lookup"><span data-stu-id="d6469-228">Verify the template defaults</span></span>
1. <span data-ttu-id="d6469-229">**Service Fabric 응용 프로그램 배포** 작업에 대한 **게시 프로필** 입력 필드를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-229">Verify the **Publish Profile** input field for the **Deploy Service Fabric Application** task.</span></span> <span data-ttu-id="d6469-230">기본적으로 이 필드는 빌드의 아티팩트에 포함된 Cloud.xml이라는 게시 프로필을 참조합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-230">By default, this field references a publish profile named Cloud.xml contained in the build's artifacts.</span></span> <span data-ttu-id="d6469-231">다른 게시 프로필을 참조하려는 경우 또는 빌드의 아티팩트에 응용 프로그램 패키지 여러 개가 포함된 경우 해당 경로를 올바르게 업데이트해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-231">If you want to reference a different publish profile or if the build contains multiple application packages in its artifacts, you need to update the path appropriately.</span></span>
2. <span data-ttu-id="d6469-232">**Service Fabric 응용 프로그램 배포** 작업에 대한 **응용 프로그램 패키지** 입력 필드를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-232">Verify the **Application Package** input field for the **Deploy Service Fabric Application** task.</span></span> <span data-ttu-id="d6469-233">기본적으로 이 필드는 빌드 정의 템플릿에 사용되는 기본 응용 프로그램 패키지 경로를 참조합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-233">By default, this field references the default application package path used in the build definition template.</span></span>  <span data-ttu-id="d6469-234">빌드 정의에서 기본 응용 프로그램 패키지 경로를 수정한 경우 여기서도 해당 경로를 올바르게 업데이트해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-234">If you've modified the default application package path in the build definition, you need to update the path appropriately here as well.</span></span>

### <a name="try-it"></a><span data-ttu-id="d6469-235">시도</span><span class="sxs-lookup"><span data-stu-id="d6469-235">Try it</span></span>
<span data-ttu-id="d6469-236">**릴리스** 버튼 메뉴에서 **릴리스 만들기**를 선택하여 수동으로 릴리스를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-236">Select **Create Release** from the **Release** button menu to manually create a release.</span></span> <span data-ttu-id="d6469-237">이때 열리는 대화 상자에서 릴리스의 기반으로 할 빌드를 선택하고 **만들기**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-237">In the dialog that opens, select the build that you want to base the release on and then click **Create**.</span></span> <span data-ttu-id="d6469-238">지속적인 배포를 활성화한 경우 연결된 빌드 정의가 빌드를 완료할 때 릴리스가 자동으로 생성됩니다.</span><span class="sxs-lookup"><span data-stu-id="d6469-238">If you enabled continuous deployment, releases will be created automatically when the associated build definition completes a build.</span></span>

## <a name="next-steps"></a><span data-ttu-id="d6469-239">다음 단계</span><span class="sxs-lookup"><span data-stu-id="d6469-239">Next steps</span></span>
<span data-ttu-id="d6469-240">서비스 패브릭 응용 프로그램으로 연속 통합에 대한 자세한 내용은 다음 문서를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="d6469-240">To learn more about continuous integration with Service Fabric applications, read the following articles:</span></span>

* [<span data-ttu-id="d6469-241">Team Services 문서 홈</span><span class="sxs-lookup"><span data-stu-id="d6469-241">Team Services documentation home</span></span>](https://www.visualstudio.com/docs/overview)
* [<span data-ttu-id="d6469-242">Team Services에서 빌드 관리</span><span class="sxs-lookup"><span data-stu-id="d6469-242">Build management in Team Services</span></span>](https://www.visualstudio.com/docs/build/overview)
* [<span data-ttu-id="d6469-243">Team Services에서 릴리스 관리</span><span class="sxs-lookup"><span data-stu-id="d6469-243">Release management in Team Services</span></span>](https://www.visualstudio.com/docs/release/overview)

