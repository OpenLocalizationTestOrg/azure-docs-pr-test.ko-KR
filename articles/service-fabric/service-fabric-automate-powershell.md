---
title: "Azure 서비스 패브릭 응용 프로그램 관리 aaaAutomate | Microsoft Docs"
description: "PowerShell을 사용하여 서비스 패브릭 응용 프로그램 배포, 업그레이드, 테스트 및 제거"
services: service-fabric
documentationcenter: .net
author: rwike77
manager: timlt
editor: 
ms.assetid: f03f4294-571d-4262-8a77-cc8b481b959d
ms.service: service-fabric
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 06/16/2017
ms.author: ryanwi
redirect_url: /azure/service-fabric/service-fabric-deploy-remove-applications
ms.openlocfilehash: a64a39dbee26be8ac15fee767a90fd06bfe4b896
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="automate-hello-application-lifecycle-using-powershell"></a><span data-ttu-id="efaa2-103">PowerShell을 사용 하 여 hello 응용 프로그램 수명 주기를 자동화 합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-103">Automate hello application lifecycle using PowerShell</span></span>
<span data-ttu-id="efaa2-104">여러 가지 hello [서비스 패브릭 응용 프로그램 수명 주기](service-fabric-application-lifecycle.md) 자동화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-104">Many aspects of hello [Service Fabric application lifecycle](service-fabric-application-lifecycle.md) can be automated.</span></span>  <span data-ttu-id="efaa2-105">이 문서에서는 toouse PowerShell tooautomate 일반 배포, 업그레이드, 제거 및 Azure 서비스 패브릭 응용 프로그램 테스트에 대 한 작업 하는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-105">This article shows how toouse PowerShell tooautomate common tasks for deploying, upgrading, removing, and testing Azure Service Fabric applications.</span></span>  <span data-ttu-id="efaa2-106">앱 관리를 위한 관리되는 API 및 HTTP API도 사용 가능합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-106">Managed and HTTP APIs for app management are also available.</span></span> <span data-ttu-id="efaa2-107">자세한 내용은 [앱 수명 주기](service-fabric-application-lifecycle.md) 를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="efaa2-107">See [app lifecycle](service-fabric-application-lifecycle.md) for more information.</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="efaa2-108">필수 조건</span><span class="sxs-lookup"><span data-stu-id="efaa2-108">Prerequisites</span></span>
<span data-ttu-id="efaa2-109">Hello 문서의 toohello 작업을 이동 하기 전에 야 합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-109">Before you move on toohello tasks in hello article, be sure to:</span></span>

* <span data-ttu-id="efaa2-110">에 설명 된 hello 서비스 패브릭 개념을 잘 알고 [서비스 패브릭의 기술 개요](service-fabric-technical-overview.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-110">Get familiar with hello Service Fabric concepts described in [Technical overview of Service Fabric](service-fabric-technical-overview.md).</span></span>
* <span data-ttu-id="efaa2-111">[Hello 런타임, SDK 및 도구 설치](service-fabric-get-started.md), hello 설치 **ServiceFabric** PowerShell 모듈입니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-111">[Install hello runtime, SDK, and tools](service-fabric-get-started.md), which also installs hello **ServiceFabric** PowerShell module.</span></span>
* <span data-ttu-id="efaa2-112">[PowerShell 스크립트 실행을 활성화](service-fabric-get-started.md#enable-powershell-script-execution)합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-112">[Enable PowerShell script execution](service-fabric-get-started.md#enable-powershell-script-execution).</span></span>
* <span data-ttu-id="efaa2-113">로컬 클러스터를 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-113">Start a local cluster.</span></span>  <span data-ttu-id="efaa2-114">관리자 권한으로 새 PowerShell 창을 시작 하 고 hello SDK 폴더에서 hello 클러스터 설치 스크립트를 실행 하십시오.`& "$ENV:ProgramFiles\Microsoft SDKs\Service Fabric\ClusterSetup\DevClusterSetup.ps1"`</span><span class="sxs-lookup"><span data-stu-id="efaa2-114">Launch a new PowerShell window as an administrator and then run hello cluster setup script from hello SDK folder: `& "$ENV:ProgramFiles\Microsoft SDKs\Service Fabric\ClusterSetup\DevClusterSetup.ps1"`</span></span>
* <span data-ttu-id="efaa2-115">이 문서에는 PowerShell 명령을 실행 하기 전에 먼저 연결 toohello 로컬 서비스 패브릭 클러스터를 사용 하 여 [Connect-servicefabriccluster](/powershell/module/servicefabric/connect-servicefabriccluster?view=azureservicefabricps):`Connect-ServiceFabricCluster localhost:19000`</span><span class="sxs-lookup"><span data-stu-id="efaa2-115">Before you run any PowerShell commands in this article, first connect toohello local Service Fabric cluster by using [Connect-ServiceFabricCluster](/powershell/module/servicefabric/connect-servicefabriccluster?view=azureservicefabricps): `Connect-ServiceFabricCluster localhost:19000`</span></span>
* <span data-ttu-id="efaa2-116">작업을 수행 하는 hello v1 응용 프로그램 패키지 toodeploy 및 v2 응용 프로그램 패키지를 업그레이드 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-116">hello following tasks require a v1 application package toodeploy and a v2 application package for upgrade.</span></span> <span data-ttu-id="efaa2-117">Hello 다운로드 [ **WordCount** 샘플 응용 프로그램](http://aka.ms/servicefabricsamples) (hello Getting Started 샘플에 있음).</span><span class="sxs-lookup"><span data-stu-id="efaa2-117">Download hello [**WordCount** sample application](http://aka.ms/servicefabricsamples) (located in hello Getting Started samples).</span></span> <span data-ttu-id="efaa2-118">빌드하고 Visual Studio에서 hello 응용 프로그램 패키지 (마우스 오른쪽 단추로 클릭 **WordCount** 솔루션 탐색기에서 선택 **패키지**).</span><span class="sxs-lookup"><span data-stu-id="efaa2-118">Build and package hello application in Visual Studio (right-click on **WordCount** in Solution Explorer and select **Package**).</span></span> <span data-ttu-id="efaa2-119">Hello v1 패키지에서 복사 `C:\ServiceFabricSamples\Services\WordCount\WordCount\pkg\Debug` 너무`C:\Temp\WordCount`합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-119">Copy hello v1 package in `C:\ServiceFabricSamples\Services\WordCount\WordCount\pkg\Debug` too`C:\Temp\WordCount`.</span></span> <span data-ttu-id="efaa2-120">복사 `C:\Temp\WordCount` 너무`C:\Temp\WordCountV2`, 업그레이드에 대 한 hello v2 응용 프로그램 패키지 만들기.</span><span class="sxs-lookup"><span data-stu-id="efaa2-120">Copy `C:\Temp\WordCount` too`C:\Temp\WordCountV2`, creating hello v2 application package for upgrade.</span></span> <span data-ttu-id="efaa2-121">텍스트 편집기에서 `C:\Temp\WordCountV2\ApplicationManifest.xml` 파일을 엽니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-121">Open `C:\Temp\WordCountV2\ApplicationManifest.xml` in a text editor.</span></span> <span data-ttu-id="efaa2-122">Hello에 **ApplicationManifest** 요소, 변경 hello **ApplicationTypeVersion** 너무 "1.0.0"에서 특성 "2.0.0" tooupdate hello 응용 프로그램 버전 번호입니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-122">In hello **ApplicationManifest** element, change hello **ApplicationTypeVersion** attribute from "1.0.0" too"2.0.0" tooupdate hello app version number.</span></span> <span data-ttu-id="efaa2-123">변경 하는 hello ApplicationManifest.xml 파일을 저장 합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-123">Save hello changed ApplicationManifest.xml file.</span></span>

## <a name="task-deploy-a-service-fabric-application"></a><span data-ttu-id="efaa2-124">작업: 서비스 패브릭 응용 프로그램 배포</span><span class="sxs-lookup"><span data-stu-id="efaa2-124">Task: Deploy a Service Fabric application</span></span>
<span data-ttu-id="efaa2-125">사용자 작성 하 고 hello 응용 프로그램 패키지 (하거나 hello 응용 프로그램 패키지를 다운로드 한)을 후에 로컬 서비스 패브릭 클러스터에 hello 응용 프로그램을 배포할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-125">After you've built and packaged hello application (or downloaded hello application package), you can deploy hello application into a local Service Fabric cluster.</span></span> <span data-ttu-id="efaa2-126">배포, hello 응용 프로그램 패키지를 업로드 하 고, hello 응용 프로그램 종류를 등록 하 고, hello 응용 프로그램 인스턴스를 만드는 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-126">Deployment involves uploading hello application package, registering hello application type, and creating hello application instance.</span></span> <span data-ttu-id="efaa2-127">이 섹션 toodeploy 새 응용 프로그램 tooa 클러스터의에서 hello 지침을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-127">Use hello instructions in this section toodeploy a new application tooa cluster.</span></span>

### <a name="step-1-upload-hello-application-package"></a><span data-ttu-id="efaa2-128">1 단계: hello 응용 프로그램 패키지 업로드</span><span class="sxs-lookup"><span data-stu-id="efaa2-128">Step 1: Upload hello application package</span></span>
<span data-ttu-id="efaa2-129">Hello 응용 프로그램 패키지 toohello 업로드 이미지 저장소에에서 배치 위치 액세스할 수 있는 toointernal 서비스 패브릭 구성 요소입니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-129">Uploading hello application package toohello image store puts it in a location accessible toointernal Service Fabric components.</span></span>  <span data-ttu-id="efaa2-130">hello 필요한 응용 프로그램 매니페스트, 서비스 매니페스트 및 코드, 구성 및 데이터 패키지 toocreate hello 응용 프로그램 및 서비스 인스턴스 hello 응용 프로그램 패키지에 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-130">hello application package contains hello necessary application manifest, service manifests, and code, configuration, and data package(s) toocreate hello application and service instances.</span></span> <span data-ttu-id="efaa2-131">Tooverify hello 응용 프로그램 패키지를 로컬로 원할 경우 사용 하 여 hello [테스트 ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="efaa2-131">If you want tooverify hello app package locally, use hello [Test-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) cmdlet.</span></span>  <span data-ttu-id="efaa2-132">hello [복사 ServiceFabricApplicationPackage](/powershell/module/servicefabric/copy-servicefabricapplicationpackage?view=azureservicefabricps) 업로드 패키지 hello 명령입니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-132">hello [Copy-ServiceFabricApplicationPackage](/powershell/module/servicefabric/copy-servicefabricapplicationpackage?view=azureservicefabricps) command uploads hello package.</span></span> <span data-ttu-id="efaa2-133">예:</span><span class="sxs-lookup"><span data-stu-id="efaa2-133">For example:</span></span>

```powershell
Copy-ServiceFabricApplicationPackage C:\Temp\WordCount\ -ImageStoreConnectionString file:C:\SfDevCluster\Data\ImageStoreShare -ApplicationPackagePathInImageStore WordCount
```

### <a name="step-2-register-hello-application-type"></a><span data-ttu-id="efaa2-134">2 단계: hello 응용 프로그램 형식 등록</span><span class="sxs-lookup"><span data-stu-id="efaa2-134">Step 2: Register hello application type</span></span>
<span data-ttu-id="efaa2-135">Hello 응용 프로그램 패키지를 등록 하면 hello 응용 프로그램 종류 및 버전을 사용 하기 위해 사용할 수 있는 hello 응용 프로그램 매니페스트에 선언 있습니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-135">Registering hello application package makes hello application type and version declared in hello application manifest available for use.</span></span> <span data-ttu-id="efaa2-136">hello 시스템 hello 1 단계에서 업로드 하는 hello 패키지를 읽고, hello 패키지 확인 (해당 toorunning [테스트 ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) 로컬로), hello 패키지 콘텐츠를 처리 하 고 처리 하는 hello 패키지 tooan 복사 내부 시스템 위치입니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-136">hello system reads hello package uploaded in hello step 1, verify hello package (equivalent toorunning [Test-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) locally), process hello package contents, and copy hello processed package tooan internal system location.</span></span>  <span data-ttu-id="efaa2-137">Hello 실행 [레지스터 ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span><span class="sxs-lookup"><span data-stu-id="efaa2-137">Run hello [Register-ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Register-ServiceFabricApplicationType WordCount
```
<span data-ttu-id="efaa2-138">hello를 실행 하는 hello 클러스터에 등록 된 모든 hello 응용 프로그램 종류 toosee [Get ServiceFabricApplicationType](/powershell/module/servicefabric/get-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span><span class="sxs-lookup"><span data-stu-id="efaa2-138">toosee all hello application types registered in hello cluster, run hello [Get-ServiceFabricApplicationType](/powershell/module/servicefabric/get-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Get-ServiceFabricApplicationType
```

### <a name="step-3-create-hello-application-instance"></a><span data-ttu-id="efaa2-139">3 단계: hello 응용 프로그램 인스턴스 만들기</span><span class="sxs-lookup"><span data-stu-id="efaa2-139">Step 3: Create hello application instance</span></span>
<span data-ttu-id="efaa2-140">응용 프로그램에 hello를 사용 하 여 성공적으로 등록 된 모든 응용 프로그램 종류 버전을 사용 하 여 인스턴스화할 수 [새로 ServiceFabricApplication](/powershell/module/servicefabric/new-servicefabricapplication?view=azureservicefabricps) 명령입니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-140">An application can be instantiated by using any application type version that has been registered successfully by using hello [New-ServiceFabricApplication](/powershell/module/servicefabric/new-servicefabricapplication?view=azureservicefabricps) command.</span></span> <span data-ttu-id="efaa2-141">hello 각 응용 프로그램의 이름이 선언에서 시간을 배포 하 고 hello로 시작 해야 **패브릭:** 구성표 및 각 응용 프로그램 인스턴스에 대해 고유 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-141">hello name of each application is declared at deploy time and must start with hello **fabric:** scheme and be unique for each application instance.</span></span> <span data-ttu-id="efaa2-142">hello 응용 프로그램 유형 이름 및 응용 프로그램 종류 버전에에서도 선언 됩니다 hello **ApplicationManifest.xml** hello 응용 프로그램 패키지의 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-142">hello application type name and application type version are declared in hello **ApplicationManifest.xml** file of hello application package.</span></span> <span data-ttu-id="efaa2-143">기본 서비스는 hello 대상 응용 프로그램 종류의 응용 프로그램 매니페스트 hello에에서 정의 된,이 이번에 생성 됩니다 하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-143">If any default services were defined in hello application manifest of hello target application type, then those are created at this time.</span></span>

```powershell
New-ServiceFabricApplication fabric:/WordCount WordCount 1.0.0
```

<span data-ttu-id="efaa2-144">hello [Get ServiceFabricApplication](/powershell/servicefabric/vlatest/get-servicefabricapplication) 명령은 각각의 전반적인 상태와 함께 성공적으로 생성 된 모든 응용 프로그램 인스턴스를 나열 합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-144">hello [Get-ServiceFabricApplication](/powershell/servicefabric/vlatest/get-servicefabricapplication) command lists all application instances that were successfully created, along with their overall status.</span></span> <span data-ttu-id="efaa2-145">hello [Get ServiceFabricService](/powershell/module/servicefabric/get-servicefabricservice?view=azureservicefabricps) hello 서비스 인스턴스는 특정된 응용 프로그램 인스턴스 내에서 성공적으로 생성 된 모든 명령을 나열 합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-145">hello [Get-ServiceFabricService](/powershell/module/servicefabric/get-servicefabricservice?view=azureservicefabricps) command lists all of hello service instances that were successfully created within a given application instance.</span></span> <span data-ttu-id="efaa2-146">기본 서비스(있는 경우)가 나열됩니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-146">Default services (if any) are listed.</span></span>

```powershell
Get-ServiceFabricApplication

Get-ServiceFabricApplication | Get-ServiceFabricService
```

## <a name="task-upgrade-a-service-fabric-application"></a><span data-ttu-id="efaa2-147">작업: 서비스 패브릭 응용 프로그램 업그레이드</span><span class="sxs-lookup"><span data-stu-id="efaa2-147">Task: Upgrade a Service Fabric application</span></span>
<span data-ttu-id="efaa2-148">업데이트된 응용 프로그램 패키지를 사용하여 이전에 배포된 서비스 패브릭 응용 프로그램을 업그레이드할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-148">You can upgrade a previously deployed Service Fabric application with an updated application package.</span></span> <span data-ttu-id="efaa2-149">이 작업에 배포 된 hello WordCount 응용 프로그램 업그레이드 "작업: 서비스 패브릭 응용 프로그램을 배포 합니다."</span><span class="sxs-lookup"><span data-stu-id="efaa2-149">This task upgrades hello WordCount application that was deployed in "Task: Deploy a Service Fabric application."</span></span> <span data-ttu-id="efaa2-150">자세한 내용은 [서비스 패브릭 응용 프로그램 업그레이드](service-fabric-application-upgrade.md) 를 읽어보세요.</span><span class="sxs-lookup"><span data-stu-id="efaa2-150">Read through [Service Fabric application upgrade](service-fabric-application-upgrade.md) for more information.</span></span>

<span data-ttu-id="efaa2-151">이 예제에서는 응용 프로그램 버전 번호만 hello에 대 한 가지 간단한 tookeep hello WordCountV2 hello 필수 구성 요소에서 만든 패키지를 응용 프로그램에서 업데이트 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-151">tookeep things simple for this example, only hello application version number was updated in hello WordCountV2 application package created in hello prerequisites.</span></span> <span data-ttu-id="efaa2-152">보다 실제적인 시나리오는 서비스 코드, 구성 또는 데이터 파일을 업데이트 한 다음 다시 작성 및 업데이트 된 버전 번호를 가진 hello 응용 프로그램 패키지에 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-152">A more realistic scenario would involve updating your service code, configuration, or data files and then rebuilding and packaging hello application with updated version numbers.</span></span>  

### <a name="step-1-upload-hello-updated-application-package"></a><span data-ttu-id="efaa2-153">1 단계: hello 업데이트 된 응용 프로그램 패키지 업로드</span><span class="sxs-lookup"><span data-stu-id="efaa2-153">Step 1: Upload hello updated application package</span></span>
<span data-ttu-id="efaa2-154">hello WordCount v1 응용 프로그램은 업그레이드 준비 toobe입니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-154">hello WordCount v1 application is ready toobe upgraded.</span></span> <span data-ttu-id="efaa2-155">관리자 및 형식으로 PowerShell 창을 열 경우 [ **Get ServiceFabricApplication**](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps), 해당 버전 1.0.0 hello WordCount 응용 프로그램 종류의 배포를 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-155">If you open up a PowerShell window as administrator and type [**Get-ServiceFabricApplication**](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps), you see that version 1.0.0 of hello WordCount application type is deployed.</span></span>  

<span data-ttu-id="efaa2-156">이제 복사 hello (hello 응용 프로그램 패키지의 저장 위치 서비스 패브릭에서) 응용 프로그램 패키지 toohello 서비스 패브릭 이미지 저장소를 업데이트 합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-156">Now copy hello updated application package toohello Service Fabric image store (where hello application packages are stored by Service Fabric).</span></span> <span data-ttu-id="efaa2-157">매개 변수를 hello **ApplicationPackagePathInImageStore** hello 응용 프로그램 패키지를 찾을 수 있는 서비스 패브릭 알립니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-157">hello parameter **ApplicationPackagePathInImageStore** informs Service Fabric where it can find hello application package.</span></span> <span data-ttu-id="efaa2-158">다음 명령을 복사 응용 프로그램 패키지를 너무 hello hello**WordCountV2** hello 이미지 저장소에서:</span><span class="sxs-lookup"><span data-stu-id="efaa2-158">hello following command copies hello application package too**WordCountV2** in hello image store:</span></span>  

```powershell
Copy-ServiceFabricApplicationPackage C:\Temp\WordCountV2\ -ImageStoreConnectionString file:C:\SfDevCluster\Data\ImageStoreShare -ApplicationPackagePathInImageStore WordCountV2

```
### <a name="step-2-register-hello-updated-application-type"></a><span data-ttu-id="efaa2-159">2 단계: 레지스터 hello 업데이트 응용 프로그램 종류</span><span class="sxs-lookup"><span data-stu-id="efaa2-159">Step 2: Register hello updated application type</span></span>
<span data-ttu-id="efaa2-160">hello 다음 단계는 tooregister hello 새 버전의 hello를 사용 하 여 수행할 수 있는 서비스 패브릭 응용 프로그램 hello [레지스터 ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span><span class="sxs-lookup"><span data-stu-id="efaa2-160">hello next step is tooregister hello new version of hello application with Service Fabric, which can be performed by using hello [Register-ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Register-ServiceFabricApplicationType WordCountV2
```

### <a name="step-3-start-hello-upgrade"></a><span data-ttu-id="efaa2-161">3 단계: hello 업그레이드를 시작 합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-161">Step 3: Start hello upgrade</span></span>
<span data-ttu-id="efaa2-162">다양 한 업그레이드 매개 변수, 제한 시간 및 상태 기준이 적용된 tooapplication 업그레이드 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-162">Various upgrade parameters, timeouts, and health criteria can be applied tooapplication upgrades.</span></span> <span data-ttu-id="efaa2-163">Hello 자세히 읽고 [응용 프로그램 업그레이드 매개 변수](service-fabric-application-upgrade-parameters.md) 및 [업그레이드 프로세스](service-fabric-application-upgrade.md) toolearn 자세한에 대해 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-163">Read through hello [application upgrade parameters](service-fabric-application-upgrade-parameters.md) and [upgrade process](service-fabric-application-upgrade.md) documents toolearn more.</span></span> <span data-ttu-id="efaa2-164">모든 서비스 및 인스턴스 있어야 *정상* hello 업그레이드 후 합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-164">All services and instances should be *healthy* after hello upgrade.</span></span>  <span data-ttu-id="efaa2-165">집합 hello **HealthCheckStableDuration** too60 초 (있도록 hello 서비스는 20 초 이상 hello 업그레이드 toohello 진행 하기 전에 다음 업그레이드 도메인에 대 한 정상)입니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-165">Set hello **HealthCheckStableDuration** too60 seconds (so that hello services are healthy for at least 20 seconds before hello upgrade proceeds toohello next upgrade domain).</span></span>  <span data-ttu-id="efaa2-166">또한 집합 hello **UpgradeDomainTimeout** too1200 시간 (초) 및 hello **UpgradeTimeout** too3000 초입니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-166">Also set hello **UpgradeDomainTimeout** too1200 seconds and hello **UpgradeTimeout** too3000 seconds.</span></span> <span data-ttu-id="efaa2-167">마지막으로 hello를 설정 **UpgradeFailureAction** 너무**롤백**, 어떤 업그레이드 하는 동안 오류가 발생 하는 경우 서비스 패브릭 롤백하는 요청 hello 응용 프로그램 toohello 이전 버전입니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-167">Finally, set hello **UpgradeFailureAction** too**rollback**, which requests that Service Fabric rolls back hello application toohello previous version if failures are encountered during upgrade.</span></span>

<span data-ttu-id="efaa2-168">Hello를 사용 하 여 hello 응용 프로그램 업그레이드를 시작할 수 있습니다 [시작 ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/start-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet:</span><span class="sxs-lookup"><span data-stu-id="efaa2-168">You can now start hello application upgrade by using hello [Start-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/start-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Start-ServiceFabricApplicationUpgrade -ApplicationName fabric:/WordCount -ApplicationTypeVersion 2.0.0 -HealthCheckStableDurationSec 60 -UpgradeDomainTimeoutSec 1200 -UpgradeTimeout 3000  -FailureAction Rollback -Monitored
```

<span data-ttu-id="efaa2-169">해당 hello 응용 프로그램 이름을 hello v1.0.0 응용 프로그램 이름을 이전에 배포 하는 대로 동일 hello는 참고 (패브릭: / WordCount).</span><span class="sxs-lookup"><span data-stu-id="efaa2-169">Note that hello application name is hello same as hello previously deployed v1.0.0 application name (fabric:/WordCount).</span></span> <span data-ttu-id="efaa2-170">서비스 패브릭 응용 프로그램을 업그레이드를 가져오는 이름 tooidentify이를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-170">Service Fabric uses this name tooidentify which application is getting upgraded.</span></span> <span data-ttu-id="efaa2-171">너무 짧은 hello 제한 시간 toobe로 설정 하면 상태 hello 문제는 시간 초과 오류 메시지가 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-171">If you set hello time-outs toobe too short, you might encounter a time-out failure message that states hello problem.</span></span> <span data-ttu-id="efaa2-172">너무 참조[응용 프로그램 업그레이드 문제 해결](service-fabric-application-upgrade-troubleshooting.md), 하거나 hello 제한 시간을 늘리십시오.</span><span class="sxs-lookup"><span data-stu-id="efaa2-172">Refer too[Troubleshoot application upgrades](service-fabric-application-upgrade-troubleshooting.md), or increase hello time-outs.</span></span>

### <a name="step-4-check-upgrade-progress"></a><span data-ttu-id="efaa2-173">4단계: 업그레이드 진행률 확인</span><span class="sxs-lookup"><span data-stu-id="efaa2-173">Step 4: Check upgrade progress</span></span>
<span data-ttu-id="efaa2-174">사용 하 여 응용 프로그램 업그레이드 진행률을 모니터링할 수 있습니다 [서비스 패브릭 탐색기](service-fabric-visualizing-your-cluster.md), 또는 hello를 사용 하 여 [Get ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet:</span><span class="sxs-lookup"><span data-stu-id="efaa2-174">You can monitor application upgrade progress by using [Service Fabric Explorer](service-fabric-visualizing-your-cluster.md), or by using hello [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Get-ServiceFabricApplicationUpgrade fabric:/WordCount
```

<span data-ttu-id="efaa2-175">잠시 후에 hello [Get ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet 모든 업그레이드 도메인 업그레이드 된 보여 줍니다 (완료)입니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-175">In a few minutes, hello [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet shows that all upgrade domains were upgraded (completed).</span></span>

## <a name="task-test-a-service-fabric-application"></a><span data-ttu-id="efaa2-176">작업: 서비스 패브릭 응용 프로그램 테스트</span><span class="sxs-lookup"><span data-stu-id="efaa2-176">Task: Test a Service Fabric application</span></span>
<span data-ttu-id="efaa2-177">toowrite 고품질 서비스 개발자 toobe 수 tooinduce 신뢰할 수 없는 인프라 오류 tootest hello의 안정성 들이 서비스를 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-177">toowrite high-quality services, developers need toobe able tooinduce unreliable infrastructure faults tootest hello stability of their services.</span></span> <span data-ttu-id="efaa2-178">서비스 패브릭에서는 개발자가 hello 기능 tooinduce 오류 동작 및 hello 현재 상태를 사용 하 여 실패의 테스트 서비스 hello 테스트 시나리오 chaos 및 장애 조치 합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-178">Service Fabric gives developers hello ability tooinduce fault actions and test services in hello presence of failures by using hello chaos and failover test scenarios.</span></span>  <span data-ttu-id="efaa2-179">자세히 읽고 [소개 toohello 오류 분석 서비스](service-fabric-testability-overview.md) 추가 정보에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-179">Read through [Introduction toohello Fault Analysis Service](service-fabric-testability-overview.md) for additional information.</span></span>

### <a name="step-1-run-hello-chaos-test-scenario"></a><span data-ttu-id="efaa2-180">1 단계: hello chaos 테스트 시나리오를 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-180">Step 1: Run hello chaos test scenario</span></span>
<span data-ttu-id="efaa2-181">hello chaos 테스트 시나리오 hello 전체 서비스 패브릭 클러스터 전체에서 오류를 생성 합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-181">hello chaos test scenario generates faults across hello entire Service Fabric cluster.</span></span> <span data-ttu-id="efaa2-182">hello 시나리오는 일반적으로 볼 수 개월 또는 수 년 tooa 위에 몇 시간 오류를 압축 합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-182">hello scenario compresses faults generally seen over months or years tooa few hours.</span></span> <span data-ttu-id="efaa2-183">높은 오류 속도와 인터리브된 오류의 hello 조합은 그렇지 않은 경우 누락 됩니다 코너 케이스를 찾습니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-183">hello combination of interleaved faults with a high fault rate finds corner cases that would otherwise be missed.</span></span> <span data-ttu-id="efaa2-184">hello 다음 예제에서는 실행 hello chaos 테스트 시나리오 60 분이 소요 됩니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-184">hello following example runs hello chaos test scenario for 60 minutes.</span></span>

```powershell
$timeToRun = 60
$maxStabilizationTimeSecs = 180
$concurrentFaults = 3
$waitTimeBetweenIterationsSec = 60

Invoke-ServiceFabricChaosTestScenario -TimeToRunMinute $timeToRun -MaxClusterStabilizationTimeoutSec $maxStabilizationTimeSecs -MaxConcurrentFaults $concurrentFaults -EnableMoveReplicaFaults -WaitTimeBetweenIterationsSec $waitTimeBetweenIterationsSec
```

### <a name="step-2-run-hello-failover-test-scenario"></a><span data-ttu-id="efaa2-185">2 단계: hello 장애 조치 테스트 시나리오를 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-185">Step 2: Run hello failover test scenario</span></span>
<span data-ttu-id="efaa2-186">영향을 받지 않은 다른 서비스를 벗어나 및 hello 장애 조치 hello 전체 클러스터 대신 특정 서비스 파티션을 대상 시나리오를 테스트 합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-186">hello failover test scenario targets a specific service partition instead of hello entire cluster, and it leaves other services unaffected.</span></span> <span data-ttu-id="efaa2-187">hello 시나리오는 비즈니스 논리 실행 되는 동안 서비스 유효성 검사에서 시뮬레이션 된 오류의 시퀀스를 반복 합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-187">hello scenario iterates through a sequence of simulated faults in service validation while your business logic runs.</span></span> <span data-ttu-id="efaa2-188">서비스 유효성 검사에서 오류가 발생하면 추가 조사가 필요한 문제가 있다는 의미입니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-188">A failure in service validation indicates an issue that needs further investigation.</span></span> <span data-ttu-id="efaa2-189">여러 오류를 유도할 수 있는 것과 반대로 toohello chaos 테스트 시나리오와 한 번에 하나의 오류를 적용 하는 hello 장애 조치 테스트 합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-189">hello failover test induces only one fault at a time, as opposed toohello chaos test scenario, which can induce multiple faults.</span></span> <span data-ttu-id="efaa2-190">hello 다음 예제에서는 테스트를 실행 hello 장애 조치 60 분 동안 hello 패브릭에 대해: / WordCount/WordCountService 서비스입니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-190">hello following example runs hello failover test for 60 minutes against hello fabric:/WordCount/WordCountService service.</span></span>

```powershell
$timeToRun = 60
$maxStabilizationTimeSecs = 180
$waitTimeBetweenFaultsSec = 10
$serviceName = "fabric:/WordCount/WordCountService"

Invoke-ServiceFabricFailoverTestScenario -TimeToRunMinute $timeToRun -MaxServiceStabilizationTimeoutSec $maxStabilizationTimeSecs -WaitTimeBetweenFaultsSec $waitTimeBetweenFaultsSec -ServiceName $serviceName -PartitionKindUniformInt64 -PartitionKey 1
```

## <a name="task-remove-a-service-fabric-application"></a><span data-ttu-id="efaa2-191">작업: 서비스 패브릭 응용 프로그램 제거</span><span class="sxs-lookup"><span data-stu-id="efaa2-191">Task: Remove a Service Fabric application</span></span>
<span data-ttu-id="efaa2-192">배포 된 응용 프로그램의 인스턴스를 삭제, hello 클러스터에서 프로 비전 하는 hello 응용 프로그램 종류를 제거 하 고 hello ImageStore에서에서 hello 응용 프로그램 패키지를 제거할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-192">You can delete an instance of a deployed application, remove hello provisioned application type from hello cluster, and remove hello application package from hello ImageStore.</span></span>

### <a name="step-1-remove-an-application-instance"></a><span data-ttu-id="efaa2-193">1단계: 응용 프로그램 인스턴스 제거</span><span class="sxs-lookup"><span data-stu-id="efaa2-193">Step 1: Remove an application instance</span></span>
<span data-ttu-id="efaa2-194">응용 프로그램 인스턴스가 필요 하지 않은 경우 제거할 수 없습니다 영구적으로 hello를 사용 하 여 [제거 ServiceFabricApplication](/powershell/module/servicefabric/remove-servicefabricapplication?view=azureservicefabricps) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="efaa2-194">When an application instance is no longer needed, you can permanently remove it by using hello [Remove-ServiceFabricApplication](/powershell/module/servicefabric/remove-servicefabricapplication?view=azureservicefabricps) cmdlet.</span></span> <span data-ttu-id="efaa2-195">이 서비스의 모든 상태를 영구적으로 제거 toohello 응용 프로그램에 속한 모든 서비스를 자동으로 제거 됩니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-195">This also automatically removes all services belonging toohello application, permanently removing all service state.</span></span> <span data-ttu-id="efaa2-196">이 작업은 되돌릴 수 없으며 응용 프로그램 상태는 복구할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-196">This operation cannot be reversed and application state cannot be recovered.</span></span>

```powershell
Remove-ServiceFabricApplication fabric:/WordCount
```

### <a name="step-2-unregister-hello-application-type"></a><span data-ttu-id="efaa2-197">2 단계: 응용 프로그램 종류 hello 등록 취소</span><span class="sxs-lookup"><span data-stu-id="efaa2-197">Step 2: Unregister hello application type</span></span>
<span data-ttu-id="efaa2-198">응용 프로그램 종류의 특정 버전을 더 이상 해야 하는 경우 등록을 취소 hello를 사용 하 여 [등록 취소 ServiceFabricApplicationType](/powershell/module/servicefabric/unregister-servicefabricapplicationtype?view=azureservicefabricps) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="efaa2-198">When you no longer need a particular version of an application type, unregister it by using hello [Unregister-ServiceFabricApplicationType](/powershell/module/servicefabric/unregister-servicefabricapplicationtype?view=azureservicefabricps) cmdlet.</span></span> <span data-ttu-id="efaa2-199">등록을 취소 사용 되지 않는 형식 버전에서 사용한 저장 공간이 hello 이미지 저장소에 hello 응용 프로그램 패키지입니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-199">Unregistering unused types releases storage space used by hello application package in hello image store.</span></span> <span data-ttu-id="efaa2-200">응용 프로그램 형식은 이에 대해 인스턴스화된 응용 프로그램이나 이를 참조하는 보류 중인 응용 프로그램이 없는 한 등록 취소할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-200">An application type can be unregistered as long as there are no applications instantiated against it or pending application upgrades referencing it.</span></span>

```powershell
Unregister-ServiceFabricApplicationType WordCount 1.0.0
```

### <a name="step-3-remove-hello-application-package"></a><span data-ttu-id="efaa2-201">3 단계: hello 응용 프로그램 패키지를 제거 합니다.</span><span class="sxs-lookup"><span data-stu-id="efaa2-201">Step 3: Remove hello application package</span></span>
<span data-ttu-id="efaa2-202">Hello 응용 프로그램 패키지를 hello를 사용 하 여 hello 이미지 저장소에서 제거할 수 hello 응용 프로그램 종류를 등록 취소 한 후 [제거 ServiceFabricApplicationPackage](/powershell/module/servicefabric/remove-servicefabricapplicationpackage?view=azureservicefabricps) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="efaa2-202">After hello application type is unregistered, hello application package can be removed from hello image store by using hello [Remove-ServiceFabricApplicationPackage](/powershell/module/servicefabric/remove-servicefabricapplicationpackage?view=azureservicefabricps) cmdlet.</span></span>

```powershell
Remove-ServiceFabricApplicationPackage -ImageStoreConnectionString file:C:\SfDevCluster\Data\ImageStoreShare -ApplicationPackagePathInImageStore WordCount
```

## <a name="next-steps"></a><span data-ttu-id="efaa2-203">다음 단계</span><span class="sxs-lookup"><span data-stu-id="efaa2-203">Next steps</span></span>
[<span data-ttu-id="efaa2-204">서비스 패브릭 응용 프로그램 수명 주기</span><span class="sxs-lookup"><span data-stu-id="efaa2-204">Service Fabric application lifecycle</span></span>](service-fabric-application-lifecycle.md)

[<span data-ttu-id="efaa2-205">응용 프로그램 배포</span><span class="sxs-lookup"><span data-stu-id="efaa2-205">Deploy an application</span></span>](service-fabric-deploy-remove-applications.md)

[<span data-ttu-id="efaa2-206">응용 프로그램 업그레이드</span><span class="sxs-lookup"><span data-stu-id="efaa2-206">Application upgrade</span></span>](service-fabric-application-upgrade.md)

[<span data-ttu-id="efaa2-207">Azure Service Fabric cmdlet</span><span class="sxs-lookup"><span data-stu-id="efaa2-207">Azure Service Fabric cmdlets</span></span>](/powershell/azure/overview?view=azureservicefabricps)

