---
title: "Azure Service Fabric 진단 및 모니터링 | Microsoft Docs"
description: "이 문서에서는 Service Fabric Reliable ServiceRemoting 런타임에서 내보낸 성능 카운터를 포함하여 성능 모니터링 기능을 설명합니다."
services: service-fabric
documentationcenter: .net
author: suchiagicha
manager: timlt
editor: suchiagicha
ms.assetid: 1c229923-670a-4634-ad59-468ff781ad18
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/29/2017
ms.author: suchiagicha
ms.openlocfilehash: f54e157654fb15d2f7ff48ddc666c6c8803c75a2
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/03/2017
---
# <a name="diagnostics-and-performance-monitoring-for-reliable-service-remoting"></a><span data-ttu-id="49c58-103">Reliable Service Remoting에 대한 진단 및 성능 모니터링</span><span class="sxs-lookup"><span data-stu-id="49c58-103">Diagnostics and performance monitoring for Reliable Service Remoting</span></span>
<span data-ttu-id="49c58-104">Reliable ServiceRemoting 런타임에서는 [성능 카운터](https://msdn.microsoft.com/library/system.diagnostics.performancecounter.aspx)를 내보냅니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-104">The Reliable ServiceRemoting runtime emits  [performance counters](https://msdn.microsoft.com/library/system.diagnostics.performancecounter.aspx).</span></span> <span data-ttu-id="49c58-105">이러한 정보는 ServiceRemoting이 어떻게 작동하고 있는지 파악하여 문제를 해결하고 성능을 모니터링하는 데 도움이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-105">These provide insights into how the ServiceRemoting is operating and help with troubleshooting and performance monitoring.</span></span>


## <a name="performance-counters"></a><span data-ttu-id="49c58-106">성능 카운터</span><span class="sxs-lookup"><span data-stu-id="49c58-106">Performance counters</span></span>
<span data-ttu-id="49c58-107">Reliable ServiceRemoting 런타임은 다음과 같은 성능 카운터 범주를 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-107">The Reliable ServiceRemoting runtime defines the following performance counter categories:</span></span>

| <span data-ttu-id="49c58-108">Category</span><span class="sxs-lookup"><span data-stu-id="49c58-108">Category</span></span> | <span data-ttu-id="49c58-109">설명</span><span class="sxs-lookup"><span data-stu-id="49c58-109">Description</span></span> |
| --- | --- |
| <span data-ttu-id="49c58-110">Service Fabric 서비스</span><span class="sxs-lookup"><span data-stu-id="49c58-110">Service Fabric Service</span></span> |<span data-ttu-id="49c58-111">Azure Service Fabric Remoting 서비스 전용 카운터. 예: 요청을 처리하는 데 걸린 평균 시간</span><span class="sxs-lookup"><span data-stu-id="49c58-111">Counters specific to Azure Service Fabric Service Remoting , for example, average time taken to process request</span></span> |
| <span data-ttu-id="49c58-112">Service Fabric 서비스 메서드</span><span class="sxs-lookup"><span data-stu-id="49c58-112">Service Fabric Service Method</span></span> |<span data-ttu-id="49c58-113">Service Fabric Remoting 서비스에 의해 구현되는 메서드 전용 카운터. 예: 서비스 메서드가 호출되는 빈도</span><span class="sxs-lookup"><span data-stu-id="49c58-113">Counters specific to methods implemented by Service Fabric Remoting Service, for example, how often a service method is invoked</span></span> |

<span data-ttu-id="49c58-114">앞의 각 범주마다 하나 이상의 카운터가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-114">Each of the preceding categories has one or more counters.</span></span>

<span data-ttu-id="49c58-115">Windows 운영 체제에서 기본적으로 사용할 수 있는 [Windows 성능 모니터](https://technet.microsoft.com/library/cc749249.aspx) 응용 프로그램을 사용하면 성능 카운터 데이터를 수집하고 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-115">The [Windows Performance Monitor](https://technet.microsoft.com/library/cc749249.aspx) application that is available by default in the Windows operating system can be used to collect and view performance counter data.</span></span> <span data-ttu-id="49c58-116">[Azure 진단](../cloud-services/cloud-services-dotnet-diagnostics.md) 은 성능 카운터 데이터를 수집하여 Azure 테이블에 업로드하기 위한 또 다른 옵션입니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-116">[Azure Diagnostics](../cloud-services/cloud-services-dotnet-diagnostics.md) is another option for collecting performance counter data and uploading it to Azure tables.</span></span>

### <a name="performance-counter-instance-names"></a><span data-ttu-id="49c58-117">성능 카운터 인스턴스 이름</span><span class="sxs-lookup"><span data-stu-id="49c58-117">Performance counter instance names</span></span>
<span data-ttu-id="49c58-118">많은 수의 ServiceRemoting 서비스 또는 파티션이 있는 클러스터에는 성능 카운터 인스턴스 수가 많습니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-118">A cluster that has a large number of  ServiceRemoting services or partitions have a large number of  performance counter instances.</span></span> <span data-ttu-id="49c58-119">성능 카운터 인스턴스 이름은 성능 카운터 인스턴스가 연결된 특정 파티션 및 서비스 메서드(있는 경우)를 식별하는 데 도움이 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-119">The performance counter instance names can help in identifying the specific partition and Service method (if applicable) that the performance counter instance is associated with.</span></span>

#### <a name="service-fabric-service-category"></a><span data-ttu-id="49c58-120">Service Fabric 서비스 범주</span><span class="sxs-lookup"><span data-stu-id="49c58-120">Service Fabric Service category</span></span>
<span data-ttu-id="49c58-121">`Service Fabric Service`범주의 경우 카운터 인스턴스 이름이 다음과 같은 형식으로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-121">For the category `Service Fabric Service`, the counter instance names are in the following format:</span></span>

`ServiceFabricPartitionID_ServiceReplicaOrInstanceId_ServiceRuntimeInternalID`

<span data-ttu-id="49c58-122">*ServiceFabricPartitionID* - 성능 카운터 인스턴스와 연결된 서비스 패브릭 파티션 ID의 문자열 표현.</span><span class="sxs-lookup"><span data-stu-id="49c58-122">*ServiceFabricPartitionID* is the string representation of the Service Fabric partition ID that the performance counter instance is associated with.</span></span> <span data-ttu-id="49c58-123">파티션 ID는 GUID이며 해당 문자열 표현은 형식 지정자 "D"와 함께 [`Guid.ToString`](https://msdn.microsoft.com/library/97af8hh4.aspx) 메서드를 통해 생성됩니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-123">The partition ID is a GUID, and its string representation is generated through the [`Guid.ToString`](https://msdn.microsoft.com/library/97af8hh4.aspx) method with format specifier "D".</span></span>

<span data-ttu-id="49c58-124">*ServiceReplicaOrInstanceId*는 성능 카운터 인스턴스와 연결된 Service Fabric 복제본/인스턴스 ID의 문자열 표현입니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-124">*ServiceReplicaOrInstanceId* is the string representation of the Service Fabric Replica/Instance ID that the performance counter instance is associated with.</span></span>

<span data-ttu-id="49c58-125">*ServiceRuntimeInternalID*는 내부 용도에 맞게 패브릭 서비스 런타임에 의해 생성되는 64비트 정수의 문자열 표현입니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-125">*ServiceRuntimeInternalID* is the string representation of a 64-bit integer that is generated by the Fabric Service runtime for its internal use.</span></span> <span data-ttu-id="49c58-126">고유성을 보장하고 다른 성능 카운터 인스턴스 이름과의 충돌을 방지하기 위해 성능 카운터 인스턴스 이름에 포함시킵니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-126">This is included in the performance counter instance name to ensure its uniqueness and avoid conflict with other performance counter instance names.</span></span> <span data-ttu-id="49c58-127">사용자는 성능 카운터 인스턴스 이름에서 이 부분을 해석하지 않도록 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-127">Users should not try to interpret this portion of the performance counter instance name.</span></span>

<span data-ttu-id="49c58-128">다음은 `Service Fabric Service` 범주에 속하는 카운터에 대한 카운터 인스턴스 이름의 예입니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-128">The following is an example of a counter instance name for a counter that belongs to the `Service Fabric Service` category:</span></span>

`2740af29-78aa-44bc-a20b-7e60fb783264_635650083799324046_5008379932`

<span data-ttu-id="49c58-129">앞의 예에서 `2740af29-78aa-44bc-a20b-7e60fb783264`는 Service Fabric 파티션 ID의 문자열 표현이고 `635650083799324046`는 복제본/InstanceId의 문자열 표현이며 `5008379932`은 런타임의 내부 용도에 맞게 생성되는 64비트 ID입니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-129">In the preceding example, `2740af29-78aa-44bc-a20b-7e60fb783264` is the string representation of the Service Fabric partition ID, `635650083799324046` is string representation of Replica/InstanceId and `5008379932` is the 64-bit ID that is generated for the runtime's internal use.</span></span>

#### <a name="service-fabric-service-method-category"></a><span data-ttu-id="49c58-130">Service Fabric 서비스 메서드 범주</span><span class="sxs-lookup"><span data-stu-id="49c58-130">Service Fabric Service Method category</span></span>
<span data-ttu-id="49c58-131">`Service Fabric Service Method`범주의 경우 카운터 인스턴스 이름이 다음과 같은 형식으로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-131">For the category `Service Fabric Service Method`, the counter instance names are in the following format:</span></span>

`MethodName_ServiceRuntimeMethodId_ServiceFabricPartitionID_ServiceReplicaOrInstanceId_ServiceRuntimeInternalID`

<span data-ttu-id="49c58-132">*MethodName*은 성능 카운터 인스턴스가 연결되어 있는 서비스 메서드의 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-132">*MethodName* is the name of the service method that the performance counter instance is associated with.</span></span> <span data-ttu-id="49c58-133">메서드 이름의 형식은 Windows에서 성능 카운터 인스턴스 이름의 최대 길이에 대한 제약 조건을 사용하여 이름의 가독성을 조정하는 패브릭 서비스 런타임의 일부 논리에 따라 결정됩니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-133">The format of the method name is determined based on some logic in the Fabric Service runtime that balances the readability of the name with constraints on the maximum length of the performance counter instance names on Windows.</span></span>

<span data-ttu-id="49c58-134">*ServiceRuntimeMethodId*는 내부 용도에 맞게 패브릭 서비스 런타임에 의해 생성되는 32비트 정수의 문자열 표현입니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-134">*ServiceRuntimeMethodId* is the string representation of a 32-bit integer that is generated by the Fabric Service runtime for its internal use.</span></span> <span data-ttu-id="49c58-135">고유성을 보장하고 다른 성능 카운터 인스턴스 이름과의 충돌을 방지하기 위해 성능 카운터 인스턴스 이름에 포함시킵니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-135">This is included in the performance counter instance name to ensure its uniqueness and avoid conflict with other performance counter instance names.</span></span> <span data-ttu-id="49c58-136">사용자는 성능 카운터 인스턴스 이름에서 이 부분을 해석하지 않도록 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-136">Users should not try to interpret this portion of the performance counter instance name.</span></span>

<span data-ttu-id="49c58-137">*ServiceFabricPartitionID* - 성능 카운터 인스턴스와 연결된 서비스 패브릭 파티션 ID의 문자열 표현.</span><span class="sxs-lookup"><span data-stu-id="49c58-137">*ServiceFabricPartitionID* is the string representation of the Service Fabric partition ID that the performance counter instance is associated with.</span></span> <span data-ttu-id="49c58-138">파티션 ID는 GUID이며 해당 문자열 표현은 형식 지정자 "D"와 함께 [`Guid.ToString`](https://msdn.microsoft.com/library/97af8hh4.aspx) 메서드를 통해 생성됩니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-138">The partition ID is a GUID, and its string representation is generated through the [`Guid.ToString`](https://msdn.microsoft.com/library/97af8hh4.aspx) method with format specifier "D".</span></span>

<span data-ttu-id="49c58-139">*ServiceReplicaOrInstanceId*는 성능 카운터 인스턴스와 연결된 Service Fabric 복제본/인스턴스 ID의 문자열 표현입니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-139">*ServiceReplicaOrInstanceId* is the string representation of the Service Fabric Replica/Instance ID that the performance counter instance is associated with.</span></span>

<span data-ttu-id="49c58-140">*ServiceRuntimeInternalID*는 내부 용도에 맞게 패브릭 서비스 런타임에 의해 생성되는 64비트 정수의 문자열 표현입니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-140">*ServiceRuntimeInternalID* is the string representation of a 64-bit integer that is generated by the Fabric Service runtime for its internal use.</span></span> <span data-ttu-id="49c58-141">고유성을 보장하고 다른 성능 카운터 인스턴스 이름과의 충돌을 방지하기 위해 성능 카운터 인스턴스 이름에 포함시킵니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-141">This is included in the performance counter instance name to ensure its uniqueness and avoid conflict with other performance counter instance names.</span></span> <span data-ttu-id="49c58-142">사용자는 성능 카운터 인스턴스 이름에서 이 부분을 해석하지 않도록 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-142">Users should not try to interpret this portion of the performance counter instance name.</span></span>

<span data-ttu-id="49c58-143">다음은 `Service Fabric Service Method` 범주에 속하는 카운터에 대한 카운터 인스턴스 이름의 예입니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-143">The following is an example of a counter instance name for a counter that belongs to the `Service Fabric Service Method` category:</span></span>

`ivoicemailboxservice.leavemessageasync_2_89383d32-e57e-4a9b-a6ad-57c6792aa521_635650083804480486_5008380`

<span data-ttu-id="49c58-144">앞의 예에서 `ivoicemailboxservice.leavemessageasync`는 메서드 이름, `2`는 런타임의 내부 용도에 맞게 생성된 32비트 ID, `89383d32-e57e-4a9b-a6ad-57c6792aa521`은 Service Fabric 파티션 ID의 문자열 표현, `635650083804480486`는 Service Fabric 복제본/인스턴스 ID의 문자열 표현, `5008380`은 런타임의 내부 용도에 맞게 생성된 64비트 ID입니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-144">In the preceding example, `ivoicemailboxservice.leavemessageasync` is the method name, `2` is the 32-bit ID generated for the runtime's internal use, `89383d32-e57e-4a9b-a6ad-57c6792aa521` is the string representation of the Service Fabric partition ID,`635650083804480486` is the string representation of the Service Fabric Replica/Instance ID and `5008380` is the 64-bit ID generated for the runtime's internal use.</span></span>

## <a name="list-of-performance-counters"></a><span data-ttu-id="49c58-145">성능 카운터 목록</span><span class="sxs-lookup"><span data-stu-id="49c58-145">List of Performance counters</span></span>
### <a name="service-method-performance-counters"></a><span data-ttu-id="49c58-146">서비스 메서드 성능 카운터</span><span class="sxs-lookup"><span data-stu-id="49c58-146">Service method performance counters</span></span>

<span data-ttu-id="49c58-147">Reliable Service 런타임은 서비스 메서드의 실행과 관련하여 다음과 같은 성능 카운터를 게시합니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-147">The Reliable Service runtime publishes the following performance counters related to the execution of service methods.</span></span>

| <span data-ttu-id="49c58-148">범주 이름</span><span class="sxs-lookup"><span data-stu-id="49c58-148">Category name</span></span> | <span data-ttu-id="49c58-149">카운터 이름</span><span class="sxs-lookup"><span data-stu-id="49c58-149">Counter name</span></span> | <span data-ttu-id="49c58-150">설명</span><span class="sxs-lookup"><span data-stu-id="49c58-150">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="49c58-151">Service Fabric 서비스 메서드</span><span class="sxs-lookup"><span data-stu-id="49c58-151">Service Fabric Service Method</span></span> |<span data-ttu-id="49c58-152">초당 호출 수</span><span class="sxs-lookup"><span data-stu-id="49c58-152">Invocations/Sec</span></span> |<span data-ttu-id="49c58-153">초당 서비스 메서드가 호출되는 횟수</span><span class="sxs-lookup"><span data-stu-id="49c58-153">Number of times that the  service method is invoked per second</span></span> |
| <span data-ttu-id="49c58-154">Service Fabric 서비스 메서드</span><span class="sxs-lookup"><span data-stu-id="49c58-154">Service Fabric Service Method</span></span> |<span data-ttu-id="49c58-155">호출당 평균 시간(밀리초)</span><span class="sxs-lookup"><span data-stu-id="49c58-155">Average milliseconds per invocation</span></span> |<span data-ttu-id="49c58-156">서비스 메서드를 실행하는 데 걸린 시간(밀리초)</span><span class="sxs-lookup"><span data-stu-id="49c58-156">Time taken to execute the service method in milliseconds</span></span> |
| <span data-ttu-id="49c58-157">Service Fabric 서비스 메서드</span><span class="sxs-lookup"><span data-stu-id="49c58-157">Service Fabric Service Method</span></span> |<span data-ttu-id="49c58-158">초당 발생한 예외 수</span><span class="sxs-lookup"><span data-stu-id="49c58-158">Exceptions thrown/Sec</span></span> |<span data-ttu-id="49c58-159">초당 서비스 메서드에서 예외가 발생한 횟수</span><span class="sxs-lookup"><span data-stu-id="49c58-159">Number of times that the service method threw an exception per second</span></span> |

### <a name="service-request-processing-performance-counters"></a><span data-ttu-id="49c58-160">서비스 요청 처리 성능 카운터</span><span class="sxs-lookup"><span data-stu-id="49c58-160">Service request processing performance counters</span></span>
<span data-ttu-id="49c58-161">클라이언트가 서비스 프록시 개체를 통해 메서드를 호출하면 요청 메시지가 네트워크를 통해 서비스 서비스에 전송됩니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-161">When a client invokes a method via a service proxy object, it results in a request message being sent over the network to the remoting service.</span></span> <span data-ttu-id="49c58-162">서비스는 요청 메시지를 처리하고 응답을 다시 클라이언트로 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-162">The service processes the request message and sends a response back to the client.</span></span> <span data-ttu-id="49c58-163">Reliable ServiceRemoting 런타임은 서비스 요청 처리와 관련하여 다음과 같은 성능 카운터를 게시합니다.</span><span class="sxs-lookup"><span data-stu-id="49c58-163">The Reliable ServiceRemoting runtime publishes the following performance counters related to service request processing.</span></span>

| <span data-ttu-id="49c58-164">범주 이름</span><span class="sxs-lookup"><span data-stu-id="49c58-164">Category name</span></span> | <span data-ttu-id="49c58-165">카운터 이름</span><span class="sxs-lookup"><span data-stu-id="49c58-165">Counter name</span></span> | <span data-ttu-id="49c58-166">설명</span><span class="sxs-lookup"><span data-stu-id="49c58-166">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="49c58-167">Service Fabric 서비스</span><span class="sxs-lookup"><span data-stu-id="49c58-167">Service Fabric Service</span></span> |<span data-ttu-id="49c58-168">미해결 요청 수</span><span class="sxs-lookup"><span data-stu-id="49c58-168"># of outstanding requests</span></span> |<span data-ttu-id="49c58-169">서비스에서 처리 중인 요청 수</span><span class="sxs-lookup"><span data-stu-id="49c58-169">Number of requests being processed in the service</span></span> |
| <span data-ttu-id="49c58-170">Service Fabric 서비스</span><span class="sxs-lookup"><span data-stu-id="49c58-170">Service Fabric Service</span></span> |<span data-ttu-id="49c58-171">요청당 평균 시간(밀리초)</span><span class="sxs-lookup"><span data-stu-id="49c58-171">Average milliseconds per request</span></span> |<span data-ttu-id="49c58-172">서비스에서 요청을 처리하는 데 걸린 시간(밀리초)</span><span class="sxs-lookup"><span data-stu-id="49c58-172">Time taken (in milliseconds) by the service to process a request</span></span> |
| <span data-ttu-id="49c58-173">Service Fabric 서비스</span><span class="sxs-lookup"><span data-stu-id="49c58-173">Service Fabric Service</span></span> |<span data-ttu-id="49c58-174">요청 deserialization에 걸린 평균 시간(밀리초)</span><span class="sxs-lookup"><span data-stu-id="49c58-174">Average milliseconds for request deserialization</span></span> |<span data-ttu-id="49c58-175">서비스에서 수신될 때 서비스 요청 메시지를 deserialize하는 데 걸린 시간(밀리초)</span><span class="sxs-lookup"><span data-stu-id="49c58-175">Time taken (in milliseconds) to deserialize service request message when it is received at the service</span></span> |
| <span data-ttu-id="49c58-176">Service Fabric 서비스</span><span class="sxs-lookup"><span data-stu-id="49c58-176">Service Fabric Service</span></span> |<span data-ttu-id="49c58-177">요청 serialization에 걸린 평균 시간(밀리초)</span><span class="sxs-lookup"><span data-stu-id="49c58-177">Average milliseconds for response serialization</span></span> |<span data-ttu-id="49c58-178">응답이 클라이언트로 전송되기 전에 서비스에서 서비스 응답 메시지를 직렬화하는 데 걸린 시간(밀리초)</span><span class="sxs-lookup"><span data-stu-id="49c58-178">Time taken (in milliseconds) to serialize the service response message at the service before the response is sent to the client</span></span> |

## <a name="next-steps"></a><span data-ttu-id="49c58-179">다음 단계</span><span class="sxs-lookup"><span data-stu-id="49c58-179">Next steps</span></span>
* [<span data-ttu-id="49c58-180">샘플 코드</span><span class="sxs-lookup"><span data-stu-id="49c58-180">Sample code</span></span>](https://github.com/Azure/servicefabric-samples)
* [<span data-ttu-id="49c58-181">PerfView의 EventSource 공급자</span><span class="sxs-lookup"><span data-stu-id="49c58-181">EventSource providers in PerfView</span></span>](https://blogs.msdn.microsoft.com/vancem/2012/07/09/introduction-tutorial-logging-etw-events-in-c-system-diagnostics-tracing-eventsource/)
