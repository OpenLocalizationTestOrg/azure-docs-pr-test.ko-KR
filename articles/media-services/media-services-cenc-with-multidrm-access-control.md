---
title: "다중 DRM 및 Access Control이 포함된 CENC: Azure 및 Azure Media Services에서 참조 설계 및 구현 | Microsoft 문서"
description: "Toolicensing Microsoft® 부드러운 스트리밍 클라이언트 이식 키트 hello 하는 방법에 대해 알아봅니다."
services: media-services
documentationcenter: 
author: willzhan
manager: cfowler
editor: 
ms.assetid: 7814739b-cea9-4b9b-8370-538702e5c615
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/19/2017
ms.author: willzhan;kilroyh;yanmf;juliako
ms.openlocfilehash: 033fb618650c4fbe9069d467159a8734da759bba
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/06/2017
---
# <a name="cenc-with-multi-drm-and-access-control-a-reference-design-and-implementation-on-azure-and-azure-media-services"></a><span data-ttu-id="19a30-103">다중 DRM 및 액세스 제어가 포함된 CENC: Azure 및 Azure 미디어 서비스에서 참조 디자인 및 구현</span><span class="sxs-lookup"><span data-stu-id="19a30-103">CENC with Multi-DRM and Access Control: A Reference Design and Implementation on Azure and Azure Media Services</span></span>
 
## <a name="introduction"></a><span data-ttu-id="19a30-104">소개</span><span class="sxs-lookup"><span data-stu-id="19a30-104">Introduction</span></span>
<span data-ttu-id="19a30-105">잘 알려진은 복잡 한 작업 toodesign DRM 하위 시스템은 OTT에 대 한 빌드를 또는 스트리밍 솔루션 온라인있지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-105">It is well known that it is a complex task toodesign and build a DRM subsystem for an OTT or online streaming solution.</span></span> <span data-ttu-id="19a30-106">한 비디오 공급자 toooutsource 연산자/온라인에 대 한 연습 공통이 부분 toospecialized DRM 서비스 공급자입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-106">And it is a common practice for operators/online video providers toooutsource this part toospecialized DRM service providers.</span></span> <span data-ttu-id="19a30-107">hello이 문서의 목적은 toopresent 참조 디자인 및 OTT 또는 온라인 스트리밍 솔루션에서 종단 간 DRM 하위 시스템의 구현입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-107">hello goal of this document is toopresent a reference design and implementation of end-to-end DRM subsystem in OTT or online streaming solution.</span></span>

<span data-ttu-id="19a30-108">이 문서의 대상으로 하는 hello 판독기는 엔지니어 OTT 또는 온라인 스트리밍/다중-screen 솔루션 또는 DRM 하위 시스템에 관심이 있는 모든 독자의 DRM 하위 시스템에서 작업 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-108">hello targeted readers of this document are engineers working in DRM subsystem of OTT or online streaming/multi-screen solutions, or any readers interested in DRM subsystem.</span></span> <span data-ttu-id="19a30-109">판독기는 PlayReady, Widevine, FairPlay 또는 Adobe Access 같은 hello 시장 hello DRM 기술 중 하나 이상에 대해 잘 알고 이라고 하는 hello 가정 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-109">hello assumption is that readers are familiar with at least one of hello DRM technologies on hello market, such as PlayReady, Widevine, FairPlay or Adobe Access.</span></span>

<span data-ttu-id="19a30-110">DRM에는 포함 다중 DRM의 CENC(일반적인 암호화)도 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-110">By DRM, we also include CENC (Common Encryption) with multi-DRM.</span></span> <span data-ttu-id="19a30-111">온라인 스트리밍 및 OTT 업계 주요 추세 단일 DRM 및 클라이언트 SDK 사용 하 여 다양 한 클라이언트 플랫폼에 대 한 이전 추세 hello에서 다중-native-DRM으로 다양 한 클라이언트 플랫폼에 CENC toouse 됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-111">A major trend in online streaming and OTT industry is toouse CENC with multi-native-DRM on various client platforms, which is a shift from hello previous trend of using a single DRM and its client SDK for various client platforms.</span></span> <span data-ttu-id="19a30-112">PlayReady와 Widevine hello 당 암호화 된 CENC native-DRM을 사용할 경우 [일반 암호화 (ISO/IEC 23001-7 CENC)](http://www.iso.org/iso/home/store/catalogue_ics/catalogue_detail_ics.htm?csnumber=65271/) 사양입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-112">When using CENC with multi-native-DRM, both PlayReady and Widevine are encrypted per hello [Common Encryption (ISO/IEC 23001-7 CENC)](http://www.iso.org/iso/home/store/catalogue_ics/catalogue_detail_ics.htm?csnumber=65271/) specification.</span></span>

<span data-ttu-id="19a30-113">다중 DRM으로 CENC의 hello 혜택은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-113">hello benefits of CENC with multi-DRM are as follows:</span></span>

1. <span data-ttu-id="19a30-114">기본 DRM을 포함하는 다양한 플랫폼을 대상으로 단일 암호화 처리가 사용되므로 암호화 비용이 절감됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-114">Reduces encryption cost since a single encryption processing is used targeting different platforms with its native DRMs;</span></span>
2. <span data-ttu-id="19a30-115">암호화 된 자산의 단일 복사본만; 필요 않으므로 암호화 된 자산을 관리 하는의 hello 비용이 감소</span><span class="sxs-lookup"><span data-stu-id="19a30-115">Reduces hello cost of managing encrypted assets since only a single copy of encrypted assets is needed;</span></span>
3. <span data-ttu-id="19a30-116">DRM 클라이언트 hello 네이티브 DRM 클라이언트는 해당 네이티브 플랫폼에 일반적으로 무료 이므로 비용을 라이선스를 제거 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-116">Eliminates DRM client licensing cost since hello native DRM client is usually free on its native platform.</span></span>

<span data-ttu-id="19a30-117">Microsoft는 몇몇 주요 기업들과 더불어 DASH 및 CENC의 적극적인 프로모터로 활동해왔습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-117">Microsoft has been an active promoter of DASH and CENC together with some major industry players.</span></span> <span data-ttu-id="19a30-118">Microsoft Azure 미디어 서비스에서 DASH 및CENC 지원을 제공하고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-118">Microsoft Azure Media Services has been providing support of DASH and CENC.</span></span> <span data-ttu-id="19a30-119">Mingfei의 블로그의 [Azure Media Services에서 Google Widevine 라이선스 전달 서비스 발표](https://azure.microsoft.com/blog/announcing-general-availability-of-google-widevine-license-services/) 및 [다중 DRM 스트림을 배달하기 위해 Azure Media Services에서 Google Widevine 패키징 추가](https://azure.microsoft.com/blog/azure-media-services-adds-google-widevine-packaging-for-delivering-multi-drm-stream/)에서 최근 소식을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="19a30-119">For recent announcements, please see Mingfei’s blogs: [Announcing Google Widevine license delivery services in Azure Media Services](https://azure.microsoft.com/blog/announcing-general-availability-of-google-widevine-license-services/), and [Azure Media Services adds Google Widevine packaging for delivering multi-DRM stream](https://azure.microsoft.com/blog/azure-media-services-adds-google-widevine-packaging-for-delivering-multi-drm-stream/).</span></span>  

### <a name="overview-of-this-article"></a><span data-ttu-id="19a30-120">이 문서의 개요</span><span class="sxs-lookup"><span data-stu-id="19a30-120">Overview of this article</span></span>
<span data-ttu-id="19a30-121">이 문서의 목표 hello hello 다음이 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-121">hello goal of this article includes hello following:</span></span>

1. <span data-ttu-id="19a30-122">다중 DRM의 CENC를 사용하는 DRM 하위 시스템에 대한 참조 디자인을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-122">Provides a reference design of DRM subsystem using CENC with multi-DRM;</span></span>
2. <span data-ttu-id="19a30-123">Microsoft Azure/Azure 미디어 서비스 플랫폼에 대한 참조 구현을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-123">Provides a reference implementation on Microsoft Azure/Azure Media Services platform;</span></span>
3. <span data-ttu-id="19a30-124">몇 가지 디자인 및 구현 토픽에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-124">Discusses some design and implementation topics.</span></span>

<span data-ttu-id="19a30-125">Hello 문서 "다중 DRM" hello 다음을 다룹니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-125">In hello article, “multi-DRM” covers hello following:</span></span>

1. <span data-ttu-id="19a30-126">Microsoft PlayReady</span><span class="sxs-lookup"><span data-stu-id="19a30-126">Microsoft PlayReady</span></span>
2. <span data-ttu-id="19a30-127">Google Widevine</span><span class="sxs-lookup"><span data-stu-id="19a30-127">Google Widevine</span></span>
3. <span data-ttu-id="19a30-128">Apple FairPlay</span><span class="sxs-lookup"><span data-stu-id="19a30-128">Apple FairPlay</span></span> 

<span data-ttu-id="19a30-129">hello 다음 표에 요약 되어 hello 네이티브 플랫폼/네이티브 앱 및 각 DRM에서 지 원하는 브라우저.</span><span class="sxs-lookup"><span data-stu-id="19a30-129">hello following table summarizes hello native platform/native app, and browsers supported by each DRM.</span></span>

| <span data-ttu-id="19a30-130">**클라이언트 플랫폼**</span><span class="sxs-lookup"><span data-stu-id="19a30-130">**Client Platform**</span></span> | <span data-ttu-id="19a30-131">**네이티브 DRM 지원**</span><span class="sxs-lookup"><span data-stu-id="19a30-131">**Native DRM Support**</span></span> | <span data-ttu-id="19a30-132">**브라우저/앱**</span><span class="sxs-lookup"><span data-stu-id="19a30-132">**Browser/App**</span></span> | <span data-ttu-id="19a30-133">**스트리밍 형식**</span><span class="sxs-lookup"><span data-stu-id="19a30-133">**Streaming Formats**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="19a30-134">**스마트 TV, 연산자 STB, OTT STB**</span><span class="sxs-lookup"><span data-stu-id="19a30-134">**Smart TVs, operator STBs, OTT STBs**</span></span> |<span data-ttu-id="19a30-135">주로 PlayReady 및/또는 Widevine 및/또는 기타</span><span class="sxs-lookup"><span data-stu-id="19a30-135">PlayReady primarily, and/or Widevine, and/or other</span></span> |<span data-ttu-id="19a30-136">Linux, Opera, WebKit, 기타</span><span class="sxs-lookup"><span data-stu-id="19a30-136">Linux, Opera, WebKit, Other</span></span> |<span data-ttu-id="19a30-137">다양한 형식</span><span class="sxs-lookup"><span data-stu-id="19a30-137">Various formats</span></span> |
| <span data-ttu-id="19a30-138">**Windows 10 장치(Windows PC, Windows 태블릿, Windows Phone, Xbox)**</span><span class="sxs-lookup"><span data-stu-id="19a30-138">**Windows 10 devices (Windows PC, Windows Tablets, Windows Phone, Xbox)**</span></span> |<span data-ttu-id="19a30-139">PlayReady</span><span class="sxs-lookup"><span data-stu-id="19a30-139">PlayReady</span></span> |<span data-ttu-id="19a30-140">MS Edge/IE11/EME</span><span class="sxs-lookup"><span data-stu-id="19a30-140">MS Edge/IE11/EME</span></span><br/><br/><br/><span data-ttu-id="19a30-141">UWP</span><span class="sxs-lookup"><span data-stu-id="19a30-141">UWP</span></span> |<span data-ttu-id="19a30-142">DASH(HLS의 경우 PlayReady는 지원되지 않음)</span><span class="sxs-lookup"><span data-stu-id="19a30-142">DASH (For HLS, PlayReady is not supported)</span></span><br/><br/><span data-ttu-id="19a30-143">DASH, 부드러운 스트리밍(HLS의 경우 PlayReady는 지원되지 않음)</span><span class="sxs-lookup"><span data-stu-id="19a30-143">DASH, Smooth Streaming (For HLS, PlayReady is not supported)</span></span> |
| <span data-ttu-id="19a30-144">**Android 장치(전화, 태블릿, TV)**</span><span class="sxs-lookup"><span data-stu-id="19a30-144">**Android devices (Phone, Tablet, TV)**</span></span> |<span data-ttu-id="19a30-145">Widevine</span><span class="sxs-lookup"><span data-stu-id="19a30-145">Widevine</span></span> |<span data-ttu-id="19a30-146">크롬/EME</span><span class="sxs-lookup"><span data-stu-id="19a30-146">Chrome/EME</span></span> |<span data-ttu-id="19a30-147">DASH,HLS</span><span class="sxs-lookup"><span data-stu-id="19a30-147">DASH,HLS</span></span> |
| <span data-ttu-id="19a30-148">**iOS(iPhone, iPad), OS X 클라이언트 및 Apple TV**</span><span class="sxs-lookup"><span data-stu-id="19a30-148">**iOS (iPhone, iPad), OS X clients and Apple TV**</span></span> |<span data-ttu-id="19a30-149">FairPlay</span><span class="sxs-lookup"><span data-stu-id="19a30-149">FairPlay</span></span> |<span data-ttu-id="19a30-150">Safari 8+/EME</span><span class="sxs-lookup"><span data-stu-id="19a30-150">Safari 8+/EME</span></span> |<span data-ttu-id="19a30-151">HLS</span><span class="sxs-lookup"><span data-stu-id="19a30-151">HLS</span></span> |


<span data-ttu-id="19a30-152">Hello 각 DRM에 대 한 배포의 현재 상태를 고려 하면 서비스는 보통 합니다 2 또는 3 tooimplement DRMs toomake 있는지 모든 hello 유형의 최상의 hello에서 끝점 주소 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-152">Considering hello current state of deployment for each DRM, a service will typically want tooimplement 2 or 3 DRMs toomake sure you address all hello types of endpoints in hello best way.</span></span>

<span data-ttu-id="19a30-153">Hello 서비스 논리의 hello 복잡도 간에 균형을 조절이 고 hello 클라이언트 쪽 tooreach 사용자의 특정 수준에 hello 복잡성에 hello 다양 한 클라이언트입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-153">There is a tradeoff between hello complexity of hello service logic and hello complexity on hello client side tooreach a certain level of user experience on hello various clients.</span></span>

<span data-ttu-id="19a30-154">toomake 선택 영역에 이러한 사항을 염두에 두어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-154">toomake your selection, keep in mind these facts:</span></span>

* <span data-ttu-id="19a30-155">PlayReady는 모든 Windows 장치와 일부 Android 장치에서 고유하게 구현되며 거의 모든 플랫폼에서 소프트웨어 SDK를 통해 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-155">PlayReady is natively implemented in every Windows device, on some Android devices, and available through software SDKs on virtually any platform</span></span>
* <span data-ttu-id="19a30-156">Widevine은 모든 Android 장치, Chrome 및 일부 다른 장치에서 고유하게 구현됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-156">Widevine is natively implemented in every Android device, in Chrome, and in some other devices</span></span>
* <span data-ttu-id="19a30-157">FairPlay는 iOS 및 Mac OS 클라이언트 또는 iTunes를 통해 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-157">FairPlay is available only on iOS and Mac OS clients or through iTunes.</span></span>

<span data-ttu-id="19a30-158">따라서 일반적인 다중 DRM은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-158">So a typical multi-DRM would be:</span></span>

* <span data-ttu-id="19a30-159">옵션 1: PlayReady 및 Widevine</span><span class="sxs-lookup"><span data-stu-id="19a30-159">Option 1: PlayReady and Widevine</span></span>
* <span data-ttu-id="19a30-160">옵션 2: PlayReady, Widevine 및 FairPlay</span><span class="sxs-lookup"><span data-stu-id="19a30-160">Option 2: PlayReady, Widevine and FairPlay</span></span>

## <a name="a-reference-design"></a><span data-ttu-id="19a30-161">참조 디자인</span><span class="sxs-lookup"><span data-stu-id="19a30-161">A reference design</span></span>
<span data-ttu-id="19a30-162">이 섹션에서는 사용 되는 알 수 없는 tootechnologies tooimplement 인 참조 디자인 제공할 것 것입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-162">In this section, we will present a reference design which is agnostic tootechnologies used tooimplement it.</span></span>

<span data-ttu-id="19a30-163">DRM 하위 시스템 hello 다음과 같은 구성 요소가 포함 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-163">A DRM subsystem may contain hello following components:</span></span>

1. <span data-ttu-id="19a30-164">키 관리</span><span class="sxs-lookup"><span data-stu-id="19a30-164">Key management</span></span>
2. <span data-ttu-id="19a30-165">DRM 패키징</span><span class="sxs-lookup"><span data-stu-id="19a30-165">DRM packaging</span></span>
3. <span data-ttu-id="19a30-166">DRM 라이선스 배달</span><span class="sxs-lookup"><span data-stu-id="19a30-166">DRM license delivery</span></span>
4. <span data-ttu-id="19a30-167">자격 확인</span><span class="sxs-lookup"><span data-stu-id="19a30-167">Entitlement check</span></span>
5. <span data-ttu-id="19a30-168">인증/권한 부여</span><span class="sxs-lookup"><span data-stu-id="19a30-168">Authentication/authorization</span></span>
6. <span data-ttu-id="19a30-169">플레이어</span><span class="sxs-lookup"><span data-stu-id="19a30-169">Player</span></span>
7. <span data-ttu-id="19a30-170">원본/CDN</span><span class="sxs-lookup"><span data-stu-id="19a30-170">Origin/CDN</span></span>

<span data-ttu-id="19a30-171">hello 다음 다이어그램에서는 hello 높은 수준 간의 상호 작용 DRM 하위 시스템의 hello 구성 요소</span><span class="sxs-lookup"><span data-stu-id="19a30-171">hello following diagram illustrates hello high level interaction among hello components in a DRM subsystem.</span></span>

![CENC를 사용하는 DRM 하위 시스템](./media/media-services-cenc-with-multidrm-access-control/media-services-generic-drm-subsystem-with-cenc.png)

<span data-ttu-id="19a30-173">세 개의 기본 "계층" hello 디자인 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-173">There are three basic “layers” in hello design:</span></span>

1. <span data-ttu-id="19a30-174">외부적으로 노출되지 않는 백오피스 계층(검은색)</span><span class="sxs-lookup"><span data-stu-id="19a30-174">Back office layer (in black) which are not exposed externally;</span></span>
2. <span data-ttu-id="19a30-175">공용; 향하는 모든 hello 끝점이 포함 된 "DMZ" 레이어 (파랑)</span><span class="sxs-lookup"><span data-stu-id="19a30-175">“DMZ” layer (blue) containing all hello endpoints facing public;</span></span>
3. <span data-ttu-id="19a30-176">공용 인터넷을 통과하는 트래픽과 CDN 및 플레이어를 포함하는 공용 인터넷 계층(옅은 파란색)</span><span class="sxs-lookup"><span data-stu-id="19a30-176">Public Internet layer (light blue) containing CDN and players with traffic across public Internet.</span></span>

<span data-ttu-id="19a30-177">정적 또는 동적 암호화에 관계 없이 DRM 보호를 제어하기 위한 콘텐츠 관리 도구가 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-177">There should be a content management tool for controlling DRM protection, regardless it is static or dynamic encryption.</span></span> <span data-ttu-id="19a30-178">DRM 암호화에 대 한 hello 입력이 포함 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-178">hello inputs for DRM encryption should include:</span></span>

1. <span data-ttu-id="19a30-179">MBR 비디오 콘텐츠</span><span class="sxs-lookup"><span data-stu-id="19a30-179">MBR video content;</span></span>
2. <span data-ttu-id="19a30-180">콘텐츠 키</span><span class="sxs-lookup"><span data-stu-id="19a30-180">Content key;</span></span>
3. <span data-ttu-id="19a30-181">라이선스 획득 URL</span><span class="sxs-lookup"><span data-stu-id="19a30-181">License acquisition URLs.</span></span>

<span data-ttu-id="19a30-182">재생 시간 동안 hello 높은 수준 흐름은입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-182">During playback time, hello high level flow is:</span></span>

1. <span data-ttu-id="19a30-183">사용자가 인증됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-183">User is authenticated;</span></span>
2. <span data-ttu-id="19a30-184">권한 부여 토큰 hello 사용자;에 대해 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-184">Authorization token is created for hello user;</span></span>
3. <span data-ttu-id="19a30-185">DRM으로 보호 된 콘텐츠 (매니페스트)은 다운로드 한 tooplayer;</span><span class="sxs-lookup"><span data-stu-id="19a30-185">DRM protected content (manifest) is downloaded tooplayer;</span></span>
4. <span data-ttu-id="19a30-186">플레이어 라이선스 취득 요청 toolicense 서버 키 ID 및 권한 부여와 함께 전송 토큰입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-186">Player submits license acquisition request toolicense servers together with key ID and authorization token.</span></span>

<span data-ttu-id="19a30-187">이동 toohello 다음 항목인 하기 전에 몇 가지 단어 hello에 대 한 키 관리의 디자인합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-187">Before moving toohello next topic, a few words about hello design of key management.</span></span>

| <span data-ttu-id="19a30-188">**콘텐츠 키 대 자산(ContentKey–to-Asset)**</span><span class="sxs-lookup"><span data-stu-id="19a30-188">**ContentKey–to-Asset**</span></span> | <span data-ttu-id="19a30-189">**시나리오**</span><span class="sxs-lookup"><span data-stu-id="19a30-189">**Scenario**</span></span> |
| --- | --- |
| <span data-ttu-id="19a30-190">일대일(1–to-1)</span><span class="sxs-lookup"><span data-stu-id="19a30-190">1–to-1</span></span> |<span data-ttu-id="19a30-191">hello 가장 간단 하 게 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-191">hello simplest case.</span></span> <span data-ttu-id="19a30-192">Hello 제어력을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-192">It provides hello finest control.</span></span> <span data-ttu-id="19a30-193">하지만 일반적으로 이렇게 hello 가장 높은 라이선스 배달 비용.</span><span class="sxs-lookup"><span data-stu-id="19a30-193">But this generally results in hello highest license delivery cost.</span></span> <span data-ttu-id="19a30-194">보호된 각 자산에 대해 최소 하나의 라이선스 요청이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-194">At minimum one license request is required for each protected asset.</span></span> |
| <span data-ttu-id="19a30-195">일대다(1–to-Many)</span><span class="sxs-lookup"><span data-stu-id="19a30-195">1–to-Many</span></span> |<span data-ttu-id="19a30-196">Hello 콘텐츠 같은 여러 자산에 대 한 키를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-196">You could use hello same content key for multiple assets.</span></span> <span data-ttu-id="19a30-197">예를 들어 장르 (또는 동영상 유전자)의 하위 집합 또는 장르와 같은 논리 그룹에 모든 hello 자산에 대 한 단일 콘텐츠 키를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-197">For example, for all hello assets in a logical group such as a genre or subset of genre (or Movie Gene), you could use a single content key.</span></span> |
| <span data-ttu-id="19a30-198">다대일(Many–to-1)</span><span class="sxs-lookup"><span data-stu-id="19a30-198">Many–to-1</span></span> |<span data-ttu-id="19a30-199">각 자산에 대해 여러 콘텐츠 키가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-199">Multiple content keys are needed for each asset.</span></span> <br/><br/><span data-ttu-id="19a30-200">예를 들어, MPEG DASH 및 HLS에 대 한 동적 aes-128 암호화를 위한 다중 DRM으로 tooapply 동적 CENC 보호 해야 할 경우 두 개의 별도 콘텐츠 키를 각각 고유한 ContentKeyType 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-200">For example, if you need tooapply dynamic CENC protection with multi-DRM for MPEG-DASH, and dynamic AES-128 encryption for HLS, you need two separate content keys, each with its own ContentKeyType.</span></span> <span data-ttu-id="19a30-201">(동적 CENC 보호에 사용 되는 콘텐츠 키 hello에 대 한 ContentKeyType.CommonEncryption, 반면에 사용할 hello 콘텐츠 ContentKeyType.EnvelopeEncryption 동적 aes-128 암호화에 사용 되는 키를 사용 해야 합니다.)</span><span class="sxs-lookup"><span data-stu-id="19a30-201">(For hello content key used for dynamic CENC protection, ContentKeyType.CommonEncryption should be used, while for hello content key used for dynamic AES-128 encryption, ContentKeyType.EnvelopeEncryption should be used.)</span></span><br/><br/><span data-ttu-id="19a30-202">이론적으로 CENC 보호 대시의 또 다른 예로, 콘텐츠, 콘텐츠 키 하나 사용 하는 tooprotect 비디오 스트림 및 다른 콘텐츠 키 tooprotect 오디오 스트림을 하십시오.</span><span class="sxs-lookup"><span data-stu-id="19a30-202">Another example, in CENC protection of DASH content, in theory, one content key can be used tooprotect video stream and another content key tooprotect audio stream.</span></span> |
| <span data-ttu-id="19a30-203">많은 – 너무 다</span><span class="sxs-lookup"><span data-stu-id="19a30-203">Many – too- Many</span></span> |<span data-ttu-id="19a30-204">위의 두 가지 시나리오는 hello 조합의: 키의 각에 사용 되는 콘텐츠의 집합 hello 여러 자산 hello에 동일한 자산 "group"입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-204">Combination of hello above two scenarios: one set of content keys are used for each of hello multiple assets in hello same asset “group”.</span></span> |

<span data-ttu-id="19a30-205">또 다른 중요 한 요인이 tooconsider 영구 및 비영구 라이선스 hello 사용입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-205">Another important factor tooconsider is hello use of persistent and non-persistent licenses.</span></span>

<span data-ttu-id="19a30-206">이러한 고려 사항이 중요한 이유는 무엇인가요?</span><span class="sxs-lookup"><span data-stu-id="19a30-206">Why are these considerations important?</span></span>

<span data-ttu-id="19a30-207">라이선스 배달에 대 한 공용 클라우드를 사용 하는 경우 비용 직접적인 영향을 줍니다 toolicense 배달을 갖게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-207">They have direct impact toolicense delivery cost if you use public cloud for license delivery.</span></span> <span data-ttu-id="19a30-208">다음 두 가지 디자인의 경우 tooillustrate hello를 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-208">Let’s consider hello following two different design cases tooillustrate:</span></span>

1. <span data-ttu-id="19a30-209">월간 구독: 영구 라이선스와 일대다(1–to-Many) 콘텐츠 키 대 자산 매핑을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-209">Monthly subscription: Use persistent license, and 1-to-many content key-to-asset mapping.</span></span> <span data-ttu-id="19a30-210">예:</span><span class="sxs-lookup"><span data-stu-id="19a30-210">E.g.</span></span> <span data-ttu-id="19a30-211">모든 hello 어린이 동영상에 대 한 단일 콘텐츠 키 암호화에 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-211">for all hello kids movies, we use a single content key for encryption.</span></span> <span data-ttu-id="19a30-212">이 경우 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-212">In this case:</span></span>

    <span data-ttu-id="19a30-213">모든 어린이용 영화에 요청된 전체 라이선스 수/장치 = 1</span><span class="sxs-lookup"><span data-stu-id="19a30-213">Total # licenses requested for all kids movies/device = 1</span></span>
2. <span data-ttu-id="19a30-214">월간 구독: 비영구 라이선스와 콘텐츠 키 및 자산 간에 일대일(1–to-1) 매핑을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-214">Monthly subscription: Use non-persistent license, and 1-to-1 mapping between content key and asset.</span></span> <span data-ttu-id="19a30-215">이 경우 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-215">In this case:</span></span>

    <span data-ttu-id="19a30-216">모든 어린이용 영화에 요청된 전체 라이선스 수/장치 = [본 영화 수] x [세션 수]</span><span class="sxs-lookup"><span data-stu-id="19a30-216">Total # licenses requested for all kids movies/device = [# movies watched] x [# sessions]</span></span>

<span data-ttu-id="19a30-217">쉽게 볼 수 있듯이 두 개의 서로 다른 디자인에 매우 다른 라이선스 발생 하는 hello 요청 패턴 이므로 Azure 미디어 서비스 등 공용 클라우드 라이선스 배달 서비스를 제공 하면 비용 라이선스 배달</span><span class="sxs-lookup"><span data-stu-id="19a30-217">As you can easily see, hello two different designs result in very different license request patterns hence license delivery cost if license delivery service is provided by a public cloud such as Azure Media Services.</span></span>

## <a name="mapping-design-tootechnology-for-implementation"></a><span data-ttu-id="19a30-218">구현에 대 한 디자인 tootechnology 매핑</span><span class="sxs-lookup"><span data-stu-id="19a30-218">Mapping design tootechnology for implementation</span></span>
<span data-ttu-id="19a30-219">다음으로, 각 문서 블록에 대 한 어떤 기술 toouse를 지정 하 여 Microsoft Azure/Azure 미디어 서비스 플랫폼에서 우리의 일반 디자인 tootechnologies를 매핑합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-219">Next, we map our generic design tootechnologies on Microsoft Azure/Azure Media Services platform, by specifying which technology toouse for each building block.</span></span>

<span data-ttu-id="19a30-220">hello 아래 표에 나와 hello 매핑.</span><span class="sxs-lookup"><span data-stu-id="19a30-220">hello following table shows hello mapping:</span></span>

| <span data-ttu-id="19a30-221">**구성 요소**</span><span class="sxs-lookup"><span data-stu-id="19a30-221">**Building Block**</span></span> | <span data-ttu-id="19a30-222">**Technology**</span><span class="sxs-lookup"><span data-stu-id="19a30-222">**Technology**</span></span> |
| --- | --- |
| <span data-ttu-id="19a30-223">**플레이어**</span><span class="sxs-lookup"><span data-stu-id="19a30-223">**Player**</span></span> |[<span data-ttu-id="19a30-224">Azure 미디어 플레이어</span><span class="sxs-lookup"><span data-stu-id="19a30-224">Azure Media Player</span></span>](https://azure.microsoft.com/services/media-services/media-player/) |
| <span data-ttu-id="19a30-225">**IDP(ID 공급자)**</span><span class="sxs-lookup"><span data-stu-id="19a30-225">**Identity Provider (IDP)**</span></span> |<span data-ttu-id="19a30-226">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="19a30-226">Azure Active Directory</span></span> |
| <span data-ttu-id="19a30-227">**STS(보안 토큰 서비스)**</span><span class="sxs-lookup"><span data-stu-id="19a30-227">**Secure Token Service (STS)**</span></span> |<span data-ttu-id="19a30-228">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="19a30-228">Azure Active Directory</span></span> |
| <span data-ttu-id="19a30-229">**DRM 보호 워크플로**</span><span class="sxs-lookup"><span data-stu-id="19a30-229">**DRM Protection Workflow**</span></span> |<span data-ttu-id="19a30-230">Azure 미디어 서비스 동적 보호</span><span class="sxs-lookup"><span data-stu-id="19a30-230">Azure Media Services Dynamic Protection</span></span> |
| <span data-ttu-id="19a30-231">**DRM 라이선스 배달**</span><span class="sxs-lookup"><span data-stu-id="19a30-231">**DRM License Delivery**</span></span> |<span data-ttu-id="19a30-232">1. Azure Media Services 라이선스 배달(PlayReady, Widevine, FairPlay) 또는</span><span class="sxs-lookup"><span data-stu-id="19a30-232">1. Azure Media Services License Delivery (PlayReady, Widevine, FairPlay), or</span></span> <br/><span data-ttu-id="19a30-233">2. Axinom License Server,</span><span class="sxs-lookup"><span data-stu-id="19a30-233">2. Axinom License Server,</span></span> <br/><span data-ttu-id="19a30-234">3. 사용자 지정 PlayReady 라이선스 서버</span><span class="sxs-lookup"><span data-stu-id="19a30-234">3. Custom PlayReady License Server</span></span> |
| <span data-ttu-id="19a30-235">**원본**</span><span class="sxs-lookup"><span data-stu-id="19a30-235">**Origin**</span></span> |<span data-ttu-id="19a30-236">Azure 미디어 서비스 스트리밍 끝점</span><span class="sxs-lookup"><span data-stu-id="19a30-236">Azure Media Services Streaming Endpoint</span></span> |
| <span data-ttu-id="19a30-237">**키 관리**</span><span class="sxs-lookup"><span data-stu-id="19a30-237">**Key Management**</span></span> |<span data-ttu-id="19a30-238">참조 구현에는 필요하지 않음</span><span class="sxs-lookup"><span data-stu-id="19a30-238">Not needed for reference implementation</span></span> |
| <span data-ttu-id="19a30-239">**콘텐츠 관리**</span><span class="sxs-lookup"><span data-stu-id="19a30-239">**Content Management**</span></span> |<span data-ttu-id="19a30-240">C# 콘솔 응용 프로그램</span><span class="sxs-lookup"><span data-stu-id="19a30-240">A C# console application</span></span> |

<span data-ttu-id="19a30-241">즉, IDP(ID 공급자) 및 STS(보안 토큰 서비스) 모두 Azure AD입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-241">In other words, both Identity Provider (IDP) and Secure Token Service (STS) will be Azure AD.</span></span> <span data-ttu-id="19a30-242">플레이어로는 [Azure 미디어 플레이어 API](http://amp.azure.net/libs/amp/latest/docs/)를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-242">For player, we will use [Azure Media Player API](http://amp.azure.net/libs/amp/latest/docs/).</span></span> <span data-ttu-id="19a30-243">Azure 미디어 서비스와 Azure 미디어 플레이어는 모두 다중 DRM의 DASH 및 CENC를 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-243">Both Azure Media Services and Azure Media Player support DASH and CENC with multi-DRM.</span></span>

<span data-ttu-id="19a30-244">다음 다이어그램에 표시 하는 hello 기술 매핑 위에 hello로 전체 구조와 흐름 hello 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-244">hello following diagram shows hello overall structure and flow with hello above technology mapping.</span></span>

![AMS에서 CENC](./media/media-services-cenc-with-multidrm-access-control/media-services-cenc-subsystem-on-AMS-platform.png)

<span data-ttu-id="19a30-246">동적 CENC 암호화를 순서 tooset, hello 콘텐츠 관리 도구는 다음 입력 hello를 사용:</span><span class="sxs-lookup"><span data-stu-id="19a30-246">In order tooset up dynamic CENC encryption, hello content management tool will use hello following inputs:</span></span>

1. <span data-ttu-id="19a30-247">개방 콘텐츠</span><span class="sxs-lookup"><span data-stu-id="19a30-247">Open content;</span></span>
2. <span data-ttu-id="19a30-248">키 생성/관리에서 콘텐츠 키</span><span class="sxs-lookup"><span data-stu-id="19a30-248">Content key from key generation/management;</span></span>
3. <span data-ttu-id="19a30-249">라이선스 획득 URL</span><span class="sxs-lookup"><span data-stu-id="19a30-249">License acquisition URLs;</span></span>
4. <span data-ttu-id="19a30-250">Azure AD의 정보 목록</span><span class="sxs-lookup"><span data-stu-id="19a30-250">A list of information from Azure AD.</span></span>

<span data-ttu-id="19a30-251">hello 콘텐츠 관리 도구의 hello 출력이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-251">hello output of hello content management tool will be:</span></span>

1. <span data-ttu-id="19a30-252">JWT 토큰 및 DRM 라이선스 사양; 라이선스 배달 확인 하는 방법에 대 한 hello 사양이 포함 되어 있는 ContentKeyAuthorizationPolicy</span><span class="sxs-lookup"><span data-stu-id="19a30-252">ContentKeyAuthorizationPolicy containing hello specification on how license delivery verifies a JWT token and DRM license specifications;</span></span>
2. <span data-ttu-id="19a30-253">AssetDeliveryPolicy - 스트리밍 형식, DRM 보호 및 라이선스 획득 URL에 대한 사양 포함</span><span class="sxs-lookup"><span data-stu-id="19a30-253">AssetDeliveryPolicy containing specifications on streaming format, DRM protection and license acquisition URLs.</span></span>

<span data-ttu-id="19a30-254">런타임 중으로 hello 흐름은 아래:</span><span class="sxs-lookup"><span data-stu-id="19a30-254">During runtime, hello flow is as below:</span></span>

1. <span data-ttu-id="19a30-255">사용자 인증 시 JWT 토큰이 생성됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-255">Upon user authentication, a JWT token is generated;</span></span>
2. <span data-ttu-id="19a30-256">Hello JWT 토큰에 포함 된 hello 클레임 중 하나에 "EntitledUserGroup"의 hello 그룹 개체 ID가 포함 된 "groups" 클레임입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-256">One of hello claims contained in hello JWT token is “groups” claim containing hello group object ID of “EntitledUserGroup”.</span></span> <span data-ttu-id="19a30-257">이 클레임은 "자격 확인"을 전달하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-257">This claim will be used for passing “entitlement check”.</span></span>
3. <span data-ttu-id="19a30-258">CENC의 플레이어 다운로드 클라이언트 매니페스트 콘텐츠를 보호 되 고 "표시" hello 다음:</span><span class="sxs-lookup"><span data-stu-id="19a30-258">Player downloads client manifest of a CENC protected content and “sees” hello following:</span></span>

   1. <span data-ttu-id="19a30-259">키 ID</span><span class="sxs-lookup"><span data-stu-id="19a30-259">key ID,</span></span>
   2. <span data-ttu-id="19a30-260">hello 콘텐츠를 보호 하는 CENC</span><span class="sxs-lookup"><span data-stu-id="19a30-260">hello content is CENC protected,</span></span>
   3. <span data-ttu-id="19a30-261">라이선스 획득 URL</span><span class="sxs-lookup"><span data-stu-id="19a30-261">License acquisition URLs.</span></span>
4. <span data-ttu-id="19a30-262">플레이어는 hello 브라우저/DRM이 지원에 따라 라이선스 취득 요청을 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-262">Player makes a license acquisition request based on hello browser/DRM supported.</span></span> <span data-ttu-id="19a30-263">Hello 라이선스 취득 요청, 키 ID 및 hello JWT 토큰도 전송 됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-263">In hello license acquisition request, key ID and hello JWT token will also be submitted.</span></span> <span data-ttu-id="19a30-264">라이선스 배달 서비스는 hello JWT 토큰 및 라이선스 필요 hello를 발급 하기 전에 포함 된 hello 클레임을 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-264">License delivery service will verify hello JWT token and hello claims contained before issuing hello needed license.</span></span>

## <a name="implementation"></a><span data-ttu-id="19a30-265">구현</span><span class="sxs-lookup"><span data-stu-id="19a30-265">Implementation</span></span>
### <a name="implementation-procedures"></a><span data-ttu-id="19a30-266">구현 절차</span><span class="sxs-lookup"><span data-stu-id="19a30-266">Implementation procedures</span></span>
<span data-ttu-id="19a30-267">hello 구현 단계를 수행 하는 hello를 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-267">hello implementation will include hello following steps:</span></span>

1. <span data-ttu-id="19a30-268">테스트 자산 준비: 인코딩/패키지는 테스트 비디오 toomulti 비트 전송률 조각난 MP4 Azure 미디어 서비스에서 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-268">Prepare test asset(s): encode/package a test video toomulti-bitrate fragmented MP4 in Azure Media Services.</span></span> <span data-ttu-id="19a30-269">이 자산은 DRM으로 보호되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-269">This asset is NOT DRM protected.</span></span> <span data-ttu-id="19a30-270">DRM 보호는 나중에 동적 보호로 수행됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-270">DRM protection will be done by dynamic protection later.</span></span>
2. <span data-ttu-id="19a30-271">키 ID 및 콘텐츠 키(필요한 경우 키 시드에서)를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-271">Create key ID and content key (optionally from key seed).</span></span> <span data-ttu-id="19a30-272">여기서는 여러 테스트 자산에 대해 단일 집합의 키 ID 및 콘텐츠 키만 다루므로 키 관리 시스템이 필요하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-272">For our purpose, key management system is not needed since we are dealing with only a single set of key ID and content key for a couple of test assets;</span></span>
3. <span data-ttu-id="19a30-273">Hello 테스트 자산에 대 한 AMS API tooconfigure 다중 DRM 라이선스 배달 서비스를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-273">Use AMS API tooconfigure multi-DRM license delivery services for hello test asset.</span></span> <span data-ttu-id="19a30-274">사용자 지정 라이선스 서버를 회사 나 Azure 미디어 서비스에서 라이선스 서비스 대신 회사의 공급 업체에서 사용 하는 경우이 단계를 건너뛰고 라이선스 배달 구성 하기 위한 hello 단계에서 라이선스 취득 Url을 지정 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-274">If you are using custom license servers by your company or your company’s vendors instead of license services in Azure Media Services, you can skip this step and specify license acquisition URLs in hello step for configuring license delivery.</span></span> <span data-ttu-id="19a30-275">AMS API는 몇 가지 세부 필요한 toospecify 권한 부여 정책 제한 등의 구성을 등 다양 한 DRM 라이선스 서비스에 대 한 응답 템플릿을 사용 합니다. 이때 hello Azure 포털이 아직 hello이이 구성에 대 한 UI 필요한 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-275">AMS API is needed toospecify some detailed configurations, such as authorization policy restriction, license response templates for different DRM license services, etc. At this time, hello Azure portal does not yet provide hello needed UI for this configuration.</span></span> <span data-ttu-id="19a30-276">Julia Kornich의 문서 [PlayReady 및/또는 Widevine 동적 일반 암호화 사용](media-services-protect-with-drm.md)에서 API 수준 정보 및 샘플 코드를 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-276">You can find API level info and sample code in Julia Kornich’s document: [Using PlayReady and/or Widevine Dynamic Common Encryption](media-services-protect-with-drm.md).</span></span>
4. <span data-ttu-id="19a30-277">AMS API tooconfigure 자산 배달 정책을 사용 하 여 hello 테스트 자산에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-277">Use AMS API tooconfigure asset delivery policy for hello test asset.</span></span> <span data-ttu-id="19a30-278">Julia Kornich의 문서 [PlayReady 및/또는 Widevine 동적 일반 암호화 사용](media-services-protect-with-drm.md)에서 API 수준 정보 및 샘플 코드를 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-278">You can find API level info and sample code in Julia Kornich’s document: [Using PlayReady and/or Widevine Dynamic Common Encryption](media-services-protect-with-drm.md).</span></span>
5. <span data-ttu-id="19a30-279">Azure에서 Azure Active Directory 테넌트를 만들고 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-279">Create and configure an Azure Active Directory tenant in Azure;</span></span>
6. <span data-ttu-id="19a30-280">Azure Active Directory 테 넌 트의 몇 가지 사용자 계정 및 그룹 만들기: 이상 만들어야 "EntitledUser" 그룹 및 사용자 toothis 그룹을 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-280">Create a few user accounts and groups in your Azure Active Directory tenant: you should create at least “EntitledUser” group and add a user toothis group.</span></span> <span data-ttu-id="19a30-281">이 그룹의 사용자 라이선스를 취득에서 권한 검사를 통과 합니다 및이 그룹에 없는 사용자가 toopass 인증 검사에 실패 하 고 됩니다 수 tooacquire 어떠한 사용권도 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-281">Users in this group will pass entitlement check in license acquisition and users not in this group will fail toopass authentication check and will not be able tooacquire any license.</span></span> <span data-ttu-id="19a30-282">이 "EntitledUser" 그룹의 구성원은 Azure AD에서 발급 된 hello JWT 토큰에 필요한 "groups" 클레임입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-282">Being a member of this “EntitledUser” group is a required “groups” claim in hello JWT token issued by Azure AD.</span></span> <span data-ttu-id="19a30-283">이 클레임 요구 사항은 다중 DRM 라이선스 배달 서비스 단계를 구성하는 데 지정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-283">This claim requirement should be specified in configuring multi-DRM license delivery services step.</span></span>
7. <span data-ttu-id="19a30-284">비디오 플레이어를 호스팅할 ASP.NET MVC 앱을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-284">Create an ASP.NET MVC app which will be hosting your video player.</span></span> <span data-ttu-id="19a30-285">이 ASP.NET 응용 프로그램 hello Azure Active Directory 테 넌 트에 대 한 사용자 인증으로 보호 됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-285">This ASP.NET app will be protected with user authentication against hello Azure Active Directory tenant.</span></span> <span data-ttu-id="19a30-286">적절 한 클레임은 사용자 인증 후에 얻은 hello 액세스 토큰에 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-286">Proper claims will be included in hello access tokens obtained after user authentication.</span></span> <span data-ttu-id="19a30-287">이 단계에는 OpenID Connect API가 권장됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-287">OpenID Connect API is recommended for this step.</span></span> <span data-ttu-id="19a30-288">NuGet 패키지를 다음 tooinstall hello가 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-288">You need tooinstall hello following NuGet packages:</span></span>
   * <span data-ttu-id="19a30-289">Install-Package Microsoft.Azure.ActiveDirectory.GraphClient</span><span class="sxs-lookup"><span data-stu-id="19a30-289">Install-Package Microsoft.Azure.ActiveDirectory.GraphClient</span></span>
   * <span data-ttu-id="19a30-290">Install-Package Microsoft.Owin.Security.OpenIdConnect</span><span class="sxs-lookup"><span data-stu-id="19a30-290">Install-Package Microsoft.Owin.Security.OpenIdConnect</span></span>
   * <span data-ttu-id="19a30-291">Install-Package Microsoft.Owin.Security.Cookies</span><span class="sxs-lookup"><span data-stu-id="19a30-291">Install-Package Microsoft.Owin.Security.Cookies</span></span>
   * <span data-ttu-id="19a30-292">Install-Package Microsoft.Owin.Host.SystemWeb</span><span class="sxs-lookup"><span data-stu-id="19a30-292">Install-Package Microsoft.Owin.Host.SystemWeb</span></span>
   * <span data-ttu-id="19a30-293">Install-Package Microsoft.IdentityModel.Clients.ActiveDirectory</span><span class="sxs-lookup"><span data-stu-id="19a30-293">Install-Package Microsoft.IdentityModel.Clients.ActiveDirectory</span></span>
8. <span data-ttu-id="19a30-294">[Azure 미디어 플레이어 API](http://amp.azure.net/libs/amp/latest/docs/)를 사용하여 플레이어를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-294">Create a player using [Azure Media Player API](http://amp.azure.net/libs/amp/latest/docs/).</span></span> <span data-ttu-id="19a30-295">[Azure 미디어 플레이어의 ProtectionInfo API](http://amp.azure.net/libs/amp/latest/docs/) toospecify 사용 하면 다른 DRM 플랫폼에서 어떤 DRM 기술 toouse 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-295">[Azure Media Player’s ProtectionInfo API](http://amp.azure.net/libs/amp/latest/docs/) allows you toospecify which DRM technology toouse on different DRM platform.</span></span>
9. <span data-ttu-id="19a30-296">테스트 매트릭스:</span><span class="sxs-lookup"><span data-stu-id="19a30-296">Test matrix:</span></span>

| <span data-ttu-id="19a30-297">**DRM**</span><span class="sxs-lookup"><span data-stu-id="19a30-297">**DRM**</span></span> | <span data-ttu-id="19a30-298">**브라우저**</span><span class="sxs-lookup"><span data-stu-id="19a30-298">**Browser**</span></span> | <span data-ttu-id="19a30-299">**자격이 있는 사용자에 대한 결과**</span><span class="sxs-lookup"><span data-stu-id="19a30-299">**Result for Entitled User**</span></span> | <span data-ttu-id="19a30-300">**자격이 없는 사용자에 대한 결과**</span><span class="sxs-lookup"><span data-stu-id="19a30-300">**Result for Un-entitled User**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="19a30-301">**PlayReady**</span><span class="sxs-lookup"><span data-stu-id="19a30-301">**PlayReady**</span></span> |<span data-ttu-id="19a30-302">Windows 10의 MS Edge 또는 IE11</span><span class="sxs-lookup"><span data-stu-id="19a30-302">MS Edge or IE11 on Windows 10</span></span> |<span data-ttu-id="19a30-303">합격</span><span class="sxs-lookup"><span data-stu-id="19a30-303">Succeed</span></span> |<span data-ttu-id="19a30-304">불합격</span><span class="sxs-lookup"><span data-stu-id="19a30-304">Fail</span></span> |
| <span data-ttu-id="19a30-305">**Widevine**</span><span class="sxs-lookup"><span data-stu-id="19a30-305">**Widevine**</span></span> |<span data-ttu-id="19a30-306">Windows 10의 Chrome</span><span class="sxs-lookup"><span data-stu-id="19a30-306">Chrome on Windows 10</span></span> |<span data-ttu-id="19a30-307">합격</span><span class="sxs-lookup"><span data-stu-id="19a30-307">Succeed</span></span> |<span data-ttu-id="19a30-308">불합격</span><span class="sxs-lookup"><span data-stu-id="19a30-308">Fail</span></span> |
| <span data-ttu-id="19a30-309">**FairPlay**</span><span class="sxs-lookup"><span data-stu-id="19a30-309">**FairPlay**</span></span> |<span data-ttu-id="19a30-310">TBD</span><span class="sxs-lookup"><span data-stu-id="19a30-310">TBD</span></span> | | |

<span data-ttu-id="19a30-311">Azure 미디어 서비스 팀의 George Trifonov는 ASP.NET MVC 플레이어 앱에 대한 Azure Active Directory를 설정하는 자세한 단계를 제공하는 블로그, [Azure Active Directory와 Azure 미디어 서비스 OWIN MVC 기반 앱을 Azure Active Directory와 통합 및 JWT 클레임을 기반으로 하는 콘텐츠 키 배달 제한](http://gtrifonov.com/2015/01/24/mvc-owin-azure-media-services-ad-integration/)을 작성했습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-311">George Trifonov of Azure Media Services Team has written a blog providing detailed steps in setting up Azure Active Directory for an ASP.NET MVC player app: [Integrate Azure Media Services OWIN MVC based app with Azure Active Directory and restrict content key delivery based on JWT claims](http://gtrifonov.com/2015/01/24/mvc-owin-azure-media-services-ad-integration/).</span></span>

<span data-ttu-id="19a30-312">또한 [Azure 미디어 서비스 및 동적 암호화의 JWT 토큰 인증](http://gtrifonov.com/2015/01/03/jwt-token-authentication-in-azure-media-services-and-dynamic-encryption/)에 대한 블로그도 작성했습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-312">George has also written a blog on [JWT token Authentication in Azure Media Services and Dynamic Encryption](http://gtrifonov.com/2015/01/03/jwt-token-authentication-in-azure-media-services-and-dynamic-encryption/).</span></span> <span data-ttu-id="19a30-313">그리고 그의 [Azure 미디어 서비스 키 배달을 사용한 Azure AD 통합 샘플](https://github.com/AzureMediaServicesSamples/Key-delivery-with-AAD-integration/)을 여기에서 다룹니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-313">And here is his [sample on Azure AD integration with Azure Media Services key delivery](https://github.com/AzureMediaServicesSamples/Key-delivery-with-AAD-integration/).</span></span>

<span data-ttu-id="19a30-314">Azure Active Directory에 대한 자세한 내용은 다음을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="19a30-314">For information on Azure Active Directory:</span></span>

* <span data-ttu-id="19a30-315">[Azure Active Directory 개발자 가이드](../active-directory/active-directory-developers-guide.md)에서 개발자 정보를 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-315">You can find developer information in [Azure Active Directory Developer’s Guide](../active-directory/active-directory-developers-guide.md).</span></span>
* <span data-ttu-id="19a30-316">[Azure AD 디렉터리 관리](../active-directory/active-directory-administer.md)에서 관리자 정보를 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-316">You can find administrator information in [Administer Your Azure AD Directory](../active-directory/active-directory-administer.md).</span></span>

### <a name="some-gotchas-in-implementation"></a><span data-ttu-id="19a30-317">구현에 대해 몇 가지 알려진 문제</span><span class="sxs-lookup"><span data-stu-id="19a30-317">Some gotchas in implementation</span></span>
<span data-ttu-id="19a30-318">Hello 구현에서 썼지만이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-318">There are some “gotchas” in hello implementation.</span></span> <span data-ttu-id="19a30-319">다행히 문제가 발생 하는 경우 문제 해결 "문제" 목록은 다음 hello 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-319">Hopefully hello following list of “gotchas” can help you troubleshooting in case you run into issues.</span></span>

1. <span data-ttu-id="19a30-320">**발급자** URL은 **"/"**로 끝나야 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-320">**Issuer** URL should end with **"/"**.</span></span>  

    <span data-ttu-id="19a30-321">**대상 그룹** hello 플레이어 응용 프로그램 클라이언트 ID와도 추가 해야 해야 **"/"** hello 발급자 URL의 hello 끝에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-321">**Audience** should be hello player application client ID and you should also add **"/"** at hello end of hello issuer URL.</span></span>

        <add key="ida:audience" value="[Application Client ID GUID]" />
        <add key="ida:issuer" value="https://sts.windows.net/[AAD Tenant ID]/" />

    <span data-ttu-id="19a30-322">[JWT 디코더](http://jwt.calebb.net/), 표시 되어야 **aud** 및 **iss** hello JWT 토큰에서 다음과 같이 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-322">In [JWT Decoder](http://jwt.calebb.net/), you should see **aud** and **iss** as below in hello JWT token:</span></span>

    ![첫 번째 알려진 문제](./media/media-services-cenc-with-multidrm-access-control/media-services-1st-gotcha.png)
2. <span data-ttu-id="19a30-324">AAD에서 (hello 응용 프로그램의 구성 탭)에서 사용 권한을 toohello 응용 프로그램을 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-324">Add Permissions toohello application in AAD (on Configure tab of hello application).</span></span> <span data-ttu-id="19a30-325">각 응용 프로그램(로컬 및 배포된 버전)에 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-325">This is required for each application (local and deployed versions).</span></span>

    ![두 번째 알려진 문제](./media/media-services-cenc-with-multidrm-access-control/media-services-perms-to-other-apps.png)
3. <span data-ttu-id="19a30-327">동적 CENC 보호 설정에 hello 오른쪽 발급자를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-327">Use hello right issuer in setting up dynamic CENC protection:</span></span>

        <add key="ida:issuer" value="https://sts.windows.net/[AAD Tenant ID]/"/>

    <span data-ttu-id="19a30-328">hello 다음 작동 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-328">hello following will not work:</span></span>

        <add key="ida:issuer" value="https://willzhanad.onmicrosoft.com/" />

    <span data-ttu-id="19a30-329">hello GUID는 hello AAD 테 넌 트 id입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-329">hello GUID is hello AAD tenant ID.</span></span> <span data-ttu-id="19a30-330">Azure 포털에서 끝점 팝업에서 hello GUID를 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-330">hello GUID can be found in Endpoints popup in Azure portal.</span></span>
4. <span data-ttu-id="19a30-331">그룹 멤버 자격 클레임 권한을 부여합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-331">Grant group membership claims privileges.</span></span> <span data-ttu-id="19a30-332">Hello 다음 했으므로, AAD 응용 프로그램 매니페스트 파일에서 올바른지 확인</span><span class="sxs-lookup"><span data-stu-id="19a30-332">Make sure in AAD application manifest file, we have hello following</span></span>

    <span data-ttu-id="19a30-333">"groupMembershipClaims": "All" (hello 기본값은 null)</span><span class="sxs-lookup"><span data-stu-id="19a30-333">"groupMembershipClaims": "All",    (hello default value is null)</span></span>
5. <span data-ttu-id="19a30-334">제한 사항 요구 사항을 만들 때 적절한 TokenType을 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-334">Setting proper TokenType when creating restriction requirements.</span></span>

        objTokenRestrictionTemplate.TokenType = TokenType.JWT;

    <span data-ttu-id="19a30-335">추가 지원 하기 때문 JWT (AAD)의 또한 tooSWT (ACS) hello TokenType 기본값이 TokenType.JWT입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-335">Since adding support of JWT (AAD) in addition tooSWT (ACS), hello default TokenType is TokenType.JWT.</span></span> <span data-ttu-id="19a30-336">SWT/ACS를 사용 하는 경우에 tooTokenType.SWT를 설정 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-336">If you use SWT/ACS, you must set tooTokenType.SWT.</span></span>

## <a name="additional-topics-for-implementation"></a><span data-ttu-id="19a30-337">구현에 대한 추가 토픽</span><span class="sxs-lookup"><span data-stu-id="19a30-337">Additional Topics for Implementation</span></span>
<span data-ttu-id="19a30-338">다음으로 디자인 및 구현에 대한 몇 가지 추가 토픽에 대해서 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-338">Next we will disc uss some additional topics in our design and implementation.</span></span>

### <a name="http-or-https"></a><span data-ttu-id="19a30-339">HTTP 또는 HTTPS</span><span class="sxs-lookup"><span data-stu-id="19a30-339">HTTP or HTTPS?</span></span>
<span data-ttu-id="19a30-340">ASP.NET MVC 플레이어 응용 프로그램 구축 hello hello 다음을 지원 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-340">hello ASP.NET MVC player application we built must support hello following:</span></span>

1. <span data-ttu-id="19a30-341">Toobe HTTPS; 아래는 Azure AD 통해 사용자 인증</span><span class="sxs-lookup"><span data-stu-id="19a30-341">User authentication through Azure AD which needs toobe under HTTPS;</span></span>
2. <span data-ttu-id="19a30-342">클라이언트와 toobe HTTPS; 아래는 Azure AD 간의 JWT 토큰 교환</span><span class="sxs-lookup"><span data-stu-id="19a30-342">JWT token exchange between client and Azure AD which needs toobe under HTTPS;</span></span>
3. <span data-ttu-id="19a30-343">라이선스를 취득 hello 클라이언트 라이선스 배달 Azure 미디어 서비스에서 제공 하는 경우 HTTPS에서 필요한 toobe 하 여 DRM 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-343">DRM license acquisition by hello client which is required toobe under HTTPS if license delivery is provided by Azure Media Services.</span></span> <span data-ttu-id="19a30-344">물론 PlayReady 제품군은 라이선스 배달에 대한 HTTPS를 위임하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-344">Of course, PlayReady product suite does not mandate HTTPS for license delivery.</span></span> <span data-ttu-id="19a30-345">PlayReady 라이선스 서버가 Azure 미디어 서비스 외부에 있는 경우 HTTP 또는 HTTPS를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-345">If your PlayReady license server is outside of Azure Media Services, either HTTP or HTTPS could be used.</span></span>

<span data-ttu-id="19a30-346">따라서 hello ASP.NET 플레이어 응용 프로그램에서 모범 사례로 HTTPS를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-346">Therefore, hello ASP.NET player application will use HTTPS as a best practice.</span></span> <span data-ttu-id="19a30-347">즉, hello Azure Media Player 페이지 HTTPS 아래의 됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-347">This means hello Azure Media Player will be on a page under HTTPS.</span></span> <span data-ttu-id="19a30-348">그러나 스트리밍에 대 한 혼합 콘텐츠 문제 tooconsider 필요 하므로, HTTP 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-348">However, for streaming we prefer HTTP, hence we need tooconsider mixed content issue.</span></span>

1. <span data-ttu-id="19a30-349">브라우저에서는 혼합 콘텐츠를 허용하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-349">Browser does not allow mixed content.</span></span> <span data-ttu-id="19a30-350">하지만 Silverlight과 같은 플러그인, 부드러운 스트리밍을 위한 OSMF 플러그인 및 DASH는 허용합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-350">But plugins like Silverlight and OSMF plugin for smooth and DASH allow.</span></span> <span data-ttu-id="19a30-351">혼합 된 콘텐츠는 보안 문제-toohello 위협 때문에 이것이 hello 기능 tooinject의을 일으킬 수 있는 악의적인 JS hello 고객 데이터 toobe 위험에 노출 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-351">Mixed content is a security concern - This is due toohello threat of hello ability tooinject malicious JS which can cause hello customer data toobe at risk.</span></span>  <span data-ttu-id="19a30-352">브라우저에서는 기본적으로이 차단 되며 지금까지 주위 hello 유일한 방법은 toowork tooallow hello 서버 (원점) 변에 모든 도메인 (관계 없이 https 또는 http).</span><span class="sxs-lookup"><span data-stu-id="19a30-352">Browsers block this by default and so far hello only way toowork around it is on hello server (origin) side, tooallow all domains (regardless https or http).</span></span> <span data-ttu-id="19a30-353">하지만 좋은 방법은 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-353">This is probably not a good idea either.</span></span>
2. <span data-ttu-id="19a30-354">둘 다 HTTP를 사용하거나 둘 다 HTTPS를 사용해서 혼합 콘텐츠를 피해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-354">We should avoid mixed content: either both use HTTP or both use HTTPS.</span></span> <span data-ttu-id="19a30-355">혼합된 콘텐츠를 재생할 때 silverlightSS 기술은 혼합된 콘텐츠 경고를 지워야 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-355">When playing mixed content, silverlightSS tech requires clearing a mixed content warning.</span></span> <span data-ttu-id="19a30-356">flashSS 기술은 혼합된 콘텐츠 경고 없이 혼합된 콘텐츠를 처리합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-356">flashSS tech handles mixed content without mixed content warning.</span></span>
3. <span data-ttu-id="19a30-357">스트리밍 끝점이 2014년 8월 전에 만들어진 경우 HTTPS를 지원하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-357">If your streaming endpoint was created before August 2014, it will not support HTTPS.</span></span> <span data-ttu-id="19a30-358">이 경우 HTTPS에 대한 새 스트리밍 끝점을 만들어 사용하세요.</span><span class="sxs-lookup"><span data-stu-id="19a30-358">In this case, please create and use a new streaming endpoint for HTTPS.</span></span>

<span data-ttu-id="19a30-359">Hello 참조 구현 DRM으로 보호 된 내용에 대 한 응용 프로그램 및 스트리밍 HTTTPS 아래 됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-359">In hello reference implementation, for DRM protected contents, both application and streaming will be under HTTTPS.</span></span> <span data-ttu-id="19a30-360">열린 내용에 대 한 hello 플레이어 필요는 없습니다 인증 또는 라이선스 수 있도록 hello liberty toouse 하거나 HTTP 또는 HTTPS입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-360">For open contents, hello player does not need authentication or license, so you have hello liberty toouse either HTTP or HTTPS.</span></span>

### <a name="azure-active-directory-signing-key-rollover"></a><span data-ttu-id="19a30-361">Azure Active Directory 서명 키 롤오버</span><span class="sxs-lookup"><span data-stu-id="19a30-361">Azure Active Directory signing key rollover</span></span>
<span data-ttu-id="19a30-362">구현 고려 사항에는 중요 한 지점을 tootake입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-362">This is an important point tootake into consideration of your implementation.</span></span> <span data-ttu-id="19a30-363">이 구현에서 고려 하지 않는 완료 hello 시스템은 결국 작업 최대 6 주 동안 완전히 중지 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-363">If you do not consider this in your implementation, hello completed system will eventually stop working completely within at most 6 weeks.</span></span>

<span data-ttu-id="19a30-364">Azure AD는 업계 표준 tooestablish 신뢰 자체와 Azure AD를 사용 하 여 응용 프로그램 사이 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-364">Azure AD uses industry standard tooestablish trust between itself and applications using Azure AD.</span></span> <span data-ttu-id="19a30-365">특히, Azure AD는 공개 및 개인 키 쌍으로 구성된 서명 키를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-365">Specifically, Azure AD uses a signing key that consists of a public and private key pair.</span></span> <span data-ttu-id="19a30-366">Azure AD 사용자 hello에 대 한 정보를 포함 하는 보안 토큰을 만들 때 응용 프로그램 백 toohello 전송 하기 전에 해당 개인 키를 사용 하 여 Azure AD에서이 토큰이 서명 됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-366">When Azure AD creates a security token that contains information about hello user, this token is signed by Azure AD using its private key before it is sent back toohello application.</span></span> <span data-ttu-id="19a30-367">토큰 hello tooverify가 유효 하 고 실제로 Azure AD에서 공개한, hello 응용 프로그램 hello hello 테 넌 트의 페더레이션 메타 데이터 문서에 포함 된 Azure AD에 의해 노출 되는 공개 키를 사용 하 여 hello 토큰 서명의 유효성을 검사 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-367">tooverify that hello token is valid and actually originated from Azure AD, hello application must validate hello token’s signature using hello public key exposed by Azure AD that is contained in hello tenant’s federation metadata document.</span></span> <span data-ttu-id="19a30-368">이 공개 키 – 및 hello 서명 키 파생 되는 –는 hello Azure AD 테 넌 트의 모든 사용 하는 동일한 것입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-368">This public key – and hello signing key from which it derives – is hello same one used for all tenants in Azure AD.</span></span>

<span data-ttu-id="19a30-369">Hello 문서에서 키 롤오버를 Azure AD에 대 한 자세한 정보를 확인할 수 있습니다: [Azure AD의 서명 키 롤오버에 대 한 중요 한 정보](../active-directory/active-directory-signing-key-rollover.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-369">Detailed info on Azure AD key rollover can be found in hello document: [Important Information about Signing Key Rollover in Azure AD](../active-directory/active-directory-signing-key-rollover.md).</span></span>

<span data-ttu-id="19a30-370">Hello 사이 [공개-개인 키 쌍](https://login.microsoftonline.com/common/discovery/keys/),</span><span class="sxs-lookup"><span data-stu-id="19a30-370">Between hello [public-private key pair](https://login.microsoftonline.com/common/discovery/keys/),</span></span>

* <span data-ttu-id="19a30-371">hello 개인 키를 사용 하 여 Azure Active Directory toogenerate JWT 토큰입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-371">hello private key is used by Azure Active Directory toogenerate a JWT token;</span></span>
* <span data-ttu-id="19a30-372">hello 공개 키가 AMS tooverify hello JWT 토큰의 DRM 라이선스 배달 서비스와 같은 응용 프로그램에서 사용</span><span class="sxs-lookup"><span data-stu-id="19a30-372">hello public key is used by an application such as DRM License Delivery Services in AMS tooverify hello JWT token;</span></span>

<span data-ttu-id="19a30-373">보안을 위해 Azure Active Directory는 이 인증서를 주기적(6주마다)으로 바꿉니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-373">For security purpose, Azure Active Directory rotates this certificate periodically (every 6 weeks).</span></span> <span data-ttu-id="19a30-374">보안 위반 시 hello 키 롤오버 언제 든 지 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-374">In case of security breaches, hello key rollover can occur any time.</span></span> <span data-ttu-id="19a30-375">따라서 AMS의 hello 라이선스 배달 서비스 hello 키 쌍을 회전 하는 Azure AD 토큰 인증에서 AMS 그렇지 않으면 실패 합니다 하 고 라이선스가 없습니다. 실행 될 때 사용할 tooupdate hello 공개 키가 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-375">Therefore, hello license delivery services in AMS need tooupdate hello public key used as Azure AD rotates hello key pair, otherwise token authentication in AMS will fail and no license will be issued.</span></span>

<span data-ttu-id="19a30-376">이 작업은 DRM 라이선스 배달 서비스를 구성할 때 TokenRestrictionTemplate.OpenIdConnectDiscoveryDocument를 설정하여 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-376">This is achieved by setting TokenRestrictionTemplate.OpenIdConnectDiscoveryDocument when configuring DRM license delivery services.</span></span>

<span data-ttu-id="19a30-377">hello JWT 토큰 흐름은 아래:</span><span class="sxs-lookup"><span data-stu-id="19a30-377">hello JWT token flow is as below:</span></span>

1. <span data-ttu-id="19a30-378">Azure AD가 인증된 된 사용자;에 대 한 hello 현재 개인 키가 있는 hello JWT 토큰을 발급</span><span class="sxs-lookup"><span data-stu-id="19a30-378">Azure AD will issue hello JWT token with hello current private key for an authenticated user;</span></span>
2. <span data-ttu-id="19a30-379">플레이어 다중-DRM으로 보호 된 콘텐츠가 있는 CENC을 인식 하는 경우 Azure AD에서 발급 하는 hello JWT 토큰을 찾을 먼저 됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-379">When a player sees a CENC with multi-DRM protected content, it will first locate hello JWT token issued by Azure AD.</span></span>
3. <span data-ttu-id="19a30-380">hello 플레이어는 hello JWT 토큰 toolicense 배달 서비스를 사용 하 여 라이선스 취득 요청을 AMS;에 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-380">hello player sends license acquisition request with hello JWT token toolicense delivery services in AMS;</span></span>
4. <span data-ttu-id="19a30-381">AMS에 hello 라이선스 배달 서비스 라이선스를 발급 하기 전에 Azure AD tooverify hello JWT 토큰에서 hello 현재/올바른 공개 키를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-381">hello license delivery services in AMS will use hello current/valid public key from Azure AD tooverify hello JWT token, before issuing licenses.</span></span>

<span data-ttu-id="19a30-382">Azure AD에서 현재/올바른 공개 키를 hello에 대 한 DRM 라이선스 배달 서비스를 항상 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-382">DRM license delivery services will always be checking for hello current/valid public key from Azure AD.</span></span> <span data-ttu-id="19a30-383">Azure AD에서 제공 하는 hello 공개 키를 Azure AD에서 발급 한 JWT 토큰을 확인 하는 데 사용 되는 hello 키가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-383">hello public key presented by Azure AD will be hello key used for verifying a JWT token issued by Azure AD.</span></span>

<span data-ttu-id="19a30-384">경우에 어떻게 hello 키 롤오버 후 AAD JWT 토큰을 생성 되기 전에 hello JWT 토큰은 플레이어 tooDRM 라이선스 배달 서비스에에서 의해 AMS 확인을 위해 전송 됩니까?</span><span class="sxs-lookup"><span data-stu-id="19a30-384">What if hello key rollover happens after AAD generates a JWT token but before hello JWT token is sent by players tooDRM license delivery services in AMS for verification?</span></span>

<span data-ttu-id="19a30-385">없기 때문에 키를 언제 든 지 롤오버 될 수 있습니다, 항상 올바른 공개 키를 둘 이상의 hello 페더레이션 메타 데이터 문서에서 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-385">Because a key may be rolled at any moment, there is always more than one valid public key available in hello federation metadata document.</span></span> <span data-ttu-id="19a30-386">Azure 미디어 서비스 라이선스 배달 키에에서 지정 된 hello 문서 키가 두 개를 곧 롤오버 될 수 있으므로 다른 수를 대체할 유 니 hello를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-386">Azure Media Services license delivery can use any of hello keys specified in hello document, since one key may be rolled soon, another may be its replacement, and so forth.</span></span>

### <a name="where-is-hello-access-token"></a><span data-ttu-id="19a30-387">여기서는 액세스 토큰 hello?</span><span class="sxs-lookup"><span data-stu-id="19a30-387">Where is hello Access Token?</span></span>
<span data-ttu-id="19a30-388">웹 응용 프로그램에서 API 앱을 호출 하는 방법을 살펴볼 [OAuth 2.0 클라이언트 자격 증명 부여를 사용 하는 응용 프로그램 Id](../active-directory/develop/active-directory-authentication-scenarios.md#web-application-to-web-api),으로 hello 인증 흐름은 아래:</span><span class="sxs-lookup"><span data-stu-id="19a30-388">If you look at how a web app calls an API app under [Application Identity with OAuth 2.0 Client Credentials Grant](../active-directory/develop/active-directory-authentication-scenarios.md#web-application-to-web-api), hello authentication flow is as below:</span></span>

1. <span data-ttu-id="19a30-389">TooAzure AD hello 웹 응용 프로그램에서 사용자가 로그인 (hello 참조 [웹 브라우저 응용 프로그램 tooWeb](../active-directory/develop/active-directory-authentication-scenarios.md#web-browser-to-web-application)합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-389">A user is signed in tooAzure AD in hello web application (see hello [Web Browser tooWeb Application](../active-directory/develop/active-directory-authentication-scenarios.md#web-browser-to-web-application).</span></span>
2. <span data-ttu-id="19a30-390">hello Azure AD 권한 부여 끝점 hello 사용자 에이전트 백 toohello 클라이언트 응용 프로그램을 권한 부여 코드와 함께 리디렉션합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-390">hello Azure AD authorization endpoint redirects hello user agent back toohello client application with an authorization code.</span></span> <span data-ttu-id="19a30-391">hello 사용자 에이전트가 인증 코드 toohello 클라이언트 응용 프로그램의 리디렉션 URI를 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-391">hello user agent returns authorization code toohello client application’s redirect URI.</span></span>
3. <span data-ttu-id="19a30-392">hello 웹 응용 프로그램 toohello 웹 API를 인증 하 고 원하는 hello 리소스를 검색할 수 있도록 tooacquire 액세스 토큰이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-392">hello web application needs tooacquire an access token so that it can authenticate toohello web API and retrieve hello desired resource.</span></span> <span data-ttu-id="19a30-393">Hello 자격 증명, 클라이언트 ID 및 web API의 응용 프로그램 ID URI를 제공 하는 요청 tooAzure AD의 토큰 끝점을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-393">It makes a request tooAzure AD’s token endpoint, providing hello credential, client ID, and web API’s application ID URI.</span></span> <span data-ttu-id="19a30-394">Hello 권한 부여 코드 tooprove 해당 hello에서는 사용자가 동의 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-394">It presents hello authorization code tooprove that hello user has consented.</span></span>
4. <span data-ttu-id="19a30-395">Azure AD hello 응용 프로그램을 인증 하 고는 사용 되는 toocall hello 웹 API JWT 액세스 토큰을 반환 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-395">Azure AD authenticates hello application and returns a JWT access token that is used toocall hello web API.</span></span>
5. <span data-ttu-id="19a30-396">HTTPS를 통해 웹 응용 프로그램 hello hello 요청 toohello web API의 hello 권한 부여 헤더에 JWT 액세스 토큰 tooadd hello "Bearer" 라는 지정 JWT 문자열을 반환 하는 hello를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-396">Over HTTPS, hello web application uses hello returned JWT access token tooadd hello JWT string with a “Bearer” designation in hello Authorization header of hello request toohello web API.</span></span> <span data-ttu-id="19a30-397">hello web API 다음 hello JWT 토큰을 확인 하 고 원하는 리소스를 반환 hello 유효성 검사가 성공 하면 키를 누릅니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-397">hello web API then validates hello JWT token, and if validation is successful, returns hello desired resource.</span></span>

<span data-ttu-id="19a30-398">이 "응용 프로그램 id" 흐름 hello web API는 해당 hello 웹 응용 프로그램 인증 된 hello 사용자를 신뢰합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-398">In this “application identity” flow, hello web API trusts that hello web application authenticated hello user.</span></span> <span data-ttu-id="19a30-399">이런 이유로, 이 패턴을 신뢰할 수 있는 하위 시스템이라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-399">For this reason, this pattern is called a trusted subsystem.</span></span> <span data-ttu-id="19a30-400">hello [이 페이지에는 다이어그램](https://docs.microsoft.com/azure/active-directory/active-directory-protocols-oauth-code) 인증 코드 부여 흐름이 작동 하는 방법에 대해 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-400">hello [diagram on this page](https://docs.microsoft.com/azure/active-directory/active-directory-protocols-oauth-code) describes how authorization code grant flow works.</span></span>

<span data-ttu-id="19a30-401">토큰 제한 된 라이선스를 취득에서 우리는 다음과 같습니다. hello 같은 신뢰할 수 있는 하위 패턴입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-401">In license acquisition with token restriction, we are following hello same trusted subsystem pattern.</span></span> <span data-ttu-id="19a30-402">Azure 미디어 서비스에서 hello 라이선스 배달 서비스는 hello 웹 API 리소스에 "백 엔드 리소스" hello는 웹 응용 프로그램이 tooaccess 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-402">And hello license delivery service in Azure Media Services is hello web API resource, hello “backend resource” a web application needs tooaccess.</span></span> <span data-ttu-id="19a30-403">따라서 hello 액세스 토큰 어디 입니까?</span><span class="sxs-lookup"><span data-stu-id="19a30-403">So where is hello access token?</span></span>

<span data-ttu-id="19a30-404">실제로, Azure AD에서 액세스 토큰을 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-404">Indeed, we are obtaining access token from Azure AD.</span></span> <span data-ttu-id="19a30-405">사용자 인증에 성공하면 인증 코드가 반환됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-405">After successful user authentication, authorization code is returned.</span></span> <span data-ttu-id="19a30-406">클라이언트 ID와 응용 프로그램 키, 액세스 토큰에 대 한 tooexchange 함께 hello 권한 부여 코드가 다음을 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-406">hello authorization code is then used, together with client ID and app key, tooexchange for access token.</span></span> <span data-ttu-id="19a30-407">및 hello 액세스 토큰 가리키는 "포인터" 응용 프로그램에 액세스 또는 Azure 미디어 서비스 라이선스 배달 서비스를 나타내는입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-407">And hello access token is for accessing a “pointer” application pointing or representing Azure Media Services license delivery service.</span></span>

<span data-ttu-id="19a30-408">다음 hello 단계를 수행 하 여 Azure AD에서 hello "포인터" 응용 프로그램을 구성 및 tooregister 필요:</span><span class="sxs-lookup"><span data-stu-id="19a30-408">We need tooregister and configure hello “pointer” app in Azure AD by following hello steps below:</span></span>

1. <span data-ttu-id="19a30-409">Hello Azure AD 테 넌 트</span><span class="sxs-lookup"><span data-stu-id="19a30-409">In hello Azure AD tenant</span></span>

   * <span data-ttu-id="19a30-410">로그온 URL과 함께 응용 프로그램(리소스)을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-410">add an application (resource) with sign-on URL:</span></span>

   <span data-ttu-id="19a30-411">https://[resource_name].azurewebsites.net/ 및</span><span class="sxs-lookup"><span data-stu-id="19a30-411">https://[resource_name].azurewebsites.net/ and</span></span>

   * <span data-ttu-id="19a30-412">앱 ID URL:</span><span class="sxs-lookup"><span data-stu-id="19a30-412">app ID URL:</span></span>

   <span data-ttu-id="19a30-413">https://[aad_tenant_name].onmicrosoft.com/[resource_name];</span><span class="sxs-lookup"><span data-stu-id="19a30-413">https://[aad_tenant_name].onmicrosoft.com/[resource_name];</span></span>
2. <span data-ttu-id="19a30-414">Hello 리소스 응용 프로그램에 대 한 새 키를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-414">Add a new key for hello resource app;</span></span>
3. <span data-ttu-id="19a30-415">Hello groupMembershipClaims 속성에는 다음 값 hello 있도록 hello 응용 프로그램 매니페스트 파일 업데이트: "groupMembershipClaims": "All",</span><span class="sxs-lookup"><span data-stu-id="19a30-415">Update hello app manifest file so that hello groupMembershipClaims property has hello following value: "groupMembershipClaims": "All",</span></span>  
4. <span data-ttu-id="19a30-416">"사용 권한 tooother applications" hello 절의 toohello 플레이어 웹 응용 프로그램을 가리키는 hello Azure AD 앱에서 위의 1 단계에서 추가 된 hello 리소스 응용 프로그램을 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-416">In hello Azure AD app pointing toohello player web app, in hello section “permissions tooother applications”, add hello resource app which was added in step 1 above.</span></span> <span data-ttu-id="19a30-417">"위임된 권한"에서 "[resource_name] 액세스" 확인 표시를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-417">Under “delegated permissions” check “Access [resource_name]” checkmark.</span></span> <span data-ttu-id="19a30-418">이 hello 웹 응용 프로그램 사용 권한을 부여 toocreate 액세스 토큰 hello 리소스 응용 프로그램에 액세스 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-418">This gives hello web app permission toocreate access tokens for accessing hello resource app.</span></span> <span data-ttu-id="19a30-419">Visual Studio 및 Azure 웹 앱과 함께 개발 하는 경우 로컬 및 배포 된 버전의 hello 웹 앱에 대 한이 수행 해야 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-419">You should do this for both local and deployed version of hello web app if you are developing with Visual Studio and Azure web app.</span></span>

<span data-ttu-id="19a30-420">따라서 Azure AD에서 발급 하는 hello JWT 토큰은 실제로이 "포인터" 리소스에 액세스 하기 위한 hello 액세스 토큰입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-420">Therefore, hello JWT token issued by Azure AD is indeed hello access token for accessing this “pointer” resource.</span></span>

### <a name="what-about-live-streaming"></a><span data-ttu-id="19a30-421">라이브 스트리밍의 경우는 어떨까요?</span><span class="sxs-lookup"><span data-stu-id="19a30-421">What about Live Streaming?</span></span>
<span data-ttu-id="19a30-422">위의 hello에서 논의 했습니다 되었습니다 중점적으로 주문형으로 자산입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-422">In hello above, our discussion has been focusing on on-demand assets.</span></span> <span data-ttu-id="19a30-423">라이브 스트리밍의 경우는 어떨까요?</span><span class="sxs-lookup"><span data-stu-id="19a30-423">What about live streaming?</span></span>

<span data-ttu-id="19a30-424">hello 다행 스럽게도 정확 하 게 사용할 수 있는 동일한 디자인 및 구현 "VOD 자산"으로 프로그램과 연결 된 hello 자산을 처리 하 여 Azure 미디어 서비스에서 라이브 스트리밍 보호를 위한 hello 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-424">hello good news is that you can use exactly hello same design and implementation for protecting live streaming in Azure Media Services, by treating hello asset associated with a program as a “VOD asset”.</span></span>

<span data-ttu-id="19a30-425">구체적으로 잘 알려진 toodo 라이브 Azure 미디어 서비스에서 스트리밍 채널을 다음 hello 채널에서 프로그램 toocreate 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-425">Specifically, it is well known that toodo live streaming in Azure Media Services, you need toocreate a channel, then a program under hello channel.</span></span> <span data-ttu-id="19a30-426">toocreate hello 프로그램 toocreate hello 프로그램에 대 한 라이브 보관 hello를 포함 하는 자산 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-426">toocreate hello program, you need toocreate an asset which will contain hello live archive for hello program.</span></span> <span data-ttu-id="19a30-427">다중 DRM 보호 하기만 하면 toodo, hello 라이브 콘텐츠의와 순서 tooprovide CENC에서에서은 tooapply hello 동일한 설치/처리 toohello 자산 hello 프로그램을 시작 하기 전에 "VOD 자산" 인 경우에 따라 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-427">In order tooprovide CENC with multi-DRM protection of hello live content, all you need toodo, is tooapply hello same setup/processing toohello asset as if it was a “VOD asset” before you start hello program.</span></span>

### <a name="what-about-license-servers-outside-of-azure-media-services"></a><span data-ttu-id="19a30-428">Azure 미디어 서비스 외부에서 라이선스 서버는 어떨까요?</span><span class="sxs-lookup"><span data-stu-id="19a30-428">What about license servers outside of Azure Media Services?</span></span>
<span data-ttu-id="19a30-429">고객들은 대체로 고유한 데이터 센터 또는 DRM 서비스 공급자가 호스팅하는 형태로 라이선스 서버 팜에 투자할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-429">Often, customers may have invested in license server farm either in their own data center or hosted by DRM service providers.</span></span> <span data-ttu-id="19a30-430">다행히 Azure 미디어 서비스 콘텐츠 보호 하면 toooperate 혼합 모드에서: 내용이 호스팅되며 Azure 미디어 서비스 외부의 서버를 통해 DRM 라이선스를 배달 하는 동안 Azure 미디어 서비스에서 동적으로 보호 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-430">Fortunately, Azure Media Services Content Protection allows you toooperate in hybrid mode: contents hosted and dynamically protected in Azure Media Services, while DRM licenses are delivered by servers outside Azure Media Services.</span></span> <span data-ttu-id="19a30-431">이 경우 변경 따른 다음 hello 가지가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-431">In this case, there are hello following considerations of changes:</span></span>

1. <span data-ttu-id="19a30-432">hello 보안 토큰 서비스 요구 tooissue 있는 토큰을 사용할 수 있으며 hello 라이선스 서버 팜에서 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-432">hello Secure Token Service needs tooissue tokens which are acceptable and can be verified by hello license server farm.</span></span> <span data-ttu-id="19a30-433">예를 들어 Axinom에서 제공 하는 hello Widevine 라이선스 서버 "메시지 자격"을 포함 하는 특정 JWT 토큰이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-433">For example, hello Widevine license servers provided by Axinom requires a specific JWT token which contains “entitlement message”.</span></span> <span data-ttu-id="19a30-434">따라서 STS tooissue toohave 이러한 JWT 토큰이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-434">Therefore, you need toohave an STS tooissue such JWT token.</span></span> <span data-ttu-id="19a30-435">hello 작성자는 이러한 구현을 완료 하 고 문서에 따라 hello에서 hello 세부 정보를 찾을 수 있습니다 [Azure 설명서 센터](https://azure.microsoft.com/documentation/): [를 사용 하 여 Axinom toodeliver Widevine 라이선스tooAzure미디어서비스](media-services-axinom-integration.md).</span><span class="sxs-lookup"><span data-stu-id="19a30-435">hello authors have completed such an implementation and you can find hello details in hello following document in [Azure Documentation Center](https://azure.microsoft.com/documentation/): [Using Axinom toodeliver Widevine licenses tooAzure Media Services](media-services-axinom-integration.md).</span></span>
2. <span data-ttu-id="19a30-436">Azure 미디어 서비스에서 tooconfigure 라이선스 배달 서비스 (ContentKeyAuthorizationPolicy) 더 이상 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-436">You no longer need tooconfigure license delivery service (ContentKeyAuthorizationPolicy) in Azure Media Services.</span></span> <span data-ttu-id="19a30-437">필요한 toodo 됩니다 (예: PlayReady, Widevine 및 FairPlay) tooprovide hello 라이선스 취득 Url을 구성한 경우 AssetDeliveryPolicy CENC 다중 DRM으로 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-437">What you need toodo is tooprovide hello license acquisition URLs (for PlayReady, Widevine and FairPlay) when you configure AssetDeliveryPolicy in setting up CENC with multi-DRM.</span></span>

### <a name="what-if-i-want-toouse-a-custom-sts"></a><span data-ttu-id="19a30-438">사용자 지정 STS toouse을 원하는 경우 어떻게 합니까?</span><span class="sxs-lookup"><span data-stu-id="19a30-438">What if I want toouse a custom STS?</span></span>
<span data-ttu-id="19a30-439">고객이 JWT 토큰을 제공 하는 데 toouse 사용자 지정 STS (보안 토큰 서비스)를 선택할 수 있는 몇 가지 이유 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-439">There could be a few reasons that a customer may choose toouse a custom STS (Secure Token Service) for providing JWT tokens.</span></span> <span data-ttu-id="19a30-440">다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-440">Some of them are:</span></span>

1. <span data-ttu-id="19a30-441">hello Identity 공급자 (IDP) hello 고객에서 사용 하는 STS를 지원 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-441">hello Identity Provider (IDP) used by hello customer does not support STS.</span></span> <span data-ttu-id="19a30-442">이 경우 사용자 지정 STS가 옵션일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-442">In this case a custom STS may be an option.</span></span>
2. <span data-ttu-id="19a30-443">hello 고객 요금 청구 시스템 고객의 구독자와 STS의 통합에 보다 유연한 또는 긴밀 하 게 제어를 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-443">hello customer may need more flexible or tighter control in integrating STS with customer’s subscriber billing system.</span></span> <span data-ttu-id="19a30-444">예를 들어 MVPD 연산자 premium, basic, 스포츠와 같은 여러 OTT 구독자 패키지를 제공할 수 있습니다, 그리고 hello 오른쪽 패키지의 내용에만 사용할 수 없도록 등 hello 연산자가 구독자의 패키지와 토큰의 toomatch hello 클레임을 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-444">For example, an MVPD operator may offer multiple OTT subscriber packages such as premium, basic, sports, etc. hello operator may want toomatch hello claims in a token with a subscriber’s package so that only contents in hello right package is made available.</span></span> <span data-ttu-id="19a30-445">이 경우 사용자 지정 STS hello 필요한 유연성 및 제어를 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-445">In this case, a custom STS provides hello needed flexibility and control.</span></span>

<span data-ttu-id="19a30-446">두 가지 변경 내용이 사용자 지정 STS를 사용 시 toobe가 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-446">Two changes need toobe made when using a custom STS:</span></span>

1. <span data-ttu-id="19a30-447">자산에 대 한 라이선스 배달 서비스를 구성할 때 toospecify hello 보안 키 대신 Azure Active Directory에서 현재 키 hello hello 사용자 지정 STS (아래의 자세한 내용)에서 확인에 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-447">When configuring license delivery service for an asset, you need toospecify hello security key used for verification by hello custom STS (more details below) instead of hello current key from Azure Active Directory.</span></span>
2. <span data-ttu-id="19a30-448">JTW 토큰 생성 되 면 hello Azure Active Directory에 hello 현재 X509 인증서의 개인 키 대신 보안 키가 지정 됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-448">When a JTW token is generated, a security key is specified instead of hello private key of hello current X509 certificate in Azure Active Directory.</span></span>

<span data-ttu-id="19a30-449">두 가지 유형의 보안 키가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-449">There are two types of security keys:</span></span>

1. <span data-ttu-id="19a30-450">대칭 키: hello; JWT 토큰을 확인 하 고 생성 모두 동일한 키가 사용</span><span class="sxs-lookup"><span data-stu-id="19a30-450">Symmetric key: hello same key is used for both generating and verifying a JWT token;</span></span>
2. <span data-ttu-id="19a30-451">비대칭 키: 공개-개인 키 쌍에서 X509 인증서 JWT 토큰 및 hello 공개 키 hello 토큰을 확인 하는 데 암호화/생성을 위한 개인 키로 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-451">Asymmetric key: a public-private key pair in an X509 certificate is used with private key for encrypting/generating a JWT token and hello public key for verifying hello token.</span></span>

#### <a name="tech-note"></a><span data-ttu-id="19a30-452">기술 참고 사항</span><span class="sxs-lookup"><span data-stu-id="19a30-452">Tech note</span></span>
<span data-ttu-id="19a30-453">.NET Framework를 사용 하는 경우 C# 개발 플랫폼으로 X509 hello / 비대칭 보안 키에 사용 된 인증서 키 길이가 2048 이상 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-453">If you use .NET Framework/C# as your development platform, hello X509 certificate used for asymmetric security key must have key length at least 2048.</span></span> <span data-ttu-id="19a30-454">이 작업은 hello 클래스 System.IdentityModel.Tokens.X509AsymmetricSecurityKey.NET Framework에서의 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-454">This is a requirement of hello class System.IdentityModel.Tokens.X509AsymmetricSecurityKey in .NET Framework.</span></span> <span data-ttu-id="19a30-455">그렇지 않으면 hello 다음 예외가 throw 됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-455">Otherwise, hello following exception will be thrown:</span></span>

<span data-ttu-id="19a30-456">IDX10630: 서명 하는 것에 대 한 'System.IdentityModel.Tokens.X509AsymmetricSecurityKey' hello '2048' 비트 보다 작을 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-456">IDX10630: hello 'System.IdentityModel.Tokens.X509AsymmetricSecurityKey' for signing cannot be smaller than '2048' bits.</span></span>

## <a name="hello-completed-system-and-test"></a><span data-ttu-id="19a30-457">완료 하는 hello 시스템 및 테스트</span><span class="sxs-lookup"><span data-stu-id="19a30-457">hello completed system and test</span></span>
<span data-ttu-id="19a30-458">단계별로 몇 가지 시나리오를 완료 하는 hello 종단 간 시스템에 판독기 로그인 계정의 가져오기 전에 basic hello 동작의 "형식"을 가질 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-458">We will walk through a few scenarios in hello completed end-to-end system so that readers can have a basic “picture” of hello behavior before getting a login account.</span></span>

<span data-ttu-id="19a30-459">hello 플레이어 웹 응용 프로그램 및 로그인 있습니다 [여기](https://openidconnectweb.azurewebsites.net/)합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-459">hello player web application and its login can be found [here](https://openidconnectweb.azurewebsites.net/).</span></span>

<span data-ttu-id="19a30-460">필요한 경우 "비통합" 시나리오: 어떤은 보호 되지 않은 상태로 하나 또는 DRM으로 보호 된 Azure 미디어 서비스에서 호스트 되는 비디오 자산 하지만 (요청 하는 라이선스 toowhoever 발급) 토큰 인증 없이 테스트할 수 로그인 없이 (전환 하 여 tooHTTP HTTP를 통해이 비디오 스트리밍).</span><span class="sxs-lookup"><span data-stu-id="19a30-460">If what you need is “non-integrated” scenario: video assets hosted in Azure Media Services which are either unprotected, or DRM protected but without token authentication (issuing a license toowhoever requesting it), you can test it without login (by switching tooHTTP if your video streaming is over HTTP).</span></span>

<span data-ttu-id="19a30-461">필요한 경우-완벽 한 통합된 시나리오: 비디오 자산 인증 토큰 및 JWT 토큰을 Azure AD에서 생성 되 고 Azure 미디어 서비스에서 동적 DRM 보호 중인 toologin 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-461">If what you need is end-to-end integrated scenario: video assets is under dynamic DRM protection in Azure Media Services, with token authentication and JWT token being generated by Azure AD, you need toologin.</span></span>

### <a name="user-login"></a><span data-ttu-id="19a30-462">사용자 로그인</span><span class="sxs-lookup"><span data-stu-id="19a30-462">User login</span></span>
<span data-ttu-id="19a30-463">순서 tootest hello 종단 간 통합된 DRM 시스템을 toohave "계정" 만들거나 추가 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-463">In order tootest hello end-to-end integrated DRM system, you need toohave an “account” created or added.</span></span>

<span data-ttu-id="19a30-464">계정이란?</span><span class="sxs-lookup"><span data-stu-id="19a30-464">What account?</span></span>

<span data-ttu-id="19a30-465">원래 Microsoft 계정 사용자만 Azure에 액세스할 수 있었으나 이제는 이 두 가지 시스템의 사용자도 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-465">Although Azure originally allowed access only by Microsoft account users, it now allows access by users from both systems.</span></span> <span data-ttu-id="19a30-466">이 작업을 수행 하 여 모든 hello Azure 속성 신뢰 있으면 조직 사용자를 인증 하는 Azure AD 인증을 위해 Azure AD와 페더레이션 관계를 만들어 Azure AD hello Microsoft 계정 소비자 id 시스템을 신뢰 tooauthenticate 소비자 사용자입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-466">This was done by having all hello Azure properties trust Azure AD for authentication, having Azure AD authenticate organizational users, and by creating a federation relationship where Azure AD trusts hello Microsoft account consumer identity system tooauthenticate consumer users.</span></span> <span data-ttu-id="19a30-467">결과적으로, Azure AD는 "기본" Azure AD 계정 뿐 아니라 수 tooauthenticate "게스트" Microsoft 계정입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-467">As a result, Azure AD is able tooauthenticate “guest” Microsoft accounts as well as “native” Azure AD accounts.</span></span>

<span data-ttu-id="19a30-468">Microsoft 계정 (MSA) 도메인을 신뢰 하는 Azure AD, 이후 hello 도메인 toohello 사용자 지정 Azure AD를 다음 중 하나에서 모든 계정 테 넌 트 및 계정 toologin hello를 사용 하 여 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-468">Since Azure AD trusts Microsoft Account (MSA) domain, you can add any accounts from any of hello following domains toohello custom Azure AD tenant and use hello account toologin:</span></span>

| <span data-ttu-id="19a30-469">**도메인 이름**</span><span class="sxs-lookup"><span data-stu-id="19a30-469">**Domain Name**</span></span> | <span data-ttu-id="19a30-470">**도메인**</span><span class="sxs-lookup"><span data-stu-id="19a30-470">**Domain**</span></span> |
| --- | --- |
| <span data-ttu-id="19a30-471">**사용자 지정 Azure AD 테넌트 도메인**</span><span class="sxs-lookup"><span data-stu-id="19a30-471">**Custom Azure AD tenant domain**</span></span> |<span data-ttu-id="19a30-472">somename.onmicrosoft.com</span><span class="sxs-lookup"><span data-stu-id="19a30-472">somename.onmicrosoft.com</span></span> |
| <span data-ttu-id="19a30-473">**회사 도메인**</span><span class="sxs-lookup"><span data-stu-id="19a30-473">**Corporate domain**</span></span> |<span data-ttu-id="19a30-474">microsoft.com</span><span class="sxs-lookup"><span data-stu-id="19a30-474">microsoft.com</span></span> |
| <span data-ttu-id="19a30-475">**Microsoft 계정(MSA) 도메인**</span><span class="sxs-lookup"><span data-stu-id="19a30-475">**Microsoft Account (MSA) domain**</span></span> |<span data-ttu-id="19a30-476">outlook.com, live.com, hotmail.com</span><span class="sxs-lookup"><span data-stu-id="19a30-476">outlook.com, live.com, hotmail.com</span></span> |

<span data-ttu-id="19a30-477">Hello 작성자 toohave 생성 되거나 자동으로 추가 계정 문의할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-477">You may contact any of hello authors toohave an account created or added for you.</span></span>

<span data-ttu-id="19a30-478">다른 도메인 계정을 사용 하는 다른 로그인 페이지의 hello 스크린 샷에 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-478">Below are hello screenshots of different login pages used by different domain accounts.</span></span>

<span data-ttu-id="19a30-479">**사용자 지정 Azure AD에 도메인 계정을 테 넌 트**: hello 사용자 지정 Azure AD 테 넌 트 도메인의 hello 사용자 지정된 로그인 페이지를 참조 하는 경우에 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-479">**Custom Azure AD tenant domain account**: In this case, you see hello customized login page of hello custom Azure AD tenant domain.</span></span>

![사용자 지정 Azure AD 테넌트 도메인 계정](./media/media-services-cenc-with-multidrm-access-control/media-services-ad-tenant-domain1.png)

<span data-ttu-id="19a30-481">**스마트 카드와 Microsoft 도메인 계정을**: Microsoft 회사에서 사용자 지정 하는 hello 로그인 페이지를 참조 하는 경우 2 단계 인증을 가진 IT 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-481">**Microsoft domain account with smart card**: In this case you see hello login page customized by Microsoft corporate IT with two-factor authentication.</span></span>

![사용자 지정 Azure AD 테넌트 도메인 계정](./media/media-services-cenc-with-multidrm-access-control/media-services-ad-tenant-domain2.png)

<span data-ttu-id="19a30-483">**Microsoft 계정 (MSA)**:이 경우 소비자에 대 한 hello Microsoft 계정 로그인 페이지를 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-483">**Microsoft Account (MSA)**: In this case, you see hello login page of Microsoft Account for consumers.</span></span>

![사용자 지정 Azure AD 테넌트 도메인 계정](./media/media-services-cenc-with-multidrm-access-control/media-services-ad-tenant-domain3.png)

### <a name="using-encrypted-media-extensions-for-playready"></a><span data-ttu-id="19a30-485">PlayReady에 암호화된 미디어 확장 사용</span><span class="sxs-lookup"><span data-stu-id="19a30-485">Using Encrypted Media Extensions for PlayReady</span></span>
<span data-ttu-id="19a30-486">최신 브라우저와 암호화 된 미디어 확장 (EME) Windows 10에서는 PlayReady Windows 8.1 IE 11 및 Microsoft Edge 브라우저와 같은 지원 하지 것입니다는 PlayReady에 대 한 기본 DRM EME에 대 한 hello 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-486">On a modern browser with Encrypted Media Extensions (EME) for PlayReady support, such as IE 11 on Windows 8.1 and up, and Microsoft Edge browser on Windows 10, PlayReady will be hello underlying DRM for EME.</span></span>

![PlayReady에 EME 사용](./media/media-services-cenc-with-multidrm-access-control/media-services-eme-for-playready1.png)

<span data-ttu-id="19a30-488">hello 어두운 플레이어 영역이 PlayReady 보호에서 보호 된 비디오의 화면 캡처를 만드는 방지 toohello 사실 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-488">hello dark player area is due toohello fact that PlayReady protection prevents one from making screen capture of protected video.</span></span>

<span data-ttu-id="19a30-489">hello 다음 화면 표시 hello 플레이어 플러그 인 및 MSE/EME 지원 됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-489">hello following screen shows hello player plugins and MSE/EME support.</span></span>

![PlayReady에 EME 사용](./media/media-services-cenc-with-multidrm-access-control/media-services-eme-for-playready2.png)

<span data-ttu-id="19a30-491">Windows 10의 Microsoft Edge 및 IE 11에 있는 EME를 통해 이를 지원하는 Windows 10 장치에서 [PlayReady SL3000](https://www.microsoft.com/playready/features/EnhancedContentProtection.aspx/)을 호출할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-491">EME in Microsoft Edge and IE 11 on Windows 10 allows invoking of [PlayReady SL3000](https://www.microsoft.com/playready/features/EnhancedContentProtection.aspx/) on Windows 10 devices which support it.</span></span> <span data-ttu-id="19a30-492">PlayReady SL3000 향상 된 프리미엄 콘텐츠 hello 흐름의 잠금을 해제 (4k HDR, 등) 및 새로운 콘텐츠 전송 모델 (향상 된 콘텐츠에 대 한 초기 창).</span><span class="sxs-lookup"><span data-stu-id="19a30-492">PlayReady SL3000 unlocks hello flow of enhanced premium content (4K, HDR, etc.) and new content delivery models (early window for Enhanced Content).</span></span>

<span data-ttu-id="19a30-493">Hello Windows 장치에 집중: PlayReady hello HW (PlayReady SL3000) Windows 장치에서 사용할 수에 DRM hello 됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-493">Focus on hello Windows devices: PlayReady is hello only DRM in hello HW available on Windows devices (PlayReady SL3000).</span></span> <span data-ttu-id="19a30-494">스트리밍 서비스는 EME 또는 UWP 응용 프로그램을 통해 PlayReady를 사용하고 PlayReady SL3000을 사용하여 다른 DRM보다 더 높은 화질을 제공할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-494">A streaming service can use PlayReady through EME or through a UWP application and offer a higher video quality using PlayReady SL3000 than another DRM.</span></span> <span data-ttu-id="19a30-495">일반적으로 2k 콘텐츠 Chrome 또는 Firefox를 통해 전달 됩니다 및에 Microsoft 가장자리/IE11 또는 UWP 응용 프로그램을 통해 콘텐츠 K 4 hello 같은 장치 (에 따라 서비스 설정 및 구현)입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-495">Typically, 2K content will flow through Chrome or Firefox, and 4K content through Microsoft Edge/IE11 or a UWP application on hello same device (depending on service settings and implementation).</span></span>

#### <a name="using-eme-for-widevine"></a><span data-ttu-id="19a30-496">Widevine에 EME 사용</span><span class="sxs-lookup"><span data-stu-id="19a30-496">Using EME for Widevine</span></span>
<span data-ttu-id="19a30-497">EME/Widevine 지원을 통해 Windows 10, Windows 8.1, Mac OSX Yosemite 및 Chrome에서 Chrome 41 + 같은 Android 4.4.4에 최신 브라우저에 Google Widevine는 hello EME 뒤 DRM입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-497">On a modern browser with EME/Widevine support, such as Chrome 41+ on Windows 10, Windows 8.1, Mac OSX Yosemite, and Chrome on Android 4.4.4, Google Widevine is hello DRM behind EME.</span></span>

![Widevine에 EME 사용](./media/media-services-cenc-with-multidrm-access-control/media-services-eme-for-widevine1.png)

<span data-ttu-id="19a30-499">Widevine은 보호된 비디오의 화면 캡처 만들기를 차단하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-499">Notice that Widevine does not prevent one from making screen capture of protected video.</span></span>

![Widevine에 EME 사용](./media/media-services-cenc-with-multidrm-access-control/media-services-eme-for-widevine2.png)

### <a name="not-entitled-users"></a><span data-ttu-id="19a30-501">자격이 없는 사용자</span><span class="sxs-lookup"><span data-stu-id="19a30-501">Not entitled users</span></span>
<span data-ttu-id="19a30-502">사용자 "권한을 부여 받은 사용자" 그룹의 멤버인 경우 hello 사용자 수 toopass "권한 검사" 되지 않으며 아래와 같이 hello 다중 DRM 라이선스 서비스 tooissue hello 요청된 라이선스를 거부 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-502">If a user is not a member of "Entitled Users" group, hello user will not be able toopass “entitlement check” and hello multi-DRM license service will refuse tooissue hello requested license as shown below.</span></span> <span data-ttu-id="19a30-503">hello 자세한 설명은입니다 "라이선스 획득 하지 못했습니다", 정상적으로 되 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-503">hello detailed description is “License acquire failed”, which is as designed.</span></span>

![자격이 없는 사용자](./media/media-services-cenc-with-multidrm-access-control/media-services-unentitledusers.png)

### <a name="running-custom-secure-token-service"></a><span data-ttu-id="19a30-505">사용자 지정 보안 토큰 서비스 실행</span><span class="sxs-lookup"><span data-stu-id="19a30-505">Running custom Secure Token Service</span></span>
<span data-ttu-id="19a30-506">사용자 지정 보안 토큰 서비스 (STS)를 실행 중인 hello 시나리오에 대 한는 hello JWT 토큰 대칭 또는 비대칭 키를 사용 하 여 hello 사용자 지정 STS에서 발급 될 됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-506">For hello scenario of running custom Secure Token Service (STS), hello JWT token will be issued by hello custom STS using either symmetric or asymmetric key.</span></span>

<span data-ttu-id="19a30-507">대칭 키 (Chrome 사용)를 사용 하 여 hello 사례:</span><span class="sxs-lookup"><span data-stu-id="19a30-507">hello case of using symmetric key (using Chrome):</span></span>

![사용자 지정 STS 실행](./media/media-services-cenc-with-multidrm-access-control/media-services-running-sts1.png)

<span data-ttu-id="19a30-509">X509 통해 비대칭 키를 사용 하 여 대/소문자 hello 인증서 (Microsoft 최신 브라우저를 사용 하 여).</span><span class="sxs-lookup"><span data-stu-id="19a30-509">hello case of using asymmetric key via an X509 certificate (using Microsoft modern browser).</span></span>

![사용자 지정 STS 실행](./media/media-services-cenc-with-multidrm-access-control/media-services-running-sts2.png)

<span data-ttu-id="19a30-511">경우 위의 hello 모두에서 사용자 인증이 계속 hello 동일 – Azure AD를 통해.</span><span class="sxs-lookup"><span data-stu-id="19a30-511">In both of hello above cases, user authentication stays hello same – through Azure AD.</span></span> <span data-ttu-id="19a30-512">hello 유일한 차이점은 hello Azure AD는 대신 사용자 지정 STS에서 발급 한 JWT 토큰이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-512">hello only difference is that JWT tokens are issued by hello custom STS instead of Azure AD.</span></span> <span data-ttu-id="19a30-513">물론, 동적 CENC 보호를 구성할 때 라이선스 배달 서비스의 hello 제한이 hello 유형을 지정 JWT 토큰에 대칭 키나 비대칭 키입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-513">Of course, when configuring dynamic CENC protection, hello restriction of license delivery service specifies hello type of JWT token, either symmetric or asymmetric key.</span></span>

## <a name="summary"></a><span data-ttu-id="19a30-514">요약</span><span class="sxs-lookup"><span data-stu-id="19a30-514">Summary</span></span>
<span data-ttu-id="19a30-515">이 문서에서는 다중 원시 DRM 및 토큰 인증을 통한 액세스 제어가 포함된 CENC와 Azure, Azure 미디어 서비스 및 Azure 미디어 플레이어를 사용한 디자인 및 구현에 대해 설명했습니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-515">In this document, we discussed CENC with multi-native-DRM and access control via token authentication: its design and its implementation using Azure, Azure Media Services and Azure Media Player.</span></span>

* <span data-ttu-id="19a30-516">참조 디자인; DRM/CENC 하위 시스템의 모든 hello 필요한 구성 요소를 포함 하 게 제공 됩니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-516">A reference design is presented which contains all hello necessary components in a DRM/CENC subsystem;</span></span>
* <span data-ttu-id="19a30-517">Azure, Azure 미디어 서비스 및 Azure 미디어 플레이어에 대한 참조 구현입니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-517">A reference implementation on Azure, Azure Media Services and Azure Media Player.</span></span>
* <span data-ttu-id="19a30-518">Hello 디자인 및 구현에 직접 관련 된 일부 항목 에서도 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="19a30-518">Some topics directly involved in hello design and implementation are also discussed.</span></span>

## <a name="media-services-learning-paths"></a><span data-ttu-id="19a30-519">미디어 서비스 학습 경로</span><span class="sxs-lookup"><span data-stu-id="19a30-519">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a><span data-ttu-id="19a30-520">피드백 제공</span><span class="sxs-lookup"><span data-stu-id="19a30-520">Provide feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]
 
